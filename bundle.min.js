/*! For license information please see bundle.min.js.LICENSE.txt */
!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=122)}([function(e,t,i){"use strict";var s=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),n=0;for(t=0;t<i;t++)for(var a=arguments[t],r=0,o=a.length;r<o;r++,n++)s[n]=a[r];return s};Object.defineProperty(t,"__esModule",{value:!0}),t.initAndroidStore=t.checkCleanUpBtn=t.getPlatformStorage=t.setPlatformStorage=t.playSoundOnce=t.sendAppEventVk=t.sendSocialEvent=t.farmBalance=t.createTaskZone=t.remainderSellResource=t.loadingModal=t.autoporgressCollectorTime=t.nextDayTimer=t.getStatusSettings=t.getEventRaiting=t.spreadAnimals=t.loadingScreen=t.takeDonate=t.getNewbieAward=t.checkStorage=t.socialButtons=t.onlineStatus=t.pickUpTaskReward=t.donePart=t.exchange=t.convertMoney=t.convertDiamonds=t.logout=t.romanize=t.payAndroid=t.payYandex=t.payVK=t.payOdnoklassniki=t.payRobokassa=t.shortTime=t.timer=t.shortNum=t.randomString=t.getRandomBool=t.random=t.yandexAuth=t.openConvertorForClan=t.createСleanButton=void 0;var n=i(2),a=i(22),r=i(38),o=i(14),c=i(6),h=i(9),l=i(20),d=i(3),u=i(5),p=i(16),f=i(1),m=i(8),g=i(10);function y(e,t){return Math.round(Math.random()*(t-e)+e)}function v(e){void 0===e&&(e=5);for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i="";i.length<e;)i+=t[Math.floor(Math.random()*t.length)];return i}function w(e){var t=this.state.farm.toLowerCase();return this.state[t+"Settings"].partSettings[this.state["user"+this.state.farm].part-1].exchange*e}function b(e){var t=this.state.farm.toLowerCase(),i=this.state[t+"Settings"].partSettings[this.state["user"+this.state.farm].part-1].exchange;return Math.ceil(e/i)}function x(e){var t=this.state[this.state.farm.toLowerCase()+"Tasks"].find((function(t){return t.id===e}));t&&0!==t.done&&1!==t.awardTaken&&("diamond"===t.awardType?(this.state.user.diamonds+=t.award,this.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"task_award",count:t.award})):this.state.userSheep.money+=t.award,t.awardTaken=1,this.autosave())}function k(e){var t=0,i=0,s=0,n=0,a=0,r=0,o=!1,c=!1,h=!1,l=this.state[e.toLowerCase()],d=this.state[e.toLowerCase()+"Settings"][e.toLowerCase()+"Settings"],u=function(e){var s,n=l[e];s=0===n.type?1:n.type;var a=d.find((function(e){return e.breed===s}));i+=a.eating,t+=a.drinking};for(var p in l)u(p);for(var f=0,m=this.state[e.toLowerCase()+"Territories"];f<m.length;f++){var g=m[f];if(2===g.type||3===g.type){var y=this.state[e.toLowerCase()+"Settings"].partSettings[g.improve-1].territory.regeneration;2===g.type?n+=y:s+=y}}return a=s>0?Math.round((s-t)/(s/100)):-100,r=n>0?Math.round((n-i)/(n/100)):-100,(n<i||s<t)&&(n<i&&(c=!0,r=i/2>n?100:Math.round((i-n)/(n/100))),s<t&&(h=!0,a=t/2>s?100:Math.round((t-s)/(s/100))),o=!0),a>100&&(a=100),a<0&&(a=0),r>100&&(r=100),r<0&&(r=0),{alarm:o,waterPercent:a,grassPercent:r,grassConsumption:i,waterConsumption:t,grassRecovery:n,waterRecovery:s,notEnoughGrass:c,notEnoughWater:h}}function T(e,t,i){var s=this,n={sheep5:"Я уже на "+i+" главе овечей фермы! Что же будет дальше?",chicken5:"Я уже на "+i+" главе куриной фермы! Что же будет дальше?",cow5:"Я уже на "+i+" главе коровьей фермы! Что же будет дальше?",chicken2:"Я уже на куриной ферме! Что же будет дальше?",cow3:"Я уже на коровьей ферме! Что же будет дальше?",sheep4:"Мной было захвачено "+i+" овечек на овечьем переполохе! Сможешь больше?",chicken4:"Мной было захвачено "+i+" курочек на курином переполохе! Сможешь больше?",cow4:"Мной было захвачено "+i+" коровок на коровьем переполохе! Сможешь больше?",basic:"Присоединяйтесь ко мне в игре “Просто ферма”"},o=e.farm.toLowerCase(),c=e.farm.toUpperCase();if("vk"===e.platform&&1!==t){var h={PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}["VK_"+c+"_BANNER_"+t];r.default.send("VKWebAppShowWallPostBox",{message:n[o+t],attachments:h+",https://vk.com/ferma.games#wp"}).then((function(e){e.post_id&&s.state.amplitude.logAmplitudeEvent("wall_post",{})}))}if("ok"===e.platform&&1!==t){h={PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}["OK_"+c+"_BANNER_"+t];a.FAPI.UI.postMediatopic({media:[{type:"text",text:n[o+t]},{type:"link",noImage:!0,imageUrl:h,url:"https://ok.ru/game/prostoferma#wp"}]},!1)}}function _(e,t,i){if("vk"===e.platform){var s={id:e.user.id,hash:e.user.hash,counter:e.user.counter,activityId:t,value:i};n.default.post("https://ferma.games:4000/appEventVk",s).then((function(e){}))}}t.random=y,t.getRandomBool=function(){return Boolean(Math.round(Math.random()))},t.randomString=v,t.shortNum=function(e){if("number"==typeof e&&(e=Number(e.toFixed(0))),e=String(e),h.default.lessThan(e,"9999"))return e;for(var t=0,i=e.slice(1,3),s=e;h.default.greaterThanOrEqual(e,"10");)e=h.default.divide(String(e),"10"),t+=1;var n=t%3;s=s.slice(n+1,n+2);var a=(t-n)/3,r=void 0;if(a>=5){for(var o=97,c=97;a>5;)(c+=1)>122&&(o+=1,c=97),a-=1;r=String.fromCharCode(o)+String.fromCharCode(c)}else switch(a){case 0:r="";break;case 1:r="K";break;case 2:r="M";break;case 3:r="B";break;case 4:r="T"}var l=void 0;switch(n){case 0:l=String(e)+"."+String(s);break;case 1:l=String(e)+i[0]+"."+String(s);break;case 2:l=String(e)+i+"."+String(s)}return l+r.toUpperCase()},t.shortTime=function(e,t){var i,s="00",n="00",a=!1,r=!1,o=!1;return 0===e?i="00:00":e>604800?(a=!0,s=Math.floor(e/604800),n=Math.floor(e%604800/86400)):e>86400?(r=!0,s=Math.floor(e/86400),n=Math.floor(e%86400/3600)):e>3600?(o=!0,s=Math.floor(e/3600),n=Math.floor(e%3600/60)):e>60?(s=Math.floor(e/60),n=Math.floor(e%60)):(s="00",n=e),a?i=s+t.shortWheek+" "+n+t.shortDays:r?i=s+t.shortDays+" "+n+t.shortHours:o?i=s+t.shortHours+" "+n+t.shortMinutes:(String(n).length<2&&(n="0"+String(n)),i=s+" : "+n),String(i)},t.timer=function(e){var t,i,s;return e>3600?(t=Math.floor(e/3600),i=Math.floor(e%3600/60),s=Math.floor(e%60)):e>60?(t="",i=Math.floor(e/60),s=Math.floor(e%60)):(t="",i="00",s=e),t=String(t),i=String(i),s=String(s),0!==t.length&&(t+=":"),1===i.length&&(i="0"+i),1===s.length&&(s="0"+s),t+i+":"+s},t.payRobokassa=function(e,t){var i={id:t.user.id,packageId:e};n.default.post("https://ferma.games:4000/addOrder",i).then((function(e){if(!0===e.data.error)window.location.reload();else{for(var t in e.data){if("error"!==t)document.querySelector('input[name="'+t+'"]').value=e.data[t]}document.querySelector("#robokassa").submit()}}))},t.payOdnoklassniki=function(e){var t=this,i={id:this.state.user.id,packageId:e};n.default.post("https://ferma.games:4000/addOrderOk",i).then((function(i){if(!1===i.data.error){var s=t.state.packages.find((function(t){return t.id===e}));s&&(t.state.payDiamonds=s.diamonds+s.bonus,t.state.payId=i.data.orderId,t.state.payPrice=s.price,a.FAPI.UI.showPayment(t.state.payDiamonds+" "+t.state.lang.diamonds,t.state.lang.okPayDescr,i.data.orderId,s.price,null,null,"ok","true"))}}))},t.payVK=function(e){this.state.packages.find((function(t){return t.id===e}))&&r.default.send("VKWebAppShowOrderBox",{type:"item",item:String(e)})},t.payYandex=function(e){var t=this;this.state.packages.find((function(t){return t.id===e}))&&this.state.ysdk.getPlayer().then((function(){t.state.ysdk.getPayments({signed:!0}).then((function(i){i.purchase({id:String(e)}).then((function(i){n.default.post("https://ferma.games:4000/addOrderYa",{signature:i.signature,userId:t.state.user.id,packageId:e}).then((function(e){e.data.error||t.game.scene.keys[t.state.farm].autosave()}))}))})).catch((function(e){console.log(e)}))})).catch((function(){t.game.scene.keys[t.state.farm].yandexAuth()}))},t.yandexAuth=function(){var e=this;return this.state.ysdk.auth.openAuthDialog().then((function(){e.state.ysdk.getPlayer().then((function(t){e.state.yaPlayer=t,e.state.name=t.getName(),""===e.state.name&&(e.state.name="yandex_"+e.state.user.id.substr(0,4)),e.state.yandexName=e.name,e.state.avatar=t.getPhoto("large"),n.default.post("https://ferma.games:4000/authYa",{id:e.state.user.id,hash:e.state.user.hash,counter:e.state.user.counter,yaId:t.getUniqueID()}).then((function(t){var i=t.data,s=i.founded;if(!i.error&&s){e.state.modal={type:1,sysType:20},e.scene.launch("Modal",e.state)}}))}))})).catch((function(t){var i={type:1,sysType:3,height:150,message:e.state.lang.authorizationRequired};e.state.modal=i,e.scene.launch("Modal",e.state)}))},t.payAndroid=function(e){window.store.order("package_"+e)},t.romanize=function(e){for(var t=String(+e).split(""),i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],s="",n=3;n--;)s=(i[+t.pop()+10*n]||"")+s;return Array(+t.join("")+1).join("M")+s},t.logout=function(){this.scene.isActive("Modal")&&this.scene.stop("Modal"),this.scene.isActive("Shop")&&this.scene.stop("Shop"),this.scene.isActive("ShopBars")&&this.scene.stop("ShopBars"),this.scene.isActive("Tutorial")&&this.scene.stop("Tutorial"),this.scene.isActive("Profile")&&this.scene.stop("Profile"),this.scene.isActive("Fortune")&&this.scene.stop("Fortune"),this.scene.isActive("ClanFarm")&&this.scene.stop("ClanFarm"),this.scene.isActive("ClanScroll")&&this.scene.stop("ClanScroll"),this.scene.isActive("Chat")&&this.scene.stop("Chat"),this.scene.isActive(this.state.farm)&&this.scene.stop(this.state.farm),this.scene.isActive(this.state.farm+"Bars")&&this.scene.stop(this.state.farm+"Bars"),this.state.modal={type:1,sysType:8},this.scene.launch("Modal",this.state)},t.convertDiamonds=function(e){if(f.default.checkTestB(this.state))return w.bind(this)(e);var t=this.state.farm.toLowerCase(),i=this.state[t+"Settings"][t+"Parts"],s=this.state["user"+this.state.farm].part;return i.find((function(e){return e.sort===s})).exchange*e},t.convertMoney=function(e){if(f.default.checkTestB(this.state))return b.bind(this)(e);var t=this.state.farm.toLowerCase(),i=this.state[t+"Settings"][t+"Parts"],s=this.state["user"+this.state.farm].part,n=i.find((function(e){return e.sort===s})).exchange;return Math.ceil(e/n)},t.exchange=function(e){var t,i,s=this;if(void 0===e&&(e=!1),"Sheep"===this.state.farm?(t=this.state.userSheep,i=function(){return s.buySheep(s.state.convertor.breed)}):"Chicken"===this.state.farm?(t=this.state.userChicken,i=function(){return s.buyChicken(s.state.convertor.breed)}):"Cow"===this.state.farm&&(t=this.state.userCow,i=function(){return s.buyCow(s.state.convertor.breed)}),this.state.convertor.diamonds>this.state.user.diamonds){var n=this.state.convertor.diamonds-this.state.user.diamonds;this.time.addEvent({delay:100,callback:function(){s.state.convertor.type=2,s.state.convertor.count=n;s.state.modal={type:1,sysType:4},s.scene.launch("Modal",s.state)},callbackScope:this,loop:!1})}else{this.state.user.diamonds-=this.state.convertor.diamonds;var a=this.convertDiamonds(this.state.convertor.diamonds),r=this.convertDiamonds(2*this.state.convertor.diamonds);f.default.checkSale(this.state,this.state.farm.toUpperCase()+"_MONEY")?(t.money+=r,this.tryTask(m.TaskType.EXCHANGE_DIAMOND,0,r)):(t.money+=a,this.tryTask(m.TaskType.EXCHANGE_DIAMOND,0,a)),this.game.scene.keys[this.state.farm].tryClanTask(10,0,this.state.convertor.diamonds),this.game.scene.keys[this.state.farm].achievement.tryId(39),this.scene.isActive("ClanFarm")?l.default.create(this.game.scene.keys.ClanFarm,this.state.farm.toLowerCase()+"Coin",{x:this.game.scene.keys.ClanFarm.cameras.main.centerX,y:this.game.scene.keys.ClanFarm.cameras.main.centerY}):this.scene.isActive("Profile")?l.default.create(this.game.scene.keys.Profile,this.state.farm.toLowerCase()+"Coin",{x:this.game.scene.keys.Profile.cameras.main.centerX,y:this.game.scene.keys.Profile.cameras.main.centerY}):l.default.create(this.game.scene.keys[this.state.farm+"Bars"]),e||(this.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"convertor",count:this.state.convertor.diamonds}),this.tryTask(15,0,this.state.convertor.diamonds)),1===this.state.convertor.fun?i():2===this.state.convertor.fun||(3===this.state.convertor.fun?this.improveTerritory():4===this.state.convertor.fun?this.exchangeTerritory():5===this.state.convertor.fun||(6===this.state.convertor.fun?this.buyTerritory():8===this.state.convertor.fun&&this.improveCollector())),this.autosave()}},t.donePart=function(){var e,t=this;"Sheep"===this.state.farm?(e=this.state.userSheep,this.state.sheepSettings.sheepParts):"Chicken"===this.state.farm?(e=this.state.userChicken,this.state.chickenSettings.chickenParts):"Cow"===this.state.farm&&(e=this.state.userCow,this.state.cowSettings.cowParts),"Sheep"===this.state.farm&&this.caveTutor&&(this.caveTutor=!this.caveTutor),e.part++,this.state.progress[this.state.farm.toLowerCase()].part=e.part,this.deleteTerritoriesLocks(),this.game.scene.keys[this.state.farm+"Bars"].setCurrentPartProgress(),this.state.amplitude.logAmplitudeEvent("chapter_done",{chapter:e.part-1}),this.autosave(),this.state.user.level+=1,(e.part/4^0)==e.part/4&&T(this.state,5,e.part),_(this.state,1,this.state.userSheep.part+this.state.userChicken.part+this.state.userCow.part),this.time.addEvent({delay:100,callback:function(){t.checkDoneTasks(),t.tryClanTask(17)},callbackScope:this,loop:!1}),"android"===this.state.platform&&"Chicken"===this.state.farm&&2===e.part&&(this.state.modal={type:24},this.scene.launch("Modal",this.state));var i=this.state.user.additionalTutorial,s=i.cave,n=i.herdBoost,a=i.feedBoost,r=this.state.farm,o="Sheep"===r&&(3===e.part&&!s||4===e.part||5===e.part&&!n||6===e.part&&!a),c="Cow"===r&&2===e.part;this.time.addEvent({delay:300,callback:function(){o||c||f.default.checkActiveScenes(t,["Modal","Tutorial","Profile"])||t.showTasks()},callbackScope:this,loop:!1}),7===e.part&&"Sheep"===r&&f.default.checkUserHasName(this.state)?this.state.clanTutor=!0:8===e.part&&"Sheep"===r&&f.default.checkUserHasName(this.state)&&(this.state.fortuneTutor=!0,this.state.fortuneTutorialWin=!0),"Sheep"===this.state.farm&&(this.state.badBalanceWindowShown=!1)},t.pickUpTaskReward=function(e){if(f.default.checkTestB(this.state))return x.bind(this)(String(e));var t=[];"Sheep"===this.state.farm?t=this.state.sheepTasks:"Chicken"===this.state.farm?t=this.state.chickenTasks:"Cow"===this.state.farm&&(t=this.state.cowTasks);var i=t.find((function(t){return t.id===e}));if(1===(null==i?void 0:i.done)&&0===(null==i?void 0:i.got_awarded)){if("Sheep"===this.state.farm){var s=this.moneyTasks.find((function(e){return e.id===i.id}));s?this.state.userSheep.money+=s.money:this.state.user.diamonds+=i.diamonds}else this.state.user.diamonds+=i.diamonds;this.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"task_award",count:i.diamonds}),this.autosave(),this.state.user.xp+=i.xp,i.got_awarded=1}},t.onlineStatus=function(){},t.socialButtons=function(){var e,t;this.state.online&&this.offline.visible?this.offline.setVisible(!1):this.state.online||this.offline.visible||(this.offline.setVisible(!0),this.sendwichTimer=250,1===(null===(e=this.state.modal)||void 0===e?void 0:e.type)&&7===(null===(t=this.state.modal)||void 0===t?void 0:t.sysType)&&this.scene.isActive("Modal")&&(this.scene.stop("Modal"),this.game.scene.keys[this.state.farm].scrolling.wheel=!0))},t.checkStorage=function(e){u.default.get("user")&&JSON.parse(u.default.get("user")).hash!==e&&(u.default.clear(),console.log("clear localStorage"))},t.getNewbieAward=function(){for(var e=this,t=function(t){if(0===t&&i.state.dailyAwards[t]&&"Sheep"===i.state.farm){i.state.dailyAwards[t]=!1,i.state.userSheep.money+=i.convertDiamonds(10),l.default.create(i.game.scene.keys.SheepBars);var s=i.state.lang.dailyNewbieHint0.replace("$1",String(i.convertDiamonds(10)));return o.default.create(i.game.scene.keys[i.state.farm+"Bars"],-250,s,2),"break"}if(1===t&&i.state.dailyAwards[t]&&"Sheep"===i.state.farm){i.state.dailyAwards[t]=!1;var n=0;s=i.state.lang.dailyNewbieHint1;o.default.create(i.game.scene.keys[i.state.farm+"Bars"],-250,s,2);var a=i.time.addEvent({delay:100,callback:function(){n++;var t=y(270,690),i=y(510,690),s="local_"+v(18);e.getSheep(s,0,t,i,0,500),e.tryTask(18,0),e.tryClanTask(8),n>=5&&a.remove(!1)},callbackScope:i,loop:!0});return"break"}if(2===t&&i.state.dailyAwards[t]&&"Sheep"===i.state.farm){i.state.dailyAwards[t]=!1;var r=i.state.userSheep.fair+1,h=0;s=i.state.lang.dailyNewbieHint2.replace("$1",String(r));o.default.create(i.game.scene.keys[i.state.farm+"Bars"],-250,s,2);var d=i.time.addEvent({delay:100,callback:function(){h++;var t=y(270,690),i=y(510,690),s="local_"+v(18);e.getSheep(s,r,t,i,0,500),c.default.create(e,{x:t,y:i},1),e.tryTask(2,0),e.tryTask(2,r),e.tryTask(4,r),e.tryClanTask(5),h>=3&&d.remove(!1)},callbackScope:i,loop:!0});return"break"}if(3===t&&i.state.dailyAwards[t]&&"Sheep"===i.state.farm)return i.state.dailyAwards[t]=!1,i.scene.isActive("Modal")&&i.scene.stop("Modal"),i.scene.isActive("Tutorial")&&i.scene.stop("Tutorial"),i.scene.isActive("Shop")&&i.scene.stop("Shop"),i.scene.isActive("ShopBars")&&i.scene.stop("ShopBars"),i.scene.isActive("Profile")&&i.scene.stop("Profile"),i.scene.stop("Sheep"),i.scene.stop("SheepBars"),i.scene.start("ChickenPreload",i.state),i.state.amplitude.logAmplitudeEvent("get_new_farm",{type:"daily",farm_id:"Chicken"}),"break";if(4===t&&i.state.dailyAwards[t]&&"Sheep"===i.state.farm){s=i.state.lang.dailyNewbieHint4;return i.game.scene.keys[i.state.farm+"Bars"].hint=(i.game.scene.keys.SheepBars,2),i.state.dailyAwards[t]=!1,i.state.userSheep.collector+=10800,i.state.userSheep.collectorTakenTime=i.state.userSheep.collector,i.game.scene.keys[i.state.farm+"Bars"].collector.update(),i.tryTask(3,0,10800),i.tryClanTask(7,0,10800),"break"}if(5===t&&i.state.dailyAwards[t]&&"Chicken"===i.state.farm){var u=i.state.userChicken.fair+1,p=0;s=i.state.lang.dailyNewbieHint5.replace("$1",String(u));o.default.create(i.game.scene.keys[i.state.farm+"Bars"],-250,s,2);var f=i.time.addEvent({delay:100,callback:function(){p++;var t=y(270,690),i=y(510,690),s="local_"+v(18);e.getChicken(s,u,t,i,0,500),c.default.create(e,{x:t,y:i},1),e.tryTask(2,0),e.tryTask(2,u),e.tryTask(4,u),e.tryClanTask(5),p>=3&&f.remove(!1)},callbackScope:i,loop:!0});return i.state.dailyAwards[t]=!1,"break"}if(6===t&&i.state.dailyAwards[t]&&"Chicken"===i.state.farm){s=i.state.lang.dailyNewbieHint6;return o.default.create(i.game.scene.keys[i.state.farm+"Bars"],-250,s,2),i.state.dailyAwards[t]=!1,i.state.userChicken.collector+=10800,i.state.userChicken.collectorTakenTime=i.state.userChicken.collector,i.game.scene.keys[i.state.farm+"Bars"].collector.update(),i.tryTask(3,0,10800),i.tryClanTask(7,0,10800),"break"}if(7===t&&i.state.dailyAwards[t]&&"Sheep"===i.state.farm){s=i.state.lang.dailyNewbieHint7;o.default.create(i.game.scene.keys[i.state.farm+"Bars"],-250,s,2);var m=0,g=i.time.addEvent({delay:100,callback:function(){m++;var t=y(270,690),i=y(510,690),s="local_"+v(18);e.getSheep(s,0,t,i,0,500),e.tryTask(18,0),e.tryClanTask(8),m>=10&&g.remove(!1)},callbackScope:i,loop:!0});return i.state.dailyAwards[t]=!1,"break"}},i=this,s=0;s<this.state.dailyAwards.length;s++){if("break"===t(s))break}},t.takeDonate=function(){var e=this,t={id:this.state.user.id,hash:this.state.user.hash,counter:this.state.user.counter};n.default.post("https://ferma.games:4000/getDonate",t).then((function(t){if(t.data.error)e.logout();else if(t.data.donate>0){e.state.stock="",e.state.starterpack&&(e.state.stock="starterpack");var i=e.state.packages.find((function(e){return e.id===t.data.package}));e.state.user.diamonds+=t.data.donate,e.state.user.starterpack=!0;var s={chapter:"Unicorn"===e.state.farm?""+e.state.farm:e.state.farm+"_"+e.state["user"+e.state.farm].part,stock:e.state.stock};e.state.amplitude.logAmplitudeRevenue("Product #"+t.data.package,i.price,"",s),l.default.create(e.game.scene.keys[e.state.farm+"Bars"],"diamond"),e.autosave()}}))},t.loadingScreen=function(e){for(var t=this.state.lang.loading,i=[],s=0;s<13;s++)i.push(this.state.lang["helpGeneral_"+String(s+1)]);if("Sheep"===e)for(s=0;s<7;s++)i.push(this.state.lang["helpSheep_"+String(s+1)]);else if("Chicken"===e)for(s=0;s<7;s++)i.push(this.state.lang["helpChicken_"+String(s+1)]);else if("Unicorn"===e)for(s=0;s<4;s++)i.push(this.state.lang["helpEvent_"+String(s+1)]);else if("Cow"===e)for(s=0;s<7;s++)i.push(this.state.lang["helpCow_"+String(s+1)]);var n=this.add.text(this.cameras.main.centerX,this.cameras.main.centerY+90,i[y(0,i.length-1)],{font:"26px Bip",color:"#925C28",align:"center",wordWrap:{width:440}}).setOrigin(.5,.5).setDepth(4),a=n.height/2+10,r=220+n.height/3,o=this.add.text(this.cameras.main.centerX,this.cameras.main.centerY+11-a,"0%",{font:"37px Shadow",color:"#1F5B06"}).setDepth(1).setOrigin(.5,.5),c=this.add.sprite(this.cameras.main.centerX,this.cameras.main.centerY-Math.floor(r/2),"header-syst").setOrigin(.5,1).setDepth(2),h=this.add.tileSprite(this.cameras.main.centerX,c.getBottomCenter().y-12,614,r+2,"mid-syst").setOrigin(.5,0),l=this.add.sprite(this.cameras.main.centerX-1,h.getBottomCenter().y,"bottom-syst").setOrigin(.5,0);this.add.text(this.cameras.main.centerX,c.getCenter().y-6,t,{font:"37px Shadow",color:"#F9D48D"}).setDepth(3).setOrigin(.5),this.add.sprite(120,this.cameras.main.centerY+20-a,"pb-empty-corner"),this.add.sprite(600,this.cameras.main.centerY+20-a,"pb-empty-corner").setScale(-1,1),this.add.tileSprite(this.cameras.main.centerX,this.cameras.main.centerY+20-a,436,130,"pb-empty-mid");var d=this.add.sprite(120,this.cameras.main.centerY+20-a,"pb-full-corner").setAlpha(0),u=this.add.sprite(600,this.cameras.main.centerY+20-a,"pb-full-corner").setFlip(!0,!1).setAlpha(0),p=this.add.tileSprite(142,this.cameras.main.centerY+20-a,0,130,"pb-full-mid").setVisible(!1).setOrigin(0,.5);this.load.on("progress",(function(e){var t=Math.round(100*e);if(p.active){if(t>=5&&0===(null==d?void 0:d.alpha)&&(null==d||d.setAlpha(1)),t>=95&&0===(null==u?void 0:u.alpha)&&(null==p||p.setDisplaySize(436,130),null==u||u.setAlpha(1)),t>5&&t<95){var i=Math.round(t*(420/90));null==p||p.setDisplaySize(i,130).setVisible(!0)}null==o||o.setText(t+"%")}})),this.add.text(l.getBottomRight().x-50,l.getBottomRight().y-38,"v"+this.state.build,{font:"18px Shadow",color:"#929DB5"}).setOrigin(1)},t.loadingModal=function(){var e,t,i=this;this.load.on("start",(function(){i.scene.launch("Block"),e=i.add.sprite(i.cameras.main.centerX,i.cameras.main.centerY,"loading-spinner"),t=i.tweens.add({targets:e,rotation:2*Math.PI,duration:700,repeat:-1})})),this.load.on("complete",(function(){i.scene.stop("Block"),null==t||t.remove(),null==e||e.destroy()}))},t.spreadAnimals=function(){if(!f.default.checkTestB(this.state)){for(var e="Cow"===this.state.farm?"animalGroup":this.state.farm.toLowerCase(),t=!1,i=[],s=[],n=!1,a=0,r=this.territories.children.entries;a<r.length;a++){var o=r[a];2!==o.territoryType&&3!==o.territoryType||i.push({_id:o._id,block:o.block,position:o.position,count:[],x:o.x+o.width/2,y:o.y+o.height/2})}if(this[e]){var c=function(t){var s=h[e].children.entries[t],n=h.currentTerritory(s.x,s.y);n&&(n=i.find((function(e){return e._id===n._id})))&&n.count.push(h[e].children.entries[t])},h=this;for(var l in this[e].children.entries)c(l)}i.sort((function(e,t){return e.block>t.block?-1:e.block<t.block?1:0}));var d=function(s){if(0===i[s].count.length&&i[s].block-1>=2){var a=i.find((function(e){return e.block===i[s].block-1&&e.position===i[s].position}));if(a&&a.count.length>=2&&a.count.every((function(e){return!e.spread}))&&void 0!==a.count.find((function(e){return!e.aim}))&&(n=a.count.find((function(e){return!e.aim})),u[e].children.entries.every((function(e){return!e.spread})))){n.spread=!0;var r=Phaser.Math.Between(i[s].x-10,i[s].x+10),o=Phaser.Math.Between(i[s].y-10,i[s].y+10);"Cow"===u.state.farm?n.setAim(r,o):u.aim(n,r,o),t=!0}}},u=this;for(var l in i)d(l);if(!t){i.sort((function(e,t){return e.count.length>t.count.length?-1:e.count.length<t.count.length?1:0}));var p=function(e){if(i[e].count.every((function(e){return!e.spread}))){if(n=i[e].count.find((function(e){return!e.aim})),s=[],i[e].block+1>=3){var t=i.find((function(t){return t.block===i[e].block+1&&t.position===i[e].position}));if(t&&0===t.count.length&&n&&!n.spread){n.spread=!0;var a=Phaser.Math.Between(t.x-10,t.x+10),r=Phaser.Math.Between(t.y-10,t.y+10);return"Cow"===m.state.farm?n.setAim(a,r):m.aim(n,a,r),"break"}t&&s.push(t)}if(n&&!n.spread){if(i[e].position+1<=3){var o=i.find((function(t){return t.position===i[e].position+1&&t.block===i[e].block}));o&&s.push(o)}if(i[e].position-1>=1){var c=i.find((function(t){return t.position===i[e].position-1&&t.block===i[e].block}));c&&s.push(c)}if(i[e].block-1>=2){var h=i.find((function(t){return t.block===i[e].block-1&&t.position===i[e].position}));h&&s.push(h)}if(s.sort((function(e,t){return e.count.length<t.count.length?-1:e.count.length>t.count.length?1:0})),n&&0!==s.length&&i[e].count.length>s[0].count.length+1){n.spread=!0;a=Phaser.Math.Between(s[0].x-10,s[0].x+10),r=Phaser.Math.Between(s[0].y-10,s[0].y+10);return"Cow"===m.state.farm?n.setAim(a,r):m.aim(n,a,r),"break"}}}},m=this;for(var l in i){if("break"===p(l))break}}}},t.getEventRaiting=function(){var e;e="web"!==this.state.platform&&"gd"!==this.state.platform?this.state.name:this.state.user.login;var t=this.state.userUnicorn.points;this.state.socket.io.emit("setUnicornRating",{name:e,userId:this.state.user.id,points:t})},t.getStatusSettings=function(e){if(e&&this.state.lang[e+"Status"])return{textColor:"#459D1A",text:f.default.ucFirst(this.state.lang[e+"Status"]),iconTexture:e+"-status",iconVisible:!0}},t.nextDayTimer=function(){var e=this;this.state.timeToNewDay>0?--this.state.timeToNewDay:(this.state.timeToNewDay=86400,this.state.userSheep.takenHerdBoost=0,this.state.userChicken.takenHerdBoost=0,this.state.userCow.takenHerdBoost=0,this.state.user.takenFreeDiamonds=!1,this.state.user.takenSocialAward=!1,this.state.userSheep.herdBoostAd=!0,this.state.userSheep.feedBoostAd=!0,this.state.userChicken.herdBoostAd=!0,this.state.userChicken.feedBoostAd=!0,this.state.userCow.herdBoostAd=!0,this.state.userCow.feedBoostAd=!0,this.state.user.takeFreeDiamondTime=0,this.state.user.clanId&&(this.state.user.clanTasks=p.getNewClanTasks(this.state),this.scene.stop("Modal"),this.scene.launch("Modal",this.state)),n.default.post("https://ferma.games:4000/newDay",{id:this.state.user.id,hash:this.state.user.hash,counter:this.state.user.counter}).then((function(t){t.data.error||e.state.user.takenReward&&(e.state.daily++,e.game.scene.keys[e.state.farm+"Bars"].calendarText.setText(String(Number(e.state.daily))),e.state.user.takenReward=!1)})))},t.autoporgressCollectorTime=function(){this.state.progress.sheep.collector>=this.state.offlineTime?this.state.progress.sheep.collector-=this.state.offlineTime:this.state.progress.sheep.collector=0,this.state.progress.chicken.collector>=this.state.offlineTime?this.state.progress.chicken.collector-=this.state.offlineTime:this.state.progress.chicken.collector=0,this.state.progress.cow.collector>=this.state.offlineTime?this.state.progress.cow.collector-=this.state.offlineTime:this.state.progress.cow.collector=0},t.remainderSellResource=function(){if(this.state["user"+this.state.farm].part<=9&&(this.remaindSellTimer++,this.remaindSellTimer>=30)){for(var e=this.territories.children.entries.filter((function(e){return 5===e.territoryType})),t=!1,i=function(i){var n=s.state.sheepSettings.territoriesSheepSettings.find((function(t){return t.improve===e[i].improve}));if(e[i].volume>=.6*n.storage)return t=!0,"break"},s=this,n=0;n<e.length;n++){if("break"===i(n))break}!t||this.scene.isActive("Modal")||this.scene.isActive("Tutorial")||this.scene.isActive("Profile")||(d.default.create(this.game.scene.keys[this.state.farm+"Bars"],this.state.lang["help"+this.state.farm+"_1"],3),this.remaindSellTimer=0)}},t.createTaskZone=function(){var e=this;this.taskZone=this.add.zone(80,75,160,150).setDepth(1).setDropZone(void 0,(function(){})),this.click(this.taskZone,(function(){e.game.scene.keys[e.state.farm].showTasks()}))},t.farmBalance=function(e){if(f.default.checkTestB(this.state))return k.bind(this)(e);var t=0,i=0,s=0,n=0,a=0,r=0,o=!1,c=!1,h=!1,l=this.state[e.toLowerCase()],d=this.state[e.toLowerCase()+"Settings"][e.toLowerCase()+"Settings"],u=function(e){var s,n=l[e];s=0===n.type?1:n.type;var a=d.find((function(e){return e.breed===s}));i+=a.eating,t+=a.drinking};for(var p in l)u(p);i=Math.round(i/2),t=Math.round(t/2);var m=this.state[e.toLowerCase()+"Territories"],g=this.state[e.toLowerCase()+"Settings"]["territories"+e+"Settings"],y=function(e){var t=m[e];if(2===t.type||3===t.type){var i=g.find((function(e){return e.improve===t.improve})).regeneration;2===t.type?n+=i:s+=i}};for(var p in m)y(p);return a=s>0?Math.round((s-t)/(s/100)):-100,r=n>0?Math.round((n-i)/(n/100)):-100,(n<i||s<t)&&(n<i&&(c=!0,r=i/2>n?100:Math.round((i-n)/(n/100))),s<t&&(h=!0,a=t/2>s?100:Math.round((t-s)/(s/100))),o=!0),a>100&&(a=100),a<0&&(a=0),r>100&&(r=100),r<0&&(r=0),{alarm:o,waterPercent:a,grassPercent:r,grassConsumption:i,waterConsumption:t,grassRecovery:n,waterRecovery:s,notEnoughGrass:c,notEnoughWater:h}},t.sendSocialEvent=T,t.sendAppEventVk=_,t.playSoundOnce=function(e){this.game.scene.keys.Preload.readySounds&&this.sound.add(e,{volume:this.state.soundVolume,loop:!1}).play()},t.setPlatformStorage=function(e,t){var i,s=JSON.stringify(t);switch(this.state.platform){case"vk":r.default.send("VKWebAppStorageSet",{key:e,value:s});break;case"ok":a.FAPI.Client.call({method:"storage.set",key:e,value:s});break;case"ya":var n={};n[e]=s,null===(i=this.state.yaPlayer)||void 0===i||i.setData(n,!0).then((function(e){}));break;default:u.default.set(e,s)}},t.getPlatformStorage=function(e){var t=this,i=function(e){try{JSON.parse(e)}catch(e){return!1}return!0};return new Promise((function(s,n){var o;switch(t.state.platform){case"vk":r.default.send("VKWebAppStorageGet",{keys:[e]}).then((function(e){var t,a=null===(t=e.keys[0])||void 0===t?void 0:t.value;i(a)&&s(JSON.parse(a)),n(!1)}));break;case"ok":a.FAPI.Client.call({method:"storage.get",keys:[e]},(function(t,a){var r=a.data[e];i(r)&&s(JSON.parse(r)),n(!1)}));break;case"ya":null===(o=t.state.yaPlayer)||void 0===o||o.getData().then((function(t){var a=t[e];i(a)&&s(JSON.parse(a)),n(!1)})).catch((function(e){return console.log(e)}));break;default:var c=u.default.get(e);i(c)&&s(JSON.parse(c)),n(!1)}}))},t.openConvertorForClan=function(){this.state.openConvertor&&(this.state.openConvertor=!1,this.scene.launch("ClanFarm",this.state),this.state.modal={type:2,shopType:2},this.scene.launch("Modal",this.state))},t.createСleanButton=function(){var e=this;e.checkCleanUpBtn()&&(e.cleanUpBtn=e.add.sprite(e.cameras.main.width-42,185,"btn-clean"),e.clickButton(e.cleanUpBtn,(function(){e.state.modal={type:1,sysType:24,confirmSpendParams:{type:"CleanUp",price:1,callback:function(){var t,i;"Sheep"===e.state.farm?((i=e.game.scene.keys[e.state.farm]).sheep.children.iterate((function(e){e&&i.collectWool(e,!0,!1)})),i.territories.children.iterate((function(e){2===e.territoryType||3===e.territoryType?e.volume=1e3:5===e.territoryType&&(i.state.territory=e,i.sellWool(),i.state.territory=null)})),i.freeCollector()):"Chicken"===e.state.farm?function(){var t=e.game.scene.keys.Chicken;s(t.eggs.children.entries).forEach((function(e){e&&t.collectEgg(e,!0,!1)})),t.territories.children.iterate((function(e){2===e.territoryType||3===e.territoryType?e.volume=1e3:5===e.territoryType&&(t.state.territory=e,t.sellEggs(),t.state.territory=null)})),t.freeCollector()}():"Cow"===e.state.farm&&function(){var t=e.game.scene.keys.Cow;t.animalGroup.children.iterate((function(e){e&&t.collectMilk(e,!0,!1)})),t.territories.children.iterate((function(e){2===e.territoryType||3===e.territoryType?e.volume=1e3:8===e.territoryType&&e.factory.sellProducts()})),t.freeCollector()}(),null===(t=e.cleanUpBtn)||void 0===t||t.destroy(),e.game.scene.keys[e.state.farm].tryTask(15,1),e.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"cleaning",count:1})}}},e.scene.launch("Modal",e.state)})))},t.checkCleanUpBtn=function(){var e=this.state["user"+this.state.farm],t=!1;if("Sheep"===this.state.farm){var i=this.game.scene.keys[this.state.farm];i.territories.children.iterate((function(e){if(5===e.territoryType){var s=i.state.sheepSettings.territoriesSheepSettings.find((function(t){return e.improve===t.improve}));t=Math.round(s.storage/2)<e.volume}}))}else if("Chicken"===this.state.farm){var s=this.game.scene.keys[this.state.farm];s.territories.children.iterate((function(e){if(5===e.territoryType){var i=s.state.chickenSettings.territoriesChickenSettings.find((function(t){return e.improve===t.improve}));t=Math.round(i.storage/2)<e.volume}}))}else if("Cow"===this.state.farm){var n=this.game.scene.keys[this.state.farm].territories.children.entries.find((function(e){return 8===e.territoryType}));t=n&&n.factory.money>0}return e.collector<=0&&t&&this.state.userSheep.part>8},t.initAndroidStore=function(){var e=this,t=g.general.packages,i=window.store;if(i){for(var s=0,a=t;s<a.length;s++){var r=a[s];i.register({id:String(r.id),alias:"package_"+r.id,price:r.price,type:i.CONSUMABLE})}for(var o=function(t){i.when("package_"+t.id).approved((function(e){e.verify()})).verified((function(i){n.default.post("https://ferma.games:4000/callbackPayAndroid",{id:e.state.user.id,hash:e.state.user.hash,counter:e.state.user.counter,pack:i}).then((function(i){if(!i.data.error){try{e.state.adjust.shopPurchaseEvent.setRevenue(t.price,"RUB"),window.Adjust.trackEvent(e.state.adjust.shopPurchaseEvent)}catch(e){console.log("ADJUST",e)}e.game.scene.keys[e.state.farm].autosave()}})),i.finish()}))},c=0,h=t;c<h.length;c++){o(r=h[c])}i.error((function(e){console.log("ERROR "+e.code+": "+e.message)})),i.applicationUsername=function(){return e.state.user.id},i.refresh()}else console.log("Store not available")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){}return e.createZoneGraphics=function(e,t,i){var s=t.input.hitArea,n=s.height,a=s.width,r=t.x,o=t.y,c=e.add.graphics();c.lineStyle(5,i),c.strokeRect(r-a/2,o-n/2,a,n)},e.ucFirst=function(e){return e?e[0].toUpperCase()+e.slice(1).toLowerCase():e},e.getUserName=function(t){var i=t.user.login;return e.checkHasNamePlatform(t.platform)&&(i=t.name),i},e.checkUserHasName=function(t){var i=t.user.login;return e.checkHasNamePlatform(t.platform)&&(i=t.name),""!==i||t.yaPlayer&&"ya"===t.platform},e.checkActiveScenes=function(e,t){for(var i=0,s=t;i<s.length;i++){var n=s[i];if(e.scene.isActive(n)||e.scene.get(n).load.isLoading())return!0}return!1},e.checkHasNamePlatform=function(e){return"ya"===e||"vk"===e||"ok"===e},e.checkSocialPlatform=function(e){return"vk"===e||"ok"===e},e.checkHasAvatarPlatform=function(e){return"ya"===e||"vk"===e||"ok"===e||"android"===e},e.checkSale=function(e,t){return e.sales&&e.sales.some((function(e){return e.type===t&&e.startTime<=0&&e.endTime>0}))&&e.userSheep.part>4},e.checkStarterpack=function(e){var t,i,s,n;return!e.user.starterpack&&e.userSheep.tutorial>=100&&((null===(t=e.userSheep)||void 0===t?void 0:t.part)>4||(null===(i=e.userChicken)||void 0===i?void 0:i.part)>=1||(null===(s=e.userUnicorn)||void 0===s?void 0:s.points)>=1||(null===(n=e.userCow)||void 0===n?void 0:n.part)>=1)},e.checkTestB=function(e){return e&&"B"===e.user.test},e.checkAndroidEngPlatform=function(e){var t=e.platform,i=e.lang;return"android"===t&&"en"===i.index},e}();t.default=s},function(e,t,i){e.exports=i(128)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i){void 0===i&&(i=1),this.x=80,this.y=360,this.width=380,this.triangleCoords={point1X:380,point1Y:40,point2X:380,point2Y:10,point3X:420,point3Y:20},this.text=t,this.type=i,this.scene=e,this.init()}return e.create=function(t,i,s){var n=t.game.scene.getScene(t.state.farm+"Bars"),a=t.game.scene.getScene(""+t.state.farm);n.activeBubble&&n.activeBubble.active&&n.activeBubble.type!==s&&n.activeBubble.destroy(),a.activeBubble&&a.activeBubble.active&&a.activeBubble.type!==s&&a.activeBubble.destroy(),n.activeBubble&&n.activeBubble.active||a.activeBubble&&a.activeBubble.active||(t.activeBubble=new e(t,i,s))},e.prototype.init=function(){this.active=!0,this.bubble=this.scene.add.graphics({x:this.x,y:this.y}).setDepth(this.y+240),this.bubbleBg=this.scene.add.graphics(),this.bubbleText=this.scene.add.text(0,0,this.text,{font:"24px Bip",color:"#823431",align:"left",wordWrap:{width:this.width-20}}).setDepth(this.y+240),this.bubbleFarmer=this.scene.add.image(0,0,"farmer").setScale(.5).setVisible(!1),this.setPosition(),this.drawGraphics(),this.setAnim()},e.prototype.setPosition=function(){var e=this.bubbleText.getBounds().height+40;2===this.type&&(this.y=220,this.x=260,this.triangleCoords.point1X=0,this.triangleCoords.point2X=0,this.triangleCoords.point3X=-40),3===this.type&&(this.y=165,this.x=165,this.triangleCoords.point1Y=e/2-15,this.triangleCoords.point2Y=e/2+15,this.triangleCoords.point3Y=e/2+25,this.bubbleFarmer.setPosition(this.scene.cameras.main.width-20,this.y+this.triangleCoords.point2Y).setOrigin(1,.5).setVisible(!0)),4===this.type&&(this.y=150,this.x=300,this.triangleCoords.point1Y=-15,this.triangleCoords.point2Y=0,this.triangleCoords.point3Y=0,this.triangleCoords.point1X=80,this.triangleCoords.point2X=65,this.triangleCoords.point3X=95),5===this.type&&(this.y=150,this.x=170,this.triangleCoords.point1Y=-15,this.triangleCoords.point2Y=0,this.triangleCoords.point3Y=0,this.triangleCoords.point1X=80,this.triangleCoords.point2X=65,this.triangleCoords.point3X=95),this.bubble.setPosition(this.x,this.y),this.bubbleText.setPosition(this.x+20,this.bubble.y+20)},e.prototype.drawGraphics=function(){var e=this.bubbleText.getBounds().height+40;this.bubble.fillStyle(16777215,1),this.bubble.fillRoundedRect(0,0,this.width,e,16),this.bubble.fillTriangle(this.triangleCoords.point1X,this.triangleCoords.point1Y,this.triangleCoords.point2X,this.triangleCoords.point2Y,this.triangleCoords.point3X,this.triangleCoords.point3Y),3===this.type&&this.bubbleBg.fillStyle(0,.5).fillRoundedRect(this.bubble.x-20,this.bubble.y-20,this.width+this.bubbleFarmer.displayWidth+60,e+60,16)},e.prototype.setAnim=function(){var e=this,t=this.scene.tweens.add({targets:[this.bubble,this.bubbleText,this.bubbleFarmer,this.bubbleBg],delay:4e3,duration:1e3,alpha:0,ease:"Power1",onComplete:function(){t.remove(),e.destroy()}})},e.prototype.destroy=function(){var e,t,i,s;null===(e=this.bubble)||void 0===e||e.destroy(),null===(t=this.bubbleText)||void 0===t||t.destroy(),null===(i=this.bubbleFarmer)||void 0===i||i.destroy(),null===(s=this.bubbleBg)||void 0===s||s.destroy(),this.active=!1},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clickButtonClanUp=t.doubleClick=t.clickTerritory=t.clickBoostBtn=t.clickShopBtn=t.clickButtonUp=t.clickModalBtn=t.click=t.clickButton=void 0,t.clickShopBtn=function(e,t){var i=this,s=e.btn,n=e.title,a=e.img;s.setInteractive(),s.on("pointerdown",(function(){var e,t;(null===(e=i.game.scene.keys[i.state.farm])||void 0===e?void 0:e.scene.isActive())&&(i.game.scene.keys[i.state.farm].scrolling.enabled=!1,i.game.scene.keys[i.state.farm].scrolling.downHandler()),s.press=!0,s.increase=!1;var r=0,o=16777215,c=i.time.addEvent({delay:5,callback:function(){o-=2236962,s.setTint(o),n.setTint(o),a&&a.setTint(o),++r>=3&&c.remove(!1)},callbackScope:i,loop:!0});null===(t=i.game.scene.keys[i.state.farm])||void 0===t||t.playSoundOnce("click-sound")})),s.on("pointerout",(function(){if(s.press){s.press=!1,s.increase=!0;var e=0,t=10066329,r=i.time.addEvent({delay:10,callback:function(){t+=2236962,s.setTint(t),n.setTint(t),a&&a.setTint(t),++e>=3&&r.remove(!1)},callbackScope:i,loop:!0})}})),s.on("pointerup",(function(){var e,r;if(s.press){s.press=!1,s.increase=!0;var o=0,c=10066329,h=i.time.addEvent({delay:10,callback:function(){c+=2236962,s.setTint(c),n.setTint(c),a&&a.setTint(c),++o>=3&&h.remove(!1)},callbackScope:i,loop:!0});(null===(e=i.game.scene.keys[i.state.farm])||void 0===e?void 0:e.scene.isActive())&&(i.game.scene.keys[i.state.farm].scrolling.enabled=!0),t()}else(null===(r=i.game.scene.keys[i.state.farm])||void 0===r?void 0:r.scene.isActive())&&(i.game.scene.keys[i.state.farm].scrolling.enabled=!0)}))},t.clickBoostBtn=function(e,t){var i=this,s=e.btn,n=e.left,a=e.leftLitle,r=e.right,o=e.icon;s.setInteractive(),s.on("pointerdown",(function(){var e;i.game.scene.keys[i.state.farm].scrolling.enabled=!1,i.game.scene.keys[i.state.farm].scrolling.downHandler(),s.press=!0,s.increase=!1;var t=0,c=16777215,h=i.time.addEvent({delay:5,callback:function(){c-=2236962,s.setTint(c),n.setTint(c),a.setTint(c),r.setTint(c),o&&o.setTint(c),++t>=3&&h.remove(!1)},callbackScope:i,loop:!0});null===(e=i.game.scene.keys[i.state.farm])||void 0===e||e.playSoundOnce("click-sound")})),s.on("pointerout",(function(){if(s.press){s.press=!1,s.increase=!0;var e=0,t=10066329,c=i.time.addEvent({delay:10,callback:function(){t+=2236962,s.setTint(t),n.setTint(t),a.setTint(t),r.setTint(t),o&&o.setTint(t),++e>=3&&c.remove(!1)},callbackScope:i,loop:!0})}})),s.on("pointerup",(function(){if(s.press){s.press=!1,s.increase=!0;var e=0,c=10066329,h=i.time.addEvent({delay:10,callback:function(){c+=2236962,s.setTint(c),n.setTint(c),a.setTint(c),r.setTint(c),o&&o.setTint(c),++e>=3&&h.remove(!1)},callbackScope:i,loop:!0});i.game.scene.keys[i.state.farm].scrolling.enabled=!0,t()}else i.game.scene.keys[i.state.farm].scrolling.enabled=!0}))},t.clickTerritory=function(e,t){e.setInteractive();var i=0;e.on("pointerdown",(function(){e.press=!0})),e.on("pointermove",(function(){e.press&&i++})),e.on("pointerout",(function(){e.press&&(i=0,e.press=!1)})),e.on("pointerup",(function(){e.press&&i<5?(e.press=!1,t()):e.press&&(e.press=!1),i=0}))},t.clickModalBtn=function(e,t){var i=this,s=e.btn,n=e.title,a=e.text1,r=e.text2,o=e.img1,c=e.img2;s.setInteractive(),s.on("pointerdown",(function(){var e;i.game.scene.keys[i.state.farm]&&(i.game.scene.keys[i.state.farm].scrolling.enabled=!1,i.game.scene.keys[i.state.farm].scrolling.downHandler()),s.press=!0,s.increase=!1;var t=0,h=16777215,l=i.time.addEvent({delay:5,callback:function(){h-=2236962,s.setTint(h),n.setTint(h),void 0!==a&&a.setTint(h),void 0!==r&&r.setTint(h),void 0!==o&&o.setTint(h),void 0!==c&&c.setTint(h),++t>=3&&l.remove(!1)},callbackScope:i,loop:!0});null===(e=i.game.scene.keys[i.state.farm])||void 0===e||e.playSoundOnce("click-sound")})),s.on("pointerout",(function(){if(s.press){s.press=!1,s.increase=!0;var e=0,t=10066329,h=i.time.addEvent({delay:10,callback:function(){t+=2236962,s.setTint(t),n.setTint(t),void 0!==a&&a.setTint(t),void 0!==r&&r.setTint(t),void 0!==o&&o.setTint(t),void 0!==c&&c.setTint(t),++e>=3&&h.remove(!1)},callbackScope:i,loop:!0})}})),s.on("pointerup",(function(){if(s.press){s.press=!1,s.increase=!0;var e=0,h=10066329,l=i.time.addEvent({delay:10,callback:function(){h+=2236962,s.setTint(h),n.setTint(h),void 0!==a&&a.setTint(h),void 0!==r&&r.setTint(h),void 0!==o&&o.setTint(h),void 0!==c&&c.setTint(h),++e>=3&&l.remove(!1)},callbackScope:i,loop:!0});i.game.scene.keys[i.state.farm]&&(i.game.scene.keys[i.state.farm].scrolling.enabled=!0),t()}else i.game.scene.keys[i.state.farm]&&(i.game.scene.keys[i.state.farm].scrolling.enabled=!0)}))},t.clickButtonUp=function(e,t,i,s){var n=this;void 0===i&&(i=!1),void 0===s&&(s=!1),e.setInteractive(),e.up=0,e.on("pointerdown",(function(){var t;n.game.scene.keys[n.state.farm].scrolling.enabled=!1,n.game.scene.keys[n.state.farm].scrolling.downHandler(),e.press=!0,e.increase=!1;var a=n.time.addEvent({delay:5,callback:function(){e.up<7&&!e.increase&&(e.up++,e.setY(e.y+=1),i&&i.setY(i.y+=1),s&&s.setY(s.y+=1)),e.up>=7&&a.remove(!1)},callbackScope:n,loop:!0});null===(t=n.game.scene.keys[n.state.farm])||void 0===t||t.playSoundOnce("click-sound")})),e.on("pointerout",(function(){if(e.press){e.press=!1,e.increase=!0;var t=n.time.addEvent({delay:10,callback:function(){e.up>0&&e.increase&&(e.up--,e.setY(e.y-=1),i&&i.setY(i.y-=1),s&&s.setY(s.y-=1)),e.up<=0&&t.remove(!1)},callbackScope:n,loop:!0})}})),e.on("pointerup",(function(){if(e.press){e.press=!1,e.increase=!0;var a=n.time.addEvent({delay:10,callback:function(){e.up>0&&e.increase&&(e.up--,e.setY(e.y-=1),i&&i.setY(i.y-=1),s&&s.setY(s.y-=1)),e.up<=0&&a.remove(!1)},callbackScope:n,loop:!0});n.game.scene.keys[n.state.farm].scrolling.enabled=!0,t()}else n.game.scene.keys[n.state.farm].scrolling.enabled=!0}))},t.clickButtonClanUp=function(e,t,i){var s=this;e.setInteractive(),e.up=0,e.on("pointerdown",(function(){var t;s.game.scene.keys[s.state.farm].scrolling.enabled=!1,s.game.scene.keys[s.state.farm].scrolling.downHandler(),e.press=!0,e.increase=!1;var n=s.time.addEvent({delay:5,callback:function(){e.up<7&&!e.increase&&(e.up++,e.setY(e.y+=1),i.forEach((function(e){e.y+=1}))),e.up>=7&&n.remove(!1)},callbackScope:s,loop:!0});null===(t=s.game.scene.keys[s.state.farm])||void 0===t||t.playSoundOnce("click-sound")})),e.on("pointerout",(function(){if(e.press){e.press=!1,e.increase=!0;var t=s.time.addEvent({delay:10,callback:function(){e.up>0&&e.increase&&(e.up--,e.setY(e.y-=1),i.forEach((function(e){e.y-=1}))),e.up<=0&&t.remove(!1)},callbackScope:s,loop:!0})}})),e.on("pointerup",(function(){if(e.press){e.press=!1,e.increase=!0;var n=s.time.addEvent({delay:10,callback:function(){e.up>0&&e.increase&&(e.up--,e.setY(e.y-=1),i.forEach((function(e){e.y-=1}))),e.up<=0&&n.remove(!1)},callbackScope:s,loop:!0});s.game.scene.keys[s.state.farm].scrolling.enabled=!0,t()}else s.game.scene.keys[s.state.farm].scrolling.enabled=!0}))},t.doubleClick=function(e,t,i){var s=this;void 0===i&&(i=3),e.setInteractive();var n=0,a=0;e.on("pointerdown",(function(){e.xDown=e.x,e.yDown=e.y,e.press=!0})),e.on("pointermove",(function(){e.press&&n++})),e.on("pointerout",(function(){e.press&&(n=0,e.press=!1)})),e.on("pointerup",(function(){var r,o;r=e.xDown>=e.x?e.xDown-e.x:e.x-e.xDown,o=e.yDown>=e.y?e.yDown-e.y:e.y-e.yDown,e.press&&n<i&&r<5&&o<5?(e.press=!1,a++,s.time.addEvent({delay:400,callback:function(){a=0},callbackScope:s,loop:!1}),a>=2&&t()):e.press&&(e.press=!1),n=0}))},t.click=function(e,t){e.setInteractive(),e.on("pointerdown",(function(){e.xDown=e.x,e.yDown=e.y,e.press=!0})),e.on("pointerout",(function(){e.press&&(e.press=!1)})),e.on("pointerup",(function(){var i,s;i=e.xDown>=e.x?e.xDown-e.x:e.x-e.xDown,s=e.yDown>=e.y?e.yDown-e.y:e.y-e.yDown,e.press&&i<5&&s<5?(e.press=!1,t()):e.press&&(e.press=!1)}))},t.clickButton=function(e,t){var i=this;e.setInteractive(),e.on("pointerdown",(function(){var t;i.game.scene.keys[i.state.farm].scrolling.enabled=!1,i.game.scene.keys[i.state.farm].scrolling.downHandler(),e.press=!0,e.increase=!1;var s=0,n=i.time.addEvent({delay:5,callback:function(){if(e.scale>.8&&!e.increase){var t=e.scale-.1;e.scale=Number(t.toFixed(2))}++s>=2&&n.remove(!1)},callbackScope:i,loop:!0});null===(t=i.game.scene.keys[i.state.farm])||void 0===t||t.playSoundOnce("click-sound")})),e.on("pointerout",(function(){if(e.press){e.press=!1,e.increase=!0;var t=i.time.addEvent({delay:10,callback:function(){if(e.scale<1&&e.increase){var i=e.scale+.05;e.scale=Number(i.toFixed(2))}e.scale>=1&&t.remove(!1)},callbackScope:i,loop:!0})}})),e.on("pointerup",(function(){if(e.press){e.press=!1,e.increase=!0;var s=i.time.addEvent({delay:10,callback:function(){if(e.scale<1&&e.increase){var t=e.scale+.05;e.scale=Number(t.toFixed(2))}e.scale>=1&&s.remove(!1)},callbackScope:i,loop:!0});i.game.scene.keys[i.state.farm].scrolling.enabled=!0,t()}else i.game.scene.keys[i.state.farm].scrolling.enabled=!0}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){}return e.get=function(e){try{return(null===window||void 0===window?void 0:window.localStorage.getItem(e))||""}catch(e){return console.log(e),""}},e.set=function(e,t){try{null===window||void 0===window||window.localStorage.setItem(e,t)}catch(e){console.log(e)}},e.clear=function(){try{null===window||void 0===window||window.localStorage.clear(),console.log("clear")}catch(e){console.log(e)}},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i){void 0===i&&(i=1),this.scene=e,this.position=t,this.count=i,this.fireworks=this.scene.add.group(),this.init()}return e.create=function(t,i,s){return new e(t,i,s)},e.prototype.init=function(){var e=this;1===this.count?this.animation():3===this.count?(this.animation(),this.scene.time.addEvent({delay:100,callback:function(){e.position={x:e.position.x+50,y:e.position.y-50},e.animation()},callbackScope:this}),this.scene.time.addEvent({delay:200,callback:function(){e.position={x:e.position.x-100,y:e.position.y},e.animation()},callbackScope:this})):5===this.count&&(this.animation(),this.scene.time.addEvent({delay:100,callback:function(){e.position={x:e.position.x+70,y:e.position.y-70},e.animation()},callbackScope:this}),this.scene.time.addEvent({delay:200,callback:function(){e.position={x:e.position.x-140,y:e.position.y},e.animation()},callbackScope:this}),this.scene.time.addEvent({delay:300,callback:function(){e.position={x:e.position.x,y:e.position.y+140},e.animation()},callbackScope:this}),this.scene.time.addEvent({delay:400,callback:function(){e.position={x:e.position.x+140,y:e.position.y},e.animation()},callbackScope:this})),this.scene.time.addEvent({delay:2e3,callback:this.destroy,callbackScope:this})},e.prototype.destroy=function(){this.spriteBg.destroy(),this.fireworks.destroy(!0)},e.prototype.animation=function(){this.spriteBg=this.scene.add.sprite(this.position.x,this.position.y,"fireworkBg").setScale(0).setDepth(9999);var e={value:{from:0,to:1},duration:200,ease:"Power3"},t={value:0,duration:200,delay:150,ease:"Power1"};this.scene.tweens.add({delay:0,targets:this.firework.setAngle(180),props:{y:{value:this.position.y+Phaser.Math.Between(90,130),duration:400,ease:"Power1",yoyo:!0},scale:e,alpha:t}}),this.scene.tweens.add({delay:10,targets:this.firework.setAngle(135),props:{y:{value:this.position.y+Phaser.Math.Between(50,130),duration:400,ease:"Power1",yoyo:!0},x:{value:this.position.x+Phaser.Math.Between(50,130),duration:400,ease:"Power1",yoyo:!0},scale:e,alpha:t}}),this.scene.tweens.add({delay:20,targets:this.firework.setAngle(90),props:{x:{value:this.position.x+Phaser.Math.Between(90,130),duration:400,ease:"Power1",yoyo:!0},scale:e,alpha:t}}),this.scene.tweens.add({delay:30,targets:this.firework.setAngle(45),props:{x:{value:this.position.x+Phaser.Math.Between(50,130),duration:400,ease:"Power1",yoyo:!0},y:{value:this.position.y-Phaser.Math.Between(50,130),duration:400,ease:"Power1",yoyo:!0},scale:e,alpha:t}}),this.scene.tweens.add({delay:40,targets:this.firework.setAngle(0),props:{y:{value:this.position.y-Phaser.Math.Between(90,130),duration:400,ease:"Power1",yoyo:!0},scale:e,alpha:t}}),this.scene.tweens.add({delay:50,targets:this.firework.setAngle(-45),props:{y:{value:this.position.y-Phaser.Math.Between(50,130),duration:400,ease:"Power1",yoyo:!0},x:{value:this.position.x-Phaser.Math.Between(50,130),duration:400,ease:"Power1",yoyo:!0},scale:e,alpha:t}}),this.scene.tweens.add({delay:60,targets:this.firework.setAngle(-90),props:{x:{value:this.position.x-Phaser.Math.Between(90,130),duration:400,ease:"Power1",yoyo:!0},scale:e,alpha:t}}),this.scene.tweens.add({delay:70,targets:this.firework.setAngle(-135),props:{y:{value:this.position.y+Phaser.Math.Between(50,130),duration:400,ease:"Power1",yoyo:!0},x:{value:this.position.x-Phaser.Math.Between(50,130),duration:400,ease:"Power1",yoyo:!0},scale:e,alpha:t}}),this.scene.tweens.add({targets:this.spriteBg,props:{scale:{value:1.5,duration:300,ease:"Power3"},alpha:{value:0,delay:200,duration:150}}});var i=this.scene;i.game.scene.getScene(i.state.farm).playSoundOnce("firework-sound")},Object.defineProperty(e.prototype,"firework",{get:function(){var e=Phaser.Math.Between(1,3),t=this.scene.add.sprite(this.position.x,this.position.y,"firework"+e).setScale(0).setDepth(1e4);return this.fireworks.add(t),t},enumerable:!1,configurable:!0}),e}();t.default=s},function(e,t,i){"use strict";var s=i(77),n=Object.prototype.toString;function a(e){return"[object Array]"===n.call(e)}function r(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function h(e){return"[object Function]"===n.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var i=0,s=e.length;i<s;i++)t.call(null,e[i],i,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===n.call(e)},isBuffer:function(e){return null!==e&&!r(e)&&null!==e.constructor&&!r(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:c,isUndefined:r,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:h,isStream:function(e){return o(e)&&h(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function i(i,s){c(t[s])&&c(i)?t[s]=e(t[s],i):c(i)?t[s]=e({},i):a(i)?t[s]=i.slice():t[s]=i}for(var s=0,n=arguments.length;s<n;s++)l(arguments[s],i);return t},extend:function(e,t,i){return l(t,(function(t,n){e[n]=i&&"function"==typeof t?s(t,i):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,i){"use strict";var s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.TerritoryType=t.TaskType=void 0,function(e){e[e.BUY_ANIMAL=1]="BUY_ANIMAL",e[e.MERGE_ANIMAL=2]="MERGE_ANIMAL",e[e.TAKE_COLLECTOR=3]="TAKE_COLLECTOR",e[e.GET_ANIMAL=4]="GET_ANIMAL",e[e.BUY_TERRITORY=5]="BUY_TERRITORY",e[e.COLLECT_MONEY=6]="COLLECT_MONEY",e[e.IMPROVE_FAIR=7]="IMPROVE_FAIR",e[e.IMPROVE_PASTURE=8]="IMPROVE_PASTURE",e[e.IMPROVE_WATER=9]="IMPROVE_WATER",e[e.SAVE_PROGRESS=10]="SAVE_PROGRESS",e[e.HAND_COLLECT=11]="HAND_COLLECT",e[e.CREATE_CLAN=12]="CREATE_CLAN",e[e.ANIMAL_ON_FARM=14]="ANIMAL_ON_FARM",e[e.SPEND_DIAMONDS=15]="SPEND_DIAMONDS",e[e.ADD_EMAIL=16]="ADD_EMAIL",e[e.IMPROVE_REPOSITORY=17]="IMPROVE_REPOSITORY",e[e.TAKE_DIAMOND_ANIMAL=18]="TAKE_DIAMOND_ANIMAL",e[e.COLLECT_DIAMONDS_FROM_ANIMAL=19]="COLLECT_DIAMONDS_FROM_ANIMAL",e[e.SELL_RESOURCE=20]="SELL_RESOURCE",e[e.TAKE_FEED_BOOST=21]="TAKE_FEED_BOOST",e[e.TAKE_HERD_BOOST=22]="TAKE_HERD_BOOST",e[e.IMPROVE_COLLECTOR=23]="IMPROVE_COLLECTOR",e[e.IMPROVE_FACTORY=24]="IMPROVE_FACTORY",e[e.TAKE_ANIMAL_FROM_HERD=25]="TAKE_ANIMAL_FROM_HERD",e[e.SAVE_MILK=26]="SAVE_MILK",e[e.IMPROVE_ALL_TERRITORY=27]="IMPROVE_ALL_TERRITORY",e[e.EXCHANGE_DIAMOND=28]="EXCHANGE_DIAMOND",e[e.IMPROVE_SPEED_COLLECTOR=29]="IMPROVE_SPEED_COLLECTOR"}(s||(s={})),t.TaskType=s,function(e){e[e.BOUGHT=1]="BOUGHT",e[e.PASTURE=2]="PASTURE",e[e.WATER=3]="WATER",e[e.REPOSITORY=5]="REPOSITORY",e[e.FACTORY=8]="FACTORY"}(n||(n={})),t.TerritoryType=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(156),n=function(){function e(){}return e.add=function(e,t){return String(s.add(s.BigInt(e),s.BigInt(t)))},e.subtract=function(e,t){return String(s.subtract(s.BigInt(e),s.BigInt(t)))},e.multiply=function(e,t){return String(s.multiply(s.BigInt(e),s.BigInt(t)))},e.divide=function(e,t){return String(s.divide(s.BigInt(e),s.BigInt(t)))},e.exponentiate=function(e,t){return String(s.exponentiate(s.BigInt(e),s.BigInt(t)))},e.remainder=function(e,t){return String(s.remainder(s.BigInt(e),s.BigInt(t)))},e.equal=function(e,t){return s.equal(s.BigInt(e),s.BigInt(t))},e.notEqual=function(e,t){return s.notEqual(s.BigInt(e),s.BigInt(t))},e.lessThan=function(e,t){return s.lessThan(s.BigInt(e),s.BigInt(t))},e.lessThanOrEqual=function(e,t){return s.lessThanOrEqual(s.BigInt(e),s.BigInt(t))},e.greaterThan=function(e,t){return s.greaterThan(s.BigInt(e),s.BigInt(t))},e.greaterThanOrEqual=function(e,t){return s.greaterThanOrEqual(s.BigInt(e),s.BigInt(t))},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CREATE_CLAN_COST=t.CHANGE_CLAN_NAME_COST=t.CHANGE_EMBLEM_COST=t.improveClanFarm=t.clanTournamentSettings=t.unicornSettings=t.cowSettings=t.chickenSettings=t.sheepSettings=t.general=void 0;t.general={autoSaveSpeed:15,maxMerginTime:30,herdBoostSpeedAnimal:150,herdBoostTime:20,herdBoostPrice:20,herdBoostDelay:300,packages:[{id:1,active:!0,price:75,voices:11,diamonds:225,bonus:25,stock:10,top:!1,dollars:.99},{id:2,active:!0,price:200,voices:29,diamonds:600,bonus:150,stock:20,top:!1,dollars:2.59},{id:3,active:!0,price:500,voices:72,diamonds:1500,bonus:500,stock:25,top:!0,dollars:6.59},{id:4,active:!0,price:1500,voices:215,diamonds:4900,bonus:2600,stock:40,top:!1,dollars:18.99},{id:5,active:!0,price:37,voices:5,diamonds:225,bonus:25,stock:20,top:!1,dollars:.49},{id:6,active:!0,price:100,voices:14,diamonds:600,bonus:150,stock:40,top:!1,dollars:1.39},{id:7,active:!0,price:250,voices:36,diamonds:1500,bonus:500,stock:50,top:!0,dollars:3.29},{id:8,active:!0,price:750,voices:107,diamonds:4900,bonus:2600,stock:80,top:!1,dollars:9.99},{id:9,active:!0,price:75,voices:11,diamonds:450,bonus:50,stock:20,top:!1,dollars:.99},{id:10,active:!0,price:200,voices:29,diamonds:1200,bonus:300,stock:40,top:!1,dollars:2.59},{id:11,active:!0,price:500,voices:72,diamonds:3e3,bonus:1e3,stock:50,top:!0,dollars:6.59},{id:12,active:!0,price:1500,voices:215,diamonds:9800,bonus:5200,stock:80,top:!1,dollars:18.99}]};t.sheepSettings={buyBetterBreedSheep:2,feedBoostPrice:20,sheepBadPercent:30,sheepDiamondsTime:14400,sheepPrice:100,"doubledСollectorPrice":25,collectorPrice4:85,collectorPrice12:220,unlockCollector4:5,unlockCollector12:8,sheepFairLevels:[{level:1,price_m:0,price_d:0,part_unlock:1},{level:2,price_m:5e3,price_d:0,part_unlock:2},{level:3,price_m:25e3,price_d:0,part_unlock:4},{level:4,price_m:15e4,price_d:0,part_unlock:7},{level:5,price_m:8e5,price_d:0,part_unlock:9},{level:6,price_m:4e6,price_d:0,part_unlock:10},{level:7,price_m:12e6,price_d:0,part_unlock:11},{level:8,price_m:276e5,price_d:0,part_unlock:12},{level:9,price_m:624e5,price_d:0,part_unlock:13},{level:10,price_m:14e7,price_d:0,part_unlock:14},{level:11,price_m:309e6,price_d:0,part_unlock:15},{level:12,price_m:68e7,price_d:0,part_unlock:16}],sheepParts:[{sort:1,award:0,improve_territory_2:1e3,improve_territory_3:3e3,improve_territory_4:6e3,exchange:1e3},{sort:2,award:0,improve_territory_2:7e3,improve_territory_3:13e3,improve_territory_4:26e3,exchange:1900},{sort:3,award:0,improve_territory_2:17e3,improve_territory_3:33500,improve_territory_4:66500,exchange:3700},{sort:4,award:0,improve_territory_2:27e3,improve_territory_3:54e3,improve_territory_4:107e3,exchange:7200},{sort:5,award:0,improve_territory_2:126e3,improve_territory_3:253e3,improve_territory_4:506e3,exchange:14e3},{sort:6,award:0,improve_territory_2:495e3,improve_territory_3:989e3,improve_territory_4:1979e3,exchange:27e3},{sort:7,award:0,improve_territory_2:1051500,improve_territory_3:2102500,improve_territory_4:4205500,exchange:51e3},{sort:8,award:0,improve_territory_2:1608e3,improve_territory_3:3216e3,improve_territory_4:6432e3,exchange:96e3},{sort:9,award:0,improve_territory_2:4082e3,improve_territory_3:8163e3,improve_territory_4:16327e3,exchange:18e4},{sort:10,award:0,improve_territory_2:10177e3,improve_territory_3:20354e3,improve_territory_4:40708e3,exchange:33e4},{sort:11,award:0,improve_territory_2:176e5,improve_territory_3:35200500,improve_territory_4:70401e3,exchange:6e5},{sort:12,award:0,improve_territory_2:25023e3,improve_territory_3:50047e3,improve_territory_4:100094e3,exchange:1075200},{sort:13,award:0,improve_territory_2:60846e3,improve_territory_3:121693e3,improve_territory_4:243385e3,exchange:19e5},{sort:14,award:0,improve_territory_2:146611e3,improve_territory_3:293222e3,improve_territory_4:586443e3,exchange:335e4},{sort:15,award:0,improve_territory_2:248601e3,improve_territory_3:497202e3,improve_territory_4:994403500,exchange:6e6},{sort:16,award:0,improve_territory_2:350591e3,improve_territory_3:701182e3,improve_territory_4:1402364e3,exchange:12e6}],sheepSettings:[{breed:1,long_wool:100,wool_growth:250,eating:10,drinking:2},{breed:2,long_wool:200,wool_growth:150,eating:11,drinking:2},{breed:3,long_wool:400,wool_growth:100,eating:12,drinking:3},{breed:4,long_wool:800,wool_growth:100,eating:13,drinking:3},{breed:5,long_wool:1600,wool_growth:100,eating:14,drinking:3},{breed:6,long_wool:3200,wool_growth:100,eating:15,drinking:3},{breed:7,long_wool:6400,wool_growth:100,eating:17,drinking:4},{breed:8,long_wool:12800,wool_growth:100,eating:19,drinking:4},{breed:9,long_wool:25600,wool_growth:100,eating:21,drinking:5},{breed:10,long_wool:51200,wool_growth:100,eating:23,drinking:5},{breed:11,long_wool:102400,wool_growth:100,eating:25,drinking:6},{breed:12,long_wool:204800,wool_growth:100,eating:28,drinking:7}],territoriesSheepPrice:[{block:1,position:1,unlockCooldown:0,price:0,unlock:1},{block:1,position:2,unlockCooldown:0,price:0,unlock:1},{block:1,position:3,unlockCooldown:0,price:0,unlock:1},{block:2,position:1,unlockCooldown:0,price:1667,unlock:2},{block:2,position:2,unlockCooldown:0,price:0,unlock:1},{block:2,position:3,unlockCooldown:0,price:0,unlock:1},{block:3,position:1,unlockCooldown:60,price:36e3,unlock:4},{block:3,position:2,unlockCooldown:30,price:7e3,unlock:3},{block:3,position:3,unlockCooldown:10,price:2e3,unlock:2},{block:4,position:1,unlockCooldown:1800,price:407e3,unlock:7},{block:4,position:2,unlockCooldown:900,price:132e3,unlock:6},{block:4,position:3,unlockCooldown:300,price:132e3,unlock:5},{block:5,position:1,unlockCooldown:5400,price:3092e3,unlock:10},{block:5,position:2,unlockCooldown:3600,price:115e4,unlock:9},{block:5,position:3,unlockCooldown:2700,price:115e4,unlock:8},{block:6,position:1,unlockCooldown:14400,price:50885e3,unlock:13},{block:6,position:2,unlockCooldown:10800,price:20408e3,unlock:12},{block:6,position:3,unlockCooldown:7200,price:20408e3,unlock:11},{block:7,position:1,unlockCooldown:57600,price:304232e3,unlock:15},{block:7,position:2,unlockCooldown:28800,price:304232e3,unlock:14},{block:7,position:3,unlockCooldown:21600,price:125117e3,unlock:13},{block:8,position:1,unlockCooldown:86400,price:1752955e3,unlock:16},{block:8,position:2,unlockCooldown:86400,price:1752955e3,unlock:16},{block:8,position:3,unlockCooldown:86400,price:733054e3,unlock:16}],territoriesSheepSettings:[{improve:1,regeneration:11,unlock_improve:1,storage:200,improvePastureMoneyPrice:0,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:2,regeneration:13,unlock_improve:2,storage:300,improvePastureMoneyPrice:100,improveStorageMoneyPrice:100,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:3,regeneration:15,unlock_improve:2,storage:400,improvePastureMoneyPrice:400,improveStorageMoneyPrice:400,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:4,regeneration:17,unlock_improve:2,storage:500,improvePastureMoneyPrice:1500,improveStorageMoneyPrice:1500,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:5,regeneration:19,unlock_improve:2,storage:600,improvePastureMoneyPrice:5e3,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:10},{improve:6,regeneration:22,unlock_improve:3,storage:700,improvePastureMoneyPrice:1e4,improveStorageMoneyPrice:1e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:7,regeneration:23,unlock_improve:3,storage:800,improvePastureMoneyPrice:23e3,improveStorageMoneyPrice:23e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:8,regeneration:24,unlock_improve:4,storage:900,improvePastureMoneyPrice:5e4,improveStorageMoneyPrice:5e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:9,regeneration:25,unlock_improve:4,storage:1e3,improvePastureMoneyPrice:7e4,improveStorageMoneyPrice:7e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:10,regeneration:27,unlock_improve:5,storage:1100,improvePastureMoneyPrice:1e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:40},{improve:11,regeneration:29,unlock_improve:6,storage:1200,improvePastureMoneyPrice:402e3,improveStorageMoneyPrice:402e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:12,regeneration:31,unlock_improve:6,storage:1300,improvePastureMoneyPrice:123e4,improveStorageMoneyPrice:123e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:13,regeneration:33,unlock_improve:7,storage:1500,improvePastureMoneyPrice:14e5,improveStorageMoneyPrice:14e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:14,regeneration:34,unlock_improve:7,storage:1800,improvePastureMoneyPrice:16e5,improveStorageMoneyPrice:16e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:15,regeneration:35,unlock_improve:8,storage:2100,improvePastureMoneyPrice:18e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:90},{improve:16,regeneration:36,unlock_improve:9,storage:2400,improvePastureMoneyPrice:36e5,improveStorageMoneyPrice:36e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:17,regeneration:38,unlock_improve:10,storage:2700,improvePastureMoneyPrice:72e5,improveStorageMoneyPrice:72e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:18,regeneration:40,unlock_improve:11,storage:3e3,improvePastureMoneyPrice:144e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:140},{improve:19,regeneration:42,unlock_improve:12,storage:3400,improvePastureMoneyPrice:288e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:180},{improve:20,regeneration:44,unlock_improve:13,storage:4e3,improvePastureMoneyPrice:576e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:300}]};t.chickenSettings={buyBetterBreedChicken:2,feedBoostPrice:20,chickenBadPercent:40,chickenDiamondsTime:14400,chickenPrice:100,"doubledСollectorPrice":25,collectorPrice4:85,collectorPrice12:220,unlockCollector4:5,unlockCollector12:8,chickenFairLevels:[{level:1,price_m:0,price_d:0,part_unlock:1},{level:2,price_m:5e3,price_d:0,part_unlock:2},{level:3,price_m:25e3,price_d:0,part_unlock:4},{level:4,price_m:15e4,price_d:0,part_unlock:7},{level:5,price_m:8e5,price_d:0,part_unlock:9},{level:6,price_m:4e6,price_d:0,part_unlock:10},{level:7,price_m:12e6,price_d:0,part_unlock:11},{level:8,price_m:276e5,price_d:0,part_unlock:12},{level:9,price_m:624e5,price_d:0,part_unlock:13},{level:10,price_m:14e7,price_d:0,part_unlock:14},{level:11,price_m:309e6,price_d:0,part_unlock:15},{level:12,price_m:68e7,price_d:0,part_unlock:16}],chickenParts:[{sort:1,award:0,improve_territory_2:1e3,improve_territory_3:3e3,improve_territory_4:6e3,exchange:1e3},{sort:2,award:0,improve_territory_2:7e3,improve_territory_3:13e3,improve_territory_4:26e3,exchange:1900},{sort:3,award:0,improve_territory_2:17e3,improve_territory_3:33500,improve_territory_4:66500,exchange:3700},{sort:4,award:0,improve_territory_2:27e3,improve_territory_3:54e3,improve_territory_4:107e3,exchange:7200},{sort:5,award:0,improve_territory_2:126e3,improve_territory_3:253e3,improve_territory_4:506e3,exchange:14e3},{sort:6,award:0,improve_territory_2:495e3,improve_territory_3:989e3,improve_territory_4:1979e3,exchange:27e3},{sort:7,award:0,improve_territory_2:1051500,improve_territory_3:2102500,improve_territory_4:4205500,exchange:51e3},{sort:8,award:0,improve_territory_2:1608e3,improve_territory_3:3216e3,improve_territory_4:6432e3,exchange:96e3},{sort:9,award:0,improve_territory_2:4082e3,improve_territory_3:8163e3,improve_territory_4:16327e3,exchange:18e4},{sort:10,award:0,improve_territory_2:10177e3,improve_territory_3:20354e3,improve_territory_4:40708e3,exchange:33e4},{sort:11,award:0,improve_territory_2:176e5,improve_territory_3:35200500,improve_territory_4:70401e3,exchange:6e5},{sort:12,award:0,improve_territory_2:25023e3,improve_territory_3:50047e3,improve_territory_4:100094e3,exchange:1075200},{sort:13,award:0,improve_territory_2:60846e3,improve_territory_3:121693e3,improve_territory_4:243385e3,exchange:19e5},{sort:14,award:0,improve_territory_2:146611e3,improve_territory_3:293222e3,improve_territory_4:586443e3,exchange:335e4},{sort:15,award:0,improve_territory_2:248601e3,improve_territory_3:497202e3,improve_territory_4:994403500,exchange:6e6},{sort:16,award:0,improve_territory_2:350591e3,improve_territory_3:701182e3,improve_territory_4:1402364e3,exchange:12e6}],chickenSettings:[{breed:1,drinking:2,eating:10,egg:100,eggPrice:100},{breed:2,drinking:2,eating:11,egg:100,eggPrice:200},{breed:3,drinking:3,eating:12,egg:100,eggPrice:400},{breed:4,drinking:3,eating:13,egg:100,eggPrice:800},{breed:5,drinking:3,eating:14,egg:100,eggPrice:1600},{breed:6,drinking:3,eating:15,egg:100,eggPrice:3200},{breed:7,drinking:4,eating:17,egg:100,eggPrice:6400},{breed:8,drinking:4,eating:19,egg:100,eggPrice:12800},{breed:9,drinking:5,eating:21,egg:100,eggPrice:25600},{breed:10,drinking:5,eating:23,egg:100,eggPrice:51200},{breed:11,drinking:6,eating:25,egg:100,eggPrice:102400},{breed:12,drinking:7,eating:28,egg:100,eggPrice:204800}],territoriesChickenPrice:[{block:1,position:1,unlockCooldown:0,price:0,unlock:1},{block:1,position:2,unlockCooldown:0,price:0,unlock:1},{block:1,position:3,unlockCooldown:0,price:0,unlock:1},{block:2,position:1,unlockCooldown:0,price:2e3,unlock:2},{block:2,position:2,unlockCooldown:0,price:50,unlock:1},{block:2,position:3,unlockCooldown:0,price:0,unlock:1},{block:3,position:1,unlockCooldown:900,price:36e3,unlock:4},{block:3,position:2,unlockCooldown:60,price:24e3,unlock:3},{block:3,position:3,unlockCooldown:10,price:2e3,unlock:2},{block:4,position:1,unlockCooldown:7200,price:407e3,unlock:7},{block:4,position:2,unlockCooldown:3600,price:132e3,unlock:6},{block:4,position:3,unlockCooldown:1800,price:132e3,unlock:5},{block:5,position:1,unlockCooldown:18e3,price:3092e3,unlock:10},{block:5,position:2,unlockCooldown:14400,price:115e4,unlock:9},{block:5,position:3,unlockCooldown:10800,price:115e4,unlock:8},{block:6,position:1,unlockCooldown:43200,price:50885e3,unlock:13},{block:6,position:2,unlockCooldown:32400,price:20408e3,unlock:12},{block:6,position:3,unlockCooldown:21600,price:20408e3,unlock:11},{block:7,position:1,unlockCooldown:172800,price:304232e3,unlock:15},{block:7,position:2,unlockCooldown:86400,price:304232e3,unlock:14},{block:7,position:3,unlockCooldown:43200,price:125117e3,unlock:13},{block:8,position:1,unlockCooldown:259200,price:1752955e3,unlock:16},{block:8,position:2,unlockCooldown:259200,price:1752955e3,unlock:16},{block:8,position:3,unlockCooldown:259200,price:733054e3,unlock:16}],territoriesChickenSettings:[{improve:1,regeneration:11,unlock_improve:1,storage:200,improvePastureMoneyPrice:0,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:2,regeneration:13,unlock_improve:2,storage:300,improvePastureMoneyPrice:100,improveStorageMoneyPrice:100,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:3,regeneration:15,unlock_improve:2,storage:400,improvePastureMoneyPrice:400,improveStorageMoneyPrice:400,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:4,regeneration:17,unlock_improve:2,storage:500,improvePastureMoneyPrice:1500,improveStorageMoneyPrice:1500,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:5,regeneration:19,unlock_improve:2,storage:600,improvePastureMoneyPrice:5e3,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:25,countEggs:5},{improve:6,regeneration:22,unlock_improve:3,storage:700,improvePastureMoneyPrice:1e4,improveStorageMoneyPrice:1e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:7,regeneration:23,unlock_improve:3,storage:800,improvePastureMoneyPrice:23e3,improveStorageMoneyPrice:23e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:8,regeneration:24,unlock_improve:4,storage:900,improvePastureMoneyPrice:5e4,improveStorageMoneyPrice:5e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:9,regeneration:25,unlock_improve:4,storage:1e3,improvePastureMoneyPrice:7e4,improveStorageMoneyPrice:7e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:10,regeneration:27,unlock_improve:5,storage:1100,improvePastureMoneyPrice:1e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:100,countEggs:5},{improve:11,regeneration:29,unlock_improve:6,storage:1200,improvePastureMoneyPrice:402e3,improveStorageMoneyPrice:402e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:12,regeneration:31,unlock_improve:6,storage:1300,improvePastureMoneyPrice:123e4,improveStorageMoneyPrice:123e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:13,regeneration:33,unlock_improve:7,storage:1500,improvePastureMoneyPrice:14e5,improveStorageMoneyPrice:14e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:14,regeneration:34,unlock_improve:7,storage:1800,improvePastureMoneyPrice:16e5,improveStorageMoneyPrice:16e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:15,regeneration:35,unlock_improve:8,storage:2100,improvePastureMoneyPrice:18e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:225,countEggs:5},{improve:16,regeneration:36,unlock_improve:9,storage:2400,improvePastureMoneyPrice:36e5,improveStorageMoneyPrice:36e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:17,regeneration:38,unlock_improve:10,storage:2700,improvePastureMoneyPrice:72e5,improveStorageMoneyPrice:72e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:18,regeneration:40,unlock_improve:11,storage:3e3,improvePastureMoneyPrice:144e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:350,countEggs:5},{improve:19,regeneration:42,unlock_improve:12,storage:3400,improvePastureMoneyPrice:288e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:450,countEggs:5},{improve:20,regeneration:44,unlock_improve:13,storage:4e3,improvePastureMoneyPrice:576e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:750,countEggs:5}]};t.cowSettings={buyBetterBreedCow:2,feedBoostPrice:20,cowBadPercent:40,cowDiamondsTime:14400,cowPrice:100,"doubledСollectorPrice":25,collectorPrice4:85,collectorPrice12:220,unlockCollector4:5,unlockCollector12:8,storageMultiply:2,cowFactorySettings:[{improve:1,unlock_improve:1,improveMoneyPrice:0,improveDiamondPrice:0,processingTime:15,lotSize:1e3,production1Percent:40,production2Percent:0,production3Percent:0,production4Percent:100,efficiency:20},{improve:2,unlock_improve:3,improveMoneyPrice:400,improveDiamondPrice:0,processingTime:30,lotSize:4e3,production1Percent:40,production2Percent:30,production3Percent:0,production4Percent:100,efficiency:35},{improve:3,unlock_improve:4,improveMoneyPrice:1600,improveDiamondPrice:0,processingTime:30,lotSize:1e4,production1Percent:30,production2Percent:40,production3Percent:0,production4Percent:100,efficiency:40},{improve:4,unlock_improve:5,improveMoneyPrice:6e3,improveDiamondPrice:0,processingTime:30,lotSize:2e4,production1Percent:30,production2Percent:45,production3Percent:0,production4Percent:100,efficiency:45},{improve:5,unlock_improve:6,improveMoneyPrice:0,improveDiamondPrice:60,processingTime:60,lotSize:3e4,production1Percent:35,production2Percent:45,production3Percent:20,production4Percent:100,efficiency:60},{improve:6,unlock_improve:7,improveMoneyPrice:4e4,improveDiamondPrice:0,processingTime:60,lotSize:12e4,production1Percent:35,production2Percent:45,production3Percent:20,production4Percent:100,efficiency:62},{improve:7,unlock_improve:9,improveMoneyPrice:92e3,improveDiamondPrice:0,processingTime:60,lotSize:25e4,production1Percent:25,production2Percent:43,production3Percent:32,production4Percent:100,efficiency:65},{improve:8,unlock_improve:9,improveMoneyPrice:2e5,improveDiamondPrice:0,processingTime:60,lotSize:35e4,production1Percent:25,production2Percent:43,production3Percent:32,production4Percent:100,efficiency:67},{improve:9,unlock_improve:10,improveMoneyPrice:28e4,improveDiamondPrice:0,processingTime:60,lotSize:5e5,production1Percent:25,production2Percent:43,production3Percent:32,production4Percent:100,efficiency:69},{improve:10,unlock_improve:11,improveMoneyPrice:0,improveDiamondPrice:240,processingTime:120,lotSize:15e5,production1Percent:25,production2Percent:43,production3Percent:32,production4Percent:100,efficiency:72},{improve:11,unlock_improve:11,improveMoneyPrice:1608e3,improveDiamondPrice:0,processingTime:120,lotSize:3e6,production1Percent:25,production2Percent:45,production3Percent:35,production4Percent:100,efficiency:75},{improve:12,unlock_improve:12,improveMoneyPrice:492e4,improveDiamondPrice:0,processingTime:120,lotSize:4e6,production1Percent:20,production2Percent:50,production3Percent:30,production4Percent:100,efficiency:78},{improve:13,unlock_improve:12,improveMoneyPrice:56e5,improveDiamondPrice:0,processingTime:120,lotSize:6e6,production1Percent:20,production2Percent:50,production3Percent:30,production4Percent:100,efficiency:80},{improve:14,unlock_improve:13,improveMoneyPrice:64e5,improveDiamondPrice:0,processingTime:120,lotSize:95e5,production1Percent:20,production2Percent:50,production3Percent:30,production4Percent:100,efficiency:82},{improve:15,unlock_improve:13,improveMoneyPrice:0,improveDiamondPrice:540,processingTime:180,lotSize:2e7,production1Percent:20,production2Percent:35,production3Percent:45,production4Percent:100,efficiency:85},{improve:16,unlock_improve:14,improveMoneyPrice:144e5,improveDiamondPrice:0,processingTime:180,lotSize:35e6,production1Percent:20,production2Percent:35,production3Percent:45,production4Percent:100,efficiency:88},{improve:17,unlock_improve:14,improveMoneyPrice:288e5,improveDiamondPrice:0,processingTime:180,lotSize:5e7,production1Percent:20,production2Percent:35,production3Percent:45,production4Percent:100,efficiency:90},{improve:18,unlock_improve:14,improveMoneyPrice:0,improveDiamondPrice:840,processingTime:300,lotSize:9e7,production1Percent:5,production2Percent:30,production3Percent:65,production4Percent:100,efficiency:94},{improve:19,unlock_improve:15,improveMoneyPrice:0,improveDiamondPrice:1080,processingTime:300,lotSize:14e7,production1Percent:5,production2Percent:30,production3Percent:65,production4Percent:100,efficiency:97},{improve:20,unlock_improve:16,improveMoneyPrice:0,improveDiamondPrice:1800,processingTime:300,lotSize:3e8,production1Percent:5,production2Percent:30,production3Percent:65,production4Percent:100,efficiency:100}],cowFairLevels:[{level:1,price_m:0,price_d:0,part_unlock:1},{level:2,price_m:5e3,price_d:0,part_unlock:2},{level:3,price_m:25e3,price_d:0,part_unlock:4},{level:4,price_m:15e4,price_d:0,part_unlock:7},{level:5,price_m:8e5,price_d:0,part_unlock:9},{level:6,price_m:4e6,price_d:0,part_unlock:10},{level:7,price_m:12e6,price_d:0,part_unlock:11},{level:8,price_m:276e5,price_d:0,part_unlock:12},{level:9,price_m:624e5,price_d:0,part_unlock:13},{level:10,price_m:14e7,price_d:0,part_unlock:14},{level:11,price_m:309e6,price_d:0,part_unlock:15},{level:12,price_m:68e7,price_d:0,part_unlock:16}],cowParts:[{sort:1,award:0,improve_territory_2:1e3,improve_territory_3:3e3,improve_territory_4:6e3,exchange:1e3},{sort:2,award:0,improve_territory_2:7e3,improve_territory_3:13e3,improve_territory_4:26e3,exchange:1900},{sort:3,award:0,improve_territory_2:17e3,improve_territory_3:33500,improve_territory_4:66500,exchange:3700},{sort:4,award:0,improve_territory_2:27e3,improve_territory_3:54e3,improve_territory_4:107e3,exchange:7200},{sort:5,award:0,improve_territory_2:126e3,improve_territory_3:253e3,improve_territory_4:506e3,exchange:14e3},{sort:6,award:0,improve_territory_2:495e3,improve_territory_3:989e3,improve_territory_4:1979e3,exchange:27e3},{sort:7,award:0,improve_territory_2:1051500,improve_territory_3:2102500,improve_territory_4:4205500,exchange:51e3},{sort:8,award:0,improve_territory_2:1608e3,improve_territory_3:3216e3,improve_territory_4:6432e3,exchange:96e3},{sort:9,award:0,improve_territory_2:4082e3,improve_territory_3:8163e3,improve_territory_4:16327e3,exchange:18e4},{sort:10,award:0,improve_territory_2:10177e3,improve_territory_3:20354e3,improve_territory_4:40708e3,exchange:33e4},{sort:11,award:0,improve_territory_2:176e5,improve_territory_3:35200500,improve_territory_4:70401e3,exchange:6e5},{sort:12,award:0,improve_territory_2:25023e3,improve_territory_3:50047e3,improve_territory_4:100094e3,exchange:1075200},{sort:13,award:0,improve_territory_2:60846e3,improve_territory_3:121693e3,improve_territory_4:243385e3,exchange:19e5},{sort:14,award:0,improve_territory_2:146611e3,improve_territory_3:293222e3,improve_territory_4:586443e3,exchange:335e4},{sort:15,award:0,improve_territory_2:248601e3,improve_territory_3:497202e3,improve_territory_4:994403500,exchange:6e6},{sort:16,award:0,improve_territory_2:350591e3,improve_territory_3:701182e3,improve_territory_4:1402364e3,exchange:12e6}],cowSettings:[{breed:1,drinking:2,eating:10,maxMilkVolume:100},{breed:2,drinking:2,eating:11,maxMilkVolume:200},{breed:3,drinking:3,eating:12,maxMilkVolume:400},{breed:4,drinking:3,eating:13,maxMilkVolume:800},{breed:5,drinking:3,eating:14,maxMilkVolume:1600},{breed:6,drinking:3,eating:15,maxMilkVolume:3200},{breed:7,drinking:4,eating:17,maxMilkVolume:6400},{breed:8,drinking:4,eating:19,maxMilkVolume:12800},{breed:9,drinking:5,eating:21,maxMilkVolume:25600},{breed:10,drinking:5,eating:23,maxMilkVolume:51200},{breed:11,drinking:6,eating:25,maxMilkVolume:102400},{breed:12,drinking:7,eating:28,maxMilkVolume:204800}],territoriesCowPrice:[{block:1,position:1,unlockCooldown:0,price:0,unlock:1},{block:1,position:2,unlockCooldown:0,price:0,unlock:1},{block:1,position:3,unlockCooldown:0,price:0,unlock:1},{block:2,position:1,unlockCooldown:0,price:0,unlock:1},{block:2,position:2,unlockCooldown:0,price:0,unlock:1},{block:2,position:3,unlockCooldown:0,price:0,unlock:1},{block:3,position:1,unlockCooldown:10,price:0,unlock:2},{block:3,position:2,unlockCooldown:0,price:0,unlock:1},{block:3,position:3,unlockCooldown:0,price:0,unlock:1},{block:4,position:1,unlockCooldown:7200,price:407e3,unlock:7},{block:4,position:2,unlockCooldown:3600,price:132e3,unlock:6},{block:4,position:3,unlockCooldown:1800,price:132e3,unlock:5},{block:5,position:1,unlockCooldown:18e3,price:3092e3,unlock:10},{block:5,position:2,unlockCooldown:14400,price:115e4,unlock:9},{block:5,position:3,unlockCooldown:10800,price:115e4,unlock:8},{block:6,position:1,unlockCooldown:43200,price:50885e3,unlock:13},{block:6,position:2,unlockCooldown:32400,price:20408e3,unlock:12},{block:6,position:3,unlockCooldown:21600,price:20408e3,unlock:11},{block:7,position:1,unlockCooldown:172800,price:304232e3,unlock:15},{block:7,position:2,unlockCooldown:86400,price:304232e3,unlock:14},{block:7,position:3,unlockCooldown:43200,price:125117e3,unlock:13},{block:8,position:1,unlockCooldown:259200,price:1752955e3,unlock:16},{block:8,position:2,unlockCooldown:259200,price:1752955e3,unlock:16},{block:8,position:3,unlockCooldown:259200,price:733054e3,unlock:16}],territoriesCowSettings:[{improve:1,regeneration:11,unlock_improve:1,storage:12e4,improvePastureMoneyPrice:0,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:2,regeneration:13,unlock_improve:2,storage:24e4,improvePastureMoneyPrice:100,improveStorageMoneyPrice:100,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:3,regeneration:15,unlock_improve:2,storage:48e4,improvePastureMoneyPrice:400,improveStorageMoneyPrice:400,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:4,regeneration:17,unlock_improve:2,storage:72e4,improvePastureMoneyPrice:1500,improveStorageMoneyPrice:1500,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:5,regeneration:19,unlock_improve:2,storage:144e4,improvePastureMoneyPrice:5e3,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:50},{improve:6,regeneration:22,unlock_improve:3,storage:336e4,improvePastureMoneyPrice:1e4,improveStorageMoneyPrice:1e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:7,regeneration:23,unlock_improve:3,storage:432e4,improvePastureMoneyPrice:23e3,improveStorageMoneyPrice:23e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:8,regeneration:24,unlock_improve:4,storage:864e4,improvePastureMoneyPrice:5e4,improveStorageMoneyPrice:5e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:9,regeneration:25,unlock_improve:4,storage:1056e4,improvePastureMoneyPrice:7e4,improveStorageMoneyPrice:7e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:10,regeneration:27,unlock_improve:5,storage:2112e4,improvePastureMoneyPrice:1e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:200},{improve:11,regeneration:29,unlock_improve:6,storage:4608e4,improvePastureMoneyPrice:402e3,improveStorageMoneyPrice:402e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:12,regeneration:31,unlock_improve:6,storage:576e5,improvePastureMoneyPrice:123e4,improveStorageMoneyPrice:123e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:13,regeneration:33,unlock_improve:7,storage:1152e5,improvePastureMoneyPrice:14e5,improveStorageMoneyPrice:14e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:14,regeneration:34,unlock_improve:7,storage:16128e4,improvePastureMoneyPrice:16e5,improveStorageMoneyPrice:16e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:15,regeneration:35,unlock_improve:8,storage:32256e4,improvePastureMoneyPrice:18e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:450},{improve:16,regeneration:36,unlock_improve:9,storage:73728e4,improvePastureMoneyPrice:36e5,improveStorageMoneyPrice:36e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:17,regeneration:38,unlock_improve:10,storage:9216e5,improvePastureMoneyPrice:72e5,improveStorageMoneyPrice:72e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:18,regeneration:40,unlock_improve:11,storage:18432e5,improvePastureMoneyPrice:144e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:700},{improve:19,regeneration:42,unlock_improve:12,storage:24576e5,improvePastureMoneyPrice:288e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:900},{improve:20,regeneration:44,unlock_improve:13,storage:49152e5,improvePastureMoneyPrice:576e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:1500}]};t.unicornSettings={buyBetterBreedAnimal:2,"doubledСollectorPrice":25,feedBoostPrice:20,collectorPrice4:90,collectorPrice12:250,unlockCollector4:5,unlockCollector12:8,priceCoefficient:7,unicornSettings:[{breed:1,resource:100,resourcePrice:"10",price:"100",exchange:"1000"},{breed:2,resource:100,resourcePrice:"20",price:"1500",exchange:"2800"},{breed:3,resource:100,resourcePrice:"40",price:"4800",exchange:"7200"},{breed:4,resource:100,resourcePrice:"90",price:"15000",exchange:"17600"},{breed:5,resource:100,resourcePrice:"190",price:"48000",exchange:"41600"},{breed:6,resource:100,resourcePrice:"400",price:"150000",exchange:"96000"},{breed:7,resource:100,resourcePrice:"850",price:"480000",exchange:"217600"},{breed:8,resource:100,resourcePrice:"1780",price:"1500000",exchange:"486600"},{breed:9,resource:100,resourcePrice:"3750",price:"4800000",exchange:"1075200"},{breed:10,resource:100,resourcePrice:"7900",price:"15000000",exchange:"2355200"},{breed:11,resource:100,resourcePrice:"16000",price:"48000000",exchange:"5120000"},{breed:12,resource:100,resourcePrice:"34000",price:"480000000",exchange:"12000000"},{breed:13,resource:100,resourcePrice:"73000",price:"150000000",exchange:"24000000"},{breed:14,resource:100,resourcePrice:"150000",price:"1500000000",exchange:"48000000"},{breed:15,resource:100,resourcePrice:"320000",price:"4800000000",exchange:"96000000"},{breed:16,resource:100,resourcePrice:"670000",price:"15000000000",exchange:"192000000"},{breed:17,resource:100,resourcePrice:"1400000",price:"48000000000",exchange:"384000000"},{breed:18,resource:100,resourcePrice:"2900000",price:"150000000000",exchange:"768000000"},{breed:19,resource:100,resourcePrice:"6200000",price:"480000000000",exchange:"1536000000"},{breed:20,resource:100,resourcePrice:"13000000",price:"1500000000000",exchange:"3072000000"},{breed:21,resource:100,resourcePrice:"25000000",price:"4800000000000",exchange:"6144000000"},{breed:22,resource:100,resourcePrice:"50200000",price:"15000000000000",exchange:"12288000000"},{breed:23,resource:100,resourcePrice:"100300000",price:"48000000000000",exchange:"24576000000"},{breed:24,resource:100,resourcePrice:"200000000",price:"150000000000000",exchange:"49152000000"},{breed:25,resource:100,resourcePrice:"400000000",price:"480000000000000",exchange:"98304000000"},{breed:26,resource:100,resourcePrice:"800000000",price:"1500000000000000",exchange:"196608000000"},{breed:27,resource:100,resourcePrice:"1600000000",price:"4800000000000000",exchange:"393216000000"},{breed:28,resource:100,resourcePrice:"3200000000",price:"15000000000000000",exchange:"786432000000"},{breed:29,resource:100,resourcePrice:"6400000000",price:"48000000000000000",exchange:"1572864000000"},{breed:30,resource:100,resourcePrice:"12800000000",price:"150000000000000000",exchange:"3145728000000"},{breed:31,resource:100,resourcePrice:"25600000000",price:"480000000000000000",exchange:"6291456000000"},{breed:32,resource:100,resourcePrice:"51200000000",price:"1500000000000000000",exchange:"12582912000000"},{breed:33,resource:100,resourcePrice:"102400000000",price:"4800000000000000000",exchange:"25165824000000"},{breed:34,resource:100,resourcePrice:"204800000000",price:"15000000000000000000",exchange:"50331648000000"},{breed:35,resource:100,resourcePrice:"409600000000",price:"48000000000000000000",exchange:"100663296000000"},{breed:36,resource:100,resourcePrice:"819200000000",price:"150000000000000000000",exchange:"201326592000000"},{breed:37,resource:100,resourcePrice:"1638400000000",price:"480000000000000000000",exchange:"402653184000000"},{breed:38,resource:100,resourcePrice:"3276800000000",price:"1500000000000000000000",exchange:"805306368000000"},{breed:39,resource:100,resourcePrice:"6553600000000",price:"4800000000000000000000",exchange:"1610612736000000"},{breed:40,resource:100,resourcePrice:"13107200000000",price:"15000000000000000000000",exchange:"3221225472000000"},{breed:41,resource:100,resourcePrice:"26214400000000",price:"48000000000000000000000",exchange:"6442450944000000"},{breed:42,resource:100,resourcePrice:"52428800000000",price:"150000000000000000000000",exchange:"12884901888000000"},{breed:43,resource:100,resourcePrice:"104857600000000",price:"480000000000000000000000",exchange:"25769803776000000"},{breed:44,resource:100,resourcePrice:"209715200000000",price:"1500000000000000000000000",exchange:"51539607552000000"},{breed:45,resource:100,resourcePrice:"419430400000000",price:"4800000000000000000000000",exchange:"103079215104000000"},{breed:46,resource:100,resourcePrice:"838860800000000",price:"15000000000000000000000000",exchange:"206158430208000000"},{breed:47,resource:100,resourcePrice:"1677721600000000",price:"48000000000000000000000000",exchange:"412316860416000000"},{breed:48,resource:100,resourcePrice:"3355443200000000",price:"150000000000000000000000000",exchange:"824633720832000000"},{breed:49,resource:100,resourcePrice:"6710886400000000",price:"480000000000000000000000000",exchange:"1649267441664000000"},{breed:50,resource:100,resourcePrice:"13421772800000000",price:"1500000000000000000000000000",exchange:"3298534883328000000"},{breed:51,resource:100,resourcePrice:"26843545600000000",price:"4800000000000000000000000000",exchange:"6597069766656000000"},{breed:52,resource:100,resourcePrice:"53687091200000000",price:"15000000000000000000000000000",exchange:"13194139533312000000"},{breed:53,resource:100,resourcePrice:"107374182400000000",price:"48000000000000000000000000000",exchange:"26388279066624000000"},{breed:54,resource:100,resourcePrice:"214748364800000000",price:"150000000000000000000000000000",exchange:"52776558133248000000"},{breed:55,resource:100,resourcePrice:"429496729600000000",price:"480000000000000000000000000000",exchange:"105553116266496000000"},{breed:56,resource:100,resourcePrice:"858993459200000000",price:"1500000000000000000000000000000",exchange:"211106232532992000000"},{breed:57,resource:100,resourcePrice:"1717986918400000000",price:"4800000000000000000000000000000",exchange:"422212465065984000000"},{breed:58,resource:100,resourcePrice:"3435973836800000000",price:"15000000000000000000000000000000",exchange:"844424930131968000000"},{breed:59,resource:100,resourcePrice:"6871947673600000000",price:"48000000000000000000000000000000",exchange:"1688849860263940000000"},{breed:60,resource:100,resourcePrice:"13743895347200000000",price:"150000000000000000000000000000000",exchange:"3377699720527870000000"},{breed:61,resource:100,resourcePrice:"27487790694400000000",price:"4800000000000000000000000000000000",exchange:"6755399441055740000000"},{breed:62,resource:100,resourcePrice:"5497558138880000000",price:"15000000000000000000000000000000000",exchange:"13510798882111500000000"},{breed:63,resource:100,resourcePrice:"10995116277760000000",price:"48000000000000000000000000000000000",exchange:"27021597764223000000000"},{breed:64,resource:100,resourcePrice:"21990232555520000000",price:"150000000000000000000000000000000000",exchange:"54043195528446000000000"},{breed:65,resource:100,resourcePrice:"43980465111040000000",price:"480000000000000000000000000000000000",exchange:"108086391056892000000000"},{breed:66,resource:100,resourcePrice:"87960930222080000000",price:"1500000000000000000000000000000000000",exchange:"216172782113784000000000"},{breed:67,resource:100,resourcePrice:"175921860444160000000",price:"4800000000000000000000000000000000000",exchange:"432345564227568000000000"},{breed:68,resource:100,resourcePrice:"351843720888320000000",price:"15000000000000000000000000000000000000",exchange:"864691128455135000000000"},{breed:69,resource:100,resourcePrice:"703687441776640000000",price:"48000000000000000000000000000000000000",exchange:"1729382256910270000000000"},{breed:70,resource:100,resourcePrice:"1407374883553280000000",price:"150000000000000000000000000000000000000",exchange:"3458764513820540000000000"},{breed:71,resource:100,resourcePrice:"28147497671065600000000",price:"480000000000000000000000000000000000000",exchange:"6917529027641080000000000"},{breed:72,resource:100,resourcePrice:"56294995342131200000000",price:"1500000000000000000000000000000000000000",exchange:"13835058055282200000000000"},{breed:73,resource:100,resourcePrice:"112589990684262000000000",price:"4800000000000000000000000000000000000000",exchange:"27670116110564300000000000"},{breed:74,resource:100,resourcePrice:"225179981368525000000000",price:"15000000000000000000000000000000000000000",exchange:"55340232221128700000000000"},{breed:75,resource:100,resourcePrice:"450359962737050000000000",price:"48000000000000000000000000000000000000000",exchange:"110680464442257000000000000"},{breed:76,resource:100,resourcePrice:"900719925474099000000000",price:"150000000000000000000000000000000000000000",exchange:"221360928884515000000000000"},{breed:77,resource:100,resourcePrice:"1801439850948200000000000",price:"480000000000000000000000000000000000000000",exchange:"442721857769029000000000000"},{breed:78,resource:100,resourcePrice:"3602879701896400000000000",price:"1500000000000000000000000000000000000000000",exchange:"885443715538059000000000000"},{breed:79,resource:100,resourcePrice:"7205759403792790000000000",price:"4800000000000000000000000000000000000000000",exchange:"1770887431076120000000000000"},{breed:80,resource:100,resourcePrice:"14411518807585600000000000",price:"15000000000000000000000000000000000000000000",exchange:"3541774862152230000000000000"},{breed:81,resource:100,resourcePrice:"2882303761517120000000000",price:"48000000000000000000000000000000000000000000",exchange:"6917529027641080000000000"},{breed:82,resource:100,resourcePrice:"5764607523034240000000000",price:"150000000000000000000000000000000000000000000",exchange:"13835058055282200000000000"},{breed:83,resource:100,resourcePrice:"11529215046068500000000000",price:"480000000000000000000000000000000000000000000",exchange:"27670116110564300000000000"},{breed:84,resource:100,resourcePrice:"23058430092136900000000000",price:"1500000000000000000000000000000000000000000000",exchange:"55340232221128700000000000"},{breed:85,resource:100,resourcePrice:"46116860184273900000000000",price:"4800000000000000000000000000000000000000000000",exchange:"110680464442257000000000000"},{breed:86,resource:100,resourcePrice:"92233720368547800000000000",price:"15000000000000000000000000000000000000000000000",exchange:"221360928884515000000000000"},{breed:87,resource:100,resourcePrice:"184467440737096000000000000",price:"48000000000000000000000000000000000000000000000",exchange:"442721857769029000000000000"},{breed:88,resource:100,resourcePrice:"368934881474191000000000000",price:"150000000000000000000000000000000000000000000000",exchange:"885443715538059000000000000"},{breed:89,resource:100,resourcePrice:"737869762948382000000000000",price:"480000000000000000000000000000000000000000000000",exchange:"1770887431076120000000000000"},{breed:90,resource:100,resourcePrice:"1475739525896760000000000000",price:"1500000000000000000000000000000000000000000000000",exchange:"3541774862152230000000000000"},{breed:91,resource:100,resourcePrice:"2951479051793530000000000000",price:"4800000000000000000000000000000000000000000000000",exchange:"7253554917687780000000000000000"},{breed:92,resource:100,resourcePrice:"5902958103587060000000000000",price:"15000000000000000000000000000000000000000000000000",exchange:"14507109835375600000000000000000"},{breed:93,resource:100,resourcePrice:"11805916207174100000000000000",price:"48000000000000000000000000000000000000000000000000",exchange:"29014219670751100000000000000000"},{breed:94,resource:100,resourcePrice:"23611832414348200000000000000",price:"150000000000000000000000000000000000000000000000000",exchange:"58028439341502200000000000000000"},{breed:95,resource:100,resourcePrice:"47223664828696500000000000000",price:"480000000000000000000000000000000000000000000000000",exchange:"116056878683004000000000000000000"},{breed:96,resource:100,resourcePrice:"94447329657392900000000000000",price:"1500000000000000000000000000000000000000000000000000",exchange:"232113757366009000000000000000000"},{breed:97,resource:100,resourcePrice:"188894659314786000000000000000",price:"4800000000000000000000000000000000000000000000000000",exchange:"464227514732018000000000000000000"},{breed:98,resource:100,resourcePrice:"377789318629572000000000000000",price:"15000000000000000000000000000000000000000000000000000",exchange:"928455029464035000000000000000000"},{breed:99,resource:100,resourcePrice:"755578637259143000000000000000",price:"48000000000000000000000000000000000000000000000000000",exchange:"1856910058928070000000000000000000"},{breed:100,resource:100,resourcePrice:"1511157274518290000000000000000",price:"150000000000000000000000000000000000000000000000000000",exchange:"3713820117856140000000000000000000"}],territoriesUnicornPrice:[{block:3,position:1,diamond:0,price:0,unlock:0},{block:3,position:2,diamond:0,price:0,unlock:0},{block:3,position:3,diamond:0,price:0,unlock:0},{block:4,position:1,diamond:0,price:0,unlock:0},{block:4,position:2,diamond:10,price:1500,unlock:2},{block:4,position:3,diamond:10,price:5e3,unlock:4},{block:5,position:1,diamond:20,price:1e4,unlock:6},{block:5,position:2,diamond:40,price:2e4,unlock:8},{block:5,position:3,diamond:100,price:5e4,unlock:10},{block:6,position:1,diamond:180,price:9e4,unlock:12},{block:6,position:2,diamond:300,price:15e4,unlock:14},{block:6,position:3,diamond:400,price:2e5,unlock:16}],territoriesUnicornSettings:[{improve:1,regeneration:11,countResources:5,unlock_improve:1,resourceStorage:200},{improve:2,regeneration:22,countResources:5,unlock_improve:2,resourceStorage:700},{improve:3,regeneration:33,countResources:5,unlock_improve:5,resourceStorage:1500},{improve:4,regeneration:44,countResources:5,unlock_improve:8,resourceStorage:4e3}]};t.clanTournamentSettings=[{breed:1,price:"15000"},{breed:2,price:"48000"},{breed:3,price:"150000"},{breed:4,price:"480000"},{breed:5,price:"1500000"},{breed:6,price:"4800000"},{breed:7,price:"15000000"},{breed:8,price:"48000000"},{breed:9,price:"480000000"},{breed:10,price:"150000000"},{breed:11,price:"1500000000"},{breed:12,price:"4800000000"}];t.improveClanFarm=["1000000","10000000","100000000","1000000000","10000000000","100000000000","1000000000000","10000000000000","100000000000000"];t.CHANGE_EMBLEM_COST=100;t.CHANGE_CLAN_NAME_COST=100;t.CREATE_CLAN_COST=10},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={headerSyst:i(160),midSyst:i(161),bottomSyst:i(162),pbEmptyCorner:i(163),pbEmptyMid:i(164),pbFullCorner:i(165),pbFullMid:i(166),modal:i(167),landingBtn:i(85),loginBtnGreen:i(86),loginBtnRed:i(87),loginBtnYellow:i(88),pixelForLanding:i(89),diamondLil:i(168),sheepCoin:i(169),chickenCoin:i(170),cowCoin:i(171),shopHead:i(172),shopClose:i(173),shopTabActive:i(174),shopTab:i(175),iconShopSheep:i(176),iconShopChicken:i(177),iconShopCow:i(178),iconShopBoosts:i(179),bankPackage:i(180),stockTape:i(181),shopBtn:i(182),sheepMoneyPackage:i(183),chickenMoneyPackage:i(184),cowMoneyPackage:i(185),animalShopBg:i(186),shopWoolCollector:i(187),shopEggCollector:i(188),shopMilkCollector:i(189),shopBtnDisable:i(190),boostBtn:i(191),boostBtnDisable:i(192),boostBtnAd:i(193),levelBg:i(194),boostBg:i(195),lockBoostBg:i(196),lockBoost:i(197),newbieBg:i(198),newbieDay0:i(199),newbieDay1:i(200),newbieDay2:i(201),newbieDay3:i(202),newbieDay4:i(203),newbieDay5:i(204),newbieDay6:i(205),newbieDay7:i(206),dayYellow:i(207),dayPurple:i(208),dayRed:i(209),awardReceived:i(210),donateBg:i(211),doneChapterButton:i(212),shopWindow:i(213),dailyBg:i(214),middleButton:i(85),awardBg:i(215),achievementDaily:i(216),flashDaily:i(217),doneChapter:i(218),pbChapterAnimal:i(219),greenProgress:i(220),farmer:i(221),tasksTop:i(222),tasksMiddle:i(223),tasksBottom:i(224),tasksComplete:i(225),tasksUncomplete:i(226),tasksAwardBg:i(227),tasksReward:i(228),tasksBar:i(229),taskBarTop:i(230),taskBarMid:i(231),taskBarBot:i(232),closeWindowBtn:i(233),pbChapter:i(234),bigButtonGrey:i(235),bigButtonBlue:i(236),bigButtonOrange:i(237),bigButtonRed:i(87),bigButtonYellow:i(88),repositorySellBtn:i(238),herdBoostRoadSheep:i(239),herdBoostRoadChicken:i(240),herdBoostRoadCow:i(241),badMergingAnimation:i(242),boostWindowBg:i(243),boostCountdown:i(244),boostLeaves:i(245),flags:i(246),herdBoostSheepIcon:i(247),herdBoostChickenIcon:i(248),herdBoostCowIcon:i(249),feedBoostSheepIcon:i(250),feedBoostChickenIcon:i(251),feedBoostCowIcon:i(252),feedBoostEventIcon:i(253),herdBoostEventIcon:i(254),iconShopEvent:i(255),eventMoneyPackage:i(256),shopResourceCollector:i(257),unicornStatus:i(258),starterpackBg:i(259),starterpackShadow:i(260),herdBoostRoadEvent:i(261),firework1:i(262),firework2:i(263),firework3:i(264),fireworkBg:i(265),chatBackground:i(266),chatDeleteBg:i(267),chatArrow:i(268),chatSendBtn:i(269),chatEmojiBtn:i(270),fortunePlate:i(271),chatTab:i(272),chatForeignMessageBg:i(273),chatClanMessageBg:i(274),chatAdminMessageBg:i(275),chatUserMessageBg:i(276),chatTabClose:i(277),chatTabActive:i(278),chatInput:i(279),chatTrash:i(280),profileBackground:i(281),profileCowFarm:i(90),profileChickenFarm:i(91),profileEventFarm:i(92),profileSticker:i(93),profileCowFarmLock:i(94),profileLockIcon:i(282),profileEventIsland:i(95),profileBtn:i(283),profilePointer:i(284),factoryWindow:i(285),factoryWheel:i(286),factoryProduction1:i(287),factoryProduction2:i(288),factoryProduction3:i(289),factoryProduction4:i(290),factoryCacao:i(291),factoryProductionSlot2:i(292),factoryProductionSlotDisable2:i(293),factoryProductionSlot3:i(294),factoryProductionSlotDisable3:i(295),factoryProductionSlot4:i(296),factoryProductionSlotDisable4:i(297),music:i(298),sheepSound1:i(299),sheepSound2:i(300),chickenSound1:i(301),chickenSound2:i(302),chickenSound3:i(303),chickenSound4:i(304),chickenSound5:i(305),cowSound1:i(306),cowSound2:i(307),cowSound3:i(308),clickSound:i(309),fireworkSound:i(310),coinsSound:i(311),errorSound:i(312),mergeSound:i(313),awardSound:i(314),donateWindowSound:i(315),donateTakeSound:i(316),treeFallingSound:i(317),profileWindowBtnYellow:i(318),profileWindowBtnRed:i(319),profileWindowBtnGreen:i(320),profileWindowSettingsBtn:i(321),profileWindowFooter:i(322),profileWindowHeader:i(323),profileWindowLevel:i(324),profileWindowBg:i(325),boostCounterBg:i(326),settingsWindowHeader:i(327),settingsWindowMinus:i(328),settingsWindowPlus:i(329),settingsWindowSegment:i(330),settingsWindowMusicPlate:i(331),settingsWindowSoundPlate:i(332),sysSwitch:i(333),squareBg:i(334),clanWindowHeader:i(335),clanWindowTabActive:i(336),clanWindowTabActiveTL:i(337),clanWindowTabActiveTC:i(338),clanWindowTabActiveTR:i(339),clanWindowTabActiveML:i(340),clanWindowTabActiveMC:i(341),clanWindowTabActiveMR:i(342),clanWindowTabActiveBL:i(343),clanWindowTabActiveBC:i(344),clanWindowTabActiveBR:i(345),clanWindowTabDisable:i(346),clanWindowTabDisableTL:i(347),clanWindowTabDisableTC:i(348),clanWindowTabDisableTR:i(349),clanWindowTabDisableML:i(350),clanWindowTabDisableMC:i(351),clanWindowTabDisableMR:i(352),clanWindowTabDisableBL:i(353),clanWindowTabDisableBC:i(354),clanWindowTabDisableBR:i(355),clanWindowTabClose:i(356),clanWindowCrown:i(357),clanWindowLine:i(358),clanWindowMedalBronze:i(359),clanWindowMedalGold:i(360),clanWindowMedalSilver:i(361),clanWindowMedal:i(362),clanWindowLeaderPlate:i(363),clanWindowLeaderPlateSliced:i(364),clanWindowPointsBg:i(365),clanWindowSearchPlate:i(366),clanWindowWreath:i(367),clanWindowBgWreath:i(368),clanWindowIcon1:i(369),clanWindowIcon2:i(370),clanWindowIcon3:i(371),clanWindowIcon4:i(372),clanWindowIcon5:i(373),clanWindowExcludeBtn:i(374),clanBg1:i(375),clanBg2:i(376),clanBg3:i(377),clanBg4:i(378),clanBg5:i(379),clanBg6:i(380),clanBg7:i(381),clanBg8:i(382),clanBg9:i(383),clanBg10:i(384),clanBg11:i(385),clanBg12:i(386),clanBg13:i(387),clanBg14:i(388),clanFrame1:i(389),clanFrame2:i(390),clanFrame3:i(391),clanFrame4:i(392),clanFrame5:i(393),clanFrame6:i(394),clanFrame7:i(395),clanFrame8:i(396),clanFrame9:i(397),clanFrame10:i(398),clanFrame11:i(399),clanIcon1:i(400),clanIcon2:i(401),clanIcon3:i(402),clanIcon4:i(403),clanIcon5:i(404),clanIcon6:i(405),clanIcon7:i(406),clanIcon8:i(407),clanIcon9:i(408),clanIcon10:i(409),clanIcon11:i(410),clanIcon12:i(411),clanMainFrame:i(412),socialTaskBg:i(413),socialTaskTop:i(414),socialTaskBottom:i(415),socialTaskMiddle:i(416),clanBankSheepPackage1:i(417),clanBankSheepPackage2:i(418),clanBankSheepPackage3:i(419),clanBankSheepPackage4:i(420),clanBankChickenPackage1:i(421),clanBankChickenPackage2:i(422),clanBankChickenPackage3:i(423),clanBankChickenPackage4:i(424),clanBankCowPackage1:i(425),clanBankCowPackage2:i(426),clanBankCowPackage3:i(427),clanBankCowPackage4:i(428),clanBankDiamondPackage1:i(429),clanBankDiamondPackage2:i(430),clanBankDiamondPackage3:i(431),clanBankDiamondPackage4:i(432),clanMap:i(433),clanCooldownBg:i(434),clanChickenFarm:i(435),clanFlagpole:i(436),iconClanSheep:i(437),iconClanChicken:i(438),iconClanCow:i(439),headerOrange:i(440),stock:i(96),clanTaskIcon1:i(441),clanTaskIcon2:i(442),clanTaskIcon3:i(443),clanTaskIcon4:i(444),clanTaskIcon5:i(445),clanTaskIcon6:i(446),clanTaskIcon7:i(447),clanTaskIcon8:i(448),clanTaskIcon9:i(449),clanTaskIcon10:i(450),clanTaskIcon11:i(451),clanTaskIcon12:i(452),clanTaskIcon13:i(453),clanTaskIcon14:i(454),clanTaskIcon15:i(455),clanTaskIcon16:i(456),clanTaskIcon17:i(457),clanTaskIcon18:i(458),clanTaskIcon19:i(459),clanBankBtn:i(460),clanTabIconSheep:i(461),clanTabIconChicken:i(462),clanTabIconCow:i(463),clanTournamentHeader:i(464),clanTournamentDecor:i(465),clanTournamentAnimalBg:i(466),clanTournamentPlateBg:i(467),saleWindowHeader:i(468),saleWindowFlags:i(469),saleWindowDoubleCount:i(470),saleWindowHalfPrice:i(471),saleIconChickenCollectorImprove:i(472),saleIconChickenCollectorPrice:i(473),saleIconChickenFeed:i(474),saleIconChickenHerd:i(475),saleIconChickenMoney:i(476),saleIconChickenPrice:i(477),saleIconChickenRepositoryImprove:i(478),saleIconClan:i(479),saleIconCowCollectorImprove:i(480),saleIconCowCollectorPrice:i(481),saleIconCowFactoryImprove:i(482),saleIconCowFeed:i(483),saleIconCowHerd:i(484),saleIconCowMoney:i(485),saleIconCowPrice:i(486),saleIconCowRepositoryImprove:i(487),saleIconDiamondCount:i(488),saleIconPackagePrice:i(489),saleIconSheepCollectorImprove:i(490),saleIconSheepCollectorPrice:i(491),saleIconSheepFeed:i(492),saleIconSheepHerd:i(493),saleIconSheepMoney:i(494),saleIconSheepPrice:i(495),saleIconSheepRepositoryImprove:i(496),modalBgPlate:i(497),avatar0:i(498),avatar1:i(499),avatar2:i(500),avatar3:i(501),avatar4:i(502),avatar5:i(503),avatar6:i(504),avatar7:i(505),avatar8:i(506),buyPlate:i(507),profileWindoweEitAvataBtn:i(97),avatarFrame:i(508),pixel:i(509),bg:i(510),topbar:i(511),tabbar:i(512),shop:i(513),mapIcon:i(514),sandwich:i(515),sandwichClose:i(516),profile:i(517),debug:i(518),chat:i(519),lockTerritory:i(520),diamond:i(521),lock:i(522),caveDisalble:i(523),caveReady:i(524),caveWait:i(525),caveTimer:i(526),star:i(527),completed:i(528),littleButton:i(529),littleButtonDisable:i(530),plus:i(531),greenBalanceBg:i(532),redBalanceBg:i(533),greenBalanceBgBig:i(534),redBalanceBgBig:i(535),resourceEnough:i(536),resourceProblem:i(537),grassBalance:i(538),waterBalance:i(539),tail:i(540),gift:i(541),shaveStatus:i(542),diamondStatus:i(543),offline:i(544),hatchet:i(545),hammer:i(546),arrow:i(547),tutorBtn:i(548),"сurrencyBg":i(549),heart:i(550),notEnoughtWater:i(551),notEnoughtGrass:i(552),calendar:i(553),adIcon:i(554),bgAd:i(555),bigButtonGreen:i(86),stockIcon:i(96),loadingSpinner:i(556),whitePixel:i(89),textSale:i(557),scrollArrow:i(558),improveCollector:i(559),tasksBarNs:i(560),notificationBg:i(561),roundedBarSegment:i(562),circleOutline:i(563),cooldownPlate:i(564),saleIcon:i(565),btnClean:i(566),plateFeed:i(567),cloudInfo:i(568),sheepTop:i(569),sheepBottom:i(570),sheepBuyIcon1:i(571),sheepBuyIcon2:i(572),sheepBuyIcon3:i(573),sheepBuyIcon4:i(574),sheepBuyIcon5:i(575),sheepBuyIcon6:i(576),sheepBuyIcon7:i(577),sheepBuyIcon8:i(578),sheepBuyIcon9:i(579),sheepBuyIcon10:i(580),sheepBuyIcon11:i(581),sheepBuyIcon12:i(582),woolCollector:i(583),sheepForBuying:i(584),sheepBought:i(585),sheepMerging:i(586),sheepTent:i(587),sheepHouse:i(588),sheepGround:i(589),sheepRepository:i(590),sheepRepository11:i(591),sheepRepository12:i(592),sheepRepository13:i(593),sheepRepository14:i(594),sheepRepository21:i(595),sheepRepository22:i(596),sheepRepository23:i(597),sheepRepository24:i(598),sheepRepository31:i(599),sheepRepository32:i(600),sheepRepository33:i(601),sheepRepository34:i(602),sheepRepository41:i(603),sheepRepository42:i(604),sheepRepository43:i(605),sheepRepository44:i(606),sheepGrass11:i(607),sheepGrass12:i(608),sheepGrass13:i(609),sheepGrass14:i(610),sheepGrass21:i(611),sheepGrass22:i(612),sheepGrass23:i(613),sheepGrass24:i(614),sheepGrass31:i(615),sheepGrass32:i(616),sheepGrass33:i(617),sheepGrass34:i(618),sheepGrass41:i(619),sheepGrass42:i(620),sheepGrass43:i(621),sheepGrass44:i(622),sheepWater11:i(623),sheepWater12:i(624),sheepWater13:i(625),sheepWater14:i(626),sheepWater21:i(627),sheepWater22:i(628),sheepWater23:i(629),sheepWater24:i(630),sheepWater31:i(631),sheepWater32:i(632),sheepWater33:i(633),sheepWater34:i(634),sheepWater41:i(635),sheepWater42:i(636),sheepWater43:i(637),sheepWater44:i(638),sheep0:i(639),sheep1:i(640),sheep2:i(641),sheep3:i(642),sheep4:i(643),sheep5:i(644),sheep6:i(645),sheep7:i(646),sheep8:i(647),sheep9:i(648),sheep10:i(649),sheep11:i(650),sheep12:i(651),wool1:i(652),wool2:i(653),wool3:i(654),wool4:i(655),wool5:i(656),wool6:i(657),wool7:i(658),wool8:i(659),wool9:i(660),wool10:i(661),wool11:i(662),wool12:i(663),mergingAnimation:i(664),disableSheep:i(665),sheepHouseSprite:i(666),sheepForest1:i(667),sheepForest2:i(668),sheepForest3:i(669),sheepForest4:i(670),sheepForest5:i(671),sheepForest6:i(672),sheepForest7:i(673),sheepForest8:i(674),sheepTaskIcon1:i(675),sheepTaskIcon2:i(676),sheepTaskIcon3:i(677),sheepTaskIcon4:i(678),sheepTaskIcon5:i(679),sheepTaskIcon6:i(680),sheepTaskIcon7:i(681),sheepTaskIcon8:i(682),sheepTaskIcon9:i(683),sheepTaskIcon10:i(684),sheepTaskIcon11:i(685),sheepTaskIcon12:i(686),sheepTaskIcon13:i(687),sheepTaskIcon14:i(688),sheepTaskIcon15:i(689),sheepTaskIcon16:i(690),sheepTaskIcon17:i(691),sheepTaskIcon18:i(692),sheepTaskIcon19:i(693),sheepTaskIcon20:i(694),sheepTaskIcon21:i(695),sheepTaskIcon22:i(696),sheepTaskIcon23:i(697),sheepTaskIcon24:i(698),sheepTaskIcon25:i(699),sheepTaskIcon26:i(700),sheepTaskIcon27:i(701),sheepTaskIcon28:i(702),sheepTaskIcon29:i(703),sheepTaskIcon30:i(704),sheepTaskIcon31:i(705),sheepTaskIcon32:i(706),sheepTaskIcon33:i(707),sheepTaskIcon34:i(708),sheepTaskIcon38:i(709),sheepTaskIcon39:i(710),sheepTaskIcon40:i(711),sheepLeaves:i(712),sheepLeft_0_2:i(713),sheepLeft_0_3:i(714),sheepLeft_0_4:i(715),sheepRight_0_2:i(716),sheepRight_0_3:i(717),sheepRight_0_4:i(718),sheepLeft_1_1:i(719),sheepLeft_1_2:i(720),sheepLeft_1_3:i(721),sheepLeft_1_4:i(722),sheepRight_1_1:i(723),sheepRight_1_2:i(724),sheepRight_1_3:i(725),sheepRight_1_4:i(726),sheepLeft_2_1:i(727),sheepLeft_2_2:i(728),sheepLeft_2_3:i(729),sheepLeft_2_4:i(730),sheepRight_2_1:i(731),sheepRight_2_2:i(732),sheepRight_2_3:i(733),sheepRight_2_4:i(734),sheepLeft_3_1:i(735),sheepLeft_3_2:i(736),sheepLeft_3_3:i(737),sheepLeft_3_4:i(738),sheepRight_3_1:i(739),sheepRight_3_2:i(740),sheepRight_3_3:i(741),sheepRight_3_4:i(742),sheepLeft_4_1:i(743),sheepLeft_4_2:i(744),sheepLeft_4_3:i(745),sheepLeft_4_4:i(746),sheepRight_4_1:i(747),sheepRight_4_2:i(748),sheepRight_4_3:i(749),sheepRight_4_4:i(750),sheepLeft_5_1:i(751),sheepLeft_5_2:i(752),sheepLeft_5_3:i(753),sheepLeft_5_4:i(754),sheepRight_5_1:i(755),sheepRight_5_2:i(756),sheepRight_5_3:i(757),sheepRight_5_4:i(758),sheepLeft_6_1:i(759),sheepLeft_6_2:i(760),sheepLeft_6_3:i(761),sheepLeft_6_4:i(762),sheepRight_6_1:i(763),sheepRight_6_2:i(764),sheepRight_6_3:i(765),sheepRight_6_4:i(766),sheepLeft_7_1:i(767),sheepLeft_7_2:i(768),sheepLeft_7_3:i(769),sheepLeft_7_4:i(770),sheepRight_7_1:i(771),sheepRight_7_2:i(772),sheepRight_7_3:i(773),sheepRight_7_4:i(774),sheepLeft_8_1:i(775),sheepLeft_8_2:i(776),sheepLeft_8_3:i(777),sheepLeft_8_4:i(778),sheepRight_8_1:i(779),sheepRight_8_2:i(780),sheepRight_8_3:i(781),sheepRight_8_4:i(782),sheepLeft_9_1:i(783),sheepLeft_9_2:i(784),sheepLeft_9_3:i(785),sheepLeft_9_4:i(786),sheepRight_9_1:i(787),sheepRight_9_2:i(788),sheepRight_9_3:i(789),sheepRight_9_4:i(790),sheepLeft_10_1:i(791),sheepLeft_10_2:i(792),sheepLeft_10_3:i(793),sheepLeft_10_4:i(794),sheepRight_10_1:i(795),sheepRight_10_2:i(796),sheepRight_10_3:i(797),sheepRight_10_4:i(798),sheepLeft_11_1:i(799),sheepLeft_11_2:i(800),sheepLeft_11_3:i(801),sheepLeft_11_4:i(802),sheepRight_11_1:i(803),sheepRight_11_2:i(804),sheepRight_11_3:i(805),sheepRight_11_4:i(806),sheepLeft_12_1:i(807),sheepLeft_12_2:i(808),sheepLeft_12_3:i(809),sheepLeft_12_4:i(810),sheepRight_12_1:i(811),sheepRight_12_2:i(812),sheepRight_12_3:i(813),sheepRight_12_4:i(814),sheepVerticalBorder:i(815),sheepHorizontalBorder1:i(816),sheepHorizontalBorder2:i(817),sheepHorizontalBorder3:i(818),tutorMerging:i(819),feedSheepBalance:i(820),chickenTop:i(821),chickenBottom:i(822),chickenBuyIcon1:i(823),chickenBuyIcon2:i(824),chickenBuyIcon3:i(825),chickenBuyIcon4:i(826),chickenBuyIcon5:i(827),chickenBuyIcon6:i(828),chickenBuyIcon7:i(829),chickenBuyIcon8:i(830),chickenBuyIcon9:i(831),chickenBuyIcon10:i(832),chickenBuyIcon11:i(833),chickenBuyIcon12:i(834),eggCollector:i(835),chickenForBuying:i(836),chickenBought:i(837),chickenMerging:i(838),chickenTent:i(839),chickenHouse:i(840),chickenGround:i(841),chickenRepository:i(842),chickenRepository11:i(843),chickenRepository21:i(844),chickenRepository31:i(845),chickenRepository41:i(846),chickenRepository12:i(847),chickenRepository22:i(848),chickenRepository32:i(849),chickenRepository42:i(850),chickenRepository13:i(851),chickenRepository23:i(852),chickenRepository33:i(853),chickenRepository43:i(854),chickenRepository14:i(855),chickenRepository24:i(856),chickenRepository34:i(857),chickenRepository44:i(858),chickenGrass11:i(859),chickenGrass12:i(860),chickenGrass13:i(861),chickenGrass14:i(862),chickenGrass21:i(863),chickenGrass22:i(864),chickenGrass23:i(865),chickenGrass24:i(866),chickenGrass31:i(867),chickenGrass32:i(868),chickenGrass33:i(869),chickenGrass34:i(870),chickenGrass41:i(871),chickenGrass42:i(872),chickenGrass43:i(873),chickenGrass44:i(874),chickenWater11:i(875),chickenWater12:i(876),chickenWater13:i(877),chickenWater14:i(878),chickenWater21:i(879),chickenWater22:i(880),chickenWater23:i(881),chickenWater24:i(882),chickenWater31:i(883),chickenWater32:i(884),chickenWater33:i(885),chickenWater34:i(886),chickenWater41:i(887),chickenWater42:i(888),chickenWater43:i(889),chickenWater44:i(890),chicken0:i(891),chicken1:i(892),chicken2:i(893),chicken3:i(894),chicken4:i(895),chicken5:i(896),chicken6:i(897),chicken7:i(898),chicken8:i(899),chicken9:i(900),chicken10:i(901),chicken11:i(902),chicken12:i(903),egg0:i(904),egg1:i(905),egg2:i(906),egg3:i(907),egg4:i(908),egg5:i(909),egg6:i(910),egg7:i(911),egg8:i(912),egg9:i(913),egg10:i(914),egg11:i(915),egg12:i(916),disableChicken:i(917),chickenHouseSprite:i(918),chickenForest1:i(919),chickenForest2:i(920),chickenForest3:i(921),chickenForest4:i(922),chickenForest5:i(923),chickenForest6:i(924),chickenForest7:i(925),chickenForest8:i(926),chickenTaskIcon1:i(927),chickenTaskIcon2:i(928),chickenTaskIcon3:i(929),chickenTaskIcon4:i(930),chickenTaskIcon5:i(931),chickenTaskIcon6:i(932),chickenTaskIcon7:i(933),chickenTaskIcon8:i(934),chickenTaskIcon9:i(935),chickenTaskIcon10:i(936),chickenTaskIcon11:i(937),chickenTaskIcon12:i(938),chickenTaskIcon13:i(939),chickenTaskIcon14:i(940),chickenTaskIcon15:i(941),chickenTaskIcon16:i(942),chickenTaskIcon17:i(943),chickenTaskIcon18:i(944),chickenTaskIcon20:i(945),chickenTaskIcon21:i(946),chickenTaskIcon22:i(947),chickenTaskIcon23:i(948),chickenTaskIcon24:i(949),chickenTaskIcon25:i(950),chickenTaskIcon26:i(951),chickenTaskIcon27:i(952),chickenTaskIcon28:i(953),chickenTaskIcon29:i(954),chickenTaskIcon31:i(955),chickenTaskIcon32:i(956),chickenTaskIcon33:i(957),chickenTaskIcon34:i(958),chickenTaskIcon38:i(959),chickenTaskIcon39:i(960),chickenTaskIcon40:i(961),chickenLeaves:i(962),chickenVerticalBorder:i(963),chickenHorizontalBorder1:i(964),chickenHorizontalBorder2:i(965),chickenHorizontalBorder3:i(966),feedChickenBalance:i(967),cowTop:i(968),cowBottom:i(969),cowBuyIcon1:i(970),cowBuyIcon2:i(971),cowBuyIcon3:i(972),cowBuyIcon4:i(973),cowBuyIcon5:i(974),cowBuyIcon6:i(975),cowBuyIcon7:i(976),cowBuyIcon8:i(977),cowBuyIcon9:i(978),cowBuyIcon10:i(979),cowBuyIcon11:i(980),cowBuyIcon12:i(981),milkCollector:i(982),cowForBuying:i(983),cowBought:i(984),cowMerging:i(985),cowTent:i(986),cowHouse:i(987),cowGround:i(988),cowRepository:i(989),factory:i(990),cowRepository11:i(991),cowRepository21:i(992),cowRepository31:i(993),cowRepository41:i(994),cowRepository12:i(995),cowRepository22:i(996),cowRepository32:i(997),cowRepository42:i(998),cowRepository13:i(999),cowRepository23:i(1e3),cowRepository33:i(1001),cowRepository43:i(1002),cowRepository14:i(1003),cowRepository24:i(1004),cowRepository34:i(1005),cowRepository44:i(1006),cowGrass11:i(1007),cowGrass12:i(1008),cowGrass13:i(1009),cowGrass14:i(1010),cowGrass21:i(1011),cowGrass22:i(1012),cowGrass23:i(1013),cowGrass24:i(1014),cowGrass31:i(1015),cowGrass32:i(1016),cowGrass33:i(1017),cowGrass34:i(1018),cowGrass41:i(1019),cowGrass42:i(1020),cowGrass43:i(1021),cowGrass44:i(1022),cowWater11:i(1023),cowWater12:i(1024),cowWater13:i(1025),cowWater14:i(1026),cowWater21:i(1027),cowWater22:i(1028),cowWater23:i(1029),cowWater24:i(1030),cowWater31:i(1031),cowWater32:i(1032),cowWater33:i(1033),cowWater34:i(1034),cowWater41:i(1035),cowWater42:i(1036),cowWater43:i(1037),cowWater44:i(1038),cow0:i(1039),cowHorns1:i(1040),cowHorns2:i(1041),cowHorns3:i(1042),cow1:i(1043),cow2:i(1044),cow3:i(1045),cow4:i(1046),cow5:i(1047),cow6:i(1048),cow7:i(1049),cow8:i(1050),cow9:i(1051),cow10:i(1052),cow11:i(1053),cow12:i(1054),milkStatus:i(1055),milk:i(1056),disableCow:i(1057),cowHouseSprite:i(1058),cowForest1:i(1059),cowForest2:i(1060),cowForest3:i(1061),cowForest4:i(1062),cowForest5:i(1063),cowForest6:i(1064),cowForest7:i(1065),cowForest8:i(1066),cowTaskIcon1:i(1067),cowTaskIcon2:i(1068),cowTaskIcon3:i(1069),cowTaskIcon4:i(1070),cowTaskIcon5:i(1071),cowTaskIcon6:i(1072),cowTaskIcon7:i(1073),cowTaskIcon8:i(1074),cowTaskIcon9:i(1075),cowTaskIcon10:i(1076),cowTaskIcon11:i(1077),cowTaskIcon12:i(1078),cowTaskIcon13:i(1079),cowTaskIcon14:i(1080),cowTaskIcon15:i(1081),cowTaskIcon16:i(1082),cowTaskIcon17:i(1083),cowTaskIcon18:i(1084),cowTaskIcon20:i(1085),cowTaskIcon21:i(1086),cowTaskIcon22:i(1087),cowTaskIcon23:i(1088),cowTaskIcon24:i(1089),cowTaskIcon25:i(1090),cowTaskIcon26:i(1091),cowTaskIcon27:i(1092),cowTaskIcon28:i(1093),cowTaskIcon29:i(1094),cowTaskIcon31:i(1095),cowTaskIcon32:i(1096),cowTaskIcon33:i(1097),cowTaskIcon34:i(1098),cowTaskIcon35:i(1099),cowTaskIcon36:i(1100),cowTaskIcon37:i(1101),cowTaskIcon38:i(1102),cowTaskIcon39:i(1103),cowTaskIcon40:i(1104),cowLeaves:i(1105),cowVerticalBorder:i(1106),cowHorizontalBorder1:i(1107),cowHorizontalBorder2:i(1108),cowHorizontalBorder3:i(1109),factorySmoke:i(1110),factoryFlash:i(1111),tutorialShowcase:i(1112),circle:i(1113),feedCowBalance:i(1114),ratingBGAfter:i(1115),unicornTop:i(1116),unicornBottom:i(1117),unicornTopbar:i(1118),resourceCollector:i(1119),unicornForBuying:i(1120),unicornlockTerritory:i(1121),unicornCoin:i(1122),unicornGrass:i(1123),unicornForest1:i(1124),unicornForest2:i(1125),unicornForest3:i(1126),unicornForest4:i(1127),unicornForest5:i(1128),unicornForest6:i(1129),unicornVerticalBorder:i(1130),unicornHorizontalBorder1:i(1131),unicornHorizontalBorder2:i(1132),unicornHorizontalBorder3:i(1133),eventWorkZone:i(1134),eventBuyIcon1:i(1135),eventBuyIcon2:i(1136),eventBuyIcon3:i(1137),eventBuyIcon4:i(1138),eventBuyIcon5:i(1139),eventBuyIcon6:i(1140),eventBuyIcon7:i(1141),eventBuyIcon8:i(1142),eventBuyIcon9:i(1143),eventBuyIcon10:i(1144),eventBuyIcon11:i(1145),eventBuyIcon12:i(1146),eventBuyIcon13:i(1147),eventBuyIcon14:i(1148),eventBuyIcon15:i(1149),eventBuyIcon16:i(1150),eventBuyIcon17:i(1151),eventBuyIcon18:i(1152),eventBuyIcon19:i(1153),eventBuyIcon20:i(1154),eventBuyIcon21:i(1155),eventBuyIcon22:i(1156),eventBuyIcon23:i(1157),eventBuyIcon24:i(1158),eventBuyIcon25:i(1159),eventBuyIcon26:i(1160),eventBuyIcon27:i(1161),eventBuyIcon28:i(1162),eventBuyIcon29:i(1163),eventBuyIcon30:i(1164),eventBuyIcon31:i(1165),eventBuyIcon32:i(1166),eventBuyIcon33:i(1167),eventBuyIcon34:i(1168),eventBuyIcon35:i(1169),eventBuyIcon36:i(1170),eventBuyIcon37:i(1171),eventBuyIcon38:i(1172),eventBuyIcon39:i(1173),eventBuyIcon40:i(1174),eventBuyIcon41:i(1175),eventBuyIcon42:i(1176),eventBuyIcon43:i(1177),eventBuyIcon44:i(1178),eventBuyIcon45:i(1179),eventBuyIcon46:i(1180),eventBuyIcon47:i(1181),eventBuyIcon48:i(1182),eventBuyIcon49:i(1183),eventBuyIcon50:i(1184),eventBuyIcon51:i(1185),eventBuyIcon52:i(1186),eventBuyIcon53:i(1187),eventBuyIcon54:i(1188),eventBuyIcon55:i(1189),eventBuyIcon56:i(1190),eventBuyIcon57:i(1191),eventBuyIcon58:i(1192),eventBuyIcon59:i(1193),eventBuyIcon60:i(1194),eventBuyIcon61:i(1195),eventBuyIcon62:i(1196),eventBuyIcon63:i(1197),eventBuyIcon64:i(1198),eventBuyIcon65:i(1199),eventBuyIcon66:i(1200),eventBuyIcon67:i(1201),eventBuyIcon68:i(1202),eventBuyIcon69:i(1203),eventBuyIcon70:i(1204),eventBuyIcon71:i(1205),eventBuyIcon72:i(1206),eventBuyIcon73:i(1207),eventBuyIcon74:i(1208),eventBuyIcon75:i(1209),eventBuyIcon76:i(1210),eventBuyIcon77:i(1211),eventBuyIcon78:i(1212),eventBuyIcon79:i(1213),eventBuyIcon80:i(1214),eventBuyIcon81:i(1215),eventBuyIcon82:i(1216),eventBuyIcon83:i(1217),eventBuyIcon84:i(1218),eventBuyIcon85:i(1219),eventBuyIcon86:i(1220),eventBuyIcon87:i(1221),eventBuyIcon88:i(1222),eventBuyIcon89:i(1223),eventBuyIcon90:i(1224),eventBuyIcon91:i(1225),eventBuyIcon92:i(1226),eventBuyIcon93:i(1227),eventBuyIcon94:i(1228),eventBuyIcon95:i(1229),eventBuyIcon96:i(1230),eventBuyIcon97:i(1231),eventBuyIcon98:i(1232),eventBuyIcon99:i(1233),eventBuyIcon100:i(1234),unicorn1:i(1235),unicorn2:i(1236),unicorn3:i(1237),unicorn4:i(1238),unicorn5:i(1239),unicorn6:i(1240),unicorn7:i(1241),unicorn8:i(1242),unicorn9:i(1243),unicorn10:i(1244),unicorn11:i(1245),unicorn12:i(1246),unicorn13:i(1247),unicorn14:i(1248),unicorn15:i(1249),unicorn16:i(1250),unicorn17:i(1251),unicorn18:i(1252),unicorn19:i(1253),unicorn20:i(1254),unicorn21:i(1255),unicorn22:i(1256),unicorn23:i(1257),unicorn24:i(1258),unicorn25:i(1259),unicorn26:i(1260),unicorn27:i(1261),unicorn28:i(1262),unicorn29:i(1263),unicorn30:i(1264),unicorn31:i(1265),unicorn32:i(1266),unicorn33:i(1267),unicorn34:i(1268),unicorn35:i(1269),unicorn36:i(1270),unicorn37:i(1271),unicorn38:i(1272),unicorn39:i(1273),unicorn40:i(1274),unicorn41:i(1275),unicorn42:i(1276),unicorn43:i(1277),unicorn44:i(1278),unicorn45:i(1279),unicorn46:i(1280),unicorn47:i(1281),unicorn48:i(1282),unicorn49:i(1283),unicorn50:i(1284),unicorn51:i(1285),unicorn52:i(1286),unicorn53:i(1287),unicorn54:i(1288),unicorn55:i(1289),unicorn56:i(1290),unicorn57:i(1291),unicorn58:i(1292),unicorn59:i(1293),unicorn60:i(1294),unicorn61:i(1295),unicorn62:i(1296),unicorn63:i(1297),unicorn64:i(1298),unicorn65:i(1299),unicorn66:i(1300),unicorn67:i(1301),unicorn68:i(1302),unicorn69:i(1303),unicorn70:i(1304),unicorn71:i(1305),unicorn72:i(1306),unicorn73:i(1307),unicorn74:i(1308),unicorn75:i(1309),unicorn76:i(1310),unicorn77:i(1311),unicorn78:i(1312),unicorn79:i(1313),unicorn80:i(1314),unicorn81:i(1315),unicorn82:i(1316),unicorn83:i(1317),unicorn84:i(1318),unicorn85:i(1319),unicorn86:i(1320),unicorn87:i(1321),unicorn88:i(1322),unicorn89:i(1323),unicorn90:i(1324),unicorn91:i(1325),unicorn92:i(1326),unicorn93:i(1327),unicorn94:i(1328),unicorn95:i(1329),unicorn96:i(1330),unicorn97:i(1331),unicorn98:i(1332),unicorn99:i(1333),unicorn100:i(1334),cloud:i(1335),resource:i(1336),disableAnimal:i(1337),unicornMerging:i(1338),unicornTent:i(1339),unicornFlower1:i(1340),unicornFlower2:i(1341),unicornFlower3:i(1342),unicornFlower4:i(1343),unicornConfetti1:i(1344),unicornConfetti2:i(1345),unicornConfetti3:i(1346),unicornConfetti4:i(1347),unicornConfetti5:i(1348),unicornConfetti6:i(1349),unicornConfetti7:i(1350),unicornConfetti8:i(1351),doubleFeedBoost:i(1352),eventFeedBoostMini:i(1353),autoprogressBG:i(1354),purpleBtn:i(1355),ratingBG:i(1356),ratingRulesBtn:i(1357),ratingPriseBtn:i(1358),ratingPrisePlaces:i(1359),eventTutorMerging:i(1360),eventTerritoryBtn:i(1361),partProgress:i(1362),award3:i(1363),award4:i(1364),award5:i(1365),profileWindowBtnBlue:i(1366),profileWindowEitAvatarBtn:i(97),profileWindowLine:i(1367),settingsPlate:i(1368),clearPlate:i(1369),headerEventEnd:i(1370),clanRewardPlate:i(1371),decor1:i(1372),decor2:i(1373),bigMedal:i(1374),bigStar:i(1375),clanStar:i(1376),clanGlow:i(1377),clanBuilding:i(1378),clanSheep1:i(1379),clanSheep2:i(1380),clanSheep3:i(1381),clanSheep4:i(1382),clanSheep5:i(1383),clanSheep6:i(1384),clanSheep7:i(1385),clanSheep8:i(1386),clanSheep9:i(1387),clanSheep10:i(1388),clanSheep11:i(1389),clanSheep12:i(1390),clanChicken1:i(1391),clanChicken2:i(1392),clanChicken3:i(1393),clanChicken4:i(1394),clanChicken5:i(1395),clanChicken6:i(1396),clanChicken7:i(1397),clanChicken8:i(1398),clanChicken9:i(1399),clanChicken10:i(1400),clanChicken11:i(1401),clanChicken12:i(1402),clanCow1:i(1403),clanCow2:i(1404),clanCow3:i(1405),clanCow4:i(1406),clanCow5:i(1407),clanCow6:i(1408),clanCow7:i(1409),clanCow8:i(1410),clanCow9:i(1411),clanCow10:i(1412),clanCow11:i(1413),clanCow12:i(1414),clanDiamondCoin:i(1415),reviewBg:i(1416),reviewBtnLike:i(1417),reviewBtnDislike:i(1418),achievementBg:i(1419),achievementBgComplete:i(1420),achievementFrame:i(1421),achievementHeader:i(1422),sheepChapter1testB:i(1423),sheepChapter2testB:i(1424),sheepChapter3testB:i(1425),sheepChapter4testB:i(1426),sheepChapter5testB:i(1427),sheepChapter6testB:i(1428),chickenChapter1testB:i(1429),chickenChapter2testB:i(1430),chickenChapter3testB:i(1431),chickenChapter4testB:i(1432),chickenChapter5testB:i(1433),chickenChapter6testB:i(1434),cowChapter1testB:i(1435),cowChapter2testB:i(1436),cowChapter3testB:i(1437),cowChapter4testB:i(1438),cowChapter5testB:i(1439),cowChapter6testB:i(1440),cowChapter1:i(1441),cowChapter2:i(1442),cowChapter3:i(1443),cowChapter4:i(1444),cowChapter5:i(1445),cowChapter6:i(1446),cowChapter7:i(1447),cowChapter8:i(1448),cowChapter9:i(1449),cowChapter10:i(1450),cowChapter11:i(1451),cowChapter12:i(1452),cowChapter13:i(1453),cowChapter14:i(1454),cowChapter15:i(1455),cowChapter16:i(1456),sheepChapter1:i(1457),sheepChapter2:i(1458),sheepChapter3:i(1459),sheepChapter4:i(1460),sheepChapter5:i(1461),sheepChapter6:i(1462),sheepChapter7:i(1463),sheepChapter8:i(1464),sheepChapter9:i(1465),sheepChapter10:i(1466),sheepChapter11:i(1467),sheepChapter12:i(1468),sheepChapter13:i(1469),sheepChapter14:i(1470),sheepChapter15:i(1471),sheepChapter16:i(1472),chickenChapter1:i(1473),chickenChapter2:i(1474),chickenChapter3:i(1475),chickenChapter4:i(1476),chickenChapter5:i(1477),chickenChapter6:i(1478),chickenChapter7:i(1479),chickenChapter8:i(1480),chickenChapter9:i(1481),chickenChapter10:i(1482),chickenChapter11:i(1483),chickenChapter12:i(1484),chickenChapter13:i(1485),chickenChapter14:i(1486),chickenChapter15:i(1487),chickenChapter16:i(1488),iconsUrl:{ach1:i(1489),ach2:i(1490),ach3:i(1491),ach4:i(1492),ach5:i(1493),ach6:i(1494),ach8:i(1495),ach9:i(1496),ach10:i(1497),ach11:i(1498),ach12:i(1499),ach13:i(1500),ach15:i(1501),ach16:i(1502),ach17:i(1503),ach18:i(1504),ach19:i(1505),ach20:i(1506),ach21:i(1507),ach22:i(1508),ach23:i(1509),ach24:i(1510),ach27:i(1511),ach30:i(1512),ach33:i(1513),ach35:i(1514),ach36:i(1515),ach37:i(1516),ach38:i(1517),ach39:i(1518),ach40:i(1519),ach41:i(1520),ach42:i(1521),ach43:i(1522),ach44:i(1523),ach45:i(1524),ach46:i(1525),ach47:i(1526),ach48:i(1527),ach49:i(1528),ach50:i(1529),ach99:i(1530),ach100:i(1531),ach101:i(1532),ach102:i(1533),ach103:i(1534),ach104:i(1535),ach105:i(1536),ach106:i(1537),ach107:i(1538),ach108:i(1539),ach109:i(1540),ach110:i(1541),ach111:i(1542),ach112:i(1543),ach113:i(1544),ach114:i(1545),ach115:i(1546),ach116:i(1547),ach117:i(1548),ach118:i(1549),ach119:i(1550),ach120:i(1551),ach121:i(1552),ach122:i(1553),ach123:i(1554),ach124:i(1555),ach125:i(1556),ach126:i(1557),ach127:i(1558),ach128:i(1559),ach129:i(1560),ach130:i(1561),ach131:i(1562),ach132:i(1563),ach133:i(1564),ach134:i(1565),ach135:i(1566),ach136:i(1567),ach137:i(1568),ach138:i(1569),ach139:i(1570),ach140:i(1571),ach141:i(1572),ach142:i(1573),ach143:i(1574),ach144:i(1575),ach145:i(1576),ach146:i(1577),ach147:i(1578),ach148:i(1579),ach149:i(1580),ach150:i(1581),ach151:i(1582),ach152:i(1583),ach153:i(1584),ach154:i(1585),ach155:i(1586),ach156:i(1587),ach157:i(1588),ach158:i(1589),ach159:i(1590),ach160:i(1591),ach161:i(1592),ach162:i(1593),ach163:i(1594),ach164:i(1595),ach165:i(1596),ach166:i(1597),ach167:i(1598),ach168:i(1599),ach169:i(1600),ach170:i(1601),ach179:i(1602),ach180:i(1603),ach181:i(1604),ach182:i(1605),ach183:i(1606),ach184:i(1607),ach185:i(1608),ach186:i(1609),ach187:i(1610),ach188:i(1611),ach189:i(1612),ach190:i(1613),ach191:i(1614),ach192:i(1615),ach193:i(1616),ach194:i(1617),ach195:i(1618),ach196:i(1619),ach197:i(1620),ach198:i(1621),ach199:i(1622),ach200:i(1623),ach201:i(1624),ach202:i(1625),ach203:i(1626),ach204:i(1627),ach205:i(1628),ach206:i(1629),ach207:i(1630),ach208:i(1631),ach209:i(1632),ach210:i(1633),ach211:i(1634),ach212:i(1635),ach213:i(1636),ach214:i(1637),ach215:i(1638),ach216:i(1639),ach217:i(1640),ach218:i(1641),ach219:i(1642),ach220:i(1643),ach221:i(1644),ach222:i(1645),ach223:i(1646),ach224:i(1647),ach225:i(1648),ach226:i(1649),ach227:i(1650),ach228:i(1651),ach229:i(1652),ach230:i(1653),ach231:i(1654),ach232:i(1655),ach233:i(1656),ach234:i(1657),ach243:i(1658),ach244:i(1659),ach245:i(1660),ach246:i(1661),ach247:i(1662),ach248:i(1663),ach249:i(1664),ach250:i(1665),ach267:i(1666),ach268:i(1667),ach269:i(1668),ach270:i(1669),ach271:i(1670),ach272:i(1671),ach273:i(1672),ach274:i(1673),ach275:i(1674)},clanSheepCoin:i(1675),clanChickenCoin:i(1676),clanCowCoin:i(1677),clanEvent:i(1678),fortuneModal:i(1679),btn:i(1680),wheel:i(1681),pointer:i(1682),ticket:i(1683),jackpotBg:i(1684),bgTimerAd:i(1685),adFortuneIcon:i(1686),chickenFarm:i(91),cowFarm:i(90),eventFarm:i(92),sticker:i(93),cowFarmLock:i(94),eventIsland:i(95),socialBtnVk:i(1687),socialBtnOk:i(1688),fortuneBg:i(1689),fortuneWheel:i(1690),fortunePointer:i(1691),freeDiamondsBg:i(1692),starterpackIcon:i(1693),freeDiamondPlate:i(1694)};t.default=s},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,s,n,a){void 0===a&&(a=1);var r=e.call(this,t,{x:t.cameras.main.centerX,y:t.cameras.main.centerY+i},s)||this;return r.textColor="#FFFFFF",r.textOrigin=.5,r.settings=n,r.scale=a,r.initType(),r.createChildren(),s&&r.setClickListener(),r}return n(t,e),t.prototype.initType=function(){this.textColor="#FFFFFF",this.btnColor,this.textOrigin=.5,this.btnColor="big-btn-"+this.settings.color,"grey"===this.settings.color&&(this.textColor="#3D3D3D"),"left"===this.settings.textAlign&&(this.textOrigin=0)},t.prototype.createChildren=function(){var e={fontSize:"22px",fontFamily:"Shadow",color:this.textColor};"grey"!==this.settings.color&&(e.shadow={offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}),this.mainSprite=this.scene.add.sprite(this.position.x,this.position.y,this.btnColor).setScale(this.scale);var t="left"===this.settings.textAlign?this.mainSprite.getBounds().left+30:this.position.x,i=this.scene.add.text(t,this.position.y-5,this.settings.text,e).setDepth(1).setOrigin(this.textOrigin,.5);if(this.add(i),e.fontSize="24px",this.settings.right1){var s=.9===this.scale?565:575,n=this.scene.add.text(s,this.position.y-5,this.settings.right1.text,e).setDepth(1).setOrigin(1,.5),a=this.scene.add.sprite(s-5-n.displayWidth,this.position.y-5,this.settings.right1.icon).setOrigin(1,.5).setScale(.9);if("ad-icon"!==this.settings.right1.icon&&a.setScale(.15),this.settings.right1.icon.includes("clan")&&a.setScale(.6),this.add(n),this.add(a),this.settings.right1.sale){var r=this.scene.add.text(0,this.position.y-5,this.settings.right1.sale,e).setOrigin(1,.5),o=this.mainSprite.getBounds().right-30;r.setX(o),n.setOrigin(1,.5).setFontSize(20).setX(r.getBounds().left-3),a.setOrigin(1,.5).setX(n.getBounds().left-3);var c=this.scene.add.tileSprite(n.getCenter().x,n.y,n.displayWidth,4,"text-sale").setDepth(1).setAngle(5).setOrigin(.5);this.add(r),this.add(c)}if(this.settings.right2){var h=this.scene.add.text(525-n.displayWidth,this.position.y-5,this.settings.right2.text,e).setDepth(1).setOrigin(1,.5),l=this.scene.add.sprite(520-n.displayWidth-h.displayWidth,this.position.y-5,this.settings.right2.icon).setOrigin(1,.5).setScale(.15);this.add(h),this.add(l)}}},t}(i(37).default);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=void 0;var s=function(){function e(){}return e.getClanTexture=function(e,t){var i=t.bg,s=t.frame,n=t.icon;if(!Object.keys(e.textures.list).find((function(e){return e==="clan-texture-"+i+"-"+s+"-"+n}))){var a={x:0,y:0,width:262,height:210},r=e.make.renderTexture(a,!1),o=e.make.sprite({key:"clan-bg-"+i,origin:.5,scale:1.05},!1),c=e.make.sprite({key:"clan-frame-"+s,origin:.5},!1),h=e.make.sprite({key:"clan-icon-"+n,origin:.5},!1);return r.draw(o,131,105),r.draw(c,131,105),r.draw(h,131,105),r.saveTexture("clan-texture-"+i+"-"+s+"-"+n).key}return"clan-texture-"+i+"-"+s+"-"+n},e.createIcon=function(e,t,i,s){var a=s.bg,r=s.frame,o=s.icon,c=this.getClanTexture(e,{bg:a,frame:r,icon:o});return new n(e,t,i,c)},e.createFlag=function(e,t,i,s){var n=s.bg,a=s.frame,r=s.icon,o=this.getClanTexture(e,{bg:n,frame:a,icon:r});return e.add.sprite(t,i,o)},e}();t.default=s;var n=function(){function e(e,t,i,s){this._basicSize=190,this._visible=!0,this._scene=e,this._x=t,this._y=i,this._depth=1,this._scale=1,this._mainTexture=s,this.createElements()}return e.prototype.createElements=function(){this._mask=this._scene.add.sprite(this._x,this._y,"clan-window-medal").setDisplaySize(this._basicSize*this._scale,this._basicSize*this._scale).setVisible(!1);var e=new Phaser.Display.Masks.BitmapMask(this._scene,this._mask);this._sprite=this._scene.add.sprite(this._x,this._y,this._mainTexture).setMask(e),this._frame=this._scene.add.sprite(this._x,this._y,"clan-main-frame")},e.prototype.setY=function(e){return this._y=e,this._mask.setY(this._y),this._sprite.setY(this._y),this._frame.setY(this._y),this},e.prototype.setX=function(e){return this._x=e,this._mask.setX(this._x),this._sprite.setX(this._x),this._frame.setX(this._x),this},e.prototype.setDepth=function(e){return this._depth=e,this._mask.setDepth(this._depth),this._sprite.setDepth(this._depth),this._frame.setDepth(this._depth),this},e.prototype.setScale=function(e){return this._scale=e,this._mask.setDisplaySize(this._basicSize*e,this._basicSize*e),this._sprite.setScale(this._scale),this._frame.setScale(this._scale),this},e.prototype.getBounds=function(){return this._frame.getBounds()},Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._mainTexture},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},enumerable:!1,configurable:!0}),e.prototype.setVisible=function(e){return this._visible=e,this._mask.setVisible(e),this._sprite.setVisible(e),this._frame.setVisible(e),this},e.prototype.destroy=function(){this._mask.destroy(),this._sprite.destroy(),this._frame.destroy()},e}();t.Icon=n},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,s,n){var a=e.call(this,t,t.cameras.main.centerX,t.cameras.main.centerY+i,s,{fontFamily:"Bip",fontSize:"35px",color:"#FFFFFF",wordWrap:{width:550},align:"center"})||this;return a.init(t,n),a}return n(t,e),t.create=function(e,i,s,n){var a=new t(e,i,s,n);return e.hints.children.entries.length>0?e.time.addEvent({delay:400,callback:function(){a.setVisible(!0),a.bg.setVisible(!0)}}):(a.setVisible(!0),a.bg.setVisible(!0)),e.hints.children.entries.forEach((function(e){null==e||e.scrollDown(a.height+40)})),e.hints.add(a),a},t.prototype.init=function(e,t){this.scene=e,this.delay=t,this.scene.add.existing(this),this.setVisible(!1),this.setDepth(this.y+1).setStroke("#000000",5).setOrigin(.5),this.createBg(),this.faidOutAnim()},t.prototype.createBg=function(){this.bg=this.scene.add.graphics(),this.bg.fillStyle(0,.6).fillRoundedRect(this.x-(this.width+50)/2,this.y-(this.height+20)/2,this.width+50,this.height+20,20).setDepth(this.y).setVisible(!1)},t.prototype.faidOutAnim=function(){var e,t=this,i=null===(e=this.scene)||void 0===e?void 0:e.tweens.add({delay:1e3*this.delay,targets:[this,this.bg],alpha:0,duration:300,onComplete:function(){t.bg.destroy(),t.destroy(),i.remove()},onCompleteParams:this})},t.prototype.scrollDown=function(e){var t,i=null===(t=this.scene)||void 0===t?void 0:t.tweens.add({targets:[this,this.bg],y:"+="+e,duration:400,onComplete:function(){i.remove()},onCompleteParams:this})},t}(Phaser.GameObjects.Text);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.incFortuneAdTimer=t.incInterstitialAdTimer=t.decrementAdFreeDiamondTime=t.speedCheckCollector=t.showSale=t.progressClanEventTime=t.progressSalesTime=t.progressClanCooldown=t.progressTerritoryCooldown=t.showFeedBoostSpeechBubble=t.intervalCollectorTutorial=t.intervalPorgressCollectorTime=t.updateProfileNotification=t.cowFactoryProgress=t.cowCollectorProgress=t.chickenCollectorProgress=t.sheepCollectorProgress=t.cowIntervalProgress=t.chickenIntervalProgress=t.sheepIntervalProgress=void 0;var s=i(21),n=i(3),a=i(2),r=i(1);function o(e,t,i,s){var n,a,r,o=this;void 0===s&&(s=!1);for(var c=function(e){if(e.cooldown>0){if(e.bought=!0,e.cooldown-=t,s&&e.cooldown<=0&&(e.type=e.boughtType,e.improve=h.state["user"+i].part-1||1,1!==e.type)){var c=h.state.sheepTasks.find((function(t){return Number(t.id.split("-")[0])===o.state.userSheep.part&&5===t.type&&t.state===e.type})),l=h.state.chickenTasks.find((function(t){return Number(t.id.split("-")[0])===o.state.userChicken.part&&5===t.type&&t.state===e.type})),d=h.state.cowTasks.find((function(t){return Number(t.id.split("-")[0])===o.state.userCow.part&&5===t.type&&t.state===e.type}));c&&"Sheep"===i&&(c.progress+=1,c.count<=c.progress&&(c.done=1,h.tryClanTask(16),null===(n=h.achievement)||void 0===n||n.tryType(2))),l&&"Chicken"===i&&(l.progress+=1,l.count<=l.progress&&(l.done=1,h.tryClanTask(16),null===(a=h.achievement)||void 0===a||a.tryType(2))),d&&"Cow"===i&&(d.progress+=1,d.count<=d.progress&&(d.done=1,h.tryClanTask(16),null===(r=h.achievement)||void 0===r||r.tryType(2)))}e.cooldown<=0&&(e.cooldown=0)}},h=this,l=0,d=e;l<d.length;l++){c(d[l])}}t.progressTerritoryCooldown=function(e,t,i,s){var n,a,c,h=this;if(void 0===s&&(s=!1),r.default.checkTestB(this.state))return o.bind(this)(e,t,i,s);for(var l=0,d=e;l<d.length;l++){var u=d[l];if(u.cooldown>0){if(u.bought=!0,u.cooldown-=t,s&&u.cooldown<=0&&(u.type=u.boughtType,1===u.type)){var p=this.state.sheepTasks.find((function(e){return e.part===h.state.userSheep.part&&5===e.type&&(1===e.state||0===e.state)})),f=this.state.chickenTasks.find((function(e){return e.part===h.state.userChicken.part&&5===e.type&&(1===e.state||0===e.state)})),m=this.state.cowTasks.find((function(e){return e.part===h.state.userCow.part&&5===e.type&&(1===e.state||0===e.state)}));p&&"Sheep"===i&&(p.progress+=1,p.count<=p.progress&&(p.done=1,this.tryClanTask(16),null===(n=this.achievement)||void 0===n||n.tryType(2))),f&&"Chicken"===i&&(f.progress+=1,f.count<=f.progress&&(f.done=1,this.tryClanTask(16),null===(a=this.achievement)||void 0===a||a.tryType(2))),m&&"Cow"===i&&(m.progress+=1,m.count<=m.progress&&(m.done=1,this.tryClanTask(16),null===(c=this.achievement)||void 0===c||c.tryType(2)))}u.cooldown<=0&&(u.cooldown=0)}}};t.progressClanCooldown=function(e,t){void 0===t&&(t=1),e.clan?(e.clan.main.cooldown>0&&(e.clan.main.cooldown-=t),e.clan.sheep.cooldown>0&&(e.clan.sheep.cooldown-=t),e.clan.chicken.cooldown>0&&(e.clan.chicken.cooldown-=t),e.clan.cow.cooldown>0&&(e.clan.cow.cooldown-=t)):e.user.clanId&&(e.user.clanId="")};t.progressSalesTime=function(e,t){void 0===t&&(t=1),e.sales.forEach((function(e){e.startTime>0&&(e.startTime-=t),e.endTime>0&&(e.endTime-=t)}))};function c(){this.state.progress.sheep.collector<=0&&1!==this.state.sheepNotificationCount[0]?this.state.sheepNotificationCount[0]=1:this.state.progress.sheep.collector>0&&0!==this.state.sheepNotificationCount[0]&&(this.state.sheepNotificationCount[0]=0);var e=l.bind(this)();if(e&&1!==this.state.sheepNotificationCount[1]?this.state.sheepNotificationCount[1]=1:e||0===this.state.sheepNotificationCount[1]||(this.state.sheepNotificationCount[1]=0),this.state.userSheep.part>=3&&this.state.userSheep.diamondAnimalTime<=0&&1!==this.state.sheepNotificationCount[2]?this.state.sheepNotificationCount[2]=1:(this.state.userSheep.part<3||this.state.userSheep.diamondAnimalTime>0)&&0!==this.state.sheepNotificationCount[2]&&(this.state.sheepNotificationCount[2]=0),this.state.userSheep.takenHerdBoost<=0&&this.state.userSheep.part>=5&&1!==this.state.sheepNotificationCount[3]?this.state.sheepNotificationCount[3]=1:this.state.userSheep.takenHerdBoost>0&&this.state.userSheep.part>=5&&0!==this.state.sheepNotificationCount[3]&&(this.state.sheepNotificationCount[3]=0),this.state.userChicken.part>0){this.state.progress.chicken.collector<=0&&1!==this.state.chickenNotificationCount[0]?this.state.chickenNotificationCount[0]=1:this.state.progress.chicken.collector>0&&0!==this.state.chickenNotificationCount[0]&&(this.state.chickenNotificationCount[0]=0);var t=d.bind(this)();t&&1!==this.state.chickenNotificationCount[1]?this.state.chickenNotificationCount[1]=1:t||0===this.state.chickenNotificationCount[1]||(this.state.chickenNotificationCount[1]=0),this.state.userChicken.part>=3&&this.state.userChicken.diamondAnimalTime<=0&&1!==this.state.chickenNotificationCount[2]?this.state.chickenNotificationCount[2]=1:(this.state.userChicken.part<3||this.state.userChicken.diamondAnimalTime>0)&&0!==this.state.chickenNotificationCount[2]&&(this.state.chickenNotificationCount[2]=0),this.state.userChicken.takenHerdBoost<=0&&this.state.userChicken.part>=5&&1!==this.state.chickenNotificationCount[3]?this.state.chickenNotificationCount[3]=1:this.state.userChicken.takenHerdBoost>0&&this.state.userChicken.part>=5&&0!==this.state.chickenNotificationCount[3]&&(this.state.chickenNotificationCount[3]=0)}if(this.state.userCow.part>0){this.state.progress.cow.collector<=0&&1!==this.state.cowNotificationCount[0]?this.state.cowNotificationCount[0]=1:this.state.progress.cow.collector>0&&0!==this.state.cowNotificationCount[0]&&(this.state.cowNotificationCount[0]=0);var i=u.bind(this)(),s=this.state.userCow.tutorial>=50&&p.bind(this)();i&&1!==this.state.cowNotificationCount[1]?this.state.cowNotificationCount[1]=1:i||0===this.state.cowNotificationCount[1]||(this.state.cowNotificationCount[1]=0),this.state.userCow.part>=3&&this.state.userCow.diamondAnimalTime<=0&&1!==this.state.cowNotificationCount[2]?this.state.cowNotificationCount[2]=1:(this.state.userCow.part<3||this.state.userCow.diamondAnimalTime>0)&&0!==this.state.cowNotificationCount[2]&&(this.state.cowNotificationCount[2]=0),this.state.userCow.takenHerdBoost<=0&&this.state.userCow.part>=5&&1!==this.state.cowNotificationCount[3]?this.state.cowNotificationCount[3]=1:this.state.userCow.takenHerdBoost>0&&this.state.userCow.part>=5&&0!==this.state.cowNotificationCount[3]&&(this.state.cowNotificationCount[3]=0),s&&1!==this.state.cowNotificationCount[4]?this.state.cowNotificationCount[4]=1:s||0===this.state.cowNotificationCount[4]||(this.state.cowNotificationCount[4]=0)}1===this.state.progress.event.type&&this.state.progress.event.startTime<0&&this.state.progress.event.endTime>0&&this.state.progress.event.open&&this.state.userUnicorn.tutorial>0&&(this.state.user.login||this.state.name)&&(this.state.progress.sheep.part>4||this.state.progress.chicken.part>=1||this.state.progress.cow.part>=1)&&(this.state.userUnicorn.collectorNotificationTime<=0&&1!==this.state.unicornNotificationCount[0]?this.state.unicornNotificationCount[0]=1:this.state.userUnicorn.collectorNotificationTime>0&&0!==this.state.unicornNotificationCount[0]&&(this.state.unicornNotificationCount[0]=0))}function h(){var e,t=this.state.sheepNotificationCount.reduce((function(e,t){return e+t})),i=this.state.chickenNotificationCount.reduce((function(e,t){return e+t})),s=this.state.cowNotificationCount.reduce((function(e,t){return e+t})),n=this.state.unicornNotificationCount.reduce((function(e,t){return e+t})),a=[],r="vk"===this.state.platform?this.state.vkTask:"ok"===this.state.platform?this.state.okTask:{};for(var o in r)a.push(r[o]);var c=a.length-a.filter((function(e){return e})).length;c<=0&&!this.state.user.takenSocialAward&&("vk"===this.state.platform||"ok"===this.state.platform)&&(c=1,this.state.shownSocialTaskWindow=!1);var h=null===(e=this.state.user.clanTasks)||void 0===e?void 0:e.filter((function(e){return e.done&&!e.got_awarded})).length;(this.state.userSheep.tutorial<100||this.state.shownSocialTaskWindow)&&(c=0);var l="Sheep"===this.state.farm&&this.state.userSheep.tutorial>=100?i+s+n+c+h:"Chicken"===this.state.farm?t+s+n+c+h:"Cow"===this.state.farm?t+i+n+c+h:"Unicorn"===this.state.farm&&this.state.userUnicorn.tutorial>=80?t+i+s+c+h:0;this.game.scene.keys[this.state.farm+"Bars"].mapNotificator.setCount(l)}function l(){var e=[];if("Sheep"===this.state.farm)for(var t=function(t){if(5===t.territoryType){var s=i.state.sheepSettings.territoriesSheepSettings.find((function(e){return e.improve===t.improve})).storage;r.default.checkTestB(i.state)&&(s=i.state.sheepSettings.partSettings[t.improve-1].territory.maxRepositoryVolume),e.push(t.volume>=s)}},i=this,s=0,n=this.territories.children.entries;s<n.length;s++){t(n[s])}else for(var a=function(t){if(5===t.type){var i=o.state.sheepSettings.territoriesSheepSettings.find((function(e){return e.improve===t.improve})).storage;r.default.checkTestB(o.state)&&(i=o.state.sheepSettings.partSettings[t.improve-1].territory.maxRepositoryVolume),e.push(t.volume>=i)}},o=this,c=0,h=this.state.sheepTerritories;c<h.length;c++){a(h[c])}return e.length>0&&e.every((function(e){return e}))}function d(){var e=[];if("Chicken"===this.state.farm)for(var t=function(t){if(5===t.territoryType){var s=i.state.chickenSettings.territoriesChickenSettings.find((function(e){return e.improve===t.improve})).storage;r.default.checkTestB(i.state)&&(s=i.state.chickenSettings.partSettings[t.improve-1].territory.maxRepositoryVolume),e.push(t.volume>=s)}},i=this,s=0,n=this.territories.children.entries;s<n.length;s++){t(n[s])}else for(var a=function(t){if(5===t.type){var i=o.state.chickenSettings.territoriesChickenSettings.find((function(e){return e.improve===t.improve})).storage;r.default.checkTestB(o.state)&&(i=o.state.chickenSettings.partSettings[t.improve-1].territory.maxRepositoryVolume),e.push(t.volume>=i)}},o=this,c=0,h=this.state.chickenTerritories;c<h.length;c++){a(h[c])}return e.length>0&&e.every((function(e){return e}))}function u(){var e=[];if("Cow"===this.state.farm)for(var t=function(t){if(5===t.territoryType){var s=i.state.cowSettings.cowFactorySettings.find((function(e){return e.improve===t.improve})).lotSize*i.state.storageMultiply;r.default.checkTestB(i.state)&&(s=i.state.cowSettings.partSettings[t.improve-1].territory.maxRepositoryVolume),e.push(t.volume>=s)}},i=this,s=0,n=this.territories.children.entries;s<n.length;s++){t(n[s])}else for(var a=function(t){if(5===t.type){var i=o.state.cowSettings.cowFactorySettings.find((function(e){return e.improve===t.improve})).lotSize*o.state.storageMultiply;r.default.checkTestB(o.state)&&(i=o.state.cowSettings.partSettings[t.improve-1].territory.maxRepositoryVolume),e.push(t.volume>=i)}},o=this,c=0,h=this.state.cowTerritories;c<h.length;c++){a(h[c])}return e.length>0&&e.every((function(e){return e}))}function p(){var e;if("Cow"===this.state.farm){var t=null===(e=this.territories.children.entries.find((function(e){return 8===e.territoryType})))||void 0===e?void 0:e.factory;return t&&t.money>0&&!t.currentProduction}return this.state.userCow.factory.money>0&&!this.state.userCow.factory.currentProduction}function f(){var e=this.state.farm,t=this.state["user"+e],i=t.collectorLevel,s=this.state[e.toLowerCase()+"Settings"].partSettings[i-1].collector;if(i!==t.part&&t.part>=4){var a=this[e.toLowerCase()];"Cow"===e&&(a=this.animalGroup);var r=0;if(a.children.iterate((function(t){(0!==t.type&&"Cow"!==e||"Cow"===e&&0!==t.breed)&&(r+=1)})),r>10*s.speed&&t.collector>0&&(this.speedCollectorTimer-=1,this.speedCollectorTimer<=0)){var o=this.state.lang["speedCollectorNotification"+e];this.speedCollectorTimer=60,n.default.create(this.scene.get(e+"Bars"),o,3)}}}t.sheepIntervalProgress=function(){var e=this,t=e.farmBalance("Sheep"),i=e.state.sheepSettings;this.progressTerritoryCooldown(e.state.sheepTerritories,1,"Sheep",!0);var s=function(s){var n,a=e.state.sheep[s];n=0===a.type?1:a.type;var r=i.sheepSettings.find((function(e){return e.breed===n}));if(a.wool<1e3&&t.waterRecovery>0&&t.grassRecovery>0){var o=r.wool_growth;t.alarm&&(o=Math.round(o/100*i.sheepBadPercent))<1&&(o=1),a.wool+=o,a.wool>1e3&&(a.wool=1e3)}};for(var n in e.state.sheep)s(n)},t.chickenIntervalProgress=function(){var e=this;if(!(e.state.userChicken.part<=0)){var t=e.farmBalance("Chicken"),i=e.state.chickenSettings;if(this.progressTerritoryCooldown(e.state.chickenTerritories,1,"Chicken",!0),e.state.userChicken.part>0){var s=function(s){var a=e.state.chicken[s];if(a){var r;r=0===a.type?1:a.type;var o=i.chickenSettings.find((function(e){return e.breed===r}));if(a.egg<1e3){var c=o.egg;t.alarm&&(c=Math.round(c/100*i.chickenBadPercent))<1&&(c=1),a.egg+=c,a.egg>1e3&&(a.egg=1e3)}if(1e3===a.egg){var h=Math.ceil((a.y-240)/240),l=Math.ceil(a.x/240),d=n.state.chickenTerritories.find((function(e){return e.block===h&&e.position===l}));if(d){var u=i.territoriesChickenSettings.find((function(e){return e.improve===d.improve})).countEggs,p=0,f=function(t){var i=e.state.chickenEggs[t],s=Math.ceil((i.y-240)/240),a=Math.ceil(i.x/240),r=n.state.chickenTerritories.find((function(e){return e.block===s&&e.position===a}));(null==r?void 0:r.block)===d.block&&(null==r?void 0:r.position)===d.position&&p++};for(var m in e.state.chickenEggs)f(m);if((p<u||0===a.type)&&(2===(null==d?void 0:d.type)||3===(null==d?void 0:d.type))){a.egg=0;var g=a.x-20,y=a.x+20,v=a.y+40-20,w=a.y+40+20,b=240*(d.position-1)+20,x=240*d.position-20,k=240*d.block+20,T=240*(d.block+1)-20;b>g&&(g=b),y>x&&(y=x),k>v&&(v=k),w>T&&(w=T)<v&&(v-=40);c={type:a.type,x:Phaser.Math.Between(g,y),y:Phaser.Math.Between(v,w),_id:"local_"+n.randomString(18)};e.state.chickenEggs.push(c),0===(null==a?void 0:a.type)&&a.diamond++,a.diamond>=3&&0===(null==a?void 0:a.type)&&(e.state.chicken=e.state.chicken.filter((function(e){return e._id!==a._id})))}}}}},n=this;for(var a in e.state.chicken)s(a)}}},t.cowIntervalProgress=function(){var e=this;if(!(e.state.userCow.part<=0)){var t=e.farmBalance("Cow"),i=e.state.cowSettings;if(this.progressTerritoryCooldown(e.state.cowTerritories,1,"Cow",!0),e.state.userCow.part>0){var s=function(s){var n,a=e.state.cow[s];n=0===a.type?1:a.type;var r=i.cowSettings.find((function(e){return e.breed===n}));if(a.milk<r.maxMilkVolume){var o=r.maxMilkVolume/10;0===a.type&&(o=r.maxMilkVolume/10),t.alarm&&(o=Math.round(o/100*e.state.cowSettings.cowBadPercent))<1&&(o=1),a.milk+=o,a.milk>r.maxMilkVolume&&(a.milk=r.maxMilkVolume)}};for(var n in e.state.cow)s(n)}}},t.sheepCollectorProgress=function(e){var t=this;if(t.state.progress.sheep.collector>0){var i=t.state.sheepCollectorSettings.find((function(e){return e.level===t.state.userSheep.collectorLevel})).speed;e+=2e3;var s=Math.floor(e/i/1e3);if(s>0){e-=1e3*s;var n=function(e){var i=t.state.sheepTerritories[e];if(5===i.type){var n=t.state.sheepSettings.territoriesSheepSettings.find((function(e){return e.improve===i.improve})).storage;r.default.checkTestB(t.state)&&(n=t.state.sheepSettings.partSettings[i.improve-1].territory.maxRepositoryVolume);for(var o=0;o<s;o+=1){var c=function(e){var r=t.state.sheep[e];if(0!==r.type&&r.wool>=1e3){var o=t.state.sheepSettings.sheepSettings.find((function(e){return e.breed===r.type}));if(n>i.volume){var c=o.long_wool;if(t.state.userSheep.feedBoostTime>0&&(c*=a.feedBoostMultiplier),t.state.clan)c*=t.state.clan.sheep.cooldown>0?1+(t.state.clan.sheep.level-1)/100:1+t.state.clan.sheep.level/100;return i.volume+=1,i.money+=c,r.wool=0,s-=1,"break"}}};for(var h in t.state.sheep){if("break"===c(h))break}}}},a=this;for(var o in t.state.sheepTerritories)n(o)}else e=0}return e},t.chickenCollectorProgress=function(e){var t=this;if(t.state.progress.chicken.collector>0&&t.state.userChicken.part>0){var i=t.state.chickenCollectorSettings.find((function(e){return e.level===t.state.userChicken.collectorLevel})).speed;e+=2e3;var s=Math.floor(e/i/1e3);if(s>0){e-=1e3*s;var n=function(e){var i=t.state.chickenTerritories[e];if(5===i.type){var n=t.state.chickenSettings.territoriesChickenSettings.find((function(e){return e.improve===i.improve})).storage;if(r.default.checkTestB(t.state)&&(n=t.state.chickenSettings.partSettings[i.improve-1].territory.maxRepositoryVolume),n>i.volume){var o=t.state.chickenEggs.filter((function(e){return 0!==e.type}));if(o.length>0){for(var c=function(e){var s=o.shift();if(!s)return"break";var n=t.state.chickenSettings.chickenSettings.find((function(e){return e.breed===s.type})).eggPrice;t.state.userChicken.feedBoostTime>0&&(n*=a.feedBoostMultiplier),t.state.clan&&(n*=t.state.clan.chicken.cooldown>0?1+(t.state.clan.chicken.level-1)/100:1+t.state.clan.chicken.level/100),i.volume+=1,i.money+=n},h=0;h<s;h+=1){if("break"===c())break}t.state.chickenEggs=t.state.chickenEggs.filter((function(e){return o.find((function(t){return t._id===e._id}))||0===e.type}))}}}},a=this;for(var o in t.state.chickenTerritories)n(o)}else e=0}return e},t.cowCollectorProgress=function(e){var t=this;if(t.state.progress.cow.collector>0&&t.state.userCow.part>0){var i=t.state.cowCollectorSettings.find((function(e){return e.level===t.state.userCow.collectorLevel})).speed;e+=2e3;var s=Math.floor(e/i/1e3);if(s>0){e-=1e3*s;var n=function(e){var i=t.state.cowTerritories[e];if(5===i.type){var n=t.state.cowSettings.cowFactorySettings.find((function(e){return e.improve===i.improve})).lotSize*a.state.storageMultiply;r.default.checkTestB(a.state)&&(n=a.state.cowSettings.partSettings[i.improve-1].territory.maxRepositoryVolume),i.volume>=n&&(i.volume=n);for(var o=0;o<s;o+=1)for(var c=function(e){var s=t.state.cowSettings.cowSettings.find((function(t){return t.breed===e.type}));if(0!==e.type&&e.milk>=s.maxMilkVolume&&n>i.volume){return t.state.userCow.feedBoostTime>0&&(e.milk*=a.feedBoostMultiplier),t.state.clan&&(e.milk*=1+t.state.clan.chicken.level/100),i.volume+=e.milk,i.money+=0,e.milk=0,"break"}},h=0,l=t.state.cow;h<l.length;h++){if("break"===c(l[h]))break}}},a=this;for(var o in t.state.cowTerritories)n(o)}else e=0}return e},t.cowFactoryProgress=function(){if(this.state.progress.cow.part>0){var e=this.state.userCow.factory,t=this.state.cowTerritories.find((function(e){return 8===e.type}));if(!t&&this.state.userCow.tutorial<40)return;var i=this.state.cowSettings.cowFactorySettings.find((function(e){return e.improve===t.improve}));e.boostTime>0&&(e.boostTime-=1);var s=0;if(e.productionTimer<=0)if(e.currentProduction){var n=e["production"+e.currentProduction+"Multiply"];e["production"+e.currentProduction+"Money"]+=i.lotSize*n,e.money+=i.lotSize*n,e.currentProduction=void 0}else{var a=this.state.cowTerritories.filter((function(e){return 5===e.type}));if(a.forEach((function(e){s+=e.volume})),s>=i.lotSize){e.productionTimer=i.processingTime;for(var r=i.lotSize,o=0,c=a;o<c.length;o++){var h=c[o];h.volume>r?(h.volume-=r,r=0):(r-=h.volume,h.volume=0)}var l=function(e,t){var i=[e.production1Percent,e.production2Percent,e.production3Percent];t&&i.push(e.production4Percent);for(var s=i.reduce((function(e,t){return e+t})),n=[],a=0,r=0,o=0;o<i.length;o+=1)0!==i[o]&&(a=i[o]+r,n.push({id:o+1,bottom:r,top:a}),r=a);var c,h=Phaser.Math.Between(1,s);for(o=0;o<n.length;o+=1)n[o].bottom<h&&n[o].top>=h&&(c=n[o].id);return c}(i,e.boostTime>0);l&&(e.currentProduction=l)}}else e.productionTimer-=1}},t.updateProfileNotification=function(e){if(void 0===e&&(e=!1),c.bind(this)(),h.bind(this)(),this.scene.isActive("Profile")||e){var t=this.game.scene.keys.Profile;if(t.sheepNotificator){var i=this.state.sheepNotificationCount.reduce((function(e,t){return e+t}));t.sheepNotificator.setCount(i)}if(t.chickenNotificator){i=this.state.chickenNotificationCount.reduce((function(e,t){return e+t}));t.chickenNotificator.setCount(i)}if(t.cowNotificator){i=this.state.cowNotificationCount.reduce((function(e,t){return e+t}));t.cowNotificator.setCount(i)}if(t.unicornNotificator){i=this.state.unicornNotificationCount.reduce((function(e,t){return e+t}));t.unicornNotificator.setCount(i)}}},t.intervalPorgressCollectorTime=function(){var e;"Sheep"===this.state.farm?(this.state.progress.sheep.collector=this.state.userSheep.collector,this.state.progress.chicken.collector>0&&this.state.progress.chicken.collector--,this.state.progress.cow.collector>0&&this.state.progress.cow.collector--,this.state.userChicken.collector=this.state.progress.chicken.collector,this.state.userCow.collector=this.state.progress.cow.collector):"Chicken"===this.state.farm?(this.state.progress.chicken.collector=this.state.userChicken.collector,this.state.progress.sheep.collector>0&&this.state.progress.sheep.collector--,this.state.progress.cow.collector>0&&this.state.progress.cow.collector--,this.state.userSheep.collector=this.state.progress.sheep.collector,this.state.userCow.collector=this.state.progress.cow.collector):"Cow"===this.state.farm?(this.state.progress.cow.collector=this.state.userCow.collector,this.state.progress.sheep.collector>0&&this.state.progress.sheep.collector--,this.state.progress.chicken.collector>0&&this.state.progress.chicken.collector--,this.state.userSheep.collector=this.state.progress.sheep.collector,this.state.userChicken.collector=this.state.progress.chicken.collector):"Unicorn"===this.state.farm&&(this.state.progress.chicken.collector>0&&this.state.progress.chicken.collector--,this.state.progress.sheep.collector>0&&this.state.progress.sheep.collector--,this.state.progress.cow.collector>0&&this.state.progress.cow.collector--,this.state.userSheep.collector=this.state.progress.sheep.collector,this.state.userChicken.collector=this.state.progress.chicken.collector,this.state.userCow.collector=this.state.progress.cow.collector),(null===(e=this.state.userUnicorn)||void 0===e?void 0:e.collectorNotificationTime)>0&&"Unicorn"!==this.state.farm&&this.state.userUnicorn.collectorNotificationTime--,this.state.userSheep.diamondAnimalTime>0&&this.state.userSheep.diamondAnimalTime--,this.state.userChicken.diamondAnimalTime>0&&this.state.userChicken.diamondAnimalTime--,this.state.userCow.diamondAnimalTime>0&&this.state.userCow.diamondAnimalTime--},t.intervalCollectorTutorial=function(){var e=this.game.scene.keys[this.state.farm+"Bars"];if(!e.arrowOnCollector||!e.arrowOnCollector.active){this.state.user.additionalTutorial.collector||"Sheep"!==this.state.farm?0!==this.state["user"+this.state.farm].collector||e.arrowOnCollector||this.scene.isActive("Modal")||this.scene.isActive("Tutorial")||this.scene.isActive("Profile")||this.scene.isActive("Fortune")||(this.counterWithoutCollector++,this.counterWithoutCollector>=10&&(this.counterWithoutCollector=0,e.arrowOnCollector=s.default.generate(e,18))):this.state.userSheep.tutorial>=100&&"Sheep"===this.state.farm&&0===this.state["user"+this.state.farm].collector&&!this.scene.isActive("Tutorial")&&(this.counterWithoutCollector++,!(this.counterWithoutCollector>=10&&this.state["user"+this.state.farm].part>=2)||this.scene.isActive("Modal")||this.scene.isActive("Tutorial")||this.scene.isActive("Profile")||this.scene.isActive("Fortune")||(this.counterWithoutCollector=0,this.state.user.additionalTutorial.collector=!0,this.showTutorial("collector"))),e.arrowOnCollector&&this.state["user"+this.state.farm].collector>0&&(this.counterWithoutCollector=0)}},t.showFeedBoostSpeechBubble=function(){this.feedBoostRemaindTimer<300&&this.state["user"+this.state.farm].feedBoostTime<=0&&this.state.user.additionalTutorial.feedBoost&&this.state["user"+this.state.farm].part>5?this.feedBoostRemaindTimer++:this.feedBoostRemaindTimer>=300&&(this.feedBoostRemaindTimer=0,n.default.create(this.game.scene.keys[this.state.farm+"Bars"],this.state.lang["feedBoostSpeechBubble"+this.state.farm],3))},t.progressClanEventTime=function(e,t){if(void 0===t&&(t=1),e.clan){if(e.progress.clanEvent.endTime>0)e.progress.clanEvent.endTime-=t;else if(0===e.progress.clanEvent.endTime){var i={id:e.user.id,hash:e.user.hash,counter:e.user.counter};a.default.post("https://ferma.games:4000/checkTournamentAward",i).then((function(t){var i=t.data,s=i.error,n=i.userAward;s||(e.clanEventTakenAward=n)}))}e.progress.clanEvent.startTime>0&&(e.progress.clanEvent.startTime-=t)}},t.showSale=function(e){if(!r.default.checkActiveScenes(e,["Modal","Tutorial","Profile","Fortune","Block"])&&e.state.userSheep.part>4){var t=e.state.sales.find((function(e){return!e.shown&&e.startTime<=0&&e.endTime>0}));t&&(t.shown=!0,e.state.modal={type:23,message:t.type},e.scene.launch("Modal",e.state),e.dailyStartCheck=!0)}},t.speedCheckCollector=function(){if(r.default.checkTestB(this.state))return f.bind(this)();var e=this.state.farm,t=this.state["user"+e],i=t.collectorLevel,s=this.state[e.toLowerCase()+"CollectorSettings"],a=s.find((function(e){return e.level===i}));if(a.level<s.length&&t.part>=4){var o=this[e.toLowerCase()];"Cow"===e&&(o=this.animalGroup);var c=0;if(o.children.iterate((function(t){(0!==t.type&&"Cow"!==e||"Cow"===e&&0!==t.breed)&&(c+=1)})),c>10*a.speed&&t.collector>0&&(this.speedCollectorTimer-=1,this.speedCollectorTimer<=0)){var h=this.state.lang["speedCollectorNotification"+e];this.speedCollectorTimer=60,n.default.create(this.scene.get(e+"Bars"),h,3)}}},t.decrementAdFreeDiamondTime=function(e,t){void 0===t&&(t=1),e.user.takenFreeDiamonds&&e.user.takeFreeDiamondTime>0&&(e.user.takeFreeDiamondTime-=t)},t.incInterstitialAdTimer=function(e){e.interstitialTimer<0?e.interstitialTimer=0:e.interstitialTimer+=1},t.incFortuneAdTimer=function(e,t){void 0===t&&(t=1),(e.user.fortuneTimeAd<10800||t<0)&&(e.user.fortuneTimeAd+=t),e.user.fortuneTimeAd<0&&(e.user.fortuneTimeAd=0),e.user.fortuneTimeAd>10800&&(e.user.fortuneTimeAd=10800)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryClanTask=t.getNewClanTasks=t.clickTaskBoard=t.checkDoneTasks=t.checkAnimalTask=t.getTaskData=t.tryTask=t.partTasks=void 0;var s=i(24),n=i(3),a=i(157),r=i(8),o=i(1);function c(){var e=[],t=this.state[this.state.farm.toLowerCase()+"Tasks"],i=this.state["user"+this.state.farm],s=i.part;i.collectorTimeLevel;return t.forEach((function(t){var i=t.id.split("-").map((function(e){return Number(e)}))[0];s===i&&e.push(t)})),e}function h(e,t,i,s){var n=this;void 0===i&&(i=1);var a=this.state["user"+this.state.farm].part,o=this.partTasks().find((function(t){return t.type===e&&0===t.done}));if(o){var c=function(){o.progress>=o.count&&(o.done=1,n.tryClanTask(16),n.achievement.tryType(2),n.state.amplitude.logAmplitudeEvent("task_done",{task_id:o.id,part:a})),n.game.scene.keys[n.state.farm+"Bars"].setCurrentPartProgress()},h=o.type===r.TaskType.IMPROVE_FACTORY||o.type===r.TaskType.IMPROVE_PASTURE||o.type===r.TaskType.IMPROVE_WATER||o.type===r.TaskType.IMPROVE_REPOSITORY;if(s)o.progress=s,c();else{var l=0===o.state,d=o.state===t||l||h&&o.state<=t;o.progress<o.count&&d&&(o.progress+=i,c())}(o.type===r.TaskType.TAKE_COLLECTOR||o.type===r.TaskType.TAKE_FEED_BOOST||o.type===r.TaskType.TAKE_HERD_BOOST)&&c()}}function l(e){if(e){var t;switch(e.type){case r.TaskType.BUY_ANIMAL:t=0===e.state?17:e.state;break;case r.TaskType.MERGE_ANIMAL:t=0===e.state?20:e.state;break;case r.TaskType.TAKE_COLLECTOR:t=16;break;case r.TaskType.GET_ANIMAL:t=0===e.state?17:e.state;break;case r.TaskType.BUY_TERRITORY:t=e.state===r.TerritoryType.PASTURE?25:e.state===r.TerritoryType.WATER?26:e.state===r.TerritoryType.RESPOSITORY?27:e.state===r.TerritoryType.FACTORY?37:29;break;case r.TaskType.COLLECT_MONEY:t=15;break;case r.TaskType.IMPROVE_FAIR:t=22;break;case r.TaskType.IMPROVE_PASTURE:t=24;break;case r.TaskType.IMPROVE_WATER:t=23;break;case r.TaskType.SAVE_PROGRESS:t=19;break;case r.TaskType.HAND_COLLECT:t=21;break;case r.TaskType.ANIMAL_ON_FARM:t=17;break;case r.TaskType.SPEND_DIAMONDS:t=14;break;case r.TaskType.ADD_EMAIL:t=30;break;case r.TaskType.IMPROVE_REPOSITORY:t=28;break;case r.TaskType.TAKE_DIAMOND_ANIMAL:case r.TaskType.COLLECT_DIAMONDS_FROM_ANIMAL:t=13;break;case r.TaskType.SELL_RESOURCE:t=31;break;case r.TaskType.TAKE_FEED_BOOST:t=32;break;case r.TaskType.TAKE_HERD_BOOST:t=33;break;case r.TaskType.IMPROVE_COLLECTOR:t=34;break;case r.TaskType.IMPROVE_FACTORY:t=35;break;case r.TaskType.TAKE_ANIMAL_FROM_HERD:t=33;break;case r.TaskType.SAVE_MILK:t=36;break;case r.TaskType.IMPROVE_ALL_TERRITORY:t=39;break;case r.TaskType.EXCHANGE_DIAMOND:t=38;break;case r.TaskType.IMPROVE_SPEED_COLLECTOR:t=40;break;default:t=21}var i=e.id.replace("-","_"),s=this.state.lang["taskName"+this.state.farm+"_"+i];return s||(s=this.state.lang.taskName),s=(s=s.replace("$1",String(e.count))).replace("$2",String(e.state)),{icon:this.state.farm.toLowerCase()+"-task-icon-"+t,name:s}}}function d(){var e,t=this,i=[];"Sheep"===this.state.farm?(e=this.sheep.children.entries,i=this.state.sheepSettings.sheepSettings):"Chicken"===this.state.farm?(e=this.chicken.children.entries,i=this.state.chickenSettings.chickenSettings):"Cow"===this.state.farm&&(e=this.animalGroup.children.entries,i=this.state.cowSettings.cowSettings);var s=function(e,i){e.done=1,t.tryClanTask(16),e.progress=i,t.achievement.tryType(2)},n=this.partTasks().find((function(e){return 14===e.type}));if(n&&1!==n.done)if(0===n.state&&n.count>0){var a=e.length;n.progress=a,n.count<=a&&s(n,a)}else if(0===n.count){a=0;for(var r=0;r<i.length;r++)for(var o=0;o<e.length;o++)if(i[r].breed===e[o].type||i[r].breed===e[o].breed){a++;break}n.progress=a,i.length<=a&&s(n,a)}else if(n.state>0&&n.count>0){a=0;for(var r in e){var c=e[r];n.state!==c.type&&n.state!==c.breed||a++}n.progress=a,n.count<=a&&s(n,a)}}function u(){var e=this;this.partTasks().forEach((function(t){if(t.type===r.TaskType.IMPROVE_ALL_TERRITORY){var i=e.state["user"+e.state.farm].part,s=20===i?21:i+2,n=e.territories.children.entries.filter((function(e){return(e.territoryType===r.TerritoryType.REPOSITORY||e.territoryType===r.TerritoryType.PASTURE||e.territoryType===r.TerritoryType.WATER)&&e.improve===i}));e.tryTask(27,s,0,n.length)}}));var t=this.state["user"+this.state.farm].fair;this.tryTask(r.TaskType.IMPROVE_FAIR,t),this.game.scene.keys[this.state.farm+"Bars"].setCurrentPartProgress()}function p(e){var t=this;if(e){var i,s,a,o,c=this.game.scene.keys[this.state.farm].territories.children.entries,h=this.game.scene.keys[this.state.farm+"Bars"],l=function(e){t.state.territory=e;t.state.modal={type:1,sysType:2},t.scene.isActive("Modal")?t.scene.restart(t.state):t.scene.launch("Modal",t.state)},d=function(){t.state.modal={type:2,shopType:3},t.scene.isActive("Modal")?t.scene.restart(t.state):t.scene.launch("Modal",t.state)},u=function(){t.state.modal={type:2,shopType:4},t.scene.isActive("Modal")?t.scene.restart(t.state):t.scene.launch("Modal",t.state)},p=function(t){for(var i,s=function(s){if(i=c.find((function(i){return i.territoryType===t&&i.improve===e.state-s})))return"break"},n=1;n<20;n++){if("break"===s(n))break}return i},f=function(){var e=c.find((function(e){return 8===e.territoryType}));if(t.state.territory=e,e){t.state.modal={type:13},t.scene.isActive("Modal")?t.scene.restart(t.state):t.scene.launch("Modal",t.state)}},m=function(){for(var e=function(e){var t=c.find((function(t){return 0===t.territoryType&&t.block===e.block&&t.position===e.position&&t.cooldown<=0}));if(t)return{value:t}},i=0,s=t.state[t.state.farm.toLowerCase()+"Settings"]["territories"+t.state.farm+"Price"].filter((function(e){return e.unlock<=t.state["user"+t.state.farm].part}));i<s.length;i++){var n=e(s[i]);if("object"==typeof n)return n.value}},g=function(i){if(void 0===i&&(i=!1),1===e.state||0===e.state||i)(r=m())?l(r):(t.scene.stop("Modal"),n.default.create(h,t.state.lang.taskHelp_5,3));else if(2===e.state||3===e.state||5===e.state){if(r=c.find((function(e){return 1===e.territoryType&&e.cooldown<=0})))l(r);else{var s=m();if(s)l(s);else if(c.find((function(e){return 1===e.territoryType&&e.cooldown>0})))t.scene.stop("Modal"),n.default.create(h,t.state.lang.taskHelp_5_1,3);else c.find((function(e){return 0===e.territoryType&&e.cooldown>0}))?n.default.create(h,t.state.lang.taskHelp_5_8,3):(t.scene.stop("Modal"),n.default.create(h,t.state.lang["taskHelp_5_"+e.state+"_1"],3))}}else if("Cow"===t.state.farm&&t.state.userCow.part<3&&8===e.state){var a=t.state.cowTasks.find((function(e){return"2-3"===e.id})),r=c.find((function(e){return 3===e.block&&1===e.position}));1===(null==a?void 0:a.done)&&1===(null==a?void 0:a.awardTaken)&&r.cooldown<=0?l(r):r.cooldown>0?(t.scene.stop("Modal"),n.default.create(h,t.state.lang.taskHelp_5,3)):(t.scene.stop("Modal"),n.default.create(t.game.scene.keys[t.state.farm+"Bars"],t.state.lang.doneFirstTask,3))}};switch(e.type){case r.TaskType.BUY_ANIMAL:d();break;case r.TaskType.MERGE_ANIMAL:t.game.scene.keys[t.state.farm].scrolling.scrollY=0,n.default.create(t.game.scene.keys[t.state.farm],t.state.lang.taskHelp_2,1),t.scene.stop("Modal");break;case r.TaskType.TAKE_COLLECTOR:u();break;case r.TaskType.GET_ANIMAL:t.game.scene.keys[t.state.farm].scrolling.scrollY=0,n.default.create(t.game.scene.keys[t.state.farm],t.state.lang.taskHelp_4,1),t.scene.stop("Modal");break;case r.TaskType.BUY_TERRITORY:g();break;case r.TaskType.COLLECT_MONEY:o=c.find((function(e){return 5===e.territoryType&&e.money>0})),t.state.territory=void 0,o?l(o):(t.scene.stop("Modal"),n.default.create(h,t.state.lang.taskHelp_6,3));break;case r.TaskType.IMPROVE_FAIR:a=c.find((function(e){return 4===e.territoryType})),l(a);break;case r.TaskType.IMPROVE_PASTURE:!function(){t.state.territory=void 0;var e=p(2);e?l(e):(t.scene.stop("Modal"),n.default.create(h,t.state.lang.taskHelp_8,3))}();break;case r.TaskType.IMPROVE_WATER:!function(){t.state.territory=void 0;var e=p(3);e?l(e):(t.scene.stop("Modal"),n.default.create(h,t.state.lang.taskHelp_9,3))}();break;case r.TaskType.SAVE_PROGRESS:t.state.modal={type:1,sysType:15},t.scene.isActive("Modal")?t.scene.restart(t.state):t.scene.launch("Modal",t.state);break;case r.TaskType.HAND_COLLECT:n.default.create(this.game.scene.keys[this.state.farm+"Bars"],this.state.lang["taskHelp"+this.state.farm+"_11"],3);break;case r.TaskType.CREATE_CLAN:break;case r.TaskType.ANIMAL_ON_FARM:d();break;case r.TaskType.SPEND_DIAMONDS:u();break;case r.TaskType.ADD_EMAIL:this.game.scene.keys.Sheep.openEmailWindow();break;case r.TaskType.IMPROVE_REPOSITORY:!function(){t.state.territory=void 0;var e=p(5);e?l(e):(t.scene.stop("Modal"),n.default.create(h,t.state.lang.taskHelp_17,3))}();break;case r.TaskType.TAKE_DIAMOND_ANIMAL:this.game.scene.keys[this.state.farm].scrolling.scrollY=0,this.game.scene.keys[this.state.farm]["takeDiamond"+this.state.farm]();break;case r.TaskType.COLLECT_DIAMONDS_FROM_ANIMAL:n.default.create(this.game.scene.keys[this.state.farm+"Bars"],this.state.lang["taskHelp"+this.state.farm+"_19"],3);break;case r.TaskType.SELL_RESOURCE:"Cow"!==this.state.farm?function(){var e=c.find((function(e){return 5===e.territoryType}));t.state.territory=void 0,e?l(e):(t.scene.stop("Modal"),n.default.create(h,t.state.lang.taskHelp_20,3))}():f();break;case r.TaskType.TAKE_FEED_BOOST:case r.TaskType.TAKE_HERD_BOOST:u();break;case r.TaskType.IMPROVE_COLLECTOR:case r.TaskType.IMPROVE_SPEED_COLLECTOR:this.game.scene.keys[this.state.farm].showImproveCollector();break;case r.TaskType.IMPROVE_FACTORY:s=c.find((function(e){return 8===e.territoryType})),t.state.territory=s,s&&t.game.scene.keys[t.state.farm].showImproveFactory();break;case r.TaskType.TAKE_ANIMAL_FROM_HERD:u();break;case r.TaskType.SAVE_MILK:n.default.create(this.game.scene.keys[this.state.farm+"Bars"],this.state.lang.taskHelp_26,3);break;case 27:(i=c.find((function(e){return(5===e.territoryType||3===e.territoryType||2===e.territoryType||8===e.territoryType)&&e.improve<t.state["user"+t.state.farm].part})))&&8!==i.territoryType?l(i):i&&8===i.territoryType?f():(i=c.find((function(e){return 1===e.territoryType})))&&i.cooldown<=0?l(i):g(!0);break;case 28:t.state.modal={type:2,shopType:2},t.scene.isActive("Modal")?t.scene.restart(t.state):t.scene.launch("Modal",t.state)}}}t.partTasks=function(){if(o.default.checkTestB(this.state))return c.bind(this)();var e,t=[],i=[];if("Sheep"===this.state.farm?(e=this.state.userSheep,i=this.state.sheepTasks):"Chicken"===this.state.farm?(e=this.state.userChicken,i=this.state.chickenTasks):"Cow"===this.state.farm&&(e=this.state.userCow,i=this.state.cowTasks),0===(null==i?void 0:i.length)||!i)for(var n in i=[],s.default)1===s.default[n].farm&&"Sheep"===this.state.farm&&i.push(s.default[n]),2===s.default[n].farm&&"Chicken"===this.state.farm&&i.push(s.default[n]),3===s.default[n].farm&&"Cow"===this.state.farm&&i.push(s.default[n]);for(n=0;n<i.length;n++)i[n].part===e.part&&(10===i[n].type?(("web"===this.state.platform||"gd"===this.state.platform)&&""===this.state.user.login||this.takeRewardRegistration)&&t.push(i[n]):16===i[n].type&&"web"!==this.state.platform&&"gd"!==this.state.platform||t.push(i[n]));return t},t.tryTask=function(e,t,i,s){if(void 0===i&&(i=1),o.default.checkTestB(this.state))return h.bind(this)(e,t,i,s);var n;"Sheep"===this.state.farm?n=this.state.userSheep.part:"Chicken"===this.state.farm?n=this.state.userChicken.part:"Cow"===this.state.farm&&(n=this.state.userCow.part);var a=this.partTasks().find((function(t){return t.type===e}));1!==(null==a?void 0:a.done)&&(!s&&0===(null==a?void 0:a.done)&&(null==a?void 0:a.progress)<(null==a?void 0:a.count)&&((null==a?void 0:a.state)===t||0===(null==a?void 0:a.state)||(24===(null==a?void 0:a.type)||8===(null==a?void 0:a.type)||9===(null==a?void 0:a.type)||17===(null==a?void 0:a.type))&&(null==a?void 0:a.state)<=t)&&(a.progress+=i,a.progress>=a.count&&(a.done=1,this.tryClanTask(16),this.achievement.tryType(2),this.state.amplitude.logAmplitudeEvent("task_done",{task_id:a.id,part:n})),this.game.scene.keys[this.state.farm+"Bars"].setCurrentPartProgress()),0===(null==a?void 0:a.done)&&s&&(a.progress=s,a.progress>=a.count&&(a.done=1,this.tryClanTask(16),this.achievement.tryType(2),this.state.amplitude.logAmplitudeEvent("task_done",{task_id:a.id,part:n})),this.game.scene.keys[this.state.farm+"Bars"].setCurrentPartProgress()),(null==a?void 0:a.progress)>=(null==a?void 0:a.count)&&0===(null==a?void 0:a.done)&&(21===(null==a?void 0:a.type)||22===(null==a?void 0:a.type)||3===(null==a?void 0:a.type))&&(a.done=1,this.tryClanTask(16),this.achievement.tryType(2),this.state.amplitude.logAmplitudeEvent("task_done",{task_id:a.id,part:n}),this.game.scene.keys[this.state.farm+"Bars"].setCurrentPartProgress()))},t.getTaskData=function(e){if(o.default.checkTestB(this.state))return l.bind(this)(e);if(e){var t;switch(e.type){case 1:t=0===e.state?17:e.state;break;case 2:t=0===e.state?20:e.state;break;case 3:t=16;break;case 4:t=0===e.state?17:e.state;break;case 5:t=2===e.state?25:3===e.state?26:5===e.state?27:8===e.state?37:29;break;case 6:t=15;break;case 7:t=22;break;case 8:t=24;break;case 9:t=23;break;case 10:t=19;break;case 11:t=21;break;case 14:t=17;break;case 15:t=14;break;case 16:t=30;break;case 17:t=28;break;case 18:case 19:t=13;break;case 20:t=31;break;case 21:t=32;break;case 22:t=33;break;case 23:t=34;break;case 24:t=35;break;case 25:t=33;break;case 26:t=36;break;default:t=21}var i=this.state.lang["taskName_"+e.id];return i||(i=this.state.lang.taskName),i=(i=i.replace("$1",String(e.count))).replace("$2",String(e.state)),{icon:this.state.farm.toLowerCase()+"-task-icon-"+t,name:i}}},t.checkAnimalTask=function(){if(o.default.checkTestB(this.state))return d.bind(this)();var e,t,i=[];if("Sheep"===this.state.farm?(e=this.sheep.children.entries,i=this.state.sheepSettings.sheepSettings):"Chicken"===this.state.farm?(e=this.chicken.children.entries,i=this.state.chickenSettings.chickenSettings):"Cow"===this.state.farm&&(e=this.animalGroup.children.entries,i=this.state.cowSettings.cowSettings),"Cow"!==this.state.farm){if(0===(null==(t=this.partTasks().find((function(e){return 14===e.type})))?void 0:t.state)&&(null==t?void 0:t.count)>0&&0===(null==t?void 0:t.done)){var s=e.length;t.progress=s,t.count<=s&&(t.done=1,this.tryClanTask(16),this.achievement.tryType(2),t.progress=s)}else if(0===(null==t?void 0:t.count)){s=0;for(var n=0;n<i.length;n++)for(var a=0;a<e.length;a++)if(i[n].breed===e[a].type){s++;break}t.progress=s,i.length<=s&&(t.done=1,this.tryClanTask(16),this.achievement.tryType(2),t.progress=s)}else if((null==t?void 0:t.state)>0&&(null==t?void 0:t.count)>0){s=0;for(var n in e){var r=e[n];t.state===r.type&&s++}t.progress=s,t.count<=s&&(t.progress=s,t.done=1,this.tryClanTask(16),this.achievement.tryType(2))}}else if(0===(null==(t=this.partTasks().find((function(e){return 14===e.type})))?void 0:t.state)&&(null==t?void 0:t.count)>0&&0===(null==t?void 0:t.done)){s=e.length;t.progress=s,t.count<=s&&(t.done=1,t.progress=s,this.tryClanTask(16),this.achievement.tryType(2))}else if(0===(null==t?void 0:t.count)){for(s=0,n=0;n<i.length;n++)for(a=0;a<e.length;a++)if(i[n].breed===e[a].breed){s++;break}t.progress=s,i.length<=s&&(t.done=1,t.progress=s,this.tryClanTask(16),this.achievement.tryType(2))}else if((null==t?void 0:t.state)>0&&(null==t?void 0:t.count)>0){s=0;for(var n in e){r=e[n];t.state===r.breed&&s++}t.progress=s,t.count<=s&&(t.progress=s,t.done=1,this.tryClanTask(16),this.achievement.tryType(2))}},t.checkDoneTasks=function(){var e,t;if(o.default.checkTestB(this.state))return u.bind(this)();var i=this.partTasks();for(var s in i){if(8===i[s].type||9===i[s].type||17===i[s].type||24===i[s].type){var n=0,a=void 0;for(var r in 8===i[s].type?a=2:9===i[s].type?a=3:17===i[s].type?a=5:24===i[s].type&&(a=8),this.territories.children.entries)a===this.territories.children.entries[r].territoryType&&this.territories.children.entries[r].improve>=i[s].state&&n++;n>=i[s].count?(i[s].progress=i[s].count,i[s].done=1,this.tryClanTask(16),this.achievement.tryType(2)):i[s].progress=n}23===(null===(e=i[s])||void 0===e?void 0:e.type)&&(i[s].progress=this.state["user"+this.state.farm].collectorLevel,this.state["user"+this.state.farm].collectorLevel>=i[s].count&&(i[s].done=1,this.tryClanTask(16),this.achievement.tryType(2))),21===(null===(t=i[s])||void 0===t?void 0:t.type)&&Math.floor(this.state["user"+this.state.farm].feedBoostTime/60)>=i[s].count&&(i[s].done=1,this.tryClanTask(16),this.achievement.tryType(2))}this.game.scene.keys[this.state.farm+"Bars"].setCurrentPartProgress()},t.clickTaskBoard=function(e){var t=this;if(o.default.checkTestB(this.state))return p.bind(this)(e);if(e){var i,s,a,r=this.game.scene.keys[this.state.farm].territories.children.entries,c=this.game.scene.keys[this.state.farm+"Bars"],h=function(e){t.state.territory=e;t.state.modal={type:1,sysType:2},t.scene.launch("Modal",t.state)},l=function(){t.state.modal={type:2,shopType:3},t.scene.launch("Modal",t.state)},d=function(){t.state.modal={type:2,shopType:4},t.scene.launch("Modal",t.state)},u=function(t){for(var i,s=function(s){if(i=r.find((function(i){return i.territoryType===t&&i.improve===e.state-s})))return"break"},n=1;n<20;n++){if("break"===s(n))break}return i},f=function(){for(var e=function(e){var t=r.find((function(t){return 0===t.territoryType&&t.block===e.block&&t.position===e.position&&t.cooldown<=0}));if(t)return{value:t}},i=0,s=t.state[t.state.farm.toLowerCase()+"Settings"]["territories"+t.state.farm+"Price"].filter((function(e){return e.unlock<=t.state["user"+t.state.farm].part}));i<s.length;i++){var n=e(s[i]);if("object"==typeof n)return n.value}};switch(e.type){case 1:l();break;case 2:t.game.scene.keys[t.state.farm].scrolling.scrollY=0,n.default.create(t.game.scene.keys[t.state.farm],t.state.lang.taskHelp_2,1);break;case 3:d();break;case 4:t.game.scene.keys[t.state.farm].scrolling.scrollY=0,n.default.create(t.game.scene.keys[t.state.farm],t.state.lang.taskHelp_4,1);break;case 5:!function(){1!==e.state&&0!==e.state||((a=f())?h(a):n.default.create(c,t.state.lang.taskHelp_5,3));if(2===e.state||5===e.state)if(a=r.find((function(e){return 1===e.territoryType&&e.cooldown<=0})))h(a);else{var i=f();i?h(i):n.default.create(c,t.state.lang["taskHelp_5_"+e.state],3)}if(t.state.userCow.part<3&&8===e.state){var s=t.state.cowTasks.find((function(e){return 138===e.id})),a=r.find((function(e){return 3===e.block&&1===e.position}));1===(null==s?void 0:s.done)&&1===(null==s?void 0:s.got_awarded)&&a.cooldown<=0?h(a):a.cooldown>0?n.default.create(c,t.state.lang.taskHelp_5,3):n.default.create(t.game.scene.keys[t.state.farm+"Bars"],t.state.lang.doneFirstTask,3)}}();break;case 6:a=r.find((function(e){return 5===e.territoryType&&e.money>0})),t.state.territory=void 0,a?h(a):n.default.create(c,t.state.lang.taskHelp_6,3);break;case 7:s=r.find((function(e){return 4===e.territoryType})),h(s);break;case 8:!function(){t.state.territory=void 0;var e=u(2);e?h(e):n.default.create(c,t.state.lang.taskHelp_8,3)}();break;case 9:!function(){t.state.territory=void 0;var e=u(3);e?h(e):n.default.create(c,t.state.lang.taskHelp_9,3)}();break;case 10:t.state.modal={type:1,sysType:15},t.scene.launch("Modal",t.state);break;case 11:n.default.create(this.game.scene.keys[this.state.farm+"Bars"],this.state.lang["taskHelp"+this.state.farm+"_11"],3);break;case 12:case 13:break;case 14:l();break;case 15:d();break;case 16:this.game.scene.keys.Sheep.openEmailWindow();break;case 17:!function(){t.state.territory=void 0;var e=u(5);e?h(e):n.default.create(c,t.state.lang.taskHelp_17,3)}();break;case 18:this.game.scene.keys[this.state.farm].scrolling.scrollY=0,this.game.scene.keys[this.state.farm]["takeDiamond"+this.state.farm]();break;case 19:n.default.create(this.game.scene.keys[this.state.farm+"Bars"],this.state.lang["taskHelp"+this.state.farm+"_19"],3);break;case 20:"Cow"!==this.state.farm?function(){var e=r.find((function(e){return 5===e.territoryType}));t.state.territory=void 0,e?h(e):n.default.create(c,t.state.lang.taskHelp_20,3)}():function(){var e=r.find((function(e){return 8===e.territoryType}));if(t.state.territory=e,e){t.state.modal={type:13},t.scene.launch("Modal",t.state)}}();break;case 21:case 22:d();break;case 23:this.game.scene.keys[this.state.farm].showImproveCollector();break;case 24:i=r.find((function(e){return 8===e.territoryType})),t.state.territory=i,i&&t.game.scene.keys[t.state.farm].showImproveFactory();break;case 25:d();break;case 26:n.default.create(this.game.scene.keys[this.state.farm+"Bars"],this.state.lang.taskHelp_26,3)}}},t.getNewClanTasks=function(e){var t=[],i=0;return Phaser.Utils.Array.Shuffle(a.default).forEach((function(s){if(i<4&&(t.some((function(e){return e.type!==s.type}))||t.length<=0))if(14!==s.type&&16!==s.type&&17!==s.type){var n=Phaser.Utils.Objects.Clone(s);t.push(n),i+=1}else if(function(e,t){if(14===t.type){var i=0;return i+=e.sheepTerritories.filter((function(e){return 0===e.type&&e.cooldown<0})).length,i+=e.chickenTerritories.filter((function(e){return 0===e.type&&e.cooldown<0})).length,i+=e.cowTerritories.filter((function(e){return 0===e.type&&e.cooldown<0})).length,e.unicornTerritories&&(i+=e.unicornTerritories.filter((function(e){return 0===e.type})).length),i>=t.count}if(16===t.type){i=0;return i+=e.sheepTasks.filter((function(t){return t.part>=e.userSheep.part&&!Boolean(t.done)})).length,i+=e.chickenTasks.filter((function(t){return t.part>=e.userChicken.part&&!Boolean(t.done)})).length,(i+=e.cowTasks.filter((function(t){return t.part>=e.userCow.part&&!Boolean(t.done)})).length)>=t.count}if(17===t.type){i=0;return i+=e.sheepSettings.sheepParts.length-e.userSheep.part,i+=e.chickenSettings.chickenParts.length-e.userChicken.part,(i+=e.cowSettings.cowParts.length-e.userCow.part)>=t.count}return!1}(e,s)){n=Phaser.Utils.Objects.Clone(s);t.push(n),i+=1}})),t},t.tryClanTask=function(e,t,i,s){if(void 0===t&&(t=0),void 0===i&&(i=1),this.state.clan){var n=this.state.user.clanTasks,a=null==n?void 0:n.find((function(t){return t.type===e}));!s&&!(null==a?void 0:a.done)&&(null==a?void 0:a.progress)<(null==a?void 0:a.count)&&((null==a?void 0:a.state)<=t||0===(null==a?void 0:a.state))?(a.progress+=i,a.progress>=a.count&&(a.done=!0,this.achievement.tryClanTypes(a.type),this.state.amplitude.logAmplitudeEvent("clan_task_done",{clan_task_done:a.id}))):!(null==a?void 0:a.done)&&s&&(a.progress=s,a.progress>=a.count&&(a.done=!0,this.achievement.tryClanTypes(a.type),this.state.amplitude.logAmplitudeEvent("clan_task_done",{clan_task_done:a.id})))}}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i){var s=i.x,n=void 0===s?0:s,a=i.y,r=void 0===a?0:a,o=i.width,c=i.height,h=i.top,l=void 0===h?0:h,d=i.bottom,u=void 0===d?5e3:d,p=i.wheel,f=void 0!==p&&p,m=i.drag,g=void 0===m?.95:m,y=i.minSpeed,v=void 0===y?4:y,w=i.snap,b=void 0!==w&&w,x=i.snapConfig,k=void 0===x?{}:x,T=e.call(this,n,r,o,c)||this;return T.scene=t,T.x=n,T.y=r,T.width=o||Number(T.scene.game.config.width),T.height=c||Number(T.scene.game.config.height),T.top=l,T.bottom=u-T.height,T.wheel=f,T.drag=g,T.minSpeed=v,T.snap=b,T.snapGrid=k,T.moving=!1,T.enabled=!0,T.snapGrid.topMargin=void 0===k.topMargin?0:k.topMargin,T.snapGrid.padding=k.padding||20,T.snapGrid.deadZone=void 0===k.deadZone?.4:k.deadZone,T.init(),T}return n(t,e),t.prototype.init=function(){this.scrollY=this.top||this.y,this._rectangle=new Phaser.Geom.Rectangle(this.x,this.y,this.width,this.height),this._speed=0,this._startY=this.scrollY,this._endY=this.scrollY,this._startTime=0,this._endTime=0,this.setDragEvent(),this.wheel&&this.setWheelEvent(),this.scene.time.addEvent({delay:500,callback:this.resetMoving,callbackScope:this,loop:!0}),this.scene.cameras.addExisting(this)},t.prototype.resetMoving=function(){this.moving=!1},t.prototype.setSpeed=function(e){var t=this;if("number"!=typeof e){var i=t._endY-t._startY,s=(t._endTime-t._startTime)/1e3;this._speed=i/s}else this._speed=e},t.prototype.setDragEvent=function(){this.scene.input.on("pointermove",this.dragHandler,this),this.scene.input.on("pointerup",this.upHandler,this),this.scene.input.on("pointerdown",this.downHandler,this)},t.prototype.setWheelEvent=function(){window.addEventListener("wheel",this.wheelHandler.bind(this))},t.prototype.downHandler=function(){this._speed=0,this._startY=this.scrollY,this._startTime=performance.now()},t.prototype.dragHandler=function(e){e.isDown&&this.isOver(e)&&this.enabled&&(this.startY=this.scrollY,this.scrollY-=e.position.y-e.prevPosition.y,this.moving=!0)},t.prototype.upHandler=function(){this._endY=this.scrollY,this._endTime=performance.now(),this.speed=0,this.moving&&this.setSpeed()},t.prototype.wheelHandler=function(e){this.isOver(this.scene.input.activePointer)&&this.wheel&&(this.scrollY+=e.deltaY)},t.prototype.isOver=function(e){return this._rectangle.contains(e.x,e.y)},t.prototype.clampScroll=function(){this.scrollY=Phaser.Math.Clamp(this.scrollY,this.top,this.bottom),this._endY=this.scrollY},t.prototype.update=function(e,t){if(this.scrollY+=this._speed*(t/1e3),this._speed*=this.drag,Math.abs(this._speed)<this.minSpeed&&(this._speed=0,this.snap&&!this.scene.input.activePointer.isDown)){var i=this.top+this.snapGrid.topMargin,s=this.scrollY-i,n=this.snapGrid.padding,a=s/n,r=a%1;Math.abs(.5-r)>=this.snapGrid.deadZone/2&&(this.scrollY=i+Math.round(a)*n)}this.clampScroll()},t.prototype.destroy=function(){},t}(Phaser.Cameras.Scene2D.Camera);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(38),n=i(22),a=i(2),r=i(6),o=i(9),c=i(20),h=i(0),l=i(15),d=i(1),u=function(){function e(e){this.scene=e,this.musicVolume=this.scene.state.musicVolume||0,this.soundVolume=this.scene.state.soundVolume||0}return e.prototype.findAd=function(){this.scene.state.readyAd||this.scene.state.adBlock||("ok"!==this.scene.state.platform||this.scene.state.adTimeout?("vk"===this.scene.state.platform||"ya"===this.scene.state.platform||"gd"===this.scene.state.platform)&&(this.scene.state.readyAd=!0):(this.scene.state.adTimeout=!0,n.FAPI.UI.loadAd()))},e.prototype.watchAd=function(e){var t=this;if(this.scene.state.adRewardedType=e,this.scene.state.readyAd=!1,this.musicVolume=this.scene.state.musicVolume,this.soundVolume=this.scene.state.soundVolume,this.scene.state.musicVolume=0,this.scene.state.soundVolume=0,this.scene.sound.get("music").volume=this.scene.state.musicVolume,"ok"===this.scene.state.platform)n.FAPI.UI.showLoadedAd();else if("vk"===this.scene.state.platform)this.scene.scene.launch("Block"),s.default.send("VKWebAppShowNativeAds",{ad_format:s.EAdsFormats.REWARD}).then((function(e){e.result&&t.adReward()})).finally((function(){t.scene.state.musicVolume=t.musicVolume,t.scene.state.soundVolume=t.soundVolume,t.scene.sound.get("music").volume=t.scene.state.musicVolume,t.scene.scene.stop("Block")}));else if("ya"===this.scene.state.platform)this.scene.state.ysdk.adv.showRewardedVideo({callbacks:{onRewarded:function(){console.log("onRewarded"),t.adReward()},onError:function(){console.log("onError")},onClose:function(){console.log("onClose"),t.scene.state.musicVolume=t.musicVolume,t.scene.state.soundVolume=t.soundVolume,t.scene.sound.get("music").volume=t.scene.state.musicVolume}}});else if("android"===this.scene.state.platform)this.scene.state.admob.rewarded.show();else if("gd"===this.scene.state.platform){var i=window.gdsdk;void 0!==i&&"undefined"!==i.showAd&&i.showAd("rewarded")}},e.prototype.showInterstitialAd=function(){var t,i=this;if(e.checkShowInterstitial(this.scene.state))switch(this.scene.state.interstitialTimer=0,this.scene.state.platform){case"vk":s.default.send("VKWebAppShowNativeAds",{ad_format:s.EAdsFormats.INTERSTITIAL}).then((function(e){e.result&&i.scene.state.amplitude.logAmplitudeRevenue("interstitial",0,"interstitial",{})}));break;case"ok":n.FAPI.UI.showAd();break;case"ya":try{null===(t=this.scene.state.ysdk)||void 0===t||t.adv.showFullscreenAdv({callbacks:{onOpen:function(){i.scene.state.amplitude.logAmplitudeRevenue("interstitial",0,"interstitial",{})}}})}catch(e){console.log(e)}break;case"android":this.scene.state.admob.interstitial.load(),this.scene.state.amplitude.logAmplitudeRevenue("interstitial",0,"interstitial",{});break;case"gd":var a=window.gdsdk;void 0!==a&&"undefined"!==a.showAd&&(this.musicVolume=this.scene.state.musicVolume,this.soundVolume=this.scene.state.soundVolume,this.scene.state.musicVolume=0,this.scene.state.soundVolume=0,this.scene.sound.get("music")&&(this.scene.sound.get("music").volume=this.scene.state.musicVolume),a.showAd("interstitial"),this.scene.state.amplitude.logAmplitudeRevenue("interstitial",0,"interstitial",{}))}},e.checkShowInterstitial=function(e){var t,i=e.farm;if("Unicorn"===i){var s=e.userUnicorn;t=e.interstitialTimer>=60&&s.points>2}else{s=e["user"+i];t=e.interstitialTimer>=60&&s.part>=2}return t&&!e.user.starterpack},e.showInterstitialOnPreload=function(t,i){var a;if(e.checkShowInterstitial(t))switch(t.interstitialTimer=0,t.platform){case"vk":s.default.send("VKWebAppShowNativeAds",{ad_format:s.EAdsFormats.INTERSTITIAL}).then((function(e){e.result&&t.amplitude.logAmplitudeRevenue("interstitial",0,"interstitial",{})}));break;case"ok":n.FAPI.UI.showAd();break;case"ya":try{null===(a=t.ysdk)||void 0===a||a.adv.showFullscreenAdv({callbacks:{onOpen:function(){t.amplitude.logAmplitudeRevenue("interstitial",0,"interstitial",{})}}})}catch(e){console.log(e)}break;case"android":t.admob.interstitial.load(),t.amplitude.logAmplitudeRevenue("interstitial",0,"interstitial",{});break;case"gd":var r=window.gdsdk;void 0!==r&&"undefined"!==r.showAd&&(r.showAd("interstitial"),t.amplitude.logAmplitudeRevenue("interstitial",0,"interstitial",{}))}},e.prototype.adReward=function(){var e,t,i=this,s=this.scene.state["user"+this.scene.state.farm],n=this.scene.game.scene.keys[this.scene.state.farm];switch(this.scene.state.adRewardedType){case 1:this.scene.state.user.diamonds+=1,this.scene.exchange(!0),t="free_soft";break;case 2:var u=Phaser.Math.Between(530,660),p=Phaser.Math.Between(530,540),f="local_"+h.randomString(18);if("Sheep"===this.scene.state.farm)this.scene.getSheep(f,0,u,p,0,500),t="crystall_sheep";else if("Chicken"===this.scene.state.farm){this.scene.getChicken(f,0,u,p,0,500),t="crystall_chicken"}else if("Cow"===this.scene.state.farm){this.scene.animalGroup.generate({x:u,y:p},0,f,0,500,0,7,!0),t="crystall_cow"}this.scene.tryTask(18,0),this.scene.tryClanTask(8),this.scene.state.amplitude.logAmplitudeEvent("take_diamond_animal",{price:"ad"});break;case 3:var m=0;d.default.checkTestB(this.scene.state)?"Sheep"===this.scene.state.farm?(t="sheep_trimmer",m=2*this.scene.state.sheepSettings.partSettings[this.scene.state.userSheep.collectorTimeLevel-1].collector.time,this.scene.state.userSheep.collector=60*m,this.scene.state.userSheep.collectorTakenTime=this.scene.state.userSheep.collector):"Chicken"===this.scene.state.farm?(t="egg_catcher",m=2*this.scene.state.chickenSettings.partSettings[this.scene.state.userChicken.collectorTimeLevel-1].collector.time,this.scene.state.userChicken.collector=60*m,this.scene.state.userChicken.collectorTakenTime=this.scene.state.userChicken.collector):"Cow"===this.scene.state.farm?(t="milk_picker",m=2*this.scene.state.cowSettings.partSettings[this.scene.state.userCow.collectorTimeLevel-1].collector.time,this.scene.state.userCow.collector=60*m,this.scene.state.userCow.collectorTakenTime=this.scene.state.userCow.collector):"Unicorn"===this.scene.state.farm&&(t="resource_catcher",m=2*this.scene.state.unicornCollectorSettings.find((function(e){return e.level===i.scene.state.userUnicorn.collectorLevel})).time,this.scene.state.userUnicorn.collector=60*m,this.scene.state.userUnicorn.collectorTakenTime=this.scene.state.userUnicorn.collector):"Sheep"===this.scene.state.farm?(t="sheep_trimmer",m=2*this.scene.state.sheepCollectorSettings.find((function(e){return e.level===i.scene.state.userSheep.collectorLevel})).time,this.scene.state.userSheep.collector=60*m,this.scene.state.userSheep.collectorTakenTime=this.scene.state.userSheep.collector):"Chicken"===this.scene.state.farm?(t="egg_catcher",m=2*this.scene.state.chickenCollectorSettings.find((function(e){return e.level===i.scene.state.userChicken.collectorLevel})).time,this.scene.state.userChicken.collector=60*m,this.scene.state.userChicken.collectorTakenTime=this.scene.state.userChicken.collector):"Cow"===this.scene.state.farm?(t="milk_picker",m=2*this.scene.state.cowCollectorSettings.find((function(e){return e.level===i.scene.state.userCow.collectorLevel})).time,this.scene.state.userCow.collector=60*m,this.scene.state.userCow.collectorTakenTime=this.scene.state.userCow.collector):"Unicorn"===this.scene.state.farm&&(t="resource_catcher",m=2*this.scene.state.unicornCollectorSettings.find((function(e){return e.level===i.scene.state.userUnicorn.collectorLevel})).time,this.scene.state.userUnicorn.collector=60*m,this.scene.state.userUnicorn.collectorTakenTime=this.scene.state.userUnicorn.collector),this.scene.tryTask(3,0,m),this.scene.tryClanTask(7,0,m),this.scene.state.amplitude.logAmplitudeEvent("collector",{type:"free",price:"ad"});break;case 4:var g=this.scene.game.scene.keys.Unicorn.getFreePosition();if(null===g.x||null===g.y)return;var y=this.scene.state.userUnicorn.points-3;y<2&&(y=2),this.scene.currentTerritory(g.x,g.y).data.values.animal=y,f="local_"+h.randomString(18);var v={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter};a.default.post("https://ferma.games:4000/unicorn/takeAd",v).then((function(e){0===i.scene.state.userUnicorn.takenAd?i.scene.state.userUnicorn.timeToAd+=60:1===i.scene.state.userUnicorn.takenAd?i.scene.state.userUnicorn.timeToAd+=300:2===i.scene.state.userUnicorn.takenAd?i.scene.state.userUnicorn.timeToAd+=1800:3===i.scene.state.userUnicorn.takenAd?i.scene.state.userUnicorn.timeToAd+=7200:i.scene.state.userUnicorn.takenAd>=4?i.scene.state.userUnicorn.timeToAd+=86400:i.scene.state.userUnicorn.timeToAd+=Number.MAX_SAFE_INTEGER,i.scene.state.userUnicorn.takenAd+=1})),this.scene.getAnimal(f,y,g.x,g.y),r.default.create(this.scene,{x:g.x,y:g.y},1),this.scene.state.amplitude.logAmplitudeEvent("take_event_animal",{price:"ad"}),t="take_event_animal";break;case 5:this.scene.state.userUnicorn.money=o.default.add(this.scene.state.userUnicorn.money,this.scene.state.modal.unicornParams.offlineProgress),c.default.create(this.scene.game.scene.keys[this.scene.state.farm+"Bars"]),this.scene.state.amplitude.logAmplitudeEvent("take_double_profit_event",{price:"ad"}),t="take_double_profit_event";break;case 6:this.scene.state.user.diamonds+=1,this.scene.state.user.takeFreeDiamondTime=3600,this.scene.game.scene.keys[this.scene.state.farm].autosave(),this.scene.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"take_ad_diamond",count:1});var w=this.scene.game.scene.keys.Shop;w.scene.isActive()&&w.diamondsWindow&&w.diamondsWindow.pickUpAnim(),t="take_ad_diamond";break;case 7:"Cow"!==this.scene.state.farm?(s.money+=2*this.scene.state.territory.money,this.scene.state.territory.sellResource()):(s.money+=2*this.scene.state.territory.factory.money,null===(e=this.scene.state.territory.factory)||void 0===e||e.sellProducts()),t="take_ad_multiply";break;case 8:n.startHerdBoost(),s.herdBoostAd=!1,t="take_ad_herd_boost";break;case 9:s.feedBoostTime<=0?(s.feedBoostTime+=3600,n.tryTask(21,0,1),n.tryClanTask(9,0,1)):(s.feedBoostTime+=7200,n.tryTask(21,0,2),n.tryClanTask(9,0,2)),s.feedBoostAd=!1,t="take_ad_feed_boost";break;case 10:this.scene.game.scene.getScene("Fortune").adStartFortune(),l.incFortuneAdTimer(this.scene.state,-3600),t="take_ad_fortune"}var b={screen:t};this.scene.state.amplitude.logAmplitudeRevenue(t,0,"rewarded",b),this.scene.autosave(),this.scene.state.musicVolume=this.musicVolume,this.scene.state.soundVolume=this.soundVolume,this.scene.sound.get("music").volume=this.scene.state.musicVolume},e}();t.default=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i){this.scene=e,this.position=t,this.anim=i,this.visible=!0,this.depth=0,this.create(),this.anim&&this.setAnim()}return e.prototype.create=function(){this.animBg=this.scene.add.sprite(this.position.x,this.position.y,"notification-bg").setDepth(this.depth),this.bg=this.scene.add.sprite(this.position.x,this.position.y,"notification-bg").setDepth(this.depth),this.text=this.scene.add.text(this.position.x,this.position.y,"1",{fontFamily:"Bip",fontSize:"28px",color:"#ffffff",fontStyle:"Bold"}).setOrigin(.5).setDepth(this.depth)},e.prototype.setAnim=function(){this.scene.tweens.add({targets:[this.animBg],scale:{from:1.05,to:2},alpha:{from:.5,to:0},duration:500,repeat:-1,repeatDelay:1150})},e.prototype.setText=function(e){this.text.setText(String(e))},e.prototype.setVisible=function(e){return this.visible!==e&&(this.visible=e,this.animBg.setVisible(this.visible),this.bg.setVisible(this.visible),this.text.setVisible(this.visible)),this},e.prototype.setCount=function(e){return e!==this.count&&(this.count=e,this.count<=0?this.setVisible(!1):(this.setVisible(!0),this.setText(e))),this},e.prototype.setPosition=function(e,t){return this.position.x===e&&this.position.y===t||(this.position={x:e,y:t},this.animBg.setPosition(this.position.x,this.position.y),this.bg.setPosition(this.position.x,this.position.y),this.text.setPosition(this.position.x,this.position.y)),this},e.prototype.setDepth=function(e){return this.animBg.setDepth(e),this.bg.setDepth(e),this.text.setDepth(e),this},Object.defineProperty(e.prototype,"y",{get:function(){return this.bg.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.bg.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return[this.bg,this.text,this.animBg]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countMessage",{get:function(){return this.count},enumerable:!1,configurable:!0}),e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i){this.scene=e,this.position={x:this.scene.cameras.main.centerX,y:this.scene.cameras.main.centerY},this.texture=t,this.target=i,this.init()}return e.create=function(t,i,s){return void 0===i&&(i=t.state.farm.toLowerCase()+"Coin"),new e(t,i,s)},e.prototype.init=function(){var e=this;this.money=this.scene.add.group(),this.scene.time.addEvent({delay:100,callbackScope:this,repeat:2,callback:function(){e.animation()}}),this.scene.time.addEvent({delay:3e3,callback:function(){e.money.destroy(!0)}})},e.prototype.animation=function(){var e=this,t={value:2*Math.PI,duration:300,repeat:1,ease:"Power1"},i={value:{from:0,to:.2},duration:300,yoyo:!0,ease:"Power3"},s={value:{from:1,to:.5},duration:600},n=this.moneySprite;this.scene.tweens.add({targets:n,props:{x:{value:this.position.x-Phaser.Math.Between(40,120),duration:150},y:{value:this.position.y-Phaser.Math.Between(40,120),duration:250},rotation:t,scale:i,alpha:s},onComplete:function(){e.flyToBar(n)},ease:"Sine.easeInOut"});var a=this.moneySprite;this.scene.tweens.add({delay:150,targets:a,props:{x:{value:this.position.x+Phaser.Math.Between(40,120),duration:250},y:{value:this.position.y-Phaser.Math.Between(40,120),duration:150},rotation:t,scale:i,alpha:s},onComplete:function(){e.flyToBar(a)},onCompleteScope:this,ease:"Sine.easeInOut"});var r=this.moneySprite;this.scene.tweens.add({delay:50,targets:r,props:{x:{value:this.position.x+Phaser.Math.Between(40,120),duration:150},y:{value:this.position.y+Phaser.Math.Between(40,120),duration:250},rotation:t,scale:i,alpha:s},onComplete:function(){e.flyToBar(r)},onCompleteScope:this,ease:"Sine.easeInOut"});var o=this.moneySprite;this.scene.tweens.add({delay:200,targets:o,props:{x:{value:this.position.x-Phaser.Math.Between(40,120),duration:250},y:{value:this.position.y+Phaser.Math.Between(40,120),duration:200},rotation:t,scale:i,alpha:s},onComplete:function(){e.flyToBar(o)},onCompleteScope:this,ease:"Sine.easeInOut"});var c=this.moneySprite;this.scene.tweens.add({delay:300,targets:c,props:{x:{value:this.position.x+Phaser.Math.Between(40,120),duration:200,yoyo:!0},y:{value:this.position.y+Phaser.Math.Between(40,120),duration:250,yoyo:!0},rotation:t,scale:i,alpha:s},onComplete:function(){e.flyToBar(c)},onCompleteScope:this,ease:"Sine.easeInOut"});var h=this.moneySprite;this.scene.tweens.add({delay:100,targets:h,props:{x:{value:this.position.x-Phaser.Math.Between(40,120),duration:250,yoyo:!0},y:{value:this.position.y-Phaser.Math.Between(40,120),duration:200,yoyo:!0},rotation:t,scale:i,alpha:s},onComplete:function(){e.flyToBar(h)},onCompleteScope:this,ease:"Sine.easeInOut"});var l=this.scene.game.scene.getScene(this.scene.state.farm);"diamond"!==this.texture&&l.playSoundOnce("coins-sound")},e.prototype.flyToBar=function(e){this.target||("diamond"!==this.texture?this.target={x:495,y:120}:this.target={x:495,y:30});var t={from:.8,to:1};this.target.x===this.scene.cameras.main.centerX&&this.target.y===this.scene.cameras.main.centerY&&(t.from=.5,t.to=0),this.scene.tweens.add({targets:e,alpha:t,scale:{from:.1,to:.2},x:this.target.x,y:this.target.y,duration:400,onComplete:function(){e.destroy()},onCompleteScope:this})},Object.defineProperty(e.prototype,"moneySprite",{get:function(){var e=this.scene.add.sprite(this.position.x,this.position.y,this.texture).setDepth(1e4).setAlpha(0).setScale(.12);return this.money.add(e),e},enumerable:!1,configurable:!0}),e}();t.default=s},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),r=function(e){function t(t,i,s){var n=e.call(this,t,0,0,"arrow")||this;return n.scene=t,n.init(i,s),n.type="Arrow",n}return n(t,e),t.generate=function(e,i,s){return new t(e,i,s)},t.prototype.init=function(e,t){this.state=e,this.position=t,this.scene.add.existing(this),this.create()},t.prototype.create=function(){switch(this.state){case 1:this.x=152+this.width/2,this.y=Number(this.scene.game.config.height)-92,this.setAngle(180),this.fadeIn(),this.horizontalAnim();break;case 2:this.x=600,this.y=450-this.height,this.setAngle(90),this.fadeIn(),this.verticalAnim();break;case 3:this.x=360,this.y=450-this.height,this.setAngle(90),this.fadeIn(),this.verticalAnim();break;case 4:this.x=this.position.x,this.y=this.position.x-60-this.height/2,this.setAngle(90),this.verticalAnim();break;case 5:this.x=152+this.width/2,this.y=Number(this.scene.game.config.height)-92,this.setAngle(180),this.fadeIn(),this.horizontalAnim();break;case 6:this.x=120,this.y=600-this.height-150,this.setAngle(90),this.fadeIn(),this.verticalAnim();break;case 7:this.x=280+this.width/2,this.y=Number(this.scene.game.config.height)-92,this.setAngle(180),this.fadeIn(),this.horizontalAnim();break;case 8:this.x=180-this.width/2,this.y=Number(this.scene.game.config.height)+100,this.horizontalAnim();break;case 9:this.x=this.position.x,this.y=this.position.y-120-this.height/2,this.setAngle(90),this.verticalAnim();break;case 10:this.x=this.position.x,this.y=this.position.y-180-this.height/2,this.setAngle(90),this.verticalAnim();break;case 11:this.x=442+this.width/2,this.y=Number(this.scene.game.config.height)-92,this.setAngle(180),this.fadeIn(),this.horizontalAnim();break;case 12:this.x=525+this.width/2,this.y=this.scene.cameras.main.centerY+120,this.setAngle(180),this.fadeIn(),this.horizontalAnim();break;case 13:this.x=442+this.width/2,this.y=Number(this.scene.game.config.height)-92,this.setAngle(180),this.fadeIn(),this.horizontalAnim();break;case 14:this.x=525+this.width/2,this.y=this.scene.cameras.main.centerY+320,this.setAngle(180),this.fadeIn(),this.horizontalAnim();break;case 15:case 16:this.x=152+this.width/2,this.y=Number(this.scene.game.config.height)-92,this.setAngle(180),this.fadeIn(),this.horizontalAnim();break;case 17:this.x=510,this.y=Number(this.scene.game.config.height)-70-150-this.height/2,this.setAngle(90),this.verticalAnim();break;case 18:this.x=230,this.y=Number(this.scene.game.config.height)-70-150-this.height/2,this.setAngle(90),this.verticalAnim();break;case 19:this.x=this.position.x,this.y=this.position.y-180-this.height/2,this.setAngle(90),this.verticalAnim();break;case 20:this.x=510,this.y=Number(this.scene.game.config.height)-70-150-this.height/2,this.setAngle(90),this.verticalAnim();break;case 21:this.x=this.position.x,this.y=this.position.y-180-this.height/2,this.setAngle(90),this.verticalAnim()}return this.setDepth(2*this.y),this},t.prototype.fadeIn=function(){this.scene.tweens.add({duration:100,alpha:{from:0,to:1},targets:this})},t.prototype.horizontalAnim=function(){this.scene.tweens.add({duration:250,x:"+=50",targets:this,yoyo:!0,repeat:-1})},t.prototype.verticalAnim=function(){this.scene.tweens.add({duration:250,y:"+=50",targets:this,yoyo:!0,repeat:-1})},t.prototype.checkModalOpen=function(){return this.scene.scene.isActive("Modal")},t.prototype.checkTutorialOpen=function(){return this.scene.scene.isActive("Tutorial")},t.prototype.setVisibility=function(){switch(this.state){case 9:case 10:case 21:case 17:case 18:case 19:(this.checkModalOpen()||this.checkTutorialOpen())&&this.visible?this.setVisible(!1):this.checkModalOpen()||this.checkTutorialOpen()||this.visible||this.setVisible(!0)}},t.prototype.checkTaskDone=function(e){var t=this.scene.partTasks().find((function(t){return t.id===e}));return 1===(null==t?void 0:t.done)},t.prototype.checkTaskDoneTestB=function(e){var t=this.scene.partTasks().find((function(t){return t.id===e}));return 1===(null==t?void 0:t.done)},t.prototype.checkDestroy=function(){var e,t,i,s=!1;switch(this.state){case 4:s=this.scene.state.userSheep.tutorial>40;break;case 9:s=a.default.checkTestB(this.scene.state)?this.checkTaskDoneTestB("1-4"):this.checkTaskDone(127);break;case 10:a.default.checkTestB(this.scene.state)?"Sheep"===this.scene.state.farm?s=this.checkTaskDoneTestB("2-2"):"Cow"===this.scene.state.farm&&(s=this.checkTaskDoneTestB("2-3")):"Sheep"===this.scene.state.farm?s=this.checkTaskDone(5):"Cow"===this.scene.state.farm&&(s=this.checkTaskDone(137));break;case 16:s=(null===(t=null===(e=this.scene.state)||void 0===e?void 0:e.userUnicorn)||void 0===t?void 0:t.tutorial)>30;break;case 17:1===this.scene.state.progress.event.type&&(s=(null===(i=this.scene.state.userUnicorn)||void 0===i?void 0:i.tutorial)>0);break;case 18:s=this.scene.state["user"+this.scene.state.farm].collector>0;break;case 19:var n=this.scene.territories.children.entries.find((function(e){return 8===e.territoryType}));s=n.factory.money<=0||void 0!==n.factory.currentProduction;break;case 20:s=!this.scene.state.clanTutor&&!this.scene.state.fortuneTutor;break;case 21:s=!a.default.checkTestB(this.scene.state)||this.checkTaskDoneTestB("3-4")}return s},t.prototype.newPosition=function(){var e;switch(this.state){case 4:var t=null===(e=this.scene)||void 0===e?void 0:e.sheep.children.entries[0];t&&this.setPosition(t.x,t.y-t.height-50)}},t.prototype.preUpdate=function(){this.setVisibility(),this.checkDestroy()&&this.destroy(),this.newPosition()},t}(Phaser.GameObjects.Sprite);t.default=r},function(e,t){function i(){s.initialized=!0,window.fapi_success(s.mode)}var s={initialized:!1,mode:"",init:function(e,t,i){var n=e||{},a=t,r=i,o=null==e||s.Util.isString(e);o&&(n={},a=arguments[2],r=arguments[3]),window.fapi_success=s.Util.isFunc(a)?a:function(){},window.fapi_failure=s.Util.isFunc(r)?r:function(){};var c=s.Util.getRequestParameters(n.location_search||window.location.search),h=s.Util.getRequestParameters(n.location_hash||window.location.hash),l=c.api_server||(o?arguments[0]:null),d=c.apiconnection||(o?arguments[1]:null);if(s.Client.initialize(c,h,n),l)this.mode=d?"W":"M","W"==this.mode?s.Util.isFunc(window.postMessage)?(this.invokeUIMethod=s.HTML5.invokeUIMethod,s.HTML5.init(l,d,c)):(this.mode="F",this.invokeUIMethod=s.FLASH.invokeUIMethod,s.FLASH.init(l,d,c)):s.MOBILE.init();else{if(!n.app_id||!n.app_key)return void window.fapi_failure("FAPI was unable to detect launch platform. URL parameters and app_id/app_key not detected.");this.mode="O",s.OAUTH.init(n,c,h)}},invokeUIMethod:function(){API_callback(arguments[0],"error",{error_code:-1,error_message:"UI methods are available only for apps running on OK portal"})},HTML5:{webServerUrl:"",serverUrl:"",apiConnectionName:"",attachRetryCounter:0,init:function(e,t,i){this.serverUrl=e,this.apiConnectionName=t,this.attachRetryCounter=0,s.initialized||(this.webServerUrl=i.web_server,-1==this.webServerUrl.indexOf("://")&&(this.webServerUrl="http://"+this.webServerUrl),s.Util.isFunc(window.addEventListener)?window.addEventListener("message",this.onPostMessage,!1):window.attachEvent("onmessage",this.onPostMessage),this.doAttach())},doAttach:function(){s.initialized||(s.HTML5.attachRetryCounter++<20?(s.HTML5.invokeUIMethod("attach"),setTimeout(s.HTML5.doAttach,500)):window.fapi_failure("Failed to init."))},onPostMessage:function(e){if(s.HTML5.webServerUrl==e.origin){var t=e.data.split("$");if(3==t.length){var n=decodeURIComponent(t[0]);"attach"==n?i():API_callback(n,decodeURIComponent(t[1]),decodeURIComponent(t[2]))}}},invokeUIMethod:function(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];t>0&&(e+="$"),null!=i&&(e+=encodeURIComponent(String(i)))}parent.postMessage("__FAPI__"+e,s.HTML5.webServerUrl)}},FLASH:{flash:null,swfCallback:function(e){e.success?s.FLASH.flash=document.getElementById("FAPI_Flash"):window.fapi_failure("Failed  to embed flash")},embedFlash:function(){var e=document.createElement("span");e.id="FAPI_Flash_wrap",e.style.position="absolute",e.style.marginTop="-10px",document.body.appendChild(e);var t={apiconnection:this.apiConnectionName},i=function(){var e,t,s,n,a,r,o="undefined",c="object",h="Shockwave Flash",l="application/x-shockwave-flash",d="SWFObjectExprInst",u="onreadystatechange",p=window,f=document,m=navigator,g=!1,y=[function(){g?function(){var e=f.getElementsByTagName("body")[0],t=Y(c);t.setAttribute("type",l);var i=e.appendChild(t);if(i){var s=0;!function(){if(typeof i.GetVariable!=o){var n=i.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),_.pv=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)])}else if(s<10)return s++,void setTimeout(arguments.callee,10);e.removeChild(t),i=null,B()}()}else B()}():B()}],v=[],w=[],b=[],x=!1,k=!1,T=!0,_=function(){var e=typeof f.getElementById!=o&&typeof f.getElementsByTagName!=o&&typeof f.createElement!=o,t=m.userAgent.toLowerCase(),i=m.platform.toLowerCase(),s=/win/.test(i||t),n=/mac/.test(i||t),a=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),r=!1,d=[0,0,0],u=null;if(typeof m.plugins!=o&&typeof m.plugins[h]==c)!(u=m.plugins[h].description)||typeof m.mimeTypes!=o&&m.mimeTypes[l]&&!m.mimeTypes[l].enabledPlugin||(g=!0,r=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),d[0]=parseInt(u.replace(/^(.*)\..*$/,"$1"),10),d[1]=parseInt(u.replace(/^.*\.(.*)\s.*$/,"$1"),10),d[2]=/[a-zA-Z]/.test(u)?parseInt(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof p.ActiveXObject!=o)try{var y=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");y&&(u=y.GetVariable("$version"))&&(r=!0,u=u.split(" ")[1].split(","),d=[parseInt(u[0],10),parseInt(u[1],10),parseInt(u[2],10)])}catch(e){}return{w3:e,pv:d,wk:a,ie:r,win:s,mac:n}}();_.w3&&((typeof f.readyState!=o&&"complete"==f.readyState||typeof f.readyState==o&&(f.getElementsByTagName("body")[0]||f.body))&&S(),x||(typeof f.addEventListener!=o&&f.addEventListener("DOMContentLoaded",S,!1),_.ie&&_.win&&(f.attachEvent(u,(function(){"complete"==f.readyState&&(f.detachEvent(u,arguments.callee),S())})),p==top&&function(){if(!x){try{f.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}S()}}()),_.wk&&function(){x||(/loaded|complete/.test(f.readyState)?S():setTimeout(arguments.callee,0))}(),P(S)));function S(){if(!x){try{var e=f.getElementsByTagName("body")[0].appendChild(Y("span"));e.parentNode.removeChild(e)}catch(e){return}x=!0;for(var t=y.length,i=0;i<t;i++)y[i]()}}function C(e){x?e():y[y.length]=e}function P(e){if(typeof p.addEventListener!=o)p.addEventListener("load",e,!1);else if(typeof f.addEventListener!=o)f.addEventListener("load",e,!1);else if(typeof p.attachEvent!=o)!function(e,t,i){e.attachEvent(t,i),b[b.length]=[e,t,i]}(p,"onload",e);else if("function"==typeof p.onload){var t=p.onload;p.onload=function(){t(),e()}}else p.onload=e}function B(){var e=v.length;if(e>0)for(var t=0;t<e;t++){var i=v[t].id,s=v[t].callbackFn,n={success:!1,id:i};if(_.pv[0]>0){var a=L(i);if(a)if(!U(v[t].swfVersion)||_.wk&&_.wk<312)if(v[t].expressInstall&&E()){var r={};r.data=v[t].expressInstall,r.width=a.getAttribute("width")||"0",r.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(r.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(r.align=a.getAttribute("align"));for(var c={},h=a.getElementsByTagName("param"),l=h.length,d=0;d<l;d++)"movie"!=h[d].getAttribute("name").toLowerCase()&&(c[h[d].getAttribute("name")]=h[d].getAttribute("value"));M(r,c,i,s)}else O(a),s&&s(n);else W(i,!0),s&&(n.success=!0,n.ref=A(i),s(n))}else if(W(i,!0),s){var u=A(i);u&&typeof u.SetVariable!=o&&(n.success=!0,n.ref=u),s(n)}}}function A(e){var t=null,i=L(e);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=o)t=i;else{var s=i.getElementsByTagName(c)[0];s&&(t=s)}return t}function E(){return!k&&U("6.0.65")&&(_.win||_.mac)&&!(_.wk&&_.wk<312)}function M(i,a,r,c){k=!0,s=c||null,n={success:!1,id:r};var h=L(r);if(h){"OBJECT"==h.nodeName?(e=I(h),t=null):(e=h,t=r),i.id=d,(typeof i.width==o||!/%$/.test(i.width)&&parseInt(i.width,10)<310)&&(i.width="310"),(typeof i.height==o||!/%$/.test(i.height)&&parseInt(i.height,10)<137)&&(i.height="137"),f.title=f.title.slice(0,47)+" - Flash Player Installation";var l=_.ie&&_.win?"ActiveX":"PlugIn",u="MMredirectURL="+p.location.toString().replace(/&/g,"%26")+"&MMplayerType="+l+"&MMdoctitle="+f.title;if(typeof a.flashvars!=o?a.flashvars+="&"+u:a.flashvars=u,_.ie&&_.win&&4!=h.readyState){var m=Y("div");r+="SWFObjectNew",m.setAttribute("id",r),h.parentNode.insertBefore(m,h),h.style.display="none",function(){4==h.readyState?h.parentNode.removeChild(h):setTimeout(arguments.callee,10)}()}R(i,a,r)}}function O(e){if(_.ie&&_.win&&4!=e.readyState){var t=Y("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(I(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(I(e),e)}function I(e){var t=Y("div");if(_.win&&_.ie)t.innerHTML=e.innerHTML;else{var i=e.getElementsByTagName(c)[0];if(i){var s=i.childNodes;if(s)for(var n=s.length,a=0;a<n;a++)1==s[a].nodeType&&"PARAM"==s[a].nodeName||8==s[a].nodeType||t.appendChild(s[a].cloneNode(!0))}}return t}function R(e,t,i){var s,n=L(i);if(_.wk&&_.wk<312)return s;if(n)if(typeof e.id==o&&(e.id=i),_.ie&&_.win){var a="";for(var r in e)e[r]!=Object.prototype[r]&&("data"==r.toLowerCase()?t.movie=e[r]:"styleclass"==r.toLowerCase()?a+=' class="'+e[r]+'"':"classid"!=r.toLowerCase()&&(a+=" "+r+'="'+e[r]+'"'));var h="";for(var d in t)t[d]!=Object.prototype[d]&&(h+='<param name="'+d+'" value="'+t[d]+'" />');n.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+h+"</object>",w[w.length]=e.id,s=L(e.id)}else{var u=Y(c);for(var p in u.setAttribute("type",l),e)e[p]!=Object.prototype[p]&&("styleclass"==p.toLowerCase()?u.setAttribute("class",e[p]):"classid"!=p.toLowerCase()&&u.setAttribute(p,e[p]));for(var f in t)t[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&D(u,f,t[f]);n.parentNode.replaceChild(u,n),s=u}return s}function D(e,t,i){var s=Y("param");s.setAttribute("name",t),s.setAttribute("value",i),e.appendChild(s)}function N(e){var t=L(e);t&&"OBJECT"==t.nodeName&&(_.ie&&_.win?(t.style.display="none",function(){4==t.readyState?F(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function F(e){var t=L(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}function L(e){var t=null;try{t=f.getElementById(e)}catch(e){}return t}function Y(e){return f.createElement(e)}function U(e){var t=_.pv,i=e.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,t[0]>i[0]||t[0]==i[0]&&t[1]>i[1]||t[0]==i[0]&&t[1]==i[1]&&t[2]>=i[2]}function V(e,t,i,s){if(!_.ie||!_.mac){var n=f.getElementsByTagName("head")[0];if(n){var h=i&&"string"==typeof i?i:"screen";if(s&&(a=null,r=null),!a||r!=h){var l=Y("style");l.setAttribute("type","text/css"),l.setAttribute("media",h),a=n.appendChild(l),_.ie&&_.win&&typeof f.styleSheets!=o&&f.styleSheets.length>0&&(a=f.styleSheets[f.styleSheets.length-1]),r=h}_.ie&&_.win?a&&typeof a.addRule==c&&a.addRule(e,t):a&&typeof f.createTextNode!=o&&a.appendChild(f.createTextNode(e+" {"+t+"}"))}}}function W(e,t){if(T){var i=t?"visible":"hidden";x&&L(e)?L(e).style.visibility=i:V("#"+e,"visibility:"+i)}}function z(e){return null!=/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!=o?encodeURIComponent(e):e}_.ie&&_.win&&window.attachEvent("onunload",(function(){for(var e=b.length,t=0;t<e;t++)b[t][0].detachEvent(b[t][1],b[t][2]);for(var s=w.length,n=0;n<s;n++)N(w[n]);for(var a in _)_[a]=null;for(var r in _=null,i)i[r]=null;i=null}));return{registerObject:function(e,t,i,s){if(_.w3&&e&&t){var n={};n.id=e,n.swfVersion=t,n.expressInstall=i,n.callbackFn=s,v[v.length]=n,W(e,!1)}else s&&s({success:!1,id:e})},getObjectById:function(e){if(_.w3)return A(e)},embedSWF:function(e,t,i,s,n,a,r,h,l,d){var u={success:!1,id:t};_.w3&&!(_.wk&&_.wk<312)&&e&&t&&i&&s&&n?(W(t,!1),C((function(){i+="",s+="";var p={};if(l&&typeof l===c)for(var f in l)p[f]=l[f];p.data=e,p.width=i,p.height=s;var m={};if(h&&typeof h===c)for(var g in h)m[g]=h[g];if(r&&typeof r===c)for(var y in r)typeof m.flashvars!=o?m.flashvars+="&"+y+"="+r[y]:m.flashvars=y+"="+r[y];if(U(n)){var v=R(p,m,t);p.id==t&&W(t,!0),u.success=!0,u.ref=v}else{if(a&&E())return p.data=a,void M(p,m,t,d);W(t,!0)}d&&d(u)}))):d&&d(u)},switchOffAutoHideShow:function(){T=!1},ua:_,getFlashPlayerVersion:function(){return{major:_.pv[0],minor:_.pv[1],release:_.pv[2]}},hasFlashPlayerVersion:U,createSWF:function(e,t,i){return _.w3?R(e,t,i):void 0},showExpressInstall:function(e,t,i,s){_.w3&&E()&&M(e,t,i,s)},removeSWF:function(e){_.w3&&N(e)},createCSS:function(e,t,i,s){_.w3&&V(e,t,i,s)},addDomLoadEvent:C,addLoadEvent:P,getQueryParamValue:function(e){var t=f.location.search||f.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return z(t);for(var i=t.split("&"),s=0;s<i.length;s++)if(i[s].substring(0,i[s].indexOf("="))==e)return z(i[s].substring(i[s].indexOf("=")+1))}return""},expressInstallCallback:function(){if(k){var i=L(d);i&&e&&(i.parentNode.replaceChild(e,i),t&&(W(t,!0),_.ie&&_.win&&(e.style.display="block")),s&&s(n)),k=!1}}}}();i.embedSWF(this.serverUrl+"flash/ForticomAPIJS.swf?v=19","FAPI_Flash_wrap","1","1","9.0.0",this.serverUrl+"flash/expressInstall.swf",t,{menu:"false",scale:"noScale",allowScriptAccess:"always",bgcolor:"#FFFFFF"},{id:"FAPI_Flash"},this.swfCallback)},init:function(e,t){this.serverUrl=e,this.apiConnectionName=t,this.flash=document.getElementById("FAPI_Flash"),null==this.flash?this.embedFlash():i()},isFunc:function(e){return"[object Function]"===Object.prototype.toString.call(e)},getFlash:function(){if(!s.initialized)throw"Forticom API was not initialized properly";return this.flash},invokeUIMethod:function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];null!=t&&(arguments[e]=String(t))}s.FLASH.getFlash().FAPI_send.apply(s.FLASH.getFlash(),arguments)}},UI:{showInvite:function(e,t,i){s.invokeUIMethod("showInvite",e,t,i)},showNotification:function(e,t,i){s.invokeUIMethod("showNotification",e,t,i)},showPermissions:function(e,t){Array.isArray(e)&&(e=JSON.stringify(e)),s.invokeUIMethod("showPermissions",e,t)},showPayment:function(e,t,i,n,a,r,o,c,h){s.invokeUIMethod("showPayment",e,t,i,n,a,r,o,c,h)},showPortalPayment:function(){s.invokeUIMethod("showPortalPayment")},showConfirmation:function(e,t,i){s.invokeUIMethod("showConfirmation",e,t,i)},setWindowSize:function(e,t){s.invokeUIMethod("setWindowSize",e,t)},changeHistory:function(e){s.invokeUIMethod("changeHistory",e)},changeHistoryReplace:function(e){s.invokeUIMethod("changeHistory",e,!0)},scrollToTop:function(){s.invokeUIMethod("scrollToTop")},scrollTo:function(e,t){s.invokeUIMethod("scrollTo",e,t)},getPageInfo:function(){s.invokeUIMethod("getPageInfo")},navigateTo:function(e){s.invokeUIMethod("navigateTo",e)},postMediatopic:function(e,t,i){s.invokeUIMethod("postMediatopic",JSON.stringify(e),t?"on":"off",i?i.join(","):"")},showPromoPayment:function(e,t){s.invokeUIMethod("showPromoPayment",e,t)},isSupported:function(){return"W"==s.mode||"F"==s.mode},isNativeAdSupported:function(){return"undefined"!=typeof OKApp&&void 0!==OKApp.isAdsEnabled&&OKApp.isAdsEnabled()},requestNativeAd:function(){s.invokeUIMethod("requestNativeAd")},requestManualAd:function(){s.invokeUIMethod("requestManualAd")},showLoadedAd:function(){s.invokeUIMethod("showLoadedAd")},loadAd:function(){s.invokeUIMethod("loadAd")},showAd:function(){s.invokeUIMethod("showAd")}},MOBILE:{init:function(){i()}},OAUTH:{init:function(e,t,s){null!=s.access_token||null!=s.error?null==s.error?i():window.fapi_failure("Error with OAUTH authorization: "+s.error):window.location="https://connect.ok.ru/oauth/authorize?client_id="+e.app_id+"&scope="+(e.oauth_scope||"VALUABLE_ACCESS")+"&response_type=token&redirect_uri="+(e.oauth_url||window.location.href)+"&layout=a&state="+(e.oauth_state||"")}},Util:{isFunc:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},calcSignature:function(e,t){var i,s,a=[];for(i in e)a.push(i.toString());for(a.sort(),s="",i=0;i<a.length;i++){var r=a[i];"sig"!=r&&"resig"!=r&&"access_token"!=r&&(s+=a[i]+"="+e[a[i]])}return s+=t,s=this.encodeUtf8(s),n.calc(s)},encodeUtf8:function(e){for(var t="",i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?t+=String.fromCharCode(s):s>127&&s<2048?(t+=String.fromCharCode(s>>6|192),t+=String.fromCharCode(63&s|128)):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128),t+=String.fromCharCode(63&s|128))}return t},getRequestParameters:function(e){var t={},i=e||window.location.search;if(i)for(var s=(i=i.substr(1)).split("&"),n=0;n<s.length;n++){var a=s[n].split("="),r=a[0],o=a[1];void 0!==r&&void 0!==o&&(o=decodeURIComponent(o.replace(/\+/g," ")),t[r]=o)}return t}},Client:{counter:0,window:this,head:null,applicationKey:null,sessionKey:null,accessToken:null,sessionSecretKey:null,apiServer:null,baseUrl:null,uid:null,format:"JSON",initialized:!1,load:function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){if(!s.Util.isFunc(t))return;var e;try{e=JSON.parse(i.responseText)}catch(t){e={error_msg:i.responseText}}200!==i.status||e.hasOwnProperty("error_msg")?t("error",null,e):t("ok",e,null)}},i.send(null)},call:function(e,t,i){this.initialized||this.initialize();var n="?";for(key in(e=this.fillParams(e)).sig=s.Util.calcSignature(e,this.sessionSecretKey),null!=i&&(e.resig=i),e)e.hasOwnProperty(key)&&(n+=key+"="+encodeURIComponent(e[key])+"&");this.load(this.baseUrl+n,t)},calcSignature:function(e){return this.initialized||this.initialize(),e=this.fillParams(e),s.Util.calcSignature(e,this.sessionSecretKey)},fillParams:function(e){return this.initialized||this.initialize(),(e=e||{}).application_key=this.applicationKey,this.sessionKey?e.session_key=this.sessionKey:e.access_token=this.accessToken,e.format=this.format,e},initialize:function(e,t,i){e=e||s.Util.getRequestParameters(),t=t||{},i=i||{},this.uid=e.logged_user_id,this.applicationKey=e.application_key||i.app_key,this.sessionKey=e.session_key,this.accessToken=t.access_token,this.sessionSecretKey=e.session_secret_key||t.session_secret_key,this.apiServer=e.api_server||"https://api.ok.ru/",this.baseUrl=this.apiServer+"fb.do",this.initialized=!0}}},n=function(){var e="0123456789abcdef";function t(t){for(var i="",s=0;s<=3;s++)i+=e.charAt(t>>8*s+4&15)+e.charAt(t>>8*s&15);return i}function i(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function s(e,t,s,n,a,r){return i(function(e,t){return e<<t|e>>>32-t}(i(i(t,e),i(n,r)),a),s)}function n(e,t,i,n,a,r,o){return s(t&i|~t&n,e,t,a,r,o)}function a(e,t,i,n,a,r,o){return s(t&n|i&~n,e,t,a,r,o)}function r(e,t,i,n,a,r,o){return s(t^i^n,e,t,a,r,o)}function o(e,t,i,n,a,r,o){return s(i^(t|~n),e,t,a,r,o)}return{calc:function(e){for(var s=function(e){for(var t=1+(e.length+8>>6),i=new Array(16*t),s=0;s<16*t;s++)i[s]=0;for(s=0;s<e.length;s++)i[s>>2]|=e.charCodeAt(s)<<s%4*8;return i[s>>2]|=128<<s%4*8,i[16*t-2]=8*e.length,i}(e),c=1732584193,h=-271733879,l=-1732584194,d=271733878,u=0;u<s.length;u+=16){var p=c,f=h,m=l,g=d;c=n(c,h,l,d,s[u+0],7,-680876936),d=n(d,c,h,l,s[u+1],12,-389564586),l=n(l,d,c,h,s[u+2],17,606105819),h=n(h,l,d,c,s[u+3],22,-1044525330),c=n(c,h,l,d,s[u+4],7,-176418897),d=n(d,c,h,l,s[u+5],12,1200080426),l=n(l,d,c,h,s[u+6],17,-1473231341),h=n(h,l,d,c,s[u+7],22,-45705983),c=n(c,h,l,d,s[u+8],7,1770035416),d=n(d,c,h,l,s[u+9],12,-1958414417),l=n(l,d,c,h,s[u+10],17,-42063),h=n(h,l,d,c,s[u+11],22,-1990404162),c=n(c,h,l,d,s[u+12],7,1804603682),d=n(d,c,h,l,s[u+13],12,-40341101),l=n(l,d,c,h,s[u+14],17,-1502002290),c=a(c,h=n(h,l,d,c,s[u+15],22,1236535329),l,d,s[u+1],5,-165796510),d=a(d,c,h,l,s[u+6],9,-1069501632),l=a(l,d,c,h,s[u+11],14,643717713),h=a(h,l,d,c,s[u+0],20,-373897302),c=a(c,h,l,d,s[u+5],5,-701558691),d=a(d,c,h,l,s[u+10],9,38016083),l=a(l,d,c,h,s[u+15],14,-660478335),h=a(h,l,d,c,s[u+4],20,-405537848),c=a(c,h,l,d,s[u+9],5,568446438),d=a(d,c,h,l,s[u+14],9,-1019803690),l=a(l,d,c,h,s[u+3],14,-187363961),h=a(h,l,d,c,s[u+8],20,1163531501),c=a(c,h,l,d,s[u+13],5,-1444681467),d=a(d,c,h,l,s[u+2],9,-51403784),l=a(l,d,c,h,s[u+7],14,1735328473),c=r(c,h=a(h,l,d,c,s[u+12],20,-1926607734),l,d,s[u+5],4,-378558),d=r(d,c,h,l,s[u+8],11,-2022574463),l=r(l,d,c,h,s[u+11],16,1839030562),h=r(h,l,d,c,s[u+14],23,-35309556),c=r(c,h,l,d,s[u+1],4,-1530992060),d=r(d,c,h,l,s[u+4],11,1272893353),l=r(l,d,c,h,s[u+7],16,-155497632),h=r(h,l,d,c,s[u+10],23,-1094730640),c=r(c,h,l,d,s[u+13],4,681279174),d=r(d,c,h,l,s[u+0],11,-358537222),l=r(l,d,c,h,s[u+3],16,-722521979),h=r(h,l,d,c,s[u+6],23,76029189),c=r(c,h,l,d,s[u+9],4,-640364487),d=r(d,c,h,l,s[u+12],11,-421815835),l=r(l,d,c,h,s[u+15],16,530742520),c=o(c,h=r(h,l,d,c,s[u+2],23,-995338651),l,d,s[u+0],6,-198630844),d=o(d,c,h,l,s[u+7],10,1126891415),l=o(l,d,c,h,s[u+14],15,-1416354905),h=o(h,l,d,c,s[u+5],21,-57434055),c=o(c,h,l,d,s[u+12],6,1700485571),d=o(d,c,h,l,s[u+3],10,-1894986606),l=o(l,d,c,h,s[u+10],15,-1051523),h=o(h,l,d,c,s[u+1],21,-2054922799),c=o(c,h,l,d,s[u+8],6,1873313359),d=o(d,c,h,l,s[u+15],10,-30611744),l=o(l,d,c,h,s[u+6],15,-1560198380),h=o(h,l,d,c,s[u+13],21,1309151649),c=o(c,h,l,d,s[u+4],6,-145523070),d=o(d,c,h,l,s[u+11],10,-1120210379),l=o(l,d,c,h,s[u+2],15,718787259),h=o(h,l,d,c,s[u+9],21,-343485551),c=i(c,p),h=i(h,f),l=i(l,m),d=i(d,g)}return t(c)+t(h)+t(l)+t(d)}}}();e.exports.FAPI=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this.scene=e,this.text=t||this.scene.state.lang.unknownError,this.create()}return e.prototype.create=function(){var e=this.scene.add.tileSprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-20,614,200,"mid-syst"),t=e.getBounds(),i=this.scene.add.sprite(t.centerX-1,t.top+14,"header-syst").setOrigin(.5,1);this.scene.add.sprite(t.centerX-1,t.bottom-1,"bottom-syst").setOrigin(.5,0),this.scene.add.text(t.centerX,i.getBounds().centerY-6,this.scene.state.lang.error,{fontSize:"37px",fontFamily:"Shadow",color:"#F9D48D"}).setOrigin(.5),this.scene.add.text(t.centerX,t.centerY+5,this.text,{fontStyle:"Bold",fontSize:"30px",fontFamily:"Shadow",color:"#925C28",align:"center",wordWrap:{width:400}}).setOrigin(.5,1).setLineSpacing(8);var s=this.shopButton(e.x,e.y+80,this.scene.state.lang.repeat);this.scene.clickShopBtn(s,(function(){window.location.reload()}))},e.prototype.shopButton=function(e,t,i){return{btn:this.scene.add.sprite(e,t,"shop-btn").setScale(1.3),title:this.scene.add.text(e,t-5,i,{fontSize:"25px",fontFamily:"Shadow",color:"#FFFFFF"}).setOrigin(.5)}},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{farm:1,done:0,got_awarded:0,progress:0,part:1,sort:1,type:1,state:1,count:2,diamonds:2,xp:0,id:1,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:1,sort:2,type:2,state:2,count:1,diamonds:2,xp:0,id:2,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:1,sort:3,type:3,state:0,count:1,diamonds:2,xp:0,id:3,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:1,sort:4,type:20,state:0,count:1,diamonds:0,xp:0,id:127,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:2,sort:1,type:5,state:2,count:1,diamonds:2,xp:0,id:5,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:2,sort:2,type:1,state:1,count:2,diamonds:2,xp:0,id:6,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:2,sort:3,type:4,state:2,count:1,diamonds:0,xp:0,id:4,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:2,sort:4,type:7,state:2,count:1,diamonds:2,xp:0,id:7,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:3,sort:1,type:8,state:4,count:1,diamonds:2,xp:0,id:8,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:3,sort:2,type:9,state:4,count:1,diamonds:2,xp:0,id:9,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:3,sort:3,type:4,state:3,count:5,diamonds:2,xp:0,id:10,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:3,sort:4,type:10,state:1,count:1,diamonds:5,xp:100,id:14,necessary:0},{farm:1,done:0,got_awarded:0,progress:0,part:4,sort:1,type:7,state:3,count:1,diamonds:2,xp:0,id:11,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:4,sort:2,type:5,state:1,count:1,diamonds:2,xp:0,id:13,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:4,sort:3,type:23,state:0,count:10,diamonds:2,xp:0,id:128,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:4,sort:4,type:4,state:4,count:7,diamonds:2,xp:0,id:12,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:5,sort:3,type:8,state:8,count:1,diamonds:2,xp:0,id:15,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:5,sort:4,type:9,state:8,count:1,diamonds:2,xp:0,id:16,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:5,sort:2,type:11,state:1,count:10,diamonds:2,xp:0,id:18,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:5,sort:1,type:22,state:0,count:1,diamonds:2,xp:0,id:63,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:6,sort:1,type:21,state:0,count:1,diamonds:2,xp:0,id:129,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:6,sort:2,type:3,state:0,count:30,diamonds:2,xp:0,id:19,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:6,sort:3,type:2,state:0,count:10,diamonds:2,xp:0,id:20,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:6,sort:4,type:6,state:0,count:2e5,diamonds:2,xp:0,id:21,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:7,sort:1,type:7,state:4,count:1,diamonds:2,xp:0,id:23,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:7,sort:2,type:5,state:0,count:1,diamonds:2,xp:0,id:24,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:7,sort:3,type:23,state:0,count:15,diamonds:2,xp:0,id:130,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:7,sort:4,type:4,state:5,count:9,diamonds:2,xp:0,id:25,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:8,sort:1,type:8,state:10,count:2,diamonds:2,xp:0,id:27,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:8,sort:2,type:9,state:10,count:1,diamonds:2,xp:0,id:28,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:8,sort:3,type:22,state:0,count:1,diamonds:2,xp:0,id:29,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:8,sort:4,type:14,state:0,count:20,diamonds:2,xp:0,id:30,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:9,sort:1,type:7,state:5,count:1,diamonds:2,xp:0,id:31,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:9,sort:2,type:3,state:0,count:60,diamonds:2,xp:0,id:33,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:9,sort:3,type:23,state:0,count:20,diamonds:2,xp:0,id:34,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:9,sort:4,type:4,state:6,count:11,diamonds:2,xp:0,id:32,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:10,sort:1,type:7,state:6,count:1,diamonds:2,xp:0,id:35,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:10,sort:2,type:5,state:0,count:1,diamonds:2,xp:0,id:36,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:10,sort:3,type:8,state:15,count:3,diamonds:2,xp:0,id:38,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:10,sort:4,type:4,state:7,count:13,diamonds:2,xp:0,id:37,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:11,sort:1,type:7,state:7,count:1,diamonds:2,xp:0,id:39,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:11,sort:2,type:21,state:0,count:2,diamonds:2,xp:0,id:41,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:11,sort:3,type:9,state:15,count:2,diamonds:2,xp:0,id:42,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:11,sort:4,type:4,state:8,count:15,diamonds:2,xp:0,id:40,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:12,sort:1,type:7,state:8,count:1,diamonds:2,xp:0,id:43,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:12,sort:2,type:22,state:0,count:2,diamonds:2,xp:0,id:45,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:12,sort:3,type:14,state:0,count:30,diamonds:2,xp:0,id:46,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:12,sort:4,type:4,state:9,count:17,diamonds:2,xp:0,id:44,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:13,sort:1,type:7,state:9,count:1,diamonds:2,xp:0,id:47,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:13,sort:2,type:23,state:0,count:30,diamonds:2,xp:0,id:49,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:13,sort:3,type:5,state:0,count:2,diamonds:2,xp:0,id:50,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:13,sort:2,type:4,state:10,count:19,diamonds:2,xp:0,id:48,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:14,sort:1,type:7,state:10,count:1,diamonds:2,xp:0,id:51,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:14,sort:2,type:2,state:0,count:40,diamonds:2,xp:0,id:53,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:14,sort:3,type:22,state:0,count:5,diamonds:2,xp:0,id:54,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:14,sort:4,type:4,state:11,count:21,diamonds:2,xp:0,id:52,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:15,sort:1,type:7,state:11,count:1,diamonds:2,xp:0,id:55,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:15,sort:2,type:8,state:15,count:4,diamonds:2,xp:0,id:57,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:15,sort:3,type:9,state:15,count:2,diamonds:2,xp:0,id:58,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:15,sort:4,type:4,state:12,count:23,diamonds:2,xp:0,id:56,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:16,sort:1,type:7,state:12,count:1,diamonds:2,xp:0,id:59,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:16,sort:2,type:14,state:0,count:0,diamonds:2,xp:0,id:61,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:16,sort:3,type:6,state:0,count:5e8,diamonds:2,xp:0,id:62,necessary:1},{farm:1,done:0,got_awarded:0,progress:0,part:16,sort:4,type:4,state:12,count:12,diamonds:2,xp:0,id:60,necessary:1},{id:64,part:1,count:2,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:0,type:1,xp:0,farm:2},{id:65,part:1,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:0,type:2,xp:0,farm:2},{id:66,part:1,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:0,type:3,xp:0,farm:2},{id:67,part:1,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:5,type:5,xp:0,farm:2},{id:68,part:2,count:2,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:2,type:4,xp:0,farm:2},{id:69,part:2,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:2,type:5,xp:0,farm:2},{id:70,part:2,count:5e3,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:0,type:6,xp:0,farm:2},{id:71,part:2,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:2,type:7,xp:0,farm:2},{id:72,part:3,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:5,type:8,xp:0,farm:2},{id:73,part:3,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:5,type:9,xp:0,farm:2},{id:75,part:3,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:5,type:17,xp:0,farm:2},{id:74,part:3,count:5,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:3,type:4,xp:0,farm:2},{id:76,farm:2,sort:1,part:4,type:7,count:1,state:3,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,xp:0},{id:78,part:4,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:2,type:5,xp:0,farm:2},{id:79,part:4,count:14,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:0,type:23,xp:0,farm:2},{id:77,part:4,count:7,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:4,type:4,xp:0,farm:2},{id:80,part:5,count:10,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:0,type:11,xp:0,farm:2},{id:81,part:5,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:10,type:8,xp:0,farm:2},{id:82,part:5,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:10,type:9,xp:0,farm:2},{id:83,part:5,count:10,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:0,type:2,xp:0,farm:2},{id:84,part:6,count:180,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:0,type:3,xp:0,farm:2},{id:85,part:6,count:2,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:0,type:22,xp:0,farm:2},{id:86,part:6,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:0,type:21,xp:0,farm:2},{id:87,part:6,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:10,type:17,xp:0,farm:2},{id:88,part:7,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:4,type:7,xp:0,farm:2},{id:89,part:7,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:0,type:5,xp:0,farm:2},{id:91,part:7,count:29,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:0,type:23,xp:0,farm:2},{id:90,part:7,count:9,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:5,type:4,xp:0,farm:2},{id:92,part:8,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:10,type:8,xp:0,farm:2},{id:93,part:8,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:15,type:9,xp:0,farm:2},{id:94,part:8,count:2,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:0,type:21,xp:0,farm:2},{id:95,part:8,count:20,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:0,type:14,xp:0,farm:2},{id:96,part:9,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:5,type:7,xp:0,farm:2},{id:98,part:9,count:480,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:0,type:3,xp:0,farm:2},{id:99,part:9,count:39,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:0,type:23,xp:0,farm:2},{id:97,part:9,count:11,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:6,type:4,xp:0,farm:2},{id:100,part:10,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:6,type:7,xp:0,farm:2},{id:101,part:10,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:0,type:5,xp:0,farm:2},{id:103,part:10,count:3,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:15,type:8,xp:0,farm:2},{id:102,part:10,count:13,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:7,type:4,xp:0,farm:2},{id:104,part:11,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:7,type:7,xp:0,farm:2},{id:106,part:11,count:20,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:0,type:25,xp:0,farm:2},{id:107,part:11,count:2,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:15,type:9,xp:0,farm:2},{id:105,part:11,count:15,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:8,type:4,xp:0,farm:2},{id:108,part:12,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:8,type:7,xp:0,farm:2},{id:110,part:12,count:25,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:0,type:2,xp:0,farm:2},{id:111,part:12,count:30,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:0,type:14,xp:0,farm:2},{id:109,part:12,count:17,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:9,type:4,xp:0,farm:2},{id:112,part:13,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:9,type:7,xp:0,farm:2},{id:114,part:13,count:49,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:0,type:23,xp:0,farm:2},{id:115,part:13,count:2,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:0,type:5,xp:0,farm:2},{id:113,part:13,count:19,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:10,type:4,xp:0,farm:2},{id:116,part:14,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:10,type:7,xp:0,farm:2},{id:118,part:14,count:40,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:0,type:2,xp:0,farm:2},{id:119,part:14,count:100,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:0,type:15,xp:0,farm:2},{id:117,part:14,count:21,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:11,type:4,xp:0,farm:2},{id:120,part:15,count:1,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:11,type:7,xp:0,farm:2},{id:122,part:15,count:4,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:15,type:8,xp:0,farm:2},{id:123,part:15,count:2,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:15,type:9,xp:0,farm:2},{id:121,part:15,count:23,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:12,type:4,xp:0,farm:2},{id:125,part:16,count:0,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:0,type:14,xp:0,farm:2},{id:126,part:16,count:5e7,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:2,state:0,type:6,xp:0,farm:2},{id:124,part:16,count:12,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:3,state:12,type:4,xp:0,farm:2},{id:195,farm:2,part:16,count:10,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:4,state:0,type:22,xp:0},{id:131,part:1,count:3,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,sort:1,state:1,type:1,xp:0,farm:3},{id:132,farm:3,part:1,sort:2,type:2,count:1,state:0,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,xp:0},{id:133,farm:3,part:1,sort:3,type:3,count:1,state:0,diamonds:2,done:0,got_awarded:0,necessary:1,progress:0,xp:0},{id:134,done:0,got_awarded:0,progress:0,part:1,sort:4,type:5,state:5,count:1,diamonds:2,xp:0,necessary:1,farm:3},{id:135,part:2,sort:3,done:0,farm:3,type:23,count:7,state:0,necessary:1,diamonds:2,got_awarded:0,progress:0,xp:0},{id:136,farm:3,part:2,sort:4,type:7,count:1,state:2,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:137,farm:3,part:2,sort:2,type:5,count:1,state:8,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:138,farm:3,part:2,sort:1,type:26,count:1e3,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:139,farm:3,part:3,sort:4,type:8,count:1,state:3,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:140,farm:3,part:3,sort:2,type:24,count:1,state:2,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:141,farm:3,part:3,sort:3,type:9,count:1,state:3,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:142,farm:3,part:3,sort:1,type:4,count:7,state:3,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:143,farm:3,part:4,sort:3,type:23,count:17,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:144,farm:3,part:4,sort:1,type:7,count:1,state:3,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:145,farm:3,part:4,sort:4,type:24,count:1,state:3,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:146,farm:3,part:4,sort:2,type:4,count:9,state:4,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:147,farm:3,part:5,sort:1,type:3,count:180,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:148,farm:3,part:5,sort:2,type:8,count:1,state:5,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:149,farm:3,part:5,sort:3,type:9,count:1,state:5,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:150,farm:3,part:5,sort:4,type:18,count:1,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:151,farm:3,part:6,sort:4,type:23,count:27,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:152,farm:3,part:6,sort:2,type:15,count:10,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:153,farm:3,part:6,sort:3,type:21,count:1,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:154,farm:3,part:6,sort:1,type:11,count:10,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:155,farm:3,part:7,sort:3,type:23,count:37,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:156,farm:3,part:7,sort:4,type:24,count:1,state:6,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:157,farm:3,part:7,sort:1,type:7,count:1,state:4,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:158,farm:3,part:7,sort:2,type:4,count:11,state:5,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:159,farm:3,part:8,sort:1,type:8,count:1,state:6,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:160,farm:3,part:8,sort:2,type:9,count:1,state:6,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:161,farm:3,part:8,sort:3,type:20,count:10,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:162,farm:3,part:8,sort:4,type:25,count:20,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:163,farm:3,part:9,sort:4,type:23,count:42,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:164,farm:3,part:9,sort:3,type:24,count:1,state:7,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:165,farm:3,part:9,sort:1,type:7,count:1,state:5,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:166,farm:3,part:9,sort:2,type:4,count:13,state:6,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:167,farm:3,part:10,sort:1,type:7,count:1,state:6,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:168,farm:3,part:10,sort:2,type:19,count:3,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:169,farm:3,part:10,sort:3,type:24,count:1,state:9,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:170,farm:3,part:10,sort:4,type:4,count:15,state:7,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:171,farm:3,part:11,sort:2,type:23,count:47,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:172,farm:3,part:11,sort:1,type:7,count:1,state:7,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:173,farm:3,part:11,sort:3,type:24,count:1,state:11,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:174,farm:3,part:11,sort:4,type:4,count:17,state:8,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:175,farm:3,part:12,sort:2,type:23,count:52,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:176,farm:3,part:12,sort:3,type:24,count:1,state:13,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:177,farm:3,part:12,sort:1,type:7,count:1,state:8,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:178,farm:3,part:12,sort:4,type:4,count:19,state:9,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:179,farm:3,part:13,sort:2,type:23,count:57,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:180,farm:3,part:13,sort:3,type:24,count:1,state:15,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:181,farm:3,part:13,sort:1,type:7,count:1,state:9,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:182,farm:3,part:13,sort:4,type:4,count:21,state:10,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:183,farm:3,part:14,sort:2,type:23,count:62,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:184,farm:3,part:14,sort:1,type:7,count:1,state:10,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:185,farm:3,part:14,sort:3,type:24,count:1,state:18,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:186,farm:3,part:14,sort:4,type:4,count:23,state:11,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:187,farm:3,part:15,sort:1,type:7,count:1,state:11,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:188,farm:3,part:15,sort:2,type:9,count:2,state:20,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:189,farm:3,part:15,sort:3,type:8,count:4,state:20,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:190,farm:3,part:15,sort:4,type:4,count:25,state:12,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:191,farm:3,part:16,sort:1,type:24,count:1,state:20,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:192,farm:3,part:16,sort:2,type:14,count:0,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:193,farm:3,part:16,sort:3,type:23,count:67,state:0,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0},{id:194,farm:3,part:16,sort:4,type:4,count:12,state:12,necessary:1,diamonds:2,done:0,got_awarded:0,progress:0,xp:0}]},function(e,t,i){function s(e){if(e)return function(e){for(var t in s.prototype)e[t]=s.prototype[t];return e}(e)}e.exports=s,s.prototype.on=s.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},s.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,this.on(e,i),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<s.length;n++)if((i=s[n])===t||i.fn===t){s.splice(n,1);break}return 0===s.length&&delete this._callbacks["$"+e],this},s.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),i=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(i){s=0;for(var n=(i=i.slice(0)).length;s<n;++s)i[s].apply(this,t)}return this},s.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},s.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,i){var s,n=i(1709),a=i(104),r=i(1710),o=i(1711),c=i(1712);"undefined"!=typeof ArrayBuffer&&(s=i(1713));var h="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=h||l;t.protocol=3;var u=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=n(u),f={type:"error",data:"parser error"},m=i(1714);function g(e,t,i){for(var s=new Array(e.length),n=o(e.length,i),a=function(e,i,n){t(i,(function(t,i){s[e]=i,n(t,s)}))},r=0;r<e.length;r++)a(r,e[r],n)}t.encodePacket=function(e,i,s,n){"function"==typeof i&&(n=i,i=!1),"function"==typeof s&&(n=s,s=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(e,i,s){if(!i)return t.encodeBase64Packet(e,s);var n=e.data,a=new Uint8Array(n),r=new Uint8Array(1+n.byteLength);r[0]=u[e.type];for(var o=0;o<a.length;o++)r[o+1]=a[o];return s(r.buffer)}(e,i,n);if(void 0!==m&&a instanceof m)return function(e,i,s){if(!i)return t.encodeBase64Packet(e,s);if(d)return function(e,i,s){if(!i)return t.encodeBase64Packet(e,s);var n=new FileReader;return n.onload=function(){t.encodePacket({type:e.type,data:n.result},i,!0,s)},n.readAsArrayBuffer(e.data)}(e,i,s);var n=new Uint8Array(1);n[0]=u[e.type];var a=new m([n.buffer,e.data]);return s(a)}(e,i,n);if(a&&a.base64)return function(e,i){var s="b"+t.packets[e.type]+e.data.data;return i(s)}(e,n);var r=u[e.type];return void 0!==e.data&&(r+=s?c.encode(String(e.data),{strict:!1}):String(e.data)),n(""+r)},t.encodeBase64Packet=function(e,i){var s,n="b"+t.packets[e.type];if(void 0!==m&&e.data instanceof m){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];i(n+e)},a.readAsDataURL(e.data)}try{s=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var r=new Uint8Array(e.data),o=new Array(r.length),c=0;c<r.length;c++)o[c]=r[c];s=String.fromCharCode.apply(null,o)}return n+=btoa(s),i(n)},t.decodePacket=function(e,i,s){if(void 0===e)return f;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),i);if(s&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return f;var n=e.charAt(0);return Number(n)==n&&p[n]?e.length>1?{type:p[n],data:e.substring(1)}:{type:p[n]}:f}n=new Uint8Array(e)[0];var a=r(e,1);return m&&"blob"===i&&(a=new m([a])),{type:p[n],data:a}},t.decodeBase64Packet=function(e,t){var i=p[e.charAt(0)];if(!s)return{type:i,data:{base64:!0,data:e.substr(1)}};var n=s.decode(e.substr(1));return"blob"===t&&m&&(n=new m([n])),{type:i,data:n}},t.encodePayload=function(e,i,s){"function"==typeof i&&(s=i,i=null);var n=a(e);if(i&&n)return m&&!d?t.encodePayloadAsBlob(e,s):t.encodePayloadAsArrayBuffer(e,s);if(!e.length)return s("0:");g(e,(function(e,s){t.encodePacket(e,!!n&&i,!1,(function(e){s(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return s(t.join(""))}))},t.decodePayload=function(e,i,s){if("string"!=typeof e)return t.decodePayloadAsBinary(e,i,s);var n;if("function"==typeof i&&(s=i,i=null),""===e)return s(f,0,1);for(var a,r,o="",c=0,h=e.length;c<h;c++){var l=e.charAt(c);if(":"===l){if(""===o||o!=(a=Number(o)))return s(f,0,1);if(o!=(r=e.substr(c+1,a)).length)return s(f,0,1);if(r.length){if(n=t.decodePacket(r,i,!1),f.type===n.type&&f.data===n.data)return s(f,0,1);if(!1===s(n,c+a,h))return}c+=a,o=""}else o+=l}return""!==o?s(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,i){if(!e.length)return i(new ArrayBuffer(0));g(e,(function(e,i){t.encodePacket(e,!0,!0,(function(e){return i(null,e)}))}),(function(e,t){var s=t.reduce((function(e,t){var i;return e+(i="string"==typeof t?t.length:t.byteLength).toString().length+i+2}),0),n=new Uint8Array(s),a=0;return t.forEach((function(e){var t="string"==typeof e,i=e;if(t){for(var s=new Uint8Array(e.length),r=0;r<e.length;r++)s[r]=e.charCodeAt(r);i=s.buffer}n[a++]=t?0:1;var o=i.byteLength.toString();for(r=0;r<o.length;r++)n[a++]=parseInt(o[r]);n[a++]=255;for(s=new Uint8Array(i),r=0;r<s.length;r++)n[a++]=s[r]})),i(n.buffer)}))},t.encodePayloadAsBlob=function(e,i){g(e,(function(e,i){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var s=new Uint8Array(e.length),n=0;n<e.length;n++)s[n]=e.charCodeAt(n);e=s.buffer,t[0]=0}var a=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),r=new Uint8Array(a.length+1);for(n=0;n<a.length;n++)r[n]=parseInt(a[n]);if(r[a.length]=255,m){var o=new m([t.buffer,r.buffer,e]);i(null,o)}}))}),(function(e,t){return i(new m(t))}))},t.decodePayloadAsBinary=function(e,i,s){"function"==typeof i&&(s=i,i=null);for(var n=e,a=[];n.byteLength>0;){for(var o=new Uint8Array(n),c=0===o[0],h="",l=1;255!==o[l];l++){if(h.length>310)return s(f,0,1);h+=o[l]}n=r(n,2+h.length),h=parseInt(h);var d=r(n,0,h);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(e){var u=new Uint8Array(d);d="";for(l=0;l<u.length;l++)d+=String.fromCharCode(u[l])}a.push(d),n=r(n,h)}var p=a.length;a.forEach((function(e,n){s(t.decodePacket(e,i,!0),n,p)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.plusMoneyAnimation=t.openModal=t.improveCollectorAnim=t.openShop=t.getCurrency=t.newbieAwardAnimation=t.showSheepSprite=t.dragSheep=t.increaseDiamonds=t.pulseBalance=void 0;var s=i(28);t.pulseBalance=function(){var e=this.textWater,t=this.textGrass;if(this.waterProblem&&this.state.userSheep.tutorial>=100){var i=e.getData("pulseTimer");i+=1,e.setData("pulseTimer",i),20===i?e.setColor("#82261c"):40===i&&(e.setData("pulseTimer",0),e.setColor("#FFFFFF"))}else this.waterProblem||"#82261c"!==e.style.color||e.setColor("#FFFFFF");if(this.grassProblem&&this.state.userSheep.tutorial>=100){i=t.getData("pulseTimer");i+=1,t.setData("pulseTimer",i),20===i?t.setColor("#82261c"):40===i&&(t.setData("pulseTimer",0),t.setColor("#FFFFFF"))}else this.grassProblem||"#82261c"!==t.style.color||t.setColor("#FFFFFF")},t.increaseDiamonds=function(){var e=this;if(this.countIncrease>0){var t=!0;this.increaseAnimation=!0,this.countIncrease--,this.userDiamonds=this.stepsDiamonds[this.countIncrease],0===this.countIncrease&&(this.stepsDiamonds=[]),this.timeout=this.time.addEvent({delay:10,callback:function(){t?(e.diamonds.scale+=.1,e.diamonds.scale>=1.5&&(t=!1)):(e.diamonds.scale-=.1,e.diamonds.scale<=1&&(e.diamonds.scale=1,e.increaseAnimation=!1,e.timeout.remove(!1)))},callbackScope:this,loop:!0})}},t.dragSheep=function(e){var t=this;if(void 0===e&&(e=!1),this.showMergPointer)if(this.mergPointer.start)this.mergPointer.y<=this.mergPointer.target&&!this.mergPointer.stop&&(this.mergPointer.stop=!0,this.mergPointer.body.reset(this.mergPointer.x,this.mergPointer.y),this.mergPointer.first=!this.mergPointer.first,this.time.addEvent({delay:300,callback:function(){t.mergPointer.setVisible(!1)},callbackScope:this,loop:!1}),this.time.addEvent({delay:1e3,callback:function(){t.showMergPointer=!0,t.mergPointer.start=!1},callbackScope:this,loop:!1}));else{this.mergPointer.stop=!1,this.mergPointer.setVisible(!0);var i=new Phaser.Math.Vector2;i.x=585;var s=285;if(e){this.mergPointer.x=480,this.mergPointer.y=560,i.y=350;var n=this.sheep.children.entries[0],a=this.sheep.children.entries[1];n&&a&&(this.mergPointer.first&&!n.merging||!this.mergPointer.first&&a.merging?(this.mergPointer.x=n.x,this.mergPointer.y=n.y):(this.mergPointer.x=a.x,this.mergPointer.y=a.y))}else this.mergPointer.first?(i.y=300,this.mergPointer.x=450,this.mergPointer.y=520,s=300):(i.y=400,this.mergPointer.x=480,this.mergPointer.y=560,s=270);this.mergPointer.target=i.y,this.mergPointer.scene&&(this.physics.moveToObject(this.mergPointer,i,s),this.mergPointer.start=!0)}},t.showSheepSprite=function(){var e,t=this;if(20===this.state.tutorial.step&&1===this.state.tutorial.farm&&!this.showSheep&&!(null===(e=this.game.scene.keys[this.state.farm].sheep.children.entries[0])||void 0===e?void 0:e.aim)){this.showSheep=!0;var i=this.add.sprite(360,600,"sheep-stay-right1").setAlpha(0),s=this.add.sprite(360,600,"sheep-right-1-1").setAlpha(0);i.anims.play("sheep-stay-right1",!0);var n=0,a=this.time.addEvent({delay:30,callback:function(){if(n+=.05,i.setAlpha(n),s.setAlpha(n),n>=1){for(var e in t.game.scene.keys[t.state.farm].sheep.children.entries)t.game.scene.keys[t.state.farm].sheep.children.entries[e].setVisible(!1),t.game.scene.keys[t.state.farm].sheep.children.entries[e].woolSprite.setVisible(!1),t.game.scene.keys[t.state.farm].sheep.children.entries[e].shaveStatus.setVisible(!1);a.remove(!1)}},callbackScope:this,loop:!0})}},t.newbieAwardAnimation=function(){var e=this,t=195,i=this.cameras.main.centerY-200,s="newbie-day-0",n={x:510,y:this.height-90};2===this.state.daily?(t=355,i=this.cameras.main.centerY-210,s="newbie-day-1"):3===this.state.daily?(t=515,i=this.cameras.main.centerY-200,s="newbie-day-2"):4===this.state.daily?(t=195,i=this.cameras.main.centerY-30,s="newbie-day-3"):5===this.state.daily?(t=360,i=this.cameras.main.centerY-25,s="newbie-day-4","Sheep"!==this.state.farm&&"Cow"!==this.state.farm||(n.x=230)):6===this.state.daily?(t=515,i=this.cameras.main.centerY-25,s="newbie-day-5"):7===this.state.daily?(t=195,i=this.cameras.main.centerY+155,s="newbie-day-6","Chicken"!==this.state.farm&&"Cow"!==this.state.farm||(n.x=230)):8===this.state.daily&&(t=425,i=this.cameras.main.centerY+155,s="newbie-day-7");var a=this.physics.add.sprite(t,i,s).setDepth(this.height);this.tweens.add({props:{scaleX:{from:-1,to:1,yoyo:!0,duration:300},x:{from:a.x,to:n.x,duration:600},y:{from:a.y,to:n.y,duration:600}},onComplete:function(){4===e.state.daily&&"Sheep"===e.state.farm&&(e.scene.isActive("Modal")&&e.scene.stop("Modal"),e.scene.isActive("Tutorial")&&e.scene.stop("Tutorial"),e.scene.isActive("Shop")&&e.scene.stop("Shop"),e.scene.isActive("ShopBars")&&e.scene.stop("ShopBars"),e.scene.isActive("Profile")&&e.scene.stop("Profile"),e.scene.stop("Sheep"),e.scene.stop("SheepBars"),e.scene.start("ChickenPreload",e.state)),a.destroy()},targets:a})},t.getCurrency=function(e,t,i){var n=this;void 0===t&&(t=1),t>5&&(t=5);var a=this.time.addEvent({delay:100,callback:function(){t--;var r={x:Phaser.Math.Between(e.x-30,e.x+30),y:Phaser.Math.Between(e.y-n.game.scene.keys[n.state.farm].scrolling.scrollY-30,e.y-n.game.scene.keys[n.state.farm].scrolling.scrollY+30)},o={x:495,y:30};"diamond"!==i&&(o={x:495,y:120}),s.default.create(n.game.scene.keys[n.state.farm+"Bars"],r,o,i,400),t<=0&&a.remove(!1)},callbackScope:this,loop:!0})},t.improveCollectorAnim=function(e){var t;"Sheep"===this.state.farm?t="wool-collector":"Chicken"===this.state.farm?t="egg-collector":"Cow"===this.state.farm?t="milk-collector":"Unicorn"===this.state.farm&&(t="event-collector");var i=this.add.sprite(e.x,e.y,t),s=this.tweens.add({targets:i,props:{scaleX:{value:0,ease:"Linear"},y:{value:"-=60",ease:"Power2"}},yoyo:!0,duration:280,repeat:1,onComplete:function(){s.remove(),i.destroy()}})},t.openModal=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.tweens.add({duration:100,targets:t,zoom:{from:.85,to:1.05},onComplete:function(){e.tweens.add({duration:100,targets:t,zoom:{from:1.1,to:1}})},onCompleteScope:this})},t.openShop=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.tweens.add({duration:150,targets:t,alpha:{from:.7,to:1.1},onComplete:function(){e.tweens.add({duration:100,targets:t,alpha:{from:1.1,to:1}})},onCompleteScope:this})},t.plusMoneyAnimation=function(e){var t=e.y-this.game.scene.keys[this.state.farm].scrolling.scrollY,i={x:495,y:120};s.default.create(this,{x:e.x-70,y:t},i,this.state.farm.toLowerCase()+"Coin",400,.2),s.default.create(this,{x:e.x+70,y:t},i,this.state.farm.toLowerCase()+"Coin",400,.2),s.default.create(this,{x:e.x,y:t-30},i,this.state.farm.toLowerCase()+"Coin",400,.2)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i,s,n,a,r){void 0===n&&(n=300),void 0===a&&(a=.16),this.scene=e,this.position=t,this.target=i,this.texture=s,this.duration=n,this.scale=a,this.rotation=r,this.createSprite(),this.setAnimation()}return e.create=function(t,i,s,n,a,r,o){return new e(t,i,s,n,a,r,o)},e.prototype.createSprite=function(){this.sprite=this.scene.add.sprite(this.position.x,this.position.y,this.texture).setScale(this.scale)},e.prototype.setAnimation=function(){var e=this;this.anim=this.scene.tweens.add({targets:this.sprite,duration:this.duration,x:this.target.x,y:this.target.y,onComplete:function(){e.sprite.destroy()}}),this.rotation&&this.scene.add.tween({targets:this.sprite,rotation:-2*Math.PI,duration:400,repeat:-1})},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i){void 0===i&&(i=!1),this.scene=e,this.position=t,this.type=i,this.init()}return e.create=function(t,i,s){return void 0===s&&(s=!1),new e(t,i,s)},e.prototype.init=function(){this.clouds=this.scene.add.group(),this.animation()},e.prototype.animation=function(){var e=this;this.scene.add.tween({targets:this.cloud,props:{y:{value:"-=300",duration:3500},alpha:{value:"0",duration:1300}},onComplete:function(){e.clouds.destroy(!0)}});var t=this.scene.game.scene.getScene(this.scene.state.farm);this.type?t.playSoundOnce("error-sound"):t.playSoundOnce("merge-sound")},Object.defineProperty(e.prototype,"cloud",{get:function(){var e=this.type?"bad-merging-animation":"merging-animation",t=this.scene.add.sprite(this.position.x,this.position.y,e).setDepth(100*this.position.y),i=this.scene.add.text(this.position.x,this.position.y,this.scene.state.lang.herdBoostBadMerge,{font:"34px Shadow",color:"#1a1a1a",align:"center"}).setOrigin(.5,.5).setVisible(this.type).setDepth(100*this.position.y+1).setStroke("#cc3737",2);return this.clouds.add(t),this.clouds.add(i),[t,i]},enumerable:!1,configurable:!0}),e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i,s,n,a,r){void 0===s&&(s=1),void 0===n&&(n=16777215),void 0===a&&(a=0),void 0===r&&(r=0),this.scene=e,this.x=t,this.y=i,this.scale=s,this.tint="number"==typeof n?n:0,this.texture="string"==typeof n?n:"rounded-segment",this.percent=a,this.time=r,this.create()}return e.prototype.create=function(){this.isVisible=!0,this.rightSegment=this.scene.add.sprite(this.x,this.y,this.texture).setOrigin(0,.5).setTint(this.tint).setScale(this.scale),this.leftSegment=this.scene.add.sprite(this.x,this.y,this.texture).setOrigin(1,.5).setFlipX(!0).setTint(this.tint).setScale(this.scale),this.mask=this.scene.add.tileSprite(this.x,this.y,this.rightSegment.getBounds().width+5,this.rightSegment.getBounds().height+5,"white-pixel").setOrigin(0,1).setVisible(!1).setDepth(-1).createBitmapMask(),this.mask.invertAlpha=!0,this.leftSegment.setMask(this.mask),this.time&&this.playTimeout(3.6*this.percent)},e.prototype.playTimeout=function(e){var t,i=this;null===(t=this.timeoutAni)||void 0===t||t.remove();var s=this.mask.bitmapMask;this.timeoutAni=this.scene.tweens.add({targets:s,angle:{from:e,to:0},duration:this.time,onUpdate:function(){i.updateElements()}})},e.prototype.setPercent=function(e,t,i){var s,n,a,r,o,c,h=this;void 0===t&&(t=0),void 0===i&&(i=500),100===e&&(e=99.9),this.leftSegment.mask||this.leftSegment.setMask(this.mask);var l=null===(s=this.mask)||void 0===s?void 0:s.bitmapMask,d=(null===(n=this.timeoutAni)||void 0===n?void 0:n.isPlaying())?this.timeoutAni.data[0].current:3.6*this.percent,u=3.6*e;return this.time=t||this.time,(null===(a=this.timeoutAni)||void 0===a?void 0:a.isPlaying())&&this.timeoutAni.stop(),(null===(r=this.setAni)||void 0===r?void 0:r.isPlaying())&&(d=null===(o=this.setAni)||void 0===o?void 0:o.getValue(),null===(c=this.setAni)||void 0===c||c.remove()),this.setAni=this.scene.tweens.add({targets:l||[],angle:{from:d,to:u},duration:i,ease:"Power2",onUpdate:function(){h.updateElements()},onComplete:function(){t&&h.playTimeout(u),h.percent=e}}),this},e.prototype.updateElements=function(){var e=this.mask.bitmapMask;e.angle<=270&&1===e.originY?e.setOrigin(0,.5):e.angle>270&&1!==e.originY&&e.setOrigin(0,1),e.angle>=0&&this.leftSegment.visible?(this.leftSegment.setVisible(!1),this.rightSegment.setMask(this.mask)):e.angle<0&&!this.leftSegment.visible&&(this.leftSegment.setVisible(this.isVisible),this.rightSegment.clearMask())},e.prototype.fadeOut=function(e,t){void 0===e&&(e=500),void 0===t&&(t=0),this.setAlpha(1),this.leftSegment.clearMask(),this.scene.tweens.add({targets:[this.leftSegment,this.rightSegment],alpha:0,duration:e,delay:t})},e.prototype.setTint=function(e){return this.rightSegment.setTint(e),this.leftSegment.setTint(e),this},e.prototype.setTexture=function(e){return this.rightSegment.setTexture(e),this.leftSegment.setTexture(e),this},e.prototype.setVisible=function(e){return this.isVisible=e,this.rightSegment.setVisible(e),this.leftSegment.setVisible(e),e&&this.updateElements(),this},e.prototype.setAlpha=function(e){return this.rightSegment.setAlpha(e),this.leftSegment.setAlpha(e),this},e.prototype.setDepth=function(e){return this.rightSegment.setDepth(e),this.leftSegment.setDepth(e),this},e.prototype.setPosition=function(e,t){return this.rightSegment.setPosition(e,t),this.leftSegment.setPosition(e,t),this.mask.bitmapMask.setPosition(e,t),this},e.prototype.destroy=function(){var e,t,i,s,n;return null===(e=this.rightSegment)||void 0===e||e.destroy(),null===(t=this.leftSegment)||void 0===t||t.destroy(),null===(i=this.mask)||void 0===i||i.destroy(),null===(s=this.timeoutAni)||void 0===s||s.remove(),null===(n=this.setAni)||void 0===n||n.remove(),null},e}();t.default=s},function(e,t){var i,s,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{s="function"==typeof clearTimeout?clearTimeout:r}catch(e){s=r}}();var c,h=[],l=!1,d=-1;function u(){l&&c&&(l=!1,c.length?h=c.concat(h):d=-1,h.length&&p())}function p(){if(!l){var e=o(u);l=!0;for(var t=h.length;t;){for(c=h,h=[];++d<t;)c&&c[d].run();d=-1,t=h.length}c=null,l=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===r||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new f(e,t)),1!==h.length||l||o(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.basicClan=t.userCow=t.userChicken=t.userSheep=t.userData=void 0;var s={takeFreeDiamondTime:0,fortuneTimeAd:10800,avatar:"",boughtAvatars:[],diamonds:3,id:"local",clanId:"",xp:0,hash:"local",login:"",counter:0,mail:"",level:1,clanTasks:[],additionalTutorial:{balance:!1,cave:!1,collector:!1,herdBoost:!1,feedBoost:!1,eventTutorial:!1},takenReward:!1,status:"",statuses:[],starterpack:!1,boosts:{sheep:{collector4:0,collector12:0,herd:0,feed:0},chicken:{collector4:0,collector12:0,herd:0,feed:0},cow:{collector4:0,collector12:0,herd:0,feed:0,factory:0},fortune:0},test:"A",takenFreeDiamonds:!1,takenSocialAward:!1,messages:[],personalMessages:[],achievements:i(40).default};t.userData=s;t.basicClan={isClosed:!1,avatar:{bg:1,frame:1,icon:1},diamond:{count:0,logs:[]},points:0,limit:10,main:{level:1,cooldown:0},chatMessages:[],id:"",ownerId:"",name:"",users:[],sheep:{level:1,cooldown:0,money:"0",logs:[]},chicken:{level:1,cooldown:0,money:"0",logs:[]},cow:{level:1,cooldown:0,money:"0",logs:[]}};t.userSheep={money:1e3,fair:1,part:1,countSheep:0,collector:0,collectorLevel:1,collectorTakenTime:0,diamondAnimalTime:0,tutorial:0,autosaveCounter:0,diamondAnimalAd:!0,takenHerdBoost:0,feedBoostTime:0,herdBoostAd:!0,feedBoostAd:!0,collectorTimeLevel:1};t.userChicken={money:1e3,fair:1,part:1,countChicken:0,collector:0,collectorLevel:1,collectorTakenTime:0,diamondAnimalTime:0,tutorial:0,autosaveCounter:0,diamondAnimalAd:!0,takenHerdBoost:0,feedBoostTime:0,herdBoostAd:!0,feedBoostAd:!0,collectorTimeLevel:1};t.userCow={money:1e3,fair:1,part:1,countCow:0,collector:0,collectorLevel:1,collectorTakenTime:0,diamondAnimalTime:0,tutorial:0,autosaveCounter:0,diamondAnimalAd:!0,takenHerdBoost:0,feedBoostTime:0,herdBoostAd:!0,feedBoostAd:!0,collectorTimeLevel:1,factory:{currentProduction:0,productionTimer:0,money:0,production1Money:0,production2Money:0,production3Money:0,production4Money:0,boostTime:0}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkUserName=void 0;var s=i(2),n=i(24),a=i(1723),r=i(10),o=i(1724),c=i(1725),h=i(32),l=i(64),d=i(65),u=i(66),p=i(48),f=i(23),m=i(16),g=i(46),y=i(34),v=i(47),w=i(70),b=i(1),x=i(1726),k=i(1727),T=i(71),_=i(8),S=h.userCow,C=h.userSheep,P=h.userChicken,B=function(e){var t=e.user,i=e.clan,n=e.platform,a=e.name,r=e.avatar,o=null==i?void 0:i.users.find((function(e){return e.id===t.id}));if(o){var c=t.login;"web"!==n&&"android"!==n&&"gd"!==n&&(c=a);var h=Number(t.avatar)>0?t.avatar:r;if(o.name!==c||o.avatar!==h||o.status!==t.status){var l={id:t.id,hash:t.hash,counter:t.counter,name:c,avatar:h,status:t.status};s.default.post("https://ferma.games:4000/updateClanUser",l).then((function(e){e.data.error||(o.name=c,o.avatar=h)}))}}};t.checkUserName=B;var A=function(e){return e.map((function(e){return 2!==e.improve||2!==e.type&&3!==e.type&&5!==e.type?3!==e.improve||2!==e.type&&3!==e.type&&5!==e.type?4!==e.improve||2!==e.type&&3!==e.type&&5!==e.type?1!==e.improve||2!==e.type&&3!==e.type&&5!==e.type||(e.improve=1):e.improve=20:e.improve=13:e.improve=6,e}))};t.default=function(e){var t,i=this.state;if(i.build<e.data.user.build||e.data.user.banned)return this.children.destroy(),void new f.default(this);"Sheep"===i.farm?i.offline=e.data.progress.sheepOfflineTime:"Chicken"===i.farm?i.offline=e.data.progress.chickenOfflineTime:"Cow"===i.farm?i.offline=e.data.progress.cowOfflineTime:"Unicorn"===i.farm&&(i.offline=e.data.progress.eventOfflineTime),i.autoSaveSpeed=r.general.autoSaveSpeed,i.maxMerginTime=r.general.maxMerginTime,i.herdBoostSpeedAnimal=r.general.herdBoostSpeedAnimal,i.herdBoostTime=r.general.herdBoostTime,i.herdBoostPrice=r.general.herdBoostPrice,i.herdBoostDelay=r.general.herdBoostDelay,i.packages=r.general.packages,i.dailyAwards=e.data.user.dailyAwards,i.newbieTime=e.data.progress.newbieTime,i.daily=e.data.progress.daily,i.timeToNewDay=e.data.progress.timeToNewDay,i.sheepSettings=r.sheepSettings,i.chickenSettings=r.chickenSettings,i.cowSettings=r.cowSettings,"B"===e.data.user.test&&(i.sheepSettings=o.testSheepSettings,i.chickenSettings=o.testChickenSettings,i.cowSettings=o.testCowSettings,i.herdBoostTime=o.testGeneral.herdBoostTime,i.sheepSettings.partSettings=v.default,i.chickenSettings.partSettings=w.default,i.cowSettings.partSettings=T.default);var E=[];for(var M in e.data.user.sheep){var O=e.data.user.sheep[M];E.push({_id:O._id,type:O.type,wool:O.wool,x:O.x,y:O.y,counter:O.counter,diamond:O.diamond,vector:O.vector})}var I=[];for(var M in e.data.user.chicken){var R=e.data.user.chicken[M];I.push({_id:R._id,type:R.type,egg:R.egg,x:R.x,y:R.y,counter:R.counter,diamond:R.diamond,vector:R.vector})}var D=[];for(var M in e.data.user.cow){var N=e.data.user.cow[M];D.push({_id:N._id,type:N.type,milk:isNaN(N.milk)||!N.milk?0:N.milk,x:N.x,y:N.y,counter:N.counter,diamond:N.diamond,vector:N.vector})}i.sheep=E,i.chicken=I,i.cow=D;for(var F=[],L=0,Y=e.data.user.sheep_territories;L<Y.length;L++){var U=Y[L];F.push({_id:U._id,block:0===e.data.user.sheep_territories[0].block?U.block+1:U.block,position:U.position,type:U.type,volume:U.volume,improve:U.improve,money:U.money,cooldown:U.cooldown,boughtType:U.boughtType})}var V=[];for(var M in e.data.user.chicken_territories){U=e.data.user.chicken_territories[M];V.push({_id:U._id,block:U.block,position:U.position,type:U.type,volume:U.volume,improve:U.improve,money:U.money,cooldown:U.cooldown,boughtType:U.boughtType})}var W=[];for(var M in e.data.user.cow_territories){U=e.data.user.cow_territories[M];W.push({_id:U._id,block:U.block,position:U.position,type:U.type,volume:U.volume,improve:U.improve,money:U.money,cooldown:U.cooldown,boughtType:U.boughtType})}0===F.length&&(e.data.user.money=C.money),0===V.length&&(e.data.user.chicken_money=S.money),0===W.length&&(e.data.user.cow_money=P.money),i.sheepTerritories=g.default.validateTerritories(F,1),i.chickenTerritories=g.default.validateTerritories(V,2),i.cowTerritories=g.default.validateTerritories(W,3);var z=[];for(var M in e.data.user.chicken_eggs){var H=e.data.user.chicken_eggs[M];z.push({_id:H._id,x:H.x>0&&H.x<720?H.x:Phaser.Math.Between(500,700),y:H.y>480&&H.y<2160?H.y:Phaser.Math.Between(500,700),type:H.type})}i.chickenEggs=z;var X=g.default.validateBoosts(e.data.user.boosts),G=g.default.setAchievementsStatus(e.data.user.achievements),j={diamonds:e.data.user.diamonds,id:e.data.user._id,clanId:e.data.user.clanId,xp:e.data.user.xp,hash:e.data.user.hash,login:e.data.user.login,counter:e.data.user.counter,mail:e.data.user.mail,level:e.data.user.level,fortuneTimeAd:e.data.user.fortuneTimeAd,additionalTutorial:e.data.user.additional_tutorial,takenReward:e.data.user.taken_reward,status:e.data.user.status,statuses:e.data.user.statuses,starterpack:e.data.user.starterpack,boosts:X,test:e.data.user.test,takenFreeDiamonds:e.data.user.takenFreeDiamonds,takenSocialAward:e.data.user.takenSocialAward,messages:e.data.user.messages||[],personalMessages:e.data.user.personalMessages||[],avatar:e.data.user.avatar,boughtAvatars:e.data.user.boughtAvatars||[],clanTasks:e.data.user.clan_tasks||[],takeFreeDiamondTime:e.data.user.takeFreeDiamondTime,achievements:G};i.user=g.default.validateUser(j),i.clan=g.default.validateClan(e.data.clan),""===i.name&&"ya"===i.platform&&(i.name="yandex_"+j.id.substr(0,4)),0===e.data.user.chicken_part&&"Chicken"===i.farm&&(e.data.user.chicken_part=1),0===e.data.user.cow_part&&"Cow"===i.farm&&(e.data.user.cow_part=1);var $={money:e.data.user.money,fair:e.data.user.sheep_fair,part:e.data.user.sheep_part,countSheep:e.data.user.count_sheep,collector:e.data.user.shaver_time,collectorLevel:e.data.user.sheepCollectorLevel,collectorTimeLevel:e.data.user.sheepCollectorTimeLevel,collectorTakenTime:e.data.user.shaver_time,diamondAnimalTime:e.data.user.diamonds_sheep_time,tutorial:e.data.user.tutor,autosaveCounter:e.data.user.sheepSaveCounter,diamondAnimalAd:e.data.user.diamonds_sheep_ad,takenHerdBoost:e.data.user.takenHerdBoostSheep,feedBoostTime:e.data.user.feedBoostTimeSheep,herdBoostAd:e.data.user.herdBoostSheepAd,feedBoostAd:e.data.user.feedBoostSheepAd},K={money:e.data.user.chicken_money,fair:e.data.user.chicken_fair,part:e.data.user.chicken_part,countChicken:e.data.user.count_chicken,collector:e.data.user.chicken_collector,collectorLevel:e.data.user.chickenCollectorLevel,collectorTimeLevel:e.data.user.chickenCollectorTimeLevel,collectorTakenTime:e.data.user.chicken_collector,diamondAnimalTime:e.data.user.diamonds_chicken_time,tutorial:e.data.user.chicken_tutor,autosaveCounter:e.data.user.chickenSaveCounter,diamondAnimalAd:e.data.user.diamonds_chicken_ad,takenHerdBoost:e.data.user.takenHerdBoostChicken,feedBoostTime:e.data.user.feedBoostTimeChicken,herdBoostAd:e.data.user.herdBoostChickenAd,feedBoostAd:e.data.user.feedBoostChickenAd},q=e.data.user.cowFactory;e.data.user.cowFactory||(q=S.factory),q.money||(q.money=0),q.production1Money||(q.production1Money=0),q.production2Money||(q.production2Money=0),q.production3Money||(q.production3Money=0),q.production4Money||(q.production4Money=0);var J={money:e.data.user.cow_money,fair:e.data.user.cow_fair,part:e.data.user.cow_part,countCow:e.data.user.count_cow,collector:e.data.user.cow_collector,collectorLevel:e.data.user.cowCollectorLevel,collectorTimeLevel:e.data.user.cowCollectorTimeLevel,collectorTakenTime:e.data.user.cow_collector,diamondAnimalTime:e.data.user.diamonds_cow_time,tutorial:e.data.user.cow_tutor,autosaveCounter:e.data.user.cowSaveCounter,diamondAnimalAd:e.data.user.diamonds_cow_ad,takenHerdBoost:e.data.user.takenHerdBoostCow,feedBoostTime:e.data.user.feedBoostTimeCow,herdBoostAd:e.data.user.herdBoostCowAd,feedBoostAd:e.data.user.feedBoostCowAd,factory:{currentProduction:q.currentProduction,productionTimer:q.productionTimer,money:q.money,production1Money:q.production1Money,production2Money:q.production2Money,production3Money:q.production3Money,production4Money:q.production4Money,boostTime:q.boostTime,milkMultiply:.2,production1Multiply:.5,production2Multiply:1,production3Multiply:1.5,production4Multiply:2.5}};i.userSheep=b.default.checkTestB(i)?g.default.validateUserSheepTestB($):g.default.validateUserSheep($),i.userChicken=b.default.checkTestB(i)?g.default.validateUserChickenTestB(K):g.default.validateUserChicken(K),i.userCow=b.default.checkTestB(i)?g.default.validateUserCowTestB(J):g.default.validateUserCow(J),b.default.checkTestB(i)?(i.sheepTasks=g.default.setTaskStatusTest(c.default,e.data.user.sheep_tasks),i.chickenTasks=g.default.setTaskStatusTest(x.default,e.data.user.chicken_tasks),i.cowTasks=g.default.setTaskStatusTest(k.default,e.data.user.cow_tasks)):(i.sheepTasks=g.default.setTaskStatus(1,e.data.user.sheep_tasks),i.chickenTasks=g.default.setTaskStatus(2,e.data.user.chicken_tasks),i.cowTasks=g.default.setTaskStatus(3,e.data.user.cow_tasks)),i.sheepCollectorSettings=l.default,i.chickenCollectorSettings=d.default,i.cowCollectorSettings=u.default;var Q=p.default("B"===e.data.user.test),Z={sheep:{part:e.data.user.sheep_part,max:Q.sheep.max,open:!0,price:Q.sheep.price,unlock:Q.sheep.unlock,donate:Q.sheep.donate,collector:e.data.user.shaver_time,offlineTime:e.data.progress.sheepOfflineTime},chicken:{part:e.data.user.chicken_part,max:Q.chicken.max,open:e.data.user.chicken_part>0,price:Q.chicken.price,unlock:Q.chicken.unlock,donate:Q.chicken.donate,collector:e.data.user.chicken_collector,offlineTime:e.data.progress.chickenOfflineTime},cow:{part:e.data.user.cow_part,max:Q.cow.max,open:e.data.user.cow_part>0,price:Q.cow.price,unlock:Q.cow.unlock,donate:Q.cow.donate,collector:e.data.user.cow_collector,offlineTime:e.data.progress.cowOfflineTime},event:{startTime:e.data.progress.event.startTime,endTime:e.data.progress.event.endTime,open:e.data.settings.event.open,type:e.data.settings.event.type},clanEvent:{startTime:e.data.progress.clanEvent.startTime,endTime:e.data.progress.clanEvent.endTime,open:e.data.settings.clanEvent.open,type:e.data.settings.clanEvent.type}};if(i.progress=Z,e.data.user.build<3.9&&(i.sheepTerritories=A(i.sheepTerritories),i.chickenTerritories=A(i.chickenTerritories),function(e){for(var t=n.default.filter((function(t){return t.part===e.userSheep.part&&1===t.farm})),i=n.default.filter((function(t){return t.part===e.userChicken.part&&2===t.farm})),s=n.default.filter((function(t){return t.part===e.userCow.part&&3===t.farm})),a=0,r=t;a<r.length;a++){if(8===(y=r[a]).type||9===y.type||17===y.type||24===y.type){var o=0,c=void 0;8===y.type?c=2:9===y.type?c=3:17===y.type?c=5:24===y.type&&(c=8);for(var h=0,l=e.sheepTerritories;h<l.length;h++){c===(b=l[h]).type&&b.improve>=y.state&&o++}o>=y.count?(y.progress=y.count,y.done=1):y.progress=o}}for(var d=0,u=i;d<u.length;d++){if(8===(y=u[d]).type||9===y.type||17===y.type||24===y.type){o=0,c=void 0;8===y.type?c=2:9===y.type?c=3:17===y.type?c=5:24===y.type&&(c=8);for(var p=0,f=e.chickenTerritories;p<f.length;p++){c===(b=f[p]).type&&b.improve>=y.state&&o++}o>=y.count?(y.progress=y.count,y.done=1):y.progress=o}}for(var m=0,g=s;m<g.length;m++){var y;if(8===(y=g[m]).type||9===y.type||17===y.type||24===y.type){o=0,c=void 0;8===y.type?c=2:9===y.type?c=3:17===y.type?c=5:24===y.type&&(c=8);for(var v=0,w=e.cowTerritories;v<w.length;v++){var b;c===(b=w[v]).type&&b.improve>=y.state&&o++}o>=y.count?(y.progress=y.count,y.done=1):y.progress=o}}}(i)),e.data.user.build&&e.data.user.build<4.14&&function(e){var t=e.sheepTasks.filter((function(e){return e.done})).length+e.chickenTasks.filter((function(e){return e.done})).length+e.cowTasks.filter((function(e){return e.done})).length;y.default.setCurrentProgress(e,t,0,2,0),e.userSheep.tutorial>=100&&y.default.setCurrentProgress(e,1,1),e.userSheep.collectorLevel>=e.sheepCollectorSettings.length&&y.default.setCurrentProgress(e,1,27),e.userChicken.collectorLevel>=e.chickenCollectorSettings.length&&y.default.setCurrentProgress(e,1,30),e.userCow.collectorLevel>=e.cowCollectorSettings.length&&y.default.setCurrentProgress(e,1,33),e.sheepTerritories.every((function(e){return 0!==e.type}))&&y.default.setCurrentProgress(e,1,35),e.chickenTerritories.every((function(e){return 0!==e.type}))&&y.default.setCurrentProgress(e,1,36),e.cowTerritories.every((function(e){return 0!==e.type}))&&y.default.setCurrentProgress(e,1,37);var i=e.sheepTerritories.filter((function(e){return 5===e.type})),s=e.sheepSettings.territoriesSheepSettings.length;i.some((function(e){return e.improve>=s}))&&y.default.setCurrentProgress(e,1,16);var n=e.chickenTerritories.filter((function(e){return 5===e.type})),a=e.chickenSettings.territoriesChickenSettings.length;n.some((function(e){return e.improve>=a}))&&y.default.setCurrentProgress(e,1,20);var r=e.cowTerritories.filter((function(e){return 5===e.type})),o=e.cowSettings.territoriesCowSettings.length;r.some((function(e){return e.improve>=o}))&&y.default.setCurrentProgress(e,1,22);var c=e.sheepTerritories.filter((function(e){return 2===e.type})),l=e.chickenTerritories.filter((function(e){return 2===e.type})),d=e.cowTerritories.filter((function(e){return 2===e.type})),u=e.sheepTerritories.filter((function(e){return 3===e.type})),p=e.chickenTerritories.filter((function(e){return 3===e.type})),f=e.cowTerritories.filter((function(e){return 3===e.type}));c.some((function(e){return e.improve>=s}))&&y.default.setCurrentProgress(e,1,17),l.some((function(e){return e.improve>=a}))&&y.default.setCurrentProgress(e,1,17),d.some((function(e){return e.improve>=o}))&&y.default.setCurrentProgress(e,1,17),u.some((function(e){return e.improve>=s}))&&y.default.setCurrentProgress(e,1,18),p.some((function(e){return e.improve>=a}))&&y.default.setCurrentProgress(e,1,18),f.some((function(e){return e.improve>=o}))&&y.default.setCurrentProgress(e,1,18);var m=e.userSheep.fair;m>=e.sheepSettings.sheepFairLevels.length&&y.default.setCurrentProgress(e,1,19);var g=e.userChicken.fair;g>=e.chickenSettings.chickenFairLevels.length&&y.default.setCurrentProgress(e,1,21);var v=e.userCow.fair;v>=e.cowSettings.cowFairLevels.length&&y.default.setCurrentProgress(e,1,23);var w=0;c.forEach((function(e){w+=e.improve-1})),l.forEach((function(e){w+=e.improve-1})),d.forEach((function(e){w+=e.improve-1})),u.forEach((function(e){w+=e.improve-1})),p.forEach((function(e){w+=e.improve-1})),f.forEach((function(e){w+=e.improve-1})),w+=m,w+=g,w+=v;var b=e.cowTerritories.find((function(e){return 8===e.type}));if(b){var x=b.improve;x>=e.cowSettings.cowFactorySettings.length&&y.default.setCurrentProgress(e,1,24),w+=x}y.default.setCurrentProgress(e,w,0,11),e.user.statuses.some((function(e){return"unicorn"===e}))&&(y.default.setCurrentProgress(e,1,41),y.default.setCurrentProgress(e,1,42));var k=0;h.userSheep.part===e.sheepSettings.sheepParts.length&&(e.sheepTasks.filter((function(e){return e.id===h.userSheep.part})).every((function(e){return 1===e.done}))&&(k+=1));h.userChicken.part===e.chickenSettings.chickenParts.length&&(e.chickenTasks.filter((function(e){return e.id===h.userChicken.part})).every((function(e){return 1===e.done}))&&(k+=1));h.userCow.part===e.chickenSettings.chickenParts.length&&(e.chickenTasks.filter((function(e){return e.id===h.userCow.part})).every((function(e){return 1===e.done}))&&(k+=1));k>0&&y.default.setCurrentProgress(e,k,40)}(i),b.default.checkTestB(i)&&function(e){var t=e.sheepTasks.filter((function(t){return t.id.split("-")[0]===String(e.userSheep.part)})),i=e.chickenTasks.filter((function(t){return t.id.split("-")[0]===String(e.userChicken.part)})),s=e.cowTasks.filter((function(t){return t.id.split("-")[0]===String(e.userCow.part)}));t.forEach((function(t){t.type===_.TaskType.IMPROVE_SPEED_COLLECTOR&&1!==t.done&&e.userSheep.collectorLevel>=t.state&&(t.done=1),t.type===_.TaskType.IMPROVE_COLLECTOR&&1!==t.done&&e.userSheep.collectorTimeLevel>=t.state&&(t.done=1)})),i.forEach((function(t){t.type===_.TaskType.IMPROVE_SPEED_COLLECTOR&&1!==t.done&&e.userChicken.collectorLevel>=t.state&&(t.done=1),t.type===_.TaskType.IMPROVE_COLLECTOR&&1!==t.done&&e.userChicken.collectorTimeLevel>=t.state&&(t.done=1)})),s.forEach((function(t){t.type===_.TaskType.IMPROVE_SPEED_COLLECTOR&&1!==t.done&&e.userCow.collectorLevel>=t.state&&(t.done=1),t.type===_.TaskType.IMPROVE_COLLECTOR&&1!==t.done&&e.userCow.collectorTimeLevel>=t.state&&(t.done=1)}))}(i),1===i.progress.event.type&&i.progress.event.startTime<0&&i.progress.event.open){i.unicornSettings=r.unicornSettings;var ee=[];for(var M in e.data.event.animals){var te=e.data.event.animals[M];ee.push({_id:te._id,type:te.type,activeAnimal:te.activeAnimal,x:te.x,y:te.y})}var ie=[];for(var M in e.data.event.territories){U=e.data.event.territories[M];ie.push({_id:U._id,block:U.block,position:U.position,type:U.type})}var se=[];for(var M in e.data.event.resources){var ne=e.data.event.resources[M];se.push({_id:ne._id,x:ne.x,y:ne.y,type:ne.type})}var ae=e.data.event.countAnimal;if(ae.length<i.unicornSettings.unicornSettings.length){var re=i.unicornSettings.unicornSettings.length-ae.length;for(M=0;M<re;M++)ae.push({counter:1})}var oe={money:e.data.event.money,countAnimal:ae,collector:e.data.event.collector,collectorLevel:e.data.event.collectorLevel,collectorTakenTime:e.data.event.collector,tutorial:e.data.event.tutorial,autosaveCounter:e.data.event.autosaveCounter,takenHerdBoost:e.data.event.takenHerdBoost,feedBoostTime:e.data.event.feedBoostTime,herdBoostAnimals:e.data.event.herdBoostAnimals,takenAd:e.data.event.takenAd,timeToAd:e.data.event.timeToAd,points:e.data.event.points,takenAward:e.data.event.takenAward,collectorNotificationTime:e.data.event.collector};i.unicornTerritories=ie,i.unicorn=ee,i.unicornResources=se,i.userUnicorn=oe,i.unicornCollectorSettings=a.default}if(i.user.clanId){B(i);var ce=new Date(1e3*e.data.time),he=new Date(1e3*e.data.user.time);(ce.getDate()+"."+ce.getMonth()+"."+ce.getFullYear()!==he.getDate()+"."+he.getMonth()+"."+he.getFullYear()||(null===(t=i.user.clanTasks)||void 0===t?void 0:t.length)<=0||!i.user.clanTasks)&&(i.user.clanTasks=m.getNewClanTasks(i))}if(i.progress.clanEvent.endTime<=0&&i.user.clanId){var le={id:i.user.id,hash:i.user.hash,counter:i.user.counter};s.default.post("https://ferma.games:4000/checkTournamentAward",le).then((function(e){var t=e.data,s=t.error,n=t.userAward;s||(i.clanEventTakenAward=n)}))}i.sales=function(e,t){if(!t)return[];var i={sheep:e.progress.sheep,chicken:e.progress.chicken,cow:e.progress.cow},s=[],n=[];return Object.keys(i).forEach((function(e){i[e].part<=0&&s.push(e.toUpperCase())})),t.forEach((function(t){s.some((function(e){return t.type.includes(e)}))||(t.shown="CLAN"===t.type&&e.userSheep.part<7,n.push(t))})),e.sales.forEach((function(e){t.find((function(t){return t.type===e.type})).shown=e.shown})),n}(i,e.data.sales)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(14),n=i(1),a=i(11),r=function(){function e(e){this.scene=e,this.state=this.scene.state}return e.prototype.tryId=function(e,t){void 0===t&&(t=1);var i=this.state.user.achievements.find((function(t){return t.id===e&&t.count>t.progress}));i&&(i.progress+=t,i.progress>=i.count&&this.setDone(i))},e.prototype.tryType=function(e,t,i){var s=this;void 0===t&&(t=0),void 0===i&&(i=1),this.state.user.achievements.filter((function(t){return t.type===e&&t.count>t.progress})).forEach((function(e){e.state===t&&(e.progress+=i),e.progress>=e.count&&s.setDone(e)})),2===e&&this.checkDoneFarm()},e.prototype.setDone=function(e){var t=this.scene.game.scene.getScene(this.scene.state.farm+"Bars"),i=this.scene.game.scene.getScene("Fortune"),a=(this.scene.game.scene.getScene("Modal"),this.scene.game.scene.getScene("Profile")),r=this.scene.game.scene.getScene("ClanFarm"),o=t;this.scene.scene.isActive("Fortune")?o=i:this.scene.scene.isActive("Profile")?o=a:this.scene.scene.isActive("ClanFarm")&&(o=r);var c=41===e.id?"unicorn":"ach"+e.id,h=n.default.ucFirst(this.state.lang.achievementUnlock)+"\n"+n.default.ucFirst(this.state.lang[c+"Status"]);o.scene.isActive()&&s.default.create(o,-250,h,2),this.state.user.statuses.some((function(e){return e===c}))||this.state.user.statuses.push(c),this.state.user.status||(this.state.user.status=c)},e.setCurrentProgress=function(e,t,i,s,n){if(void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=0),0!==i){var a=e.user.achievements.find((function(e){return e.id===i&&e.count>e.progress}));a&&(a.progress=t)}else{e.user.achievements.filter((function(e){return e.type===s&&e.count>e.progress})).forEach((function(i){if(i.state===n&&(i.progress=t),i.progress>=i.count){var s=41===i.id?"unicorn":"ach"+i.id;e.user.statuses.some((function(e){return e===s}))||e.user.statuses.push(s),e.user.status||(e.user.status=s)}}))}},e.prototype.tryClanTypes=function(e){this.tryType(12),6!==e&&14!==e&&16!==e&&17!==e&&19!==e?this.tryType(e+12):19===e&&this.tryId(275)},e.prototype.checkDoneFarm=function(){var e=this.scene,t=this.state[this.state.farm.toLowerCase()+"Settings"][this.state.farm.toLowerCase()+"Parts"].length;(n.default.checkTestB(this.scene.state)&&(t=this.state[this.state.farm.toLowerCase()+"Settings"].partSettings.length),this.state["user"+this.state.farm].part===t)&&(e.partTasks().every((function(e){return 1===e.done}))&&this.tryId(40))},e.prototype.lazyLoading=function(e){var t=this;return new Promise((function(i){return e?t.scene.textures.exists(e+"-status")?i(!0):(t.scene.load.image(e+"-status",a.default.iconsUrl[e]),t.scene.load.on("complete",(function(){return i(!0)})),void t.scene.load.start()):i(!0)}))},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i){void 0===i&&(i="heart"),this.scene=e,this.position=t,this.texture=i,this.init()}return e.create=function(t,i,s){return void 0===s&&(s="heart"),new e(t,i,s)},e.prototype.init=function(){var e=this;this.hearts=this.scene.add.group(),this.scene.time.addEvent({delay:150,callback:function(){e.animation()},repeat:2}),this.scene.time.addEvent({delay:3e3,callback:function(){e.hearts.destroy(!0)}})},e.prototype.animation=function(){this.scene.tweens.add({targets:this.heart,props:{y:{value:this.position.y-200,duration:3e3,ease:"Power3"},alpha:{value:0,duration:1e3}}})},Object.defineProperty(e.prototype,"heart",{get:function(){var e=this.scene.add.sprite(this.position.x+Phaser.Math.Between(20,30)*Phaser.Math.Between(-1,1),this.position.y,this.texture).setDepth(100*this.position.y);return this.hearts.add(e),e},enumerable:!1,configurable:!0}),e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buyCollector=t.freeCollector=t.improveCollector=t.updateNotificationShop=t.createBoostAnimal=void 0;var s=i(0),n=i(6),a=i(1);function r(e){void 0===e&&(e=1);var t=this.state["user"+this.state.farm],i=this.state[this.state.farm.toLowerCase()+"Settings"],s=i.doubledСollectorPrice;if(this.scrolling.wheel=!0,this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal"),0===t.collector){var r=i.partSettings[t.collectorTimeLevel-1].collector.time;if(1===e){var o=60*r;t.collector+=o,t.collectorTakenTime=t.collector,this.game.scene.keys[this.state.farm+"Bars"].collector.update(),this.tryTask(3,0,r),this.tryClanTask(7,0,r),90===t.tutorial&&"Sheep"===this.state.farm&&this.doneTutor_90(),this.state.amplitude.logAmplitudeEvent("collector",{type:"free"}),n.default.create(this.game.scene.keys[this.state.farm+"Bars"],{x:230,y:this.game.config.height-90},1)}else{var c=2*r,h=Math.floor(c/60*s);if(this.state.user.diamonds>=h)a.default.checkSale(this.state,this.state.farm.toUpperCase()+"_COLLECTOR_PRICE")&&(h=Math.floor(h/2)),this.state.user.diamonds-=h,t.collector+=60*c,t.collectorTakenTime=t.collector,this.game.scene.keys[this.state.farm+"Bars"].collector.update(),this.tryTask(3,0,c),this.tryTask(15,0,h),this.tryClanTask(7,0,c),this.state.amplitude.logAmplitudeEvent("collector",{type:c+" minutes",price:"hard"}),this.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"collector",count:h}),n.default.create(this.game.scene.keys[this.state.farm+"Bars"],{x:230,y:this.game.config.height-90},1);else{var l=h-this.state.user.diamonds;this.state.convertor={fun:0,count:l,diamonds:l,type:2};this.state.modal={type:1,sysType:4},this.scene.launch("Modal",this.state)}}}}t.createBoostAnimal=function(){var e=this;this.tryTask(22,0),this.tryClanTask(3),this.achievement.tryType(10);var t=this.state.herdBoostPrice*this.state["user"+this.state.farm].takenHerdBoost;if(a.default.checkSale(this.state,this.state.farm.toUpperCase()+"_HERD")&&(t=Math.floor(t/2)),8!==this.state.adRewardedType?this.state["user"+this.state.farm].takenHerdBoost<=0?(this.state.user.diamonds-=t,this.state["user"+this.state.farm].takenHerdBoost+=1):this.state.user.boosts[this.state.farm.toLowerCase()].herd>0?(this.state.user.boosts[this.state.farm.toLowerCase()].herd-=1,this.state.amplitude.logAmplitudeEvent("herd_boost_spent",{})):this.state.user.boosts[this.state.farm.toLowerCase()].herd<=0&&(this.state.user.diamonds-=t,this.tryTask(15,0,t),this.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"herd",count:t}),this.state["user"+this.state.farm].takenHerdBoost+=1,this.state.amplitude.logAmplitudeEvent("booster_merge",{count:this.state["user"+this.state.farm].takenHerdBoost})):this.state.adRewardedType=0,0!==this.state.herdBoostAnimals.length){this.state.herdBoostAnimals.forEach((function(t){e.time.addEvent({delay:100,callback:function(){var i=Phaser.Math.Between(510,690),a=Phaser.Math.Between(510,690),r="local_"+s.randomString(18);"Cow"!==e.state.farm?(e["get"+e.state.farm](r,t,i,a,0,500),n.default.create(e,{x:i,y:a},1)):e.animalGroup.generate({x:i,y:a},t,r,0,0,0,7,!0),0===t&&(e.tryTask(18,0),e.tryClanTask(8),e.ads.showInterstitialAd())},callbackScope:e,loop:!1}),e.tryTask(2,0),e.tryTask(2,t),e.tryTask(4,t),e.tryClanTask(5)})),this.tryTask(25,0,this.state.herdBoostAnimals.length),this.tryClanTask(12,0,this.state.herdBoostAnimals.length),this.tryClanTask(13,this.state.herdBoostAnimals.length),this.achievement.tryType(1,this.state.herdBoostAnimals.length);this.state.herdBoostAnimals.length>=12&&s.sendSocialEvent(this.state,4,this.state.herdBoostAnimals.length),this.state.herdBoostAnimals=[]}},t.updateNotificationShop=function(){var e=this.state.shopNotificationCount.reduce((function(e,t){return e+t}));(this.scene.isActive("Modal")||this.scene.isActive("Tutorial")||"Sheep"===this.state.farm&&this.state.userSheep.tutorial<100||e<=0)&&this.game.scene.keys[this.state.farm+"Bars"].shopNotificator.visible?this.game.scene.keys[this.state.farm+"Bars"].shopNotificator.setVisible(!1):this.scene.isActive("Modal")||this.scene.isActive("Tutorial")||!(e>0)||this.game.scene.keys[this.state.farm+"Bars"].shopNotificator.visible&&this.game.scene.keys[this.state.farm+"Bars"].shopNotificator.count===e||("Sheep"===this.state.farm&&this.state.userSheep.tutorial>=100&&(this.game.scene.keys[this.state.farm+"Bars"].shopNotificator.setVisible(!0),this.game.scene.keys[this.state.farm+"Bars"].shopNotificator.setCount(e)),"Sheep"!==this.state.farm&&(this.game.scene.keys[this.state.farm+"Bars"].shopNotificator.setVisible(!0),this.game.scene.keys[this.state.farm+"Bars"].shopNotificator.setCount(e)))},t.improveCollector=function(){var e,t,i=this;"Sheep"===this.state.farm?(e=this.state.userSheep,t=this.state.sheepCollectorSettings):"Chicken"===this.state.farm?(e=this.state.userChicken,t=this.state.chickenCollectorSettings):"Cow"===this.state.farm&&(e=this.state.userCow,t=this.state.cowCollectorSettings);var s=t.find((function(t){return t.level===e.collectorLevel+1})),n=t.find((function(t){return t.level===e.collectorLevel+2}));if(s)if(s.diamonds){var r=a.default.checkSale(this.state,this.state.farm.toUpperCase()+"_COLLECTOR_IMPROVE")?Math.floor(s.price/2):s.price;if(this.state.user.diamonds>=r){h={type:1,sysType:24,confirmSpendParams:{type:"ImproveCollector"+this.state.farm,level:s.level,price:r,callback:function(){if(i.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"improve_collector",count:r}),i.state.user.diamonds-=r,e.collectorLevel++,i.setCollector(),i.game.scene.keys[i.state.farm].tryTask(15,0,r),i.game.scene.keys[i.state.farm].tryTask(23,0,0,e.collectorLevel),i.game.scene.keys[i.state.farm].tryClanTask(6),n){i.state.modal={type:1,sysType:10,message:"improved"},i.scene.launch("Modal",i.state)}else{i.scene.stop("Modal"),i.scene.stop("Shop"),i.scene.stop("ShopBars");var t={type:1,sysType:3,message:i.state.lang.maxLevelCollector,height:150};i.state.modal=t,i.scene.launch("Modal",i.state),"Sheep"===i.state.farm?i.achievement.tryId(27):"Chicken"===i.state.farm?i.achievement.tryId(30):"Cow"===i.state.farm&&i.achievement.tryId(33)}}}};this.state.modal=h,this.scene.stop("Modal"),this.scene.launch("Modal",this.state)}else{this.state.convertor={fun:8,count:s.price-this.state.user.diamonds,diamonds:s.price-this.state.user.diamonds,type:2};h={type:1,sysType:4};this.state.modal=h,this.scene.launch("Modal",this.state)}}else if(e.money>=s.price){if(e.money-=s.price,e.collectorLevel++,this.setCollector(),this.game.scene.keys.Modal.improveCollectorAnim({x:this.cameras.main.centerX,y:this.cameras.main.centerY+10}),this.game.scene.keys[this.state.farm].tryTask(23,0,0,e.collectorLevel),this.tryClanTask(6),!n){this.scene.stop("Modal"),this.scene.stop("Shop"),this.scene.stop("ShopBars");h={type:1,sysType:3,message:this.state.lang.maxLevelCollector,height:150};this.state.modal=h,this.scene.launch("Modal",this.state),"Sheep"===this.state.farm?this.achievement.tryId(27):"Chicken"===this.state.farm?this.achievement.tryId(30):"Cow"===this.state.farm&&this.achievement.tryId(33)}}else{var o=s.price-e.money,c=this.convertMoney(o);this.state.convertor={fun:8,count:o,diamonds:c,type:1};h={type:1,sysType:4};this.state.modal=h,this.scene.launch("Modal",this.state)}else{this.scene.stop("Modal"),this.scene.stop("Shop"),this.scene.stop("ShopBars");var h={type:1,sysType:3,message:this.state.lang.maxLevelCollector,height:150};this.state.modal=h,this.scene.launch("Modal",this.state),"Sheep"===this.state.farm?this.achievement.tryId(27):"Chicken"===this.state.farm?this.achievement.tryId(30):"Cow"===this.state.farm&&this.achievement.tryId(33)}},t.freeCollector=function(e){if(void 0===e&&(e=1),a.default.checkTestB(this.state))return r.bind(this)(e);var t,i,s;if("Sheep"===this.state.farm?(t=this.state.userSheep,i=this.state.sheepCollectorSettings,s=this.state.sheepSettings.doubledСollectorPrice):"Chicken"===this.state.farm?(t=this.state.userChicken,i=this.state.chickenCollectorSettings,s=this.state.chickenSettings.doubledСollectorPrice):"Cow"===this.state.farm&&(t=this.state.userCow,i=this.state.cowCollectorSettings,s=this.state.cowSettings.doubledСollectorPrice),this.scrolling.wheel=!0,this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal"),0===t.collector){var o=i.find((function(e){return e.level===t.collectorLevel})).time;if(1===e){var c=60*o;t.collector+=c,t.collectorTakenTime=t.collector,this.game.scene.keys[this.state.farm+"Bars"].collector.update(),this.tryTask(3,0,o),this.tryClanTask(7,0,o),90===t.tutorial&&"Sheep"===this.state.farm&&this.doneTutor_90(),this.state.amplitude.logAmplitudeEvent("collector",{type:"free"}),n.default.create(this.game.scene.keys[this.state.farm+"Bars"],{x:230,y:this.game.config.height-90},1)}else{o*=2;var h=Math.floor(o/60*s);if(this.state.user.diamonds>=h)a.default.checkSale(this.state,this.state.farm.toUpperCase()+"_COLLECTOR_PRICE")&&(h=Math.floor(h/2)),this.state.user.diamonds-=h,t.collector+=60*o,t.collectorTakenTime=t.collector,this.game.scene.keys[this.state.farm+"Bars"].collector.update(),this.tryTask(3,0,o),this.tryTask(15,0,h),this.tryClanTask(7,0,o),this.state.amplitude.logAmplitudeEvent("collector",{type:o+" minutes",price:"hard"}),this.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"collector",count:h}),n.default.create(this.game.scene.keys[this.state.farm+"Bars"],{x:230,y:this.game.config.height-90},1);else{var l=h-this.state.user.diamonds;this.state.convertor={fun:0,count:l,diamonds:l,type:2};this.state.modal={type:1,sysType:4},this.scene.launch("Modal",this.state)}}}},t.buyCollector=function(e){var t,i,s;"Sheep"===this.state.farm?(t=this.state.userSheep,i=this.state.sheepSettings):"Chicken"===this.state.farm?(t=this.state.userChicken,i=this.state.chickenSettings):"Cow"===this.state.farm&&(t=this.state.userCow,i=this.state.cowSettings),3===e?s=4:4===e&&(s=12),this.scrolling.wheel=!0,this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal");var r=i["collectorPrice"+s];if(a.default.checkSale(this.state,this.state.farm.toUpperCase()+"_COLLECTOR_PRICE")&&(r=Math.floor(r/2)),i["unlockCollector"+s]<=t.part)if(this.state.user.boosts[this.state.farm.toLowerCase()]["collector"+s]>0)this.state.user.boosts[this.state.farm.toLowerCase()]["collector"+s]-=1,t.collector+=60*s*60,t.collectorTakenTime=t.collector,this.game.scene.keys[this.state.farm+"Bars"].collector.update(),this.tryTask(3,0,60*s),this.tryClanTask(7,0,60*s),this.state.amplitude.logAmplitudeEvent("collector",{type:s+" hours",price:"hard"}),n.default.create(this.game.scene.keys[this.state.farm+"Bars"],{x:230,y:this.game.config.height-90},1);else if(this.state.user.diamonds>=r)this.state.user.diamonds-=r,t.collector+=60*s*60,t.collectorTakenTime=t.collector,this.game.scene.keys[this.state.farm+"Bars"].collector.update(),this.tryTask(3,0,60*s),this.tryTask(15,0,r),this.tryClanTask(7,0,60*s),this.state.amplitude.logAmplitudeEvent("collector",{type:s+" hours",price:"hard"}),this.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"collector",count:r}),n.default.create(this.game.scene.keys[this.state.farm+"Bars"],{x:230,y:this.game.config.height-90},1);else{var o=r-this.state.user.diamonds;this.state.convertor={fun:0,count:o,diamonds:o,type:2};this.state.modal={type:1,sysType:4},this.scene.launch("Modal",this.state)}}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,s){var n=e.call(this,t)||this;return n.action=s,n.position=i,n.init(),n}return n(t,e),t.prototype.init=function(){this.scene.add.existing(this)},t.prototype.preUpdate=function(t,i){e.prototype.preUpdate.call(this,t,i)},t.prototype.setClickListener=function(){this.mainSprite&&(this.mainSprite.setInteractive(),this.mainSprite.on("pointerdown",this.pointerdownHandler,this),this.mainSprite.on("pointerout",this.pointeroutHandler,this),this.mainSprite.on("pointerup",this.pointerupHandler,this))},t.prototype.pointerdownHandler=function(){var e;this.scene.game.scene.keys[this.scene.state.farm]&&(this.scene.game.scene.keys[this.scene.state.farm].scrolling.enabled=!1,this.scene.game.scene.keys[this.scene.state.farm].scrolling.downHandler()),this.press=!0,this.increase=!1,this.setPointerDownAnim(),null===(e=this.scene.game.scene.keys[this.scene.state.farm])||void 0===e||e.playSoundOnce("click-sound")},t.prototype.pointeroutHandler=function(){this.press&&(this.press=!1,this.increase=!0,this.setPointerOutAnim()),this.enableScroll()},t.prototype.pointerupHandler=function(){this.press&&(this.press=!1,this.increase=!0,this.setPointerUpAnim()),this.enableScroll()},t.prototype.enableScroll=function(){this.scene.game.scene.keys[this.scene.state.farm]&&(this.scene.game.scene.keys[this.scene.state.farm].scrolling.enabled=!0)},t.prototype.setPointerDownAnim=function(){var e=this,t=0,i=16777215,s=this.scene.time.addEvent({delay:5,callback:function(){i-=2236962,e.mainSprite.setTint(i),e.children.iterate((function(e){e.setTint(i)})),++t>=3&&s.remove(!1)},callbackScope:this,loop:!0})},t.prototype.setPointerOutAnim=function(){var e=this,t=0,i=10066329,s=this.scene.time.addEvent({delay:10,callback:function(){i+=2236962,e.mainSprite.setTint(i),e.children.iterate((function(e){e.setTint(i)})),++t>=3&&s.remove(!1)},callbackScope:this,loop:!0})},t.prototype.setPointerUpAnim=function(){var e=this,t=0,i=10066329,s=this.scene.time.addEvent({delay:10,callback:function(){i+=2236962,e.mainSprite.setTint(i),e.children.iterate((function(e){e.setTint(i)})),++t>=3&&(s.remove(!1),e.action())},callbackScope:this,loop:!0})},Object.defineProperty(t.prototype,"height",{get:function(){return this.mainSprite.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.mainSprite.visible},enumerable:!1,configurable:!0}),t.prototype.setVisible=function(t){return e.prototype.setVisible.call(this,t),this.mainSprite.setVisible(t),this},Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){var t=this;this.position.y=e,this.children.iterate((function(e){e.setY(t.position.y-5)})),this.mainSprite.setY(e)},enumerable:!1,configurable:!0}),t.prototype.setDepth=function(t){return e.prototype.setDepth.call(this,t),this.mainSprite.setDepth(t),this},t.prototype.setScale=function(e){return this.mainSprite.setScale(e),this},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){var t=this;this.position.x=e,this.children.iterate((function(e){e.x=t.position.x-5})),this.mainSprite.x=e},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.mainSprite.destroy(),e.prototype.destroy.call(this,!0)},t.prototype.getBounds=function(){return this.mainSprite?this.mainSprite.getBounds():null},t}(Phaser.GameObjects.Group);t.default=a},function(e,t,i){!function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function i(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),n=0;for(t=0;t<i;t++)for(var a=arguments[t],r=0,o=a.length;r<o;r++,n++)s[n]=a[r];return s}function s(e,i){var s,n,a=(s={current:0,next:function(){return++this.current}},n={},{add:function(e,t){var i=null!=t?t:s.next();return n[i]=e,i},resolve:function(e,t,i){var s=n[e];s&&(i(t)?s.resolve(t):s.reject(t),n[e]=null)}});return i((function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,i=t.request_id,s=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(i[s[n]]=e[s[n]])}return i}(t,["request_id"]);i&&a.resolve(i,s,(function(e){return!("error_type"in e)}))}})),function(i,s){return void 0===s&&(s={}),new Promise((function(n,r){var o=a.add({resolve:n,reject:r},s.request_id);e(i,t(t({},s),{request_id:o}))}))}}var n,a,r,o,c,h="undefined"!=typeof window,l=Boolean(h&&window.AndroidBridge),d=Boolean(h&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),u=Boolean(h&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),p=h&&!l&&!d,f=p&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),m=p?"message":"VKWebAppEvent",g=i(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop"],p&&!f?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppGetFriends","VKWebAppShowCommunityWidgetPreviewBox"]:["VKWebAppShowImages"]),y=h?window.AndroidBridge:void 0,v=d?window.webkit.messageHandlers:void 0,w=p?parent:void 0;(n=e.EAdsFormats||(e.EAdsFormats={})).REWARD="reward",n.INTERSTITIAL="interstitial",(a=e.EGrantedPermission||(e.EGrantedPermission={})).CAMERA="camera",a.LOCATION="location",a.PHOTO="photo",(r=e.EGetLaunchParamsResponseLanguages||(e.EGetLaunchParamsResponseLanguages={})).RU="ru",r.UK="uk",r.UA="ua",r.EN="en",r.BE="be",r.KZ="kz",r.PT="pt",r.ES="es",(o=e.EGetLaunchParamsResponseGroupRole||(e.EGetLaunchParamsResponseGroupRole={})).ADMIN="admin",o.EDITOR="editor",o.MEMBER="member",o.MODER="moder",o.NONE="none",(c=e.EGetLaunchParamsResponsePlatforms||(e.EGetLaunchParamsResponsePlatforms={})).DESKTOP_WEB="desktop_web",c.MOBILE_WEB="mobile_web",c.MOBILE_ANDROID="mobile_android",c.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",c.MOBILE_IPHONE="mobile_iphone",c.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",c.MOBILE_IPAD="mobile_ipad";var b=function(e){var t=void 0,n=[];function a(e){n.push(e)}function r(){return d||l}function o(){return p&&window.parent!==window}function c(){return r()||o()}function h(e){if(d||l)return i(n).map((function(t){return t.call(null,e)}));var s=null==e?void 0:e.data;if(p&&s){if(u&&"string"==typeof s)try{s=JSON.parse(s)}catch(s){}var a=s.type,r=s.data,o=s.frameId;a&&("SetSupportedHandlers"!==a?"VKWebAppSettings"!==a?i(n).map((function(e){return e({detail:{type:a,data:r}})})):t=o:r.supportedHandlers)}}u&&/(android)/i.test(navigator.userAgent)?document.addEventListener(m,h):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(m,h);var f=s((function(e,i){y&&y[e]?y[e](JSON.stringify(i)):v&&v[e]&&"function"==typeof v[e].postMessage?v[e].postMessage(i):u?window.ReactNativeWebView.postMessage(JSON.stringify({handler:e,params:i})):w&&"function"==typeof w.postMessage&&w.postMessage({handler:e,params:i,type:"vk-connect",webFrameId:t,connectVersion:"2.7.2"},"*")}),a);return{send:f,sendPromise:f,subscribe:a,unsubscribe:function(e){var t=n.indexOf(e);-1<t&&n.splice(t,1)},supports:function(e){return l?!(!y||"function"!=typeof y[e]):d?!(!v||!v[e]||"function"!=typeof v[e].postMessage):p&&-1<g.indexOf(e)},isWebView:r,isIframe:o,isEmbedded:c,isStandalone:function(){return!c()}}}();e.applyMiddleware=function e(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return i.includes(void 0)||i.includes(null)?e.apply(void 0,i.filter((function(e){return"function"==typeof e}))):function(e){if(0===i.length)return e;var s,n={subscribe:e.subscribe,send:function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.send.apply(e,t)}};return s=i.filter((function(e){return"function"==typeof e})).map((function(e){return e(n)})).reduce((function(e,t){return function(i){return e(t(i))}}))(e.send),t(t({},e),{send:s})}},e.default=b,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,i){"use strict";(function(e){var s=i(151),n=i(152),a=i(153);function r(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,i){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return h(this,e,t,i)}function h(e,t,i,s){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,s){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(s||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===s?new Uint8Array(t):void 0===s?new Uint8Array(t,i):new Uint8Array(t,i,s);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=u(e,t);return e}(e,t,i,s):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var s=0|f(t,i),n=(e=o(e,s)).write(t,i);n!==s&&(e=e.slice(0,n));return e}(e,t,i):function(e,t){if(c.isBuffer(t)){var i=0|p(t.length);return 0===(e=o(e,i)).length||t.copy(e,0,0,i),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(s=t.length)!=s?o(e,0):u(e,t);if("Buffer"===t.type&&a(t.data))return u(e,t.data)}var s;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=o(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function u(e,t){var i=t.length<0?0:0|p(t.length);e=o(e,i);for(var s=0;s<i;s+=1)e[s]=255&t[s];return e}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(e).length;default:if(s)return U(e).length;t=(""+t).toLowerCase(),s=!0}}function m(e,t,i){var s=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,i);case"utf8":case"utf-8":return C(this,t,i);case"ascii":return P(this,t,i);case"latin1":case"binary":return B(this,t,i);case"base64":return S(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,i);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,i){var s=e[t];e[t]=e[i],e[i]=s}function y(e,t,i,s,n){if(0===e.length)return-1;if("string"==typeof i?(s=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof t&&(t=c.from(t,s)),c.isBuffer(t))return 0===t.length?-1:v(e,t,i,s,n);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):v(e,[t],i,s,n);throw new TypeError("val must be string, number or Buffer")}function v(e,t,i,s,n){var a,r=1,o=e.length,c=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return-1;r=2,o/=2,c/=2,i/=2}function h(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}if(n){var l=-1;for(a=i;a<o;a++)if(h(e,a)===h(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*r}else-1!==l&&(a-=a-l),l=-1}else for(i+c>o&&(i=o-c),a=i;a>=0;a--){for(var d=!0,u=0;u<c;u++)if(h(e,a+u)!==h(t,u)){d=!1;break}if(d)return a}return-1}function w(e,t,i,s){i=Number(i)||0;var n=e.length-i;s?(s=Number(s))>n&&(s=n):s=n;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");s>a/2&&(s=a/2);for(var r=0;r<s;++r){var o=parseInt(t.substr(2*r,2),16);if(isNaN(o))return r;e[i+r]=o}return r}function b(e,t,i,s){return W(U(t,e.length-i),e,i,s)}function x(e,t,i,s){return W(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,s)}function k(e,t,i,s){return x(e,t,i,s)}function T(e,t,i,s){return W(V(t),e,i,s)}function _(e,t,i,s){return W(function(e,t){for(var i,s,n,a=[],r=0;r<e.length&&!((t-=2)<0);++r)i=e.charCodeAt(r),s=i>>8,n=i%256,a.push(n),a.push(s);return a}(t,e.length-i),e,i,s)}function S(e,t,i){return 0===t&&i===e.length?s.fromByteArray(e):s.fromByteArray(e.slice(t,i))}function C(e,t,i){i=Math.min(e.length,i);for(var s=[],n=t;n<i;){var a,r,o,c,h=e[n],l=null,d=h>239?4:h>223?3:h>191?2:1;if(n+d<=i)switch(d){case 1:h<128&&(l=h);break;case 2:128==(192&(a=e[n+1]))&&(c=(31&h)<<6|63&a)>127&&(l=c);break;case 3:a=e[n+1],r=e[n+2],128==(192&a)&&128==(192&r)&&(c=(15&h)<<12|(63&a)<<6|63&r)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:a=e[n+1],r=e[n+2],o=e[n+3],128==(192&a)&&128==(192&r)&&128==(192&o)&&(c=(15&h)<<18|(63&a)<<12|(63&r)<<6|63&o)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,s.push(l>>>10&1023|55296),l=56320|1023&l),s.push(l),n+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var i="",s=0;for(;s<t;)i+=String.fromCharCode.apply(String,e.slice(s,s+=4096));return i}(s)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,i){return h(null,e,t,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,i){return function(e,t,i,s){return l(t),t<=0?o(e,t):void 0!==i?"string"==typeof s?o(e,t).fill(i,s):o(e,t).fill(i):o(e,t)}(null,e,t,i)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,s=t.length,n=0,a=Math.min(i,s);n<a;++n)if(e[n]!==t[n]){i=e[n],s=t[n];break}return i<s?-1:s<i?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var s=c.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var r=e[i];if(!c.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(s,n),n+=r.length}return s},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,i,s,n){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===s&&(s=0),void 0===n&&(n=this.length),t<0||i>e.length||s<0||n>this.length)throw new RangeError("out of range index");if(s>=n&&t>=i)return 0;if(s>=n)return-1;if(t>=i)return 1;if(this===e)return 0;for(var a=(n>>>=0)-(s>>>=0),r=(i>>>=0)-(t>>>=0),o=Math.min(a,r),h=this.slice(s,n),l=e.slice(t,i),d=0;d<o;++d)if(h[d]!==l[d]){a=h[d],r=l[d];break}return a<r?-1:r<a?1:0},c.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},c.prototype.indexOf=function(e,t,i){return y(this,e,t,i,!0)},c.prototype.lastIndexOf=function(e,t,i){return y(this,e,t,i,!1)},c.prototype.write=function(e,t,i,s){if(void 0===t)s="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)s=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===s&&(s="utf8")):(s=i,i=void 0)}var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var a=!1;;)switch(s){case"hex":return w(this,e,t,i);case"utf8":case"utf-8":return b(this,e,t,i);case"ascii":return x(this,e,t,i);case"latin1":case"binary":return k(this,e,t,i);case"base64":return T(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,i){var s="";i=Math.min(e.length,i);for(var n=t;n<i;++n)s+=String.fromCharCode(127&e[n]);return s}function B(e,t,i){var s="";i=Math.min(e.length,i);for(var n=t;n<i;++n)s+=String.fromCharCode(e[n]);return s}function A(e,t,i){var s=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>s)&&(i=s);for(var n="",a=t;a<i;++a)n+=Y(e[a]);return n}function E(e,t,i){for(var s=e.slice(t,i),n="",a=0;a<s.length;a+=2)n+=String.fromCharCode(s[a]+256*s[a+1]);return n}function M(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,i,s,n,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(i+s>e.length)throw new RangeError("Index out of range")}function I(e,t,i,s){t<0&&(t=65535+t+1);for(var n=0,a=Math.min(e.length-i,2);n<a;++n)e[i+n]=(t&255<<8*(s?n:1-n))>>>8*(s?n:1-n)}function R(e,t,i,s){t<0&&(t=4294967295+t+1);for(var n=0,a=Math.min(e.length-i,4);n<a;++n)e[i+n]=t>>>8*(s?n:3-n)&255}function D(e,t,i,s,n,a){if(i+s>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function N(e,t,i,s,a){return a||D(e,0,i,4),n.write(e,t,i,s,23,4),i+4}function F(e,t,i,s,a){return a||D(e,0,i,8),n.write(e,t,i,s,52,8),i+8}c.prototype.slice=function(e,t){var i,s=this.length;if((e=~~e)<0?(e+=s)<0&&(e=0):e>s&&(e=s),(t=void 0===t?s:~~t)<0?(t+=s)<0&&(t=0):t>s&&(t=s),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=c.prototype;else{var n=t-e;i=new c(n,void 0);for(var a=0;a<n;++a)i[a]=this[a+e]}return i},c.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||M(e,t,this.length);for(var s=this[e],n=1,a=0;++a<t&&(n*=256);)s+=this[e+a]*n;return s},c.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||M(e,t,this.length);for(var s=this[e+--t],n=1;t>0&&(n*=256);)s+=this[e+--t]*n;return s},c.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||M(e,t,this.length);for(var s=this[e],n=1,a=0;++a<t&&(n*=256);)s+=this[e+a]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s},c.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||M(e,t,this.length);for(var s=t,n=1,a=this[e+--s];s>0&&(n*=256);)a+=this[e+--s]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),n.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),n.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),n.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),n.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,i,s){(e=+e,t|=0,i|=0,s)||O(this,e,t,i,Math.pow(2,8*i)-1,0);var n=1,a=0;for(this[t]=255&e;++a<i&&(n*=256);)this[t+a]=e/n&255;return t+i},c.prototype.writeUIntBE=function(e,t,i,s){(e=+e,t|=0,i|=0,s)||O(this,e,t,i,Math.pow(2,8*i)-1,0);var n=i-1,a=1;for(this[t+n]=255&e;--n>=0&&(a*=256);)this[t+n]=e/a&255;return t+i},c.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,i,s){if(e=+e,t|=0,!s){var n=Math.pow(2,8*i-1);O(this,e,t,i,n-1,-n)}var a=0,r=1,o=0;for(this[t]=255&e;++a<i&&(r*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/r>>0)-o&255;return t+i},c.prototype.writeIntBE=function(e,t,i,s){if(e=+e,t|=0,!s){var n=Math.pow(2,8*i-1);O(this,e,t,i,n-1,-n)}var a=i-1,r=1,o=0;for(this[t+a]=255&e;--a>=0&&(r*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/r>>0)-o&255;return t+i},c.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,i){return N(this,e,t,!0,i)},c.prototype.writeFloatBE=function(e,t,i){return N(this,e,t,!1,i)},c.prototype.writeDoubleLE=function(e,t,i){return F(this,e,t,!0,i)},c.prototype.writeDoubleBE=function(e,t,i){return F(this,e,t,!1,i)},c.prototype.copy=function(e,t,i,s){if(i||(i=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<i&&(s=i),s===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-i&&(s=e.length-t+i);var n,a=s-i;if(this===e&&i<t&&t<s)for(n=a-1;n>=0;--n)e[n+t]=this[n+i];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(n=0;n<a;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+a),t);return a},c.prototype.fill=function(e,t,i,s){if("string"==typeof e){if("string"==typeof t?(s=t,t=0,i=this.length):"string"==typeof i&&(s=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==s&&"string"!=typeof s)throw new TypeError("encoding must be a string");if("string"==typeof s&&!c.isEncoding(s))throw new TypeError("Unknown encoding: "+s)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var a;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(a=t;a<i;++a)this[a]=e;else{var r=c.isBuffer(e)?e:U(new c(e,s).toString()),o=r.length;for(a=0;a<i-t;++a)this[a+t]=r[a%o]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var i;t=t||1/0;for(var s=e.length,n=null,a=[],r=0;r<s;++r){if((i=e.charCodeAt(r))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(r+1===s){(t-=3)>-1&&a.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&a.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function V(e){return s.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,i,s){for(var n=0;n<s&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}}).call(this,i(57))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{id:1,type:0,state:0,count:1,points:5,progress:0},{id:2,type:0,state:0,count:1,points:30,progress:0},{id:3,type:0,state:0,count:1,points:5,progress:0},{id:4,type:1,state:5,count:1,points:5,progress:0},{id:5,type:1,state:10,count:1,points:15,progress:0},{id:6,type:1,state:12,count:1,points:30,progress:0},{id:8,type:0,state:0,count:1,points:50,progress:0},{id:9,type:0,state:0,count:1,points:50,progress:0},{id:10,type:2,state:0,count:10,points:5,progress:0},{id:11,type:2,state:0,count:25,points:15,progress:0},{id:12,type:2,state:0,count:75,points:30,progress:0},{id:13,type:2,state:0,count:150,points:50,progress:0},{id:15,type:0,state:0,count:1,points:5,progress:0},{id:16,type:0,state:0,count:1,points:30,progress:0},{id:17,type:0,state:0,count:1,points:30,progress:0},{id:18,type:0,state:0,count:1,points:30,progress:0},{id:19,type:0,state:0,count:1,points:30,progress:0},{id:20,type:0,state:0,count:1,points:30,progress:0},{id:21,type:0,state:0,count:1,points:30,progress:0},{id:22,type:0,state:0,count:1,points:30,progress:0},{id:23,type:0,state:0,count:1,points:30,progress:0},{id:24,type:0,state:0,count:1,points:30,progress:0},{id:27,type:3,state:0,count:1,points:75,progress:0},{id:30,type:4,state:0,count:1,points:75,progress:0},{id:33,type:5,state:0,count:1,points:75,progress:0},{id:35,type:0,state:0,count:1,points:50,progress:0},{id:36,type:0,state:0,count:1,points:50,progress:0},{id:37,type:0,state:0,count:1,points:50,progress:0},{id:38,type:0,state:0,count:1,points:5,progress:0},{id:39,type:0,state:0,count:1,points:5,progress:0},{id:40,type:0,state:0,count:3,points:300,progress:0},{id:41,type:0,state:0,count:1,points:100,progress:0},{id:42,type:0,state:0,count:1,points:5,progress:0},{id:43,type:0,state:0,count:1,points:10,progress:0},{id:44,type:0,state:0,count:1,points:5,progress:0},{id:45,type:0,state:0,count:1,points:100,progress:0},{id:46,type:0,state:0,count:1,points:10,progress:0},{id:47,type:0,state:0,count:1,points:10,progress:0},{id:48,type:0,state:0,count:1,points:10,progress:0},{id:49,type:0,state:0,count:1,points:20,progress:0},{id:50,type:0,state:0,count:1,points:10,progress:0},{id:99,type:9,state:0,count:1,points:5,progress:0},{id:100,type:9,state:0,count:10,points:10,progress:0},{id:101,type:9,state:0,count:25,points:15,progress:0},{id:102,type:9,state:0,count:100,points:25,progress:0},{id:103,type:9,state:0,count:250,points:50,progress:0},{id:104,type:9,state:0,count:500,points:75,progress:0},{id:105,type:9,state:0,count:1e3,points:100,progress:0},{id:106,type:10,state:0,count:1,points:5,progress:0},{id:107,type:10,state:0,count:5,points:10,progress:0},{id:108,type:10,state:0,count:15,points:15,progress:0},{id:109,type:10,state:0,count:30,points:25,progress:0},{id:110,type:10,state:0,count:50,points:50,progress:0},{id:111,type:10,state:0,count:100,points:75,progress:0},{id:112,type:10,state:0,count:250,points:100,progress:0},{id:113,type:10,state:0,count:1e3,points:125,progress:0},{id:114,type:11,state:0,count:3,points:5,progress:0},{id:115,type:11,state:0,count:10,points:10,progress:0},{id:116,type:11,state:0,count:25,points:15,progress:0},{id:117,type:11,state:0,count:50,points:25,progress:0},{id:118,type:11,state:0,count:100,points:50,progress:0},{id:119,type:11,state:0,count:250,points:75,progress:0},{id:120,type:11,state:0,count:500,points:100,progress:0},{id:121,type:11,state:0,count:1e3,points:125,progress:0},{id:122,type:0,state:0,count:1,points:100,progress:0},{id:123,type:12,state:0,count:1,points:5,progress:0},{id:124,type:12,state:0,count:5,points:10,progress:0},{id:125,type:12,state:0,count:25,points:15,progress:0},{id:126,type:12,state:0,count:50,points:25,progress:0},{id:127,type:12,state:0,count:100,points:50,progress:0},{id:128,type:12,state:0,count:250,points:75,progress:0},{id:129,type:12,state:0,count:500,points:100,progress:0},{id:130,type:12,state:0,count:1e3,points:125,progress:0},{id:131,type:13,state:0,count:1,points:5,progress:0},{id:132,type:13,state:0,count:3,points:10,progress:0},{id:133,type:13,state:0,count:5,points:15,progress:0},{id:134,type:13,state:0,count:10,points:25,progress:0},{id:135,type:13,state:0,count:25,points:50,progress:0},{id:136,type:13,state:0,count:50,points:75,progress:0},{id:137,type:13,state:0,count:75,points:100,progress:0},{id:138,type:13,state:0,count:100,points:125,progress:0},{id:139,type:14,state:0,count:1,points:5,progress:0},{id:140,type:14,state:0,count:3,points:10,progress:0},{id:141,type:14,state:0,count:5,points:15,progress:0},{id:142,type:14,state:0,count:10,points:25,progress:0},{id:143,type:14,state:0,count:25,points:50,progress:0},{id:144,type:14,state:0,count:50,points:75,progress:0},{id:145,type:14,state:0,count:75,points:100,progress:0},{id:146,type:14,state:0,count:100,points:125,progress:0},{id:147,type:15,state:0,count:1,points:5,progress:0},{id:148,type:15,state:0,count:3,points:10,progress:0},{id:149,type:15,state:0,count:5,points:15,progress:0},{id:150,type:15,state:0,count:10,points:25,progress:0},{id:151,type:15,state:0,count:25,points:50,progress:0},{id:152,type:15,state:0,count:50,points:75,progress:0},{id:153,type:15,state:0,count:75,points:100,progress:0},{id:154,type:15,state:0,count:100,points:125,progress:0},{id:155,type:16,state:0,count:1,points:5,progress:0},{id:156,type:16,state:0,count:3,points:10,progress:0},{id:157,type:16,state:0,count:5,points:15,progress:0},{id:158,type:16,state:0,count:10,points:25,progress:0},{id:159,type:16,state:0,count:25,points:50,progress:0},{id:160,type:16,state:0,count:50,points:75,progress:0},{id:161,type:16,state:0,count:75,points:100,progress:0},{id:162,type:16,state:0,count:100,points:125,progress:0},{id:163,type:17,state:0,count:1,points:5,progress:0},{id:164,type:17,state:0,count:3,points:10,progress:0},{id:165,type:17,state:0,count:5,points:15,progress:0},{id:166,type:17,state:0,count:10,points:25,progress:0},{id:167,type:17,state:0,count:25,points:50,progress:0},{id:168,type:17,state:0,count:50,points:75,progress:0},{id:169,type:17,state:0,count:75,points:100,progress:0},{id:170,type:17,state:0,count:100,points:125,progress:0},{id:179,type:19,state:0,count:1,points:5,progress:0},{id:180,type:19,state:0,count:3,points:10,progress:0},{id:181,type:19,state:0,count:5,points:15,progress:0},{id:182,type:19,state:0,count:10,points:25,progress:0},{id:183,type:19,state:0,count:25,points:50,progress:0},{id:184,type:19,state:0,count:50,points:75,progress:0},{id:185,type:19,state:0,count:75,points:100,progress:0},{id:186,type:19,state:0,count:100,points:125,progress:0},{id:187,type:20,state:0,count:1,points:5,progress:0},{id:188,type:20,state:0,count:3,points:10,progress:0},{id:189,type:20,state:0,count:5,points:15,progress:0},{id:190,type:20,state:0,count:10,points:25,progress:0},{id:191,type:20,state:0,count:25,points:50,progress:0},{id:192,type:20,state:0,count:50,points:75,progress:0},{id:193,type:20,state:0,count:75,points:100,progress:0},{id:194,type:20,state:0,count:100,points:125,progress:0},{id:195,type:21,state:0,count:1,points:5,progress:0},{id:196,type:21,state:0,count:3,points:10,progress:0},{id:197,type:21,state:0,count:5,points:15,progress:0},{id:198,type:21,state:0,count:10,points:25,progress:0},{id:199,type:21,state:0,count:25,points:50,progress:0},{id:200,type:21,state:0,count:50,points:75,progress:0},{id:201,type:21,state:0,count:75,points:100,progress:0},{id:202,type:21,state:0,count:100,points:125,progress:0},{id:203,type:22,state:0,count:1,points:5,progress:0},{id:204,type:22,state:0,count:3,points:10,progress:0},{id:205,type:22,state:0,count:5,points:15,progress:0},{id:206,type:22,state:0,count:10,points:25,progress:0},{id:207,type:22,state:0,count:25,points:50,progress:0},{id:208,type:22,state:0,count:50,points:75,progress:0},{id:209,type:22,state:0,count:75,points:100,progress:0},{id:210,type:22,state:0,count:100,points:125,progress:0},{id:211,type:23,state:0,count:1,points:5,progress:0},{id:212,type:23,state:0,count:3,points:10,progress:0},{id:213,type:23,state:0,count:5,points:15,progress:0},{id:214,type:23,state:0,count:10,points:25,progress:0},{id:215,type:23,state:0,count:25,points:50,progress:0},{id:216,type:23,state:0,count:50,points:75,progress:0},{id:217,type:23,state:0,count:75,points:100,progress:0},{id:218,type:23,state:0,count:100,points:125,progress:0},{id:219,type:24,state:0,count:1,points:5,progress:0},{id:220,type:24,state:0,count:3,points:10,progress:0},{id:221,type:24,state:0,count:5,points:15,progress:0},{id:222,type:24,state:0,count:10,points:25,progress:0},{id:223,type:24,state:0,count:25,points:50,progress:0},{id:224,type:24,state:0,count:50,points:75,progress:0},{id:225,type:24,state:0,count:75,points:100,progress:0},{id:226,type:24,state:0,count:100,points:125,progress:0},{id:227,type:25,state:0,count:1,points:5,progress:0},{id:228,type:25,state:0,count:3,points:10,progress:0},{id:229,type:25,state:0,count:5,points:15,progress:0},{id:230,type:25,state:0,count:10,points:25,progress:0},{id:231,type:25,state:0,count:25,points:50,progress:0},{id:232,type:25,state:0,count:50,points:75,progress:0},{id:233,type:25,state:0,count:75,points:100,progress:0},{id:234,type:25,state:0,count:100,points:125,progress:0},{id:243,type:27,state:0,count:1,points:5,progress:0},{id:244,type:27,state:0,count:3,points:10,progress:0},{id:245,type:27,state:0,count:5,points:15,progress:0},{id:246,type:27,state:0,count:10,points:25,progress:0},{id:247,type:27,state:0,count:25,points:50,progress:0},{id:248,type:27,state:0,count:50,points:75,progress:0},{id:249,type:27,state:0,count:75,points:100,progress:0},{id:250,type:27,state:0,count:100,points:125,progress:0},{id:267,type:30,state:0,count:1,points:5,progress:0},{id:268,type:30,state:0,count:3,points:10,progress:0},{id:269,type:30,state:0,count:5,points:15,progress:0},{id:270,type:30,state:0,count:10,points:25,progress:0},{id:271,type:30,state:0,count:25,points:50,progress:0},{id:272,type:30,state:0,count:50,points:75,progress:0},{id:273,type:30,state:0,count:75,points:100,progress:0},{id:274,type:30,state:0,count:100,points:125,progress:0},{id:275,type:0,state:0,count:1,points:25,progress:0}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(1697),n=i(46),a=function(){function e(e){this.state=e,this.init()}return e.prototype.init=function(){var e=this;this.io=s("https://ferma.games:4000"),this.io.on("add",(function(t){1===t.type&&e.state.chat.push(t)})),this.io.on("getUnicornRating",(function(t){e.state.userUnicorn.points=Number(t.user.score),e.state.unicornRaitings=t,e.state.unicornRaitings.updated=!0})),this.io.on("fortune",(function(t){e.state.fortuneData=t})),this.io.on("newPersonalMessage",(function(t){var i,s={text:t.text,check:t.check,owned:t.owned,time:t.time};if(t.owned)(i=e.state.user.personalMessages.find((function(e){return e.userId===t.toId})))&&(i.messages.push(s),i.messages=i.messages.slice(-30));else if(e.state.updatePersonalMessage=!0,i=e.state.user.personalMessages.find((function(e){return e.userId===t.fromId})))i.name!==t.name&&(i.name=t.name),i.status!==t.status&&(i.status=t.status),i.messages.push(s),i.messages=i.messages.slice(-30);else{var n={name:t.name,userId:t.fromId,status:t.status,messages:[s]};e.state.user.personalMessages.push(n)}})),this.io.on("newClanMessage",(function(t){e.state.clan&&t.id===e.state.clan.id&&(e.state.clan.chatMessages.push(t),e.state.clanChatNotificationCount+=1)})),this.io.on("newInviteClan",(function(t){e.state.updatePersonalMessage=!0,e.state.user.messages.push(t),3===t.type&&(e.state.closeModal=!0)})),this.io.on("joinClanAccepted",(function(t){e.state.user.clanId=t.id,e.state.clan=t,e.state.socket.io.emit("joinClanRoom",{clanId:e.state.user.clanId})})),this.io.on("updateClanData",(function(t){e.state.clan&&(e.state.clan=n.default.validateClan(t)),t||(e.state.clanChatNotificationCount=0)}))},e}();t.default=a},function(e,t,i){(function(s){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==s&&"env"in s&&(e={PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.DEBUG),e}(t=e.exports=i(1699)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var i=this.useColors;if(e[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+e[0]+(i?"%c ":" ")+"+"+t.humanize(this.diff),!i)return;var s="color: "+this.color;e.splice(1,0,s,"color: inherit");var n=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(a=n))})),e.splice(a,0,s)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}).call(this,i(31))},function(e,t){t.encode=function(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t},t.decode=function(e){for(var t={},i=e.split("&"),s=0,n=i.length;s<n;s++){var a=i[s].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},function(e,t){e.exports=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){(function(s){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==s&&"env"in s&&(e={PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.DEBUG),e}(t=e.exports=i(1715)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var i=this.useColors;if(e[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+e[0]+(i?"%c ":" ")+"+"+t.humanize(this.diff),!i)return;var s="color: "+this.color;e.splice(1,0,s,"color: inherit");var n=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(a=n))})),e.splice(a,0,s)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}).call(this,i(31))},function(e,t,i){"use strict";var s=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),n=0;for(t=0;t<i;t++)for(var a=arguments[t],r=0,o=a.length;r<o;r++,n++)s[n]=a[r];return s};Object.defineProperty(t,"__esModule",{value:!0});var n=i(32),a=i(10),r=i(64),o=i(65),c=i(66),h=i(24),l=i(67),d=i(68),u=i(69),p=i(40),f=i(47),m=i(70),g=i(71),y=function(){function e(){}return e.validateUser=function(e){for(var t in n.userData)typeof e[t]!=typeof n.userData[t]&&(e[t]=n.userData[t]);return e.diamonds=!e.diamonds||e.diamonds<=0?0:e.diamonds,e},e.validateUserSheep=function(e){for(var t in n.userSheep)typeof e[t]!=typeof n.userSheep[t]&&(e[t]=n.userSheep[t]);return e.money=e.money<=0?0:Math.round(e.money),e.part>a.sheepSettings.sheepParts.length&&(e.part=a.sheepSettings.sheepParts.length),e.fair>a.sheepSettings.sheepFairLevels.length&&(e.fair=a.sheepSettings.sheepFairLevels.length),e.collectorLevel>r.default.length&&(e.collectorLevel=r.default.length),e.collectorTimeLevel>r.default.length&&(e.collectorTimeLevel=r.default.length),e},e.validateUserSheepTestB=function(e){for(var t in n.userSheep)typeof e[t]!=typeof n.userSheep[t]&&(e[t]=n.userSheep[t]);return e.money=e.money<=0?0:Math.round(e.money),e.part>f.default.length&&(e.part=f.default.length),e.fair>a.sheepSettings.sheepFairLevels.length&&(e.fair=a.sheepSettings.sheepFairLevels.length),e.collectorLevel>f.default.length&&(e.collectorLevel=f.default.length),e.collectorTimeLevel>f.default.length&&(e.collectorTimeLevel=f.default.length),e},e.validateUserChicken=function(e){for(var t in n.userChicken)typeof e[t]!=typeof n.userChicken[t]&&(e[t]=n.userChicken[t]);return e.money=e.money<=0?0:Math.round(e.money),e.part>a.chickenSettings.chickenParts.length&&(e.part=a.chickenSettings.chickenParts.length),e.fair>a.chickenSettings.chickenFairLevels.length&&(e.fair=a.chickenSettings.chickenFairLevels.length),e.collectorLevel>o.default.length&&(e.collectorLevel=o.default.length),e.collectorTimeLevel>o.default.length&&(e.collectorTimeLevel=o.default.length),e},e.validateUserChickenTestB=function(e){for(var t in n.userChicken)typeof e[t]!=typeof n.userChicken[t]&&(e[t]=n.userChicken[t]);return e.money=e.money<=0?0:Math.round(e.money),e.part>m.default.length&&(e.part=m.default.length),e.fair>a.chickenSettings.chickenFairLevels.length&&(e.fair=a.chickenSettings.chickenFairLevels.length),e.collectorLevel>m.default.length&&(e.collectorLevel=m.default.length),e.collectorTimeLevel>m.default.length&&(e.collectorTimeLevel=m.default.length),e},e.validateUserCow=function(e){for(var t in n.userCow)typeof e[t]!=typeof n.userCow[t]&&(e[t]=n.userCow[t]);return e.money=e.money<=0?0:Math.round(e.money),e.part>a.cowSettings.cowParts.length&&(e.part=a.cowSettings.cowParts.length),e.fair>a.cowSettings.cowFairLevels.length&&(e.fair=a.cowSettings.cowFairLevels.length),e.collectorLevel>c.default.length&&(e.collectorLevel=c.default.length),e.collectorTimeLevel>c.default.length&&(e.collectorTimeLevel=c.default.length),e},e.validateUserCowTestB=function(e){for(var t in n.userCow)typeof e[t]!=typeof n.userCow[t]&&(e[t]=n.userCow[t]);return e.money=e.money<=0?0:Math.round(e.money),e.part>g.default.length&&(e.part=g.default.length),e.fair>a.cowSettings.cowFairLevels.length&&(e.fair=a.cowSettings.cowFairLevels.length),e.collectorLevel>g.default.length&&(e.collectorLevel=g.default.length),e.collectorTimeLevel>g.default.length&&(e.collectorTimeLevel=g.default.length),e},e.setTaskStatus=function(e,t){for(var i=[],s=0,n=h.default;s<n.length;s++){var a=n[s];a.farm===e&&i.push(a)}for(var r=function(e){var t=h.default.find((function(t){return t.id===e.task_id}));t&&(t.done=e.done,t.got_awarded=e.got_awarded,t.progress=e.progress)},o=0,c=t;o<c.length;o++){r(c[o])}return i},e.setAchievementsStatus=function(e){var t=s(p.default);return t.forEach((function(t){var i=e.find((function(e){return e.id===t.id}));i&&(t.progress=i.progress)})),t},e.setTaskStatusTest=function(e,t){var i=s(e);if(t.length>0)for(var n=function(e){var t=i.find((function(t){return t.id===e.task_id}));t&&(t.done=e.done,t.awardTaken=e.got_awarded,t.progress=e.progress)},a=0,r=t;a<r.length;a++){n(r[a])}return i},e.validateTerritories=function(e,t){for(var i=1===t?l.default:2===t?d.default:3===t?u.default:[],s=function(t){var s=i.find((function(i){return e[t].position===i.position&&e[t].block===i.block}));s&&s.type>=0&&s.type<=8&&s.money>=0&&s.volume>=0&&s.improve>0||(e[t]=i[t]),5===e[t].type&&e[t].volume>0&&e[t].money<=0&&(e[t].money=1e4)},n=0;n<e.length;n+=1)s(n);if(0===e.length)for(var a=0,r=i;a<r.length;a++){var o=r[a];e.push({_id:o._id,block:o.block,position:o.position,type:o.type,volume:o.volume,improve:o.improve,money:o.money,cooldown:o.cooldown,boughtType:o.boughtType})}return e},e.validateBoosts=function(e){if(e){var t=n.userData.boosts.sheep,i=n.userData.boosts.chicken,s=n.userData.boosts.cow,a=n.userData.boosts.fortune;for(var r in t)e.sheep[r]||(e.sheep[r]=t[r]);for(var r in i)e.chicken[r]||(e.chicken[r]=i[r]);for(var r in s)e.cow[r]||(e.cow[r]=s[r]);return e.fortune||(e.fortune=a),e}return n.userData.boosts},e.validateClan=function(e){var t=e;if(t){for(var i in n.basicClan)typeof n.basicClan[i]!=typeof t[i]&&(t[i]=n.basicClan[i]);("number"!=typeof t.sheep.level||t.sheep.level<=0||t.sheep.level>a.improveClanFarm.length)&&(t.sheep.level=n.basicClan.sheep.level),("number"!=typeof t.chicken.level||t.chicken.level<=0||t.chicken.level>a.improveClanFarm.length)&&(t.chicken.level=n.basicClan.chicken.level),("number"!=typeof t.cow.level||t.cow.level<=0||t.cow.level>a.improveClanFarm.length)&&(t.cow.level=n.basicClan.cow.level),("number"!=typeof t.main.level||t.main.level<=0)&&(t.main.level=n.basicClan.main.level),"number"!=typeof t.diamond.count&&(t.diamond.count=n.basicClan.diamond.count),("string"!=typeof t.sheep.money||Number(t.sheep.money)<=0)&&(t.sheep.money=n.basicClan.sheep.money),("string"!=typeof t.chicken.money||Number(t.chicken.money)<=0)&&(t.chicken.money=n.basicClan.chicken.money),("string"!=typeof t.cow.money||Number(t.cow.money)<=0)&&(t.cow.money=n.basicClan.cow.money)}return t},e}();t.default=y},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{collector:{time:3,improveTimePrice:0,speed:.1,imporveSpeedPrice:0},territory:{improveRepositoryPrice:1,improveFairPrice:0,improveTerritoryPrice:500,regeneration:13,maxRepositoryVolume:27,cooldown:0},exchange:450},{collector:{time:5,improveTimePrice:2600,speed:.2,imporveSpeedPrice:2},territory:{improveRepositoryPrice:1,improveFairPrice:0,improveTerritoryPrice:650,regeneration:13,maxRepositoryVolume:90,cooldown:.16},exchange:450},{collector:{time:7,improveTimePrice:4300,speed:.3,imporveSpeedPrice:3},territory:{improveRepositoryPrice:2,improveFairPrice:4300,improveTerritoryPrice:1720,regeneration:14,maxRepositoryVolume:126,cooldown:.5},exchange:900},{collector:{time:9,improveTimePrice:12100,speed:.4,imporveSpeedPrice:4},territory:{improveRepositoryPrice:2,maxRepositoryVolume:216,improveFairPrice:12100,improveTerritoryPrice:4033,regeneration:15,cooldown:1},exchange:1800},{collector:{time:11,improveTimePrice:42e3,speed:.5,imporveSpeedPrice:5},territory:{improveRepositoryPrice:3,maxRepositoryVolume:330,improveFairPrice:42e3,improveTerritoryPrice:12e3,regeneration:16,cooldown:5},exchange:4800},{collector:{time:13,improveTimePrice:261200,speed:.6,imporveSpeedPrice:6},territory:{improveRepositoryPrice:3,maxRepositoryVolume:468,improveFairPrice:261200,improveTerritoryPrice:65300,regeneration:18,cooldown:15},exchange:12e3},{collector:{time:15,improveTimePrice:2243200,speed:.8,imporveSpeedPrice:7},territory:{improveRepositoryPrice:4,maxRepositoryVolume:720,improveFairPrice:0,improveTerritoryPrice:249244,regeneration:21,cooldown:36},exchange:28800},{collector:{time:17,improveTimePrice:172e4,speed:.9,imporveSpeedPrice:8},territory:{improveRepositoryPrice:4,maxRepositoryVolume:918,improveFairPrice:172e4,improveTerritoryPrice:344e3,regeneration:23,cooldown:40},exchange:38400},{collector:{time:19,improveTimePrice:8806400,speed:1.1,imporveSpeedPrice:9},territory:{improveRepositoryPrice:5,maxRepositoryVolume:1254,improveFairPrice:0,improveTerritoryPrice:800582,regeneration:28,cooldown:45},exchange:86400},{collector:{time:21,improveTimePrice:6001600,speed:1.2,imporveSpeedPrice:10},territory:{improveRepositoryPrice:5,maxRepositoryVolume:1386,improveFairPrice:6001600,improveTerritoryPrice:1000267,regeneration:28,cooldown:50},exchange:105600},{collector:{time:23,improveTimePrice:26598400,speed:1.3,imporveSpeedPrice:11},territory:{improveRepositoryPrice:6,maxRepositoryVolume:1794,improveFairPrice:0,improveTerritoryPrice:2046031,regeneration:29,cooldown:73},exchange:211200},{collector:{time:25,improveTimePrice:22921600,speed:1.4,imporveSpeedPrice:12},territory:{improveRepositoryPrice:6,maxRepositoryVolume:1950,improveFairPrice:22921600,improveTerritoryPrice:3274514,regeneration:32,cooldown:80},exchange:249600},{collector:{time:27,improveTimePrice:99814400,speed:1.5,imporveSpeedPrice:13},territory:{improveRepositoryPrice:7,maxRepositoryVolume:2430,improveFairPrice:0,improveTerritoryPrice:6654293,regeneration:33,cooldown:86},exchange:499200},{collector:{time:29,improveTimePrice:62112e3,speed:1.6,imporveSpeedPrice:14},territory:{improveRepositoryPrice:7,maxRepositoryVolume:2610,improveFairPrice:62112e3,improveTerritoryPrice:7764e3,regeneration:36,cooldown:92},exchange:576e3},{collector:{time:60,improveTimePrice:267212800,speed:1.7,imporveSpeedPrice:15},territory:{improveRepositoryPrice:8,maxRepositoryVolume:3060,improveFairPrice:0,improveTerritoryPrice:15718400,regeneration:41,cooldown:192},exchange:1152e3},{collector:{time:62,improveTimePrice:313126400,speed:1.8,imporveSpeedPrice:16},territory:{improveRepositoryPrice:8,maxRepositoryVolume:3162,improveFairPrice:313126400,improveTerritoryPrice:34791822,regeneration:43,cooldown:198},exchange:1305600},{collector:{time:64,improveTimePrice:1295052800,speed:1.9,imporveSpeedPrice:17},territory:{improveRepositoryPrice:9,maxRepositoryVolume:3648,improveFairPrice:0,improveTerritoryPrice:68160674,regeneration:45,cooldown:204},exchange:2611200},{collector:{time:66,improveTimePrice:746624e3,speed:2,imporveSpeedPrice:18},territory:{improveRepositoryPrice:9,maxRepositoryVolume:3762,improveFairPrice:746624e3,improveTerritoryPrice:74662400,regeneration:48,cooldown:211},exchange:2918400},{collector:{time:68,improveTimePrice:3081625600,speed:2.1,imporveSpeedPrice:19},territory:{improveRepositoryPrice:10,maxRepositoryVolume:4284,improveFairPrice:0,improveTerritoryPrice:146744076,regeneration:49,cooldown:217},exchange:5836800},{collector:{time:70,improveTimePrice:3509248e3,speed:5,imporveSpeedPrice:20},territory:{improveRepositoryPrice:10,maxRepositoryVolume:4830,improveFairPrice:2088862480,improveTerritoryPrice:167107048,regeneration:54,cooldown:0},exchange:6451200}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(10),n=i(5),a=i(47),r=i(70),o=i(71);t.default=function(e){var t=1,i=0,c=0,h=!1,l=!1;return n.default.get("userSheep")&&(t=JSON.parse(n.default.get("userSheep")).part),n.default.get("userChicken")&&(i=JSON.parse(n.default.get("userChicken")).part)>0&&(h=!0),n.default.get("userCow")&&(c=JSON.parse(n.default.get("userCow")).part)>0&&(l=!0),{sheep:{part:t,max:e?a.default.length:s.sheepSettings.sheepParts.length,open:!0,price:0,unlock:0,donate:!1},chicken:{part:i,max:e?r.default.length:s.chickenSettings.chickenParts.length,open:h,price:3e8,unlock:8,donate:!1},cow:{part:c,max:e?o.default.length:s.cowSettings.cowParts.length,open:l,price:3e8,unlock:8,donate:!1},event:{startTime:0,endTime:0,open:!1,type:1},clanEvent:{startTime:0,endTime:0,open:!1,type:1}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(9),n=i(73),a=i(0),r=i(15),o=i(1);t.default=function(e){var t=this;void 0===e&&(e=!1);var i=this.state;e||(r.progressClanCooldown(i,i.offlineTime),r.progressClanEventTime(i,i.offlineTime),r.progressSalesTime(i,i.offlineTime));var c=function(e,t){var i=[e.production1Percent,e.production2Percent,e.production3Percent];t&&i.push(e.production4Percent);for(var s=i.reduce((function(e,t){return e+t})),n=[],a=0,r=0,o=0;o<i.length;o+=1)0!==i[o]&&(a=i[o]+r,n.push({id:o+1,bottom:r,top:a}),r=a);var c,h=Phaser.Math.Between(1,s);for(o=0;o<n.length;o+=1)n[o].bottom<h&&n[o].top>=h&&(c=n[o].id);return c},h=function(e){void 0===e&&(e=i.offlineTime),t.progressTerritoryCooldown(i.sheepTerritories,e,"Sheep",!0),i.userSheep.diamondAnimalTime>=e?i.userSheep.diamondAnimalTime-=e:(i.userSheep.diamondAnimalTime=0,i.userSheep.diamondAnimalAd=!0);var s=0;i.userSheep.feedBoostTime>=e?(i.userSheep.feedBoostTime-=e,s=e):(s=i.userSheep.feedBoostTime,i.userSheep.feedBoostTime=0);var n=0;i.userSheep.collector>=e?(i.userSheep.collector-=e,n=e):(n=i.userSheep.collector,i.userSheep.collector=0);var a=0;s>0&&(a=Number((s/n).toFixed(2))),a>=1&&(a=1);var r=t.farmBalance("Sheep"),c=[],h=function(e){var t,s=i.sheep[e];t=0===s.type?1:s.type;var a=i.sheepSettings.sheepSettings.find((function(e){return e.breed===t})).wool_growth;r.alarm&&(a=Math.round(a/100*i.sheepSettings.sheepBadPercent))<1&&(a=1);var o=Math.floor(a*n/1e3);0===o&&(s.wool+a*n>1e3?s.wool=1e3:s.wool+=a*n),0===i.userSheep.collector&&(s.wool=1e3),0!==s.type&&c.push({id:s._id,type:s.type,count:o})};for(var l in i.sheep)h(l);var d=i.sheepCollectorSettings.find((function(e){return e.level===i.userSheep.collectorLevel})).speed;if(o.default.checkTestB(i)&&(d=i.sheepSettings.partSettings[i.userSheep.collectorLevel-1].collector.speed),i.sheep.length>10*d){var u=100/(100/(10*d)*i.sheep.length/100);for(var l in c)c[l].count>0&&(c[l].count=Math.round(c[l].count/100*u))}var p=[];for(var l in c)for(var f=0;f<c[l].count;f++)p.push(c[l].type);var m=function(e){var t=i.sheepSettings.sheepSettings.find((function(t){return t.breed===p[e]})).long_wool;if(t*=1+a,i.clan){var s=i.clan.sheep.cooldown>0?1+(i.clan.sheep.level-1)/100:1+i.clan.sheep.level/100;t*=s}for(var n=function(s){if(5===s.type){var n=i.sheepSettings.territoriesSheepSettings.find((function(e){return e.improve===s.improve})).storage;if(o.default.checkTestB(i)&&(n=i.sheepSettings.partSettings[s.improve-1].territory.maxRepositoryVolume),s.volume<n){var a=c.find((function(t){return t.type===p[e]&&t.count>0}));return(null==a?void 0:a.count)>0&&a.count--,s.money+=t,s.volume++,"break"}s.volume=n}},r=0,h=i.sheepTerritories;r<h.length;r++){if("break"===n(h[r]))break}};for(var l in p)m(l);var g=function(e){c[e].count>0&&(i.sheep.find((function(t){return t._id===c[e].id})).wool=1e3)};for(var l in c)g(l);for(var y=function(e){if(5===e.type){var t=i.sheepSettings.territoriesSheepSettings.find((function(t){return t.improve===e.improve})).storage;o.default.checkTestB(i)&&(t=i.sheepSettings.partSettings[e.improve-1].territory.maxRepositoryVolume),e.volume>t&&(e.volume=t)}},v=0,w=i.sheepTerritories;v<w.length;v++){y(w[v])}},l=function(e){var s,n;void 0===e&&(e=i.offlineTime),t.progressTerritoryCooldown(i.chickenTerritories,e,"Chicken",!0);i.userChicken.diamondAnimalTime>=e?i.userChicken.diamondAnimalTime-=e:(i.userChicken.diamondAnimalTime=0,i.userChicken.diamondAnimalAd=!0);var r=0;i.userChicken.feedBoostTime>=e?(i.userChicken.feedBoostTime-=e,r=e):(r=i.userChicken.feedBoostTime,i.userChicken.feedBoostTime=0);var c=0;i.userChicken.collector>=e?(i.userChicken.collector-=e,c=e):(c=i.userChicken.collector,i.userChicken.collector=0);var h=0;r>0&&(h=Number((r/c).toFixed(2))),h>=1&&(h=1);var l=t.farmBalance("Chicken"),d=[],u=function(e){var t,s=i.chicken[e];t=0===s.type?1:s.type;var n=i.chickenSettings.chickenSettings.find((function(e){return e.breed===t})).egg;l.alarm&&(n=Math.round(n/100*i.chickenSettings.chickenBadPercent))<1&&(n=1);var a=Math.floor(n*c/1e3);0===a&&(s.egg+a*c>1e3?s.egg=1e3:s.egg+=a*c),0===i.userChicken.collector&&(s.egg=Phaser.Math.Between(0,1e3)),d.push({id:s._id,type:s.type,count:a,egg:!1})};for(var p in i.chicken)u(p);for(var p in i.chickenEggs){0!==(B=i.chickenEggs[p]).type&&d.push({id:B._id,type:B.type,count:1,egg:!0})}var f=[],m=function(e){if(0!==d[e].type)f.push(d[e]);else{var s=i.chicken.find((function(t){return t._id===d[e].id}));if(s){var n=Math.ceil((s.y-240)/t.height),r=Math.ceil(s.x/t.height),o=i.chickenTerritories.find((function(e){return e.block===n&&e.position===r}));if(o){var c=0,h=240*(o.position-1)+20,l=240*o.position-20,u=240*o.block+20,p=240*(o.block+1)-20;0===s.type&&(d[e].count<s.diamond?(s.diamond-=d[e].count,c=d[e].count):(c=3-s.diamond,i.chicken=i.chicken.filter((function(e){return e._id!==s._id}))));for(var m=0;m<c;m++){var g={type:0,x:Phaser.Math.Between(h,l),y:Phaser.Math.Between(u,p),_id:"local_"+a.randomString(18)};i.chickenEggs.push(g)}}}}};for(var p in d)m(p);var g=100,y=i.chickenCollectorSettings.find((function(e){return e.level===i.userChicken.collectorLevel})).speed;if(o.default.checkTestB(i)&&(y=i.chickenSettings.partSettings[i.userChicken.collectorLevel-1].collector.speed),i.chicken.length>10*y){var v=100/(10*y)*i.chicken.length;g=Math.round(100/(v/100))}var w=[];for(var p in f)for(var b=0;b<f[p].count;b++)w.push({id:f[p].id,type:String(f[p].type)});var x=w.length;g<100&&(x=Math.floor(w.length/100*g));var k=function(e){var t=i.chickenSettings.chickenSettings.find((function(t){return String(t.breed)===w[e].type})).eggPrice;if(t*=1+h,i.clan){var s=i.clan.chicken.cooldown>0?1+(i.clan.chicken.level-1)/100:1+i.clan.chicken.level/100;t*=s}var n=function(s){if(5===i.chickenTerritories[s].type){var n=i.chickenTerritories[s],a=i.chickenSettings.territoriesChickenSettings.find((function(e){return e.improve===n.improve})).storage;if(o.default.checkTestB(i)&&(a=i.chickenSettings.partSettings[n.improve-1].territory.maxRepositoryVolume),n.volume<a&&c>0){var r=f.find((function(t){return t.id===w[e].id}));return r.count>0&&r.count--,n.money+=t,n.volume++,"break"}}};for(var a in i.chickenTerritories){if("break"===n(a))break}};for(p=0;p<x;p++)k(p);var T=function(e){f[e].egg&&0===f[e].count&&(i.chickenEggs=i.chickenEggs.filter((function(t){return t._id!==f[e].id})))};for(var p in f)T(p);var _=[];for(var p in f)for(b=0;b<f[p].count;b++)_.push(f[p].type);var S=[],C=function(e){var t=i.chickenTerritories[e];if(2===t.type||3===t.type){var s=i.chickenSettings.territoriesChickenSettings.find((function(e){return e.improve===t.improve})).countEggs,n=240*(t.position-1)+20,a=240*t.position-20,r=240*t.block+20,o=240*(t.block+1)-20;for(var c in i.chickenEggs){var h=i.chickenEggs[c];(null==h?void 0:h.x)>n&&(null==h?void 0:h.x)<a&&(null==h?void 0:h.y)>r&&(null==h?void 0:h.y)<o&&s--}for(c=0;c<s;c++)S.push({x:Phaser.Math.Between(n,a),y:Phaser.Math.Between(r,o)})}};for(var p in i.chickenTerritories)C(p);var P=0;for(var p in i.chickenEggs=i.chickenEggs.filter((function(e){return 0===e.type})),S){if("number"!=typeof _[P])break;var B={type:_[P],x:null===(s=S[p])||void 0===s?void 0:s.x,y:null===(n=S[p])||void 0===n?void 0:n.y,_id:"local_"+a.randomString(18)};i.chickenEggs.push(B),P++}for(var A=0,E=i.chickenTerritories;A<E.length;A++){var M=E[A];5===M.type&&M.volume>0&&0===M.money&&(M.volume=0)}},d=function(e){void 0===e&&(e=i.offlineTime),t.progressTerritoryCooldown(i.cowTerritories,e,"Cow",!0);i.userCow.diamondAnimalTime>=e?i.userCow.diamondAnimalTime-=e:(i.userCow.diamondAnimalTime=0,i.userCow.diamondAnimalAd=!0);var s=0;i.userCow.feedBoostTime>=e?(i.userCow.feedBoostTime-=e,s=e):(s=i.userCow.feedBoostTime,i.userCow.feedBoostTime=0);var n=0;i.userCow.collector>=e?(i.userCow.collector-=e,n=e):(n=i.userCow.collector,i.userCow.collector=0);var a=0;i.userCow.factory.boostTime>=e?(i.userCow.factory.boostTime-=i.offlineTime,a=e):(a=i.userCow.factory.boostTime,i.userCow.factory.boostTime=0);var r=0;s>0&&(r=Number((s/n).toFixed(2))),r>=1&&(r=1);for(var h=t.farmBalance("Cow"),l=[],d=function(t){var s=0===t.type?1:t.type,a=i.cowSettings.cowSettings.find((function(e){return e.breed===s})),r=a.maxMilkVolume/10;0===t.type&&(r=a.maxMilkVolume/10),h.alarm&&(r=Math.round(r/100*i.cowSettings.cowBadPercent))<1&&(r=1);var o=t.milk+r>a.maxMilkVolume,c=Math.floor(r*n);if(0===c&&(t.milk+r*n>a.maxMilkVolume?t.milk=a.maxMilkVolume:t.milk+=r*n),0===i.userCow.collector&&(t.milk+=r*e,t.milk>a.maxMilkVolume&&(t.milk=a.maxMilkVolume)),c>a.maxMilkVolume||o&&c>0){var d=Math.floor(c/(i.offlineTime/10));t.milk-=d,t.milk<0&&(t.milk=0);var u=o&&i.offlineTime<10?a.maxMilkVolume:c;0!==t.type&&l.push({id:t._id,type:t.type,count:u})}},u=0,p=i.cow;u<p.length;u++){d(p[u])}var f=i.cowCollectorSettings.find((function(e){return e.level===i.userCow.collectorLevel})).speed;if(o.default.checkTestB(i)&&(f=i.cowSettings.partSettings[i.userCow.collectorLevel-1].collector.speed),i.cow.length>10*f)for(var m=100/(100/(10*f)*i.cow.length/100),g=0,y=l;g<y.length;g++){(x=y[g]).count>0&&(x.count=Math.round(x.count/100*m))}for(var v=i.cowTerritories,w=0,b=l;w<b.length;w++){var x;if((x=b[w]).count*=1+r,i.clan){var k=i.clan.cow.cooldown>0?1+(i.clan.cow.level-1)/100:1+i.clan.cow.level/100;x.count*=k}for(var T=0,_=v;T<_.length;T++){if(5===(K=_[T]).type){K.money+=0,K.volume+=x.count;break}}}var S=v.find((function(e){return 8===e.type}));if(S&&i.userCow.tutorial>=50){for(var C=i.userCow.factory,P=i.cowSettings.cowFactorySettings.find((function(e){return e.improve===S.improve})),B=0,A=function(e){if(5===e.type){var t=i.cowSettings.cowFactorySettings.find((function(t){return e.improve===t.improve})).lotSize*i.storageMultiply;o.default.checkTestB(i)&&(t=i.cowSettings.partSettings[e.improve-1].territory.maxRepositoryVolume),B+=t}},E=0,M=v;E<M.length;E++){A(K=M[E])}if(i.offlineTime>C.productionTimer){for(var O=Math.floor((i.offlineTime+P.processingTime-C.productionTimer)/P.processingTime),I=O*P.lotSize,R=0,D=0,N=v;D<N.length;D++){5===(K=N[D]).type&&(R+=K.volume)}var F=0;I<R&&B>P.lotSize?(R-=I,F=O):B>P.lotSize&&(F=Math.floor(R/P.lotSize),(R-=F*P.lotSize)<0&&(R=0));var L=0;F>1&&a>P.processingTime*F?L=Math.floor(F):F>1&&a>0&&(L=Math.floor(a/P.processingTime*F),a>P.processingTime&&0===L&&(L=1));var Y=C.currentProduction;if(Y&&(F+=1),F>0){for(var U=0;U<F;U+=1)if(Y&&0===U)C["production"+Y+"Money"]+=P.lotSize*C["production"+Y+"Multiply"],C.money+=P.lotSize*C["production"+Y+"Multiply"];else if(B>P.lotSize){L>0&&(L-=1);var V=c(P,L>0);C["production"+V+"Money"]+=P.lotSize*C["production"+V+"Multiply"],C.money+=P.lotSize*C["production"+V+"Multiply"]}var W=i.offlineTime-C.productionTimer-P.processingTime*F;C.productionTimer=W,W>0&&R>P.lotSize?C.currentProduction=c(P,i.userCow.factory.boostTime>0):R<P.lotSize&&(C.currentProduction=void 0,C.productionTimer=0)}else{W=C.productionTimer-i.offlineTime;C.productionTimer=W>0?W:0,C.productionTimer<=0&&(C.currentProduction=void 0)}(C.productionTimer<=0||C.productionTimer>P.processingTime)&&C.currentProduction&&(C.productionTimer=P.processingTime);for(var z=function(e){if(5===e.type){var s=i.cowSettings.cowFactorySettings.find((function(t){return e.improve===t.improve})).lotSize*t.state.storageMultiply;o.default.checkTestB(i)&&(s=i.cowSettings.partSettings[e.improve-1].territory.maxRepositoryVolume),R>0?R>=s?(e.volume=s,R-=s):(e.volume=R,R=0):e.volume=0,isNaN(e.volume)&&(e.volume=s)}},H=0,X=v;H<X.length;H++){z(K=X[H])}}else C.currentProduction&&(C.productionTimer-=i.offlineTime),(C.productionTimer<=0||C.productionTimer>P.processingTime)&&C.currentProduction&&(C.productionTimer=P.processingTime)}for(var G=function(e){if(5===e.type){var t=i.cowSettings.cowFactorySettings.find((function(t){return e.improve===t.improve})).lotSize*i.storageMultiply;o.default.checkTestB(i)&&(t=i.cowSettings.partSettings[e.improve-1].territory.maxRepositoryVolume),e.volume>t&&(e.volume=t)}},j=0,$=v;j<$.length;j++){var K;G(K=$[j])}},u=function(){var n=0;i.userUnicorn.feedBoostTime>=i.offlineTime?(i.userUnicorn.feedBoostTime-=i.offlineTime,n=i.offlineTime):(n=i.userUnicorn.feedBoostTime,i.userUnicorn.feedBoostTime=0);var r,o=0;i.userUnicorn.collector>=i.offlineTime?(i.userUnicorn.collector-=i.offlineTime,o=i.offlineTime):(o=i.userUnicorn.collector,i.userUnicorn.collector=0);var c=String(100);n>0&&((r=100+100*Number((n/o).toFixed(2)))>=200&&(r=200),c=String(r)),e||t.game.scene.keys.UnicornBars.collector.update(),e||(i.timeToNewDay-=i.offlineTime),e||(i.user.takeFreeDiamondTime-=i.offlineTime);var h=[],l=function(e){var s=t.animals.children.entries[e],n=s.data.values.type,a=i.unicornSettings.unicornSettings.find((function(e){return e.breed===n})).resource,r=Math.floor(a*o/1e3);0===r&&(s.data.values.active.data.values.resource+r*o>1e3?s.data.values.active.data.values.resource=1e3:s.data.values.active.data.values.resource+=r*o),0===i.userUnicorn.collector&&(s.data.values.resource=Phaser.Math.Between(0,1e3)),s.data.values.active.data.values.working&&h.push({id:s.data.values._id,type:s.data.values.type,count:r,resource:!1})};for(var d in t.animals.children.entries)l(d);for(var d in t.resources.children.entries){var u=t.resources.children.entries[d];h.push({id:u.data.values._id,type:u.data.values.type,count:1,resource:!0})}var p=100,f=i.unicornCollectorSettings.find((function(e){return e.level===i.userUnicorn.collectorLevel})).speed;if(t.animals.children.entries.length>10*f){var m=100/(10*f)*t.animals.children.entries.length;p=Math.round(100/(m/100))}var g=[];for(var d in h)for(var y=0;y<h[d].count;y++)g.push({id:h[d].id,type:h[d].type});var v=String(0),w=g.length;p<100&&(w=Math.floor(w/100*p));var b=function(e){var t=i.unicornSettings.unicornSettings.find((function(t){return t.breed===g[e].type})).resourcePrice;if(t=s.default.divide(s.default.multiply(t,c),String(100)),o>0){var n=h.find((function(t){return t.id===g[e].id}));n.count>0&&n.count--,v=s.default.add(v,t)}};for(d=0;d<w;d++)b(d);if(i.offlineTime>900&&s.default.greaterThan(v,"0")){var x={type:10,unicornParams:{offlineTime:i.offlineTime,offlineProgress:v,collectorTime:o}};t.scene.stop("Modal"),t.scene.stop("Shop"),t.scene.stop("ShopBars"),i.modal=x,t.scene.launch("Modal",t.state)}else i.userUnicorn.money=s.default.add(i.userUnicorn.money,v);var k=function(e){h[e].resource&&0===h[e].count&&t.resources.children.entries.find((function(t){return t.data.values._id===h[e].id})).destroy()};for(var d in h)k(d);var T=[];for(var d in h)for(y=0;y<h[d].count;y++)h[d].resource||T.push(h[d].type);var _=[];for(y=0;y<t.maxCountResource-t.resources.children.entries.length;y++)_.push({x:Phaser.Math.Between(20,700),y:Phaser.Math.Between(t.topIndent+20,t.topIndent+460)});var S=0;for(var d in _){if("number"!=typeof T[S])break;u={type:T[S],x:_[d].x,y:_[d].y,_id:"local_"+a.randomString(18)};t.getResource(u),S++}};i.offlineTime>0&&(e?"Unicorn"!==i.farm?(h(),i.userChicken.part>0&&l(),i.userCow.part>0&&d()):u():"Sheep"===i.farm?(!function(){t.progressTerritoryCooldown(t.territories.children.entries,i.offlineTime,"Sheep"),i.userSheep.diamondAnimalTime>=i.offlineTime?i.userSheep.diamondAnimalTime-=i.offlineTime:(i.userSheep.diamondAnimalTime=0,i.userSheep.diamondAnimalAd=!0);var s=0;i.userSheep.feedBoostTime>=i.offlineTime?(i.userSheep.feedBoostTime-=i.offlineTime,s=i.offlineTime):(s=i.userSheep.feedBoostTime,i.userSheep.feedBoostTime=0);var n=0;i.userSheep.collector>=i.offlineTime?(i.userSheep.collector-=i.offlineTime,n=i.offlineTime):(n=i.userSheep.collector,i.userSheep.collector=0);var a=0;s>0&&(a=Number((s/n).toFixed(2))),a>=1&&(a=1),e||t.game.scene.keys.SheepBars.collector.update(),e||(i.timeToNewDay-=i.offlineTime),e||(i.user.takeFreeDiamondTime-=i.offlineTime);var r=t.balance(),c=[];if(r.waterRecovery>0&&r.grassRecovery>0){var h=function(e){var s,a=t.sheep.children.entries[e];s=0===a.type?1:a.type;var o=t.settings.sheepSettings.find((function(e){return e.breed===s})).wool_growth;r.alarm&&(o=Math.round(o/100*t.settings.sheepBadPercent))<1&&(o=1);var h=Math.floor(o*n/1e3);0===h&&(a.wool+o*n>1e3?a.wool=1e3:a.wool+=o*n),0===i.userSheep.collector&&(a.wool=1e3),0!==a.type&&c.push({id:a._id,type:a.type,count:h})};for(var l in t.sheep.children.entries)h(l)}var d=i.sheepCollectorSettings.find((function(e){return e.level===i.userSheep.collectorLevel})).speed;if(o.default.checkTestB(i)&&(d=i.sheepSettings.partSettings[i.userSheep.collectorLevel-1].collector.speed),t.sheep.children.entries.length>10*d){var u=100/(100/(10*d)*t.sheep.children.entries.length/100);for(var l in c)c[l].count>0&&(c[l].count=Math.round(c[l].count/100*u))}var p=[];for(var l in c)for(var f=0;f<c[l].count;f++)p.push(c[l].type);var m=function(e){var s=i.sheepSettings.sheepSettings.find((function(t){return t.breed===p[e]})).long_wool;s*=1+a,i.clan&&(s*=1+i.clan.sheep.level/100);var n=function(n){if(5===t.territories.children.entries[n].territoryType){var a=t.territories.children.entries[n],r=t.settings.territoriesSheepSettings.find((function(e){return e.improve===a.improve})).storage;if(o.default.checkTestB(i)&&(r=i.sheepSettings.partSettings[a.improve-1].territory.maxRepositoryVolume),a.volume<r){var h=c.find((function(t){return t.type===p[e]&&t.count>0}));return(null==h?void 0:h.count)>0&&h.count--,a.money+=s,a.volume++,"break"}}};for(var r in t.territories.children.entries){if("break"===n(r))break}};for(var l in p)m(l);var g=function(e){c[e].count>0&&(t.sheep.children.entries.find((function(t){return t._id===c[e].id})).wool=1e3)};for(var l in c)g(l)}(),i.userChicken.part>0&&l(i.offlineTime),i.userCow.part>0&&d(i.offlineTime)):"Chicken"===i.farm?(!function(){var s,r;t.progressTerritoryCooldown(t.territories.children.entries,i.offlineTime,"Chicken");i.userChicken.diamondAnimalTime>=i.offlineTime?i.userChicken.diamondAnimalTime-=i.offlineTime:(i.userChicken.diamondAnimalTime=0,i.userChicken.diamondAnimalAd=!0);var c=0;i.userChicken.feedBoostTime>=i.offlineTime?(i.userChicken.feedBoostTime-=i.offlineTime,c=i.offlineTime):(c=i.userChicken.feedBoostTime,i.userChicken.feedBoostTime=0);var h=0;i.userChicken.collector>=i.offlineTime?(i.userChicken.collector-=i.offlineTime,h=i.offlineTime):(h=i.userChicken.collector,i.userChicken.collector=0);var l=0;c>0&&(l=Number((c/h).toFixed(2))),l>=1&&(l=1),e||t.game.scene.keys.ChickenBars.collector.update(),e||(i.timeToNewDay-=i.offlineTime),e||(i.user.takeFreeDiamondTime-=i.offlineTime);var d=t.balance(),u=[],p=function(e){var s,n=t.chicken.children.entries[e];s=0===n.type?1:n.type;var a=t.settings.chickenSettings.find((function(e){return e.breed===s})).egg;d.alarm&&(a=Math.round(a/100*t.settings.chickenBadPercent))<1&&(a=1);var r=Math.floor(a*h/1e3);0===r&&(n.egg+r*h>1e3?n.egg=1e3:n.egg+=r*h),0===i.userChicken.collector&&(n.egg=Phaser.Math.Between(0,1e3)),u.push({id:n._id,type:n.type,count:r,egg:!1})};for(var f in t.chicken.children.entries)p(f);for(var f in t.eggs.children.entries){0!==(A=t.eggs.children.entries[f]).type&&u.push({id:A._id,type:A.animalType,count:1,egg:!0})}var m=[],g=function(e){if(0!==u[e].type)m.push(u[e]);else{var i=t.chicken.children.entries.find((function(t){return t._id===u[e].id}));if(i){var s=t.currentTerritory(null==i?void 0:i.x,null==i?void 0:i.y);if(s){var r=0,o=240*(s.position-1)+20,c=240*s.position-20,h=240*s.block+20,l=240*(s.block+1)-20;u[e].count<i.diamond?(i.diamond-=u[e].count,r=u[e].count):(r=3-i.diamond,i.destroy());for(var d=0;d<r;d++){var p={type:0,x:Phaser.Math.Between(o,c),y:Phaser.Math.Between(h,l),_id:"local_"+a.randomString(18)};n.default.create(t,p)}}}}};for(var f in u)g(f);var y=100,v=i.chickenCollectorSettings.find((function(e){return e.level===i.userChicken.collectorLevel})).speed;if(o.default.checkTestB(i)&&(v=i.chickenSettings.partSettings[i.userChicken.collectorLevel-1].collector.speed),t.chicken.children.entries.length>10*v){var w=100/(10*v)*t.chicken.children.entries.length;y=Math.round(100/(w/100))}var b=[];for(var f in m)for(var x=0;x<m[f].count;x++)b.push({id:m[f].id,type:String(m[f].type)});var k=b.length;y<100&&(k=Math.floor(b.length/100*y));var T=function(e){var s=i.chickenSettings.chickenSettings.find((function(t){return String(t.breed)===b[e].type})).eggPrice;if(s*=1+l,i.clan){var n=i.clan.chicken.cooldown>0?1+(i.clan.chicken.level-1)/100:1+i.clan.chicken.level/100;s*=n}var a=function(n){if(5===t.territories.children.entries[n].territoryType){var a=t.territories.children.entries[n],r=t.settings.territoriesChickenSettings.find((function(e){return e.improve===a.improve})).storage;if(o.default.checkTestB(i)&&(r=i.chickenSettings.partSettings[a.improve-1].territory.maxRepositoryVolume),a.volume<r&&h>0){var c=m.find((function(t){return t.id===b[e].id}));return c.count>0&&c.count--,a.money+=s,a.volume++,"break"}}};for(var r in t.territories.children.entries){if("break"===a(r))break}};for(f=0;f<k;f++)T(f);var _=function(e){m[e].egg&&0===m[e].count&&t.eggs.children.entries.find((function(t){return t._id===m[e].id})).destroy()};for(var f in m)_(f);var S=[];for(var f in m)for(x=0;x<m[f].count;x++)m[f].egg||S.push(m[f].type);var C=[],P=function(e){var i=t.territories.children.entries[e];if(2===i.territoryType||3===i.territoryType){var s=t.settings.territoriesChickenSettings.find((function(e){return e.improve===i.improve})).countEggs,n=240*(i.position-1)+20,a=240*i.position-20,r=240*i.block+20,o=240*(i.block+1)-20;for(var c in t.eggs.children.entries){var h=t.eggs.children.entries[c];(null==h?void 0:h.x)>n&&(null==h?void 0:h.x)<a&&(null==h?void 0:h.y)>r&&(null==h?void 0:h.y)<o&&s--}for(c=0;c<s;c++)C.push({x:Phaser.Math.Between(n,a),y:Phaser.Math.Between(r,o)})}};for(var f in t.territories.children.entries)P(f);var B=0;for(var f in C){if("number"!=typeof S[B])break;var A={type:S[B],x:null===(s=C[f])||void 0===s?void 0:s.x,y:null===(r=C[f])||void 0===r?void 0:r.y,_id:"local_"+a.randomString(18)};n.default.create(t,A),B++}for(var f in t.territories.children.entries){var E=t.territories.children.entries[f];5===E.territoryType&&E.volume>0&&0===E.money&&(E.volume=0)}}(),h(i.offlineTime),i.userCow.part>0&&d(i.offlineTime)):"Cow"===i.farm?(!function(){t.progressTerritoryCooldown(t.territories.children.entries,i.offlineTime,"Cow");i.userCow.diamondAnimalTime>=i.offlineTime?i.userCow.diamondAnimalTime-=i.offlineTime:(i.userCow.diamondAnimalTime=0,i.userCow.diamondAnimalAd=!0);var s=0;i.userCow.feedBoostTime>=i.offlineTime?(i.userCow.feedBoostTime-=i.offlineTime,s=i.offlineTime):(s=i.userCow.feedBoostTime,i.userCow.feedBoostTime=0);var n=0;i.userCow.collector>=i.offlineTime?(i.userCow.collector-=i.offlineTime,n=i.offlineTime):(n=i.userCow.collector,i.userCow.collector=0);var a=0;i.userCow.factory.boostTime>=i.offlineTime?(i.userCow.factory.boostTime-=i.offlineTime,a=i.offlineTime):(a=i.userCow.factory.boostTime,i.userCow.factory.boostTime=0),e||t.game.scene.keys.CowBars.collector.update(),e||(i.timeToNewDay-=i.offlineTime),e||(i.user.takeFreeDiamondTime-=i.offlineTime);var r=0;s>0&&(r=Number((s/n).toFixed(2))),r>=1&&(r=1);for(var h=t.farmBalance("Cow"),l=[],d=t.animalGroup.children.entries,u=function(e){var t=0===e.breed?1:e.breed,s=i.cowSettings.cowSettings.find((function(e){return e.breed===t})),a=s.maxMilkVolume/10;0===e.breed&&(a=s.maxMilkVolume/10),h.alarm&&(a=Math.round(a/100*i.cowSettings.cowBadPercent))<1&&(a=1);var r=e.milk+a>s.maxMilkVolume,o=Math.floor(a*n);if(0!==o&&r||(e.milk+a*n>s.maxMilkVolume?e.milk=s.maxMilkVolume:e.milk+=a*n),0===i.userCow.collector&&(e.milk+=a*i.offlineTime,e.milk>s.maxMilkVolume&&(e.milk=s.maxMilkVolume)),o>s.maxMilkVolume||r&&o>0){var c=Math.floor(o/(i.offlineTime/10));e.milk-=c,e.milk<0&&(e.milk=0);var d=r&&i.offlineTime<10?s.maxMilkVolume:o;0!==e.breed&&l.push({id:e._id,type:e.breed,count:d})}},p=0,f=d;p<f.length;p++){u(f[p])}var m=i.cowCollectorSettings.find((function(e){return e.level===i.userCow.collectorLevel})).speed;if(o.default.checkTestB(i)&&(m=i.cowSettings.partSettings[i.userCow.collectorLevel-1].collector.speed),d.length>10*m)for(var g=100/(100/(10*m)*d.length/100),y=0,v=l;y<v.length;y++){(k=v[y]).count>0&&(k.count=Math.round(k.count/100*g))}for(var w=t.territories.children.entries,b=0,x=l;b<x.length;b++){var k;if((k=x[b]).count*=1+r,i.clan){var T=i.clan.cow.cooldown>0?1+(i.clan.cow.level-1)/100:1+i.clan.cow.level/100;k.count*=T}for(var _=0,S=w;_<S.length;_++){if(5===(q=S[_]).territoryType){q.money+=0,q.volume+=k.count;break}}}var C=w.find((function(e){return 8===e.territoryType}));if(C&&i.userCow.tutorial>=50){for(var P=C.factory,B=P.settings,A=0,E=function(e){if(5===e.territoryType){var t=i.cowSettings.cowFactorySettings.find((function(t){return e.improve===t.improve})).lotSize*i.storageMultiply;o.default.checkTestB(i)&&(t=i.cowSettings.partSettings[e.improve-1].territory.maxRepositoryVolume),A+=t}},M=0,O=w;M<O.length;M++){E(q=O[M])}if(i.offlineTime>P.productionTimer){for(var I=Math.floor((i.offlineTime+B.processingTime-P.productionTimer)/B.processingTime),R=I*B.lotSize,D=0,N=0,F=w;N<F.length;N++){5===(q=F[N]).territoryType&&(D+=q.volume)}var L=0;R<D&&A>B.lotSize?(D-=R,L=I):A>B.lotSize&&(L=Math.floor(D/B.lotSize),(D-=L*B.lotSize)<0&&(D=0));var Y=0;L>1&&a>B.processingTime*L?Y=Math.floor(L):L>1&&a>0&&(Y=Math.floor(a/B.processingTime*L),a>B.processingTime&&0===Y&&(Y=1));var U=P.currentProduction;if(U&&(L+=1),L>0){for(var V=0;V<L;V+=1)if(U&&0===V)P["production"+U+"Money"]+=B.lotSize*i.userCow.factory["production"+U+"Multiply"],P.money+=B.lotSize*i.userCow.factory["production"+U+"Multiply"];else if(A>B.lotSize){var W=c(B,Y>0);P["production"+W+"Money"]+=B.lotSize*i.userCow.factory["production"+W+"Multiply"],P.money+=B.lotSize*i.userCow.factory["production"+W+"Multiply"]}var z=i.offlineTime-P.productionTimer-B.processingTime*L;P.productionTimer=z,P.productionTimer>0&&D>B.lotSize?P.currentProduction=c(B,Y>0):D<B.lotSize&&(P.currentProduction=void 0,P.productionTimer=0)}else{z=P.productionTimer-i.offlineTime;P.productionTimer=z>0?z:0,P.productionTimer<=0&&(P.currentProduction=void 0)}(P.productionTimer<=0||P.productionTimer>B.processingTime)&&P.currentProduction&&(P.productionTimer=B.processingTime);for(var H=function(e){if(5===e.territoryType){var s=i.cowSettings.cowFactorySettings.find((function(t){return e.improve===t.improve})).lotSize*t.state.storageMultiply;o.default.checkTestB(i)&&(s=i.cowSettings.partSettings[e.improve-1].territory.maxRepositoryVolume),D>0?D>=s?(e.volume=s,D-=s):(e.volume=D,D=0):e.volume=0}},X=0,G=w;X<G.length;X++){H(q=G[X])}}else P.currentProduction&&(P.productionTimer-=i.offlineTime),(P.productionTimer<=0||P.productionTimer>B.processingTime)&&P.currentProduction&&(P.productionTimer=B.processingTime)}for(var j=function(e){if(5===e.territoryType){var s=i.cowSettings.cowFactorySettings.find((function(t){return e.improve===t.improve})).lotSize*t.state.storageMultiply;o.default.checkTestB(i)&&(s=i.cowSettings.partSettings[e.improve-1].territory.maxRepositoryVolume),e.volume>s&&(e.volume=s)}},$=0,K=w;$<K.length;$++){var q;j(q=K[$])}}(),h(i.offlineTime),i.userChicken.part>0&&l(i.offlineTime)):(u(),h(i.offlineTime),i.userChicken.part>0&&l(i.offlineTime),i.userCow.part>0&&d(i.offlineTime)),this.autoporgressCollectorTime(),function(e){var t=e.userUnicorn,i=e.offlineTime;t&&(t.collectorNotificationTime<=i?t.collectorNotificationTime=0:t.collectorNotificationTime-=i)}(i),r.incFortuneAdTimer(i,i.offlineTime)),i.offlineTime=0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(46),a=i(5),r=i(1);t.default=function(){var e,t=this,i=this.state;this.autoSaveTimer=0;for(var o=void 0,c=void 0,h=void 0,l=void 0,d=[],u=[],p=[],f=0;f<i.sheepTasks.length;f++){if(r.default.checkTestB(this.state))d=i.sheepTasks.filter((function(e){return Number(e.id.split("-")[0])===i.userSheep.part}));else i.sheepTasks[f].part===i.userSheep.part&&(10===i.sheepTasks[f].type?(("web"===this.state.platform||"gd"===this.state.platform)&&""===this.state.user.login||this.takeRewardRegistration)&&d.push(i.sheepTasks[f]):16===i.sheepTasks[f].type&&"web"!==this.state.platform&&"gd"!==this.state.platform||d.push(i.sheepTasks[f]))}for(f=0;f<i.chickenTasks.length;f++){if(r.default.checkTestB(this.state))u=i.chickenTasks.filter((function(e){return Number(e.id.split("-")[0])===i.userChicken.part}));else i.chickenTasks[f].part===i.userChicken.part&&(10===i.chickenTasks[f].type?(("web"===this.state.platform||"gd"===this.state.platform)&&""===this.state.user.login||this.takeRewardRegistration)&&u.push(i.chickenTasks[f]):16===i.chickenTasks[f].type&&"web"!==this.state.platform&&"gd"!==this.state.platform||u.push(i.chickenTasks[f]))}for(f=0;f<i.cowTasks.length;f++){if(r.default.checkTestB(this.state))p=i.cowTasks.filter((function(e){return Number(e.id.split("-")[0])===i.userCow.part}));else i.cowTasks[f].part===i.userCow.part&&(10===i.cowTasks[f].type?(("web"===this.state.platform||"gd"===this.state.platform)&&""===this.state.user.login||this.takeRewardRegistration)&&p.push(i.cowTasks[f]):16===i.sheepTasks[f].type&&"web"!==this.state.platform&&"gd"!==this.state.platform||p.push(i.cowTasks[f]))}if("Sheep"===i.farm){d=this.partTasks();var m=[],g=[];for(var f in i.userChicken.collector=i.progress.chicken.collector,i.userCow.collector=i.progress.cow.collector,"number"==typeof this.state.userSheep.autosaveCounter?this.state.userSheep.autosaveCounter++:this.state.userSheep.autosaveCounter=0,this.territories.children.entries){var y=this.territories.children.entries[f];m.push({_id:y._id,block:y.block,position:y.position,type:y.territoryType,volume:y.volume,improve:y.improve,money:y.money,cooldown:y.cooldown,boughtType:y.boughtType})}for(var f in this.sheep.children.entries){var v=this.sheep.children.entries[f];g.push({_id:v._id,type:v.type,wool:v.wool,x:Math.round(v.x),y:Math.round(v.y),counter:v.counter,diamond:v.diamond,vector:v.vector})}i.sheep=g,i.sheepTerritories=m}else if("Chicken"===i.farm){u=this.partTasks();m=[];var w=[],b=[];for(var f in i.userSheep.collector=i.progress.sheep.collector,i.userCow.collector=i.progress.cow.collector,"number"==typeof i.userChicken.autosaveCounter?i.userChicken.autosaveCounter++:i.userChicken.autosaveCounter=0,this.territories.children.entries){y=this.territories.children.entries[f];m.push({_id:y._id,block:y.block,position:y.position,type:y.territoryType,volume:y.volume,improve:y.improve,money:y.money,cooldown:y.cooldown,boughtType:y.boughtType})}for(var f in this.chicken.children.entries){var x=this.chicken.children.entries[f];w.push({_id:x._id,type:x.type,egg:x.egg,x:x.x,y:x.y,counter:x.counter,diamond:x.diamond,vector:x.vector})}for(var f in this.eggs.children.entries){var k=this.eggs.children.entries[f];b.push({_id:k._id,x:Math.round(k.x),y:Math.round(k.y),type:k.animalType})}i.chicken=w,i.chickenTerritories=m,i.chickenEggs=b}else if("Cow"===i.farm){p=this.partTasks();m=[];var T=[];for(var f in i.userSheep.collector=i.progress.sheep.collector,i.userChicken.collector=i.progress.chicken.collector,"number"==typeof this.state.userCow.autosaveCounter?this.state.userCow.autosaveCounter++:this.state.userCow.autosaveCounter=0,this.territories.children.entries){y=this.territories.children.entries[f];m.push({_id:y._id,block:y.block,position:y.position,type:y.territoryType,volume:y.volume,improve:y.improve,money:y.money,cooldown:y.cooldown,boughtType:y.boughtType})}for(var f in this.animalGroup.children.entries){var _=this.animalGroup.children.entries[f];T.push({_id:_._id,type:_.breed,milk:_.milk,x:_.x,y:_.y,counter:_.counter,diamond:_.diamond,vector:_.vector})}i.cow=T,i.cowTerritories=m;var S=null===(e=this.territories.children.entries.find((function(e){return 8===e.territoryType})))||void 0===e?void 0:e.factory;if(S){var C={currentProduction:S.currentProduction,productionTimer:S.productionTimer,money:S.money,production1Money:S.production1Money,production2Money:S.production2Money,production3Money:S.production3Money,production4Money:S.production4Money,boostTime:i.userCow.factory.boostTime,milkMultiply:.2,production1Multiply:.5,production2Multiply:1,production3Multiply:1.5,production4Multiply:2.5};i.userCow.factory=C}}else if("Unicorn"===i.farm){l=i.userUnicorn,this.getEventRaiting(),"number"==typeof i.userUnicorn.autosaveCounter?i.userUnicorn.autosaveCounter++:i.userUnicorn.autosaveCounter=0;m=[];var P=[],B=[];for(var f in this.territories.children.entries){y=this.territories.children.entries[f];m.push({_id:y.data.values._id,block:y.data.values.block,position:y.data.values.position,type:y.data.values.type})}for(var f in this.animals.children.entries){var A=this.animals.children.entries[f];P.push({_id:A.data.values._id,type:A.data.values.type,x:A.x,y:A.y,activeAnimal:{x:A.data.values.active.x,y:A.data.values.active.y,working:A.data.values.active.data.values.working,vector:A.data.values.active.data.values.vector,counter:A.data.values.active.data.values.counter}})}for(var f in this.resources.children.entries){var E=this.resources.children.entries[f];B.push({_id:E.data.values._id,x:Math.round(E.x),y:Math.round(E.y),type:E.data.values.type})}o=P,c=m,h=B,i.unicorn=o}i.user=n.default.validateUser(i.user);var M={diamonds:i.user.diamonds,xp:i.user.xp,takenReward:i.user.takenReward,additionalTutorial:i.user.additionalTutorial,status:i.user.status,statuses:i.user.statuses,boosts:i.user.boosts,test:i.user.test,fortuneTimeAd:i.user.fortuneTimeAd,userSheep:r.default.checkTestB(i)?n.default.validateUserSheepTestB(i.userSheep):n.default.validateUserSheep(i.userSheep),userChicken:r.default.checkTestB(i)?n.default.validateUserChickenTestB(i.userChicken):n.default.validateUserChicken(i.userChicken),userCow:r.default.checkTestB(i)?n.default.validateUserCowTestB(i.userCow):n.default.validateUserCow(i.userCow),userUnicorn:l,takenFreeDiamonds:i.user.takenFreeDiamonds,takenSocialAward:i.user.takenSocialAward,messages:i.user.messages,personalMessages:i.user.personalMessages,yandexName:i.yandexName,avatar:i.user.avatar,boughtAvatars:i.user.boughtAvatars,clanTasks:i.user.clanTasks,takeFreeDiamondTime:i.user.takeFreeDiamondTime,achievements:i.user.achievements},O={id:i.user.id,hash:i.user.hash,counter:i.user.counter,build:i.build,user:M,dailyAwards:i.dailyAwards,sheep:i.sheep,sheepTerritories:i.sheepTerritories,sheepTasks:d,chicken:i.chicken,chickenEggs:i.chickenEggs,chickenTerritories:i.chickenTerritories,chickenTasks:u,cow:i.cow,cowTasks:p,cowTerritories:i.cowTerritories,unicorn:o,unicornResource:h,unicornTerritories:c,isUnicornFarm:"Unicorn"===this.state.farm};return s.default.post("https://ferma.games:4000/autoSave",O).then((function(e){(t.scene.isActive("Sheep")||t.scene.isActive("Chicken")||t.scene.isActive("Cow"))&&(e.data.error?t.logout():("local"===i.user.hash&&(i.user.id=e.data.newUser._id,i.user.hash=e.data.newUser.hash,i.user.counter=e.data.newUser.counter,"web"!==i.platform&&"gd"!==i.platform||a.default.set("hash",e.data.hash)),e.data.donate&&(i.donate=!0)))}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openEmailWindow=t.startHerdBoost=t.showImproveCollector=t.showDonate=t.takeNewbieAward=t.dailyAward=t.showTasks=t.nextPart=t.showBank=t.messageIsSent=t.confirmExchangeTerritory=void 0;var s=i(2),n=i(0),a=i(22),r=i(1);function o(){var e,t;if("Sheep"===this.state.farm?(e=this.state.userSheep,t=this.state.sheepSettings.partSettings):"Chicken"===this.state.farm?(e=this.state.userChicken,t=this.state.chickenSettings.partSettings):"Cow"===this.state.farm&&(e=this.state.userCow,t=this.state.cowSettings.partSettings),t.length>e.part){var i=this.partTasks(),s=!0;0===i.length&&(s=!1);for(var n=0;n<i.length;n++)if(1!==i[n].done||1!==i[n].awardTaken){s=!1;break}if(s){var a={type:5,donePart:{part:this.state.lang.part+" "+e.part,name:this.state.lang[this.state.farm.toLowerCase()+"NamePart"+e.part+"testB"],award:"x 0",doneText:this.state.lang[this.state.farm.toLowerCase()+"PartDone"+e.part+"testB"],chapter:this.state.farm.toLowerCase()+"-chapter-"+e.part}};this.state.modal=a,this.scene.launch("Modal",this.state)}}}function c(){var e;"Sheep"===this.state.farm?e=this.state.userSheep.part:"Chicken"===this.state.farm?e=this.state.userChicken.part:"Cow"===this.state.farm&&(e=this.state.userCow.part);var t=this.partTasks(),i={type:3,tasksParams:{part:String(e),name:this.state.lang[this.state.farm.toLowerCase()+"NamePart"+e+"testB"],farmer:this.state.lang[this.state.farm.toLowerCase()+"ProfileName"]+" "+n.romanize(e),done:!1,description:this.state.lang[this.state.farm.toLowerCase()+"PartAward"+e+"testB"],tasks:t}};this.state.modal=i,this.scene.launch("Modal",this.state)}t.confirmExchangeTerritory=function(e){this.state.exchangeTerritory=e,this.state.modal={type:1,sysType:5},this.scene.launch("Modal",this.state)},t.messageIsSent=function(){var e=this;this.time.addEvent({delay:1500,callback:function(){var t={type:1,sysType:3,height:150,message:e.state.lang.yourMessageIsSent};e.state.modal=t,e.scene.launch("Modal",e.state)},callbackScope:this,loop:!1})},t.showBank=function(){this.state.modal={type:2,shopType:1},this.scene.launch("Modal",this.state)},t.nextPart=function(){if(r.default.checkTestB(this.state))return o.bind(this)();var e,t;if("Sheep"===this.state.farm?(e=this.state.userSheep,t=this.state.sheepSettings.sheepParts):"Chicken"===this.state.farm?(e=this.state.userChicken,t=this.state.chickenSettings.chickenParts):"Cow"===this.state.farm&&(e=this.state.userCow,t=this.state.cowSettings.cowParts),t.length>e.part){var i=this.partTasks(),s=!0;0===i.length&&(s=!1);for(var n=0;n<i.length;n++)if((1!==i[n].done||1!==i[n].got_awarded)&&1===i[n].necessary){s=!1;break}if(s){var a=t.find((function(t){return t.sort===e.part})),c={type:5,donePart:{part:this.state.lang.part+" "+e.part,name:this.state.lang[this.state.farm.toLowerCase()+"NamePart"+e.part],award:"x "+a.award,doneText:this.state.lang[this.state.farm.toLowerCase()+"PartDone"+e.part],chapter:this.state.farm.toLowerCase()+"-chapter-"+e.part}};this.state.modal=c,this.scene.launch("Modal",this.state)}}},t.showTasks=function(){if(r.default.checkTestB(this.state))return c.bind(this)();var e;"Sheep"===this.state.farm?e=this.state.userSheep.part:"Chicken"===this.state.farm?e=this.state.userChicken.part:"Cow"===this.state.farm&&(e=this.state.userCow.part);var t=!0,i=this.partTasks();for(var s in i)if(1===i[s].necessary&&0===i[s].got_awarded){t=!1;break}var a={type:3,tasksParams:{part:String(e),name:this.state.lang[this.state.farm.toLowerCase()+"NamePart"+e],farmer:this.state.lang[this.state.farm.toLowerCase()+"ProfileName"]+" "+n.romanize(e),done:t,description:this.state.lang[this.state.farm.toLowerCase()+"PartAward"+e],tasks:i}};this.state.modal=a,this.scene.launch("Modal",this.state)},t.dailyAward=function(){var e=!1,t=!0;if("Sheep"===this.state.farm?(this.state.userSheep.tutorial>=100&&this.state.userSheep.part>3&&!this.state.user.takenReward&&(e=!0),(!this.state.user.additionalTutorial.herdBoost&&this.state.userSheep.part>=this.game.scene.keys[this.state.farm].herdBoostLvl||!this.state.user.additionalTutorial.feedBoost&&this.state.userSheep.part>=this.game.scene.keys[this.state.farm].feedBoostLvl)&&(t=!1)):"Chicken"===this.state.farm?this.state.userChicken.tutorial>0&&!this.state.user.takenReward&&(e=!0):"Cow"===this.state.farm&&this.state.userCow.tutorial>0&&!this.state.user.takenReward&&(e=!0),e&&t&&this.dailyStartCheck&&"number"==typeof this.state.daily&&!this.scene.get("Modal").load.isLoading()&&!this.scene.isActive("Modal")&&!this.scene.isActive("Tutorial")&&!this.scene.isActive("Profile")&&!this.scene.isActive("Fortune"))if(this.dailyStartCheck=!1,"ok"===this.state.platform&&this.state.okTask&&(this.state.okTask.sendPost=!1,a.FAPI.Client.call({method:"storage.set",key:"sendPost",value:JSON.stringify(!1)})),this.state.newbieTime>0){var i={type:6};this.state.modal=i,this.scene.launch("Modal",this.state)}else{i={type:4};this.state.modal=i,this.scene.launch("Modal",this.state)}},t.takeNewbieAward=function(){var e,t;this.state.user.takenReward||(1===this.state.daily&&(this.state.dailyAwards[0]=!0),2===this.state.daily&&(this.state.dailyAwards[1]=!0),3===this.state.daily&&(this.state.dailyAwards[2]=!0),4===this.state.daily&&(this.state.dailyAwards[3]=!0),5===this.state.daily&&(this.state.dailyAwards[4]=!0),6===this.state.daily&&(this.state.dailyAwards[5]=!0),7===this.state.daily&&(this.state.dailyAwards[6]=!0),8===this.state.daily&&(this.state.dailyAwards[7]=!0,null===(e=this.game.scene.keys[this.state.farm+"Bars"].calendar)||void 0===e||e.destroy(),null===(t=this.game.scene.keys[this.state.farm+"Bars"].calendarText)||void 0===t||t.destroy()),1!==this.state.daily&&2!==this.state.daily&&3!==this.state.daily&&8!==this.state.daily||"Sheep"===this.state.farm||this.game.scene.keys[this.state.farm+"Bars"].newbieAwardAnimation(),4!==this.state.daily&&6!==this.state.daily||"Chicken"===this.state.farm||(4===this.state.daily&&(this.state.dailyAwards[3]=!1),this.game.scene.keys[this.state.farm+"Bars"].newbieAwardAnimation()),5!==this.state.daily&&7!==this.state.daily||this.game.scene.keys[this.state.farm+"Bars"].newbieAwardAnimation(),this.getNewbieAward(),this.state.user.takenReward=!0,s.default.post("https://ferma.games:4000/takenNewbieReward",{hash:this.state.user.hash}))},t.showDonate=function(){this.state.donate=!1,this.state.modal={type:7},this.scene.launch("Modal",this.state)},t.showImproveCollector=function(){this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.state.modal={type:1,sysType:10},this.scene.launch("Modal",this.state)},t.startHerdBoost=function(){this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.state.modal={type:8},this.scene.launch("Modal",this.state)},t.openEmailWindow=function(){this.state.modal={type:1,sysType:13},this.scene.launch("Modal",this.state)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.progressEventTutor_50=t.progressEventTutor_40=t.doneEventTutor_70=t.doneEventTutor_60=t.doneEventTutor_50=t.doneEventTutor_40=t.doneEventTutor_30=t.doneEventTutor_20=t.doneEventTutor_10=t.doneEventTutor_0=t.showEventTutorial=void 0,t.showEventTutorial=function(e){var t,i,s,n,a,r;void 0===e&&(e=!1),this.scene.isActive("Modal")&&this.scene.stop("Modal"),this.scene.isActive("Tutorial")&&this.scene.stop("Tutorial"),this.scene.isActive("ClanScroll")&&this.scene.stop("ClanScroll"),this.scene.isActive("Achievements")&&this.scene.stop("Achievements"),(null===(t=this.state.userUnicorn)||void 0===t?void 0:t.tutorial)>0&&this.scene.isActive("Profile")&&this.scene.stop("Profile"),1===this.state.progress.event.type&&(r={farm:3,step:this.state.userUnicorn.tutorial,additional:e},this.game.scene.keys.Unicorn.mergPointer&&(null===(n=null===(s=null===(i=this.game.scene.keys.Unicorn.mergPointer)||void 0===i?void 0:i.data)||void 0===s?void 0:s.values.animal)||void 0===n||n.destroy(),null===(a=this.game.scene.keys.Unicorn.mergPointer)||void 0===a||a.destroy())),this.state.tutorial=r,this.scene.launch("Tutorial",this.state)},t.doneEventTutor_0=function(){1===this.state.progress.event.type&&(this.state.amplitude.logAmplitudeEvent("tutorial",{step:0,farm_id:"Unicorn"}),this.state.userUnicorn.tutorial=10,this.achievement.tryId(42),this.scene.stop("Tutorial"),this.scene.stop(this.state.farm),this.scene.stop(this.state.farm+"Bars"),this.scene.stop("Profile"),this.scene.start("UnicornPreload",this.state))},t.doneEventTutor_10=function(){var e=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:10}),this.state.userUnicorn.tutorial=20,this.scene.stop("Tutorial"),this.time.addEvent({delay:1e3,callback:function(){e.showEventTutorial()},callbackScope:this,loop:!1})},t.doneEventTutor_20=function(){var e=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:20}),this.state.userUnicorn.tutorial=30,this.scene.stop("Tutorial"),this.time.addEvent({delay:1e3,callback:function(){e.showEventTutorial()},callbackScope:this,loop:!1})},t.doneEventTutor_30=function(){var e=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:30}),this.state.userUnicorn.tutorial=40,this.game.scene.keys.UnicornBars.animalBuy.setVisible(!0),this.game.scene.keys.UnicornBars.animalPrice.setVisible(!0),this.game.scene.keys.UnicornBars.animalPriceBubble.setVisible(!0),this.scene.stop("Tutorial"),this.time.addEvent({delay:500,callback:function(){e.showEventTutorial()},callbackScope:this,loop:!1})},t.doneEventTutor_40=function(){var e,t,i,s=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:40}),this.showMergPointer=!1,null===(t=null===(e=this.mergPointer)||void 0===e?void 0:e.data.values.animal)||void 0===t||t.destroy(),null===(i=this.mergPointer)||void 0===i||i.destroy(),this.state.userUnicorn.tutorial=50,this.time.addEvent({delay:500,callback:function(){s.showEventTutorial()},callbackScope:this,loop:!1})},t.doneEventTutor_50=function(){var e,t,i,s=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:50}),null===(t=null===(e=this.mergPointer)||void 0===e?void 0:e.data.values.animal)||void 0===t||t.destroy(),null===(i=this.mergPointer)||void 0===i||i.destroy(),this.state.userUnicorn.tutorial=60,this.time.addEvent({delay:500,callback:function(){s.showEventTutorial()},callbackScope:this,loop:!1})},t.doneEventTutor_60=function(){var e=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:60}),this.state.userUnicorn.tutorial=70,this.scene.stop("Tutorial"),this.time.addEvent({delay:500,callback:function(){e.showEventTutorial()},callbackScope:this,loop:!1})},t.doneEventTutor_70=function(){this.state.amplitude.logAmplitudeEvent("tutorial",{step:70}),this.state.userUnicorn.tutorial=80,this.game.scene.keys.UnicornBars.shop.setVisible(!0),this.game.scene.keys.UnicornBars.map.setVisible(!0),this.game.scene.keys.UnicornBars.collectorBtn.setVisible(!0),this.game.scene.keys.UnicornBars.collector.setVisible(!0),this.game.scene.keys.UnicornBars.collector.bubble.setVisible(!0),this.scene.stop("Tutorial")},t.progressEventTutor_40=function(){this.mergTutor=0,this.mergPointer=this.physics.add.sprite(120,740,"event-tutor-merging").setDepth(Number(this.game.config.width)).setOrigin(0,0),this.mergPointer.setDataEnabled(),this.mergPointer.data.values.animal=this.physics.add.sprite(120,740,"animal1").setDepth(this.height).setTint(7829367).setScale(.95),this.mergPointer.first=!0,this.showMergPointer=!0,this.scene.stop("Tutorial")},t.progressEventTutor_50=function(){var e=this.animals.getChildren()[0];this.mergTutor=0,this.mergPointer=this.physics.add.sprite(e.x,e.y,"event-tutor-merging").setDepth(Number(this.game.config.width)).setOrigin(0,0),this.mergPointer.setDataEnabled(),this.mergPointer.data.values.animal=this.physics.add.sprite(e.x,e.y,"animal"+e.data.values.type).setDepth(this.height).setTint(7829367).setScale(.95),this.mergPointer.first=!0,this.showMergPointer=!0,this.scene.stop("Tutorial")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.scene=e,this.farm=this.scene.state.farm,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang["expel"+this.farm]),this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-60,this.scene.state.lang["confirmExpel"+this.farm],{font:"26px Bip",color:"#925C28",align:"center",wordWrap:{width:400}}).setOrigin(.5,.5);var t=this.scene.bigButton("red","center",40,this.scene.state.lang.expel);this.scene.clickModalBtn(t,(function(){e.closeWindow(),e.expelAnimal()}));var i=this.scene.bigButton("yellow","center",120,this.scene.state.lang.cancel);this.scene.clickModalBtn(i,(function(){e.scene.state.animal.expel=!1,e.closeWindow()})),this.scene.resizeWindow(250)},e.prototype.expelAnimal=function(){var e,t;"Sheep"===this.farm?(this.scene.state.animal.woolSprite.destroy(),this.scene.state.animal.shaveStatus.destroy()):"Unicorn"===this.farm&&(this.scene.game.scene.keys[this.scene.state.farm].currentTerritory(this.scene.state.animal.x,this.scene.state.animal.y).data.values.merging=[],null===(e=this.scene.state.animal.data.values.active)||void 0===e||e.data.values.cloud.destroy(),null===(t=this.scene.state.animal.data.values.active)||void 0===t||t.destroy()),this.scene.state.animal.destroy(),this.scene.game.scene.keys[this.scene.state.farm].achievement.tryId(15)},e.prototype.closeWindow=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=s},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(13),r=function(e){function t(t,i,s,n,a,r,o,c,h){void 0===o&&(o=!1);var l=e.call(this,t,i,s,n-66+2,a-45,o?"clan-window-tab-active-mc":"clan-window-tab-disable-mc")||this;return l.activeSprite=o,l.iconTexture=r,l.callback=c,l.typeIcon=h,l.create(),l}return n(t,e),t.prototype.create=function(){var e,t,i=this;this.scene.add.existing(this);var s=this.getBounds(),n=this.activeSprite?"clan-window-tab-active-":"clan-window-tab-disable-";if(this.tl=this.scene.add.sprite(s.left,s.top,n+"tl").setOrigin(1),this.tc=this.scene.add.tileSprite(s.centerX,s.top,this.width,33,n+"tc").setOrigin(.5,1),this.tr=this.scene.add.sprite(s.right,s.top,n+"tr").setOrigin(0,1),this.ml=this.scene.add.tileSprite(s.left,s.centerY,33,this.height+1,n+"ml").setOrigin(1,.5),this.mr=this.scene.add.tileSprite(s.right,s.centerY,33,this.height+1,n+"mr").setOrigin(0,.5),this.bl=this.scene.add.sprite(s.left,s.bottom,n+"bl").setOrigin(1,0),this.bc=this.scene.add.tileSprite(s.centerX,s.bottom,this.width,12,n+"bc").setOrigin(.5,0),this.br=this.scene.add.sprite(s.right,s.bottom,n+"br").setOrigin(0),this.icon=this.scene.add.sprite(s.centerX,s.centerY-13,this.iconTexture),1===this.typeIcon){var r=new Phaser.Display.Masks.BitmapMask(this.scene,this.icon);r.invertAlpha=!0,(null===(e=this.scene.state.clan)||void 0===e?void 0:e.avatar)&&(this.flag=a.default.createFlag(this.scene,s.centerX+5,s.centerY-13-5,null===(t=this.scene.state.clan)||void 0===t?void 0:t.avatar).setScale(.205).setMask(r))}if(!this.activeSprite){var o=this.scene.add.tileSprite(this.x,this.y,this.width+66,this.height+45,"pixel"),c=[this,this.tl,this.tc,this.tr,this.ml,this.mr,this.bl,this.bc,this.br,this.icon];this.flag&&c.push(this.flag),this.scene.clickButtonClanUp(o,(function(){void 0!==i.callback&&i.callback()}),c)}},t}(Phaser.GameObjects.TileSprite);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scoreEnding=t.updateRaitingsBar=t.tryTask=t.getFreeBoostPositions=t.createBoostAnimal=t.exchange=t.improveCollector=t.convertMoney=t.convertDiamonds=t.buyCollector=t.freeCollector=t.currentTerritory=t.getFreePosition=t.maxBreedForBuy=t.animalPrice=void 0;var s=i(0),n=i(6),a=i(9),r=i(20);t.animalPrice=function(e){for(var t=this.state.userUnicorn.countAnimal[e-1].counter,i=this.state.unicornSettings.unicornSettings[e-1].price,s=String(this.state.unicornSettings.priceCoefficient),n=1;n<t;n++)i=a.default.add(i,a.default.divide(a.default.multiply(i,s),"100"));return{price:i,countAnimal:++t}},t.getFreePosition=function(){for(var e=120,t=this.topIndent+600,i=0;i<this.state.unicornSettings.unicornSettings.length;i++){var s=this.currentTerritory(e,t);if(0!==s.data.values.type){if(0===s.data.values.merging.length)break;(e+=s.width)>=650&&(e=120,t+=240)}else(e+=240)>=650&&(e=120,t+=240);if(t>=this.topIndent+1400){var n=this.territories.children.entries.find((function(e){return 0===e.data.values.type}));if(void 0!==n){this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal");var a={type:1,sysType:2};this.state.territory=n,this.state.territory.type=n.data.values.type,this.state.territory.block=n.data.values.block,this.state.territory.position=n.data.values.position,this.state.modal=a,this.scene.launch("Modal",this.state)}else{this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal");a={type:1,sysType:3,height:150,message:this.state.lang.maxEventCount};this.state.modal=a,this.scene.launch("Modal",this.state)}return{x:null,y:null}}}return{x:e,y:t}},t.getFreeBoostPositions=function(){for(var e,t,i=120,s=this.topIndent+600,n=[],a=0;a<this.state.unicornSettings.unicornSettings.length;a++)if(0!==(null===(e=this.currentTerritory(i,s))||void 0===e?void 0:e.data.values.type))0!==(null===(t=this.currentTerritory(i,s))||void 0===t?void 0:t.data.values.merging.length)||n.push({x:i,y:s}),(i+=240)>=650&&(i=120,s+=240);else{if(s>=this.topIndent+1400)break;(i+=240)>=650&&(i=120,s+=240)}return n},t.maxBreedForBuy=function(){var e=this.state.userUnicorn.points-4;if(e<=0)e=1;else if(this.state.userUnicorn.points<=10)for(var t=void 0,i=void 0,s=e;s>=1;s--)t=this.animalPrice(s).price,i=this.animalPrice(e).price,a.default.lessThanOrEqual(t,i)&&(i=t,e=s);else if(this.state.userUnicorn.points>10)for(t=void 0,i=void 0,s=e;s>=this.state.userUnicorn.points-9;s--)t=this.animalPrice(s).price,i=this.animalPrice(e).price,a.default.lessThanOrEqual(t,i)&&(i=t,e=s);return e},t.currentTerritory=function(e,t){var i=Math.ceil((t-this.topIndent)/this.height),s=Math.ceil(e/this.height);return this.territories.children.entries.find((function(e){return e.data.values.block===i&&e.data.values.position===s}))},t.freeCollector=function(e){void 0===e&&(e=1);var t=this.state.userUnicorn,i=this.state.unicornCollectorSettings,s=this.state.unicornSettings.doubledСollectorPrice;if(this.scrolling.wheel=!0,this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal"),0===t.collector){var n=i.find((function(e){return e.level===t.collectorLevel})).time;if(1===e){var a=60*n;this.tryClanTask(7,0,n),t.collector+=a,t.collectorTakenTime=t.collector,this.game.scene.keys[this.state.farm+"Bars"].collector.update()}else{n*=2,this.tryClanTask(7,0,n);var r=Math.floor(n/60*s);if(this.state.user.diamonds>=r)this.state.user.diamonds-=r,t.collector+=60*n,t.collectorTakenTime=t.collector,this.game.scene.keys[this.state.farm+"Bars"].collector.update();else{var o=r-this.state.user.diamonds;this.state.convertor={fun:0,count:o,diamonds:o,type:2};this.state.modal={type:1,sysType:4},this.scene.launch("Modal",this.state)}}}},t.buyCollector=function(e){var t,i=this.state.userUnicorn,s=this.state.unicornSettings;if(3===e?t=4:4===e&&(t=12),this.scrolling.wheel=!0,this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal"),s["unlockCollector"+t]<=i.points)if(this.state.user.diamonds>=s["collectorPrice"+t])this.state.user.diamonds-=s["collectorPrice"+t],i.collector+=60*t*60,this.tryClanTask(7,0,60*t),i.collectorTakenTime=i.collector,this.game.scene.keys[this.state.farm+"Bars"].collector.update();else{var n=s["collectorPrice"+t]-this.state.user.diamonds;this.state.convertor={fun:0,count:n,diamonds:n,type:2};this.state.modal={type:1,sysType:4},this.scene.launch("Modal",this.state)}},t.convertDiamonds=function(e){var t,i=this.state.unicornSettings.unicornSettings,s=this.state.userUnicorn.points,n=i.find((function(e){return e.breed===s}));return t=n?n.exchange:String(1),t=a.default.multiply(t,String(e))},t.convertMoney=function(e){var t=this.state.unicornSettings.unicornSettings,i=this.state.userUnicorn.points,s=t.find((function(e){return e.breed===i})),n=s?s.exchange:String(1);return Number(a.default.divide(e,n))},t.improveCollector=function(){var e=this.state.userUnicorn,t=this.state.unicornCollectorSettings,i=t.find((function(t){return t.level===e.collectorLevel+1})),s=t.find((function(t){return t.level===e.collectorLevel+2}));if(!i){this.scene.stop("Modal"),this.scene.stop("Shop"),this.scene.stop("ShopBars");var n={type:1,sysType:3,message:this.state.lang.maxLevelCollector,height:150};this.state.modal=n,this.scene.launch("Modal",this.state)}if(null==i?void 0:i.diamonds)if(this.state.user.diamonds>=i.price)this.state.user.diamonds-=i.price,e.collectorLevel++,this.setCollector(),this.game.scene.keys.Modal.improveCollectorAnim({x:this.cameras.main.centerX,y:this.cameras.main.centerY+10});else{this.state.convertor={fun:8,count:i.price-this.state.user.diamonds,diamonds:i.price-this.state.user.diamonds,type:2};n={type:1,sysType:4};this.state.modal=n,this.scene.launch("Modal",this.state)}else if(a.default.greaterThanOrEqual(e.money,String(i.price)))e.money=a.default.subtract(e.money,String(i.price)),e.collectorLevel++,this.setCollector(),this.game.scene.keys.Modal.improveCollectorAnim({x:this.cameras.main.centerX,y:this.cameras.main.centerY+10});else{var r=a.default.subtract(String(i.price),e.money),o=this.convertMoney(r);this.state.convertor={fun:8,count:r,diamonds:o,type:1};n={type:1,sysType:4};this.state.modal=n,this.scene.launch("Modal",this.state)}if(!s){this.scene.stop("Modal"),this.scene.stop("Shop"),this.scene.stop("ShopBars");n={type:1,sysType:3,message:this.state.lang.maxLevelCollector,height:150};this.state.modal=n,this.scene.launch("Modal",this.state)}},t.exchange=function(e){var t=this;void 0===e&&(e=!1);var i=this.state.userUnicorn;if(this.state.convertor.diamonds>this.state.user.diamonds){var s=this.state.convertor.diamonds-this.state.user.diamonds;this.time.addEvent({delay:100,callback:function(){t.state.convertor.type=2,t.state.convertor.count=s;t.state.modal={type:1,sysType:4},t.scene.launch("Modal",t.state)},callbackScope:this,loop:!1})}else this.state.user.diamonds-=this.state.convertor.diamonds,i.money=a.default.add(i.money,this.convertDiamonds(this.state.convertor.diamonds)),r.default.create(this.game.scene.keys[this.state.farm+"Bars"]),e||this.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"convertor",count:this.state.convertor.diamonds}),1===this.state.convertor.fun?t.buyAnimal(t.state.convertor.breed):2===this.state.convertor.fun||3===this.state.convertor.fun||4===this.state.convertor.fun||5===this.state.convertor.fun||(6===this.state.convertor.fun?this.buyTerritory():8===this.state.convertor.fun&&this.improveCollector())},t.createBoostAnimal=function(e){var t=this;0!==this.state.userUnicorn.herdBoostAnimals.length?e.forEach((function(e){if(t.state.userUnicorn.herdBoostAnimals.length>0){var i=t.state.userUnicorn.herdBoostAnimals.pop(),a="local_"+s.randomString(18);t.getAnimal(a,i,e.x,e.y),n.default.create(t,e,1)}})):this.startCreateHerdBoostAnimal=!1},t.tryTask=function(){console.log("TryTask")},t.updateRaitingsBar=function(){if(this.state.unicornRaitings){this.state.unicornRaitings.updated=!1;var e=this.state.unicornRaitings.user.score<0?0:this.state.unicornRaitings.user.score;this.score.setText(e+" "+this.scoreEnding(e,this.state.lang)),this.place.setText(this.state.unicornRaitings.user.place+" "+this.state.lang.eventPlace)}},t.scoreEnding=function(e,t){if("ru"===t.index){return["Очко","Очка","Очков"][e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}return"en"===t.index&&1===e?"point":"en"===t.index?"points":void 0}},function(e,t,i){"use strict";(function(t){var s=i(7),n=i(133),a=i(79),r={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,h={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(c=i(80)),c),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e)?e:s.isArrayBufferView(e)?e.buffer:s.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):s.isObject(e)||t&&"application/json"===t["Content-Type"]?(o(t,"application/json"),function(e,t,i){if(s.isString(e))try{return(t||JSON.parse)(e),s.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,i=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,r=!i&&"json"===this.responseType;if(r||n&&s.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};h.headers={common:{Accept:"application/json, text/plain, */*"}},s.forEach(["delete","get","head"],(function(e){h.headers[e]={}})),s.forEach(["post","put","patch"],(function(e){h.headers[e]=s.merge(r)})),e.exports=h}).call(this,i(31))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boostButton=t.shopButton=t.repositoryBtn=t.bigButton=void 0;var s=i(1);t.bigButton=function(e,t,i,s,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1);var r,o="#FFFFFF",c=.5,h=this.cameras.main.centerX;"grey"===e?(o="#3D3D3D",r="big-btn-grey"):"green"===e?r="big-btn-green":"blue"===e?r="big-btn-blue":"orange"===e?r="big-btn-orange":"red"===e?r="big-btn-red":"yellow"===e&&(r="big-btn-yellow"),"left"===t&&(c=0,h=145);var l,d,u,p,f=this.add.sprite(this.cameras.main.centerX,this.cameras.main.centerY+i,r),m=this.add.text(h,this.cameras.main.centerY-5+i,s,{font:"22px Shadow",color:o,shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}}).setDepth(1).setOrigin(c,.5);return"grey"===e&&m.setShadow(),n&&(l=this.add.text(575,this.cameras.main.centerY-5+i,n.text,{font:"24px Shadow",color:o,shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}}).setDepth(1).setOrigin(1,.5),"grey"===e&&l.setShadow(),u=this.add.sprite(570-l.displayWidth,this.cameras.main.centerY-5+i,n.icon).setOrigin(1,.5).setScale(.9),"ad-icon"!==n.icon&&u.setScale(.15),n.icon.includes("clan")&&u.setScale(.6),a&&(d=this.add.text(525-l.displayWidth,this.cameras.main.centerY-5+i,a.text,{font:"24px Shadow",color:o,shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}}).setDepth(1).setOrigin(1,.5),"grey"===e&&d.setShadow(),p=this.add.sprite(520-l.displayWidth-d.displayWidth,this.cameras.main.centerY-5+i,a.icon).setOrigin(1,.5).setScale(.15))),{btn:f,title:m,text1:l,text2:d,img1:u,img2:p}},t.repositoryBtn=function(e,t,i){var s;return{btn:this.add.sprite(this.cameras.main.centerX,this.cameras.main.centerY+e,"repository-sell-btn"),title:this.add.text(150,this.cameras.main.centerY-10+e,t,{font:"26px Shadow",fill:"#FFFFFF"}).setDepth(1).setStroke("#b16513",4).setOrigin(0,.5),text1:s=this.add.text(565,this.cameras.main.centerY-10+e,i.text,{font:"28px Shadow",fill:"#FFFFFF"}).setDepth(1).setStroke("#b16513",4).setOrigin(1,.5),img1:this.add.sprite(555-s.displayWidth,this.cameras.main.centerY-10+e,i.icon).setOrigin(1,.5).setScale(.15)}},t.shopButton=function(e,t,i,n){void 0===n&&(n=!1);var a=!1,r=this.add.image(e,t,"shop-btn"),o=e;n&&(o+=20);var c=s.default.checkAndroidEngPlatform(this.state)?"Bip":"Shadow",h=this.add.text(o,t-5,i,{fontSize:"28px ",fontFamily:c,color:"#FFFFFF"}).setOrigin(.5,.5);return"sheepCoin"!==n&&"chickenCoin"!==n&&"diamond"!==n&&"unicornCoin"!==n&&"cowCoin"!==n||(a=this.add.image(h.getBounds().left-25,t-5,n).setScale(.15)),"ad-icon"===n&&(a=this.add.image(h.getBounds().left-25,t-5,n).setScale(.5)),{btn:r,title:h,img:a}},t.boostButton=function(e,t,i,s,n,a){void 0===a&&(a="diamond");var r="boost-btn",o="#0A7A26",c="#FFFFFF",h="diamond";"lock"===a?(r="boost-btn-disable",o="#3D3D3D",c="#3D3D3D",h="lock"):"lock-ad"===a?(r="boost-btn-disable",h="ad-icon",o="#3D3D3D",c="#3D3D3D"):"ad"===a?(r="boost-btn-ad",h="ad-icon",o="#FFFFFF"):"lock-ad-diamond"===a?(r="boost-btn-disable",o="#3D3D3D",c="#3D3D3D"):"ad-diamond"===a?(r="boost-btn-ad",o="#FFFFFF"):"free-lock"===a&&(r="boost-btn-disable",o="#3D3D3D",c="#3D3D3D");var l=this.add.sprite(e,t,r),d=this.add.text(e-88,t-4,i,{font:"30px Shadow",color:o}).setOrigin(0,.5),u=d.getBounds().right+2,p=this.add.text(u,t-1,s+".",{font:"20px Shadow",color:o}).setOrigin(0,.5),f=this.add.text(e+88,t-4,n,{font:"30px Shadow",color:c}).setOrigin(1,.5),m=f.getBounds().left-25,g=this.add.sprite(m,t-4,h);return"lock-ad"!==a&&"ad"!==a?g.setScale(.13):g.setScale(.7),"free"!==a&&"free-lock"!==a||g.setVisible(!1),{btn:l,left:d,leftLitle:p,right:f,icon:g}}},function(e,t,i){var s=i(1701)("socket.io-parser"),n=i(25),a=i(1704),r=i(60),o=i(100);function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=d;var h=t.ERROR+'"encode error"';function l(e){var i=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(i+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(i+=e.nsp+","),null!=e.id&&(i+=e.id),null!=e.data){var n=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===n)return h;i+=n}return s("encoded %j as %s",e,i),i}function d(){this.reconstructor=null}function u(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,i){(s("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){a.removeBlobs(e,(function(e){var i=a.deconstructPacket(e),s=l(i.packet),n=i.buffers;n.unshift(s),t(n)}))}(e,i):i([l(e)])},n(d.prototype),d.prototype.add=function(e){var i;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=function(e){var i=0,n={type:Number(e.charAt(0))};if(null==t.types[n.type])return p("unknown packet type "+n.type);if(t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type){for(var a=i+1;"-"!==e.charAt(++i)&&i!=e.length;);var o=e.substring(a,i);if(o!=Number(o)||"-"!==e.charAt(i))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(i+1)){for(a=i+1;++i;){if(","===(h=e.charAt(i)))break;if(i===e.length)break}n.nsp=e.substring(a,i)}else n.nsp="/";var c=e.charAt(i+1);if(""!==c&&Number(c)==c){for(a=i+1;++i;){var h;if(null==(h=e.charAt(i))||Number(h)!=h){--i;break}if(i===e.length)break}n.id=Number(e.substring(a,i+1))}if(e.charAt(++i)){var l=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(i));if(!(!1!==l&&(n.type===t.ERROR||r(l))))return p("invalid payload");n.data=l}return s("decoded %s as %j",e,n),n}(e),t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type?(this.reconstructor=new u(i),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",i)):this.emit("decoded",i)}else{if(!o(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(i=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",i))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t,i){var s=i(1707),n=i(62);e.exports=function(e){var t=e.xdomain,i=e.xscheme,a=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||s))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!i&&a)return new XDomainRequest}catch(e){}if(!t)try{return new(n[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t){e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(e,t,i){var s=i(26),n=i(25);function a(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=a,n(a.prototype),a.prototype.onError=function(e,t){var i=new Error(e);return i.type="TransportError",i.description=t,this.emit("error",i),this},a.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},a.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},a.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},a.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a.prototype.onData=function(e){var t=s.decodePacket(e,this.socket.binaryType);this.onPacket(t)},a.prototype.onPacket=function(e){this.emit("packet",e)},a.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{level:1,chapter:1,time:3,speed:.8,price:0,diamonds:!1},{level:2,chapter:1,time:4,speed:.8,price:200,diamonds:!1},{level:3,chapter:1,time:5,speed:.8,price:400,diamonds:!1},{level:4,chapter:1,time:6,speed:.8,price:600,diamonds:!1},{level:5,chapter:1,time:6,speed:.9,price:1,diamonds:!0},{level:6,chapter:1,time:7,speed:.9,price:800,diamonds:!1},{level:7,chapter:1,time:8,speed:.9,price:1e3,diamonds:!1},{level:8,chapter:1,time:9,speed:.9,price:1200,diamonds:!1},{level:9,chapter:1,time:10,speed:.9,price:1400,diamonds:!1},{level:10,chapter:1,time:10,speed:1,price:5,diamonds:!0},{level:11,chapter:2,time:11,speed:1,price:2e3,diamonds:!1},{level:12,chapter:2,time:12,speed:1,price:2500,diamonds:!1},{level:13,chapter:2,time:13,speed:1,price:3200,diamonds:!1},{level:14,chapter:2,time:14,speed:1,price:3800,diamonds:!1},{level:15,chapter:2,time:14,speed:1.1,price:15,diamonds:!0},{level:16,chapter:2,time:15,speed:1.1,price:5e3,diamonds:!1},{level:17,chapter:2,time:16,speed:1.1,price:6e3,diamonds:!1},{level:18,chapter:2,time:17,speed:1.1,price:7e3,diamonds:!1},{level:19,chapter:2,time:18,speed:1.1,price:8e3,diamonds:!1},{level:20,chapter:2,time:18,speed:1.2,price:25,diamonds:!0},{level:21,chapter:3,time:19,speed:1.2,price:2e4,diamonds:!1},{level:22,chapter:3,time:20,speed:1.2,price:24e3,diamonds:!1},{level:23,chapter:3,time:21,speed:1.2,price:3e4,diamonds:!1},{level:24,chapter:3,time:22,speed:1.2,price:38e3,diamonds:!1},{level:25,chapter:3,time:22,speed:1.3,price:35,diamonds:!0},{level:26,chapter:4,time:23,speed:1.3,price:5e4,diamonds:!1},{level:27,chapter:4,time:24,speed:1.3,price:6e4,diamonds:!1},{level:28,chapter:4,time:25,speed:1.3,price:7e4,diamonds:!1},{level:29,chapter:4,time:26,speed:1.3,price:8e4,diamonds:!1},{level:30,chapter:4,time:26,speed:1.4,price:45,diamonds:!0},{level:31,chapter:4,time:27,speed:1.4,price:1e5,diamonds:!1},{level:32,chapter:4,time:28,speed:1.4,price:11e4,diamonds:!1},{level:33,chapter:4,time:29,speed:1.4,price:12e4,diamonds:!1},{level:34,chapter:4,time:30,speed:1.4,price:13e4,diamonds:!1},{level:35,chapter:4,time:30,speed:1.5,price:140,diamonds:!0},{level:36,chapter:5,time:31,speed:1.5,price:16e4,diamonds:!1},{level:37,chapter:5,time:32,speed:1.5,price:18e4,diamonds:!1},{level:38,chapter:5,time:33,speed:1.5,price:2e5,diamonds:!1},{level:39,chapter:5,time:34,speed:1.5,price:22e4,diamonds:!1},{level:40,chapter:5,time:34,speed:1.6,price:200,diamonds:!0},{level:41,chapter:5,time:35,speed:1.6,price:24e4,diamonds:!1},{level:42,chapter:5,time:36,speed:1.6,price:26e4,diamonds:!1},{level:43,chapter:5,time:37,speed:1.6,price:28e4,diamonds:!1},{level:44,chapter:5,time:38,speed:1.6,price:3e5,diamonds:!1},{level:45,chapter:5,time:38,speed:1.7,price:350,diamonds:!0},{level:46,chapter:6,time:39,speed:1.7,price:36e4,diamonds:!1},{level:47,chapter:6,time:40,speed:1.7,price:39e4,diamonds:!1},{level:48,chapter:6,time:41,speed:1.7,price:42e4,diamonds:!1},{level:49,chapter:6,time:42,speed:1.7,price:45e4,diamonds:!1},{level:50,chapter:6,time:42,speed:1.8,price:500,diamonds:!0},{level:51,chapter:6,time:43,speed:1.8,price:48e4,diamonds:!1},{level:52,chapter:6,time:44,speed:1.8,price:51e4,diamonds:!1},{level:53,chapter:6,time:45,speed:1.8,price:54e4,diamonds:!1},{level:54,chapter:6,time:46,speed:1.8,price:57e4,diamonds:!1},{level:55,chapter:6,time:46,speed:1.9,price:700,diamonds:!0},{level:56,chapter:7,time:47,speed:1.9,price:6e5,diamonds:!1},{level:57,chapter:7,time:48,speed:1.9,price:64e4,diamonds:!1},{level:58,chapter:7,time:49,speed:1.9,price:68e4,diamonds:!1},{level:59,chapter:7,time:50,speed:1.9,price:72e4,diamonds:!1},{level:60,chapter:7,time:50,speed:2,price:950,diamonds:!0},{level:61,chapter:7,time:51,speed:2,price:76e4,diamonds:!1},{level:62,chapter:7,time:52,speed:2,price:8e5,diamonds:!1},{level:63,chapter:7,time:53,speed:2,price:84e4,diamonds:!1},{level:64,chapter:7,time:54,speed:2,price:88e4,diamonds:!1},{level:65,chapter:8,time:54,speed:2.1,price:1300,diamonds:!0},{level:66,chapter:8,time:55,speed:2.1,price:1e6,diamonds:!1},{level:67,chapter:8,time:56,speed:2.1,price:106e4,diamonds:!1},{level:68,chapter:8,time:57,speed:2.1,price:112e4,diamonds:!1},{level:69,chapter:8,time:58,speed:2.1,price:118e4,diamonds:!1},{level:70,chapter:9,time:58,speed:2.2,price:1700,diamonds:!0},{level:71,chapter:9,time:59,speed:2.2,price:124e4,diamonds:!1},{level:72,chapter:9,time:60,speed:2.2,price:13e5,diamonds:!1},{level:73,chapter:9,time:61,speed:2.2,price:136e4,diamonds:!1},{level:74,chapter:9,time:62,speed:2.2,price:142e4,diamonds:!1},{level:75,chapter:10,time:62,speed:2.3,price:2150,diamonds:!0},{level:76,chapter:10,time:63,speed:2.3,price:15e5,diamonds:!1},{level:77,chapter:10,time:64,speed:2.3,price:16e5,diamonds:!1},{level:78,chapter:10,time:65,speed:2.3,price:17e5,diamonds:!1},{level:79,chapter:10,time:66,speed:2.3,price:18e5,diamonds:!1},{level:80,chapter:11,time:66,speed:2.4,price:2650,diamonds:!1},{level:81,chapter:11,time:67,speed:2.4,price:19e5,diamonds:!1},{level:82,chapter:11,time:68,speed:2.4,price:2e6,diamonds:!1},{level:83,chapter:11,time:69,speed:2.4,price:21e5,diamonds:!1},{level:84,chapter:11,time:70,speed:2.4,price:22e5,diamonds:!1},{level:85,chapter:12,time:70,speed:2.5,price:3200,diamonds:!0},{level:86,chapter:12,time:71,speed:2.5,price:23e5,diamonds:!1},{level:87,chapter:12,time:72,speed:2.5,price:24e5,diamonds:!1},{level:88,chapter:12,time:73,speed:2.5,price:25e5,diamonds:!1},{level:89,chapter:12,time:74,speed:2.5,price:26e5,diamonds:!1},{level:90,chapter:13,time:74,speed:2.6,price:3800,diamonds:!0},{level:91,chapter:13,time:75,speed:2.6,price:27e5,diamonds:!1},{level:92,chapter:13,time:76,speed:2.6,price:28e5,diamonds:!1},{level:93,chapter:13,time:77,speed:2.6,price:29e5,diamonds:!1},{level:94,chapter:13,time:78,speed:2.6,price:3e6,diamonds:!1},{level:95,chapter:14,time:78,speed:2.7,price:4400,diamonds:!0},{level:96,chapter:14,time:79,speed:2.7,price:31e5,diamonds:!1},{level:97,chapter:14,time:80,speed:2.7,price:32e5,diamonds:!1},{level:98,chapter:14,time:81,speed:2.7,price:33e5,diamonds:!1},{level:99,chapter:14,time:82,speed:2.7,price:34e5,diamonds:!1},{level:100,chapter:15,time:82,speed:2.8,price:5e3,diamonds:!0}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{level:1,chapter:1,time:3,speed:.8,price:0,diamonds:!1},{level:2,chapter:1,time:4,speed:.8,price:200,diamonds:!1},{level:3,chapter:1,time:5,speed:.8,price:400,diamonds:!1},{level:4,chapter:1,time:6,speed:.8,price:600,diamonds:!1},{level:5,chapter:1,time:6,speed:.9,price:5,diamonds:!0},{level:6,chapter:1,time:7,speed:.9,price:800,diamonds:!1},{level:7,chapter:1,time:8,speed:.9,price:1e3,diamonds:!1},{level:8,chapter:1,time:9,speed:.9,price:1200,diamonds:!1},{level:9,chapter:1,time:10,speed:.9,price:1400,diamonds:!1},{level:10,chapter:1,time:10,speed:1,price:15,diamonds:!0},{level:11,chapter:2,time:11,speed:1,price:2e3,diamonds:!1},{level:12,chapter:2,time:12,speed:1,price:2500,diamonds:!1},{level:13,chapter:2,time:13,speed:1,price:3200,diamonds:!1},{level:14,chapter:2,time:14,speed:1,price:3800,diamonds:!1},{level:15,chapter:2,time:14,speed:1.1,price:25,diamonds:!0},{level:16,chapter:2,time:15,speed:1.1,price:5e3,diamonds:!1},{level:17,chapter:2,time:16,speed:1.1,price:6e3,diamonds:!1},{level:18,chapter:2,time:17,speed:1.1,price:7e3,diamonds:!1},{level:19,chapter:2,time:18,speed:1.1,price:8e3,diamonds:!1},{level:20,chapter:2,time:18,speed:1.2,price:40,diamonds:!0},{level:21,chapter:3,time:19,speed:1.2,price:2e4,diamonds:!1},{level:22,chapter:3,time:20,speed:1.2,price:24e3,diamonds:!1},{level:23,chapter:3,time:21,speed:1.2,price:3e4,diamonds:!1},{level:24,chapter:3,time:22,speed:1.2,price:38e3,diamonds:!1},{level:25,chapter:3,time:22,speed:1.3,price:60,diamonds:!0},{level:26,chapter:4,time:23,speed:1.3,price:5e4,diamonds:!1},{level:27,chapter:4,time:24,speed:1.3,price:6e4,diamonds:!1},{level:28,chapter:4,time:25,speed:1.3,price:7e4,diamonds:!1},{level:29,chapter:4,time:26,speed:1.3,price:8e4,diamonds:!1},{level:30,chapter:4,time:26,speed:1.4,price:90,diamonds:!0},{level:31,chapter:4,time:27,speed:1.4,price:1e5,diamonds:!1},{level:32,chapter:4,time:28,speed:1.4,price:11e4,diamonds:!1},{level:33,chapter:4,time:29,speed:1.4,price:12e4,diamonds:!1},{level:34,chapter:4,time:30,speed:1.4,price:13e4,diamonds:!1},{level:35,chapter:4,time:30,speed:1.5,price:140,diamonds:!0},{level:36,chapter:5,time:31,speed:1.5,price:16e4,diamonds:!1},{level:37,chapter:5,time:32,speed:1.5,price:18e4,diamonds:!1},{level:38,chapter:5,time:33,speed:1.5,price:2e5,diamonds:!1},{level:39,chapter:5,time:34,speed:1.5,price:22e4,diamonds:!1},{level:40,chapter:5,time:34,speed:1.6,price:200,diamonds:!0},{level:41,chapter:5,time:35,speed:1.6,price:24e4,diamonds:!1},{level:42,chapter:5,time:36,speed:1.6,price:26e4,diamonds:!1},{level:43,chapter:5,time:37,speed:1.6,price:28e4,diamonds:!1},{level:44,chapter:5,time:38,speed:1.6,price:3e5,diamonds:!1},{level:45,chapter:5,time:38,speed:1.7,price:350,diamonds:!0},{level:46,chapter:6,time:39,speed:1.7,price:36e4,diamonds:!1},{level:47,chapter:6,time:40,speed:1.7,price:39e4,diamonds:!1},{level:48,chapter:6,time:41,speed:1.7,price:42e4,diamonds:!1},{level:49,chapter:6,time:42,speed:1.7,price:45e4,diamonds:!1},{level:50,chapter:6,time:42,speed:1.8,price:500,diamonds:!0},{level:51,chapter:6,time:43,speed:1.8,price:48e4,diamonds:!1},{level:52,chapter:6,time:44,speed:1.8,price:51e4,diamonds:!1},{level:53,chapter:6,time:45,speed:1.8,price:54e4,diamonds:!1},{level:54,chapter:6,time:46,speed:1.8,price:57e4,diamonds:!1},{level:55,chapter:6,time:46,speed:1.9,price:700,diamonds:!0},{level:56,chapter:7,time:47,speed:1.9,price:6e5,diamonds:!1},{level:57,chapter:7,time:48,speed:1.9,price:64e4,diamonds:!1},{level:58,chapter:7,time:49,speed:1.9,price:68e4,diamonds:!1},{level:59,chapter:7,time:50,speed:1.9,price:72e4,diamonds:!1},{level:60,chapter:7,time:50,speed:2,price:950,diamonds:!0},{level:61,chapter:7,time:51,speed:2,price:76e4,diamonds:!1},{level:62,chapter:7,time:52,speed:2,price:8e5,diamonds:!1},{level:63,chapter:7,time:53,speed:2,price:84e4,diamonds:!1},{level:64,chapter:7,time:54,speed:2,price:88e4,diamonds:!1},{level:65,chapter:8,time:54,speed:2.1,price:1300,diamonds:!0},{level:66,chapter:8,time:55,speed:2.1,price:1e6,diamonds:!1},{level:67,chapter:8,time:56,speed:2.1,price:106e4,diamonds:!1},{level:68,chapter:8,time:57,speed:2.1,price:112e4,diamonds:!1},{level:69,chapter:8,time:58,speed:2.1,price:118e4,diamonds:!1},{level:70,chapter:9,time:58,speed:2.2,price:1700,diamonds:!0},{level:71,chapter:9,time:59,speed:2.2,price:124e4,diamonds:!1},{level:72,chapter:9,time:60,speed:2.2,price:13e5,diamonds:!1},{level:73,chapter:9,time:61,speed:2.2,price:136e4,diamonds:!1},{level:74,chapter:9,time:62,speed:2.2,price:142e4,diamonds:!1},{level:75,chapter:10,time:62,speed:2.3,price:2150,diamonds:!0},{level:76,chapter:10,time:63,speed:2.3,price:15e5,diamonds:!1},{level:77,chapter:10,time:64,speed:2.3,price:16e5,diamonds:!1},{level:78,chapter:10,time:65,speed:2.3,price:17e5,diamonds:!1},{level:79,chapter:10,time:66,speed:2.3,price:18e5,diamonds:!1},{level:80,chapter:11,time:66,speed:2.4,price:2650,diamonds:!1},{level:81,chapter:11,time:67,speed:2.4,price:19e5,diamonds:!1},{level:82,chapter:11,time:68,speed:2.4,price:2e6,diamonds:!1},{level:83,chapter:11,time:69,speed:2.4,price:21e5,diamonds:!1},{level:84,chapter:11,time:70,speed:2.4,price:22e5,diamonds:!1},{level:85,chapter:12,time:70,speed:2.5,price:3200,diamonds:!0},{level:86,chapter:12,time:71,speed:2.5,price:23e5,diamonds:!1},{level:87,chapter:12,time:72,speed:2.5,price:24e5,diamonds:!1},{level:88,chapter:12,time:73,speed:2.5,price:25e5,diamonds:!1},{level:89,chapter:12,time:74,speed:2.5,price:26e5,diamonds:!1},{level:90,chapter:13,time:74,speed:2.6,price:3800,diamonds:!0},{level:91,chapter:13,time:75,speed:2.6,price:27e5,diamonds:!1},{level:92,chapter:13,time:76,speed:2.6,price:28e5,diamonds:!1},{level:93,chapter:13,time:77,speed:2.6,price:29e5,diamonds:!1},{level:94,chapter:13,time:78,speed:2.6,price:3e6,diamonds:!1},{level:95,chapter:14,time:78,speed:2.7,price:4400,diamonds:!0},{level:96,chapter:14,time:79,speed:2.7,price:31e5,diamonds:!1},{level:97,chapter:14,time:80,speed:2.7,price:32e5,diamonds:!1},{level:98,chapter:14,time:81,speed:2.7,price:33e5,diamonds:!1},{level:99,chapter:14,time:82,speed:2.7,price:34e5,diamonds:!1},{level:100,chapter:15,time:82,speed:2.8,price:5e3,diamonds:!0}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{level:1,chapter:1,time:3,speed:.8,price:0,diamonds:!1},{level:2,chapter:1,time:4,speed:.8,price:200,diamonds:!1},{level:3,chapter:1,time:5,speed:.8,price:400,diamonds:!1},{level:4,chapter:1,time:6,speed:.8,price:600,diamonds:!1},{level:5,chapter:1,time:6,speed:.9,price:5,diamonds:!0},{level:6,chapter:1,time:7,speed:.9,price:800,diamonds:!1},{level:7,chapter:1,time:8,speed:.9,price:1e3,diamonds:!1},{level:8,chapter:1,time:9,speed:.9,price:1200,diamonds:!1},{level:9,chapter:1,time:10,speed:.9,price:1400,diamonds:!1},{level:10,chapter:1,time:10,speed:1,price:15,diamonds:!0},{level:11,chapter:2,time:11,speed:1,price:2e3,diamonds:!1},{level:12,chapter:2,time:12,speed:1,price:2500,diamonds:!1},{level:13,chapter:2,time:13,speed:1,price:3200,diamonds:!1},{level:14,chapter:2,time:14,speed:1,price:3800,diamonds:!1},{level:15,chapter:2,time:14,speed:1.1,price:25,diamonds:!0},{level:16,chapter:2,time:15,speed:1.1,price:5e3,diamonds:!1},{level:17,chapter:2,time:16,speed:1.1,price:6e3,diamonds:!1},{level:18,chapter:2,time:17,speed:1.1,price:7e3,diamonds:!1},{level:19,chapter:2,time:18,speed:1.1,price:8e3,diamonds:!1},{level:20,chapter:2,time:18,speed:1.2,price:40,diamonds:!0},{level:21,chapter:3,time:19,speed:1.2,price:2e4,diamonds:!1},{level:22,chapter:3,time:20,speed:1.2,price:24e3,diamonds:!1},{level:23,chapter:3,time:21,speed:1.2,price:3e4,diamonds:!1},{level:24,chapter:3,time:22,speed:1.2,price:38e3,diamonds:!1},{level:25,chapter:3,time:22,speed:1.3,price:60,diamonds:!0},{level:26,chapter:4,time:23,speed:1.3,price:5e4,diamonds:!1},{level:27,chapter:4,time:24,speed:1.3,price:6e4,diamonds:!1},{level:28,chapter:4,time:25,speed:1.3,price:7e4,diamonds:!1},{level:29,chapter:4,time:26,speed:1.3,price:8e4,diamonds:!1},{level:30,chapter:4,time:26,speed:1.4,price:90,diamonds:!0},{level:31,chapter:4,time:27,speed:1.4,price:1e5,diamonds:!1},{level:32,chapter:4,time:28,speed:1.4,price:11e4,diamonds:!1},{level:33,chapter:4,time:29,speed:1.4,price:12e4,diamonds:!1},{level:34,chapter:4,time:30,speed:1.4,price:13e4,diamonds:!1},{level:35,chapter:4,time:30,speed:1.5,price:140,diamonds:!0},{level:36,chapter:5,time:31,speed:1.5,price:16e4,diamonds:!1},{level:37,chapter:5,time:32,speed:1.5,price:18e4,diamonds:!1},{level:38,chapter:5,time:33,speed:1.5,price:2e5,diamonds:!1},{level:39,chapter:5,time:34,speed:1.5,price:22e4,diamonds:!1},{level:40,chapter:5,time:34,speed:1.6,price:200,diamonds:!0},{level:41,chapter:5,time:35,speed:1.6,price:24e4,diamonds:!1},{level:42,chapter:5,time:36,speed:1.6,price:26e4,diamonds:!1},{level:43,chapter:5,time:37,speed:1.6,price:28e4,diamonds:!1},{level:44,chapter:5,time:38,speed:1.6,price:3e5,diamonds:!1},{level:45,chapter:5,time:38,speed:1.7,price:350,diamonds:!0},{level:46,chapter:6,time:39,speed:1.7,price:36e4,diamonds:!1},{level:47,chapter:6,time:40,speed:1.7,price:39e4,diamonds:!1},{level:48,chapter:6,time:41,speed:1.7,price:42e4,diamonds:!1},{level:49,chapter:6,time:42,speed:1.7,price:45e4,diamonds:!1},{level:50,chapter:6,time:42,speed:1.8,price:500,diamonds:!0},{level:51,chapter:6,time:43,speed:1.8,price:48e4,diamonds:!1},{level:52,chapter:6,time:44,speed:1.8,price:51e4,diamonds:!1},{level:53,chapter:6,time:45,speed:1.8,price:54e4,diamonds:!1},{level:54,chapter:6,time:46,speed:1.8,price:57e4,diamonds:!1},{level:55,chapter:6,time:46,speed:1.9,price:700,diamonds:!0},{level:56,chapter:7,time:47,speed:1.9,price:6e5,diamonds:!1},{level:57,chapter:7,time:48,speed:1.9,price:64e4,diamonds:!1},{level:58,chapter:7,time:49,speed:1.9,price:68e4,diamonds:!1},{level:59,chapter:7,time:50,speed:1.9,price:72e4,diamonds:!1},{level:60,chapter:7,time:50,speed:2,price:950,diamonds:!0},{level:61,chapter:7,time:51,speed:2,price:76e4,diamonds:!1},{level:62,chapter:7,time:52,speed:2,price:8e5,diamonds:!1},{level:63,chapter:7,time:53,speed:2,price:84e4,diamonds:!1},{level:64,chapter:7,time:54,speed:2,price:88e4,diamonds:!1},{level:65,chapter:8,time:54,speed:2.1,price:1300,diamonds:!0},{level:66,chapter:8,time:55,speed:2.1,price:1e6,diamonds:!1},{level:67,chapter:8,time:56,speed:2.1,price:106e4,diamonds:!1},{level:68,chapter:8,time:57,speed:2.1,price:112e4,diamonds:!1},{level:69,chapter:8,time:58,speed:2.1,price:118e4,diamonds:!1},{level:70,chapter:9,time:58,speed:2.2,price:1700,diamonds:!0},{level:71,chapter:9,time:59,speed:2.2,price:124e4,diamonds:!1},{level:72,chapter:9,time:60,speed:2.2,price:13e5,diamonds:!1},{level:73,chapter:9,time:61,speed:2.2,price:136e4,diamonds:!1},{level:74,chapter:9,time:62,speed:2.2,price:142e4,diamonds:!1},{level:75,chapter:10,time:62,speed:2.3,price:2150,diamonds:!0},{level:76,chapter:10,time:63,speed:2.3,price:15e5,diamonds:!1},{level:77,chapter:10,time:64,speed:2.3,price:16e5,diamonds:!1},{level:78,chapter:10,time:65,speed:2.3,price:17e5,diamonds:!1},{level:79,chapter:10,time:66,speed:2.3,price:18e5,diamonds:!1},{level:80,chapter:11,time:66,speed:2.4,price:2650,diamonds:!1},{level:81,chapter:11,time:67,speed:2.4,price:19e5,diamonds:!1},{level:82,chapter:11,time:68,speed:2.4,price:2e6,diamonds:!1},{level:83,chapter:11,time:69,speed:2.4,price:21e5,diamonds:!1},{level:84,chapter:11,time:70,speed:2.4,price:22e5,diamonds:!1},{level:85,chapter:12,time:70,speed:2.5,price:3200,diamonds:!0},{level:86,chapter:12,time:71,speed:2.5,price:23e5,diamonds:!1},{level:87,chapter:12,time:72,speed:2.5,price:24e5,diamonds:!1},{level:88,chapter:12,time:73,speed:2.5,price:25e5,diamonds:!1},{level:89,chapter:12,time:74,speed:2.5,price:26e5,diamonds:!1},{level:90,chapter:13,time:74,speed:2.6,price:3800,diamonds:!0},{level:91,chapter:13,time:75,speed:2.6,price:27e5,diamonds:!1},{level:92,chapter:13,time:76,speed:2.6,price:28e5,diamonds:!1},{level:93,chapter:13,time:77,speed:2.6,price:29e5,diamonds:!1},{level:94,chapter:13,time:78,speed:2.6,price:3e6,diamonds:!1},{level:95,chapter:14,time:78,speed:2.7,price:4400,diamonds:!0},{level:96,chapter:14,time:79,speed:2.7,price:31e5,diamonds:!1},{level:97,chapter:14,time:80,speed:2.7,price:32e5,diamonds:!1},{level:98,chapter:14,time:81,speed:2.7,price:33e5,diamonds:!1},{level:99,chapter:14,time:82,speed:2.7,price:34e5,diamonds:!1},{level:100,chapter:15,time:82,speed:2.8,price:5e3,diamonds:!0}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{_id:"local_11",block:1,position:1,type:7,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_12",block:1,position:2,type:6,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_13",block:1,position:3,type:4,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_21",block:2,position:1,type:1,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_22",block:2,position:2,type:1,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_23",block:2,position:3,type:1,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_31",block:3,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_32",block:3,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_33",block:3,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_41",block:4,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_42",block:4,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_43",block:4,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_51",block:5,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_52",block:5,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_53",block:5,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_61",block:6,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_62",block:6,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_63",block:6,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_71",block:7,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_72",block:7,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_73",block:7,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_81",block:8,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_82",block:8,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_83",block:8,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{_id:"local_11",block:1,position:1,type:7,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_12",block:1,position:2,type:6,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_13",block:1,position:3,type:4,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_21",block:2,position:1,type:1,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_22",block:2,position:2,type:3,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_23",block:2,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_31",block:3,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_32",block:3,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_33",block:3,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_41",block:4,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_42",block:4,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_43",block:4,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_51",block:5,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_52",block:5,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_53",block:5,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_61",block:6,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_62",block:6,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_63",block:6,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_71",block:7,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_72",block:7,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_73",block:7,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_81",block:8,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_82",block:8,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_83",block:8,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{_id:"local_11",block:1,position:1,type:7,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_12",block:1,position:2,type:6,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_13",block:1,position:3,type:4,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_21",block:2,position:1,type:1,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_22",block:2,position:2,type:3,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_23",block:2,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_31",block:3,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_32",block:3,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_33",block:3,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_41",block:4,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_42",block:4,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_43",block:4,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_51",block:5,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_52",block:5,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_53",block:5,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_61",block:6,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_62",block:6,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_63",block:6,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_71",block:7,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_72",block:7,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_73",block:7,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_81",block:8,position:1,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_82",block:8,position:2,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_83",block:8,position:3,type:0,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{collector:{time:3,improveTimePrice:0,speed:.1,imporveSpeedPrice:0},territory:{improveRepositoryPrice:1,improveFairPrice:0,improveTerritoryPrice:500,regeneration:13,maxRepositoryVolume:27,cooldown:0},exchange:450},{collector:{time:5,improveTimePrice:5300,speed:.2,imporveSpeedPrice:2},territory:{improveRepositoryPrice:1,improveFairPrice:0,improveTerritoryPrice:1325,regeneration:13,maxRepositoryVolume:90,cooldown:.5},exchange:450},{collector:{time:7,improveTimePrice:8800,speed:.3,imporveSpeedPrice:3},territory:{improveRepositoryPrice:2,improveFairPrice:8800,improveTerritoryPrice:3520,regeneration:14,maxRepositoryVolume:126,cooldown:1},exchange:900},{collector:{time:9,improveTimePrice:24700,speed:.4,imporveSpeedPrice:4},territory:{improveRepositoryPrice:2,maxRepositoryVolume:216,improveFairPrice:24700,improveTerritoryPrice:8233,regeneration:15,cooldown:14},exchange:1800},{collector:{time:11,improveTimePrice:85200,speed:.5,imporveSpeedPrice:5},territory:{improveRepositoryPrice:3,maxRepositoryVolume:330,improveFairPrice:85200,improveTerritoryPrice:24343,regeneration:16,cooldown:35},exchange:4800},{collector:{time:13,improveTimePrice:525200,speed:.6,imporveSpeedPrice:6},territory:{improveRepositoryPrice:3,maxRepositoryVolume:468,improveFairPrice:525200,improveTerritoryPrice:131300,regeneration:18,cooldown:62},exchange:12e3},{collector:{time:15,improveTimePrice:4489600,speed:.8,imporveSpeedPrice:7},territory:{improveRepositoryPrice:4,maxRepositoryVolume:720,improveFairPrice:0,improveTerritoryPrice:498844,regeneration:21,cooldown:72},exchange:28800},{collector:{time:17,improveTimePrice:3448e3,speed:.9,imporveSpeedPrice:8},territory:{improveRepositoryPrice:4,maxRepositoryVolume:918,improveFairPrice:3448e3,improveTerritoryPrice:689600,regeneration:23,cooldown:81},exchange:38400},{collector:{time:19,improveTimePrice:17619200,speed:1.1,imporveSpeedPrice:9},territory:{improveRepositoryPrice:5,maxRepositoryVolume:1254,improveFairPrice:0,improveTerritoryPrice:1601745,regeneration:28,cooldown:91},exchange:86400},{collector:{time:21,improveTimePrice:12020800,speed:1.2,imporveSpeedPrice:10},territory:{improveRepositoryPrice:5,maxRepositoryVolume:1386,improveFairPrice:12020800,improveTerritoryPrice:2003467,regeneration:28,cooldown:100},exchange:105600},{collector:{time:23,improveTimePrice:53209600,speed:1.3,imporveSpeedPrice:11},territory:{improveRepositoryPrice:6,maxRepositoryVolume:1794,improveFairPrice:0,improveTerritoryPrice:4093046,regeneration:29,cooldown:147},exchange:211200},{collector:{time:25,improveTimePrice:45884800,speed:1.4,imporveSpeedPrice:12},territory:{improveRepositoryPrice:6,maxRepositoryVolume:1950,improveFairPrice:45884800,improveTerritoryPrice:6554971,regeneration:32,cooldown:160},exchange:249600},{collector:{time:27,improveTimePrice:199654400,speed:1.5,imporveSpeedPrice:13},territory:{improveRepositoryPrice:7,maxRepositoryVolume:2430,improveFairPrice:0,improveTerritoryPrice:13310293,regeneration:33,cooldown:172},exchange:499200},{collector:{time:29,improveTimePrice:12432e4,speed:1.6,imporveSpeedPrice:14},territory:{improveRepositoryPrice:7,maxRepositoryVolume:2610,improveFairPrice:12432e4,improveTerritoryPrice:1554e4,regeneration:36,cooldown:185},exchange:576e3},{collector:{time:60,improveTimePrice:534476800,speed:1.7,imporveSpeedPrice:15},territory:{improveRepositoryPrice:8,maxRepositoryVolume:3060,improveFairPrice:0,improveTerritoryPrice:31439812,regeneration:41,cooldown:384},exchange:1152e3},{collector:{time:62,improveTimePrice:626470400,speed:1.8,imporveSpeedPrice:16},territory:{improveRepositoryPrice:8,maxRepositoryVolume:3162,improveFairPrice:626470400,improveTerritoryPrice:69607822,regeneration:43,cooldown:396},exchange:1305600},{collector:{time:64,improveTimePrice:2590208e3,speed:1.9,imporveSpeedPrice:17},territory:{improveRepositoryPrice:9,maxRepositoryVolume:3648,improveFairPrice:0,improveTerritoryPrice:136326737,regeneration:45,cooldown:409},exchange:2611200},{collector:{time:66,improveTimePrice:1493734400,speed:2,imporveSpeedPrice:18},territory:{improveRepositoryPrice:9,maxRepositoryVolume:3762,improveFairPrice:1493734400,improveTerritoryPrice:149373440,regeneration:48,cooldown:422},exchange:2918400},{collector:{time:68,improveTimePrice:6163456e3,speed:2.1,imporveSpeedPrice:19},territory:{improveRepositoryPrice:10,maxRepositoryVolume:4284,improveFairPrice:0,improveTerritoryPrice:293497905,regeneration:49,cooldown:435},exchange:5836800},{collector:{time:70,improveTimePrice:7018700800,speed:5,imporveSpeedPrice:20},territory:{improveRepositoryPrice:10,maxRepositoryVolume:4830,improveFairPrice:4177822480,improveTerritoryPrice:334223848,regeneration:54,cooldown:0},exchange:6451200}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{collector:{time:3,improveTimePrice:0,speed:.1,imporveSpeedPrice:0},territory:{improveRepositoryPrice:1,improveFairPrice:0,improveTerritoryPrice:500,regeneration:13,maxRepositoryVolume:5400,cooldown:0},exchange:450},{collector:{time:5,improveTimePrice:8e3,speed:.2,imporveSpeedPrice:2},territory:{improveRepositoryPrice:1,improveFairPrice:0,improveTerritoryPrice:2e3,regeneration:13,maxRepositoryVolume:18e3,cooldown:.5},exchange:450},{collector:{time:7,improveTimePrice:13300,speed:.3,imporveSpeedPrice:3},territory:{improveRepositoryPrice:2,improveFairPrice:8800,improveTerritoryPrice:5320,regeneration:14,maxRepositoryVolume:25200,cooldown:16},exchange:900},{collector:{time:9,improveTimePrice:37300,speed:.4,imporveSpeedPrice:4},territory:{improveRepositoryPrice:2,maxRepositoryVolume:86400,improveFairPrice:24700,improveTerritoryPrice:12433,regeneration:17,cooldown:21},exchange:1800},{collector:{time:11,improveTimePrice:128400,speed:.5,imporveSpeedPrice:5},territory:{improveRepositoryPrice:3,maxRepositoryVolume:264e3,improveFairPrice:85200,improveTerritoryPrice:36686,regeneration:19,cooldown:52},exchange:4800},{collector:{time:13,improveTimePrice:789200,speed:.6,imporveSpeedPrice:6},territory:{improveRepositoryPrice:3,maxRepositoryVolume:748800,improveFairPrice:525200,improveTerritoryPrice:197300,regeneration:20,cooldown:93},exchange:12e3},{collector:{time:15,improveTimePrice:6736e3,speed:.8,imporveSpeedPrice:7},territory:{improveRepositoryPrice:4,maxRepositoryVolume:2304e3,improveFairPrice:0,improveTerritoryPrice:748444,regeneration:21,cooldown:108},exchange:28800},{collector:{time:17,improveTimePrice:5176e3,speed:.9,imporveSpeedPrice:8},territory:{improveRepositoryPrice:4,maxRepositoryVolume:2937600,improveFairPrice:5176e3,improveTerritoryPrice:1035200,regeneration:23,cooldown:122},exchange:38400},{collector:{time:19,improveTimePrice:26432e3,speed:1.1,imporveSpeedPrice:9},territory:{improveRepositoryPrice:5,maxRepositoryVolume:8025600,improveFairPrice:0,improveTerritoryPrice:2402909,regeneration:28,cooldown:136},exchange:86400},{collector:{time:21,improveTimePrice:1804e4,speed:1.2,imporveSpeedPrice:10},territory:{improveRepositoryPrice:5,maxRepositoryVolume:8870400,improveFairPrice:1804e4,improveTerritoryPrice:3006667,regeneration:28,cooldown:201},exchange:105600},{collector:{time:23,improveTimePrice:106432e3,speed:1.3,imporveSpeedPrice:11},territory:{improveRepositoryPrice:6,maxRepositoryVolume:22963200,improveFairPrice:0,improveTerritoryPrice:8187077,regeneration:29,cooldown:220},exchange:211200},{collector:{time:25,improveTimePrice:68848e3,speed:1.4,imporveSpeedPrice:12},territory:{improveRepositoryPrice:6,maxRepositoryVolume:2496e4,improveFairPrice:68848e3,improveTerritoryPrice:9835429,regeneration:32,cooldown:240},exchange:249600},{collector:{time:27,improveTimePrice:299494400,speed:1.5,imporveSpeedPrice:13},territory:{improveRepositoryPrice:7,maxRepositoryVolume:62208e3,improveFairPrice:0,improveTerritoryPrice:19966293,regeneration:33,cooldown:259},exchange:499200},{collector:{time:29,improveTimePrice:186528e3,speed:1.6,imporveSpeedPrice:14},territory:{improveRepositoryPrice:7,maxRepositoryVolume:66816e3,improveFairPrice:186528e3,improveTerritoryPrice:23316e3,regeneration:36,cooldown:278},exchange:576e3},{collector:{time:60,improveTimePrice:801740800,speed:1.7,imporveSpeedPrice:15},territory:{improveRepositoryPrice:8,maxRepositoryVolume:156672e3,improveFairPrice:0,improveTerritoryPrice:47161224,regeneration:41,cooldown:576},exchange:1152e3},{collector:{time:62,improveTimePrice:939814400,speed:1.8,imporveSpeedPrice:16},territory:{improveRepositoryPrice:8,maxRepositoryVolume:161894400,improveFairPrice:939814400,improveTerritoryPrice:104423822,regeneration:43,cooldown:595},exchange:1305600},{collector:{time:64,improveTimePrice:3885363200,speed:1.9,imporveSpeedPrice:17},territory:{improveRepositoryPrice:9,maxRepositoryVolume:373555200,improveFairPrice:0,improveTerritoryPrice:204492800,regeneration:45,cooldown:614},exchange:2611200},{collector:{time:66,improveTimePrice:2240844800,speed:2,imporveSpeedPrice:18},territory:{improveRepositoryPrice:9,maxRepositoryVolume:385228800,improveFairPrice:2240844800,improveTerritoryPrice:224084480,regeneration:48,cooldown:633},exchange:2918400},{collector:{time:68,improveTimePrice:9245286400,speed:2.1,imporveSpeedPrice:19},territory:{improveRepositoryPrice:10,maxRepositoryVolume:877363200,improveFairPrice:0,improveTerritoryPrice:440251733,regeneration:49,cooldown:652},exchange:5836800},{collector:{time:70,improveTimePrice:10528153600,speed:5,imporveSpeedPrice:20},territory:{improveRepositoryPrice:10,maxRepositoryVolume:989184e3,improveFairPrice:4177822480,improveTerritoryPrice:501340648,regeneration:54,cooldown:0},exchange:6451200}]},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(1731),r=i(6),o=i(1732),c=i(1733),h=i(1734),l=i(1),d=i(8),u=function(e){function t(t,i,s,n,a){var r=e.call(this,t,i,s,n)||this;return r.init(a),r}return n(t,e),t.prototype.init=function(e){this.scene.add.existing(this),this.scene.territories.add(this),this.setOrigin(0,0),this.setDepth(this.y),this._id=e._id,this.block=e.block,this.position=e.position,this.territoryType=e.type,this.volume=e.volume,this.improve=e.improve,this.money=e.money,this.cooldown=e.cooldown,this.bought=e.bought,this.boughtType=e.boughtType,this.createElements(),this.setListeners()},t.prototype.createElements=function(){2!==this.territoryType&&3!==this.territoryType&&5!==this.territoryType||this.createImproveText(),4===this.territoryType?this.createMergingZone():5===this.territoryType?this.createRepositorySprite():6===this.territoryType?this.createHouseSprite():7===this.territoryType&&this.createCave(),this.createBorders(),this.unlockTerritory(),this.cooldown>0&&(this.cooldownSprite=new c.default(this))},t.prototype.createImproveText=function(){this.improveText=this.scene.add.text(this.x+38,this.y+24,String(this.improve),{font:"26px Shadow",color:"#ffe571"}).setStroke("#000000",1).setDepth(this.depth+2).setOrigin(.5)},t.prototype.createBorders=function(){var e=1,t=1;1===this.position?(e=1,t=3):2===this.position?(e=2,t=1):3===this.position&&(e=3,t=2);var i=this.scene.state.farm.toLowerCase();this.borderTop=this.scene.add.sprite(this.x,this.y+15,i+"-horizontal-border-"+e).setOrigin(0,1).setDepth(this.y).setVisible(!1),this.borderLeft=this.scene.add.sprite(this.x,this.y,i+"-vertical-border").setOrigin(0,0).setDepth(this.y).setVisible(!1),this.borderRight=this.scene.add.sprite(this.x+240,this.y,i+"-vertical-border").setOrigin(1,0).setDepth(this.y).setVisible(!1),this.borderBottom=this.scene.add.sprite(this.x,this.y+240,i+"-horizontal-border-"+t).setOrigin(0,1).setDepth(this.y+240).setVisible(!1)},t.prototype.createForest=function(e){var t=this,i=this.scene.state.farm.toLowerCase(),s=this.scene.state[i+"Settings"]["territories"+this.scene.state.farm+"Price"],n=this.scene.state["user"+this.scene.state.farm].part;if(0===this.territoryType){var a=s.find((function(e){return e.block===t.block&&e.position===t.position})).unlock;this.forest=this.scene.add.sprite(this.x+120,this.y+240,i+"-forest-"+e).setOrigin(.5,1).setDepth(this.y+1),a>n&&(this.lock_image=this.scene.add.sprite(this.x+120,this.y+120,"lock-territory").setDepth(this.y+2),this.lock_text=this.scene.add.text(this.x+120,this.y+120-37,this.scene.state.lang.part+" "+a,{font:"23px Shadow",color:"#ECDFDF"}).setOrigin(.5,.5).setDepth(this.y+2))}},t.prototype.createMergingZone=function(){this.merging=[],this.mergingCounter=0},t.prototype.createRepositorySprite=function(){if(l.default.checkTestB(this.scene.state))return this.createRepositorySpriteTestB();this.improveText||this.createImproveText();var e=this.scene.state.farm.toLowerCase();this.setTexture(e+"-repository");var t=1;this.improve>=5&&(t=2,this.improve>=10&&(t=3,this.improve>=15&&(t=4)));var i,s=0;"Sheep"===this.scene.state.farm?i=this.scene.state.sheepSettings.territoriesSheepSettings[this.improve-1].storage:"Chicken"===this.scene.state.farm?i=this.scene.state.chickenSettings.territoriesChickenSettings[this.improve-1].storage:"Cow"===this.scene.state.farm&&(i=this.scene.state.cowSettings.cowFactorySettings[this.improve-1].lotSize*this.scene.state.storageMultiply);var n=e+"-repository-"+t+"-";this.volume>0&&(s=this.volume/(i/100)),n+=s<25?1:s>=25&&s<50?2:s>=50&&s<75?3:4,this.repository=this.scene.add.sprite(this.x+120,this.y+240,n).setDepth(this.y+1).setOrigin(.5,1),this.setPositionImproveText()},t.prototype.createRepositorySpriteTestB=function(){this.improveText||this.createImproveText();var e=this.scene.state.farm.toLowerCase();this.setTexture(e+"-repository");var t=1;this.improve>=5&&(t=2,this.improve>=10&&(t=3,this.improve>=15&&(t=4)));var i,s=0;"Sheep"===this.scene.state.farm?i=this.scene.state.sheepSettings.partSettings[this.improve-1].territory.maxRepositoryVolume:"Chicken"===this.scene.state.farm?i=this.scene.state.chickenSettings.partSettings[this.improve-1].territory.maxRepositoryVolume:"Cow"===this.scene.state.farm&&(i=this.scene.state.cowSettings.partSettings[this.improve-1].territory.maxRepositoryVolume);var n=e+"-repository-"+t+"-";this.volume>0&&(s=this.volume/(i/100)),n+=s<25?1:s>=25&&s<50?2:s>=50&&s<75?3:4,this.repository=this.scene.add.sprite(this.x+120,this.y+240,n).setDepth(this.y+1).setOrigin(.5,1),this.setPositionImproveText()},t.prototype.setPositionImproveText=function(){},t.prototype.createHouseSprite=function(){this.scene.house=this.scene.add.sprite(this.x+120,this.y+240,this.scene.state.farm.toLowerCase()+"-house-sprite").setOrigin(.5,1).setDepth(this.y+1)},t.prototype.createCave=function(){a.default.create(this.scene,{x:this.x+120,y:this.y+240})},t.prototype.setListeners=function(){var e=this;this.scene.clickTerritory(this,(function(){e.onTerritoryClick()}))},t.prototype.onTerritoryClick=function(){},t.prototype.buyTerritory=function(){var e=this;if(l.default.checkTestB(this.scene.state))return this.buyTerritoryTestB();var t=this.scene.state.farm.toLowerCase(),i=this.scene.state["user"+this.scene.state.farm],s=this.scene.state[t+"Settings"]["territories"+this.scene.state.farm+"Price"].find((function(t){return t.block===e.block&&t.position===e.position}));if(i.part>=s.unlock&&0===this.territoryType){var n=Math.round(s.price/100*70);if(i.money>=n)this.scene.state.amplitude.logAmplitudeEvent("buy_territory",{block:this.block,position:this.position}),i.money-=n,this.setTerritoryUnlockCooldown(1),this.scene.tryClanTask(14);else{var a=n-i.money,r=this.scene.convertMoney(a);this.openConvertor(a,r,1)}}},t.prototype.buyTerritoryTestB=function(){var e=this,t=this.scene.state.farm.toLowerCase(),i=this.scene.state["user"+this.scene.state.farm],s=this.scene.state[t+"Settings"]["territories"+this.scene.state.farm+"Price"].find((function(t){return t.block===e.block&&t.position===e.position}));if(i.part>=s.unlock&&0===this.territoryType){var n=this.scene.state[t+"Settings"].partSettings[i.part-1].territory,a=Math.round(n.improveTerritoryPrice/100*70);if("cow"===t&&2===i.part&&(a=0),i.money>=a)this.scene.state.amplitude.logAmplitudeEvent("buy_territory",{block:this.block,position:this.position}),i.money-=a,this.setTerritoryUnlockCooldown(1),this.scene.tryClanTask(14);else{var r=a-i.money,o=this.scene.convertMoney(r);this.openConvertor(r,o,1)}}},t.prototype.setTerritoryUnlockCooldown=function(e){var t=this;if(l.default.checkTestB(this.scene.state))return this.setTerritoryUnlockCooldownTestB(e);var i=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"]["territories"+this.scene.state.farm+"Price"].find((function(e){return e.block===t.block&&e.position===t.position})),s=1===e?i.unlockCooldown:Math.round(i.unlockCooldown/4);this.cooldown=s,this.boughtType=e,this.bought=!0,this.cooldownSprite=new c.default(this)},t.prototype.setTerritoryUnlockCooldownTestB=function(e){var t=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"].partSettings[this.scene.state["user"+this.scene.state.farm].part-1].territory,i=Math.round(60*t.cooldown),s=1===e?i:Math.round(i/4);this.cooldown=s,this.boughtType=e,this.bought=!0,1===e&&this.scene.tryTask(5,1),this.cooldownSprite=new c.default(this)},t.prototype.unlockTerritory=function(){var e=this;this.bought&&this.cooldown<=0&&(this.scene.tryTask(5,this.boughtType),0===this.territoryType?(h.default.create(this.scene,this.scene.add.sprite(this.x+120,this.y+120,this.scene.state.farm.toLowerCase()+"-for-buying").setDepth(this.forest.depth-1)),h.default.create(this.scene,this.forest),this.scene.playSoundOnce("tree-falling-sound"),this.territoryType=this.boughtType,this.scene.time.addEvent({delay:0,callback:function(){e.changeSprite(),e.setTexture(e.scene.state.farm.toLowerCase()+"-bought"),e.scene.buildBorders()},callbackScope:this,loop:!1})):1===this.territoryType&&(this.territoryType=this.boughtType,l.default.checkTestB(this.scene.state)&&(this.improve=this.scene.state["user"+this.scene.state.farm].part-1||1),5===this.territoryType?(this.volume=0,this.money=0,this.createRepositorySprite(),r.default.create(this.scene,{x:this.x+120,y:this.y+120},3)):(this.volume=1e3,this.changeSprite(),this.scene.time.addEvent({delay:500,callback:function(){r.default.create(e.scene,{x:e.x+120,y:e.y+120},3)},callbackScope:this,loop:!1}))))},t.prototype.openConvertor=function(e,t,i){this.scene.state.convertor={fun:0,count:e,diamonds:t,type:i};this.scene.state.modal={type:1,sysType:4},this.scene.scene.launch("Modal",this.scene.state)},t.prototype.exchangeTerritory=function(){var e=this;if(l.default.checkTestB(this.scene.state))return this.exchangeTerritoryTestB();var t=this.scene.state["user"+this.scene.state.farm],i=this.scene.state.farm.toLowerCase(),s=this.scene.state[i+"Settings"]["territories"+this.scene.state.farm+"Settings"];if(2===this.scene.state.exchangeTerritory||3===this.scene.state.exchangeTerritory||5===this.scene.state.exchangeTerritory){var n=s.find((function(e){return 2===e.improve})).improvePastureMoneyPrice;if(5===this.scene.state.exchangeTerritory)if(this.checkExchangeRepository())if(t.money>=n)this.territoryType=this.scene.state.exchangeTerritory,t.money-=n,this.scene.tryTask(5,this.scene.state.exchangeTerritory),this.improve=1,this.volume=0,this.money=0,this.createRepositorySprite(),r.default.create(this.scene,{x:this.x+120,y:this.y+120},3);else{var a=n-t.money,o=this.scene.convertMoney(a);this.openConvertor(a,o,1)}else{var c={type:1,sysType:3,height:150,message:this.scene.state.lang.repCloseToFair};this.scene.state.modal=c,this.scene.scene.launch("Modal",this.scene.state)}else if(t.money>=n)5===this.territoryType&&this.repository&&(this.sellResource(),this.repository.destroy()),this.territoryType=this.scene.state.exchangeTerritory,t.money-=n,this.improve=1,this.volume=1e3,this.scene.tryTask(5,this.scene.state.exchangeTerritory),this.scene.time.addEvent({delay:500,callback:function(){e.changeSprite(),r.default.create(e.scene,{x:e.x+120,y:e.y+120},3)},callbackScope:this,loop:!1});else{a=n-t.money,o=this.scene.convertMoney(a);this.openConvertor(a,o,1)}}},t.prototype.exchangeTerritoryTestB=function(){var e=this,t=this.scene.state.farm,i=this.scene.state["user"+t],s=i.part,n=this.scene.state[t.toLowerCase()+"Settings"].partSettings[s-1];if(2===this.scene.state.exchangeTerritory||3===this.scene.state.exchangeTerritory||5===this.scene.state.exchangeTerritory){var a=Math.round(n.territory.improveTerritoryPrice/100*30),o=n.territory.improveRepositoryPrice;if(5===this.territoryType)if(i.money>=a)this.repository&&(this.sellResource(),this.repository.destroy()),this.territoryType=this.scene.state.exchangeTerritory,i.money-=a,this.improve=1,this.volume=1e3,this.scene.tryTask(5,this.scene.state.exchangeTerritory),this.scene.time.addEvent({delay:500,callback:function(){e.changeSprite(),r.default.create(e.scene,{x:e.x+120,y:e.y+120},3)},callbackScope:this,loop:!1});else{var c=a-i.money,h=this.scene.convertMoney(c);this.openConvertor(c,h,1)}else if(5===this.scene.state.exchangeTerritory){if(this.checkExchangeRepository())if(this.scene.state.user.diamonds>=o)this.territoryType=this.scene.state.exchangeTerritory,this.scene.state.user.diamonds-=o,this.scene.tryTask(5,this.scene.state.exchangeTerritory),this.improve=1,this.volume=0,this.money=0,this.createRepositorySprite(),r.default.create(this.scene,{x:this.x+120,y:this.y+120},3);else{c=o-this.scene.state.user.diamonds,h=o-this.scene.state.user.diamonds;this.scene.state.convertor={fun:8,count:c,diamonds:h,type:2},this.scene.state.modal={type:1,sysType:4},this.scene.scene.stop(),this.scene.scene.start("Modal",this.scene.state)}else{var l={type:1,sysType:3,height:150,message:this.scene.state.lang.repCloseToFair};this.scene.state.modal=l,this.scene.scene.launch("Modal",this.scene.state)}}else if(i.money>=a)this.territoryType=this.scene.state.exchangeTerritory,i.money-=a,this.improve=1,this.volume=1e3,this.scene.tryTask(5,this.scene.state.exchangeTerritory),this.scene.time.addEvent({delay:500,callback:function(){e.changeSprite(),r.default.create(e.scene,{x:e.x+120,y:e.y+120},3)},callbackScope:this,loop:!1});else{c=a-i.money,h=this.scene.convertMoney(c);this.openConvertor(c,h,1)}}},t.prototype.sellResource=function(){},t.prototype.checkExchangeRepository=function(){var e=!0;return 2===this.block&&3===this.position&&(e=!1),e},t.prototype.changeSprite=function(){var e,t,i,s,n,a;if(l.default.checkTestB(this.scene.state))return this.changeSpriteTestB();var r=this.scene.state.farm.toLowerCase();2!==this.territoryType&&3!==this.territoryType&&5!==this.territoryType||this.improveText||this.createImproveText(),this.setPositionImproveText(),(null===(e=this.improveText)||void 0===e?void 0:e.text)!==String(this.improve)&&(null===(t=this.improveText)||void 0===t||t.setText(String(this.improve)));var o=this.texture.key,c=1;if(this.improve>=5&&(c=2,this.improve>=10&&(c=3,this.improve>=15&&(c=4))),2===this.territoryType&&(o=r+"-grass"+c+"-",this.volume<250?o+=1:this.volume>=250&&this.volume<500?o+=2:this.volume>=500&&this.volume<750?o+=3:this.volume>=750&&(o+=4)),3===this.territoryType&&(o=r+"-water"+c+"-",this.volume<250?o+=1:this.volume>=250&&this.volume<500?o+=2:this.volume>=500&&this.volume<750?o+=3:this.volume>=750&&(o+=4)),5===this.territoryType){var h=void 0;"Sheep"===this.scene.state.farm?h=this.scene.state.sheepSettings.territoriesSheepSettings[this.improve-1].storage:"Chicken"===this.scene.state.farm?h=this.scene.state.chickenSettings.territoriesChickenSettings[this.improve-1].storage:"Cow"===this.scene.state.farm&&(h=this.scene.state.cowSettings.cowFactorySettings[this.improve-1].lotSize*this.scene.state.storageMultiply);var d=this.volume>0?this.volume/(h/100):0;o=r+"-repository-"+c+"-",o+=d<25?1:d>=25&&d<50?2:d>=50&&d<75?3:4,(null===(s=null===(i=this.repository)||void 0===i?void 0:i.texture)||void 0===s?void 0:s.key)!==o&&(null===(n=this.repository)||void 0===n||n.setTexture(o))}(null===(a=this.texture)||void 0===a?void 0:a.key)!==o&&5!==this.territoryType&&this.setTexture(o)},t.prototype.changeSpriteTestB=function(){var e,t,i,s,n,a,r=this.scene.state.farm.toLowerCase();2!==this.territoryType&&3!==this.territoryType&&5!==this.territoryType||this.improveText||this.createImproveText(),this.setPositionImproveText(),(null===(e=this.improveText)||void 0===e?void 0:e.text)!==String(this.improve)&&(null===(t=this.improveText)||void 0===t||t.setText(String(this.improve)));var o=this.texture.key,c=1;if(this.improve>=5&&(c=2,this.improve>=10&&(c=3,this.improve>=15&&(c=4))),2===this.territoryType&&(o=r+"-grass"+c+"-",this.volume<250?o+=1:this.volume>=250&&this.volume<500?o+=2:this.volume>=500&&this.volume<750?o+=3:this.volume>=750&&(o+=4)),3===this.territoryType&&(o=r+"-water"+c+"-",this.volume<250?o+=1:this.volume>=250&&this.volume<500?o+=2:this.volume>=500&&this.volume<750?o+=3:this.volume>=750&&(o+=4)),5===this.territoryType){var h=void 0;"Sheep"===this.scene.state.farm?h=this.scene.state.sheepSettings.partSettings[this.improve-1].territory.maxRepositoryVolume:"Chicken"===this.scene.state.farm?h=this.scene.state.chickenSettings.partSettings[this.improve-1].territory.maxRepositoryVolume:"Cow"===this.scene.state.farm&&(h=this.scene.state.cowSettings.partSettings[this.improve-1].territory.maxRepositoryVolume);var l=this.volume>0?this.volume/(h/100):0;o=r+"-repository-"+c+"-",o+=l<25?1:l>=25&&l<50?2:l>=50&&l<75?3:4,(null===(s=null===(i=this.repository)||void 0===i?void 0:i.texture)||void 0===s?void 0:s.key)!==o&&(null===(n=this.repository)||void 0===n||n.setTexture(o))}(null===(a=this.texture)||void 0===a?void 0:a.key)!==o&&5!==this.territoryType&&this.setTexture(o)},t.prototype.fairLevelUp=function(){var e=this;if(l.default.checkTestB(this.scene.state))return this.fairLevelUpTestB();var t,i=this.scene.state.farm.toLowerCase(),s=this.scene.state[i+"Settings"][i+"FairLevels"],n=this.scene.state["user"+this.scene.state.farm],a=s.find((function(e){return e.level===n.fair+1}));if(a&&n.fair<s.length&&n.part>=a.part_unlock)if(n.money>=a.price_m&&this.scene.state.user.diamonds>=a.price_d)n.money-=a.price_m,this.scene.state.user.diamonds-=a.price_d,n.fair++,(t=e.scene.game.scene.getScene(e.scene.state.farm+"Bars")).animalBuy.setTexture(i+"-buy-icon-"+e.scene.maxBreedForBuy()),t.updateAnimalPrice(),this.scene.tryTask(7,n.fair),this.scene.tryClanTask(6),this.scene.achievement.tryType(11),n.fair===s.length&&("Sheep"===this.scene.state.farm?this.scene.achievement.tryId(19):"Chicken"===this.scene.state.farm?this.scene.achievement.tryId(21):"Cow"===this.scene.state.farm&&this.scene.achievement.tryId(23)),this.scene.tryTask(15,0,a.price_d),this.scene.time.addEvent({delay:200,callback:function(){var t;null===(t=e.levelText)||void 0===t||t.setText(String(n.fair)),o.default.create(e.scene,{x:e.x+120,y:e.y+120})},callbackScope:this,loop:!1}),this.scene.state.amplitude.logAmplitudeEvent("fair_up",{level:n.fair}),a.price_d>0&&this.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"fair",count:a.price_d});else if(this.scene.state.user.diamonds<a.price_d){var r=a.price_d-this.scene.state.user.diamonds;this.openConvertor(r,r,2)}else{r=a.price_m-n.money;var c=this.scene.convertMoney(r);this.openConvertor(r,c,1)}},t.prototype.fairLevelUpTestB=function(){var e,t=this,i=this.scene.state.farm,s=this.scene.state["user"+i],n=this.scene.state[i.toLowerCase()+"Settings"].partSettings,a=n[s.part-1];if(a&&s.fair<n.length)if(s.money>=a.territory.improveFairPrice)s.money-=a.territory.improveFairPrice,s.fair++,(e=t.scene.game.scene.getScene(i+"Bars")).animalBuy.setTexture(i.toLowerCase()+"-buy-icon-"+t.scene.maxBreedForBuy()),e.updateAnimalPrice(),this.scene.tryTask(7,s.fair),this.scene.tryClanTask(6),this.scene.achievement.tryType(11),s.fair===n.length&&("Sheep"===this.scene.state.farm?this.scene.achievement.tryId(19):"Chicken"===this.scene.state.farm?this.scene.achievement.tryId(21):"Cow"===this.scene.state.farm&&this.scene.achievement.tryId(23)),this.scene.time.addEvent({delay:200,callback:function(){var e;null===(e=t.levelText)||void 0===e||e.setText(String(s.fair)),o.default.create(t.scene,{x:t.x+120,y:t.y+120})},callbackScope:this,loop:!1}),this.scene.state.amplitude.logAmplitudeEvent("fair_up",{level:s.fair});else{var r=a.territory.improveFairPrice-s.money,c=this.scene.convertMoney(r);this.openConvertor(r,c,1)}},t.prototype.improveTerritory=function(){var e,t=this;if(l.default.checkTestB(this.scene.state))return this.improveTerritoryTestB();var i=[];if("Sheep"===this.scene.state.farm?(e=this.scene.state.userSheep,i=this.scene.state.sheepSettings.territoriesSheepSettings):"Chicken"===this.scene.state.farm?(e=this.scene.state.userChicken,i=this.scene.state.chickenSettings.territoriesChickenSettings):"Cow"===this.scene.state.farm&&(e=this.scene.state.userCow,i=this.scene.state.cowSettings.territoriesCowSettings),this.improve<i.length&&(2===this.territoryType||3===this.territoryType||5===this.territoryType)){var s=i.find((function(e){return e.improve===t.improve+1}));if(e.part>=s.unlock_improve)if(5===this.territoryType){var n=l.default.checkSale(this.scene.state,this.scene.state.farm.toUpperCase()+"_REPOSITORY_IMPROVE"),a=n?Math.floor(s.improveStorageMoneyPrice/2):s.improveStorageMoneyPrice,r=n?Math.floor(s.improveStorageDiamondPrice/2):s.improveStorageDiamondPrice;a?this.moneyImprove(e,a):r&&this.diamondImprove(r)}else 2!==this.territoryType&&3!==this.territoryType||(s.improvePastureMoneyPrice?this.moneyImprove(e,s.improvePastureMoneyPrice):s.improvePastureDiamondPrice&&this.diamondImprove(s.improvePastureDiamondPrice))}},t.prototype.improveTerritoryTestB=function(){var e=this.scene.state["user"+this.scene.state.farm],t=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"].partSettings;if(this.improve<t.length&&(2===this.territoryType||3===this.territoryType||5===this.territoryType)){var i=t[this.improve].territory;if(e.part>=this.improve)if(5===this.territoryType){var s=l.default.checkSale(this.scene.state,this.scene.state.farm.toUpperCase()+"_REPOSITORY_IMPROVE")?Math.floor(i.improveRepositoryPrice/2):i.improveRepositoryPrice;this.diamondImprove(s)}else 2!==this.territoryType&&3!==this.territoryType||(this.moneyImprove(e,i.improveTerritoryPrice),this.checkAllTerritoriesIsMaxImproveLvlTask())}},t.prototype.moneyImprove=function(e,t){var i=this,s=this.improve+1;if(e.money>=t){var n=void 0;2===this.territoryType?n="grass":3===this.territoryType?n="water":5===this.territoryType&&(n="repository"),this.scene.state.amplitude.logAmplitudeEvent("improve_territory",{block:this.block,position:this.position,level:s,type:n}),this.improve=s,e.money-=t,this.scene.tryClanTask(6),this.scene.achievement.tryType(11),5===this.territoryType?(this.scene.tryTask(17,s),this.changeSprite(),r.default.create(this.scene,{x:this.x+120,y:this.y+120},3),this.improve>=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"]["territories"+this.scene.state.farm+"Settings"].length&&("Sheep"===this.scene.state.farm?this.scene.achievement.tryId(16):"Chicken"===this.scene.state.farm?this.scene.achievement.tryId(20):"Cow"===this.scene.state.farm&&this.scene.achievement.tryId(22))):(2===this.territoryType&&(this.scene.tryTask(8,s),this.improve>=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"]["territories"+this.scene.state.farm+"Settings"].length&&this.scene.achievement.tryId(17)),3===this.territoryType&&(this.scene.tryTask(9,s),this.improve>=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"]["territories"+this.scene.state.farm+"Settings"].length&&this.scene.achievement.tryId(18)),this.volume=1e3,this.scene.time.addEvent({delay:500,callback:function(){i.changeSprite(),r.default.create(i.scene,{x:i.x+120,y:i.y+120},3)},callbackScope:this,loop:!1}))}else{var a=t-e.money,o=this.scene.convertMoney(a);this.openConvertor(a,o,1)}},t.prototype.diamondImprove=function(e){var t=this,i=this.improve+1;if(this.scene.state.user.diamonds>=e){var s;2===this.territoryType?s="grass":3===this.territoryType?s="water":5===this.territoryType&&(s="repository");var n={type:1,sysType:24,confirmSpendParams:{type:"Improve"+l.default.ucFirst(s),level:i,price:e,callback:function(){t.scene.state.amplitude.logAmplitudeEvent("improve_territory",{block:t.block,position:t.position,level:i,type:s}),t.improve=i,t.scene.state.user.diamonds-=e,t.scene.tryTask(15,0,e),t.scene.tryClanTask(6),t.scene.achievement.tryType(11),5===t.territoryType?(t.scene.tryTask(17,i),t.changeSprite(),r.default.create(t.scene,{x:t.x+120,y:t.y+120},3),t.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"storage",count:e}),t.improve>=t.scene.state[t.scene.state.farm.toLowerCase()+"Settings"]["territories"+t.scene.state.farm+"Settings"].length&&("Sheep"===t.scene.state.farm?t.scene.achievement.tryId(16):"Chicken"===t.scene.state.farm?t.scene.achievement.tryId(20):"Cow"===t.scene.state.farm&&t.scene.achievement.tryId(22))):(2===t.territoryType&&(t.scene.tryTask(8,i),t.improve>=t.scene.state[t.scene.state.farm.toLowerCase()+"Settings"]["territories"+t.scene.state.farm+"Settings"].length&&t.scene.achievement.tryId(17)),3===t.territoryType&&(t.scene.tryTask(9,i),t.improve>=t.scene.state[t.scene.state.farm.toLowerCase()+"Settings"]["territories"+t.scene.state.farm+"Settings"].length&&t.scene.achievement.tryId(18)),t.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:s,count:e}),t.volume=1e3,t.scene.time.addEvent({delay:500,callback:function(){t.changeSprite(),r.default.create(t.scene,{x:t.x+120,y:t.y+120},3)},callbackScope:t,loop:!1})),t.checkAllTerritoriesIsMaxImproveLvlTask()}}};this.scene.state.modal=n,this.scene.scene.stop("Modal"),this.scene.scene.launch("Modal",this.scene.state)}else{var a=e-this.scene.state.user.diamonds,o=this.scene.convertDiamonds(a);this.openConvertor(a,o,2)}},t.prototype.checkAllTerritoriesIsMaxImproveLvlTask=function(){var e=this.scene.state["user"+this.scene.state.farm].part,t=20===e?21:e+2;"Cow"===this.scene.state.farm&&(2!==e&&3!==e&&4!==e||(t=6));var i=this.scene.territories.children.entries.filter((function(t){return(5===t.territoryType||2===t.territoryType||3===t.territoryType||8===t.territoryType)&&t.improve===e}));this.scene.tryTask(d.TaskType.IMPROVE_ALL_TERRITORY,t,0,i.length)},t.prototype.createFullStorageAnim=function(){this.repositoryAnim=this.scene.tweens.add({targets:[this.improveText,this.repository],y:"-=5",yoyo:!0,duration:250,repeat:-1})},t.prototype.checkAndSetRepositoryAnim=function(){var e=this;if(l.default.checkTestB(this.scene.state))return this.checkAndSetRepositoryAnimTestB();if(5===this.territoryType){var t=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"]["territories"+this.scene.state.farm+"Settings"].find((function(t){return t.improve===e.improve})).storage;"Cow"===this.scene.state.farm&&(t=this.scene.state.cowSettings.cowFactorySettings.find((function(t){return t.improve===e.improve})).lotSize*this.scene.state.storageMultiply),this.volume>=t&&!this.repositoryAnim?this.createFullStorageAnim():this.volume<t&&this.repositoryAnim&&(this.repository.setPosition(this.x+120,this.y+240),this.repositoryAnim.remove(),this.repositoryAnim=null)}},t.prototype.checkAndSetRepositoryAnimTestB=function(){if(5===this.territoryType){var e=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"].partSettings[this.improve-1].territory.maxRepositoryVolume;this.volume>=e&&!this.repositoryAnim?this.createFullStorageAnim():this.volume<e&&this.repositoryAnim&&(this.repository.setPosition(this.x+120,this.y+240),this.repositoryAnim.remove(),this.repositoryAnim=null)}},t.prototype.preUpdate=function(t,i){e.prototype.preUpdate.call(this,t,i),this.checkAndSetRepositoryAnim()},t}(Phaser.Physics.Arcade.Sprite);t.default=u},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i){var s=i.x,n=i.y,a=i.type,r=i._id,o=e.call(this,t,s,n,"chicken-egg"+a)||this;return o.isClicked=!1,o.timeout=0,o.type=String(a),o._id=r,o.animalType=a,o.setClickZone(),o.setEventClick(),o}return n(t,e),t.create=function(e,i){var s=new t(e,i);return s.scene.eggs.add(s),s},t.prototype.setEventClick=function(){var e=this;this.scene.click(this.clickZone,(function(){if(!e.isClicked){e.isClicked=!0;var t=!1;0!==Number(e.animalType)&&(t=!0),e.scene.collectEgg(e,t)}}))},t.prototype.destroy=function(){return this.clickZone.destroy(),e.prototype.destroy.call(this),this},t}(i(74).default);t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,s,n){var a=e.call(this,t,i,s,n)||this;return a.init(),a}return n(t,e),t.prototype.init=function(){this.scene.add.existing(this),this.setDepth(this.y)},t.prototype.setClickZone=function(){this.clickZone=this.scene.add.zone(this.x,this.y,100,100).setDropZone(void 0,(function(){return null})).setDepth(this.y)},t.prototype.flyToPoint=function(e){var t=this;this.setDepth(1e4);var i=this.scene.tweens.add({targets:this,duration:350,onStart:function(){var e;null===(e=t.clickZone)||void 0===e||e.destroy()},x:e.x,y:e.y,onComplete:function(){null==i||i.stop(),null==t||t.destroy()}})},t}(Phaser.GameObjects.Sprite);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findFreeTerritory=t.buildBorders=t.deleteTerritoriesLocks=t.currentTerritory=void 0,t.currentTerritory=function(e,t){var i=Math.ceil((t-this.topIndent)/this.height),s=Math.ceil(e/this.height);return this.territories.children.entries.find((function(e){return e.block===i&&e.position===s}))},t.deleteTerritoriesLocks=function(){var e,t=[];"Sheep"===this.state.farm?(e=this.state.userSheep.part,t=this.state.sheepSettings.territoriesSheepPrice):"Chicken"===this.state.farm?(e=this.state.userChicken.part,t=this.state.chickenSettings.territoriesChickenPrice):"Cow"===this.state.farm&&(e=this.state.userCow.part,t=this.state.cowSettings.territoriesCowPrice);var i=function(i){var n=s.territories.children.entries[i];if(0===n.territoryType){var a=t.find((function(e){return e.block===n.block&&e.position===n.position})).unlock;e>=a&&n.lock_image&&n.lock_text&&(n.lock_image.destroy(),n.lock_text.destroy())}},s=this;for(var n in this.territories.children.entries)i(n)},t.buildBorders=function(){var e=function(e){var i=t.territories.children.entries[e];7===i.territoryType&&(i.borderTop.setVisible(!0),i.borderLeft.setVisible(!0),0===(n=t.territories.children.entries.find((function(e){return 2===e.block&&1===e.position}))).territoryType?i.borderBottom.setVisible(!0):i.borderBottom.setVisible(!1));if(6===i.territoryType&&i.borderTop.setVisible(!0),1===i.territoryType||2===i.territoryType||3===i.territoryType||5===i.territoryType)if(1===i.position&&i.borderLeft.setVisible(!0),3===i.position&&i.borderRight.setVisible(!0),8!==i.block){var s=t.territories.children.entries.find((function(e){return e.block===i.block-1&&e.position===i.position})),n=t.territories.children.entries.find((function(e){return e.block===i.block+1&&e.position===i.position}));if(void 0!==s&&0===s.territoryType?i.borderTop.setVisible(!0):i.borderTop.setVisible(!1),1===n.territoryType||2===n.territoryType||3===n.territoryType||5===n.territoryType?i.borderBottom.setVisible(!1):i.borderBottom.setVisible(!0),1===i.position)0===t.territories.children.entries.find((function(e){return e.block===i.block&&2===e.position})).territoryType?i.borderRight.setVisible(!0):i.borderRight.setVisible(!1);if(2===i.position){var a=t.territories.children.entries.find((function(e){return e.block===i.block&&1===e.position})),r=t.territories.children.entries.find((function(e){return e.block===i.block&&3===e.position}));0===a.territoryType?i.borderLeft.setVisible(!0):i.borderLeft.setVisible(!1),0===r.territoryType?i.borderRight.setVisible(!0):i.borderRight.setVisible(!1)}if(3===i.position)0===t.territories.children.entries.find((function(e){return e.block===i.block&&2===e.position})).territoryType?i.borderLeft.setVisible(!0):i.borderLeft.setVisible(!1)}else i.borderBottom.setVisible(!0)},t=this;for(var i in this.territories.children.entries)e(i)},t.findFreeTerritory=function(e,t){var i=this.currentTerritory(e,t);return i?2===i.territoryType||3===i.territoryType?{x:i.x+120,y:i.y+120}:this.findFreeTerritory(e-240,t):t>0?this.findFreeTerritory(600,t-240):void 0}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),r=i(0),o=i(36),c=i(27),h=i(16),l=i(1744),d=i(113),u=i(114),p=i(3),f=i(19),m=i(30),g=i(1),y=function(e){function t(t){var i=e.call(this,t+"Bars")||this;return i.stepsDiamonds=[],i.click=a.click.bind(i),i.clickButton=a.clickButton.bind(i),i.clickShopBtn=a.clickShopBtn.bind(i),i.clickModalBtn=a.clickModalBtn.bind(i),i.pulseBalanceAnim=c.pulseBalance.bind(i),i.increaseDiamonds=c.increaseDiamonds.bind(i),i.newbieAwardAnimation=c.newbieAwardAnimation.bind(i),i.updateNotificationShop=o.updateNotificationShop.bind(i),i.getCurrency=c.getCurrency.bind(i),i.clickTaskBoard=h.clickTaskBoard.bind(i),i.plusMoneyAnimation=c.plusMoneyAnimation.bind(i),i.createTaskZone=r.createTaskZone.bind(i),i.createСleanButton=r.createСleanButton.bind(i),i.checkCleanUpBtn=r.checkCleanUpBtn.bind(i),i}return n(t,e),t.prototype.init=function(e){this.state=e,this.height=Number(this.game.config.height),this.increaseAnimation=!1,this.countIncrease=0,this.userDiamonds=this.state.user.diamonds,this.stepsDiamonds=[],this.hints=this.add.group(),this.mainScene=this.game.scene.getScene(this.state.farm),this.farmUser=this.state["user"+this.state.farm],this.arrowOnCollector=void 0},t.prototype.create=function(){this.createTopBar(),this.createСleanButton(),l.default.create(this),this.createBottomBar()},t.prototype.update=function(){this.pulseBalanceAnim(),this.setBuyAnimalStatus(),this.updateMoneyInfo(),this.updatePartProgress(),this.updateNotificationShop(),this.updateStarterpackIcon(),this.updateSale(),this.updateCleanUpBtn(),this.updateFeedBoostTimer(),this.updatePulseFeedBoostTimer()},t.prototype.setCurrentPartProgress=function(){var e,t,i,s,n,a=null===(t=this.game.scene.keys[null===(e=this.state)||void 0===e?void 0:e.farm])||void 0===t?void 0:t.partTasks();if(a){var r=a.filter((function(e){return 1===e.done})).length+"/"+(null==a?void 0:a.length);(null===(i=this.partProgress)||void 0===i?void 0:i.active)&&r!==(null===(s=this.partProgress)||void 0===s?void 0:s.text)&&(null===(n=this.partProgress)||void 0===n||n.setText(r))}},t.prototype.createBottomBar=function(){this.add.sprite(0,this.height+10,"tabbar").setInteractive().setOrigin(0,1),this.createBtns()},t.prototype.createTopBar=function(){this.add.sprite(0,0,"topbar").setOrigin(0,0).setInteractive(),this.createPartProgress(),this.createBalanceInfo(),this.setBalanceBars(this.mainScene.balance()),this.createMoneyInfo(),this.createCalendarIcon()},t.prototype.createPartProgress=function(){this.part=this.add.text(82,55,"",{fontSize:"44px",fontFamily:"Shadow",color:"#124C03"}).setOrigin(.5),this.partProgress=this.add.text(82,120,"",{fontFamily:"Shadow",fontSize:"32px",color:"#CA6200"}).setOrigin(.5),this.add.sprite(70,0,this.state.farm.toLowerCase()+"-leaves").setOrigin(.5,0),this.createTaskZone(),this.setCurrentPartProgress()},t.prototype.createCalendarIcon=function(){var e=this;if(!(this.state.newbieTime<=0)){this.calendar=this.add.sprite(40,180,"calendar"),this.click(this.calendar,(function(){e.openModal({type:6})}));var t=this.calendar,i=t.x,s=t.y,n=String(Number(this.state.daily));this.calendarText=this.add.text(i,s+12,n,{fontFamily:"Bip",fontSize:"32px",color:"#327bb7"}).setOrigin(.5)}},t.prototype.createMoneyInfo=function(){var e=this,t={fontSize:"32px",fontFamily:"Shadow",color:"#7b3b0d"};this.diamonds=this.add.text(590,38,"",t).setOrigin(.5),this.money=this.add.text(590,100,"",t).setOrigin(.5),this.zoneDiamonds=this.add.zone(585,38,230,60).setDropZone(void 0,(function(){})),this.zoneMoney=this.add.zone(585,100,230,60).setDropZone(void 0,(function(){})),this.addDiamonds=this.add.sprite(680,38,"plus"),this.addMoney=this.add.sprite(680,100,"plus"),this.add.sprite(498,100,this.state.farm.toLowerCase()+"Coin").setScale(.22),this.createStarterpackIcon(),this.clickButton(this.addDiamonds,(function(){e.openModal({type:2,shopType:1})})),this.clickButton(this.addMoney,(function(){e.openModal({type:2,shopType:2})})),this.click(this.zoneDiamonds,(function(){e.openModal({type:2,shopType:1})})),this.click(this.zoneMoney,(function(){e.openModal({type:2,shopType:2})}))},t.prototype.createStarterpackIcon=function(){var e=this;this.state.user.starterpack||(this.starterpackIcon=this.add.sprite(480,25,"stock-icon").setScale(.34).setVisible(!1),this.click(this.starterpackIcon,(function(){e.openModal({type:2,shopType:1})})),this.tweens.add({targets:this.starterpackIcon,delay:2e3,props:{rotation:{duration:600,yoyo:!1,ease:"Power2",value:2*Math.PI},scale:{value:.4,ease:"Power1",duration:250,yoyo:!0}},loop:-1}))},t.prototype.setBalanceBars=function(e){this.farmUser.part>=6?e.alarm&&"green-balance-bg"===this.balanceBg.texture.key?this.balanceBg.setTexture("red-balance-bg"):e.alarm||"red-balance-bg"!==this.balanceBg.texture.key||this.balanceBg.setTexture("green-balance-bg"):e.alarm&&"green-balance-bg-big"===this.balanceBg.texture.key?this.balanceBg.setTexture("red-balance-bg-big"):e.alarm||"red-balance-bg-big"!==this.balanceBg.texture.key||this.balanceBg.setTexture("green-balance-bg-big");var t=e.waterPercent+"%";e.notEnoughWater?(t="-"+e.waterPercent+"%",this.waterProblem=!0):this.waterProblem=!1,this.textWater.text!==t&&this.textWater.setText(t);var i=e.grassPercent+"%";e.notEnoughGrass?(i="-"+e.grassPercent+"%",this.grassProblem=!0):this.grassProblem=!1,this.textGrass.text!==i&&this.textGrass.setText(i)},t.prototype.createBtns=function(){this.createAnimalBuyBtn(),this.createCollectorBtn(),this.createShopBtn(),this.createMapBtn(),this.createMenuBtn()},t.prototype.createMenuBtn=function(){this.menu=u.default.create(this),this.offline=this.add.sprite(650,this.height-90,"offline").setInteractive().setDepth(this.height+4).setVisible(!1),this.state.online||this.offline.setVisible(!0)},t.prototype.createAnimalBuyBtn=function(){var e=this,t=this.state.farm.toLowerCase()+"-buy-icon-"+this.mainScene.maxBreedForBuy();this.animalBuy=this.add.sprite(82,this.height-92,t),this.saleBuyIcon=this.add.sprite(this.animalBuy.getBounds().left+30,this.animalBuy.getBounds().top+30,"icon-sale").setOrigin(.5).setAngle(-18);var i=this.mainScene.maxBreedForBuy(),s=String(r.shortNum(this.mainScene.animalPrice(i).price)),n=String(r.shortNum(Math.round(this.mainScene.animalPrice(i).price/2))),a=g.default.checkSale(this.state,this.state.farm.toUpperCase()+"_PRICE")?n:s;this.animalPrice=this.add.text(82,this.height-43,a,{fontSize:"28px",fontFamily:"Bip",color:"#925C28",align:"center"}).setDepth(this.height).setOrigin(.5);var o=this.animalPrice.getBounds();this.animalPriceBubble=this.add.graphics({x:o.left-15,y:o.top}),this.animalPriceBubble.fillStyle(16777215,1),this.animalPriceBubble.fillRoundedRect(0,0,o.width+30,o.height,8),this.clickButton(this.animalBuy,(function(){(e.state.userSheep.tutorial>=100||"Sheep"!==e.state.farm)&&e.mainScene.buyAnimal(e.mainScene.maxBreedForBuy())}))},t.prototype.createMapBtn=function(){var e=this;this.map=this.add.sprite(510,this.height-90,"map-icon"),this.mapNotificator=new f.default(this,{x:this.map.x+35,y:this.map.y-50}),this.mapNotificator.setCount(0),this.clickButton(this.map,(function(){e.mainScene.scrolling.downHandler(),e.mainScene.scrolling.enabled=!1,e.mainScene.scrolling.wheel=!1,e.scene.launch("Profile",e.state)}))},t.prototype.createShopBtn=function(){var e=this;this.shop=this.add.sprite(370,this.height-90,"shop"),this.shopNotificator=new f.default(this,{x:this.shop.x+35,y:this.shop.y-50}),this.shopNotificator.setCount(0),this.clickButton(this.shop,(function(){var t;e.openModal({type:2,shopType:(null===(t=e.state.modal)||void 0===t?void 0:t.shopType)||1})}))},t.prototype.createCollectorBtn=function(){var e=this,t="wool";"Chicken"==this.state.farm&&(t="egg"),"Cow"==this.state.farm&&(t="milk"),this.collectorBtn=this.add.sprite(230,this.height-90,t+"-collector"),this.collector=d.default.create(this,230,this.height-90,44),this.clickButton(this.collectorBtn,(function(){e.openModal({type:2,shopType:4})}))},t.prototype.createBalanceInfo=function(){var e=this,t=this.farmUser.part>=6?"green-balance-bg":"green-balance-bg-big",i=this.farmUser.part>=6?this.cameras.main.centerX+25:this.cameras.main.centerX-35;this.balanceBg=this.add.sprite(i,3,t).setOrigin(.5,0),this.click(this.balanceBg,(function(){(e.state.userSheep.tutorial>=100||"Sheep"!==e.state.farm)&&p.default.create(e,e.state.lang.remainderBalance,4)}));var s=this.balanceBg.getBounds(),n={fontSize:"26px",fontFamily:"Shadow",color:"#ffffff",shadow:{fill:!0,offsetX:3,offsetY:1,color:"rgba(0, 0, 0, 0.2)"}};this.grassBalance=this.add.sprite(s.left+10,s.centerY-25,"grass-balance").setOrigin(0,.5),this.waterBalance=this.add.sprite(s.left+10,s.centerY+30,"water-balance").setOrigin(0,.5);var a=this.grassBalance.getBounds(),r=this.waterBalance.getBounds();this.textGrass=this.add.text(s.centerX+20,a.centerY,"0%",n).setOrigin(.5),this.textWater=this.add.text(s.centerX+20,r.centerY,"0%",n).setOrigin(.5),this.textGrass.setDataEnabled(),this.textGrass.setData("pulseTimer",0),this.textWater.setDataEnabled(),this.textWater.setData("pulseTimer",0),this.farmUser.part>=6&&this.createBoostInfo()},t.prototype.destroyBalanceInfo=function(){var e,t,i,s,n;null===(e=this.balanceBg)||void 0===e||e.destroy(),null===(t=this.grassBalance)||void 0===t||t.destroy(),null===(i=this.waterBalance)||void 0===i||i.destroy(),null===(s=this.textGrass)||void 0===s||s.destroy(),null===(n=this.textWater)||void 0===n||n.destroy()},t.prototype.createBoostInfo=function(){var e=this,t=this.cameras.main.centerX,i=this.add.sprite(t-95,40,"plate-feed"),s=this.add.sprite(t-170,40,"feed-"+this.state.farm.toLowerCase()+"-balance");this.feedRound=new m.default(this,s.x,s.y,.7,9035325),this.feedRound.setPercent(0),this.feedBoostTimer=this.add.text(i.x,i.y,r.shortTime(0,this.state.lang),{fontFamily:"Shadow",fontSize:"20px",color:"#FEFBFC"}).setOrigin(.5),this.feedBoostTimer.setDataEnabled(),this.feedBoostTimer.setData("pulseTimer",0);var n=0;if(this.farmUser.feedBoostTime>0&&(n+=100),this.state.clan){var a=this.state.clan[this.state.farm.toLowerCase()];n+=a.level,a.cooldown>0&&(n-=1)}this.boostText=this.add.text(t-130,85,this.state.lang.bonus+":",{fontFamily:"Shadow",fontSize:"20px",color:"#FCD079"}).setOrigin(.5),this.boostCount=this.add.text(t-130,this.boostText.getBounds().bottom,"+"+n+"%",{fontFamily:"Shadow",fontSize:"24px",color:"#FCE2AC"}).setOrigin(.5,0),this.cloudSprite=this.add.sprite(this.boostCount.getBounds().right,this.boostCount.getBounds().centerY,"cloud-info").setOrigin(0,.5);var o=this.add.zone(t-125,35,150,70).setDropZone(void 0,(function(){return null})),c=this.add.zone(t-125,105,150,70).setDropZone(void 0,(function(){return null}));this.click(o,(function(){e.openModal({type:2,shopType:4})})),this.click(c,(function(){e.clickOnCloud()}))},t.prototype.updateFeedBoostTimer=function(){var e;if(this.farmUser.part>=6&&(null===(e=this.feedBoostTimer)||void 0===e?void 0:e.active)){var t=0;if(this.farmUser.feedBoostTime>0&&(t+=100),this.state.clan){var i=this.state.clan[this.state.farm.toLowerCase()];t+=i.level,i.cooldown>0&&(t-=1)}var s="+"+t+"%";s!==this.boostCount.text&&(this.boostCount.setText(s),this.cloudSprite.setX(this.boostCount.getBounds().right));var n=r.shortTime(this.farmUser.feedBoostTime,this.state.lang);if(n!==this.feedBoostTimer.text){this.feedBoostTimer.setText(n);var a=this.mainScene.feedBoostStack,o=Math.round(this.farmUser.feedBoostTime/(3600*a)*100);this.feedRound.setPercent(o)}}else this.farmUser.part>=6&&(this.destroyBalanceInfo(),this.createBalanceInfo())},t.prototype.updatePartProgress=function(){this.part.text!==String(r.shortNum(this.farmUser.part))&&this.part.setText(String(this.farmUser.part))},t.prototype.updatePulseFeedBoostTimer=function(){if(!(this.farmUser.part<6))if(this.farmUser.feedBoostTime<=0){var e=this.feedBoostTimer.getData("pulseTimer");e+=1,this.feedBoostTimer.setData("pulseTimer",e),100===e?this.feedBoostTimer.setColor("#82261c"):180===e&&(this.feedBoostTimer.setData("pulseTimer",0),this.feedBoostTimer.setColor("#FEFBFC"))}else this.farmUser.feedBoostTime>0&&"#FEFBFC"!==this.feedBoostTimer.style.color&&this.feedBoostTimer.setColor("#FEFBFC")},t.prototype.clickOnCloud=function(){var e=this.state.lang.turnOnFeedBoost;if(this.farmUser.feedBoostTime>0)e=this.state.lang.priceBonus+"\n+100% "+this.state.lang.feedBoostTitle,this.state.clan&&(e+="\n+"+(t=this.state.clan[this.state.farm.toLowerCase()].level)+"% "+this.state.lang.fromClanFarm);else if(this.state.clan){var t=this.state.clan[this.state.farm.toLowerCase()].level;e=this.state.lang.priceBonus+"\n+"+t+"% "+this.state.lang.fromClanFarm}p.default.create(this,e,5)},t.prototype.updateMoneyInfo=function(){if(this.userDiamonds<this.state.user.diamonds)if(0===this.countIncrease){var e=this.state.user.diamonds-this.userDiamonds;if(e>=3){this.countIncrease=3;var t=Math.round(e/3);this.stepsDiamonds.push(this.state.user.diamonds),this.stepsDiamonds.push(this.userDiamonds+t),this.stepsDiamonds.push(this.userDiamonds+t+t)}else 2===e?(this.countIncrease=2,this.stepsDiamonds.push(this.state.user.diamonds),this.stepsDiamonds.push(this.userDiamonds+1)):(this.countIncrease=1,this.stepsDiamonds.push(this.state.user.diamonds))}else this.countIncrease>0&&!this.increaseAnimation&&this.increaseDiamonds();else this.userDiamonds=this.state.user.diamonds;this.diamonds.text!==String(r.shortNum(this.userDiamonds))&&this.diamonds.setText(String(r.shortNum(this.userDiamonds))),this.money.text!==String(r.shortNum(this.farmUser.money))&&this.money.setText(r.shortNum(this.farmUser.money))},t.prototype.updateCleanUpBtn=function(){var e,t;(null===(e=this.cleanUpBtn)||void 0===e?void 0:e.active)&&(this.checkCleanUpBtn()||null===(t=this.cleanUpBtn)||void 0===t||t.destroy())},t.prototype.updateStarterpackIcon=function(){var e,t=g.default.checkStarterpack(this.state);this.starterpackIcon&&this.state.user.starterpack&&(null===(e=this.starterpackIcon)||void 0===e||e.destroy()),this.starterpackIcon&&this.starterpackIcon.visible&&!t?this.starterpackIcon.setVisible(!1):this.starterpackIcon&&!this.starterpackIcon.visible&&t&&this.starterpackIcon.setVisible(!0)},t.prototype.updateAnimalPrice=function(){var e=this.mainScene.maxBreedForBuy(),t=String(r.shortNum(this.mainScene.animalPrice(e).price)),i=String(r.shortNum(Math.round(this.mainScene.animalPrice(e).price)/2));this.animalPrice.setText(g.default.checkSale(this.state,this.state.farm.toUpperCase()+"_PRICE")?i:t);var s=this.animalPrice.getBounds();this.animalPriceBubble.destroy(),this.animalPriceBubble=this.add.graphics({x:s.left-15,y:s.top}),this.animalPriceBubble.fillStyle(16777215,1),this.animalPriceBubble.fillRoundedRect(0,0,s.width+30,s.height,8)},t.prototype.updateSale=function(){var e=g.default.checkSale(this.state,this.state.farm.toUpperCase()+"_PRICE")&&this.animalBuy.visible;this.saleBuyIcon.visible!==e&&(this.saleBuyIcon.setVisible(e),this.updateAnimalPrice())},t.prototype.setBuyAnimalStatus=function(){var e=this.mainScene.maxBreedForBuy(),t=this.mainScene.animalPrice(e).price;g.default.checkSale(this.state,this.state.farm.toUpperCase()+"_PRICE")&&(t=Math.round(t/2)),(t>this.farmUser.money||this.state.userSheep.tutorial<100&&"Sheep"===this.state.farm)&&16777215===this.animalBuy.tintBottomLeft?this.animalBuy.setTint(7829367):t<=this.farmUser.money&&7829367===this.animalBuy.tintBottomLeft&&(this.state.userSheep.tutorial>=100||"Sheep"!==this.state.farm)&&this.animalBuy.setTint(16777215)},t.prototype.openModal=function(e){this.state.modal=e,this.scene.launch("Modal",this.state)},t}(Phaser.Scene);t.default=y},function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}}},function(e,t,i){"use strict";var s=i(7);function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var a;if(i)a=i(t);else if(s.isURLSearchParams(t))a=t.toString();else{var r=[];s.forEach(t,(function(e,t){null!=e&&(s.isArray(e)?t+="[]":e=[e],s.forEach(e,(function(e){s.isDate(e)?e=e.toISOString():s.isObject(e)&&(e=JSON.stringify(e)),r.push(n(t)+"="+n(e))})))})),a=r.join("&")}if(a){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,i){"use strict";e.exports=function(e,t,i,s,n){return e.config=t,i&&(e.code=i),e.request=s,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,i){"use strict";var s=i(7),n=i(134),a=i(135),r=i(78),o=i(136),c=i(139),h=i(140),l=i(81);e.exports=function(e){return new Promise((function(t,i){var d=e.data,u=e.headers,p=e.responseType;s.isFormData(d)&&delete u["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.Authorization="Basic "+btoa(m+":"+g)}var y=o(e.baseURL,e.url);function v(){if(f){var s="getAllResponseHeaders"in f?c(f.getAllResponseHeaders()):null,a={data:p&&"text"!==p&&"json"!==p?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:s,config:e,request:f};n(t,i,a),f=null}}if(f.open(e.method.toUpperCase(),r(y,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(i(l("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){i(l("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},s.isStandardBrowserEnv()){var w=(e.withCredentials||h(y))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;w&&(u[e.xsrfHeaderName]=w)}"setRequestHeader"in f&&s.forEach(u,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete u[t]:f.setRequestHeader(t,e)})),s.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),p&&"json"!==p&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),i(e),f=null)})),d||(d=null),f.send(d)}))}},function(e,t,i){"use strict";var s=i(79);e.exports=function(e,t,i,n,a){var r=new Error(e);return s(r,t,i,n,a)}},function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,i){"use strict";var s=i(7);e.exports=function(e,t){t=t||{};var i={},n=["url","method","data"],a=["headers","auth","proxy","params"],r=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function c(e,t){return s.isPlainObject(e)&&s.isPlainObject(t)?s.merge(e,t):s.isPlainObject(t)?s.merge({},t):s.isArray(t)?t.slice():t}function h(n){s.isUndefined(t[n])?s.isUndefined(e[n])||(i[n]=c(void 0,e[n])):i[n]=c(e[n],t[n])}s.forEach(n,(function(e){s.isUndefined(t[e])||(i[e]=c(void 0,t[e]))})),s.forEach(a,h),s.forEach(r,(function(n){s.isUndefined(t[n])?s.isUndefined(e[n])||(i[n]=c(void 0,e[n])):i[n]=c(void 0,t[n])})),s.forEach(o,(function(s){s in t?i[s]=c(e[s],t[s]):s in e&&(i[s]=c(void 0,e[s]))}));var l=n.concat(a).concat(r).concat(o),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return s.forEach(d,h),i}},function(e,t,i){"use strict";function s(e){this.message=e}s.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,e.exports=s},function(e,t,i){e.exports=i.p+"dc066b19bd1dafa1b96af01d9d99a35a.png"},function(e,t,i){e.exports=i.p+"11a189e27e5e9061ef9aa3c88057ed54.png"},function(e,t,i){e.exports=i.p+"d21885746032713e765506efd590a33e.png"},function(e,t,i){e.exports=i.p+"57c3dfa646572fad29ef7edfe1fe5618.png"},function(e,t,i){e.exports=i.p+"ad2323a3a07178dec39444600767b3e1.jpg"},function(e,t,i){e.exports=i.p+"e4239722352e35d7bc99c615cc891081.png"},function(e,t,i){e.exports=i.p+"b9b40f7a595d520da2c385082f59c2c2.png"},function(e,t,i){e.exports=i.p+"e03cb88c08c0c9eabb5fff4a20bd1d9d.png"},function(e,t,i){e.exports=i.p+"88600bcdadc02891d3c63393d7a64966.png"},function(e,t,i){e.exports=i.p+"169e8f49caec09803ede14f9b57cc82b.png"},function(e,t,i){e.exports=i.p+"92a25875e0043de73f8b7c86f7176c89.png"},function(e,t,i){e.exports=i.p+"a7d2356487ce1e8acf5766bbcea251f5.png"},function(e,t,i){e.exports=i.p+"a27049a7d40c41ff7f5484179afe9b47.png"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.foreignMsgAtlas=t.clanMsgAtlas=t.adminMsgAtlas=t.userMsgAtlas=t.tabAtlas=t.tabActiveAtlas=t.squareBgAtlas=void 0;t.squareBgAtlas={frames:[{filename:"left-top",frame:{x:0,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100},pivot:{x:0,y:0}},{filename:"right-top",frame:{x:60,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100},pivot:{x:0,y:0}},{filename:"left-bottom",frame:{x:0,y:60,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100},pivot:{x:0,y:0}},{filename:"right-bottom",frame:{x:60,y:60,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100},pivot:{x:0,y:0}},{filename:"middle",frame:{x:40,y:40,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100},pivot:{x:0,y:0}},{filename:"left-side",frame:{x:0,y:40,w:40,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100},pivot:{x:0,y:0}},{filename:"top-side",frame:{x:40,y:0,w:20,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100},pivot:{x:0,y:0}},{filename:"right-side",frame:{x:60,y:40,w:40,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100},pivot:{x:0,y:0}},{filename:"bottom-side",frame:{x:40,y:60,w:20,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100},pivot:{x:0,y:0}}],meta:{app:"",version:"1.0",image:"square-bg.png",format:"RGBA8888",size:{w:100,h:100},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:5e8f90752cfd57d3adfb39bcd3eef1b6:87d98cec6fa616080f731b87726d6a1e:b55588eba103b49b35a0a59665ed84fd$"}};t.tabActiveAtlas={frames:[{filename:"left-top",frame:{x:0,y:0,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"right-top",frame:{x:100,y:0,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"left-bottom",frame:{x:0,y:60,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"right-bottom",frame:{x:100,y:60,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"middle",frame:{x:50,y:40,w:50,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"left-side",frame:{x:0,y:40,w:50,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"top-side",frame:{x:50,y:0,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"right-side",frame:{x:100,y:40,w:50,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"bottom-side",frame:{x:50,y:60,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}}],meta:{app:"",version:"1.0",image:"tab-active.png",format:"RGBA8888",size:{w:150,h:100},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:5e8f90752cfd57d3adfb39bcd3eef1b6:87d98cec6fa616080f731b87726d6a1e:b55588eba103b49b35a0a59665ed84fd$"}};t.tabAtlas={frames:[{filename:"left-top",frame:{x:0,y:0,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"right-top",frame:{x:100,y:0,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"left-bottom",frame:{x:0,y:60,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"right-bottom",frame:{x:100,y:60,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"middle",frame:{x:50,y:40,w:50,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"left-side",frame:{x:0,y:40,w:50,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"top-side",frame:{x:50,y:0,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"right-side",frame:{x:100,y:40,w:50,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}},{filename:"bottom-side",frame:{x:50,y:60,w:50,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:100},sourceSize:{w:150,h:100},pivot:{x:0,y:0}}],meta:{app:"",version:"1.0",image:"tab.png",format:"RGBA8888",size:{w:150,h:100},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:5e8f90752cfd57d3adfb39bcd3eef1b6:87d98cec6fa616080f731b87726d6a1e:b55588eba103b49b35a0a59665ed84fd$"}};t.userMsgAtlas={frames:[{filename:"left-top",frame:{x:0,y:0,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-top",frame:{x:360,y:0,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"left-bottom",frame:{x:0,y:80,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-bottom",frame:{x:360,y:80,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"middle",frame:{x:20,y:20,w:340,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"left-side",frame:{x:0,y:20,w:20,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"top-side",frame:{x:20,y:0,w:340,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-side",frame:{x:360,y:20,w:20,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"bottom-side",frame:{x:20,y:80,w:340,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}}],meta:{app:"",version:"1.0",image:"user-message-bg.png",format:"RGBA8888",size:{w:380,h:100},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:5e8f90752cfd57d3adfb39bcd3eef1b6:87d98cec6fa616080f731b87726d6a1e:b55588eba103b49b35a0a59665ed84fd$"}};t.adminMsgAtlas={frames:[{filename:"left-top",frame:{x:0,y:0,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-top",frame:{x:360,y:0,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"left-bottom",frame:{x:0,y:80,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-bottom",frame:{x:360,y:80,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"middle",frame:{x:20,y:20,w:340,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"left-side",frame:{x:0,y:20,w:20,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"top-side",frame:{x:20,y:0,w:340,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-side",frame:{x:360,y:20,w:20,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"bottom-side",frame:{x:20,y:80,w:340,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}}],meta:{app:"",version:"1.0",image:"admin-message-bg.png",format:"RGBA8888",size:{w:380,h:100},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:5e8f90752cfd57d3adfb39bcd3eef1b6:87d98cec6fa616080f731b87726d6a1e:b55588eba103b49b35a0a59665ed84fd$"}};t.clanMsgAtlas={frames:[{filename:"left-top",frame:{x:0,y:0,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-top",frame:{x:360,y:0,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"left-bottom",frame:{x:0,y:80,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-bottom",frame:{x:360,y:80,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"middle",frame:{x:20,y:20,w:340,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"left-side",frame:{x:0,y:20,w:20,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"top-side",frame:{x:20,y:0,w:340,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-side",frame:{x:360,y:20,w:20,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"bottom-side",frame:{x:20,y:80,w:340,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}}],meta:{app:"",version:"1.0",image:"clan-message-bg.png.png",format:"RGBA8888",size:{w:380,h:100},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:5e8f90752cfd57d3adfb39bcd3eef1b6:87d98cec6fa616080f731b87726d6a1e:b55588eba103b49b35a0a59665ed84fd$"}};t.foreignMsgAtlas={frames:[{filename:"left-top",frame:{x:0,y:0,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-top",frame:{x:360,y:0,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"left-bottom",frame:{x:0,y:80,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-bottom",frame:{x:360,y:80,w:20,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"middle",frame:{x:20,y:20,w:340,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"left-side",frame:{x:0,y:20,w:20,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"top-side",frame:{x:20,y:0,w:340,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"right-side",frame:{x:360,y:20,w:20,h:60},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}},{filename:"bottom-side",frame:{x:20,y:80,w:340,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:380,h:100},sourceSize:{w:380,h:100},pivot:{x:0,y:0}}],meta:{app:"",version:"1.0",image:"foreign-message-bg.png",format:"RGBA8888",size:{w:380,h:100},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:5e8f90752cfd57d3adfb39bcd3eef1b6:87d98cec6fa616080f731b87726d6a1e:b55588eba103b49b35a0a59665ed84fd$"}}},function(e,t){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,s=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,n=e.indexOf("["),a=e.indexOf("]");-1!=n&&-1!=a&&(e=e.substring(0,n)+e.substring(n,a).replace(/:/g,";")+e.substring(a,e.length));for(var r,o,c=i.exec(e||""),h={},l=14;l--;)h[s[l]]=c[l]||"";return-1!=n&&-1!=a&&(h.source=t,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h.pathNames=function(e,t){var i=t.replace(/\/{2,9}/g,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||i.splice(0,1);"/"==t.substr(t.length-1,1)&&i.splice(i.length-1,1);return i}(0,h.path),h.queryKey=(r=h.query,o={},r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,i){t&&(o[t]=i)})),o),h}},function(e,t,i){(function(t){e.exports=function(e){return i&&t.isBuffer(e)||s&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var i="function"==typeof t&&"function"==typeof t.isBuffer,s="function"==typeof ArrayBuffer}).call(this,i(39).Buffer)},function(e,t,i){var s=i(1705),n=i(107),a=i(25),r=i(59),o=i(108),c=i(109),h=i(42)("socket.io-client:manager"),l=i(106),d=i(1721),u=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var i=t.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)u.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)u.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(h("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=s(this.uri,this.opts);var i=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var a=o(i,"open",(function(){n.onopen(),e&&e()})),r=o(i,"error",(function(t){if(h("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var i=new Error("Connection error");i.data=t,e(i)}else n.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;h("connect attempt will timeout after %d",c),0===c&&a.destroy();var l=setTimeout((function(){h("connect attempt timed out after %d",c),a.destroy(),i.close(),i.emit("error","timeout"),n.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(a),this.subs.push(r),this},p.prototype.onopen=function(){h("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(o(e,"data",c(this,"ondata"))),this.subs.push(o(e,"ping",c(this,"onping"))),this.subs.push(o(e,"pong",c(this,"onpong"))),this.subs.push(o(e,"error",c(this,"onerror"))),this.subs.push(o(e,"close",c(this,"onclose"))),this.subs.push(o(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){h("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var i=this.nsps[e];if(!i){i=new n(this,e,t),this.nsps[e]=i;var s=this;i.on("connecting",a),i.on("connect",(function(){i.id=s.generateId(e)})),this.autoConnect&&a()}function a(){~l(s.connecting,i)||s.connecting.push(i)}return i},p.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){h("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(i){for(var s=0;s<i.length;s++)t.engine.write(i[s],e.options);t.encoding=!1,t.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){h("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){h("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){h("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();h("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var i=setTimeout((function(){e.skipReconnect||(h("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(h("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(h("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(i)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,i){var s=i(61),n=i(1708),a=i(1717),r=i(1718);t.polling=function(e){var t=!1,i=!1,r=!1!==e.jsonp;if("undefined"!=typeof location){var o="https:"===location.protocol,c=location.port;c||(c=o?443:80),t=e.hostname!==location.hostname||c!==e.port,i=e.secure!==o}if(e.xdomain=t,e.xscheme=i,"open"in new s(e)&&!e.forceJSONP)return new n(e);if(!r)throw new Error("JSONP disabled");return new a(e)},t.websocket=r},function(e,t,i){var s=i(63),n=i(43),a=i(26),r=i(44),o=i(105),c=i(45)("engine.io-client:polling");e.exports=l;var h=null!=new(i(61))({xdomain:!1}).responseType;function l(e){var t=e&&e.forceBase64;h&&!t||(this.supportsBinary=!1),s.call(this,e)}r(l,s),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function i(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var s=0;this.polling&&(c("we are currently polling - waiting to pause"),s++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--s||i()}))),this.writable||(c("we are currently writing - waiting to pause"),s++,this.once("drain",(function(){c("pre-pause writing complete"),--s||i()})))}else i()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(e){var t=this;c("polling got data %s",e);a.decodePayload(e,this.socket.binaryType,(function(e,i,s){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},l.prototype.write=function(e){var t=this;this.writable=!1;var i=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,i)}))},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(e[this.timestampParam]=o()),this.supportsBinary||e.sid||(e.b64=1),e=n.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(i=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+e}},function(e,t,i){(function(t){var s=i(60),n=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===n.call(Blob),r="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===n.call(File);e.exports=function e(i){if(!i||"object"!=typeof i)return!1;if(s(i)){for(var n=0,o=i.length;n<o;n++)if(e(i[n]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(i)||"function"==typeof ArrayBuffer&&i instanceof ArrayBuffer||a&&i instanceof Blob||r&&i instanceof File)return!0;if(i.toJSON&&"function"==typeof i.toJSON&&1===arguments.length)return e(i.toJSON(),!0);for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)&&e(i[c]))return!0;return!1}}).call(this,i(39).Buffer)},function(e,t,i){"use strict";var s,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a={},r=0,o=0;function c(e){var t="";do{t=n[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function h(){var e=c(+new Date);return e!==s?(r=0,s=e):e+"."+c(r++)}for(;o<64;o++)a[n[o]]=o;h.encode=c,h.decode=function(e){var t=0;for(o=0;o<e.length;o++)t=64*t+a[e.charAt(o)];return t},e.exports=h},function(e,t){var i=[].indexOf;e.exports=function(e,t){if(i)return e.indexOf(t);for(var s=0;s<e.length;++s)if(e[s]===t)return s;return-1}},function(e,t,i){var s=i(59),n=i(25),a=i(1720),r=i(108),o=i(109),c=i(42)("socket.io-client:socket"),h=i(43),l=i(104);e.exports=p;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},u=n.prototype.emit;function p(e,t,i){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},i&&i.query&&(this.query=i.query),this.io.autoConnect&&this.open()}n(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[r(e,"open",o(this,"onopen")),r(e,"packet",o(this,"onpacket")),r(e,"close",o(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},p.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(d.hasOwnProperty(e))return u.apply(this,arguments),this;var t=a(arguments),i={type:(void 0!==this.flags.binary?this.flags.binary:l(t))?s.BINARY_EVENT:s.EVENT,data:t,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?h.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:s.CONNECT,query:e})}else this.packet({type:s.CONNECT})},p.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){var t=e.nsp===this.nsp,i=e.type===s.ERROR&&"/"===e.nsp;if(t||i)switch(e.type){case s.CONNECT:this.onconnect();break;case s.EVENT:case s.BINARY_EVENT:this.onevent(e);break;case s.ACK:case s.BINARY_ACK:this.onack(e);break;case s.DISCONNECT:this.ondisconnect();break;case s.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?u.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,i=!1;return function(){if(!i){i=!0;var n=a(arguments);c("sending ack %j",n),t.packet({type:l(n)?s.BINARY_ACK:s.ACK,id:e,data:n})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)u.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:s.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t,i){return e.on(t,i),{destroy:function(){e.removeListener(t,i)}}}},function(e,t){var i=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var s=i.call(arguments,2);return function(){return t.apply(e,s.concat(i.call(arguments)))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0);t.default=function(){var e,t=this;"Sheep"===this.state.farm?e=this.sheep:"Chicken"===this.state.farm?e=this.chicken:"Cow"===this.state.farm&&(e=this.animalGroup),this.physics.add.overlap(e,this.territories,(function(e,i){if(2!==i.territoryType&&3!==i.territoryType&&!e.drag&&!e.aim){var n=Math.ceil(e.width/2)+1,a=Math.ceil(e.height/2)+1,r=t.currentTerritory(e.x,e.y);if(void 0===r)t.teleportation(e);else if(2===r.territoryType||3===r.territoryType){var o=(r.position-1)*t.height+n,c=r.position*t.height-n,h=(r.block-1)*t.height+a+t.topIndent,l=r.block*t.height-a+t.topIndent,d=s.random(o,c),u=s.random(h,l);"Cow"===t.state.farm?e.setAim(d,u):t.aim(e,d,u)}}}),null,this),this.physics.add.overlap(e,e,(function(e,i){e.drag||i.drag||0!==e.collision||!e.moving||e.aim||4!==t.currentTerritory(e.x,e.y).type&&("Cow"===t.state.farm?e.setReverse():t.reverse(e))}),null,this)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeDiamondSheep=t.checkSheepBalance=t.maxBreedForBuy=t.sheepPrice=t.balance=void 0;var s=i(0),n=i(3),a=i(1);function r(){for(var e,t,i,s,n=0,a=0,r=0,o=0,c=0,h=0,l=!1,d=!1,u=!1,p=function(e){if(0!==e.type){var t=f.settings.sheepSettings.find((function(t){return t.breed===e.type}));a+=t.eating,n+=t.drinking}},f=this,m=0,g=null===(t=null===(e=this.sheep)||void 0===e?void 0:e.children)||void 0===t?void 0:t.entries;m<g.length;m++){p(g[m])}for(var y=0,v=null===(s=null===(i=this.territories)||void 0===i?void 0:i.children)||void 0===s?void 0:s.entries;y<v.length;y++){var w=v[y],b=this.settings.partSettings;if(2===w.territoryType||3===w.territoryType){var x=b[w.improve-1].territory.regeneration;2===w.territoryType?o+=x:r+=x}}return c=r>0?Math.round((r-n)/(r/100)):-100,h=o>0?Math.round((o-a)/(o/100)):-100,(o<a||r<n)&&(o<a&&(d=!0,h=a/2>o?100:Math.round((a-o)/(o/100))),r<n&&(u=!0,c=n/2>r?100:Math.round((n-r)/(r/100))),l=!0),c>100&&(c=100),c<0&&(c=0),h>100&&(h=100),h<0&&(h=0),{alarm:l,waterPercent:c,grassPercent:h,grassConsumption:a,waterConsumption:n,grassRecovery:o,waterRecovery:r,notEnoughGrass:d,notEnoughWater:u}}function o(e){var t,i=this.sheep,s=this.settings,n=this.territories,a=0,r=0,o=0,c=0,h=null==i?void 0:i.getChildren().map((function(e){return Number(e.type)}));h.push(e);for(var l=function(e){if(0!==e){var t=null==s?void 0:s.sheepSettings.find((function(t){return t.breed===e}));r+=t.eating,a+=t.drinking}},d=0,u=h;d<u.length;d++){l(u[d])}for(var p in null===(t=null==n?void 0:n.children)||void 0===t?void 0:t.entries){var f=n.children.entries[p];if(2===f.territoryType||3===f.territoryType){var m=s.partSettings[f.improve-1].territory.regeneration;2===f.territoryType?c+=m:o+=m}}return{pasture:r<=c,water:a<=o}}t.balance=function(){var e,t,i,s;if(a.default.checkTestB(this.state))return r.bind(this)();var n=0,o=0,c=0,h=0,l=0,d=0,u=!1,p=!1,f=!1,m=function(e){var i,s=null===(t=g.sheep)||void 0===t?void 0:t.children.entries[e];i=0===s.type?1:s.type;var a=g.settings.sheepSettings.find((function(e){return e.breed===i}));o+=a.eating,n+=a.drinking},g=this;for(var y in null===(e=this.sheep)||void 0===e?void 0:e.children.entries)m(y);o=Math.round(o/2),n=Math.round(n/2);var v=function(e){var t=null===(s=w.territories)||void 0===s?void 0:s.children.entries[e];if(2===t.territoryType||3===t.territoryType){var i=w.settings.territoriesSheepSettings.find((function(e){return e.improve===t.improve})).regeneration;2===t.territoryType?h+=i:c+=i}},w=this;for(var y in null===(i=this.territories)||void 0===i?void 0:i.children.entries)v(y);return l=c>0?Math.round((c-n)/(c/100)):-100,d=h>0?Math.round((h-o)/(h/100)):-100,(h<o||c<n)&&(h<o&&(p=!0,d=o/2>h?100:Math.round((o-h)/(h/100))),c<n&&(f=!0,l=n/2>c?100:Math.round((n-c)/(c/100))),u=!0),l>100&&(l=100),l<0&&(l=0),d>100&&(d=100),d<0&&(d=0),{alarm:u,waterPercent:l,grassPercent:d,grassConsumption:o,waterConsumption:n,grassRecovery:h,waterRecovery:c,notEnoughGrass:p,notEnoughWater:f}},t.checkSheepBalance=function(e){var t,i=this.state,s=this.sheep,n=this.settings,r=this.territories;if(a.default.checkTestB(i))return o.bind(this)(e);var c=0,h=0,l=0,d=0,u=null==s?void 0:s.getChildren().map((function(e){return Number(e.type)}));u.push(e);for(var p=function(e){var t=0===e?1:e,i=n.sheepSettings.find((function(e){return e.breed===t}));h+=i.eating,c+=i.drinking},f=0,m=u;f<m.length;f++){p(m[f])}h=Math.round(h/2),c=Math.round(c/2);var g=function(e){var t=r.children.entries[e];if(2===t.territoryType||3===t.territoryType){var i=n.territoriesSheepSettings.find((function(e){return e.improve===t.improve})).regeneration;2===t.territoryType?d+=i:l+=i}};for(var y in null===(t=null==r?void 0:r.children)||void 0===t?void 0:t.entries)g(y);return{pasture:h<=d,water:c<=l}},t.sheepPrice=function(e){for(var t=Math.pow(2,e-1),i=this.state.userSheep.countSheep,s=0,n=0;n<t;n++){var r=this.state.sheepSettings.sheepPrice;0!==i&&1!==i&&(r*=i),s+=r,a.default.checkTestB(this.state)||i++}return{price:s,countSheep:i}},t.maxBreedForBuy=function(){var e=this,t=1;return this.state.sheepSettings.sheepSettings.map((function(i){return i.breed<=e.state.userSheep.fair-e.state.sheepSettings.buyBetterBreedSheep&&(t=i.breed),!0})),t},t.takeDiamondSheep=function(){if(this.state.userSheep.part>=3&&this.state.user.additionalTutorial.cave)if(0===this.state.userSheep.diamondAnimalTime){this.state.amplitude.logAmplitudeEvent("take_diamond_animal",{}),this.tryTask(18,0),this.tryClanTask(8),this.state.userSheep.diamondAnimalTime=this.state.sheepSettings.sheepDiamondsTime;var e=Phaser.Math.Between(530,660),t=Phaser.Math.Between(530,540);if(this.sheep.children.entries.length<=50){var i="local_"+s.randomString(18);this.getSheep(i,0,e,t,0,500)}else{var a=this.sheep.children.entries.find((function(e){return 0===e.type}));if(a)a.diamond=0,a.x=e,a.y=t;else{i="local_"+s.randomString(18);this.getSheep(i,0,e,t,0,500)}}}else if(this.state.readyAd&&this.state.userSheep.diamondAnimalAd){this.state.modal={type:1,sysType:9},this.scene.launch("Modal",this.state)}else n.default.create(this,this.state.lang.sheepCaveMessage,2)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this.scene=e,this.x=this.scene.cameras.main.centerX,this._y=t,this.width=660,this.depth=-1,this.create()}return Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this.setY(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"middle",{get:function(){return this.mid},enumerable:!1,configurable:!0}),e.prototype.create=function(){this.bot=this.scene.add.sprite(this.x,this._y,"task-bar-bot").setOrigin(.5,1);var e=this.bot.getBounds();this.mid=this.scene.add.sprite(this.x,e.top,"task-bar-mid").setDisplaySize(this.width,this.height-30).setOrigin(.5,1),this.top=this.scene.add.sprite(this.x,this.mid.getBounds().top,"task-bar-top").setOrigin(.5,1)},e.prototype.setDisplaySize=function(e,t){return this.height=t,this.width=e,this.mid.setDisplaySize(this.width,this.height-30),this.top.setY(this.mid.getBounds().top),this},e.prototype.setVisible=function(e){return this.visible=e,this.top.setVisible(this.visible),this.mid.setVisible(this.visible),this.bot.setVisible(this.visible),this},e.prototype.setDepth=function(e){return this.depth=e,this.top.setDepth(this.depth),this.mid.setDepth(this.depth),this.bot.setDepth(this.depth),this},e.prototype.setY=function(e){return this._y=e,this.bot.setY(this._y),this.mid.setY(this.bot.getBounds().top),this.top.setY(this.mid.getBounds().top),this},e.prototype.setAlpha=function(e){return this.alpha=e,this.bot.setAlpha(this.alpha),this.mid.setAlpha(this.alpha),this.top.setAlpha(this.alpha),this},e.prototype.setInteractive=function(){return this.mid.setInteractive(),this},e.prototype.removeAllListeners=function(){return this.mid.removeAllListeners(),this},e.prototype.getTopRight=function(){return this.top.getTopRight()},e.prototype.getTopCenter=function(){return this.top.getTopCenter()},e}();t.default=s},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=i(30),o=function(e){function t(t,i,s,n){var r=e.call(this,t,230,t.height-43,a.shortTime(t.state["user"+t.state.farm].collector,t.state.lang),{fontSize:"28px",fontFamily:"Bip",color:"#925C28",align:"center"})||this;return r.pulseTimer=0,r.progressX=i,r.progressY=s,r.radius=n,r.startAngle=-1.66,r.endAngle=-1.66,r.color=9035325,r.weight=10,r.init(),r}return n(t,e),t.create=function(e,i,s,n){return void 0===i&&(i=400),void 0===s&&(s=300),void 0===n&&(n=40),new t(e,i,s,n)},t.prototype.init=function(){this.scene.add.existing(this),this.setDepth(this.scene.height),this.setOrigin(.5,.5),"Unicorn"===this.scene.state.farm&&(this.weight=15,this.color=7668374),this.percent=.063,this.progress=new r.default(this.scene,this.progressX,this.progressY,1.25,this.color).setDepth(0);var e=this.getBounds();this.bubble=this.scene.add.graphics({x:e.left-15,y:e.top}),this.bubble.fillStyle(16777215,1),this.bubble.strokeRoundedRect(0,0,e.width+30,e.height,8),this.bubble.fillRoundedRect(0,0,e.width+30,e.height,8),this.farmData=this.scene.state["user"+this.scene.state.farm]},t.prototype.preUpdate=function(){if(this.time!==this.farmData.collector){this.time=this.farmData.collector;var e=0;this.farmData.collector>0&&this.farmData.collectorTakenTime>0&&(e=this.farmData.collector/(this.farmData.collectorTakenTime/100)),this.progress.setPercent(e);var t=a.shortTime(this.farmData.collector,this.scene.state.lang);if(this.setText(t),this.setColor("#925C28"),this.bubble.visible){this.bubble.destroy();var i=this.getBounds();this.bubble=this.scene.add.graphics({x:i.left-15,y:i.top}),this.bubble.fillStyle(16777215,1),this.bubble.fillRoundedRect(0,0,i.width+30,i.height,8)}}this.setPulseAnimation()},t.prototype.setPulseAnimation=function(){var e;(0===this.scene.state["user"+this.scene.state.farm].collector&&"Sheep"!==this.scene.state.farm&&"Unicorn"!==this.scene.state.farm||0===this.scene.state["user"+this.scene.state.farm].collector&&this.scene.state["user"+this.scene.state.farm].tutorial>=100&&"Sheep"===this.scene.state.farm||(null===(e=this.scene.state.userUnicorn)||void 0===e?void 0:e.tutorial)>70&&"Unicorn"===this.scene.state.farm&&0===this.scene.state["user"+this.scene.state.farm].collector)&&(this.pulseTimer++,20===this.pulseTimer?this.setPulseColor(!1):40===this.pulseTimer&&(this.pulseTimer=0,this.setPulseColor(!0)))},t.prototype.setPulseColor=function(e){var t,i;e?(t="#FFFFFF",i=13041664):(t="#C70000",i=16777215),this.setColor(t);var s=this.getBounds();this.bubble.clear(),this.bubble.fillStyle(i,1),this.bubble.fillRoundedRect(0,0,s.width+30,s.height,8)},t}(Phaser.GameObjects.Text);t.default=o},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(19),r=function(e){function t(t){var i=e.call(this,t,650,t.height-90,"sandwich")||this;return i.isOpened=!1,i.showTimer=0,i.init(),i}return n(t,e),t.create=function(e){return new t(e)},t.prototype.init=function(){this.buildElements(),this.setListeners()},t.prototype.preUpdate=function(){this.setVisibility(),this.tickShowTimerAndSetState();var e=this.getMessagesCount();this.chatNotificator.countMessage!==e&&this.chatNotificator.setCount(this.getMessagesCount())},t.prototype.buildElements=function(){this.scene.add.existing(this),this.setDepth(this.y+3),this.profileIcon=this.scene.add.sprite(this.x,this.y,"profile").setScale(.8).setDepth(this.y+2),this.chatIcon=this.scene.add.sprite(this.x,this.y,"chat").setScale(.8).setDepth(this.y+2),this.chatNotificator=new a.default(this.scene,{x:this.x+35,y:this.y-50}).setVisible(!1).setDepth(this.y+3),this.chatNotificator.setCount(this.getMessagesCount()),this.authIcon=this.scene.add.sprite(this.x,this.y,"profile").setVisible(!1).setDepth(this.y+2),this.offlineIcon=this.scene.add.sprite(this.x,this.y,"offline").setInteractive().setDepth(this.y+4).setVisible(!1),this.debugIcon=this.scene.add.sprite(this.x,this.y,"debug").setInteractive().setDepth(this.y+1).setScale(.8).setVisible(Boolean({PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.DEBUG)&&"Unicorn"!==this.scene.state.farm)},t.prototype.setListeners=function(){var e=this;this.scene.clickButton(this.authIcon,(function(){if("web"===e.scene.state.platform||"gd"===e.scene.state.platform){e.scene.state.modal={type:1,sysType:15},e.scene.scene.launch("Modal",e.scene.state)}else"ya"===e.scene.state.platform&&e.scene.game.scene.keys[e.scene.state.farm].yandexAuth()})),this.scene.clickButton(this.profileIcon,(function(){e.scene.state.foreignProfileId=void 0;e.scene.state.modal={type:15},e.scene.scene.launch("Modal",e.scene.state)})),this.scene.clickButton(this.chatIcon,(function(){e.scene.state.modal={type:9,chatType:1},e.scene.scene.launch("Modal",e.scene.state)})),this.scene.clickButton(this,(function(){e.removeAmimation(),e.profileAnim||e.chatAnim||(e.isOpened=!e.isOpened,e.showTimer=0,e.isOpened?(e.showElements(),e.setTexture("sandwich-close")):(e.hideElements(),e.setTexture("sandwich")))})),this.scene.clickButton(this.debugIcon,(function(){e.scene.state.modal={type:27},e.scene.scene.launch("Modal",e.scene.state)}))},t.prototype.removeAmimation=function(){var e,t,i,s;null===(e=this.profileAnim)||void 0===e||e.remove(),this.profileAnim=void 0,null===(t=this.chatAnim)||void 0===t||t.remove(),this.chatAnim=void 0,null===(i=this.chatNotificatorAnim)||void 0===i||i.remove(),this.chatNotificatorAnim=void 0,null===(s=this.debugAnim)||void 0===s||s.remove(),this.debugAnim=void 0},t.prototype.setVisibility=function(){var e,t;"web"!==this.scene.state.platform&&"gd"!==this.scene.state.platform||""!==this.scene.state.user.login||this.authIcon.visible?"web"!==this.scene.state.platform&&"gd"!==this.scene.state.platform||""===this.scene.state.user.login||!this.authIcon.visible||(this.authIcon.setVisible(!1),this.setVisible(!0),this.profileIcon.setVisible(!0),this.chatIcon.setVisible(!0),this.debugIcon.setVisible(Boolean({PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.DEBUG)&&"Unicorn"!==this.scene.state.farm),this.chatNotificator.setCount(this.getMessagesCount())):(this.authIcon.setVisible(!0),this.setVisible(!1),this.profileIcon.setVisible(!1),this.chatIcon.setVisible(!1),this.chatNotificator.setVisible(!1),this.debugIcon.setVisible(!1)),"ya"!==this.scene.state.platform||this.scene.state.yaPlayer||this.authIcon.visible?"ya"===this.scene.state.platform&&this.scene.state.yaPlayer&&this.authIcon.visible&&(this.authIcon.setVisible(!1),this.setVisible(!0),this.profileIcon.setVisible(!0),this.chatIcon.setVisible(!0),this.debugIcon.setVisible(Boolean({PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.DEBUG)&&"Unicorn"!==this.scene.state.farm),this.chatNotificator.setCount(this.getMessagesCount())):(this.authIcon.setVisible(!0),this.setVisible(!1),this.profileIcon.setVisible(!1),this.chatIcon.setVisible(!1),this.chatNotificator.setVisible(!1),this.debugIcon.setVisible(!1)),this.scene.state.online||this.offlineIcon.visible||(this.offlineIcon.setVisible(!0),this.hideElements()),"Sheep"===this.scene.state.farm&&this.scene.state.userSheep.tutorial<100?(this.authIcon.setVisible(!1),this.setVisible(!1),this.chatIcon.setVisible(!1),this.chatNotificator.setVisible(!1),this.profileIcon.setVisible(!1),this.debugIcon.setVisible(!1)):"Sheep"===this.scene.state.farm&&this.scene.state.userSheep.tutorial>=100&&("web"===this.scene.state.platform||"gd"===this.scene.state.platform||"ya"===this.scene.state.platform)&&!this.visible?this.authIcon.setVisible(!0):"Sheep"===this.scene.state.farm&&this.scene.state.userSheep.tutorial>=100&&"web"!==this.scene.state.platform&&"gd"!==this.scene.state.platform&&"ya"!==this.scene.state.platform&&(this.authIcon.setVisible(!1),this.setVisible(!0),this.chatIcon.setVisible(!0),this.chatNotificator.setCount(this.getMessagesCount()),this.profileIcon.setVisible(!0),this.debugIcon.setVisible(Boolean({PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.DEBUG))),"Unicorn"===this.scene.state.farm&&(null===(e=this.scene.state.userUnicorn)||void 0===e?void 0:e.tutorial)<80&&this.visible?(this.setVisible(!1),this.chatIcon.setVisible(!1),this.chatNotificator.setVisible(!1),this.profileIcon.setVisible(!1),this.debugIcon.setVisible(!1)):"Unicorn"===this.scene.state.farm&&(null===(t=this.scene.state.userUnicorn)||void 0===t?void 0:t.tutorial)>=80&&!this.visible&&(this.setVisible(!0),this.profileIcon.setVisible(!0),this.chatIcon.setVisible(!0),this.chatNotificator.setCount(this.getMessagesCount()),this.debugIcon.setVisible(Boolean({PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.DEBUG)&&"Unicorn"!==this.scene.state.farm))},t.prototype.tickShowTimerAndSetState=function(){this.isOpened&&(this.showTimer++,this.showTimer>=250&&!this.profileAnim&&!this.chatAnim&&(this.hideElements(),this.isOpened=!1,this.showTimer=0,this.setTexture("sandwich")))},t.prototype.showElements=function(){var e=this;this.profileAnim=this.scene.add.tween({targets:this.profileIcon,duration:350,y:{from:this.y,to:this.y-250},ease:"Power1",scale:1}),this.chatAnim=this.scene.add.tween({targets:this.chatIcon,y:{from:this.y,to:this.y-125},duration:350,ease:"Power1",scale:1}),this.debugAnim=this.scene.add.tween({targets:this.debugIcon,y:{from:this.y,to:this.y-375},duration:350,ease:"Power1",scale:1});var t=this.chatNotificator.children;this.chatNotificatorAnim=this.scene.add.tween({targets:t,y:{from:this.y-50,to:this.y-175},duration:350,ease:"Power1",onComplete:function(){e.removeAmimation()}})},t.prototype.hideElements=function(){var e=this;this.profileAnim=this.scene.add.tween({targets:this.profileIcon,duration:350,y:{from:this.profileIcon.y,to:this.y},ease:"Power1",scale:.8}),this.chatAnim=this.scene.add.tween({targets:this.chatIcon,y:{from:this.chatIcon.y,to:this.y},duration:350,ease:"Power1",scale:.8,onComplete:function(){e.removeAmimation()}}),this.debugAnim=this.scene.add.tween({targets:this.debugIcon,y:{from:this.debugIcon.y,to:this.y},duration:350,ease:"Power1",scale:.8}),this.chatNotificatorAnim=this.scene.add.tween({targets:this.chatNotificator.children,y:{from:this.chatNotificator.y,to:this.y-50},duration:350,ease:"Power1"})},t.prototype.getMessagesCount=function(){for(var e=0,t=0,i=this.scene.state.user.personalMessages;t<i.length;t++)for(var s=0,n=i[t].messages;s<n.length;s++){if(!n[s].check){e+=1;break}}for(var a=0,r=this.scene.state.user.messages;a<r.length;a++){r[a].check||(e+=1)}return e+=this.scene.state.clanChatNotificationCount},t}(Phaser.GameObjects.Sprite);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeDiamondChicken=t.maxBreedForBuy=t.chickenPrice=t.balance=void 0;var s=i(0),n=i(3),a=i(1);function r(){var e,t,i,s,n,a,r,o,c=0,h=0,l=0,d=0,u=0,p=0,f=!1,m=!1,g=!1,y=function(e){var t=null===(s=null===(i=v.chicken)||void 0===i?void 0:i.children)||void 0===s?void 0:s.entries[e];if(0!==t.type){var n=v.settings.chickenSettings.find((function(e){return e.breed===t.type}));h+=n.eating,c+=n.drinking}},v=this;for(var w in null===(t=null===(e=this.chicken)||void 0===e?void 0:e.children)||void 0===t?void 0:t.entries)y(w);for(var w in null===(a=null===(n=this.territories)||void 0===n?void 0:n.children)||void 0===a?void 0:a.entries){var b=null===(o=null===(r=this.territories)||void 0===r?void 0:r.children)||void 0===o?void 0:o.entries[w];if(2===b.territoryType||3===b.territoryType){var x=this.settings.partSettings[b.improve-1].territory.regeneration;2===b.territoryType?d+=x:l+=x}}return u=l>0?Math.round((l-c)/(l/100)):-100,p=d>0?Math.round((d-h)/(d/100)):-100,(d<h||l<c)&&(d<h&&(m=!0,p=h/2>d?100:Math.round((h-d)/(d/100))),l<c&&(g=!0,u=c/2>l?100:Math.round((c-l)/(l/100))),f=!0),u>100&&(u=100),u<0&&(u=0),p>100&&(p=100),p<0&&(p=0),{alarm:f,waterPercent:u,grassPercent:p,grassConsumption:h,waterConsumption:c,grassRecovery:d,waterRecovery:l,notEnoughGrass:m,notEnoughWater:g}}t.balance=function(){var e,t,i,s;if(a.default.checkTestB(this.state))return r.bind(this)();var n=0,o=0,c=0,h=0,l=0,d=0,u=!1,p=!1,f=!1,m=function(e){var i,s=null===(t=g.chicken)||void 0===t?void 0:t.children.entries[e];i=0===s.type?1:s.type;var a=g.settings.chickenSettings.find((function(e){return e.breed===i}));o+=a.eating,n+=a.drinking},g=this;for(var y in null===(e=this.chicken)||void 0===e?void 0:e.children.entries)m(y);o=Math.round(o/2),n=Math.round(n/2);var v=function(e){var t=null===(s=w.territories)||void 0===s?void 0:s.children.entries[e];if(2===t.territoryType||3===t.territoryType){var i=w.settings.territoriesChickenSettings.find((function(e){return e.improve===t.improve})).regeneration;2===t.territoryType?h+=i:c+=i}},w=this;for(var y in null===(i=this.territories)||void 0===i?void 0:i.children.entries)v(y);return l=c>0?Math.round((c-n)/(c/100)):-100,d=h>0?Math.round((h-o)/(h/100)):-100,(h<o||c<n)&&(h<o&&(p=!0,d=o/2>h?100:Math.round((o-h)/(h/100))),c<n&&(f=!0,l=n/2>c?100:Math.round((n-c)/(c/100))),u=!0),l>100&&(l=100),l<0&&(l=0),d>100&&(d=100),d<0&&(d=0),{alarm:u,waterPercent:l,grassPercent:d,grassConsumption:o,waterConsumption:n,grassRecovery:h,waterRecovery:c,notEnoughGrass:p,notEnoughWater:f}},t.chickenPrice=function(e){for(var t=Math.pow(2,e-1),i=this.state.userChicken.countChicken,s=0,n=0;n<t;n++){var r=this.state.chickenSettings.chickenPrice;0!==i&&1!==i&&(r*=i),s+=r,a.default.checkTestB(this.state)||i++}return{price:s,countChicken:i}},t.maxBreedForBuy=function(){var e=this,t=1;return this.state.chickenSettings.chickenSettings.map((function(i){return i.breed<=e.state.userChicken.fair-e.state.chickenSettings.buyBetterBreedChicken&&(t=i.breed),!0})),t},t.takeDiamondChicken=function(){if(this.state.userChicken.part>=3)if(0===this.state.userChicken.diamondAnimalTime){this.state.amplitude.logAmplitudeEvent("take_diamond_animal",{price:"hard"}),this.tryTask(18,0),this.tryClanTask(8),this.state.userChicken.diamondAnimalTime=this.state.chickenSettings.chickenDiamondsTime;var e=Phaser.Math.Between(530,660),t=Phaser.Math.Between(530,540);if(this.chicken.children.entries.length<=50){var i="local_"+s.randomString(18);this.getChicken(i,0,e,t,0,500)}else{var a=this.chicken.children.entries.find((function(e){return 0===e.type}));if(a)a.diamond=0,a.x=e,a.y=t;else{i="local_"+s.randomString(18);this.getChicken(i,0,e,t,0,500)}}}else if(this.state.readyAd&&this.state.userChicken.diamondAnimalAd){this.state.modal={type:1,sysType:9},this.scene.launch("Modal",this.state)}else n.default.create(this,this.state.lang.chickenCaveMessage,2)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCollector=void 0,t.updateCollector=function(e){if(this.collectorCD<=0){if(this.collectorIsReady=!0,this.state.userChicken.collector>0)for(var t in this.eggs.children.entries){var i=this.eggs.children.entries[t];if(i.timeout>2&&0!==i.animalType){this.collectEgg(i),this.collectorIsReady=!1;var s=this.state.chickenSettings.partSettings[this.state.userChicken.collectorLevel-1].collector.speed;this.collectorCD=Math.round(1e3/s);break}}}else this.collectorIsReady||(this.collectorCD-=e)},t.default=function(){var e=this,t={delay:1e3/this.state.chickenCollectorSettings.find((function(t){return t.level===e.state.userChicken.collectorLevel})).speed,callback:function(){if(e.state.userChicken.collector>0)for(var t in e.eggs.children.entries){var i=e.eggs.children.entries[t];if(i.timeout>2&&0!==i.animalType){e.collectEgg(i);break}}},callbackScope:this,loop:!0};this.collectorTimer?this.collectorTimer.reset(t):this.collectorTimer=this.time.addEvent(t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showConfirmSellMilk=t.showFactoryBoost=t.showImproveFactory=t.collisions=t.buildBorders=t.takeDiamondCow=t.maxBreedForBuy=t.cowPrice=t.balance=void 0;var s=i(0),n=i(3),a=i(6),r=i(1);function o(){var e,t,i,s,n,a,r,o,c=0,h=0,l=0,d=0,u=0,p=0,f=!1,m=!1,g=!1;for(var y in null===(t=null===(e=this.animalGroup)||void 0===e?void 0:e.children)||void 0===t?void 0:t.entries){var v=null===(s=null===(i=this.animalGroup)||void 0===i?void 0:i.children)||void 0===s?void 0:s.entries[y];0!==v.breed&&(h+=v.settings.eating,c+=v.settings.drinking)}for(var y in null===(a=null===(n=this.territories)||void 0===n?void 0:n.children)||void 0===a?void 0:a.entries){var w=null===(o=null===(r=this.territories)||void 0===r?void 0:r.children)||void 0===o?void 0:o.entries[y];if(2===w.territoryType||3===w.territoryType){var b=this.settings.partSettings[w.improve-1].territory.regeneration;2===w.territoryType?d+=b:l+=b}}return u=l>0?Math.round((l-c)/(l/100)):-100,p=d>0?Math.round((d-h)/(d/100)):-100,(d<h||l<c)&&(d<h&&(m=!0,p=h/2>d?100:Math.round((h-d)/(d/100))),l<c&&(g=!0,u=c/2>l?100:Math.round((c-l)/(l/100))),f=!0),u>100&&(u=100),u<0&&(u=0),p>100&&(p=100),p<0&&(p=0),{alarm:f,waterPercent:u,grassPercent:p,grassConsumption:h,waterConsumption:c,grassRecovery:d,waterRecovery:l,notEnoughGrass:m,notEnoughWater:g}}t.balance=function(){var e,t,i,s;if(r.default.checkTestB(this.state))return o.bind(this)();var n=0,a=0,c=0,h=0,l=0,d=0,u=!1,p=!1,f=!1;for(var m in null===(e=this.animalGroup)||void 0===e?void 0:e.children.entries){var g=null===(t=this.animalGroup)||void 0===t?void 0:t.children.entries[m];a+=g.settings.eating,n+=g.settings.drinking}a=Math.round(a/2),n=Math.round(n/2);var y=function(e){var t=null===(s=v.territories)||void 0===s?void 0:s.children.entries[e];if(2===t.territoryType||3===t.territoryType){var i=v.settings.territoriesCowSettings.find((function(e){return e.improve===t.improve})).regeneration;2===t.territoryType?h+=i:c+=i}},v=this;for(var m in null===(i=this.territories)||void 0===i?void 0:i.children.entries)y(m);return l=c>0?Math.round((c-n)/(c/100)):-100,d=h>0?Math.round((h-a)/(h/100)):-100,(h<a||c<n)&&(h<a&&(p=!0,d=a/2>h?100:Math.round((a-h)/(h/100))),c<n&&(f=!0,l=n/2>c?100:Math.round((n-c)/(c/100))),u=!0),l>100&&(l=100),l<0&&(l=0),d>100&&(d=100),d<0&&(d=0),{alarm:u,waterPercent:l,grassPercent:d,grassConsumption:a,waterConsumption:n,grassRecovery:h,waterRecovery:c,notEnoughGrass:p,notEnoughWater:f}},t.cowPrice=function(e){for(var t=Math.pow(2,e-1),i=this.state.userCow.countCow,s=0,n=0;n<t;n++){var a=this.state.cowSettings.cowPrice;0!==i&&1!==i&&(a*=i),s+=a,r.default.checkTestB(this.state)||i++}return{price:s,countCow:i}},t.maxBreedForBuy=function(){var e=this,t=1;return this.state.cowSettings.cowSettings.map((function(i){return i.breed<=e.state.userCow.fair-e.state.cowSettings.buyBetterBreedCow&&(t=i.breed),!0})),t},t.takeDiamondCow=function(){if(this.state.userCow.part>=3)if(0===this.state.userCow.diamondAnimalTime){this.state.amplitude.logAmplitudeEvent("take_diamond_animal",{price:"hard"}),this.tryTask(18,0),this.tryClanTask(8),this.state.userCow.diamondAnimalTime=this.state.cowSettings.cowDiamondsTime;var e=Phaser.Math.Between(530,660),t=Phaser.Math.Between(530,540);if(this.animalGroup.children.entries.length<=50){var i="local_"+s.randomString(18);this.animalGroup.generate({x:e,y:t},0,i,0,0),a.default.create(this,{x:e,y:t},1)}else{var r=this.animalGroup.children.entries.find((function(e){return 0===e.type}));if(r)r.diamond=0,r.x=e,r.y=t;else{i="local_"+s.randomString(18);a.default.create(this,{x:e,y:t},1),this.animalGroup.generate({x:e,y:t},0,i,0,500,0,7,!0)}}}else if(this.state.readyAd&&this.state.userCow.diamondAnimalAd){this.state.modal={type:1,sysType:9},this.scene.launch("Modal",this.state)}else n.default.create(this,this.state.lang.cowCaveMessage,2)},t.buildBorders=function(){var e=function(e){var i=t.territories.children.entries[e];7===i.territoryType&&(i.borderTop.setVisible(!0),i.borderLeft.setVisible(!0),0===(n=t.territories.children.entries.find((function(e){return 2===e.block&&1===e.position}))).territoryType?i.borderBottom.setVisible(!0):i.borderBottom.setVisible(!1));if(6===i.territoryType&&i.borderTop.setVisible(!0),1===i.territoryType||2===i.territoryType||3===i.territoryType||5===i.territoryType||8===i.territoryType)if(1===i.position&&i.borderLeft.setVisible(!0),3===i.position&&i.borderRight.setVisible(!0),8!==i.block){var s=t.territories.children.entries.find((function(e){return e.block===i.block-1&&e.position===i.position})),n=t.territories.children.entries.find((function(e){return e.block===i.block+1&&e.position===i.position}));if(void 0!==s&&0===s.territoryType?i.borderTop.setVisible(!0):i.borderTop.setVisible(!1),1===n.territoryType||2===n.territoryType||3===n.territoryType||5===n.territoryType||8===n.territoryType?i.borderBottom.setVisible(!1):i.borderBottom.setVisible(!0),1===i.position)0===t.territories.children.entries.find((function(e){return e.block===i.block&&2===e.position})).territoryType?i.borderRight.setVisible(!0):i.borderRight.setVisible(!1);if(2===i.position){var a=t.territories.children.entries.find((function(e){return e.block===i.block&&1===e.position})),r=t.territories.children.entries.find((function(e){return e.block===i.block&&3===e.position}));0===a.territoryType?i.borderLeft.setVisible(!0):i.borderLeft.setVisible(!1),0===r.territoryType?i.borderRight.setVisible(!0):i.borderRight.setVisible(!1)}if(3===i.position)0===t.territories.children.entries.find((function(e){return e.block===i.block&&2===e.position})).territoryType?i.borderLeft.setVisible(!0):i.borderLeft.setVisible(!1)}else i.borderBottom.setVisible(!0)},t=this;for(var i in this.territories.children.entries)e(i)},t.collisions=function(){var e=this;this.physics.add.overlap(this.animalGroup,this.territories,(function(t,i){if(2!==i.territoryType&&3!==i.territoryType&&!t.drag&&!t.aim){var s=Math.ceil(t.width/2)+1,n=Math.ceil(t.height/2)+1,a=e.currentTerritory(t.x,t.y);if(void 0===a)t.teleportation();else if(2===a.territoryType||3===a.territoryType){var r=(a.position-1)*e.height+s,o=a.position*e.height-s,c=(a.block-1)*e.height+n+e.topIndent,h=a.block*e.height-n+e.topIndent,l=Phaser.Math.Between(r,o),d=Phaser.Math.Between(c,h);t.setAim(l,d)}}}),null,this),this.physics.add.overlap(this.animalGroup,this.animalGroup,(function(t,i){t.drag||i.drag||0!==t.collision||!t.moving||t.aim||4!==e.currentTerritory(t.x,t.y).territoryType&&t.setReverse()}),null,this)},t.showImproveFactory=function(){this.state.modal={type:1,sysType:16},this.scene.launch("Modal",this.state)},t.showFactoryBoost=function(){this.state.modal={type:1,sysType:17},this.scene.launch("Modal",this.state)},t.showConfirmSellMilk=function(){this.state.modal={type:1,sysType:18},this.scene.launch("Modal",this.state)}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(0),o=i(30),c=function(e){function t(t,i,s,n){var a=e.call(this,n,t,i,"")||this;return a.clanTask=!1,a.scene=n,a.taskInfo=s,a.scene.add.existing(a),a.init(),a.create(),a}return n(t,e),t.prototype.init=function(){var e=this;this.barHeight=140,this.clanTask="boolean"==typeof this.taskInfo.task.done,this.clanTask&&(this.barHeight=150);var t=this.scene.game.scene.keys.Sheep.moneyTasks.find((function(t){return t.id===e.taskInfo.task.id}));"Sheep"===this.scene.state.farm&&t&&!this.clanTask?(this.valutaTexture="sheepCoin",this.award=""):(this.valutaTexture="diamond",this.award=String(this.taskInfo.task.diamonds)),this.taskInProgressTextStyle={fontFamily:"Bip",fontSize:"24px",color:"#e08400",align:"center",wordWrap:{width:330}},this.taskCompliteAwardNonTakenTextColor="#759534",this.taskCompliteAwardTakenTextColor="#759534",this.currentProgress=this.taskInfo.task.progress,this.done=Number(this.taskInfo.task.done),this.setOrigin(.5,0).setDepth(2)},t.prototype.create=function(){this.icon=this.scene.add.sprite(this.x-170,this.y+60,this.taskInfo.taskData.icon).setDepth(3).setScale(.9),this.text=this.scene.add.text(this.x,this.y,this.taskInfo.taskData.name,this.taskInProgressTextStyle).setDepth(3).setOrigin(.5),this.text.height>30&&!this.clanTask&&(this.barHeight+=(this.text.height-30)/2),this.bar=this.scene.add.sprite(this.x,this.y,"tasks-bar").setOrigin(0,1).setDepth(3),this.barText=this.scene.add.text(this.x,this.y,"",{font:"24px Shadow",color:"#FFFFFF"}).setOrigin(0,.5).setDepth(4),this.valuta=this.scene.add.sprite(this.x,this.y,this.valutaTexture).setOrigin(0,.5).setDepth(3).setScale(.14),this.valutaSum=this.scene.add.text(this.x,this.y,this.award,{font:"34px Bip",color:"#FFFFFF"}).setDepth(3).setOrigin(0,.5).setShadow(2,2,"rgba(0, 0, 0, 0.5)",5),this.checkIcon=this.scene.add.sprite(this.icon.x,this.icon.y,"completed").setDepth(4);var e=14===this.taskInfo.task.type&&0===this.taskInfo.task.count?this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"][this.scene.state.farm.toLowerCase()+"Settings"].length:this.taskInfo.task.count,t=this.taskInfo.task.progress;this.clanTask&&18===this.taskInfo.task.type&&(e=Math.round(e/60),t=Math.round(this.taskInfo.task.progress/60)),this.progressText=this.scene.add.text(this.icon.x,this.icon.getBottomCenter().y+26,r.shortNum(t)+"/"+r.shortNum(e),{font:"26px Shadow",color:"#b65e00"}).setDepth(3).setOrigin(.5).setShadow(1,1,"rgba(0, 0, 0, 0.5)",2),this.progressText.width>120&&this.progressText.setOrigin(0,.5).setX(this.icon.getLeftCenter().x-18).setFontSize(24),this.progress=new o.default(this.scene,this.icon.x,this.icon.y,1.2).setPercent(Math.round(100/e*t)).setTint(7354783),this.ringInner=this.scene.add.sprite(this.progress.rightSegment.x,this.progress.rightSegment.y,"circle-outline").setScale(.95).setTint(12620357).setDepth(this.progress.rightSegment.depth+1),this.ringOuter=this.scene.add.sprite(this.progress.rightSegment.x,this.progress.rightSegment.y,"circle-outline").setScale(1.2).setTint(12620357).setDepth(this.progress.rightSegment.depth+1),Boolean(this.taskInfo.task.done)&&Boolean(this.taskInfo.task.got_awarded)?this.taskComplete():Boolean(this.taskInfo.task.done)&&!Boolean(this.taskInfo.task.got_awarded)?this.taskCompleteAwardNonTaken():this.taskInProgress()},t.prototype.taskInProgress=function(){var e=this;this.setTexture("tasks-uncomplete").setDisplaySize(460,this.barHeight),this.clanTask||this.scene.click(this,(function(){e.scene.scene.stop("Modal"),e.scene.clickTaskBoard(e.taskInfo.task)})),this.text.setPosition(this.getCenter().x+60,this.getCenter().y-26),this.bar.setPosition(this.x-30,this.y+this.getBounds().height-1),this.barText.setPosition(this.bar.getLeftCenter().x+30,this.bar.getLeftCenter().y).setText(this.scene.state.lang.taskReward),this.valuta.setPosition(this.barText.getRightCenter().x+(this.award?6:24),this.barText.getRightCenter().y),this.valutaSum.setPosition(this.valuta.getRightCenter().x+4,this.valuta.getRightCenter().y),this.checkIcon.setVisible(!1)},t.prototype.taskCompleteAwardNonTaken=function(){var e,t=this;this.setTexture("tasks-reward").setDisplaySize(460,this.barHeight),this.text.setPosition(this.getCenter().x+60,this.getCenter().y-26).setColor(this.taskCompliteAwardNonTakenTextColor),this.checkIcon.setVisible(!0),this.bar.setPosition(this.x-30,this.y+this.getBounds().height-1),this.takeButton=this.takeButton||this.scene.add.sprite(this.bar.getLeftCenter().x+18,this.bar.getLeftCenter().y+3,"little-button").setOrigin(0,.5).setDepth(3).setDisplaySize(134,48),this.barText.setPosition(this.takeButton.getCenter().x,this.takeButton.getCenter().y-4).setFontSize(22).setText(this.scene.state.lang.pickUp).setOrigin(.5),this.valuta.setPosition(this.barText.getRightCenter().x+(this.award?18:24),this.barText.getRightCenter().y),this.valutaSum.setPosition(this.valuta.getRightCenter().x+4,this.valuta.getRightCenter().y),this.hideProgress(),this.clanTask||null===(e=this.scene.taskWindow)||void 0===e||e.updateProgress(),this.scene.clickShopBtn({btn:this.takeButton,title:this.barText,img:!1},(function(){t.pickUpTaskReward()})),this.textArtifactsFix()},t.prototype.pickUpTaskReward=function(){this.clanTask?this.takeClanAward():("diamond"===this.valutaTexture?this.scene.game.scene.keys[this.scene.state.farm+"Bars"].getCurrency({x:this.takeButton.x,y:this.takeButton.y},this.taskInfo.task.diamonds,"diamond"):this.scene.game.scene.keys[this.scene.state.farm+"Bars"].plusMoneyAnimation({x:this.takeButton.x,y:this.takeButton.y}),this.scene.game.scene.keys[this.scene.state.farm].pickUpTaskReward(this.taskInfo.task.id)),this.taskComplete()},t.prototype.takeClanAward=function(){var e=this,t=this.scene.state.user.clanTasks.find((function(t){return t.type===e.taskInfo.task.type}));t&&t.done&&!t.got_awarded&&this.postClanPoints(t.diamonds).then((function(i){e.scene.state.clan=i.data.clan,e.scene.state.user.diamonds+=t.diamonds,e.scene.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"clan_task",count:t.diamonds}),e.scene.game.scene.keys[e.scene.state.farm].autosave(),t.got_awarded=!0,e.taskInfo.task.got_awarded=!0,e.pickUpAnim()}))},t.prototype.postClanPoints=function(e){void 0===e&&(e=1);var t={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,points:e};return a.default.post("https://ferma.games:4000/addClanPoints",t)},t.prototype.pickUpAnim=function(){var e=this.scene.add.sprite(this.takeButton.x+this.takeButton.width/2,this.takeButton.y,"diamond").setScale(.15).setDepth(10);this.scene.tweens.add({targets:e,props:{rotation:{duration:400,yoyo:!1,ease:"Power2",value:2*Math.PI},scale:{value:.2,ease:"Power1",duration:150,yoyo:!0}},onComplete:function(){e.destroy()}})},t.prototype.taskComplete=function(){var e,t,i,s,n,a;this.setTexture("tasks-reward").setDisplaySize(460,this.barHeight),this.icon.setY(this.getCenter().y).setTint(12632256).setAlpha(.9),this.checkIcon.setY(this.icon.y).setVisible(!0).setTint(12632256).setAlpha(.9),this.text.setPosition(this.getCenter().x+60,this.getCenter().y).setColor(this.taskCompliteAwardTakenTextColor),null===(e=this.bar)||void 0===e||e.setVisible(!1),null===(t=this.takeButton)||void 0===t||t.destroy(),null===(i=this.barText)||void 0===i||i.destroy(),null===(s=this.valuta)||void 0===s||s.setVisible(!1),null===(n=this.valutaSum)||void 0===n||n.setVisible(!1),this.hideProgress(),this.clanTask||null===(a=this.scene.taskWindow)||void 0===a||a.updateProgress(),this.textArtifactsFix()},t.prototype.hideProgress=function(){this.progressText.setVisible(!1),this.progress.destroy(),this.ringInner.setVisible(!1),this.ringOuter.setVisible(!1)},t.prototype.setProgress=function(){var e,t,i;this.currentProgress=this.taskInfo.task.progress;var s=14===this.taskInfo.task.type&&0===this.taskInfo.task.count?this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"][this.scene.state.farm.toLowerCase()+"Settings"].length:this.taskInfo.task.count,n=this.taskInfo.task.progress;this.clanTask&&18===this.taskInfo.task.type&&(s=Math.round(s/60),n=Math.round(this.taskInfo.task.progress/60)),null===(e=this.progressText)||void 0===e||e.setText(r.shortNum(n)+"/"+r.shortNum(s)),(null===(t=this.progressText)||void 0===t?void 0:t.width)>120&&this.progressText.setOrigin(0,.5).setX(this.icon.getLeftCenter().x-18).setFontSize(24),null===(i=this.progress)||void 0===i||i.setPercent(Math.round(100/s*n)),(Boolean(this.taskInfo.task.done)||100===Math.round(100/s*n))&&this.taskCompleteAwardNonTaken()},t.prototype.setDone=function(){this.done=Number(this.taskInfo.task.done),Boolean(this.taskInfo.task.done)&&!Boolean(this.taskInfo.task.got_awarded)?this.taskCompleteAwardNonTaken():Boolean(this.taskInfo.task.done)&&Boolean(this.taskInfo.task.got_awarded)&&this.taskComplete()},t.prototype.textArtifactsFix=function(){var e;null===(e=this.scene)||void 0===e||e.add.text(0,0,"").destroy()},t.prototype.preUpdate=function(){this.currentProgress!==this.taskInfo.task.progress&&this.setProgress(),Boolean(this.done)!==Boolean(this.taskInfo.task.done)&&this.setDone(),this.taskInfo.task.done&&this.taskInfo.task.got_awarded&&this.takeButton&&this.takeButton.destroy()},t}(Phaser.GameObjects.Sprite);t.default=c},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(37),r={fontSize:"28px",fontFamily:"Shadow",color:"#FFFFFF"},o={fontSize:"20px",fontFamily:"Shadow",color:"#eeeeee"},c=function(e){function t(t,i,s,n){var a=e.call(this,t,i,s)||this;return a.createChildren(n),s&&a.setClickListener(),a}return n(t,e),t.prototype.createChildren=function(e){this.mainSprite=this.scene.add.sprite(this.position.x,this.position.y,"shop-btn"),this.mainSprite.setInteractive();var t=e.img?this.position.x+=20:this.position.x;if(this.text1=this.scene.add.text(t,this.position.y-5,e.text1,r).setOrigin(.5),e.img){if(this.img=this.scene.add.sprite(this.text1.getBounds().left-25,this.position.y-5,e.img.texture).setScale(e.img.scale),this.add(this.img),e.text2){this.text2=this.scene.add.text(0,this.position.y-5,e.text2,r).setOrigin(0,.5).setFontSize(25),this.img.setScale(e.img.scale-.15*e.img.scale),this.text1.setStyle(o);var i=(this.text1.displayWidth+this.text2.displayWidth+this.img.displayWidth+10)/2;this.img.setX(this.position.x-i),this.text1.setOrigin(0,.5).setX(this.img.getBounds().right+3),this.text2.setX(this.text1.getBounds().right+3),this.tile=this.scene.add.tileSprite(this.text1.x+this.text1.displayWidth/2,this.text1.y,this.text1.displayWidth,4,"text-sale").setAngle(5).setOrigin(.5),this.add(this.text2),this.add(this.tile)}}else if(e.text2){this.text2=this.scene.add.text(0,this.position.y-5,e.text2,r).setOrigin(0,.5).setFontSize(25),this.text1.setStyle(o);i=(this.text1.displayWidth+this.text2.displayWidth+10)/2;this.text1.setOrigin(0,.5).setX(this.position.x-i),this.text2.setX(this.text1.getBounds().right+3),this.tile=this.scene.add.tileSprite(this.text1.x+this.text1.displayWidth/2,this.text1.y,this.text1.displayWidth,4,"text-sale").setAngle(5).setOrigin(.5),this.add(this.text2),this.add(this.tile)}this.add(this.text1)},t.prototype.setText=function(e,t){var i;if(this.text1.setText(e),t){this.text2?this.text2.setText(t).setFontSize(25):(this.text2=this.scene.add.text(0,this.position.y-5,t,r).setOrigin(0,.5).setFontSize(25),this.img.setScale(this.img.scale-.15*this.img.scale),this.tile=this.scene.add.tileSprite(this.text1.x+this.text1.displayWidth/2,this.text1.y,this.text1.displayWidth,4,"text-sale").setAngle(5).setOrigin(.5)),this.text1.setStyle(o);var s=(this.text1.displayWidth+this.text2.displayWidth+this.img.displayWidth+10)/2;this.img.setX(this.position.x-s),this.text1.setOrigin(0,.5).setX(this.img.getBounds().right+3),this.text2.setX(this.text1.getBounds().right+3)}else null===(i=this.img)||void 0===i||i.setX(this.text1.getBounds().left-25)},t.prototype.setFontFamily=function(e){var t,i;null===(t=this.text1)||void 0===t||t.setFontFamily(e),null===(i=this.text2)||void 0===i||i.setFontFamily(e)},t}(a.default);t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragEventAnimal=t.updateTeleportation=t.teleportation=t.flyAnimal=void 0,t.flyAnimal=function(){var e=this;this.time.addEvent({delay:30,callback:function(){e.animals.children.entries.forEach((function(e){var t=e.data.values.active;if(t.data.values.working){var i=t.height/t.data.values.cloud.height;t.data.values.topPosition?(t.originY-=.0065,t.data.values.cloud.originY-=.0065*i,t.setOrigin(.5,t.originY),t.data.values.cloud.setOrigin(.5,t.data.values.cloud.originY),t.originY<=.45&&(t.data.values.topPosition=!1)):(t.originY+=.0065,t.data.values.cloud.originY+=.0065*i,t.setOrigin(.5,t.originY),t.data.values.cloud.setOrigin(.5,t.data.values.cloud.originY),t.originY>=.55&&(t.data.values.topPosition=!0))}}))},loop:!0})},t.updateTeleportation=function(){var e=this;this.animals.children.entries.forEach((function(t){if(t.data.values.active.data.values.teleport)if(e.input.setDraggable(t,!1),t.data.values.active.data.values.goWork){t.data.values.active.setDepth(t.data.values.active.y);var i=t.data.values.active.data.values.target;(s=Phaser.Math.Distance.Between(t.data.values.active.x,t.data.values.active.y,i.x,i.y))>t.data.values.active.data.values.distance&&t.data.values.active.data.values.distance>0||s<40?(t.data.values.active.data.values.distance=0,e.input.setDraggable(t,!0),t.data.values.active.data.values.working=!0,t.data.values.active.data.values.goWork=!1,t.data.values.active.body.reset(i.x,i.y),t.data.values.active.setOrigin(.5,.5),t.data.values.active.data.values.teleport=!1,t.setDepth(t.y),t.data.values.active.setDepth(2*t.y)):t.data.values.active.data.values.distance=s}else{t.data.values.active.setDepth(t.data.values.active.y);i=t.data.values.target;(s=Phaser.Math.Distance.Between(t.data.values.active.x,t.data.values.active.y,i.x,i.y))>t.data.values.active.data.values.distance&&t.data.values.active.data.values.distance>0||s<40?(t.data.values.active.data.values.distance=0,e.input.setDraggable(t,!0),t.data.values.active.body.reset(i.x,i.y),t.data.values.active.setOrigin(.5,.5),t.data.values.active.data.values.teleport=!1,t.setDepth(t.y),t.data.values.active.setDepth(2*t.y)):t.data.values.active.data.values.distance=s}if(t.data.values.teleport){t.setDepth(t.y);var s;i=t.data.values.target;(s=Phaser.Math.Distance.Between(t.x,t.y,i.x,i.y))>t.data.values.distance&&t.data.values.distance>0||s<40?(t.data.values.distance=0,e.input.setDraggable(t,!0),t.body.reset(i.x,i.y),t.setDepth(t.y),t.data.values.teleport=!1,e.checkMerging(t)):t.data.values.distance=s}}))},t.teleportation=function(e,t,i){var s,n;if(void 0===i&&(i=!1),!1===(null===(n=null===(s=e.data)||void 0===s?void 0:s.values)||void 0===n?void 0:n.drag))if(t){if("active"===e.state){(r=new Phaser.Math.Vector2).x=e.data.values.base.data.values.oldX,r.y=e.data.values.base.data.values.oldY;a=4*Phaser.Math.Distance.Between(t.x,t.y,r.x,r.y);t.data.values.teleport=!0,t.setDepth(r.y+100),"active"===t.state?(t.data.values.base.data.values.target=r,e.data.values.base.x=e.x,e.data.values.base.y=e.y,e.data.values.base.data.values.oldX=e.data.values.base.x,e.data.values.base.data.values.oldY=e.data.values.base.y,t.data.values.base.data.values.oldX=r.x,t.data.values.base.data.values.oldY=r.y,this.physics.moveToObject(t,r,a),this.physics.moveToObject(t.data.values.base,r,a),t.data.values.base.data.values.teleport=!0):"base"===t.state&&(t.data.values.target=r,this.physics.moveToObject(t,r,a),e.data.values.oldX=e.data.values.base.x,e.data.values.oldY=e.data.values.base.y,t.data.values.oldX=r.x,t.data.values.oldY=r.y)}else if("base"===e.state){(r=new Phaser.Math.Vector2).x=e.data.values.oldX,r.y=e.data.values.oldY,t.setDepth(r.y+100),t.data.values.oldX=r.x,t.data.values.oldY=r.y,e.data.values.oldX=e.x,e.data.values.oldY=e.y;a=4*Phaser.Math.Distance.Between(t.x,t.y,r.x,r.y);this.physics.moveToObject(t,r,a),t.data.values.teleport=!0,"active"===t.state?(t.data.values.base.data.values.target=r,t.data.values.base.data.values.teleport=!0,this.physics.moveToObject(t.data.values.base,r,a)):"base"===t.state&&(t.data.values.target=r)}this.checkMerging(e)}else if(i){if("active"===e.state){(r=new Phaser.Math.Vector2).x=e.data.values.base.x,r.y=e.data.values.base.y,e.data.values.base.data.values.target=r,e.data.values.teleport=!0,e.data.values.drag=!1,e.data.values.aim=!1,e.setVelocity(0),e.data.values.aimX=0,e.data.values.aimY=0,e.data.values.working=!1,e.setDepth(r.y+100),e.data.values.cloud.setVisible(!1);var a=4*Phaser.Math.Distance.Between(e.x,e.y,r.x,r.y);this.physics.moveToObject(e,r,a)}else if("base"===e.state){var r;(r=new Phaser.Math.Vector2).x=e.data.values.oldX,r.y=e.data.values.oldY,e.data.values.target=r,e.data.values.teleport=!0;var a=4*Phaser.Math.Distance.Between(e.x,e.y,r.x,r.y);this.physics.moveToObject(e,r,a)}}else"active"===e.state?(e.data.values.base.x=e.x,e.data.values.base.y=e.y,e.data.values.base.data.values.oldX=e.data.values.base.x,e.data.values.base.data.values.oldY=e.data.values.base.y,e.setDepth(e.y+1),e.data.values.base.setDepth(e.y)):"base"===e.state&&(e.data.values.oldX=e.x,e.data.values.oldY=e.y,e.setDepth(e.y))},t.dragEventAnimal=function(e){var t,i,s,n,a,r,o,c,h,l,d=this;if(void 0===e&&(e=!1),this.showMergPointer)if(40===this.state.userUnicorn.tutorial)if(this.mergPointer.start){(u=Phaser.Math.Distance.Between(this.mergPointer.x,this.mergPointer.y,this.mergPointer.target.x,this.mergPointer.target.y))<=10&&!this.mergPointer.stop&&(this.mergPointer.stop=!0,this.mergPointer.data.values.animal.body.reset(this.mergPointer.target.x,this.mergPointer.target.y),this.mergPointer.body.reset(this.mergPointer.target.x,this.mergPointer.target.y),this.mergPointer.first=!this.mergPointer.first,this.time.addEvent({delay:300,callback:function(){var e,t;d.mergPointer.setVisible(!1),null===(t=null===(e=d.mergPointer)||void 0===e?void 0:e.data)||void 0===t||t.values.animal.setVisible(!1)},callbackScope:this,loop:!1}),this.time.addEvent({delay:1e3,callback:function(){d.showMergPointer=!0,d.mergPointer.start=!1},callbackScope:this,loop:!1}))}else{var u=285,p=new Phaser.Math.Vector2;this.mergPointer.stop=!1,this.mergPointer.setVisible(!0),this.mergPointer.data.values.animal.setVisible(!0);var f=this.game.scene.keys.Unicorn.animals.getChildren()[0],m=this.game.scene.keys.Unicorn.animals.getChildren()[1];p.x=m.x,p.y=m.y,this.mergPointer.x=f.x,this.mergPointer.y=f.y,this.mergPointer.data.values.animal.setX(this.mergPointer.x),this.mergPointer.data.values.animal.setY(this.mergPointer.y),u=300,this.mergPointer.target=p,this.mergPointer.scene&&(this.physics.moveToObject(this.mergPointer,p,u),this.physics.moveToObject(this.mergPointer.data.values.animal,p,u),this.mergPointer.start=!0,this.mergPointer.setDepth(this.mergPointer.y+10001),this.mergPointer.data.values.animal.setDepth(this.mergPointer.y+1e4))}else if(50===this.state.userUnicorn.tutorial)if(this.mergPointer.start){(u=Phaser.Math.Distance.Between(this.mergPointer.x,this.mergPointer.y,this.mergPointer.target.x,this.mergPointer.target.y))<=10&&!this.mergPointer.stop&&(this.mergPointer.stop=!0,this.mergPointer.data.values.animal.body.reset(this.mergPointer.x,this.mergPointer.y),this.mergPointer.body.reset(this.mergPointer.x,this.mergPointer.y),this.mergPointer.first=!this.mergPointer.first,this.time.addEvent({delay:300,callback:function(){var e,t,i;d.mergPointer.setVisible(!1),null===(i=null===(t=null===(e=d.mergPointer)||void 0===e?void 0:e.data)||void 0===t?void 0:t.values.animal)||void 0===i||i.setVisible(!1)},callbackScope:this,loop:!1}),this.time.addEvent({delay:1e3,callback:function(){d.showMergPointer=!0,d.mergPointer.start=!1},callbackScope:this,loop:!1}))}else{p=new Phaser.Math.Vector2;var u=285;this.mergPointer.stop=!1,null===(t=this.mergPointer)||void 0===t||t.setVisible(!0),null===(n=null===(s=null===(i=this.mergPointer)||void 0===i?void 0:i.data)||void 0===s?void 0:s.values.animal)||void 0===n||n.setVisible(!0),p.x=360,p.y=360;var g=this.game.scene.keys.Unicorn.animals.getChildren()[0];this.mergPointer.setX(g.x),this.mergPointer.setY(g.y),null===(o=null===(r=null===(a=this.mergPointer)||void 0===a?void 0:a.data)||void 0===r?void 0:r.values.animal)||void 0===o||o.setX(this.mergPointer.x),null===(l=null===(h=null===(c=this.mergPointer)||void 0===c?void 0:c.data)||void 0===h?void 0:h.values.animal)||void 0===l||l.setY(this.mergPointer.y),u=300,this.mergPointer.target=p,this.mergPointer.scene&&(this.physics.moveToObject(this.mergPointer,p,u),this.physics.moveToObject(this.mergPointer.data.values.animal,p,u),this.mergPointer.start=!0,this.mergPointer.setDepth(this.mergPointer.y+10001),this.mergPointer.data.values.animal.setDepth(this.mergPointer.y+1e4))}}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(13),r=function(e){function t(t,i){var s=e.call(this,t,i.x,i.y,"clan-flagpole")||this;return s.scene=t,s.init(),s.create(),s}return n(t,e),t.prototype.init=function(){this.avatar=this.scene.state.clan.avatar,this.flagPosition={x:this.x+24,y:this.y-10}},t.prototype.create=function(){this.scene.add.existing(this),this.flag=a.default.createFlag(this.scene,this.flagPosition.x,this.flagPosition.y,this.avatar).setScale(.17)},t.prototype.preUpdate=function(){this.scene.state.clan&&JSON.stringify(this.avatar)!==JSON.stringify(this.scene.state.clan.avatar)&&this.updateFlag()},t.prototype.updateFlag=function(){var e;this.scene.state.clan&&(this.avatar=null===(e=this.scene.state.clan)||void 0===e?void 0:e.avatar,this.flag.destroy(),this.flag=a.default.createFlag(this.scene,this.flagPosition.x,this.flagPosition.y,this.avatar).setScale(.17))},t.prototype.setDepth=function(t){var i;return e.prototype.setDepth.call(this,t),null===(i=this.flag)||void 0===i||i.setDepth(t-1),this},t}(Phaser.GameObjects.Sprite);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(123),i(124);var s=i(125),n=i(126),a=i(1695),r=i(1696),o=i(1728),c=i(1743),h=i(1746),l=i(1748),d=i(1757),u=i(1758),p=i(1760),f=i(1774),m=i(1775),g=i(1863),y=i(1873),v=i(1874),w=i(1880),b=i(1881),x=i(1882),k=i(1883),T=i(1891),_=i(1892),S=i(1893),C=i(1894),P=i(1900),B=function(e,t){for(;e&&t;)e>t?e%=t:t%=e;return e+=t};window.onload=function(){setTimeout((function(){var e=0,t=0,i=document.querySelector("#root"),A=Math.round(document.body.clientHeight),E=Math.round(document.body.clientWidth),M=Math.round(720*A/E);M>1700?M=1700:M<1200&&(M=1200);var O=720/B(M,720),I=M/B(M,720);A/I>E/O?(e=E,t=E/O*I):(e=A/I*O,t=A),i.style.height=t+"px",i.style.width=e+"px";var R={type:s.WEBGL,width:720,height:M,parent:"root",physics:{default:"arcade",arcade:{debug:!1}},render:{transparent:!0},scene:[n.default,a.default,r.default,o.default,c.default,h.default,l.default,d.default,u.default,p.default,f.default,x.default,k.default,b.default,S.default,P.default,T.default,m.default,_.default,g.default,y.default,C.default,v.default,w.default],loader:{maxParallelDownloads:128}},D=new s.Game(R);window.addEventListener("resize",(function(){D.scale.resize(720,M)}),!1);var N=document.querySelector("body"),F=function(e){return e.preventDefault()};N.addEventListener("mouseover",(function(){return document.addEventListener("wheel",F,{passive:!1})})),N.addEventListener("mouseleave",(function(){return document.removeEventListener("wheel",F)}))}),100)}},function(e,t){},function(e,t,i){},function(e,t,i){var s;window,s=function(){return function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1393)}([function(e,t){function i(e,t,i){var s=i?e[t]:Object.getOwnPropertyDescriptor(e,t);return!i&&s.value&&"object"==typeof s.value&&(s=s.value),!(!s||!function(e){return!!e.get&&"function"==typeof e.get||!!e.set&&"function"==typeof e.set}(s))&&(void 0===s.enumerable&&(s.enumerable=!0),void 0===s.configurable&&(s.configurable=!0),s)}function s(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return!!i&&(i.value&&"object"==typeof i.value&&(i=i.value),!1===i.configurable)}function n(e,t,n,a){for(var o in t)if(t.hasOwnProperty(o)){var c=i(t,o,n);if(!1!==c){if(s((a||e).prototype,o)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+o+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(e.prototype,o,c)}else e.prototype[o]=t[o]}}function a(e,t){if(t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++)n(e,t[i].prototype||t[i])}}function r(e){var t,i;if(e||(e={}),e.initialize){if("function"!=typeof e.initialize)throw new Error("initialize must be a function");t=e.initialize,delete e.initialize}else if(e.Extends){var s=e.Extends;t=function(){s.apply(this,arguments)}}else t=function(){};e.Extends?(t.prototype=Object.create(e.Extends.prototype),t.prototype.constructor=t,i=e.Extends,delete e.Extends):t.prototype.constructor=t;var r=null;return e.Mixins&&(r=e.Mixins,delete e.Mixins),a(t,r),n(t,e,!0,i),t}r.extend=n,r.mixin=a,r.ignoreFinals=!1,e.exports=r},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t,i){var s=typeof e;return e&&"number"!==s&&"string"!==s&&e.hasOwnProperty(t)&&void 0!==e[t]?e[t]:i}},function(e,t,i){var s=i(0),n=i(106),a=new s({initialize:function(e,t){this.x=0,this.y=0,"object"==typeof e?(this.x=e.x||0,this.y=e.y||0):(void 0===t&&(t=e),this.x=e||0,this.y=t||0)},clone:function(){return new a(this.x,this.y)},copy:function(e){return this.x=e.x||0,this.y=e.y||0,this},setFromObject:function(e){return this.x=e.x||0,this.y=e.y||0,this},set:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setTo:function(e,t){return this.set(e,t)},setToPolar:function(e,t){return null==t&&(t=1),this.x=Math.cos(e)*t,this.y=Math.sin(e)*t,this},equals:function(e){return this.x===e.x&&this.y===e.y},fuzzyEquals:function(e,t){return n(this.x,e.x,t)&&n(this.y,e.y,t)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},setAngle:function(e){return this.setToPolar(e,this.length())},add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},scale:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y;return t*t+i*i},length:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},setLength:function(e){return this.normalize().scale(e)},lengthSq:function(){var e=this.x,t=this.y;return e*e+t*t},normalize:function(){var e=this.x,t=this.y,i=e*e+t*t;return i>0&&(i=1/Math.sqrt(i),this.x=e*i,this.y=t*i),this},normalizeRightHand:function(){var e=this.x;return this.x=-1*this.y,this.y=e,this},normalizeLeftHand:function(){var e=this.x;return this.x=this.y,this.y=-1*e,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,s=this.y;return this.x=i+t*(e.x-i),this.y=s+t*(e.y-s),this},transformMat3:function(e){var t=this.x,i=this.y,s=e.val;return this.x=s[0]*t+s[3]*i+s[6],this.y=s[1]*t+s[4]*i+s[7],this},transformMat4:function(e){var t=this.x,i=this.y,s=e.val;return this.x=s[0]*t+s[4]*i+s[12],this.y=s[1]*t+s[5]*i+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(e){var t=this.length();return t&&t>e&&this.scale(e/t),this},reflect:function(e){return e=e.clone().normalize(),this.subtract(e.scale(2*this.dot(e)))},mirror:function(e){return this.reflect(e).negate()},rotate:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t*this.x-i*this.y,i*this.x+t*this.y)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),e.exports=a},function(e,t,i){var s=i(0),n=i(47),a=new s({initialize:function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.type=n.POINT,this.x=e,this.y=t},setTo:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this}});e.exports=a},function(e,t,i){var s=i(0),n=i(23),a=i(22),r=new s({initialize:function(e){this.scene=e,this.systems=e.sys,this.displayList,this.updateList,e.sys.events.once(a.BOOT,this.boot,this),e.sys.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(e){return(e.renderCanvas||e.renderWebGL)&&this.displayList.add(e),e.preUpdate&&this.updateList.add(e),e},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});r.register=function(e,t){r.prototype.hasOwnProperty(e)||(r.prototype[e]=t)},r.remove=function(e){r.prototype.hasOwnProperty(e)&&delete r.prototype[e]},n.register("GameObjectFactory",r,"add"),e.exports=r},function(e,t){e.exports=function(e,t,i){if(e&&"number"!=typeof e){if(e.hasOwnProperty(t))return e[t];if(-1!==t.indexOf(".")){for(var s=t.split("."),n=e,a=i,r=0;r<s.length;r++){if(!n.hasOwnProperty(s[r])){a=i;break}a=n[s[r]],n=n[s[r]]}return a}return i}return i}},function(e,t){e.exports=function(e){if("object"!=typeof e||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0}},function(e,t){var i={},s={install:function(e){for(var t in i)e[t]=i[t]},register:function(e,t){i[e]=t},destroy:function(){i={}}};e.exports=s},function(e,t){e.exports={getTintFromFloats:function(e,t,i,s){return((255&(255*s|0))<<24|(255&(255*e|0))<<16|(255&(255*t|0))<<8|255&(255*i|0))>>>0},getTintAppendFloatAlpha:function(e,t){return((255&(255*t|0))<<24|e)>>>0},getTintAppendFloatAlphaAndSwap:function(e,t){return((255&(255*t|0))<<24|(255&(0|e))<<16|(255&(e>>8|0))<<8|255&(e>>16|0))>>>0},getFloatsFromUintRGB:function(e){return[(255&(e>>16|0))/255,(255&(e>>8|0))/255,(255&(0|e))/255]},getComponentCount:function(e,t){for(var i=0,s=0;s<e.length;++s){var n=e[s];n.type===t.FLOAT?i+=n.size:i+=1}return i}}},function(e,t,i){"use strict";var s=Object.prototype.hasOwnProperty,n="~";function a(){}function r(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function o(e,t,i,s,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var o=new r(i,s||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function h(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),h.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)s.call(e,t)&&i.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},h.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var s=0,a=i.length,r=new Array(a);s<a;s++)r[s]=i[s].fn;return r},h.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},h.prototype.emit=function(e,t,i,s,a,r){var o=n?n+e:e;if(!this._events[o])return!1;var c,h,l=this._events[o],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,i),!0;case 4:return l.fn.call(l.context,t,i,s),!0;case 5:return l.fn.call(l.context,t,i,s,a),!0;case 6:return l.fn.call(l.context,t,i,s,a,r),!0}for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l.fn.apply(l.context,c)}else{var u,p=l.length;for(h=0;h<p;h++)switch(l[h].once&&this.removeListener(e,l[h].fn,void 0,!0),d){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,t);break;case 3:l[h].fn.call(l[h].context,t,i);break;case 4:l[h].fn.call(l[h].context,t,i,s);break;default:if(!c)for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l[h].fn.apply(l[h].context,c)}}return!0},h.prototype.on=function(e,t,i){return o(this,e,t,i,!1)},h.prototype.once=function(e,t,i){return o(this,e,t,i,!0)},h.prototype.removeListener=function(e,t,i,s){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return c(this,a),this;var r=this._events[a];if(r.fn)r.fn!==t||s&&!r.once||i&&r.context!==i||c(this,a);else{for(var o=0,h=[],l=r.length;o<l;o++)(r[o].fn!==t||s&&!r[o].once||i&&r[o].context!==i)&&h.push(r[o]);h.length?this._events[a]=1===h.length?h[0]:h:c(this,a)}return this},h.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&c(this,t)):(this._events=new a,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,e.exports=h},function(e,t,i){var s=i(0),n=i(48),a=i(152),r=i(274),o=i(47),c=i(56),h=i(155),l=new s({initialize:function(e,t,i,s){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),this.type=o.RECTANGLE,this.x=e,this.y=t,this.width=i,this.height=s},contains:function(e,t){return n(this,e,t)},getPoint:function(e,t){return a(this,e,t)},getPoints:function(e,t,i){return r(this,e,t,i)},getRandomPoint:function(e){return h(this,e)},setTo:function(e,t,i,s){return this.x=e,this.y=t,this.width=i,this.height=s,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(e){return void 0===e&&(e=new c),e.setTo(this.x,this.y,this.right,this.y),e},getLineB:function(e){return void 0===e&&(e=new c),e.setTo(this.right,this.y,this.right,this.bottom),e},getLineC:function(e){return void 0===e&&(e=new c),e.setTo(this.right,this.bottom,this.x,this.bottom),e},getLineD:function(e){return void 0===e&&(e=new c),e.setTo(this.x,this.bottom,this.x,this.y),e},left:{get:function(){return this.x},set:function(e){e>=this.right?this.width=0:this.width=this.right-e,this.x=e}},right:{get:function(){return this.x+this.width},set:function(e){e<=this.x?this.width=0:this.width=e-this.x}},top:{get:function(){return this.y},set:function(e){e>=this.bottom?this.height=0:this.height=this.bottom-e,this.y=e}},bottom:{get:function(){return this.y+this.height},set:function(e){e<=this.y?this.height=0:this.height=e-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}});e.exports=l},function(e,t,i){e.exports={Alpha:i(533),AlphaSingle:i(269),Animation:i(504),BlendMode:i(272),ComputedSize:i(552),Crop:i(553),Depth:i(273),Flip:i(554),GetBounds:i(555),Mask:i(277),Origin:i(572),PathFollower:i(573),Pipeline:i(156),ScrollFactor:i(280),Size:i(574),Texture:i(575),TextureCrop:i(576),Tint:i(577),ToJSON:i(281),Transform:i(282),TransformMatrix:i(29),Visible:i(283)}},function(e,t){var i={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};e.exports=i},function(e,t,i){var s=i(0),n=i(281),a=i(113),r=i(10),o=i(90),c=new s({Extends:r,initialize:function(e,t){r.call(this),this.scene=e,this.type=t,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,e.sys.queueDepthSort()},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},setState:function(e){return this.state=e,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(e,t){return this.data||(this.data=new a(this)),this.data.set(e,t),this},incData:function(e,t){return this.data||(this.data=new a(this)),this.data.inc(e,t),this},toggleData:function(e){return this.data||(this.data=new a(this)),this.data.toggle(e),this},getData:function(e){return this.data||(this.data=new a(this)),this.data.get(e)},setInteractive:function(e,t,i){return this.scene.sys.input.enable(this,e,t,i),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},update:function(){},toJSON:function(){return n(this)},willRender:function(e){return!(c.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},getIndexList:function(){for(var e=this,t=this.parentContainer,i=[];t&&(i.unshift(t.getIndex(e)),e=t,t.parentContainer);)t=t.parentContainer;return i.unshift(this.scene.sys.displayList.getIndex(e)),i},destroy:function(e){if(void 0===e&&(e=!1),this.scene&&!this.ignoreDestroy){this.preDestroy&&this.preDestroy.call(this),this.emit(o.DESTROY,this);var t=this.scene.sys;e||(t.displayList.remove(this),t.updateList.remove(this)),this.input&&(t.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),e||t.queueDepthSort(),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0,this.removeAllListeners()}}});c.RENDER_MASK=15,e.exports=c},function(e,t,i){var s=i(170),n=i(6);e.exports=function(e,t,i){var a=n(e,t,null);if(null===a)return i;if(Array.isArray(a))return s.RND.pick(a);if("object"==typeof a){if(a.hasOwnProperty("randInt"))return s.RND.integerInRange(a.randInt[0],a.randInt[1]);if(a.hasOwnProperty("randFloat"))return s.RND.realInRange(a.randFloat[0],a.randFloat[1])}else if("function"==typeof a)return a(t);return a}},function(e,t,i){var s=i(0),n=i(23),a=i(22),r=new s({initialize:function(e){this.scene=e,this.systems=e.sys,this.displayList,this.updateList,e.sys.events.once(a.BOOT,this.boot,this),e.sys.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});r.register=function(e,t){r.prototype.hasOwnProperty(e)||(r.prototype[e]=t)},r.remove=function(e){r.prototype.hasOwnProperty(e)&&delete r.prototype[e]},n.register("GameObjectCreator",r,"make"),e.exports=r},function(e,t){e.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19}},function(e,t,i){var s=i(7),n=function(){var e,t,i,a,r,o,c=arguments[0]||{},h=1,l=arguments.length,d=!1;for("boolean"==typeof c&&(d=c,c=arguments[1]||{},h=2),l===h&&(c=this,--h);h<l;h++)if(null!=(e=arguments[h]))for(t in e)i=c[t],c!==(a=e[t])&&(d&&a&&(s(a)||(r=Array.isArray(a)))?(r?(r=!1,o=i&&Array.isArray(i)?i:[]):o=i&&s(i)?i:{},c[t]=n(d,o,a)):void 0!==a&&(c[t]=a));return c};e.exports=n},function(e,t){e.exports=function(e,t,i){return Math.max(t,Math.min(i,e))}},function(e,t,i){e.exports={BLUR:i(556),BOOT:i(557),CONTEXT_LOST:i(558),CONTEXT_RESTORED:i(559),DESTROY:i(560),FOCUS:i(561),HIDDEN:i(562),PAUSE:i(563),POST_RENDER:i(564),POST_STEP:i(565),PRE_RENDER:i(566),PRE_STEP:i(567),READY:i(568),RESUME:i(569),STEP:i(570),VISIBLE:i(571)}},function(e,t,i){var s=i(0),n=i(17),a=i(82),r=i(2),o=i(138),c=i(215),h=i(455),l=i(139),d=new s({initialize:function(e,t){this.loader=e,this.cache=r(t,"cache",!1),this.type=r(t,"type",!1),this.key=r(t,"key",!1);var i=this.key;if(e.prefix&&""!==e.prefix&&(this.key=e.prefix+i),!this.type||!this.key)throw new Error("Error calling 'Loader."+this.type+"' invalid key provided.");this.url=r(t,"url"),void 0===this.url?this.url=e.path+i+"."+r(t,"extension",""):"string"==typeof this.url&&0!==this.url.indexOf("blob:")&&0!==this.url.indexOf("data:")&&(this.url=e.path+this.url),this.src="",this.xhrSettings=l(r(t,"responseType",void 0)),r(t,"xhrSettings",!1)&&(this.xhrSettings=c(this.xhrSettings,r(t,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?n.FILE_POPULATED:n.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(t,"config",{}),this.multiFile,this.linkFile},setLink:function(e){this.linkFile=e,e.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===n.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=n.FILE_LOADING,this.src=o(this,this.loader.baseURL),0===this.src.indexOf("data:")?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=h(this,this.loader.xhr))},onLoad:function(e,t){var i=e.responseURL&&0===e.responseURL.indexOf("file://")&&0===t.target.status,s=!(t.target&&200!==t.target.status)||i;4===e.readyState&&e.status>=400&&e.status<=599&&(s=!1),this.state=n.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,s)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(e){e.lengthComputable&&(this.bytesLoaded=e.loaded,this.bytesTotal=e.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=n.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=n.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=n.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(e){void 0===e&&(e=this.data);var t=this.key,i=this.type;this.loader.emit(a.FILE_COMPLETE,t,i,e),this.loader.emit(a.FILE_KEY_COMPLETE+i+"-"+t,t,i,e),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});d.createObjectURL=function(e,t,i){if("function"==typeof URL)e.src=URL.createObjectURL(t);else{var s=new FileReader;s.onload=function(){e.removeAttribute("crossOrigin"),e.src="data:"+(t.type||i)+";base64,"+s.result.split(",")[1]},s.onerror=e.onerror,s.readAsDataURL(t)}},d.revokeObjectURL=function(e){"function"==typeof URL&&URL.revokeObjectURL(e.src)},e.exports=d},function(e,t,i){e.exports={BOOT:i(709),CREATE:i(710),DESTROY:i(711),PAUSE:i(712),POST_UPDATE:i(713),PRE_UPDATE:i(714),READY:i(715),RENDER:i(716),RESUME:i(717),SHUTDOWN:i(718),SLEEP:i(719),START:i(720),TRANSITION_COMPLETE:i(721),TRANSITION_INIT:i(722),TRANSITION_OUT:i(723),TRANSITION_START:i(724),TRANSITION_WAKE:i(725),UPDATE:i(726),WAKE:i(727)}},function(e,t){var i={},s={},n={register:function(e,t,s,n){void 0===n&&(n=!1),i[e]={plugin:t,mapping:s,custom:n}},registerCustom:function(e,t,i,n){s[e]={plugin:t,mapping:i,data:n}},hasCore:function(e){return i.hasOwnProperty(e)},hasCustom:function(e){return s.hasOwnProperty(e)},getCore:function(e){return i[e]},getCustom:function(e){return s[e]},getCustomClass:function(e){return s.hasOwnProperty(e)?s[e].plugin:null},remove:function(e){i.hasOwnProperty(e)&&delete i[e]},removeCustom:function(e){s.hasOwnProperty(e)&&delete s[e]},destroyCorePlugins:function(){for(var e in i)i.hasOwnProperty(e)&&delete i[e]},destroyCustomPlugins:function(){for(var e in s)s.hasOwnProperty(e)&&delete s[e]}};e.exports=n},function(e,t,i){var s=i(2);e.exports=function(e,t,i,n,a,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=r.width),void 0===n&&(n=r.height);var o=s(a,"isNotEmpty",!1),c=s(a,"isColliding",!1),h=s(a,"hasInterestingFace",!1);e<0&&(i+=e,e=0),t<0&&(n+=t,t=0),e+i>r.width&&(i=Math.max(r.width-e,0)),t+n>r.height&&(n=Math.max(r.height-t,0));for(var l=[],d=t;d<t+n;d++)for(var u=e;u<e+i;u++){var p=r.data[d][u];if(null!==p){if(o&&-1===p.index)continue;if(c&&!p.collides)continue;if(h&&!p.hasInterestingFace)continue;l.push(p)}}return l}},function(e,t){e.exports=function(e,t,i,s,n,a){var r;void 0===s&&(s=0),void 0===n&&(n=0),void 0===a&&(a=1);var o=0,c=e.length;if(1===a)for(r=n;r<c;r++)e[r][t]=i+o*s,o++;else for(r=n;r>=0;r--)e[r][t]=i+o*s,o++;return e}},function(e,t,i){var s,n,a,r=i(33),o=i(167),c=[],h=!1;e.exports=(a=function(){var e=0;return c.forEach((function(t){t.parent&&e++})),e},{create2D:function(e,t,i){return s(e,t,i,r.CANVAS)},create:s=function(e,t,i,s,a){var l;void 0===t&&(t=1),void 0===i&&(i=1),void 0===s&&(s=r.CANVAS),void 0===a&&(a=!1);var d=n(s);return null===d?(d={parent:e,canvas:document.createElement("canvas"),type:s},s===r.CANVAS&&c.push(d),l=d.canvas):(d.parent=e,l=d.canvas),a&&(d.parent=l),l.width=t,l.height=i,h&&s===r.CANVAS&&o.disable(l.getContext("2d")),l},createWebGL:function(e,t,i){return s(e,t,i,r.WEBGL)},disableSmoothing:function(){h=!0},enableSmoothing:function(){h=!1},first:n=function(e){if(void 0===e&&(e=r.CANVAS),e===r.WEBGL)return null;for(var t=0;t<c.length;t++){var i=c[t];if(!i.parent&&i.type===e)return i}return null},free:function(){return c.length-a()},pool:c,remove:function(e){var t=e instanceof HTMLCanvasElement;c.forEach((function(i){(t&&i.canvas===e||!t&&i.parent===e)&&(i.parent=null,i.canvas.width=1,i.canvas.height=1)}))},total:a})},function(e,t,i){var s=i(52),n=i(15);e.exports=function(e,t,i){t.x=n(i,"x",0),t.y=n(i,"y",0),t.depth=n(i,"depth",0),t.flipX=n(i,"flipX",!1),t.flipY=n(i,"flipY",!1);var a=n(i,"scale",null);"number"==typeof a?t.setScale(a):null!==a&&(t.scaleX=n(a,"x",1),t.scaleY=n(a,"y",1));var r=n(i,"scrollFactor",null);"number"==typeof r?t.setScrollFactor(r):null!==r&&(t.scrollFactorX=n(r,"x",1),t.scrollFactorY=n(r,"y",1)),t.rotation=n(i,"rotation",0);var o=n(i,"angle",null);null!==o&&(t.angle=o),t.alpha=n(i,"alpha",1);var c=n(i,"origin",null);if("number"==typeof c)t.setOrigin(c);else if(null!==c){var h=n(c,"x",.5),l=n(c,"y",.5);t.setOrigin(h,l)}return t.blendMode=n(i,"blendMode",s.NORMAL),t.visible=n(i,"visible",!0),n(i,"add",!0)&&e.sys.displayList.add(t),t.preUpdate&&e.sys.updateList.add(t),t}},function(e,t){e.exports=function(e,t,i,s,n){var a=s.alpha*i.alpha;if(a<=0)return!1;var r=e._tempMatrix1.copyFromArray(s.matrix.matrix),o=e._tempMatrix2.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),c=e._tempMatrix3;return n?(r.multiplyWithOffset(n,-s.scrollX*i.scrollFactorX,-s.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y,r.multiply(o,c)):(o.e-=s.scrollX*i.scrollFactorX,o.f-=s.scrollY*i.scrollFactorY,r.multiply(o,c)),t.globalCompositeOperation=e.blendModes[i.blendMode],t.globalAlpha=a,t.save(),c.setToContext(t),t.imageSmoothingEnabled=!(!e.antialias||i.frame&&i.frame.source.scaleMode),!0}},function(e,t,i){var s=i(0),n=i(13),a=i(3),r=new s({initialize:function(e,t,i,s,n,a){void 0===e&&(e=1),void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=1),void 0===n&&(n=0),void 0===a&&(a=0),this.matrix=new Float32Array([e,t,i,s,n,a,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(e){this.matrix[0]=e}},b:{get:function(){return this.matrix[1]},set:function(e){this.matrix[1]=e}},c:{get:function(){return this.matrix[2]},set:function(e){this.matrix[2]=e}},d:{get:function(){return this.matrix[3]},set:function(e){this.matrix[3]=e}},e:{get:function(){return this.matrix[4]},set:function(e){this.matrix[4]=e}},f:{get:function(){return this.matrix[5]},set:function(e){this.matrix[5]=e}},tx:{get:function(){return this.matrix[4]},set:function(e){this.matrix[4]=e}},ty:{get:function(){return this.matrix[5]},set:function(e){this.matrix[5]=e}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var e=this.matrix,t=e[0],i=e[1],s=e[2],a=e[3];return t||i?i>0?Math.acos(t/this.scaleX):-Math.acos(t/this.scaleX):s||a?n.TAU-(a>0?Math.acos(-s/this.scaleY):-Math.acos(s/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var e=this.matrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this},translate:function(e,t){var i=this.matrix;return i[4]=i[0]*e+i[2]*t+i[4],i[5]=i[1]*e+i[3]*t+i[5],this},scale:function(e,t){var i=this.matrix;return i[0]*=e,i[1]*=e,i[2]*=t,i[3]*=t,this},rotate:function(e){var t=Math.sin(e),i=Math.cos(e),s=this.matrix,n=s[0],a=s[1],r=s[2],o=s[3];return s[0]=n*i+r*t,s[1]=a*i+o*t,s[2]=n*-t+r*i,s[3]=a*-t+o*i,this},multiply:function(e,t){var i=this.matrix,s=e.matrix,n=i[0],a=i[1],r=i[2],o=i[3],c=i[4],h=i[5],l=s[0],d=s[1],u=s[2],p=s[3],f=s[4],m=s[5],g=void 0===t?this:t;return g.a=l*n+d*r,g.b=l*a+d*o,g.c=u*n+p*r,g.d=u*a+p*o,g.e=f*n+m*r+c,g.f=f*a+m*o+h,g},multiplyWithOffset:function(e,t,i){var s=this.matrix,n=e.matrix,a=s[0],r=s[1],o=s[2],c=s[3],h=t*a+i*o+s[4],l=t*r+i*c+s[5],d=n[0],u=n[1],p=n[2],f=n[3],m=n[4],g=n[5];return s[0]=d*a+u*o,s[1]=d*r+u*c,s[2]=p*a+f*o,s[3]=p*r+f*c,s[4]=m*a+g*o+h,s[5]=m*r+g*c+l,this},transform:function(e,t,i,s,n,a){var r=this.matrix,o=r[0],c=r[1],h=r[2],l=r[3],d=r[4],u=r[5];return r[0]=e*o+t*h,r[1]=e*c+t*l,r[2]=i*o+s*h,r[3]=i*c+s*l,r[4]=n*o+a*h+d,r[5]=n*c+a*l+u,this},transformPoint:function(e,t,i){void 0===i&&(i={x:0,y:0});var s=this.matrix,n=s[0],a=s[1],r=s[2],o=s[3],c=s[4],h=s[5];return i.x=e*n+t*r+c,i.y=e*a+t*o+h,i},invert:function(){var e=this.matrix,t=e[0],i=e[1],s=e[2],n=e[3],a=e[4],r=e[5],o=t*n-i*s;return e[0]=n/o,e[1]=-i/o,e[2]=-s/o,e[3]=t/o,e[4]=(s*r-n*a)/o,e[5]=-(t*r-i*a)/o,this},copyFrom:function(e){var t=this.matrix;return t[0]=e.a,t[1]=e.b,t[2]=e.c,t[3]=e.d,t[4]=e.e,t[5]=e.f,this},copyFromArray:function(e){var t=this.matrix;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this},copyToContext:function(e){var t=this.matrix;return e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e},setToContext:function(e){var t=this.matrix;return e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e},copyToArray:function(e){var t=this.matrix;return void 0===e?e=[t[0],t[1],t[2],t[3],t[4],t[5]]:(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]),e},setTransform:function(e,t,i,s,n,a){var r=this.matrix;return r[0]=e,r[1]=t,r[2]=i,r[3]=s,r[4]=n,r[5]=a,this},decomposeMatrix:function(){var e=this.decomposedMatrix,t=this.matrix,i=t[0],s=t[1],n=t[2],a=t[3],r=i*a-s*n;if(e.translateX=t[4],e.translateY=t[5],i||s){var o=Math.sqrt(i*i+s*s);e.rotation=s>0?Math.acos(i/o):-Math.acos(i/o),e.scaleX=o,e.scaleY=r/o}else if(n||a){var c=Math.sqrt(n*n+a*a);e.rotation=.5*Math.PI-(a>0?Math.acos(-n/c):-Math.acos(n/c)),e.scaleX=r/c,e.scaleY=c}else e.rotation=0,e.scaleX=0,e.scaleY=0;return e},applyITRS:function(e,t,i,s,n){var a=this.matrix,r=Math.sin(i),o=Math.cos(i);return a[4]=e,a[5]=t,a[0]=o*s,a[1]=r*s,a[2]=-r*n,a[3]=o*n,this},applyInverse:function(e,t,i){void 0===i&&(i=new a);var s=this.matrix,n=s[0],r=s[1],o=s[2],c=s[3],h=s[4],l=s[5],d=1/(n*c+o*-r);return i.x=c*d*e+-o*d*t+(l*o-h*c)*d,i.y=n*d*t+-r*d*e+(-l*n+h*r)*d,i},getX:function(e,t){return e*this.a+t*this.c+this.e},getY:function(e,t){return e*this.b+t*this.d+this.f},getCSSMatrix:function(){var e=this.matrix;return"matrix("+e[0]+","+e[1]+","+e[2]+","+e[3]+","+e[4]+","+e[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});e.exports=r},function(e,t,i){var s=i(0),n=i(12),a=i(14),r=i(56),o=new s({Extends:a,Mixins:[n.AlphaSingle,n.BlendMode,n.ComputedSize,n.Depth,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.ScrollFactor,n.Transform,n.Visible],initialize:function(e,t,i){void 0===t&&(t="Shape"),a.call(this,e,t),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.initPipeline()},setFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=t,this.isFilled=!0),this},setStrokeStyle:function(e,t,i){return void 0===i&&(i=1),void 0===e?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]}});e.exports=o},function(e,t,i){var s=i(0),n=i(165),a=i(295),r=i(166),o=i(296),c=new s({initialize:function(e,t,i,s){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(e,t,i,s)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(e,t,i,s,n){return void 0===s&&(s=255),void 0===n&&(n=!0),this._locked=!0,this.red=e,this.green=t,this.blue=i,this.alpha=s,this._locked=!1,this.update(n)},setGLTo:function(e,t,i,s){return void 0===s&&(s=1),this._locked=!0,this.redGL=e,this.greenGL=t,this.blueGL=i,this.alphaGL=s,this._locked=!1,this.update(!0)},setFromRGB:function(e){return this._locked=!0,this.red=e.r,this.green=e.g,this.blue=e.b,e.hasOwnProperty("a")&&(this.alpha=e.a),this._locked=!1,this.update(!0)},setFromHSV:function(e,t,i){return r(e,t,i,this)},update:function(e){if(void 0===e&&(e=!1),this._locked)return this;var t=this.r,i=this.g,s=this.b,r=this.a;return this._color=n(t,i,s),this._color32=a(t,i,s,r),this._rgba="rgba("+t+","+i+","+s+","+r/255+")",e&&o(t,i,s,this),this},updateHSV:function(){var e=this.r,t=this.g,i=this.b;return o(e,t,i,this),this},clone:function(){return new c(this.r,this.g,this.b,this.a)},gray:function(e){return this.setTo(e,e,e)},random:function(e,t){void 0===e&&(e=0),void 0===t&&(t=255);var i=Math.floor(e+Math.random()*(t-e)),s=Math.floor(e+Math.random()*(t-e)),n=Math.floor(e+Math.random()*(t-e));return this.setTo(i,s,n)},randomGray:function(e,t){void 0===e&&(e=0),void 0===t&&(t=255);var i=Math.floor(e+Math.random()*(t-e));return this.setTo(i,i,i)},saturate:function(e){return this.s+=e/100,this},desaturate:function(e){return this.s-=e/100,this},lighten:function(e){return this.v+=e/100,this},darken:function(e){return this.v-=e/100,this},brighten:function(e){var t=this.r,i=this.g,s=this.b;return t=Math.max(0,Math.min(255,t-Math.round(-e/100*255))),i=Math.max(0,Math.min(255,i-Math.round(-e/100*255))),s=Math.max(0,Math.min(255,s-Math.round(-e/100*255))),this.setTo(t,i,s)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(e){this.gl[0]=Math.min(Math.abs(e),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(e){this.gl[1]=Math.min(Math.abs(e),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(e){this.gl[2]=Math.min(Math.abs(e),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(e){this.gl[3]=Math.min(Math.abs(e),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(e){e=Math.floor(Math.abs(e)),this.r=Math.min(e,255),this.gl[0]=e/255,this.update(!0)}},green:{get:function(){return this.g},set:function(e){e=Math.floor(Math.abs(e)),this.g=Math.min(e,255),this.gl[1]=e/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(e){e=Math.floor(Math.abs(e)),this.b=Math.min(e,255),this.gl[2]=e/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(e){e=Math.floor(Math.abs(e)),this.a=Math.min(e,255),this.gl[3]=e/255,this.update()}},h:{get:function(){return this._h},set:function(e){this._h=e,r(e,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(e){this._s=e,r(this._h,e,this._v,this)}},v:{get:function(){return this._v},set:function(e){this._v=e,r(this._h,this._s,e,this)}}});e.exports=c},function(e,t){e.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(e,t,i){var s={VERSION:"3.24.1",BlendModes:i(52),ScaleModes:i(234),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};e.exports=s},function(e,t){e.exports=function(e){return e.y+e.height-e.height*e.originY}},function(e,t){e.exports=function(e){return e.x-e.width*e.originX}},function(e,t){e.exports=function(e){return e.x+e.width-e.width*e.originX}},function(e,t){e.exports=function(e){return e.y-e.height*e.originY}},function(e,t){e.exports=function(e,t,i,s,n,a){var r;void 0===s&&(s=0),void 0===n&&(n=0),void 0===a&&(a=1);var o=0,c=e.length;if(1===a)for(r=n;r<c;r++)e[r][t]+=i+o*s,o++;else for(r=n;r>=0;r--)e[r][t]+=i+o*s,o++;return e}},function(e,t,i){var s=i(13);e.exports=function(e){return e*s.DEG_TO_RAD}},function(e,t,i){e.exports={DESTROY:i(647),FADE_IN_COMPLETE:i(648),FADE_IN_START:i(649),FADE_OUT_COMPLETE:i(650),FADE_OUT_START:i(651),FLASH_COMPLETE:i(652),FLASH_START:i(653),PAN_COMPLETE:i(654),PAN_START:i(655),POST_RENDER:i(656),PRE_RENDER:i(657),ROTATE_COMPLETE:i(658),ROTATE_START:i(659),SHAKE_COMPLETE:i(660),SHAKE_START:i(661),ZOOM_COMPLETE:i(662),ZOOM_START:i(663)}},function(e,t){e.exports=function(e,t,i,s){var n=i||t.fillColor,a=s||t.fillAlpha,r=(16711680&n)>>>16,o=(65280&n)>>>8,c=255&n;e.fillStyle="rgba("+r+","+o+","+c+","+a+")"}},function(e,t){var i={};e.exports=i,function(){i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i.extend=function(e,t){var s,n;"boolean"==typeof t?(s=2,n=t):(s=1,n=!0);for(var a=s;a<arguments.length;a++){var r=arguments[a];if(r)for(var o in r)n&&r[o]&&r[o].constructor===Object?e[o]&&e[o].constructor!==Object?e[o]=r[o]:(e[o]=e[o]||{},i.extend(e[o],n,r[o])):e[o]=r[o]}return e},i.clone=function(e,t){return i.extend({},t,e)},i.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},i.values=function(e){var t=[];if(Object.keys){for(var i=Object.keys(e),s=0;s<i.length;s++)t.push(e[i[s]]);return t}for(var n in e)t.push(e[n]);return t},i.get=function(e,t,i,s){t=t.split(".").slice(i,s);for(var n=0;n<t.length;n+=1)e=e[t[n]];return e},i.set=function(e,t,s,n,a){var r=t.split(".").slice(n,a);return i.get(e,t,0,-1)[r[r.length-1]]=s,s},i.shuffle=function(e){for(var t=e.length-1;t>0;t--){var s=Math.floor(i.random()*(t+1)),n=e[t];e[t]=e[s],e[s]=n}return e},i.choose=function(e){return e[Math.floor(i.random()*e.length)]},i.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},i.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i.isFunction=function(e){return"function"==typeof e},i.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},i.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},i.clamp=function(e,t,i){return e<t?t:e>i?i:e},i.sign=function(e){return e<0?-1:1},i.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-i._nowStartTime},i.random=function(t,i){return i=void 0!==i?i:1,(t=void 0!==t?t:0)+e()*(i-t)};var e=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.nextId=function(){return i._nextId++},i.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},i.map=function(e,t){if(e.map)return e.map(t);for(var i=[],s=0;s<e.length;s+=1)i.push(t(e[s]));return i},i.topologicalSort=function(e){var t=[],s=[],n=[];for(var a in e)s[a]||n[a]||i._topologicalSort(a,s,n,e,t);return t},i._topologicalSort=function(e,t,s,n,a){var r=n[e]||[];s[e]=!0;for(var o=0;o<r.length;o+=1){var c=r[o];s[c]||t[c]||i._topologicalSort(c,t,s,n,a)}s[e]=!1,t[e]=!0,a.push(e)},i.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var i=arguments[t];i._chained?e.push.apply(e,i._chained):e.push(i)}var s=function(){for(var t,i=new Array(arguments.length),s=0,n=arguments.length;s<n;s++)i[s]=arguments[s];for(s=0;s<e.length;s+=1){var a=e[s].apply(t,i);void 0!==a&&(t=a)}return t};return s._chained=e,s},i.chainPathBefore=function(e,t,s){return i.set(e,t,i.chain(s,i.get(e,t)))},i.chainPathAfter=function(e,t,s){return i.set(e,t,i.chain(i.get(e,t),s))}}()},function(e,t){e.exports=function(e,t){return e.y=t+e.height*e.originY,e}},function(e,t){e.exports=function(e,t){return e.x=t+e.width*e.originX,e}},function(e,t){e.exports=function(e,t){return e.x=t-e.width+e.width*e.originX,e}},function(e,t){e.exports=function(e,t){return e.y=t-e.height+e.height*e.originY,e}},function(e,t){e.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},function(e,t){e.exports=function(e,t,i){return!(e.width<=0||e.height<=0)&&e.x<=t&&e.x+e.width>=t&&e.y<=i&&e.y+e.height>=i}},function(e,t){e.exports=function(e,t,i,s){var n=i||t.strokeColor,a=s||t.strokeAlpha,r=(16711680&n)>>>16,o=(65280&n)>>>8,c=255&n;e.strokeStyle="rgba("+r+","+o+","+c+","+a+")",e.lineWidth=t.lineWidth}},function(e,t){e.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},function(e,t,i){var s=i(142),n=i(24);e.exports=function(e,t,i,a,r){for(var o=null,c=null,h=null,l=null,d=n(e,t,i,a,null,r),u=0;u<d.length;u++){var p=d[u];p&&(p.collides?(o=s(p.x,p.y-1,!0,r),c=s(p.x,p.y+1,!0,r),h=s(p.x-1,p.y,!0,r),l=s(p.x+1,p.y,!0,r),p.faceTop=!o||!o.collides,p.faceBottom=!c||!c.collides,p.faceLeft=!h||!h.collides,p.faceRight=!l||!l.collides):p.resetFaces())}}},function(e,t){e.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(e,t){e.exports=function(e,t,i,s){var n=e-i,a=t-s;return Math.sqrt(n*n+a*a)}},function(e,t,i){e.exports={BOOT:i(823),DESTROY:i(824),DRAG_END:i(825),DRAG_ENTER:i(826),DRAG:i(827),DRAG_LEAVE:i(828),DRAG_OVER:i(829),DRAG_START:i(830),DROP:i(831),GAME_OUT:i(832),GAME_OVER:i(833),GAMEOBJECT_DOWN:i(834),GAMEOBJECT_DRAG_END:i(835),GAMEOBJECT_DRAG_ENTER:i(836),GAMEOBJECT_DRAG:i(837),GAMEOBJECT_DRAG_LEAVE:i(838),GAMEOBJECT_DRAG_OVER:i(839),GAMEOBJECT_DRAG_START:i(840),GAMEOBJECT_DROP:i(841),GAMEOBJECT_MOVE:i(842),GAMEOBJECT_OUT:i(843),GAMEOBJECT_OVER:i(844),GAMEOBJECT_POINTER_DOWN:i(845),GAMEOBJECT_POINTER_MOVE:i(846),GAMEOBJECT_POINTER_OUT:i(847),GAMEOBJECT_POINTER_OVER:i(848),GAMEOBJECT_POINTER_UP:i(849),GAMEOBJECT_POINTER_WHEEL:i(850),GAMEOBJECT_UP:i(851),GAMEOBJECT_WHEEL:i(852),MANAGER_BOOT:i(853),MANAGER_PROCESS:i(854),MANAGER_UPDATE:i(855),POINTER_DOWN:i(856),POINTER_DOWN_OUTSIDE:i(857),POINTER_MOVE:i(858),POINTER_OUT:i(859),POINTER_OVER:i(860),POINTER_UP:i(861),POINTER_UP_OUTSIDE:i(862),POINTER_WHEEL:i(863),POINTERLOCK_CHANGE:i(864),PRE_UPDATE:i(865),SHUTDOWN:i(866),START:i(867),UPDATE:i(868)}},function(e,t){e.exports=function(e,t,i){return e.radius>0&&t>=e.left&&t<=e.right&&i>=e.top&&i<=e.bottom&&(e.x-t)*(e.x-t)+(e.y-i)*(e.y-i)<=e.radius*e.radius}},function(e,t,i){var s=i(0),n=i(275),a=i(153),r=i(47),o=i(154),c=i(3),h=new s({initialize:function(e,t,i,s){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),this.type=r.LINE,this.x1=e,this.y1=t,this.x2=i,this.y2=s},getPoint:function(e,t){return n(this,e,t)},getPoints:function(e,t,i){return a(this,e,t,i)},getRandomPoint:function(e){return o(this,e)},setTo:function(e,t,i,s){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),this.x1=e,this.y1=t,this.x2=i,this.y2=s,this},getPointA:function(e){return void 0===e&&(e=new c),e.set(this.x1,this.y1),e},getPointB:function(e){return void 0===e&&(e=new c),e.set(this.x2,this.y2),e},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(e){this.x1<=this.x2?this.x1=e:this.x2=e}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(e){this.x1>this.x2?this.x1=e:this.x2=e}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(e){this.y1<=this.y2?this.y1=e:this.y2=e}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(e){this.y1>this.y2?this.y1=e:this.y2=e}}});e.exports=h},function(e,t){e.exports=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))}},function(e,t){e.exports=function(e,t,i){var s=i-t;return t+((e-t)%s+s)%s}},function(e,t,i){e.exports={COMPLETE:i(891),DECODED:i(892),DECODED_ALL:i(893),DESTROY:i(894),DETUNE:i(895),GLOBAL_DETUNE:i(896),GLOBAL_MUTE:i(897),GLOBAL_RATE:i(898),GLOBAL_VOLUME:i(899),LOOP:i(900),LOOPED:i(901),MUTE:i(902),PAUSE_ALL:i(903),PAUSE:i(904),PLAY:i(905),RATE:i(906),RESUME_ALL:i(907),RESUME:i(908),SEEK:i(909),STOP_ALL:i(910),STOP:i(911),UNLOCKED:i(912),VOLUME:i(913)}},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(6),h=i(7),l=new s({Extends:a,initialize:function(e,t,i,s,r){var l="json";if(h(t)){var d=t;t=o(d,"key"),i=o(d,"url"),s=o(d,"xhrSettings"),l=o(d,"extension",l),r=o(d,"dataKey",r)}var u={type:"json",cache:e.cacheManager.json,extension:l,responseType:"text",key:t,url:i,xhrSettings:s,config:r};a.call(this,e,u),h(i)&&(this.data=r?c(i,r):i,this.state=n.FILE_POPULATED)},onProcess:function(){if(this.state!==n.FILE_POPULATED){this.state=n.FILE_PROCESSING;var e=JSON.parse(this.xhrLoader.responseText),t=this.config;this.data="string"==typeof t?c(e,t,e):e}this.onProcessComplete()}});r.register("json",(function(e,t,i,s){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new l(this,e[n]));else this.addFile(new l(this,e,t,s,i));return this})),e.exports=l},function(e,t,i){var s=new(i(0))({initialize:function(e,t,i,s){this.loader=e,this.type=t,this.key=i,this.multiKeyIndex=e.multiKeyIndex++,this.files=s,this.complete=!1,this.pending=s.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var n=0;n<s.length;n++)s[n].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(e){return this.files.push(e),e.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(e){-1!==this.files.indexOf(e)&&this.pending--},onFileFailed:function(e){-1!==this.files.indexOf(e)&&this.failed++}});e.exports=s},function(e,t,i){var s={};e.exports=s;var n=i(86),a=i(99),r=i(239),o=i(42),c=i(100),h=i(513);!function(){s._inertiaScale=4,s._nextCollidingGroupId=1,s._nextNonCollidingGroupId=-1,s._nextCategory=1,s.create=function(t){var i={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!t.hasOwnProperty("position")&&t.hasOwnProperty("vertices")?t.position=n.centre(t.vertices):t.hasOwnProperty("vertices")||(i.vertices=n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var s=o.extend(i,t);return e(s,t),s.setOnCollideWith=function(e,t){return t?this.onCollideWith[e.id]=t:delete this.onCollideWith[e.id],this},s},s.nextGroup=function(e){return e?s._nextNonCollidingGroupId--:s._nextCollidingGroupId++},s.nextCategory=function(){return s._nextCategory=s._nextCategory<<1,s._nextCategory};var e=function(e,t){t=t||{},s.set(e,{bounds:e.bounds||c.create(e.vertices),positionPrev:e.positionPrev||a.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e});var i=e.bounds;if(n.rotate(e.vertices,e.angle,e.position),h.rotate(e.axes,e.angle),c.update(i,e.vertices,e.velocity),s.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia}),1===e.parts.length){var r=e.centerOfMass,o=e.centerOffset,l=i.max.x-i.min.x,d=i.max.y-i.min.y;r.x=-(i.min.x-e.position.x)/l,r.y=-(i.min.y-e.position.y)/d,o.x=l*r.x,o.y=d*r.y}};s.set=function(e,t,i){var n;for(n in"string"==typeof t&&(n=t,(t={})[n]=i),t)if(Object.prototype.hasOwnProperty.call(t,n))switch(i=t[n],n){case"isStatic":s.setStatic(e,i);break;case"isSleeping":r.set(e,i);break;case"mass":s.setMass(e,i);break;case"density":s.setDensity(e,i);break;case"inertia":s.setInertia(e,i);break;case"vertices":s.setVertices(e,i);break;case"position":s.setPosition(e,i);break;case"angle":s.setAngle(e,i);break;case"velocity":s.setVelocity(e,i);break;case"angularVelocity":s.setAngularVelocity(e,i);break;case"parts":s.setParts(e,i);break;case"centre":s.setCentre(e,i);break;default:e[n]=i}},s.setStatic=function(e,t){for(var i=0;i<e.parts.length;i++){var s=e.parts[i];s.isStatic=t,t?(s._original={restitution:s.restitution,friction:s.friction,mass:s.mass,inertia:s.inertia,density:s.density,inverseMass:s.inverseMass,inverseInertia:s.inverseInertia},s.restitution=0,s.friction=1,s.mass=s.inertia=s.density=1/0,s.inverseMass=s.inverseInertia=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.angularVelocity=0,s.speed=0,s.angularSpeed=0,s.motion=0):s._original&&(s.restitution=s._original.restitution,s.friction=s._original.friction,s.mass=s._original.mass,s.inertia=s._original.inertia,s.density=s._original.density,s.inverseMass=s._original.inverseMass,s.inverseInertia=s._original.inverseInertia,s._original=null)}},s.setMass=function(e,t){var i=e.inertia/(e.mass/6);e.inertia=i*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},s.setDensity=function(e,t){s.setMass(e,t*e.area),e.density=t},s.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},s.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=n.create(t,e),e.axes=h.fromVertices(e.vertices),e.area=n.area(e.vertices),s.setMass(e,e.density*e.area);var i=n.centre(e.vertices);n.translate(e.vertices,i,-1),s.setInertia(e,s._inertiaScale*n.inertia(e.vertices,e.mass)),n.translate(e.vertices,e.position),c.update(e.bounds,e.vertices,e.velocity)},s.setParts=function(e,t,i){var a;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,a=0;a<t.length;a++){var r=t[a];r!==e&&(r.parent=e,e.parts.push(r))}if(1!==e.parts.length){if(i=void 0===i||i){var o=[];for(a=0;a<t.length;a++)o=o.concat(t[a].vertices);n.clockwiseSort(o);var h=n.hull(o),l=n.centre(h);s.setVertices(e,h),n.translate(e.vertices,l)}var d=s._totalProperties(e),u=d.centre.x,p=d.centre.y,f=e.bounds,m=e.centerOfMass,g=e.centerOffset;c.update(f,e.vertices,e.velocity),m.x=-(f.min.x-u)/(f.max.x-f.min.x),m.y=-(f.min.y-p)/(f.max.y-f.min.y),g.x=u,g.y=p,e.area=d.area,e.parent=e,e.position.x=u,e.position.y=p,e.positionPrev.x=u,e.positionPrev.y=p,s.setMass(e,d.mass),s.setInertia(e,d.inertia),s.setPosition(e,d.centre)}},s.setCentre=function(e,t,i){i?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},s.setPosition=function(e,t){var i=a.sub(t,e.position);e.positionPrev.x+=i.x,e.positionPrev.y+=i.y;for(var s=0;s<e.parts.length;s++){var r=e.parts[s];r.position.x+=i.x,r.position.y+=i.y,n.translate(r.vertices,i),c.update(r.bounds,r.vertices,e.velocity)}},s.setAngle=function(e,t){var i=t-e.angle;e.anglePrev+=i;for(var s=0;s<e.parts.length;s++){var r=e.parts[s];r.angle+=i,n.rotate(r.vertices,i,e.position),h.rotate(r.axes,i),c.update(r.bounds,r.vertices,e.velocity),s>0&&a.rotateAbout(r.position,i,e.position,r.position)}},s.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=a.magnitude(e.velocity)},s.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},s.translate=function(e,t){s.setPosition(e,a.add(e.position,t))},s.rotate=function(e,t,i){if(i){var n=Math.cos(t),a=Math.sin(t),r=e.position.x-i.x,o=e.position.y-i.y;s.setPosition(e,{x:i.x+(r*n-o*a),y:i.y+(r*a+o*n)}),s.setAngle(e,e.angle+t)}else s.setAngle(e,e.angle+t)},s.scale=function(e,t,i,a){var r=0,o=0;a=a||e.position;for(var l=0;l<e.parts.length;l++){var d=e.parts[l];d.scale.x=t,d.scale.y=i,n.scale(d.vertices,t,i,a),d.axes=h.fromVertices(d.vertices),d.area=n.area(d.vertices),s.setMass(d,e.density*d.area),n.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),s.setInertia(d,s._inertiaScale*n.inertia(d.vertices,d.mass)),n.translate(d.vertices,{x:d.position.x,y:d.position.y}),l>0&&(r+=d.area,o+=d.inertia),d.position.x=a.x+(d.position.x-a.x)*t,d.position.y=a.y+(d.position.y-a.y)*i,c.update(d.bounds,d.vertices,e.velocity)}e.parts.length>1&&(e.area=r,e.isStatic||(s.setMass(e,e.density*r),s.setInertia(e,o))),e.circleRadius&&(t===i?e.circleRadius*=t:e.circleRadius=null)},s.update=function(e,t,i,s){var r=Math.pow(t*i*e.timeScale,2),o=1-e.frictionAir*i*e.timeScale,l=e.position.x-e.positionPrev.x,d=e.position.y-e.positionPrev.y;e.velocity.x=l*o*s+e.force.x/e.mass*r,e.velocity.y=d*o*s+e.force.y/e.mass*r,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*o*s+e.torque/e.inertia*r,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=a.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var u=0;u<e.parts.length;u++){var p=e.parts[u];n.translate(p.vertices,e.velocity),u>0&&(p.position.x+=e.velocity.x,p.position.y+=e.velocity.y),0!==e.angularVelocity&&(n.rotate(p.vertices,e.angularVelocity,e.position),h.rotate(p.axes,e.angularVelocity),u>0&&a.rotateAbout(p.position,e.angularVelocity,e.position,p.position)),c.update(p.bounds,p.vertices,e.velocity)}},s.applyForce=function(e,t,i){e.force.x+=i.x,e.force.y+=i.y;var s=t.x-e.position.x,n=t.y-e.position.y;e.torque+=s*i.y-n*i.x},s._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===e.parts.length?0:1;i<e.parts.length;i++){var s=e.parts[i],n=s.mass!==1/0?s.mass:1;t.mass+=n,t.area+=s.area,t.inertia+=s.inertia,t.centre=a.add(t.centre,a.mult(s.position,n))}return t.centre=a.div(t.centre,t.mass),t}}()},function(e,t){e.exports=function(e,t,i,s){void 0===t&&(t=!0);var n=s.baseTileWidth,a=s.tilemapLayer;return a&&(void 0===i&&(i=a.scene.cameras.main),e-=a.x+i.scrollX*(1-a.scrollFactorX),n*=a.scaleX),t?Math.floor(e/n):e/n}},function(e,t){e.exports=function(e,t,i,s){void 0===t&&(t=!0);var n=s.baseTileHeight,a=s.tilemapLayer;return a&&(void 0===i&&(i=a.scene.cameras.main),e-=a.y+i.scrollY*(1-a.scrollFactorY),n*=a.scaleY),t?Math.floor(e/n):e/n}},function(e,t,i){var s=i(0),n=i(55),a=i(266),r=i(267),o=i(47),c=i(150),h=new s({initialize:function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.type=o.CIRCLE,this.x=e,this.y=t,this._radius=i,this._diameter=2*i},contains:function(e,t){return n(this,e,t)},getPoint:function(e,t){return a(this,e,t)},getPoints:function(e,t,i){return r(this,e,t,i)},getRandomPoint:function(e){return c(this,e)},setTo:function(e,t,i){return this.x=e,this.y=t,this._radius=i,this._diameter=2*i,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(e){this._radius=e,this._diameter=2*e}},diameter:{get:function(){return this._diameter},set:function(e){this._diameter=e,this._radius=.5*e}},left:{get:function(){return this.x-this._radius},set:function(e){this.x=e+this._radius}},right:{get:function(){return this.x+this._radius},set:function(e){this.x=e-this._radius}},top:{get:function(){return this.y-this._radius},set:function(e){this.y=e+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(e){this.y=e-this._radius}}});e.exports=h},function(e,t,i){"use strict";function s(e,t,i){i=i||2;var s,o,c,h,l,p,m,g=t&&t.length,y=g?t[0]*i:e.length,v=n(e,0,y,i,!0),w=[];if(!v||v.next===v.prev)return w;if(g&&(v=function(e,t,i,s){var r,o,c,h,l,p=[];for(r=0,o=t.length;r<o;r++)c=t[r]*s,h=r<o-1?t[r+1]*s:e.length,(l=n(e,c,h,s,!1))===l.next&&(l.steiner=!0),p.push(f(l));for(p.sort(d),r=0;r<p.length;r++)u(p[r],i),i=a(i,i.next);return i}(e,t,v,i)),e.length>80*i){s=c=e[0],o=h=e[1];for(var b=i;b<y;b+=i)(l=e[b])<s&&(s=l),(p=e[b+1])<o&&(o=p),l>c&&(c=l),p>h&&(h=p);m=0!==(m=Math.max(c-s,h-o))?1/m:0}return r(v,w,i,s,o,m),w}function n(e,t,i,s,n){var a,r;if(n===S(e,t,i,s)>0)for(a=t;a<i;a+=s)r=k(a,e[a],e[a+1],r);else for(a=i-s;a>=t;a-=s)r=k(a,e[a],e[a+1],r);return r&&v(r,r.next)&&(T(r),r=r.next),r}function a(e,t){if(!e)return e;t||(t=e);var i,s=e;do{if(i=!1,s.steiner||!v(s,s.next)&&0!==y(s.prev,s,s.next))s=s.next;else{if(T(s),(s=t=s.prev)===s.next)break;i=!0}}while(i||s!==t);return t}function r(e,t,i,s,n,d,u){if(e){!u&&d&&function(e,t,i,s){var n=e;do{null===n.z&&(n.z=p(n.x,n.y,t,i,s)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,i,s,n,a,r,o,c,h=1;do{for(i=e,e=null,a=null,r=0;i;){for(r++,s=i,o=0,t=0;t<h&&(o++,s=s.nextZ);t++);for(c=h;o>0||c>0&&s;)0!==o&&(0===c||!s||i.z<=s.z)?(n=i,i=i.nextZ,o--):(n=s,s=s.nextZ,c--),a?a.nextZ=n:e=n,n.prevZ=a,a=n;i=s}a.nextZ=null,h*=2}while(r>1)}(n)}(e,s,n,d);for(var f,m,g=e;e.prev!==e.next;)if(f=e.prev,m=e.next,d?c(e,s,n,d):o(e))t.push(f.i/i),t.push(e.i/i),t.push(m.i/i),T(e),e=m.next,g=m.next;else if((e=m)===g){u?1===u?r(e=h(e,t,i),t,i,s,n,d,2):2===u&&l(e,t,i,s,n,d):r(a(e),t,i,s,n,d,1);break}}}function o(e){var t=e.prev,i=e,s=e.next;if(y(t,i,s)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(m(t.x,t.y,i.x,i.y,s.x,s.y,n.x,n.y)&&y(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function c(e,t,i,s){var n=e.prev,a=e,r=e.next;if(y(n,a,r)>=0)return!1;for(var o=n.x<a.x?n.x<r.x?n.x:r.x:a.x<r.x?a.x:r.x,c=n.y<a.y?n.y<r.y?n.y:r.y:a.y<r.y?a.y:r.y,h=n.x>a.x?n.x>r.x?n.x:r.x:a.x>r.x?a.x:r.x,l=n.y>a.y?n.y>r.y?n.y:r.y:a.y>r.y?a.y:r.y,d=p(o,c,t,i,s),u=p(h,l,t,i,s),f=e.prevZ,g=e.nextZ;f&&f.z>=d&&g&&g.z<=u;){if(f!==e.prev&&f!==e.next&&m(n.x,n.y,a.x,a.y,r.x,r.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,g!==e.prev&&g!==e.next&&m(n.x,n.y,a.x,a.y,r.x,r.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;f&&f.z>=d;){if(f!==e.prev&&f!==e.next&&m(n.x,n.y,a.x,a.y,r.x,r.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;g&&g.z<=u;){if(g!==e.prev&&g!==e.next&&m(n.x,n.y,a.x,a.y,r.x,r.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function h(e,t,i){var s=e;do{var n=s.prev,a=s.next.next;!v(n,a)&&w(n,s,s.next,a)&&b(n,a)&&b(a,n)&&(t.push(n.i/i),t.push(s.i/i),t.push(a.i/i),T(s),T(s.next),s=e=a),s=s.next}while(s!==e);return s}function l(e,t,i,s,n,o){var c=e;do{for(var h=c.next.next;h!==c.prev;){if(c.i!==h.i&&g(c,h)){var l=x(c,h);return c=a(c,c.next),l=a(l,l.next),r(c,t,i,s,n,o),void r(l,t,i,s,n,o)}h=h.next}c=c.next}while(c!==e)}function d(e,t){return e.x-t.x}function u(e,t){if(t=function(e,t){var i,s=t,n=e.x,a=e.y,r=-1/0;do{if(a<=s.y&&a>=s.next.y&&s.next.y!==s.y){var o=s.x+(a-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(o<=n&&o>r){if(r=o,o===n){if(a===s.y)return s;if(a===s.next.y)return s.next}i=s.x<s.next.x?s:s.next}}s=s.next}while(s!==t);if(!i)return null;if(n===r)return i.prev;var c,h=i,l=i.x,d=i.y,u=1/0;for(s=i.next;s!==h;)n>=s.x&&s.x>=l&&n!==s.x&&m(a<d?n:r,a,l,d,a<d?r:n,a,s.x,s.y)&&((c=Math.abs(a-s.y)/(n-s.x))<u||c===u&&s.x>i.x)&&b(s,e)&&(i=s,u=c),s=s.next;return i}(e,t)){var i=x(t,e);a(i,i.next)}}function p(e,t,i,s,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-s)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function f(e){var t=e,i=e;do{t.x<i.x&&(i=t),t=t.next}while(t!==e);return i}function m(e,t,i,s,n,a,r,o){return(n-r)*(t-o)-(e-r)*(a-o)>=0&&(e-r)*(s-o)-(i-r)*(t-o)>=0&&(i-r)*(a-o)-(n-r)*(s-o)>=0}function g(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&w(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&b(e,t)&&b(t,e)&&function(e,t){var i=e,s=!1,n=(e.x+t.x)/2,a=(e.y+t.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next}while(i!==e);return s}(e,t)}function y(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function v(e,t){return e.x===t.x&&e.y===t.y}function w(e,t,i,s){return!!(v(e,t)&&v(i,s)||v(e,s)&&v(i,t))||y(e,t,i)>0!=y(e,t,s)>0&&y(i,s,e)>0!=y(i,s,t)>0}function b(e,t){return y(e.prev,e,e.next)<0?y(e,t,e.next)>=0&&y(e,e.prev,t)>=0:y(e,t,e.prev)<0||y(e,e.next,t)<0}function x(e,t){var i=new _(e.i,e.x,e.y),s=new _(t.i,t.x,t.y),n=e.next,a=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,s.next=i,i.prev=s,a.next=s,s.prev=a,s}function k(e,t,i,s){var n=new _(e,t,i);return s?(n.next=s.next,n.prev=s,s.next.prev=n,s.next=n):(n.prev=n,n.next=n),n}function T(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function _(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(e,t,i,s){for(var n=0,a=t,r=i-s;a<i;a+=s)n+=(e[r]-e[a])*(e[a+1]+e[r+1]),r=a;return n}e.exports=s,s.deviation=function(e,t,i,s){var n=t&&t.length,a=n?t[0]*i:e.length,r=Math.abs(S(e,0,a,i));if(n)for(var o=0,c=t.length;o<c;o++){var h=t[o]*i,l=o<c-1?t[o+1]*i:e.length;r-=Math.abs(S(e,h,l,i))}var d=0;for(o=0;o<s.length;o+=3){var u=s[o]*i,p=s[o+1]*i,f=s[o+2]*i;d+=Math.abs((e[u]-e[f])*(e[p+1]-e[u+1])-(e[u]-e[p])*(e[f+1]-e[u+1]))}return 0===r&&0===d?0:Math.abs((d-r)/r)},s.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},s=0,n=0;n<e.length;n++){for(var a=0;a<e[n].length;a++)for(var r=0;r<t;r++)i.vertices.push(e[n][a][r]);n>0&&(s+=e[n-1].length,i.holes.push(s))}return i}},function(e,t){e.exports=function(e){var t={};for(var i in e)Array.isArray(e[i])?t[i]=e[i].slice(0):t[i]=e[i];return t}},function(e,t){e.exports=function(e,t,i,s){var n=e.length;if(t<0||t>n||t>=i||i>n||t+i>n){if(s)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},function(e,t,i){var s=i(115),n=i(181);e.exports=function(e,t){var i=s.Power0;if("string"==typeof e)if(s.hasOwnProperty(e))i=s[e];else{var a="";e.indexOf(".")&&("in"===(a=e.substr(e.indexOf(".")+1)).toLowerCase()?a="easeIn":"out"===a.toLowerCase()?a="easeOut":"inout"===a.toLowerCase()&&(a="easeInOut")),e=n(e.substr(0,e.indexOf(".")+1)+a),s.hasOwnProperty(e)&&(i=s[e])}else"function"==typeof e?i=e:Array.isArray(e)&&e.length;if(!t)return i;var r=t.slice(0);return r.unshift(0),function(e){return r[0]=e,i.apply(this,r)}}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=e.strokeTint,o=s.getTintAppendFloatAlphaAndSwap(t.strokeColor,t.strokeAlpha*i);r.TL=o,r.TR=o,r.BL=o,r.BR=o;var c=t.pathData,h=c.length-1,l=t.lineWidth,d=l/2,u=c[0]-n,p=c[1]-a;t.closePath||(h-=2);for(var f=2;f<h;f+=2){var m=c[f]-n,g=c[f+1]-a;e.setTexture2D(),e.batchLine(u,p,m,g,d,d,l,f-2,!!t.closePath&&f===h-1),u=m,p=g}}},function(e,t,i){var s=i(0),n=i(83),a=i(425),r=i(426),o=i(47),c=i(56),h=i(158),l=new s({initialize:function(e,t,i,s,n,a){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=0),void 0===a&&(a=0),this.type=o.TRIANGLE,this.x1=e,this.y1=t,this.x2=i,this.y2=s,this.x3=n,this.y3=a},contains:function(e,t){return n(this,e,t)},getPoint:function(e,t){return a(this,e,t)},getPoints:function(e,t,i){return r(this,e,t,i)},getRandomPoint:function(e){return h(this,e)},setTo:function(e,t,i,s,n,a){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=0),void 0===a&&(a=0),this.x1=e,this.y1=t,this.x2=i,this.y2=s,this.x3=n,this.y3=a,this},getLineA:function(e){return void 0===e&&(e=new c),e.setTo(this.x1,this.y1,this.x2,this.y2),e},getLineB:function(e){return void 0===e&&(e=new c),e.setTo(this.x2,this.y2,this.x3,this.y3),e},getLineC:function(e){return void 0===e&&(e=new c),e.setTo(this.x3,this.y3,this.x1,this.y1),e},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(e){var t=0;t=this.x1<=this.x2&&this.x1<=this.x3?this.x1-e:this.x2<=this.x1&&this.x2<=this.x3?this.x2-e:this.x3-e,this.x1-=t,this.x2-=t,this.x3-=t}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(e){var t=0;t=this.x1>=this.x2&&this.x1>=this.x3?this.x1-e:this.x2>=this.x1&&this.x2>=this.x3?this.x2-e:this.x3-e,this.x1-=t,this.x2-=t,this.x3-=t}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(e){var t=0;t=this.y1<=this.y2&&this.y1<=this.y3?this.y1-e:this.y2<=this.y1&&this.y2<=this.y3?this.y2-e:this.y3-e,this.y1-=t,this.y2-=t,this.y3-=t}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(e){var t=0;t=this.y1>=this.y2&&this.y1>=this.y3?this.y1-e:this.y2>=this.y1&&this.y2>=this.y3?this.y2-e:this.y3-e,this.y1-=t,this.y2-=t,this.y3-=t}}});e.exports=l},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=new s({Extends:a,initialize:function e(t,i,s,n,r){var h,l="png";if(c(i)){var d=i;i=o(d,"key"),s=o(d,"url"),h=o(d,"normalMap"),n=o(d,"xhrSettings"),l=o(d,"extension",l),r=o(d,"frameConfig")}Array.isArray(s)&&(h=s[1],s=s[0]);var u={type:"image",cache:t.textureManager,extension:l,responseType:"blob",key:i,url:s,xhrSettings:n,config:r};if(a.call(this,t,u),h){var p=new e(t,this.key,h,n,r);p.type="normalMap",this.setLink(p),t.addFile(p)}},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){a.revokeObjectURL(e.data),e.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(e.data),e.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var e,t=this.linkFile;t&&t.state===n.FILE_COMPLETE?(e="image"===this.type?this.cache.addImage(this.key,this.data,t.data):this.cache.addImage(t.key,t.data,this.data),this.pendingDestroy(e),t.pendingDestroy(e)):t||(e=this.cache.addImage(this.key,this.data),this.pendingDestroy(e))}});r.register("image",(function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new h(this,e[s]));else this.addFile(new h(this,e,t,i));return this})),e.exports=h},function(e,t){e.exports=function(e,t){t?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)}},function(e,t,i){var s=i(0),n=i(12),a=i(444),r=new s({Mixins:[n.Alpha,n.Flip,n.Visible],initialize:function(e,t,i,s,n,a,r,o){this.layer=e,this.index=t,this.x=i,this.y=s,this.width=n,this.height=a,this.baseWidth=void 0!==r?r:n,this.baseHeight=void 0!==o?o:a,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=null,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(e,t){return!(e<this.pixelX||t<this.pixelY||e>this.right||t>this.bottom)},copy:function(e){return this.index=e.index,this.alpha=e.alpha,this.properties=e.properties,this.visible=e.visible,this.setFlip(e.flipX,e.flipY),this.tint=e.tint,this.rotation=e.rotation,this.collideUp=e.collideUp,this.collideDown=e.collideDown,this.collideLeft=e.collideLeft,this.collideRight=e.collideRight,this.collisionCallback=e.collisionCallback,this.collisionCallbackContext=e.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(e){var t=this.tilemapLayer;return t?t.tileToWorldX(this.x,e):this.x*this.baseWidth},getRight:function(e){var t=this.tilemapLayer;return t?this.getLeft(e)+this.width*t.scaleX:this.getLeft(e)+this.width},getTop:function(e){var t=this.tilemapLayer;return t?t.tileToWorldY(this.y,e)-(this.height-this.baseHeight)*t.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(e){var t=this.tilemapLayer;return t?this.getTop(e)+this.height*t.scaleY:this.getTop(e)+this.height},getBounds:function(e,t){return void 0===t&&(t=new a),t.x=this.getLeft(),t.y=this.getTop(),t.width=this.getRight()-t.x,t.height=this.getBottom()-t.y,t},getCenterX:function(e){return(this.getLeft(e)+this.getRight(e))/2},getCenterY:function(e){return(this.getTop(e)+this.getBottom(e))/2},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},intersects:function(e,t,i,s){return!(i<=this.pixelX||s<=this.pixelY||e>=this.right||t>=this.bottom)},isInteresting:function(e,t){return e&&t?this.canCollide||this.hasInterestingFace:e?this.collides:!!t&&this.hasInterestingFace},resetCollision:function(e){return void 0===e&&(e=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,e&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(e,t,i,s,n){return void 0===t&&(t=e),void 0===i&&(i=e),void 0===s&&(s=e),void 0===n&&(n=!0),this.collideLeft=e,this.collideRight=t,this.collideUp=i,this.collideDown=s,this.faceLeft=e,this.faceRight=t,this.faceTop=i,this.faceBottom=s,n&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(e,t){return null===e?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=e,this.collisionCallbackContext=t),this},setSize:function(e,t,i,s){return void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==i&&(this.baseWidth=i),void 0!==s&&(this.baseHeight=s),this.updatePixelXY(),this},updatePixelXY:function(){return this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight,this},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var e=this.layer.tilemapLayer;if(e){var t=e.gidMap[this.index];if(t)return t}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var e=this.tilemapLayer;return e?e.tilemap:null}}});e.exports=r},function(e,t,i){var s=i(0),n=i(12),a=i(14),r=i(967),o=new s({Extends:a,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.ScrollFactor,n.Size,n.TextureCrop,n.Tint,n.Transform,n.Visible,r],initialize:function(e,t,i,s,r){a.call(this,e,"Sprite"),this._crop=this.resetCropObject(),this.anims=new n.Animation(this),this.setTexture(s,r),this.setPosition(t,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},preUpdate:function(e,t){this.anims.update(e,t)},play:function(e,t,i){return this.anims.play(e,t,i),this},toJSON:function(){return n.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});e.exports=o},function(e,t){e.exports=function(e){return e.x-e.width*e.originX+.5*e.width}},function(e,t){e.exports=function(e,t){var i=e.width*e.originX;return e.x=t+i-.5*e.width,e}},function(e,t){e.exports=function(e){return e.y-e.height*e.originY+.5*e.height}},function(e,t){e.exports=function(e,t){var i=e.height*e.originY;return e.y=t+i-.5*e.height,e}},function(e,t){e.exports=function(e,t){if(!(t>=e.length)){for(var i=e.length-1,s=e[t],n=t;n<i;n++)e[n]=e[n+1];return e.length=i,s}}},function(e,t,i){var s=i(0),n=i(176),a=i(11),r=i(3),o=new s({initialize:function(e){this.type=e,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,t){return void 0===t&&(t=32),e.strokePoints(this.getPoints(t))},getBounds:function(e,t){e||(e=new a),void 0===t&&(t=16);var i=this.getLength();t>i&&(t=i/2);var s=Math.max(1,Math.round(i/t));return n(this.getSpacedPoints(s),e)},getDistancePoints:function(e){var t=this.getLength(),i=Math.max(1,t/e);return this.getSpacedPoints(i)},getEndPoint:function(e){return void 0===e&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i=[],s=this.getPoint(0,this._tmpVec2A),n=0;i.push(0);for(var a=1;a<=e;a++)n+=(t=this.getPoint(a/e,this._tmpVec2B)).distance(s),i.push(n),s.copy(t);return this.cacheArcLengths=i,i},getPointAt:function(e,t){var i=this.getUtoTmapping(e);return this.getPoint(i,t)},getPoints:function(e,t,i){void 0===i&&(i=[]),e||(e=t?this.getLength()/t:this.defaultDivisions);for(var s=0;s<=e;s++)i.push(this.getPoint(s/e));return i},getRandomPoint:function(e){return void 0===e&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,t,i){void 0===i&&(i=[]),e||(e=t?this.getLength()/t:this.defaultDivisions);for(var s=0;s<=e;s++){var n=this.getUtoTmapping(s/e,null,e);i.push(this.getPoint(n))}return i},getStartPoint:function(e){return void 0===e&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,t){void 0===t&&(t=new r);var i=e-1e-4,s=e+1e-4;return i<0&&(i=0),s>1&&(s=1),this.getPoint(i,this._tmpVec2A),this.getPoint(s,t),t.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,t){var i=this.getUtoTmapping(e);return this.getTangent(i,t)},getTFromDistance:function(e,t){return e<=0?0:this.getUtoTmapping(0,e,t)},getUtoTmapping:function(e,t,i){var s,n=this.getLengths(i),a=0,r=n.length;s=t?Math.min(t,n[r-1]):e*n[r-1];for(var o,c=0,h=r-1;c<=h;)if((o=n[a=Math.floor(c+(h-c)/2)]-s)<0)c=a+1;else{if(!(o>0)){h=a;break}h=a-1}if(n[a=h]===s)return a/(r-1);var l=n[a];return(a+(s-l)/(n[a+1]-l))/(r-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});e.exports=o},function(e,t,i){e.exports={ADD:i(870),COMPLETE:i(871),FILE_COMPLETE:i(872),FILE_KEY_COMPLETE:i(873),FILE_LOAD_ERROR:i(874),FILE_LOAD:i(875),FILE_PROGRESS:i(876),POST_PROCESS:i(877),PROGRESS:i(878),START:i(879)}},function(e,t){e.exports=function(e,t,i){var s=e.x3-e.x1,n=e.y3-e.y1,a=e.x2-e.x1,r=e.y2-e.y1,o=t-e.x1,c=i-e.y1,h=s*s+n*n,l=s*a+n*r,d=s*o+n*c,u=a*a+r*r,p=a*o+r*c,f=h*u-l*l,m=0===f?0:1/f,g=(u*d-l*p)*m,y=(h*p-l*d)*m;return g>=0&&y>=0&&g+y<1}},function(e,t,i){var s=i(4);e.exports=function(e,t,i){void 0===i&&(i=new s);var n=e.x1,a=e.y1,r=e.x2,o=e.y2,c=t.x1,h=t.y1,l=t.x2,d=t.y2,u=(d-h)*(r-n)-(l-c)*(o-a);if(0===u)return!1;var p=((l-c)*(a-h)-(d-h)*(n-c))/u,f=((r-n)*(a-h)-(o-a)*(n-c))/u;return p>=0&&p<=1&&f>=0&&f<=1&&(i.x=n+p*(r-n),i.y=a+p*(o-a),!0)}},function(e,t){e.exports=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)}},function(e,t,i){var s={};e.exports=s;var n=i(99),a=i(42);s.create=function(e,t){for(var i=[],s=0;s<e.length;s++){var n=e[s],a={x:n.x,y:n.y,index:s,body:t,isInternal:!1,contact:null,offset:null};a.contact={vertex:a,normalImpulse:0,tangentImpulse:0},i.push(a)}return i},s.fromPath=function(e,t){var i=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(e,t,s){i.push({x:parseFloat(t),y:parseFloat(s)})})),s.create(i,t)},s.centre=function(e){for(var t,i,a,r=s.area(e,!0),o={x:0,y:0},c=0;c<e.length;c++)a=(c+1)%e.length,t=n.cross(e[c],e[a]),i=n.mult(n.add(e[c],e[a]),t),o=n.add(o,i);return n.div(o,6*r)},s.mean=function(e){for(var t={x:0,y:0},i=0;i<e.length;i++)t.x+=e[i].x,t.y+=e[i].y;return n.div(t,e.length)},s.area=function(e,t){for(var i=0,s=e.length-1,n=0;n<e.length;n++)i+=(e[s].x-e[n].x)*(e[s].y+e[n].y),s=n;return t?i/2:Math.abs(i)/2},s.inertia=function(e,t){for(var i,s,a=0,r=0,o=e,c=0;c<o.length;c++)s=(c+1)%o.length,a+=(i=Math.abs(n.cross(o[s],o[c])))*(n.dot(o[s],o[s])+n.dot(o[s],o[c])+n.dot(o[c],o[c])),r+=i;return t/6*(a/r)},s.translate=function(e,t,i){var s;if(i)for(s=0;s<e.length;s++)e[s].x+=t.x*i,e[s].y+=t.y*i;else for(s=0;s<e.length;s++)e[s].x+=t.x,e[s].y+=t.y;return e},s.rotate=function(e,t,i){if(0!==t){for(var s=Math.cos(t),n=Math.sin(t),a=0;a<e.length;a++){var r=e[a],o=r.x-i.x,c=r.y-i.y;r.x=i.x+(o*s-c*n),r.y=i.y+(o*n+c*s)}return e}},s.contains=function(e,t){for(var i=0;i<e.length;i++){var s=e[i],n=e[(i+1)%e.length];if((t.x-s.x)*(n.y-s.y)+(t.y-s.y)*(s.x-n.x)>0)return!1}return!0},s.scale=function(e,t,i,a){if(1===t&&1===i)return e;var r,o;a=a||s.centre(e);for(var c=0;c<e.length;c++)r=e[c],o=n.sub(r,a),e[c].x=a.x+o.x*t,e[c].y=a.y+o.y*i;return e},s.chamfer=function(e,t,i,s,r){t="number"==typeof t?[t]:t||[8],i=void 0!==i?i:-1,s=s||2,r=r||14;for(var o=[],c=0;c<e.length;c++){var h=e[c-1>=0?c-1:e.length-1],l=e[c],d=e[(c+1)%e.length],u=t[c<t.length?c:t.length-1];if(0!==u){var p=n.normalise({x:l.y-h.y,y:h.x-l.x}),f=n.normalise({x:d.y-l.y,y:l.x-d.x}),m=Math.sqrt(2*Math.pow(u,2)),g=n.mult(a.clone(p),u),y=n.normalise(n.mult(n.add(p,f),.5)),v=n.sub(l,n.mult(y,m)),w=i;-1===i&&(w=1.75*Math.pow(u,.32)),(w=a.clamp(w,s,r))%2==1&&(w+=1);for(var b=Math.acos(n.dot(p,f))/w,x=0;x<w;x++)o.push(n.add(n.rotate(g,b*x),v))}else o.push(l)}return o},s.clockwiseSort=function(e){var t=s.mean(e);return e.sort((function(e,i){return n.angle(t,e)-n.angle(t,i)})),e},s.isConvex=function(e){var t,i,s,n,a=0,r=e.length;if(r<3)return null;for(t=0;t<r;t++)if(s=(t+2)%r,n=(e[i=(t+1)%r].x-e[t].x)*(e[s].y-e[i].y),(n-=(e[i].y-e[t].y)*(e[s].x-e[i].x))<0?a|=1:n>0&&(a|=2),3===a)return!1;return 0!==a||null},s.hull=function(e){var t,i,s=[],a=[];for((e=e.slice(0)).sort((function(e,t){var i=e.x-t.x;return 0!==i?i:e.y-t.y})),i=0;i<e.length;i+=1){for(t=e[i];a.length>=2&&n.cross3(a[a.length-2],a[a.length-1],t)<=0;)a.pop();a.push(t)}for(i=e.length-1;i>=0;i-=1){for(t=e[i];s.length>=2&&n.cross3(s[s.length-2],s[s.length-1],t)<=0;)s.pop();s.push(t)}return s.pop(),a.pop(),s.concat(a)}},function(e,t,i){var s=i(19);e.exports=function(e,t,i){return(i-t)*(e=s(e,0,1))}},function(e,t){e.exports=function(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i}},function(e,t){e.exports={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26}},function(e,t,i){e.exports={DESTROY:i(582),VIDEO_COMPLETE:i(583),VIDEO_CREATED:i(584),VIDEO_ERROR:i(585),VIDEO_LOOP:i(586),VIDEO_PLAY:i(587),VIDEO_SEEKED:i(588),VIDEO_SEEKING:i(589),VIDEO_STOP:i(590),VIDEO_TIMEOUT:i(591),VIDEO_UNLOCKED:i(592)}},function(e,t,i){var s=i(0),n=i(12),a=i(39),r=i(10),o=i(40),c=i(11),h=i(29),l=i(164),d=i(3),u=new s({Extends:r,Mixins:[n.Alpha,n.Visible],initialize:function(e,t,i,s){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.resolution=1,this.roundPixels=!1,this.useBounds=!1,this.worldView=new c,this.dirty=!0,this._x=e,this._y=t,this._cx=0,this._cy=0,this._cw=0,this._ch=0,this._width=i,this._height=s,this._bounds=new c,this._scrollX=0,this._scrollY=0,this._zoom=1,this._rotation=0,this.matrix=new h,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new d(i/2,s/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null},setOrigin:function(e,t){return void 0===e&&(e=.5),void 0===t&&(t=e),this.originX=e,this.originY=t,this},getScroll:function(e,t,i){void 0===i&&(i=new d);var s=.5*this.width,n=.5*this.height;return i.x=e-s,i.y=t-n,this.useBounds&&(i.x=this.clampX(i.x),i.y=this.clampY(i.y)),i},centerOnX:function(e){var t=.5*this.width;return this.midPoint.x=e,this.scrollX=e-t,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(e){var t=.5*this.height;return this.midPoint.y=e,this.scrollY=e-t,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(e,t){return this.centerOnX(e),this.centerOnY(t),this},centerToBounds:function(){if(this.useBounds){var e=this._bounds,t=.5*this.width,i=.5*this.height;this.midPoint.set(e.centerX,e.centerY),this.scrollX=e.centerX-t,this.scrollY=e.centerY-i}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(e){if(this.disableCull)return e;var t=this.matrix.matrix,i=t[0],s=t[1],n=t[2],a=t[3],r=i*a-s*n;if(!r)return e;var o=t[4],c=t[5],h=this.scrollX,l=this.scrollY,d=this.width,u=this.height,p=this.y,f=p+u,m=this.x,g=m+d,y=this.culledObjects,v=e.length;r=1/r,y.length=0;for(var w=0;w<v;++w){var b=e[w];if(b.hasOwnProperty("width")&&!b.parentContainer){var x=b.width,k=b.height,T=b.x-h*b.scrollFactorX-x*b.originX,_=b.y-l*b.scrollFactorY-k*b.originY;(T+x)*i+(_+k)*n+o>m&&T*i+_*n+o<g&&(T+x)*s+(_+k)*a+c>p&&T*s+_*a+c<f&&y.push(b)}else y.push(b)}return y},getWorldPoint:function(e,t,i){void 0===i&&(i=new d);var s=this.matrix.matrix,n=s[0],a=s[1],r=s[2],o=s[3],c=s[4],h=s[5],l=n*o-a*r;if(!l)return i.x=e,i.y=t,i;var u=o*(l=1/l),p=-a*l,f=-r*l,m=n*l,g=(r*h-o*c)*l,y=(a*c-n*h)*l,v=Math.cos(this.rotation),w=Math.sin(this.rotation),b=this.zoom,x=this.resolution,k=this.scrollX,T=this.scrollY,_=e+(k*v-T*w)*b,S=t+(k*w+T*v)*b;return i.x=(_*u+S*f)*x+g,i.y=(_*p+S*m)*x+y,i},ignore:function(e){var t=this.id;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var s=e[i];Array.isArray(s)?this.ignore(s):s.isParent?this.ignore(s.getChildren()):s.cameraFilter|=t}return this},preRender:function(e){var t=this.width,i=this.height,s=.5*t,n=.5*i,a=this.zoom*e,r=this.matrix,o=t*this.originX,c=i*this.originY,h=this.scrollX,l=this.scrollY;this.useBounds&&(h=this.clampX(h),l=this.clampY(l)),this.roundPixels&&(o=Math.round(o),c=Math.round(c)),this.scrollX=h,this.scrollY=l;var d=h+s,u=l+n;this.midPoint.set(d,u);var p=t/a,f=i/a;this.worldView.setTo(d-p/2,u-f/2,p,f),r.applyITRS(this.x+o,this.y+c,this.rotation,a,a),r.translate(-o,-c)},clampX:function(e){var t=this._bounds,i=this.displayWidth,s=t.x+(i-this.width)/2,n=Math.max(s,s+t.width-i);return e<s?e=s:e>n&&(e=n),e},clampY:function(e){var t=this._bounds,i=this.displayHeight,s=t.y+(i-this.height)/2,n=Math.max(s,s+t.height-i);return e<s?e=s:e>n&&(e=n),e},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(e){return void 0===e&&(e=0),this.rotation=a(e),this},setBackgroundColor:function(e){return void 0===e&&(e="rgba(0,0,0,0)"),this.backgroundColor=l(e),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(e,t,i,s,n){return void 0===n&&(n=!1),this._bounds.setTo(e,t,i,s),this.dirty=!0,this.useBounds=!0,n?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(e){void 0===e&&(e=new c);var t=this._bounds;return e.setTo(t.x,t.y,t.width,t.height),e},setName:function(e){return void 0===e&&(e=""),this.name=e,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setRotation:function(e){return void 0===e&&(e=0),this.rotation=e,this},setRoundPixels:function(e){return this.roundPixels=e,this},setScene:function(e){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=e;var t=e.sys;this.sceneManager=t.game.scene,this.scaleManager=t.scale,this.cameraManager=t.cameras;var i=this.scaleManager.resolution;return this.resolution=i,this._cx=this._x*i,this._cy=this._y*i,this._cw=this._width*i,this._ch=this._height*i,this.updateSystem(),this},setScroll:function(e,t){return void 0===t&&(t=e),this.scrollX=e,this.scrollY=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},setViewport:function(e,t,i,s){return this.x=e,this.y=t,this.width=i,this.height=s,this},setZoom:function(e){return void 0===e&&(e=1),0===e&&(e=.001),this.zoom=e,this},setMask:function(e,t){return void 0===t&&(t=!0),this.mask=e,this._maskCamera=t?this.cameraManager.default:this,this},clearMask:function(e){return void 0===e&&(e=!1),e&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var e={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(e.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),e},update:function(){},updateSystem:function(){if(this.scaleManager){var e=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,t=this.sceneManager;e&&!this._customViewport?t.customViewports++:!e&&this._customViewport&&t.customViewports--,this.dirty=!0,this._customViewport=e}},destroy:function(){this.emit(o.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(e){this._x=e,this._cx=e*this.resolution,this.updateSystem()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._cy=e*this.resolution,this.updateSystem()}},width:{get:function(){return this._width},set:function(e){this._width=e,this._cw=e*this.resolution,this.updateSystem()}},height:{get:function(){return this._height},set:function(e){this._height=e,this._ch=e*this.resolution,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(e){this._scrollX=e,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(e){this._scrollY=e,this.dirty=!0}},zoom:{get:function(){return this._zoom},set:function(e){this._zoom=e,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoom}},displayHeight:{get:function(){return this.height/this.zoom}}});e.exports=u},function(e,t,i){e.exports={ENTER_FULLSCREEN:i(703),FULLSCREEN_FAILED:i(704),FULLSCREEN_UNSUPPORTED:i(705),LEAVE_FULLSCREEN:i(706),ORIENTATION_CHANGE:i(707),RESIZE:i(708)}},function(e,t){e.exports=function(e,t,i,s){return void 0===i&&(i=0),0===t?e:(e-=i,e=t*Math.floor(e/t),s?(i+e)/t:i+e)}},function(e,t,i){var s=i(0),n=i(19),a=i(18),r=new s({initialize:function(e,t,i,s,n,a,r){this.texture=e,this.name=t,this.source=e.source[i],this.sourceIndex=i,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(a,r,s,n)},setSize:function(e,t,i,s){void 0===i&&(i=0),void 0===s&&(s=0),this.cutX=i,this.cutY=s,this.cutWidth=e,this.cutHeight=t,this.width=e,this.height=t,this.halfWidth=Math.floor(.5*e),this.halfHeight=Math.floor(.5*t),this.centerX=Math.floor(e/2),this.centerY=Math.floor(t/2);var n=this.data,a=n.cut;a.x=i,a.y=s,a.w=e,a.h=t,a.r=i+e,a.b=s+t,n.sourceSize.w=e,n.sourceSize.h=t,n.spriteSourceSize.w=e,n.spriteSourceSize.h=t,n.radius=.5*Math.sqrt(e*e+t*t);var r=n.drawImage;return r.x=i,r.y=s,r.width=e,r.height=t,this.updateUVs()},setTrim:function(e,t,i,s,n,a){var r=this.data,o=r.spriteSourceSize;return r.trim=!0,r.sourceSize.w=e,r.sourceSize.h=t,o.x=i,o.y=s,o.w=n,o.h=a,o.r=i+n,o.b=s+a,this.x=i,this.y=s,this.width=n,this.height=a,this.halfWidth=.5*n,this.halfHeight=.5*a,this.centerX=Math.floor(n/2),this.centerY=Math.floor(a/2),this.updateUVs()},setCropUVs:function(e,t,i,s,a,r,o){var c=this.cutX,h=this.cutY,l=this.cutWidth,d=this.cutHeight,u=this.realWidth,p=this.realHeight,f=c+(t=n(t,0,u)),m=h+(i=n(i,0,p)),g=s=n(s,0,u-t),y=a=n(a,0,p-i),v=this.data;if(v.trim){var w=v.spriteSourceSize,b=t+(s=n(s,0,l-t)),x=i+(a=n(a,0,d-i));if(w.r<t||w.b<i||w.x>b||w.y>x)f=0,m=0,g=0,y=0;else{var k=Math.max(w.x,t),T=Math.max(w.y,i),_=Math.min(w.r,b)-k,S=Math.min(w.b,x)-T;g=_,y=S,f=r?c+(l-(k-w.x)-_):c+(k-w.x),m=o?h+(d-(T-w.y)-S):h+(T-w.y),t=k,i=T,s=_,a=S}}else r&&(f=c+(l-t-s)),o&&(m=h+(d-i-a));var C=this.source.width,P=this.source.height;return e.u0=Math.max(0,f/C),e.v0=Math.max(0,m/P),e.u1=Math.min(1,(f+g)/C),e.v1=Math.min(1,(m+y)/P),e.x=t,e.y=i,e.cx=f,e.cy=m,e.cw=g,e.ch=y,e.width=s,e.height=a,e.flipX=r,e.flipY=o,e},updateCropUVs:function(e,t,i){return this.setCropUVs(e,e.x,e.y,e.width,e.height,t,i)},updateUVs:function(){var e=this.cutX,t=this.cutY,i=this.cutWidth,s=this.cutHeight,n=this.data.drawImage;n.width=i,n.height=s;var a=this.source.width,r=this.source.height;return this.u0=e/a,this.v0=t/r,this.u1=(e+i)/a,this.v1=(t+s)/r,this},updateUVsInverted:function(){var e=this.source.width,t=this.source.height;return this.u0=(this.cutX+this.cutHeight)/e,this.v0=this.cutY/t,this.u1=this.cutX/e,this.v1=(this.cutY+this.cutWidth)/t,this},clone:function(){var e=new r(this.texture,this.name,this.sourceIndex);return e.cutX=this.cutX,e.cutY=this.cutY,e.cutWidth=this.cutWidth,e.cutHeight=this.cutHeight,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e.halfWidth=this.halfWidth,e.halfHeight=this.halfHeight,e.centerX=this.centerX,e.centerY=this.centerY,e.rotated=this.rotated,e.data=a(!0,e.data,this.data),e.updateUVs(),e},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});e.exports=r},function(e,t,i){var s=i(0),n=i(96),a=i(398),r=i(399),o=i(47),c=i(157),h=new s({initialize:function(e,t,i,s){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),this.type=o.ELLIPSE,this.x=e,this.y=t,this.width=i,this.height=s},contains:function(e,t){return n(this,e,t)},getPoint:function(e,t){return a(this,e,t)},getPoints:function(e,t,i){return r(this,e,t,i)},getRandomPoint:function(e){return c(this,e)},setTo:function(e,t,i,s){return this.x=e,this.y=t,this.width=i,this.height=s,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(e){this.x=e+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(e){this.y=e+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}});e.exports=h},function(e,t){e.exports=function(e,t,i){if(e.width<=0||e.height<=0)return!1;var s=(t-e.x)/e.width,n=(i-e.y)/e.height;return(s*=s)+(n*=n)<.25}},function(e,t,i){var s=i(241),n=i(0),a=i(90),r=i(2),o=i(6),c=i(7),h=i(392),l=i(133),d=i(75),u=new n({initialize:function(e,t,i){i?t&&!Array.isArray(t)&&(t=[t]):Array.isArray(t)?c(t[0])&&(i=t,t=null):c(t)&&(i=t,t=null),this.scene=e,this.children=new l,this.isParent=!0,this.type="Group",this.classType=r(i,"classType",d),this.name=r(i,"name",""),this.active=r(i,"active",!0),this.maxSize=r(i,"maxSize",-1),this.defaultKey=r(i,"defaultKey",null),this.defaultFrame=r(i,"defaultFrame",null),this.runChildUpdate=r(i,"runChildUpdate",!1),this.createCallback=r(i,"createCallback",null),this.removeCallback=r(i,"removeCallback",null),this.createMultipleCallback=r(i,"createMultipleCallback",null),this.internalCreateCallback=r(i,"internalCreateCallback",null),this.internalRemoveCallback=r(i,"internalRemoveCallback",null),t&&this.addMultiple(t),i&&this.createMultiple(i)},create:function(e,t,i,s,n,a){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.defaultKey),void 0===s&&(s=this.defaultFrame),void 0===n&&(n=!0),void 0===a&&(a=!0),this.isFull())return null;var r=new this.classType(this.scene,e,t,i,s);return this.scene.sys.displayList.add(r),r.preUpdate&&this.scene.sys.updateList.add(r),r.visible=n,r.setActive(a),this.add(r),r},createMultiple:function(e){if(this.isFull())return[];Array.isArray(e)||(e=[e]);var t=[];if(e[0].key)for(var i=0;i<e.length;i++){var s=this.createFromConfig(e[i]);t=t.concat(s)}return t},createFromConfig:function(e){if(this.isFull())return[];this.classType=r(e,"classType",this.classType);var t=r(e,"key",void 0),i=r(e,"frame",null),n=r(e,"visible",!0),a=r(e,"active",!0),c=[];if(void 0===t)return c;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);var l=r(e,"repeat",0),d=r(e,"randomKey",!1),u=r(e,"randomFrame",!1),p=r(e,"yoyo",!1),f=r(e,"quantity",!1),m=r(e,"frameQuantity",1),g=r(e,"max",0),y=h(t,i,{max:g,qty:f||m,random:d,randomB:u,repeat:l,yoyo:p});e.createCallback&&(this.createCallback=e.createCallback),e.removeCallback&&(this.removeCallback=e.removeCallback);for(var v=0;v<y.length;v++){var w=this.create(0,0,y[v].a,y[v].b,n,a);if(!w)break;c.push(w)}var b=o(e,"setXY.x",0),x=o(e,"setXY.y",0),k=o(e,"setXY.stepX",0),T=o(e,"setXY.stepY",0);s.SetXY(c,b,x,k,T);var _=o(e,"setRotation.value",0),S=o(e,"setRotation.step",0);s.SetRotation(c,_,S);var C=o(e,"setScale.x",1),P=o(e,"setScale.y",C),B=o(e,"setScale.stepX",0),A=o(e,"setScale.stepY",0);s.SetScale(c,C,P,B,A);var E=o(e,"setAlpha.value",1),M=o(e,"setAlpha.step",0);s.SetAlpha(c,E,M);var O=o(e,"setDepth.value",0),I=o(e,"setDepth.step",0);s.SetDepth(c,O,I);var R=o(e,"setScrollFactor.x",1),D=o(e,"setScrollFactor.y",R),N=o(e,"setScrollFactor.stepX",0),F=o(e,"setScrollFactor.stepY",0);s.SetScrollFactor(c,R,D,N,F);var L=r(e,"hitArea",null),Y=r(e,"hitAreaCallback",null);L&&s.SetHitArea(c,L,Y);var U=r(e,"gridAlign",!1);return U&&s.GridAlign(c,U),this.createMultipleCallback&&this.createMultipleCallback.call(this,c),c},preUpdate:function(e,t){if(this.runChildUpdate&&0!==this.children.size)for(var i=this.children.entries.slice(),s=0;s<i.length;s++){var n=i[s];n.active&&n.update(e,t)}},add:function(e,t){return void 0===t&&(t=!1),this.isFull()||(this.children.set(e),this.internalCreateCallback&&this.internalCreateCallback.call(this,e),this.createCallback&&this.createCallback.call(this,e),t&&(this.scene.sys.displayList.add(e),e.preUpdate&&this.scene.sys.updateList.add(e)),e.on(a.DESTROY,this.remove,this)),this},addMultiple:function(e,t){if(void 0===t&&(t=!1),Array.isArray(e))for(var i=0;i<e.length;i++)this.add(e[i],t);return this},remove:function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!1),this.children.contains(e)?(this.children.delete(e),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,e),this.removeCallback&&this.removeCallback.call(this,e),e.off(a.DESTROY,this.remove,this),i?e.destroy():t&&(e.scene.sys.displayList.remove(e),e.preUpdate&&e.scene.sys.updateList.remove(e)),this):this},clear:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var i=this.children,s=0;s<i.size;s++){var n=i.entries[s];n.off(a.DESTROY,this.remove,this),t?n.destroy():e&&(n.scene.sys.displayList.remove(n),n.preUpdate&&n.scene.sys.updateList.remove(n))}return this.children.clear(),this},contains:function(e){return this.children.contains(e)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(e,t,i,s,n,a,r){return this.getHandler(!0,1,e,t,i,s,n,a,r)},getFirstNth:function(e,t,i,s,n,a,r,o){return this.getHandler(!0,e,t,i,s,n,a,r,o)},getLast:function(e,t,i,s,n,a,r){return this.getHandler(!1,1,e,t,i,s,n,a,r)},getLastNth:function(e,t,i,s,n,a,r,o){return this.getHandler(!1,e,t,i,s,n,a,r,o)},getHandler:function(e,t,i,s,n,a,r,o,c){var h,l;void 0===i&&(i=!1),void 0===s&&(s=!1);var d=0,u=this.children.entries;if(e)for(l=0;l<u.length;l++)if((h=u[l]).active===i){if(++d===t)break}else h=null;else for(l=u.length-1;l>=0;l--)if((h=u[l]).active===i){if(++d===t)break}else h=null;return h?("number"==typeof n&&(h.x=n),"number"==typeof a&&(h.y=a),h):s?this.create(n,a,r,o,c):null},get:function(e,t,i,s,n){return this.getFirst(!1,!0,e,t,i,s,n)},getFirstAlive:function(e,t,i,s,n,a){return this.getFirst(!0,e,t,i,s,n,a)},getFirstDead:function(e,t,i,s,n,a){return this.getFirst(!1,e,t,i,s,n,a)},playAnimation:function(e,t){return s.PlayAnimation(this.children.entries,e,t),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(e){void 0===e&&(e=!0);for(var t=0,i=0;i<this.children.size;i++)this.children.entries[i].active===e&&t++;return t},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var e=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-e},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},propertyValueSet:function(e,t,i,n,a){return s.PropertyValueSet(this.children.entries,e,t,i,n,a),this},propertyValueInc:function(e,t,i,n,a){return s.PropertyValueInc(this.children.entries,e,t,i,n,a),this},setX:function(e,t){return s.SetX(this.children.entries,e,t),this},setY:function(e,t){return s.SetY(this.children.entries,e,t),this},setXY:function(e,t,i,n){return s.SetXY(this.children.entries,e,t,i,n),this},incX:function(e,t){return s.IncX(this.children.entries,e,t),this},incY:function(e,t){return s.IncY(this.children.entries,e,t),this},incXY:function(e,t,i,n){return s.IncXY(this.children.entries,e,t,i,n),this},shiftPosition:function(e,t,i){return s.ShiftPosition(this.children.entries,e,t,i),this},angle:function(e,t){return s.Angle(this.children.entries,e,t),this},rotate:function(e,t){return s.Rotate(this.children.entries,e,t),this},rotateAround:function(e,t){return s.RotateAround(this.children.entries,e,t),this},rotateAroundDistance:function(e,t,i){return s.RotateAroundDistance(this.children.entries,e,t,i),this},setAlpha:function(e,t){return s.SetAlpha(this.children.entries,e,t),this},setTint:function(e,t,i,n){return s.SetTint(this.children.entries,e,t,i,n),this},setOrigin:function(e,t,i,n){return s.SetOrigin(this.children.entries,e,t,i,n),this},scaleX:function(e,t){return s.ScaleX(this.children.entries,e,t),this},scaleY:function(e,t){return s.ScaleY(this.children.entries,e,t),this},scaleXY:function(e,t,i,n){return s.ScaleXY(this.children.entries,e,t,i,n),this},setDepth:function(e,t){return s.SetDepth(this.children.entries,e,t),this},setBlendMode:function(e){return s.SetBlendMode(this.children.entries,e),this},setHitArea:function(e,t){return s.SetHitArea(this.children.entries,e,t),this},shuffle:function(){return s.Shuffle(this.children.entries),this},kill:function(e){this.children.contains(e)&&e.setActive(!1)},killAndHide:function(e){this.children.contains(e)&&(e.setActive(!1),e.setVisible(!1))},setVisible:function(e,t,i){return s.SetVisible(this.children.entries,e,t,i),this},toggleVisible:function(){return s.ToggleVisible(this.children.entries),this},destroy:function(e){void 0===e&&(e=!1),this.scene&&!this.ignoreDestroy&&(this.clear(!1,e),this.scene=void 0,this.children=void 0)}});e.exports=u},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a,r){for(var o=s.getTintAppendFloatAlphaAndSwap(i.fillColor,i.fillAlpha*n),c=i.pathData,h=i.pathIndexes,l=0;l<h.length;l+=3){var d=2*h[l],u=2*h[l+1],p=2*h[l+2],f=c[d+0]-a,m=c[d+1]-r,g=c[u+0]-a,y=c[u+1]-r,v=c[p+0]-a,w=c[p+1]-r,b=t.getX(f,m),x=t.getY(f,m),k=t.getX(g,y),T=t.getY(g,y),_=t.getX(v,w),S=t.getY(v,w);e.setTexture2D(),e.batchTri(b,x,k,T,_,S,0,0,1,1,o,o,o,e.tintEffect)}}},function(e,t){var i={};e.exports=i,i.create=function(e,t){return{x:e||0,y:t||0}},i.clone=function(e){return{x:e.x,y:e.y}},i.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},i.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},i.rotate=function(e,t,i){var s=Math.cos(t),n=Math.sin(t);i||(i={});var a=e.x*s-e.y*n;return i.y=e.x*n+e.y*s,i.x=a,i},i.rotateAbout=function(e,t,i,s){var n=Math.cos(t),a=Math.sin(t);s||(s={});var r=i.x+((e.x-i.x)*n-(e.y-i.y)*a);return s.y=i.y+((e.x-i.x)*a+(e.y-i.y)*n),s.x=r,s},i.normalise=function(e){var t=i.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},i.dot=function(e,t){return e.x*t.x+e.y*t.y},i.cross=function(e,t){return e.x*t.y-e.y*t.x},i.cross3=function(e,t,i){return(t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x)},i.add=function(e,t,i){return i||(i={}),i.x=e.x+t.x,i.y=e.y+t.y,i},i.sub=function(e,t,i){return i||(i={}),i.x=e.x-t.x,i.y=e.y-t.y,i},i.mult=function(e,t){return{x:e.x*t,y:e.y*t}},i.div=function(e,t){return{x:e.x/t,y:e.y/t}},i.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},i.neg=function(e){return{x:-e.x,y:-e.y}},i.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},function(e,t){var i={};e.exports=i,i.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&i.update(t,e),t},i.update=function(e,t,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var s=0;s<t.length;s++){var n=t[s];n.x>e.max.x&&(e.max.x=n.x),n.x<e.min.x&&(e.min.x=n.x),n.y>e.max.y&&(e.max.y=n.y),n.y<e.min.y&&(e.min.y=n.y)}i&&(i.x>0?e.max.x+=i.x:e.min.x+=i.x,i.y>0?e.max.y+=i.y:e.min.y+=i.y)},i.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},i.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},i.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},i.shift=function(e,t){var i=e.max.x-e.min.x,s=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+i,e.min.y=t.y,e.max.y=t.y+s}},function(e,t){e.exports=function(e,t,i){return e>=0&&e<i.width&&t>=0&&t<i.height}},function(e,t,i){var s=i(0),n=i(2),a=new s({initialize:function(e){void 0===e&&(e={}),this.name=n(e,"name","layer"),this.x=n(e,"x",0),this.y=n(e,"y",0),this.width=n(e,"width",0),this.height=n(e,"height",0),this.tileWidth=n(e,"tileWidth",0),this.tileHeight=n(e,"tileHeight",0),this.baseTileWidth=n(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=n(e,"baseTileHeight",this.tileHeight),this.widthInPixels=n(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=n(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=n(e,"alpha",1),this.visible=n(e,"visible",!0),this.properties=n(e,"properties",[]),this.indexes=n(e,"indexes",[]),this.collideIndexes=n(e,"collideIndexes",[]),this.callbacks=n(e,"callbacks",[]),this.bodies=n(e,"bodies",[]),this.data=n(e,"data",[]),this.tilemapLayer=n(e,"tilemapLayer",null)}});e.exports=a},function(e,t,i){var s=i(0),n=i(2),a=new s({initialize:function(e){void 0===e&&(e={}),this.name=n(e,"name","map"),this.width=n(e,"width",0),this.height=n(e,"height",0),this.infinite=n(e,"infinite",!1),this.tileWidth=n(e,"tileWidth",0),this.tileHeight=n(e,"tileHeight",0),this.widthInPixels=n(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=n(e,"heightInPixels",this.height*this.tileHeight),this.format=n(e,"format",null),this.orientation=n(e,"orientation","orthogonal"),this.renderOrder=n(e,"renderOrder","right-down"),this.version=n(e,"version","1"),this.properties=n(e,"properties",{}),this.layers=n(e,"layers",[]),this.images=n(e,"images",[]),this.objects=n(e,"objects",{}),this.collision=n(e,"collision",{}),this.tilesets=n(e,"tilesets",[]),this.imageCollections=n(e,"imageCollections",[]),this.tiles=n(e,"tiles",[])}});e.exports=a},function(e,t,i){var s=new(i(0))({initialize:function(e,t,i,s,n,a,r,o){(void 0===i||i<=0)&&(i=32),(void 0===s||s<=0)&&(s=32),void 0===n&&(n=0),void 0===a&&(a=0),void 0===r&&(r={}),void 0===o&&(o={}),this.name=e,this.firstgid=t,this.tileWidth=i,this.tileHeight=s,this.tileMargin=n,this.tileSpacing=a,this.tileProperties=r,this.tileData=o,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(e){return this.containsTileIndex(e)?this.tileProperties[e-this.firstgid]:null},getTileData:function(e){return this.containsTileIndex(e)?this.tileData[e-this.firstgid]:null},getTileCollisionGroup:function(e){var t=this.getTileData(e);return t&&t.objectgroup?t.objectgroup:null},containsTileIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},getTileTextureCoordinates:function(e){return this.containsTileIndex(e)?this.texCoordinates[e-this.firstgid]:null},setImage:function(e){return this.image=e,this.glTexture=e.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(e,t){return void 0!==e&&(this.tileWidth=e),void 0!==t&&(this.tileHeight=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(e,t){return void 0!==e&&(this.tileMargin=e),void 0!==t&&(this.tileSpacing=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(e,t){var i=(t-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(e-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);i%1==0&&s%1==0||console.warn("Image tile area not tile size multiple in: "+this.name),i=Math.floor(i),s=Math.floor(s),this.rows=i,this.columns=s,this.total=i*s,this.texCoordinates.length=0;for(var n=this.tileMargin,a=this.tileMargin,r=0;r<this.rows;r++){for(var o=0;o<this.columns;o++)this.texCoordinates.push({x:n,y:a}),n+=this.tileWidth+this.tileSpacing;n=this.tileMargin,a+=this.tileHeight+this.tileSpacing}return this}});e.exports=s},function(e,t){e.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},function(e,t){e.exports=function(e,t,i){return void 0===i&&(i=1e-4),Math.abs(e-t)<i}},function(e,t,i){var s=i(0),n=i(12),a=i(14),r=i(970),o=new s({Extends:a,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.ScrollFactor,n.Size,n.TextureCrop,n.Tint,n.Transform,n.Visible,r],initialize:function(e,t,i,s,n){a.call(this,e,"Image"),this._crop=this.resetCropObject(),this.setTexture(s,n),this.setPosition(t,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});e.exports=o},function(e,t){e.exports=function(e,t){return e.hasOwnProperty(t)}},function(e,t,i){var s={};e.exports=s;var n=i(86),a=i(42),r=i(62),o=i(100),c=i(99),h=i(1386);s.rectangle=function(e,t,i,s,o){o=o||{};var c={label:"Rectangle Body",position:{x:e,y:t},vertices:n.fromPath("L 0 0 L "+i+" 0 L "+i+" "+s+" L 0 "+s)};if(o.chamfer){var h=o.chamfer;c.vertices=n.chamfer(c.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete o.chamfer}return r.create(a.extend({},c,o))},s.trapezoid=function(e,t,i,s,o,c){c=c||{};var h,l=i*(o*=.5),d=l+(1-2*o)*i,u=d+l;h=o<.5?"L 0 0 L "+l+" "+-s+" L "+d+" "+-s+" L "+u+" 0":"L 0 0 L "+d+" "+-s+" L "+u+" 0";var p={label:"Trapezoid Body",position:{x:e,y:t},vertices:n.fromPath(h)};if(c.chamfer){var f=c.chamfer;p.vertices=n.chamfer(p.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete c.chamfer}return r.create(a.extend({},p,c))},s.circle=function(e,t,i,n,r){n=n||{};var o={label:"Circle Body",circleRadius:i};r=r||25;var c=Math.ceil(Math.max(10,Math.min(r,i)));return c%2==1&&(c+=1),s.polygon(e,t,c,i,a.extend({},o,n))},s.polygon=function(e,t,i,o,c){if(c=c||{},i<3)return s.circle(e,t,o,c);for(var h=2*Math.PI/i,l="",d=.5*h,u=0;u<i;u+=1){var p=d+u*h,f=Math.cos(p)*o,m=Math.sin(p)*o;l+="L "+f.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:e,y:t},vertices:n.fromPath(l)};if(c.chamfer){var y=c.chamfer;g.vertices=n.chamfer(g.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete c.chamfer}return r.create(a.extend({},g,c))},s.fromVertices=function(e,t,i,o,c,l,d){var u,p,f,m,g,y;for(o=o||{},p=[],c=void 0!==c&&c,l=void 0!==l?l:.01,d=void 0!==d?d:10,h||a.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),a.isArray(i[0])||(i=[i]),y=0;y<i.length;y+=1)if(m=i[y],(f=n.isConvex(m))||!h)m=f?n.clockwiseSort(m):n.hull(m),p.push({position:{x:e,y:t},vertices:m});else{var v=m.map((function(e){return[e.x,e.y]}));h.makeCCW(v),!1!==l&&h.removeCollinearPoints(v,l);var w=h.quickDecomp(v);for(g=0;g<w.length;g++){var b=w[g].map((function(e){return{x:e[0],y:e[1]}}));d>0&&n.area(b)<d||p.push({position:n.centre(b),vertices:b})}}for(g=0;g<p.length;g++)p[g]=r.create(a.extend(p[g],o));return c&&s.flagCoincidentParts(p,5),p.length>1?(u=r.create(a.extend({parts:p.slice(0)},o)),r.setPosition(u,{x:e,y:t}),u):p[0]},s.flagCoincidentParts=function(e,t){void 0===t&&(t=5);for(var i=0;i<e.length;i++)for(var s=e[i],n=i+1;n<e.length;n++){var a=e[n];if(o.overlaps(s.bounds,a.bounds))for(var r=s.vertices,h=a.vertices,l=0;l<s.vertices.length;l++)for(var d=0;d<a.vertices.length;d++){var u=c.magnitudeSquared(c.sub(r[(l+1)%r.length],h[d])),p=c.magnitudeSquared(c.sub(r[l],h[(d+1)%h.length]));u<t&&p<t&&(r[l].isInternal=!0,h[d].isInternal=!0)}}return e}},function(e,t,i){var s=i(52),n=i(65),a=i(55),r=i(0),o=i(12),c=i(14),h=i(11),l=i(48),d=new r({Extends:c,Mixins:[o.Depth,o.GetBounds,o.Origin,o.Transform,o.ScrollFactor,o.Visible],initialize:function(e,t,i,n,a){void 0===n&&(n=1),void 0===a&&(a=n),c.call(this,e,"Zone"),this.setPosition(t,i),this.width=n,this.height=a,this.blendMode=s.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t,i){void 0===i&&(i=!0),this.width=e,this.height=t,this.updateDisplayOrigin();var s=this.input;return i&&s&&!s.customHitArea&&(s.hitArea.width=e,s.hitArea.height=t),this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this},setCircleDropZone:function(e){return this.setDropZone(new n(0,0,e),a)},setRectangleDropZone:function(e,t){return this.setDropZone(new h(0,0,e,t),l)},setDropZone:function(e,t){return void 0===e?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(e,t,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(){},renderWebGL:function(){}});e.exports=d},function(e,t,i){e.exports={ADD_ANIMATION:i(534),ANIMATION_COMPLETE:i(535),ANIMATION_REPEAT:i(536),ANIMATION_RESTART:i(537),ANIMATION_START:i(538),PAUSE_ALL:i(539),REMOVE_ANIMATION:i(540),RESUME_ALL:i(541),SPRITE_ANIMATION_COMPLETE:i(542),SPRITE_ANIMATION_KEY_COMPLETE:i(543),SPRITE_ANIMATION_KEY_REPEAT:i(544),SPRITE_ANIMATION_KEY_RESTART:i(545),SPRITE_ANIMATION_KEY_START:i(546),SPRITE_ANIMATION_KEY_UPDATE:i(547),SPRITE_ANIMATION_REPEAT:i(548),SPRITE_ANIMATION_RESTART:i(549),SPRITE_ANIMATION_START:i(550),SPRITE_ANIMATION_UPDATE:i(551)}},function(e,t){e.exports=function(e){return 2*(e.width+e.height)}},function(e,t,i){var s=i(0),n=i(284),a=new s({initialize:function(e,t){this.parent=e,this.events=t,t||(this.events=e.events?e.events:e),this.list={},this.values={},this._frozen=!1,!e.hasOwnProperty("sys")&&this.events&&this.events.once("destroy",this.destroy,this)},get:function(e){var t=this.list;if(Array.isArray(e)){for(var i=[],s=0;s<e.length;s++)i.push(t[e[s]]);return i}return t[e]},getAll:function(){var e={};for(var t in this.list)this.list.hasOwnProperty(t)&&(e[t]=this.list[t]);return e},query:function(e){var t={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(e)&&(t[i]=this.list[i]);return t},set:function(e,t){if(this._frozen)return this;if("string"==typeof e)return this.setValue(e,t);for(var i in e)this.setValue(i,e[i]);return this},inc:function(e,t){if(this._frozen)return this;void 0===t&&(t=1);var i=this.get(e);return void 0===i&&(i=0),this.set(e,i+t),this},toggle:function(e){return this._frozen||this.set(e,!this.get(e)),this},setValue:function(e,t){if(this._frozen)return this;if(this.has(e))this.values[e]=t;else{var i=this,s=this.list,a=this.events,r=this.parent;Object.defineProperty(this.values,e,{enumerable:!0,configurable:!0,get:function(){return s[e]},set:function(t){if(!i._frozen){var o=s[e];s[e]=t,a.emit(n.CHANGE_DATA,r,e,t,o),a.emit(n.CHANGE_DATA_KEY+e,r,t,o)}}}),s[e]=t,a.emit(n.SET_DATA,r,e,t)}return this},each:function(e,t){for(var i=[this.parent,null,void 0],s=1;s<arguments.length;s++)i.push(arguments[s]);for(var n in this.list)i[1]=n,i[2]=this.list[n],e.apply(t,i);return this},merge:function(e,t){for(var i in void 0===t&&(t=!0),e)e.hasOwnProperty(i)&&(t||!t&&!this.has(i))&&this.setValue(i,e[i]);return this},remove:function(e){if(this._frozen)return this;if(!Array.isArray(e))return this.removeValue(e);for(var t=0;t<e.length;t++)this.removeValue(e[t]);return this},removeValue:function(e){if(this.has(e)){var t=this.list[e];delete this.list[e],delete this.values[e],this.events.emit(n.REMOVE_DATA,this.parent,e,t)}return this},pop:function(e){var t=void 0;return!this._frozen&&this.has(e)&&(t=this.list[e],delete this.list[e],delete this.values[e],this.events.emit(n.REMOVE_DATA,this.parent,e,t)),t},has:function(e){return this.list.hasOwnProperty(e)},setFreeze:function(e){return this._frozen=e,this},reset:function(){for(var e in this.list)delete this.list[e],delete this.values[e];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(n.CHANGE_DATA),this.events.off(n.SET_DATA),this.events.off(n.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(e){this._frozen=!!e}},count:{get:function(){var e=0;for(var t in this.list)void 0!==this.list[t]&&e++;return e}}});e.exports=a},function(e,t){e.exports=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[i],e[i]=s}return e}},function(e,t,i){var s=i(302),n=i(303),a=i(304),r=i(305),o=i(306),c=i(307),h=i(308),l=i(309),d=i(310),u=i(311),p=i(312),f=i(313);e.exports={Power0:h,Power1:l.Out,Power2:r.Out,Power3:d.Out,Power4:u.Out,Linear:h,Quad:l.Out,Cubic:r.Out,Quart:d.Out,Quint:u.Out,Sine:p.Out,Expo:c.Out,Circ:a.Out,Elastic:o.Out,Back:s.Out,Bounce:n.Out,Stepped:f,"Quad.easeIn":l.In,"Cubic.easeIn":r.In,"Quart.easeIn":d.In,"Quint.easeIn":u.In,"Sine.easeIn":p.In,"Expo.easeIn":c.In,"Circ.easeIn":a.In,"Elastic.easeIn":o.In,"Back.easeIn":s.In,"Bounce.easeIn":n.In,"Quad.easeOut":l.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":d.Out,"Quint.easeOut":u.Out,"Sine.easeOut":p.Out,"Expo.easeOut":c.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":o.Out,"Back.easeOut":s.Out,"Bounce.easeOut":n.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":d.InOut,"Quint.easeInOut":u.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":c.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":s.InOut,"Bounce.easeInOut":n.InOut}},function(e,t){e.exports=function(e,t,i){return(t-e)*i+e}},function(e,t,i){(function(t){var i={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};e.exports=function(){var e=navigator.userAgent;/Windows/.test(e)?i.windows=!0:/Mac OS/.test(e)&&!/like Mac OS/.test(e)?i.macOS=!0:/Android/.test(e)?i.android=!0:/Linux/.test(e)?i.linux=!0:/iP[ao]d|iPhone/i.test(e)?(i.iOS=!0,navigator.appVersion.match(/OS (\d+)/),i.iOSVersion=parseInt(RegExp.$1,10),i.iPhone=-1!==e.toLowerCase().indexOf("iphone"),i.iPad=-1!==e.toLowerCase().indexOf("ipad")):/Kindle/.test(e)||/\bKF[A-Z][A-Z]+/.test(e)||/Silk.*Mobile Safari/.test(e)?i.kindle=!0:/CrOS/.test(e)&&(i.chromeOS=!0),(/Windows Phone/i.test(e)||/IEMobile/i.test(e))&&(i.android=!1,i.iOS=!1,i.macOS=!1,i.windows=!0,i.windowsPhone=!0);var s=/Silk/.test(e);return(i.windows||i.macOS||i.linux&&!s||i.chromeOS)&&(i.desktop=!0),(i.windowsPhone||/Windows NT/i.test(e)&&/Touch/i.test(e))&&(i.desktop=!1),navigator.standalone&&(i.webApp=!0),void 0!==window.cordova&&(i.cordova=!0),void 0!==t&&t.versions&&t.versions.node&&(i.node=!0),i.node&&"object"==typeof t.versions&&(i.nodeWebkit=!!t.versions["node-webkit"],i.electron=!!t.versions.electron),void 0!==window.ejecta&&(i.ejecta=!0),/Crosswalk/.test(e)&&(i.crosswalk=!0),i.pixelRatio=window.devicePixelRatio||1,i}()}).call(this,i(729))},function(e,t,i){var s,n=i(117),a={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};e.exports=(s=navigator.userAgent,/Edge\/\d+/.test(s)?a.edge=!0:/Chrome\/(\d+)/.test(s)&&!n.windowsPhone?(a.chrome=!0,a.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(s)?(a.firefox=!0,a.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(s)&&n.iOS?a.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(s)?(a.ie=!0,a.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(s)?a.opera=!0:/Safari/.test(s)&&!n.windowsPhone?a.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(s)&&(a.ie=!0,a.trident=!0,a.tridentVersion=parseInt(RegExp.$1,10),a.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(s)&&(a.silk=!0),a)},function(e,t){e.exports=function(e,t){return Math.random()*(t-e)+e}},function(e,t){e.exports=function(e,t){return e>0&&0==(e&e-1)&&t>0&&0==(t&t-1)}},function(e,t,i){e.exports={ADD:i(781),ERROR:i(782),LOAD:i(783),READY:i(784),REMOVE:i(785)}},function(e,t){e.exports=function(e,t){var i;if(t)"string"==typeof t?i=document.getElementById(t):"object"==typeof t&&1===t.nodeType&&(i=t);else if(e.parentElement||null===t)return e;return i||(i=document.body),i.appendChild(e),e}},function(e,t,i){var s=i(80);e.exports=function(e,t,i,n){var a;if(void 0===n&&(n=e),!Array.isArray(t))return-1!==(a=e.indexOf(t))?(s(e,a),i&&i.call(n,t),t):null;for(var r=t.length-1;r>=0;){var o=t[r];-1!==(a=e.indexOf(o))?(s(e,a),i&&i.call(n,o)):t.pop(),r--}return t}},function(e,t){e.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},function(e,t){e.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},function(e,t,i){var s=i(67);e.exports=function(e,t){var i=s(e);for(var n in t)i.hasOwnProperty(n)||(i[n]=t[n]);return i}},function(e,t,i){var s=i(0),n=i(67),a=i(10),r=i(59),o=i(20),c=i(1),h=i(382),l=i(383),d=new s({Extends:a,initialize:function(e){a.call(this),this.game=e,this.jsonCache=e.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,e.events.on(o.BLUR,this.onGameBlur,this),e.events.on(o.FOCUS,this.onGameFocus,this),e.events.on(o.PRE_STEP,this.update,this),e.events.once(o.DESTROY,this.destroy,this)},add:c,addAudioSprite:function(e,t){void 0===t&&(t={});var i=this.add(e,t);for(var s in i.spritemap=this.jsonCache.get(e).spritemap,i.spritemap)if(i.spritemap.hasOwnProperty(s)){var a=n(t),r=i.spritemap[s];a.loop=!!r.hasOwnProperty("loop")&&r.loop,i.addMarker({name:s,start:r.start,duration:r.end-r.start,config:a})}return i},get:function(e){return l(this.sounds,"key",e)},getAll:function(e){return h(this.sounds,"key",e)},play:function(e,t){var i=this.add(e);return i.once(r.COMPLETE,i.destroy,i),t?t.name?(i.addMarker(t),i.play(t.name)):i.play(t):i.play()},playAudioSprite:function(e,t,i){var s=this.addAudioSprite(e);return s.once(r.COMPLETE,s.destroy,s),s.play(t,i)},remove:function(e){var t=this.sounds.indexOf(e);return-1!==t&&(e.destroy(),this.sounds.splice(t,1),!0)},removeAll:function(){this.sounds.forEach((function(e){e.destroy()})),this.sounds.length=0},removeByKey:function(e){for(var t=0,i=this.sounds.length-1;i>=0;i--){var s=this.sounds[i];s.key===e&&(s.destroy(),this.sounds.splice(i,1),t++)}return t},pauseAll:function(){this.forEachActiveSound((function(e){e.pause()})),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound((function(e){e.resume()})),this.emit(r.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound((function(e){e.stop()})),this.emit(r.STOP_ALL,this)},stopByKey:function(e){var t=0;return this.getAll(e).forEach((function(e){e.stop()&&t++})),t},unlock:c,onBlur:c,onFocus:c,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(e,t){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var i=this.sounds.length-1;i>=0;i--)this.sounds[i].pendingRemove&&this.sounds.splice(i,1);this.sounds.forEach((function(i){i.update(e,t)}))},destroy:function(){this.game.events.off(o.BLUR,this.onGameBlur,this),this.game.events.off(o.FOCUS,this.onGameFocus,this),this.game.events.off(o.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(e,t){var i=this;this.sounds.forEach((function(s,n){s&&!s.pendingRemove&&e.call(t||i,s,n,i.sounds)}))},setRate:function(e){return this.rate=e,this},rate:{get:function(){return this._rate},set:function(e){this._rate=e,this.forEachActiveSound((function(e){e.calculateRate()})),this.emit(r.GLOBAL_RATE,this,e)}},setDetune:function(e){return this.detune=e,this},detune:{get:function(){return this._detune},set:function(e){this._detune=e,this.forEachActiveSound((function(e){e.calculateRate()})),this.emit(r.GLOBAL_DETUNE,this,e)}}});e.exports=d},function(e,t,i){var s=i(0),n=i(10),a=i(59),r=i(18),o=i(1),c=new s({Extends:n,initialize:function(e,t,i){n.call(this),this.manager=e,this.key=t,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},this.currentConfig=this.config,this.config=r(this.config,i),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(e){return!(!e||!e.name||"string"!=typeof e.name||(this.markers[e.name]?(console.error("addMarker "+e.name+" already exists in Sound"),1):(e=r(!0,{name:"",start:0,duration:this.totalDuration-(e.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0}},e),this.markers[e.name]=e,0)))},updateMarker:function(e){return!(!e||!e.name||"string"!=typeof e.name||(this.markers[e.name]?(this.markers[e.name]=r(!0,this.markers[e.name],e),0):(console.warn("Audio Marker: "+e.name+" missing in Sound: "+this.key),1)))},removeMarker:function(e){var t=this.markers[e];return t?(this.markers[e]=null,t):null},play:function(e,t){if(void 0===e&&(e=""),"object"==typeof e&&(t=e,e=""),"string"!=typeof e)return!1;if(e){if(!this.markers[e])return console.warn("Marker: "+e+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[e],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=r(this.currentConfig,t),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying||(this.isPlaying=!1,this.isPaused=!0,0))},resume:function(){return!(!this.isPaused||this.isPlaying||(this.isPlaying=!0,this.isPaused=!1,0))},stop:function(){return!(!this.isPaused&&!this.isPlaying||(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),0))},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:o,calculateRate:function(){var e=this.currentConfig.detune+this.manager.detune,t=Math.pow(1.0005777895065548,e);this.totalRate=this.currentConfig.rate*this.manager.rate*t},destroy:function(){this.pendingRemove||(this.emit(a.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});e.exports=c},function(e,t,i){var s=i(183),n=i(0),a=i(1),r=i(131),o=new n({initialize:function(e){this.parent=e,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,t){return t?s.Add(this.list,e):s.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,t,i){return i?s.AddAt(this.list,e,t):s.AddAt(this.list,e,t,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,t){return e?(void 0===t&&(t=function(t,i){return t[e]-i[e]}),r.inplace(this.list,t),this):this},getByName:function(e){return s.GetFirst(this.list,"name",e)},getRandom:function(e,t){return s.GetRandom(this.list,e,t)},getFirst:function(e,t,i,n){return s.GetFirst(this.list,e,t,i,n)},getAll:function(e,t,i,n){return s.GetAll(this.list,e,t,i,n)},count:function(e,t){return s.CountAllMatching(this.list,e,t)},swap:function(e,t){s.Swap(this.list,e,t)},moveTo:function(e,t){return s.MoveTo(this.list,e,t)},remove:function(e,t){return t?s.Remove(this.list,e):s.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,t){return t?s.RemoveAt(this.list,e):s.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,t,i){return i?s.RemoveBetween(this.list,e,t):s.RemoveBetween(this.list,e,t,this.removeCallback,this)},removeAll:function(e){for(var t=this.list.length;t--;)this.remove(this.list[t],e);return this},bringToTop:function(e){return s.BringToTop(this.list,e)},sendToBack:function(e){return s.SendToBack(this.list,e)},moveUp:function(e){return s.MoveUp(this.list,e),e},moveDown:function(e){return s.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return s.Shuffle(this.list),this},replace:function(e,t){return s.Replace(this.list,e,t)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,t,i,n){return s.SetAll(this.list,e,t,i,n),this},each:function(e,t){for(var i=[null],s=2;s<arguments.length;s++)i.push(arguments[s]);for(s=0;s<this.list.length;s++)i[0]=this.list[s],e.apply(t,i)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});e.exports=o},function(e,t,i){var s=i(184),n=i(390);e.exports=function(e,t){if(void 0===t&&(t=90),!s(e))return null;if("string"!=typeof t&&(t=(t%360+360)%360),90===t||-270===t||"rotateLeft"===t)(e=n(e)).reverse();else if(-90===t||270===t||"rotateRight"===t)e.reverse(),e=n(e);else if(180===Math.abs(t)||"rotate180"===t){for(var i=0;i<e.length;i++)e[i].reverse();e.reverse()}return e}},function(e,t,i){!function(){var t=function(e,t){return i(e.slice(),t)};function i(e,t){"function"!=typeof t&&(t=function(e,t){return String(e).localeCompare(t)});var i=e.length;if(i<=1)return e;for(var n=new Array(i),a=1;a<i;a*=2){s(e,t,a,n);var r=e;e=n,n=r}return e}t.inplace=function(e,t){var n=i(e,t);return n!==e&&s(n,null,e.length,e),e};var s=function(e,t,i,s){var n,a,r,o,c,h=e.length,l=0,d=2*i;for(n=0;n<h;n+=d)for(r=(a=n+i)+i,a>h&&(a=h),r>h&&(r=h),o=n,c=a;;)if(o<a&&c<r)t(e[o],e[c])<=0?s[l++]=e[o++]:s[l++]=e[c++];else if(o<a)s[l++]=e[o++];else{if(!(c<r))break;s[l++]=e[c++]}};e.exports=t}()},function(e,t,i){var s=i(0),n=i(12),a=i(14),r=i(945),o=i(946),c=i(187),h=i(947),l=new s({Extends:a,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Mask,n.Origin,n.Pipeline,n.ScrollFactor,n.Texture,n.Tint,n.Transform,n.Visible,h],initialize:function(e,t,i,s,n,o,c){void 0===n&&(n=""),void 0===c&&(c=0),a.call(this,e,"BitmapText"),this.font=s;var h=this.scene.sys.cache.bitmapFont.get(s);this.fontData=h.data,this._text="",this._fontSize=o||this.fontData.size,this._letterSpacing=0,this._align=c,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.setTexture(h.texture,h.frame),this.setPosition(t,i),this.setOrigin(0,0),this.initPipeline(),this.setText(n)},setLeftAlign:function(){return this._align=l.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=l.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=l.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(e){return this._fontSize=e,this._dirty=!0,this},setLetterSpacing:function(e){return void 0===e&&(e=0),this._letterSpacing=e,this._dirty=!0,this},setText:function(e){return e||0===e||(e=""),Array.isArray(e)&&(e=e.join("\n")),e!==this.text&&(this._text=e.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},getTextBounds:function(e){var t=this._bounds;return(this._dirty||this.scaleX!==t.scaleX||this.scaleY!==t.scaleY)&&(r(this,e,t),this._dirty=!1,this.updateDisplayOrigin()),t},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this._dirty=!0,this},setFont:function(e,t,i){if(void 0===t&&(t=this._fontSize),void 0===i&&(i=this._align),e!==this.font){var s=this.scene.sys.cache.bitmapFont.get(e);s&&(this.font=e,this.fontData=s.data,this._fontSize=t,this._align=i,this.setTexture(s.texture,s.frame),r(this,!1,this._bounds))}return this},setMaxWidth:function(e,t){return this._maxWidth=e,this._dirty=!0,void 0!==t&&(this.wordWrapCharCode=t),this},align:{set:function(e){this._align=e,this._dirty=!0},get:function(){return this._align}},text:{set:function(e){this.setText(e)},get:function(){return this._text}},fontSize:{set:function(e){this._fontSize=e,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(e){this._letterSpacing=e,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(e){this._maxWidth=e,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var e=n.ToJSON(this),t={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return e.data=t,e}});l.ALIGN_LEFT=0,l.ALIGN_CENTER=1,l.ALIGN_RIGHT=2,l.ParseFromAtlas=o,l.ParseXMLBitmapFont=c,e.exports=l},function(e,t,i){var s=new(i(0))({initialize:function(e){if(this.entries=[],Array.isArray(e))for(var t=0;t<e.length;t++)this.set(e[t])},set:function(e){return-1===this.entries.indexOf(e)&&this.entries.push(e),this},get:function(e,t){for(var i=0;i<this.entries.length;i++){var s=this.entries[i];if(s[e]===t)return s}},getArray:function(){return this.entries.slice(0)},delete:function(e){var t=this.entries.indexOf(e);return t>-1&&this.entries.splice(t,1),this},dump:function(){console.group("Set");for(var e=0;e<this.entries.length;e++){var t=this.entries[e];console.log(t)}console.groupEnd()},each:function(e,t){var i,s=this.entries.slice(),n=s.length;if(t)for(i=0;i<n&&!1!==e.call(t,s[i],i);i++);else for(i=0;i<n&&!1!==e(s[i],i);i++);return this},iterate:function(e,t){var i,s=this.entries.length;if(t)for(i=0;i<s&&!1!==e.call(t,this.entries[i],i);i++);else for(i=0;i<s&&!1!==e(this.entries[i],i);i++);return this},iterateLocal:function(e){var t,i=[];for(t=1;t<arguments.length;t++)i.push(arguments[t]);var s=this.entries.length;for(t=0;t<s;t++){var n=this.entries[t];n[e].apply(n,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(e){return this.entries.indexOf(e)>-1},union:function(e){var t=new s;return e.entries.forEach((function(e){t.set(e)})),this.entries.forEach((function(e){t.set(e)})),t},intersect:function(e){var t=new s;return this.entries.forEach((function(i){e.contains(i)&&t.set(i)})),t},difference:function(e){var t=new s;return this.entries.forEach((function(i){e.contains(i)||t.set(i)})),t},size:{get:function(){return this.entries.length},set:function(e){return e<this.entries.length?this.entries.length=e:this.entries.length}}});e.exports=s},function(e,t,i){var s=i(0),n=i(12),a=i(14),r=i(1077),o=i(1),c=new s({Extends:a,Mixins:[n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.Size,n.Texture,n.Transform,n.Visible,n.ScrollFactor,r],initialize:function(e,t,i,s,n,r,o,c,h){if(a.call(this,e,"Mesh"),s.length!==n.length)throw new Error("Mesh Vertex count must match UV count");var l,d=s.length/2|0;if(r.length>0&&r.length<d)throw new Error("Mesh Color count must match Vertex count");if(o.length>0&&o.length<d)throw new Error("Mesh Alpha count must match Vertex count");if(0===r.length)for(l=0;l<d;++l)r[l]=16777215;if(0===o.length)for(l=0;l<d;++l)o[l]=1;this.vertices=new Float32Array(s),this.uv=new Float32Array(n),this.colors=new Uint32Array(r),this.alphas=new Float32Array(o),this.tintFill=!1,this.setTexture(c,h),this.setPosition(t,i),this.setSizeToFrame(),this.initPipeline()},setAlpha:o});e.exports=c},function(e,t){e.exports=function(e,t){return!(e.width<=0||e.height<=0||t.width<=0||t.height<=0||e.right<t.x||e.bottom<t.y||e.x>t.right||e.y>t.bottom)}},function(e,t,i){var s=i(6),n={},a={register:function(e,t,i,s,a){n[e]={plugin:t,mapping:i,settingsKey:s,configKey:a}},getPlugin:function(e){return n[e]},install:function(e){var t=e.scene.sys,i=t.settings.input,a=t.game.config;for(var r in n){var o=n[r].plugin,c=n[r].mapping,h=n[r].settingsKey,l=n[r].configKey;s(i,h,a[l])&&(e[c]=new o(e))}},remove:function(e){n.hasOwnProperty(e)&&delete n[e]}};e.exports=a},function(e,t,i){e.exports={ANY_KEY_DOWN:i(1217),ANY_KEY_UP:i(1218),COMBO_MATCH:i(1219),DOWN:i(1220),KEY_DOWN:i(1221),KEY_UP:i(1222),UP:i(1223)}},function(e,t){e.exports=function(e,t){return!!e.url&&(e.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?e.url:t+e.url)}},function(e,t){e.exports=function(e,t,i,s,n,a){return void 0===e&&(e=""),void 0===t&&(t=!0),void 0===i&&(i=""),void 0===s&&(s=""),void 0===n&&(n=0),void 0===a&&(a=!1),{responseType:e,async:t,user:i,password:s,timeout:n,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:a}}},function(e,t,i){var s=i(0),n=i(217),a=i(75),r=new s({Extends:a,Mixins:[n.Acceleration,n.Angular,n.Bounce,n.Debug,n.Drag,n.Enable,n.Friction,n.Gravity,n.Immovable,n.Mass,n.Size,n.Velocity],initialize:function(e,t,i,s,n){a.call(this,e,t,i,s,n),this.body=null}});e.exports=r},function(e,t,i){e.exports={CalculateFacesAt:i(220),CalculateFacesWithin:i(51),Copy:i(1313),CreateFromTiles:i(1314),CullTiles:i(1315),Fill:i(1316),FilterTiles:i(1317),FindByIndex:i(1318),FindTile:i(1319),ForEachTile:i(1320),GetTileAt:i(142),GetTileAtWorldXY:i(1321),GetTilesWithin:i(24),GetTilesWithinShape:i(1322),GetTilesWithinWorldXY:i(1323),HasTileAt:i(476),HasTileAtWorldXY:i(1324),IsInLayerBounds:i(101),PutTileAt:i(221),PutTileAtWorldXY:i(1325),PutTilesAt:i(1326),Randomize:i(1327),RemoveTileAt:i(477),RemoveTileAtWorldXY:i(1328),RenderDebug:i(1329),ReplaceByIndex:i(475),SetCollision:i(1330),SetCollisionBetween:i(1331),SetCollisionByExclusion:i(1332),SetCollisionByProperty:i(1333),SetCollisionFromCollisionGroup:i(1334),SetTileIndexCallback:i(1335),SetTileLocationCallback:i(1336),Shuffle:i(1337),SwapByIndex:i(1338),TileToWorldX:i(143),TileToWorldXY:i(1339),TileToWorldY:i(144),WeightedRandomize:i(1340),WorldToTileX:i(63),WorldToTileXY:i(1341),WorldToTileY:i(64)}},function(e,t,i){var s=i(101);e.exports=function(e,t,i,n){if(void 0===i&&(i=!1),s(e,t,n)){var a=n.data[t][e]||null;return null===a?null:-1===a.index?i?a:null:a}return null}},function(e,t){e.exports=function(e,t,i){var s=i.baseTileWidth,n=i.tilemapLayer,a=0;return n&&(void 0===t&&(t=n.scene.cameras.main),a=n.x+t.scrollX*(1-n.scrollFactorX),s*=n.scaleX),a+e*s}},function(e,t){e.exports=function(e,t,i){var s=i.baseTileHeight,n=i.tilemapLayer,a=0;return n&&(void 0===t&&(t=n.scene.cameras.main),a=n.y+t.scrollY*(1-n.scrollFactorY),s*=n.scaleY),a+e*s}},function(e,t){e.exports=function(e,t,i){return e.hasOwnProperty(t)?"function"==typeof e[t]?function(i,s,n,a,r,o){return e[t](i,s,n,a,r,o)}:function(){return e[t]}:"function"==typeof i?i:function(){return i}}},function(e,t,i){var s=i(230),n=i(15),a=i(88),r=i(69),o=i(145),c=i(498),h=i(228),l=i(6),d=i(229),u=i(231),p=i(233);e.exports=function(e,t,i){void 0===i&&(i=s);for(var f=i.targets?i.targets:h(t),m=c(t),g=o(t,"delay",i.delay),y=o(t,"duration",i.duration),v=l(t,"easeParams",i.easeParams),w=r(l(t,"ease",i.ease),v),b=o(t,"hold",i.hold),x=o(t,"repeat",i.repeat),k=o(t,"repeatDelay",i.repeatDelay),T=a(t,"yoyo",i.yoyo),_=a(t,"flipX",i.flipX),S=a(t,"flipY",i.flipY),C=[],P=0;P<m.length;P++)for(var B=m[P].key,A=m[P].value,E=0;E<f.length;E++){var M=d(B,A),O=p(f[E],E,B,M.getEnd,M.getStart,M.getActive,r(l(A,"ease",w),v),o(A,"delay",g),o(A,"duration",y),a(A,"yoyo",T),o(A,"hold",b),o(A,"repeat",x),o(A,"repeatDelay",k),a(A,"flipX",_),a(A,"flipY",S));C.push(O)}var I=new u(e,C,f);I.offset=n(t,"offset",null),I.completeDelay=n(t,"completeDelay",0),I.loop=Math.round(n(t,"loop",0)),I.loopDelay=Math.round(n(t,"loopDelay",0)),I.paused=a(t,"paused",!1),I.useFrames=a(t,"useFrames",!1);for(var R=l(t,"callbackScope",I),D=[I,null],N=u.TYPES,F=0;F<N.length;F++){var L=N[F],Y=l(t,L,!1);if(Y){var U=l(t,L+"Scope",R),V=l(t,L+"Params",[]);I.setCallback(L,Y,D.concat(V),U)}}return I}},function(e,t,i){var s=i(0),n=i(9),a=new s({initialize:function(e){this.name="WebGLPipeline",this.game=e.game,this.view=e.game.canvas,this.resolution=1,this.width=0,this.height=0,this.gl=e.gl,this.vertexCount=0,this.vertexCapacity=e.vertexCapacity,this.renderer=e.renderer,this.vertexData=e.vertices?e.vertices:new ArrayBuffer(e.vertexCapacity*e.vertexSize),this.vertexBuffer=this.renderer.createVertexBuffer(e.vertices?e.vertices:this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=this.renderer.createProgram(e.vertShader,e.fragShader),this.attributes=e.attributes,this.vertexSize=e.vertexSize,this.topology=e.topology,this.bytes=new Uint8Array(this.vertexData),this.vertexComponentCount=n.getComponentCount(e.attributes,this.gl),this.flushLocked=!1,this.active=!1},boot:function(){},addAttribute:function(e,t,i,s,a){return this.attributes.push({name:e,size:t,type:this.renderer.glFormats[i],normalized:s,offset:a}),this.vertexComponentCount=n.getComponentCount(this.attributes,this.gl),this},shouldFlush:function(){return this.vertexCount>=this.vertexCapacity},resize:function(e,t,i){return this.width=e*i,this.height=t*i,this.resolution=i,this},bind:function(){var e=this.gl,t=this.vertexBuffer,i=this.attributes,s=this.program,n=this.renderer,a=this.vertexSize;n.setProgram(s),n.setVertexBuffer(t);for(var r=0;r<i.length;++r){var o=i[r],c=e.getAttribLocation(s,o.name);c>=0?(e.enableVertexAttribArray(c),e.vertexAttribPointer(c,o.size,o.type,o.normalized,a,o.offset)):-1!==c&&e.disableVertexAttribArray(c)}return this},onBind:function(){return this},onPreRender:function(){return this},onRender:function(){return this},onPostRender:function(){return this},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var e=this.gl,t=this.vertexCount,i=this.topology,s=this.vertexSize;if(0!==t)return e.bufferSubData(e.ARRAY_BUFFER,0,this.bytes.subarray(0,t*s)),e.drawArrays(i,0,t),this.vertexCount=0,this.flushLocked=!1,this;this.flushLocked=!1},destroy:function(){var e=this.gl;return e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),delete this.program,delete this.vertexBuffer,delete this.gl,this},setFloat1:function(e,t){return this.renderer.setFloat1(this.program,e,t),this},setFloat2:function(e,t,i){return this.renderer.setFloat2(this.program,e,t,i),this},setFloat3:function(e,t,i,s){return this.renderer.setFloat3(this.program,e,t,i,s),this},setFloat4:function(e,t,i,s,n){return this.renderer.setFloat4(this.program,e,t,i,s,n),this},setFloat1v:function(e,t){return this.renderer.setFloat1v(this.program,e,t),this},setFloat2v:function(e,t){return this.renderer.setFloat2v(this.program,e,t),this},setFloat3v:function(e,t){return this.renderer.setFloat3v(this.program,e,t),this},setFloat4v:function(e,t){return this.renderer.setFloat4v(this.program,e,t),this},setInt1:function(e,t){return this.renderer.setInt1(this.program,e,t),this},setInt2:function(e,t,i){return this.renderer.setInt2(this.program,e,t,i),this},setInt3:function(e,t,i,s){return this.renderer.setInt3(this.program,e,t,i,s),this},setInt4:function(e,t,i,s,n){return this.renderer.setInt4(this.program,e,t,i,s,n),this},setMatrix2:function(e,t,i){return this.renderer.setMatrix2(this.program,e,t,i),this},setMatrix3:function(e,t,i){return this.renderer.setMatrix3(this.program,e,t,i),this},setMatrix4:function(e,t,i){return this.renderer.setMatrix4(this.program,e,t,i),this}});e.exports=a},function(e,t,i){var s={};e.exports=s;var n=i(240),a=i(42),r=i(100),o=i(62);s.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},s.setModified=function(e,t,i,a){if(n.trigger(e,"compositeModified",e),e.isModified=t,i&&e.parent&&s.setModified(e.parent,t,i,a),a)for(var r=0;r<e.composites.length;r++){var o=e.composites[r];s.setModified(o,t,i,a)}},s.add=function(e,t){var i=[].concat(t);n.trigger(e,"beforeAdd",{object:t});for(var r=0;r<i.length;r++){var o=i[r];switch(o.type){case"body":if(o.parent!==o){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}s.addBody(e,o);break;case"constraint":s.addConstraint(e,o);break;case"composite":s.addComposite(e,o);break;case"mouseConstraint":s.addConstraint(e,o.constraint)}}return n.trigger(e,"afterAdd",{object:t}),e},s.remove=function(e,t,i){var a=[].concat(t);n.trigger(e,"beforeRemove",{object:t});for(var r=0;r<a.length;r++){var o=a[r];switch(o.type){case"body":s.removeBody(e,o,i);break;case"constraint":s.removeConstraint(e,o,i);break;case"composite":s.removeComposite(e,o,i);break;case"mouseConstraint":s.removeConstraint(e,o.constraint)}}return n.trigger(e,"afterRemove",{object:t}),e},s.addComposite=function(e,t){return e.composites.push(t),t.parent=e,s.setModified(e,!0,!0,!1),e},s.removeComposite=function(e,t,i){var n=e.composites.indexOf(t);if(-1!==n&&(s.removeCompositeAt(e,n),s.setModified(e,!0,!0,!1)),i)for(var a=0;a<e.composites.length;a++)s.removeComposite(e.composites[a],t,!0);return e},s.removeCompositeAt=function(e,t){return e.composites.splice(t,1),s.setModified(e,!0,!0,!1),e},s.addBody=function(e,t){return e.bodies.push(t),s.setModified(e,!0,!0,!1),e},s.removeBody=function(e,t,i){var n=e.bodies.indexOf(t);if(-1!==n&&(s.removeBodyAt(e,n),s.setModified(e,!0,!0,!1)),i)for(var a=0;a<e.composites.length;a++)s.removeBody(e.composites[a],t,!0);return e},s.removeBodyAt=function(e,t){return e.bodies.splice(t,1),s.setModified(e,!0,!0,!1),e},s.addConstraint=function(e,t){return e.constraints.push(t),s.setModified(e,!0,!0,!1),e},s.removeConstraint=function(e,t,i){var n=e.constraints.indexOf(t);if(-1!==n&&s.removeConstraintAt(e,n),i)for(var a=0;a<e.composites.length;a++)s.removeConstraint(e.composites[a],t,!0);return e},s.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),s.setModified(e,!0,!0,!1),e},s.clear=function(e,t,i){if(i)for(var n=0;n<e.composites.length;n++)s.clear(e.composites[n],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,s.setModified(e,!0,!0,!1),e},s.allBodies=function(e){for(var t=[].concat(e.bodies),i=0;i<e.composites.length;i++)t=t.concat(s.allBodies(e.composites[i]));return t},s.allConstraints=function(e){for(var t=[].concat(e.constraints),i=0;i<e.composites.length;i++)t=t.concat(s.allConstraints(e.composites[i]));return t},s.allComposites=function(e){for(var t=[].concat(e.composites),i=0;i<e.composites.length;i++)t=t.concat(s.allComposites(e.composites[i]));return t},s.get=function(e,t,i){var n,a;switch(i){case"body":n=s.allBodies(e);break;case"constraint":n=s.allConstraints(e);break;case"composite":n=s.allComposites(e).concat(e)}return n?0===(a=n.filter((function(e){return e.id.toString()===t.toString()}))).length?null:a[0]:null},s.move=function(e,t,i){return s.remove(e,t),s.add(i,t),e},s.rebase=function(e){for(var t=s.allBodies(e).concat(s.allConstraints(e)).concat(s.allComposites(e)),i=0;i<t.length;i++)t[i].id=a.nextId();return s.setModified(e,!0,!0,!1),e},s.translate=function(e,t,i){for(var n=i?s.allBodies(e):e.bodies,a=0;a<n.length;a++)o.translate(n[a],t);return s.setModified(e,!0,!0,!1),e},s.rotate=function(e,t,i,n){for(var a=Math.cos(t),r=Math.sin(t),c=n?s.allBodies(e):e.bodies,h=0;h<c.length;h++){var l=c[h],d=l.position.x-i.x,u=l.position.y-i.y;o.setPosition(l,{x:i.x+(d*a-u*r),y:i.y+(d*r+u*a)}),o.rotate(l,t)}return s.setModified(e,!0,!0,!1),e},s.scale=function(e,t,i,n,a){for(var r=a?s.allBodies(e):e.bodies,c=0;c<r.length;c++){var h=r[c],l=h.position.x-n.x,d=h.position.y-n.y;o.setPosition(h,{x:n.x+l*t,y:n.y+d*i}),o.scale(h,t,i)}return s.setModified(e,!0,!0,!1),e},s.bounds=function(e){for(var t=s.allBodies(e),i=[],n=0;n<t.length;n+=1){var a=t[n];i.push(a.bounds.min,a.bounds.max)}return r.create(i)}},function(e,t,i){var s=i(4);e.exports=function(e,t,i){return void 0===i&&(i=new s),i.x=e.x+e.radius*Math.cos(t),i.y=e.y+e.radius*Math.sin(t),i}},function(e,t,i){var s=i(4);e.exports=function(e,t){void 0===t&&(t=new s);var i=2*Math.PI*Math.random(),n=Math.random()+Math.random(),a=n>1?2-n:n,r=a*Math.cos(i),o=a*Math.sin(i);return t.x=e.x+r*e.radius,t.y=e.y+o*e.radius,t}},function(e,t,i){var s=i(19),n=i(0),a=i(10),r=i(111),o=i(270),c=i(271),h=i(6),l=new n({Extends:a,initialize:function(e,t,i){a.call(this),this.manager=e,this.key=t,this.type="frame",this.frames=this.getFrames(e.textureManager,h(i,"frames",[]),h(i,"defaultTextureKey",null)),this.frameRate=h(i,"frameRate",null),this.duration=h(i,"duration",null),null===this.duration&&null===this.frameRate?(this.frameRate=24,this.duration=this.frameRate/this.frames.length*1e3):this.duration&&null===this.frameRate?this.frameRate=this.frames.length/(this.duration/1e3):this.duration=this.frames.length/this.frameRate*1e3,this.msPerFrame=1e3/this.frameRate,this.skipMissedFrames=h(i,"skipMissedFrames",!0),this.delay=h(i,"delay",0),this.repeat=h(i,"repeat",0),this.repeatDelay=h(i,"repeatDelay",0),this.yoyo=h(i,"yoyo",!1),this.showOnStart=h(i,"showOnStart",!1),this.hideOnComplete=h(i,"hideOnComplete",!1),this.paused=!1,this.manager.on(r.PAUSE_ALL,this.pause,this),this.manager.on(r.RESUME_ALL,this.resume,this)},addFrame:function(e){return this.addFrameAt(this.frames.length,e)},addFrameAt:function(e,t){var i=this.getFrames(this.manager.textureManager,t);if(i.length>0){if(0===e)this.frames=i.concat(this.frames);else if(e===this.frames.length)this.frames=this.frames.concat(i);else{var s=this.frames.slice(0,e),n=this.frames.slice(e);this.frames=s.concat(i,n)}this.updateFrameSequence()}return this},checkFrame:function(e){return e>=0&&e<this.frames.length},completeAnimation:function(e){this.hideOnComplete&&(e.parent.visible=!1),e.stop()},getFirstTick:function(e,t){void 0===t&&(t=!0),e.accumulator=0,e.nextTick=e.msPerFrame+e.currentFrame.duration,t&&(e.nextTick+=e._delay)},getFrameAt:function(e){return this.frames[e]},getFrames:function(e,t,i){var s,n,a,r,o=[],l=1;if("string"==typeof t){r=t;var d=e.get(r).getFrameNames();t=[],d.forEach((function(e,i){t.push({key:r,frame:i})}))}if(!Array.isArray(t)||0===t.length)return o;for(a=0;a<t.length;a++){var u=t[a],p=h(u,"key",i);if(p){var f=h(u,"frame",0),m=e.getFrame(p,f);(n=new c(p,f,l,m)).duration=h(u,"duration",0),n.isFirst=!s,s&&(s.nextFrame=n,n.prevFrame=s),o.push(n),s=n,l++}}if(o.length>0){n.isLast=!0,n.nextFrame=o[0],o[0].prevFrame=n;var g=1/(o.length-1);for(a=0;a<o.length;a++)o[a].progress=a*g}return o},getNextTick:function(e){e.accumulator-=e.nextTick,e.nextTick=e.msPerFrame+e.currentFrame.duration},load:function(e,t){t>=this.frames.length&&(t=0),e.currentAnim!==this&&(e.currentAnim=this,e.frameRate=this.frameRate,e.duration=this.duration,e.msPerFrame=this.msPerFrame,e.skipMissedFrames=this.skipMissedFrames,e._delay=this.delay,e._repeat=this.repeat,e._repeatDelay=this.repeatDelay,e._yoyo=this.yoyo);var i=this.frames[t];0!==t||e.forward||(i=this.getLastFrame()),e.updateFrame(i)},getFrameByProgress:function(e){return e=s(e,0,1),o(e,this.frames,"progress")},nextFrame:function(e){var t=e.currentFrame;t.isLast?e._yoyo?this.handleYoyoFrame(e,!1):e.repeatCounter>0?e._reverse&&e.forward?e.forward=!1:this.repeatAnimation(e):this.completeAnimation(e):this.updateAndGetNextTick(e,t.nextFrame)},handleYoyoFrame:function(e,t){if(t||(t=!1),e._reverse===!t&&e.repeatCounter>0)return e._repeatDelay&&!e.pendingRepeat||(e.forward=t),void this.repeatAnimation(e);if(e._reverse===t||0!==e.repeatCounter){e.forward=t;var i=t?e.currentFrame.nextFrame:e.currentFrame.prevFrame;this.updateAndGetNextTick(e,i)}else this.completeAnimation(e)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(e){var t=e.currentFrame;t.isFirst?e._yoyo?this.handleYoyoFrame(e,!0):e.repeatCounter>0?e._reverse&&!e.forward?(e.currentFrame=this.getLastFrame(),this.repeatAnimation(e)):(e.forward=!0,this.repeatAnimation(e)):this.completeAnimation(e):this.updateAndGetNextTick(e,t.prevFrame)},updateAndGetNextTick:function(e,t){e.updateFrame(t),this.getNextTick(e)},removeFrame:function(e){var t=this.frames.indexOf(e);return-1!==t&&this.removeFrameAt(t),this},removeFrameAt:function(e){return this.frames.splice(e,1),this.updateFrameSequence(),this},repeatAnimation:function(e){if(2===e._pendingStop)return this.completeAnimation(e);if(e._repeatDelay>0&&!1===e.pendingRepeat)e.pendingRepeat=!0,e.accumulator-=e.nextTick,e.nextTick+=e._repeatDelay;else if(e.repeatCounter--,e.updateFrame(e.currentFrame[e.forward?"nextFrame":"prevFrame"]),e.isPlaying){this.getNextTick(e),e.pendingRepeat=!1;var t=e.currentFrame,i=e.parent;this.emit(r.ANIMATION_REPEAT,this,t),i.emit(r.SPRITE_ANIMATION_KEY_REPEAT+this.key,this,t,e.repeatCounter,i),i.emit(r.SPRITE_ANIMATION_REPEAT,this,t,e.repeatCounter,i)}},setFrame:function(e){e.forward?this.nextFrame(e):this.previousFrame(e)},toJSON:function(){var e={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach((function(t){e.frames.push(t.toJSON())})),e},updateFrameSequence:function(){for(var e,t=this.frames.length,i=1/(t-1),s=0;s<t;s++)(e=this.frames[s]).index=s+1,e.isFirst=!1,e.isLast=!1,e.progress=s*i,0===s?(e.isFirst=!0,1===t?(e.isLast=!0,e.nextFrame=e,e.prevFrame=e):(e.isLast=!1,e.prevFrame=this.frames[t-1],e.nextFrame=this.frames[s+1])):s===t-1&&t>1?(e.isLast=!0,e.prevFrame=this.frames[t-2],e.nextFrame=this.frames[0]):t>1&&(e.prevFrame=this.frames[s-1],e.nextFrame=this.frames[s+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.removeAllListeners(),this.manager.off(r.PAUSE_ALL,this.pause,this),this.manager.off(r.RESUME_ALL,this.resume,this),this.manager.remove(this.key);for(var e=0;e<this.frames.length;e++)this.frames[e].destroy();this.frames=[],this.manager=null}});e.exports=l},function(e,t,i){var s=i(112),n=i(4);e.exports=function(e,t,i){if(void 0===i&&(i=new n),t<=0||t>=1)return i.x=e.x,i.y=e.y,i;var a=s(e)*t;return t>.5?(a-=e.width+e.height)<=e.width?(i.x=e.right-a,i.y=e.bottom):(i.x=e.x,i.y=e.bottom-(a-e.width)):a<=e.width?(i.x=e.x+a,i.y=e.y):(i.x=e.right,i.y=e.y+(a-e.width)),i}},function(e,t,i){var s=i(57),n=i(4);e.exports=function(e,t,i,a){void 0===a&&(a=[]),!t&&i>0&&(t=s(e)/i);for(var r=e.x1,o=e.y1,c=e.x2,h=e.y2,l=0;l<t;l++){var d=l/t,u=r+(c-r)*d,p=o+(h-o)*d;a.push(new n(u,p))}return a}},function(e,t,i){var s=i(4);e.exports=function(e,t){void 0===t&&(t=new s);var i=Math.random();return t.x=e.x1+i*(e.x2-e.x1),t.y=e.y1+i*(e.y2-e.y1),t}},function(e,t,i){var s=i(4);e.exports=function(e,t){return void 0===t&&(t=new s),t.x=e.x+Math.random()*e.width,t.y=e.y+Math.random()*e.height,t}},function(e,t){var i={defaultPipeline:null,pipeline:null,initPipeline:function(e){void 0===e&&(e="TextureTintPipeline");var t=this.scene.sys.game.renderer;return!!(t&&t.gl&&t.hasPipeline(e))&&(this.defaultPipeline=t.getPipeline(e),this.pipeline=this.defaultPipeline,!0)},setPipeline:function(e){var t=this.scene.sys.game.renderer;return t&&t.gl&&t.hasPipeline(e)&&(this.pipeline=t.getPipeline(e)),this},resetPipeline:function(){return this.pipeline=this.defaultPipeline,null!==this.pipeline},getPipelineName:function(){return this.pipeline.name}};e.exports=i},function(e,t,i){var s=i(4);e.exports=function(e,t){void 0===t&&(t=new s);var i=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return t.x=e.x+n*Math.cos(i)*e.width/2,t.y=e.y+n*Math.sin(i)*e.height/2,t}},function(e,t,i){var s=i(4);e.exports=function(e,t){void 0===t&&(t=new s);var i=e.x2-e.x1,n=e.y2-e.y1,a=e.x3-e.x1,r=e.y3-e.y1,o=Math.random(),c=Math.random();return o+c>=1&&(o=1-o,c=1-c),t.x=e.x1+(i*o+a*c),t.y=e.y1+(n*o+r*c),t}},function(e,t){e.exports=function(e,t,i,s,n){var a=s+Math.atan2(e.y-i,e.x-t);return e.x=t+n*Math.cos(a),e.y=i+n*Math.sin(a),e}},function(e,t){e.exports=function(e,t,i){return(e=Math.max(0,Math.min(1,(e-t)/(i-t))))*e*e*(e*(6*e-15)+10)}},function(e,t){e.exports=function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)}},function(e,t,i){var s=new(i(0))({initialize:function(e){if(this.entries={},this.size=0,Array.isArray(e))for(var t=0;t<e.length;t++)this.set(e[t][0],e[t][1])},set:function(e,t){return this.has(e)||this.size++,this.entries[e]=t,this},get:function(e){if(this.has(e))return this.entries[e]},getArray:function(){var e=[],t=this.entries;for(var i in t)e.push(t[i]);return e},has:function(e){return this.entries.hasOwnProperty(e)},delete:function(e){return this.has(e)&&(delete this.entries[e],this.size--),this},clear:function(){return Object.keys(this.entries).forEach((function(e){delete this.entries[e]}),this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var e=[],t=this.entries;for(var i in t)e.push(t[i]);return e},dump:function(){var e=this.entries;for(var t in console.group("Map"),e)console.log(t,e[t]);console.groupEnd()},each:function(e){var t=this.entries;for(var i in t)if(!1===e(i,t[i]))break;return this},contains:function(e){var t=this.entries;for(var i in t)if(t[i]===e)return!0;return!1},merge:function(e,t){void 0===t&&(t=!1);var i=this.entries,s=e.entries;for(var n in s)i.hasOwnProperty(n)&&t?i[n]=s[n]:this.set(n,s[n]);return this}});e.exports=s},function(e,t){e.exports=function(e,t,i,s){void 0===t&&(t=0),void 0===i&&(i=" "),void 0===s&&(s=3);var n=0;if(t+1>=(e=e.toString()).length)switch(s){case 1:e=new Array(t+1-e.length).join(i)+e;break;case 3:var a=Math.ceil((n=t-e.length)/2);e=new Array(n-a+1).join(i)+e+new Array(a+1).join(i);break;default:e+=new Array(t+1-e.length).join(i)}return e}},function(e,t,i){var s=i(294),n=i(297),a=i(299),r=i(300);e.exports=function(e){switch(typeof e){case"string":return"rgb"===e.substr(0,3).toLowerCase()?r(e):s(e);case"number":return n(e);case"object":return a(e)}}},function(e,t){e.exports=function(e,t,i){return e<<16|t<<8|i}},function(e,t,i){var s=i(165);e.exports=function(e,t,i,n){void 0===t&&(t=1),void 0===i&&(i=1);var a=Math.floor(6*e),r=6*e-a,o=Math.floor(i*(1-t)*255),c=Math.floor(i*(1-r*t)*255),h=Math.floor(i*(1-(1-r)*t)*255),l=i=Math.floor(i*=255),d=i,u=i,p=a%6;return 0===p?(d=h,u=o):1===p?(l=c,u=o):2===p?(l=o,u=h):3===p?(l=o,d=c):4===p?(l=h,d=o):5===p&&(d=o,u=c),n?n.setTo?n.setTo(l,d,u,n.alpha,!1):(n.r=l,n.g=d,n.b=u,n.color=s(l,d,u),n):{r:l,g:d,b:u,color:s(l,d,u)}}},function(e,t){var i,s="";e.exports={disable:function(e){return""===s&&(s=i(e)),s&&(e[s]=!1),e},enable:function(e){return""===s&&(s=i(e)),s&&(e[s]=!0),e},getPrefix:i=function(e){for(var t=["i","webkitI","msI","mozI","oI"],i=0;i<t.length;i++){var s=t[i]+"mageSmoothingEnabled";if(s in e)return s}return null},isEnabled:function(e){return null!==s?e[s]:null}}},function(e,t){e.exports=function(e,t,i){return e.x=t-e.width/2,e.y=i-e.height/2,e}},function(e,t,i){var s=i(117),n=i(118),a=i(26),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};e.exports=function(){r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch(e){r.localStorage=!1}r.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),r.fileSystem=!!window.requestFileSystem;var e,t,i,o=!1;return r.webGL=function(){if(window.WebGLRenderingContext)try{var e=a.createWebGL(this),t=e.getContext("webgl")||e.getContext("experimental-webgl"),i=a.create2D(this),s=i.getContext("2d").createImageData(1,1);return o=s.data instanceof Uint8ClampedArray,a.remove(e),a.remove(i),!!t}catch(e){return!1}return!1}(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,n.firefox&&n.firefoxVersion<21&&(r.getUserMedia=!1),!s.iOS&&(n.ie||n.firefox||n.chrome)&&(r.canvasBitBltShift=!0),(n.safari||n.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(r.littleEndian=(e=new ArrayBuffer(4),t=new Uint8Array(e),i=new Uint32Array(e),t[0]=161,t[1]=178,t[2]=195,t[3]=212,3569595041===i[0]||2712847316!==i[0]&&null)),r.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==r.littleEndian&&o,r}()},function(e,t,i){var s=i(13),n=i(18),a={Angle:i(734),Distance:i(743),Easing:i(748),Fuzzy:i(749),Interpolation:i(752),Pow2:i(757),Snap:i(759),RandomDataGenerator:i(761),Average:i(762),Bernstein:i(324),Between:i(172),CatmullRom:i(171),CeilTo:i(763),Clamp:i(19),DegToRad:i(39),Difference:i(764),Factorial:i(325),FloatBetween:i(119),FloorTo:i(765),FromPercent:i(87),GetSpeed:i(766),IsEven:i(767),IsEvenStrict:i(768),Linear:i(116),MaxAdd:i(769),MinSub:i(770),Percent:i(771),RadToDeg:i(173),RandomXY:i(772),RandomXYZ:i(773),RandomXYZW:i(774),Rotate:i(331),RotateAround:i(276),RotateAroundDistance:i(159),RotateTo:i(775),RoundAwayFromZero:i(332),RoundTo:i(776),SinCosTableGenerator:i(777),SmootherStep:i(160),SmoothStep:i(161),ToXY:i(778),TransformXY:i(333),Within:i(779),Wrap:i(58),Vector2:i(3),Vector3:i(174),Vector4:i(334),Matrix3:i(335),Matrix4:i(336),Quaternion:i(337),RotateVec3:i(780)};a=n(!1,a,s),e.exports=a},function(e,t){e.exports=function(e,t,i,s,n){var a=.5*(s-t),r=.5*(n-i),o=e*e;return(2*i-2*s+a+r)*(e*o)+(-3*i+3*s-2*a-r)*o+a*e+i}},function(e,t){e.exports=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},function(e,t,i){var s=i(13);e.exports=function(e){return e*s.RAD_TO_DEG}},function(e,t,i){var s=new(i(0))({initialize:function(e,t,i){this.x=0,this.y=0,this.z=0,"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):(this.x=e||0,this.y=t||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},clone:function(){return new s(this.x,this.y,this.z)},crossVectors:function(e,t){var i=e.x,s=e.y,n=e.z,a=t.x,r=t.y,o=t.z;return this.x=s*o-n*r,this.y=n*a-i*o,this.z=i*r-s*a,this},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z||0,this},set:function(e,t,i){return"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):(this.x=e||0,this.y=t||0,this.z=i||0),this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z||0,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z||1,this},scale:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y,s=e.z-this.z||0;return Math.sqrt(t*t+i*i+s*s)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y,s=e.z-this.z||0;return t*t+i*i+s*s},length:function(){var e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)},lengthSq:function(){var e=this.x,t=this.y,i=this.z;return e*e+t*t+i*i},normalize:function(){var e=this.x,t=this.y,i=this.z,s=e*e+t*t+i*i;return s>0&&(s=1/Math.sqrt(s),this.x=e*s,this.y=t*s,this.z=i*s),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},cross:function(e){var t=this.x,i=this.y,s=this.z,n=e.x,a=e.y,r=e.z;return this.x=i*r-s*a,this.y=s*n-t*r,this.z=t*a-i*n,this},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,s=this.y,n=this.z;return this.x=i+t*(e.x-i),this.y=s+t*(e.y-s),this.z=n+t*(e.z-n),this},transformMat3:function(e){var t=this.x,i=this.y,s=this.z,n=e.val;return this.x=t*n[0]+i*n[3]+s*n[6],this.y=t*n[1]+i*n[4]+s*n[7],this.z=t*n[2]+i*n[5]+s*n[8],this},transformMat4:function(e){var t=this.x,i=this.y,s=this.z,n=e.val;return this.x=n[0]*t+n[4]*i+n[8]*s+n[12],this.y=n[1]*t+n[5]*i+n[9]*s+n[13],this.z=n[2]*t+n[6]*i+n[10]*s+n[14],this},transformCoordinates:function(e){var t=this.x,i=this.y,s=this.z,n=e.val,a=t*n[0]+i*n[4]+s*n[8]+n[12],r=t*n[1]+i*n[5]+s*n[9]+n[13],o=t*n[2]+i*n[6]+s*n[10]+n[14],c=t*n[3]+i*n[7]+s*n[11]+n[15];return this.x=a/c,this.y=r/c,this.z=o/c,this},transformQuat:function(e){var t=this.x,i=this.y,s=this.z,n=e.x,a=e.y,r=e.z,o=e.w,c=o*t+a*s-r*i,h=o*i+r*t-n*s,l=o*s+n*i-a*t,d=-n*t-a*i-r*s;return this.x=c*o+d*-n+h*-r-l*-a,this.y=h*o+d*-a+l*-n-c*-r,this.z=l*o+d*-r+c*-a-h*-n,this},project:function(e){var t=this.x,i=this.y,s=this.z,n=e.val,a=n[0],r=n[1],o=n[2],c=n[3],h=n[4],l=n[5],d=n[6],u=n[7],p=n[8],f=n[9],m=n[10],g=n[11],y=n[12],v=n[13],w=n[14],b=1/(t*c+i*u+s*g+n[15]);return this.x=(t*a+i*h+s*p+y)*b,this.y=(t*r+i*l+s*f+v)*b,this.z=(t*o+i*d+s*m+w)*b,this},unproject:function(e,t){var i=e.x,s=e.y,n=e.z,a=e.w,r=this.x-i,o=a-this.y-1-s,c=this.z;return this.x=2*r/n-1,this.y=2*o/a-1,this.z=2*c-1,this.project(t)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});s.ZERO=new s,s.RIGHT=new s(1,0,0),s.LEFT=new s(-1,0,0),s.UP=new s(0,-1,0),s.DOWN=new s(0,1,0),s.FORWARD=new s(0,0,1),s.BACK=new s(0,0,-1),s.ONE=new s(1,1,1),e.exports=s},function(e,t,i){e.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},function(e,t,i){var s=i(11),n=i(13);e.exports=function(e,t){if(void 0===t&&(t=new s),0===e.length)return t;for(var i,a,r,o=Number.MAX_VALUE,c=Number.MAX_VALUE,h=n.MIN_SAFE_INTEGER,l=n.MIN_SAFE_INTEGER,d=0;d<e.length;d++)i=e[d],Array.isArray(i)?(a=i[0],r=i[1]):(a=i.x,r=i.y),o=Math.min(o,a),c=Math.min(c,r),h=Math.max(h,a),l=Math.max(l,r);return t.x=o,t.y=c,t.width=h-o,t.height=l-c,t}},function(e,t,i){var s={CENTER:i(359),ORIENTATION:i(360),SCALE_MODE:i(361),ZOOM:i(362)};e.exports=s},function(e,t){e.exports=function(e){e.parentNode&&e.parentNode.removeChild(e)}},function(e,t){e.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},function(e,t,i){var s=i(0),n=i(125),a=i(175),r=i(22),o=i(880),c=i(881),h=i(1),l=i(375),d=new s({initialize:function(e,t){this.scene=e,this.game,this.renderer,this.config=t,this.settings=l.create(t),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=h},init:function(e){this.settings.status=n.INIT,this.sceneUpdate=h,this.game=e,this.renderer=e.renderer,this.canvas=e.canvas,this.context=e.context;var t=e.plugins;this.plugins=t,t.addToScene(this,a.Global,[a.CoreScene,c(this),o(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},install:function(e){Array.isArray(e)||(e=[e]),this.plugins.installLocal(this,e)},step:function(e,t){this.events.emit(r.PRE_UPDATE,e,t),this.events.emit(r.UPDATE,e,t),this.sceneUpdate.call(this.scene,e,t),this.events.emit(r.POST_UPDATE,e,t)},render:function(e){var t=this.displayList;t.depthSort(),this.cameras.render(e,t),this.events.emit(r.RENDER,e)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(e){return this.settings.active&&(this.settings.status=n.PAUSED,this.settings.active=!1,this.events.emit(r.PAUSE,this,e)),this},resume:function(e){return this.settings.active||(this.settings.status=n.RUNNING,this.settings.active=!0,this.events.emit(r.RESUME,this,e)),this},sleep:function(e){return this.settings.status=n.SLEEPING,this.settings.active=!1,this.settings.visible=!1,this.events.emit(r.SLEEP,this,e),this},wake:function(e){var t=this.settings;return t.status=n.RUNNING,t.active=!0,t.visible=!0,this.events.emit(r.WAKE,this,e),t.isTransition&&this.events.emit(r.TRANSITION_WAKE,t.transitionFrom,t.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===n.SLEEPING},isActive:function(){return this.settings.status===n.RUNNING},isPaused:function(){return this.settings.status===n.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(e){return this.settings.visible=e,this},setActive:function(e,t){return e?this.resume(t):this.pause(t)},start:function(e){e&&(this.settings.data=e),this.settings.status=n.START,this.settings.active=!0,this.settings.visible=!0,this.events.emit(r.START,this),this.events.emit(r.READY,this,e)},shutdown:function(e){this.events.off(r.TRANSITION_INIT),this.events.off(r.TRANSITION_START),this.events.off(r.TRANSITION_COMPLETE),this.events.off(r.TRANSITION_OUT),this.settings.status=n.SHUTDOWN,this.settings.active=!1,this.settings.visible=!1,this.events.emit(r.SHUTDOWN,this,e)},destroy:function(){this.settings.status=n.DESTROYED,this.settings.active=!1,this.settings.visible=!1,this.events.emit(r.DESTROY,this),this.events.removeAllListeners();for(var e=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],t=0;t<e.length;t++)this[e[t]]=null}});e.exports=d},function(e,t){e.exports=function(e){return e&&e[0].toUpperCase()+e.slice(1)}},function(e,t,i){var s=i(0),n=i(94),a=i(378),r=new s({initialize:function(e,t,i,s,n){Array.isArray(i)||(i=[i]),this.manager=e,this.key=t,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var r=0;r<i.length;r++)this.source.push(new a(this,i[r],s,n))},add:function(e,t,i,s,a,r){if(this.has(e))return null;var o=new n(this,e,t,i,s,a,r);return this.frames[e]=o,"__BASE"===this.firstFrame&&(this.firstFrame=e),this.frameTotal++,o},remove:function(e){return!!this.has(e)&&(this.get(e).destroy(),delete this.frames[e],!0)},has:function(e){return this.frames[e]},get:function(e){e||(e=this.firstFrame);var t=this.frames[e];return t||(console.warn("Texture.frame missing: "+e),t=this.frames[this.firstFrame]),t},getTextureSourceIndex:function(e){for(var t=0;t<this.source.length;t++)if(this.source[t]===e)return t;return-1},getFramesFromTextureSource:function(e,t){void 0===t&&(t=!1);var i=[];for(var s in this.frames)if("__BASE"!==s||t){var n=this.frames[s];n.sourceIndex===e&&i.push(n)}return i},getFrameNames:function(e){void 0===e&&(e=!1);var t=Object.keys(this.frames);if(!e){var i=t.indexOf("__BASE");-1!==i&&t.splice(i,1)}return t},getSourceImage:function(e){null!=e&&1!==this.frameTotal||(e="__BASE");var t=this.frames[e];return t?t.source.image:(console.warn("Texture.frame missing: "+e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){null!=e&&1!==this.frameTotal||(e="__BASE");var t,i=this.frames[e];return i?t=i.sourceIndex:(console.warn("Texture.frame missing: "+e),t=this.frames.__BASE.sourceIndex),this.dataSource[t].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=this.source[t];this.dataSource.push(new a(this,e[t],i.width,i.height))}},setFilter:function(e){var t;for(t=0;t<this.source.length;t++)this.source[t].setFilter(e);for(t=0;t<this.dataSource.length;t++)this.dataSource[t].setFilter(e)},destroy:function(){var e;for(e=0;e<this.source.length;e++)this.source[e].destroy();for(e=0;e<this.dataSource.length;e++)this.dataSource[e].destroy();for(var t in this.frames)this.frames[t].destroy();this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});e.exports=r},function(e,t,i){e.exports={Matrix:i(916),Add:i(923),AddAt:i(924),BringToTop:i(925),CountAllMatching:i(926),Each:i(927),EachInRange:i(928),FindClosestInSorted:i(270),GetAll:i(382),GetFirst:i(383),GetRandom:i(185),MoveDown:i(929),MoveTo:i(930),MoveUp:i(931),NumberArray:i(932),NumberArrayStep:i(933),QuickSelect:i(391),Range:i(392),Remove:i(123),RemoveAt:i(934),RemoveBetween:i(935),RemoveRandomElement:i(936),Replace:i(937),RotateLeft:i(286),RotateRight:i(287),SafeRange:i(68),SendToBack:i(938),SetAll:i(939),Shuffle:i(114),SpliceOne:i(80),StableSort:i(131),Swap:i(940)}},function(e,t){e.exports=function(e){if(!Array.isArray(e)||e.length<2||!Array.isArray(e[0]))return!1;for(var t=e[0].length,i=1;i<e.length;i++)if(e[i].length!==t)return!1;return!0}},function(e,t){e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=e.length);var s=t+Math.floor(Math.random()*i);return void 0===e[s]?null:e[s]}},function(e,t,i){var s=i(0),n=i(10),a=i(942),r=new s({Extends:n,initialize:function(){n.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0},add:function(e){return this._pending.push(e),this._toProcess++,e},remove:function(e){return this._destroy.push(e),this._toProcess++,e},removeAll:function(){for(var e=this._active,t=this._destroy,i=e.length;i--;)t.push(e[i]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var e,t,i=this._destroy,s=this._active;for(e=0;e<i.length;e++){t=i[e];var n=s.indexOf(t);-1!==n&&(s.splice(n,1),this.emit(a.REMOVE,t))}for(i.length=0,i=this._pending,e=0;e<i.length;e++)t=i[e],this._active.push(t),this.emit(a.ADD,t);return i.length=0,this._toProcess=0,this._active},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});e.exports=r},function(e,t){function i(e,t){return parseInt(e.getAttribute(t),10)}e.exports=function(e,t,s,n){void 0===t&&(t=0),void 0===s&&(s=0);var a={},r=e.getElementsByTagName("info")[0],o=e.getElementsByTagName("common")[0];a.font=r.getAttribute("face"),a.size=i(r,"size"),a.lineHeight=i(o,"lineHeight")+s,a.chars={};var c=e.getElementsByTagName("char"),h=void 0!==n&&n.trimmed;if(h)var l=n.height,d=n.width;for(var u=0;u<c.length;u++){var p=c[u],f=i(p,"id"),m=i(p,"x"),g=i(p,"y"),y=i(p,"width"),v=i(p,"height");h&&(m<d&&(d=m),g<l&&(l=g)),a.chars[f]={x:m,y:g,width:y,height:v,centerX:Math.floor(y/2),centerY:Math.floor(v/2),xOffset:i(p,"xoffset"),yOffset:i(p,"yoffset"),xAdvance:i(p,"xadvance")+t,data:{},kerning:{}}}if(h&&0!==l&&0!==d)for(var w in a.chars){var b=a.chars[w];b.x-=n.x,b.y-=n.y}var x=e.getElementsByTagName("kerning");for(u=0;u<x.length;u++){var k=x[u],T=i(k,"first"),_=i(k,"second"),S=i(k,"amount");a.chars[_].kerning[T]=S}return a}},function(e,t,i){var s=i(950),n=i(953),a=i(0),r=i(12),o=i(94),c=i(14),h=i(129),l=new a({Extends:c,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,s],initialize:function(e,t,i,s,n){c.call(this,e,"Blitter"),this.setTexture(s,n),this.setPosition(t,i),this.initPipeline(),this.children=new h,this.renderList=[],this.dirty=!1},create:function(e,t,i,s,a){void 0===s&&(s=!0),void 0===a&&(a=this.children.length),void 0===i?i=this.frame:i instanceof o||(i=this.texture.get(i));var r=new n(this,e,t,i,s);return this.children.addAt(r,a,!1),this.dirty=!0,r},createFromCallback:function(e,t,i,s){for(var n=this.createMultiple(t,i,s),a=0;a<n.length;a++){var r=n[a];e.call(this,r,a)}return n},createMultiple:function(e,t,i){void 0===t&&(t=this.frame.name),void 0===i&&(i=!0),Array.isArray(t)||(t=[t]);var s=[],n=this;return t.forEach((function(t){for(var a=0;a<e;a++)s.push(n.create(0,0,t,i))})),s},childCanRender:function(e){return e.visible&&e.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});e.exports=l},function(e,t,i){var s=i(183),n=i(52),a=i(0),r=i(12),o=i(90),c=i(14),h=i(11),l=i(954),d=i(394),u=i(3),p=new a({Extends:c,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.Transform,r.Visible,l],initialize:function(e,t,i,s){c.call(this,e,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._displayList=e.sys.displayList,this._sortKey="",this._sysEvents=e.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.setPosition(t,i),this.clearAlpha(),this.setBlendMode(n.SKIP_CHECK),s&&this.add(s)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(e){return void 0===e&&(e=!0),this.exclusive=e,this},getBounds:function(e){if(void 0===e&&(e=new h),e.setTo(this.x,this.y,0,0),this.parentContainer){var t=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);e.setTo(t.x,t.y,0,0)}if(this.list.length>0){var i=this.list,s=new h,n=!1;e.setEmpty();for(var a=0;a<i.length;a++){var r=i[a];r.getBounds&&(r.getBounds(s),n?d(s,e,e):(e.setTo(s.x,s.y,s.width,s.height),n=!0))}}return e},addHandler:function(e){e.once(o.DESTROY,this.remove,this),this.exclusive&&(this._displayList.remove(e),e.parentContainer&&e.parentContainer.remove(e),e.parentContainer=this)},removeHandler:function(e){e.off(o.DESTROY,this.remove),this.exclusive&&(e.parentContainer=null)},pointToContainer:function(e,t){void 0===t&&(t=new u),this.parentContainer?this.parentContainer.pointToContainer(e,t):t=new u(e.x,e.y);var i=this.tempTransformMatrix;return i.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),i.invert(),i.transformPoint(e.x,e.y,t),t},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(e){return s.Add(this.list,e,this.maxSize,this.addHandler,this),this},addAt:function(e,t){return s.AddAt(this.list,e,t,this.maxSize,this.addHandler,this),this},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,t){return e?(void 0===t&&(t=function(t,i){return t[e]-i[e]}),s.StableSort.inplace(this.list,t),this):this},getByName:function(e){return s.GetFirst(this.list,"name",e)},getRandom:function(e,t){return s.GetRandom(this.list,e,t)},getFirst:function(e,t,i,n){return s.GetFirst(this.list,e,t,i,n)},getAll:function(e,t,i,n){return s.GetAll(this.list,e,t,i,n)},count:function(e,t,i,n){return s.CountAllMatching(this.list,e,t,i,n)},swap:function(e,t){return s.Swap(this.list,e,t),this},moveTo:function(e,t){return s.MoveTo(this.list,e,t),this},remove:function(e,t){var i=s.Remove(this.list,e,this.removeHandler,this);if(t&&i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++)i[n].destroy()}return this},removeAt:function(e,t){var i=s.RemoveAt(this.list,e,this.removeHandler,this);return t&&i&&i.destroy(),this},removeBetween:function(e,t,i){var n=s.RemoveBetween(this.list,e,t,this.removeHandler,this);if(i)for(var a=0;a<n.length;a++)n[a].destroy();return this},removeAll:function(e){var t=s.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(e)for(var i=0;i<t.length;i++)t[i].destroy();return this},bringToTop:function(e){return s.BringToTop(this.list,e),this},sendToBack:function(e){return s.SendToBack(this.list,e),this},moveUp:function(e){return s.MoveUp(this.list,e),this},moveDown:function(e){return s.MoveDown(this.list,e),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return s.Shuffle(this.list),this},replace:function(e,t,i){return s.Replace(this.list,e,t)&&(this.addHandler(t),this.removeHandler(e),i&&e.destroy()),this},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,t,i,n){return s.SetAll(this.list,e,t,i,n),this},each:function(e,t){var i,s=[null],n=this.list.slice(),a=n.length;for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<a;i++)s[0]=n[i],e.apply(t,s);return this},iterate:function(e,t){var i,s=[null];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<this.list.length;i++)s[0]=this.list[i],e.apply(t,s);return this},setScrollFactor:function(e,t,i){return void 0===t&&(t=e),void 0===i&&(i=!1),this.scrollFactorX=e,this.scrollFactorY=t,i&&(s.SetAll(this.list,"scrollFactorX",e),s.SetAll(this.list,"scrollFactorY",t)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null}});e.exports=p},function(e,t,i){var s=i(132),n=i(0),a=i(959),r=new n({Extends:s,Mixins:[a],initialize:function(e,t,i,n,a,r,o){s.call(this,e,t,i,n,a,r,o),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(e,t){return this.cropWidth=e,this.cropHeight=t,this},setDisplayCallback:function(e){return this.displayCallback=e,this},setScrollX:function(e){return this.scrollX=e,this},setScrollY:function(e){return this.scrollY=e,this}});e.exports=r},function(e,t,i){var s=i(91),n=i(0),a=i(192),r=i(269),o=i(272),c=i(273),h=i(277),l=i(156),d=i(282),u=i(283),p=i(280),f=i(29),m=i(95),g=i(14),y=i(2),v=i(6),w=i(13),b=i(965),x=new n({Extends:g,Mixins:[r,o,c,h,l,d,u,p,b],initialize:function(e,t){var i=v(t,"x",0),s=v(t,"y",0);g.call(this,e,"Graphics"),this.setPosition(i,s),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.setDefaultStyles(t)},setDefaultStyles:function(e){return v(e,"lineStyle",null)&&(this.defaultStrokeWidth=v(e,"lineStyle.width",1),this.defaultStrokeColor=v(e,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(e,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(e,"fillStyle",null)&&(this.defaultFillColor=v(e,"fillStyle.color",16777215),this.defaultFillAlpha=v(e,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(e,t,i){return void 0===i&&(i=1),this.commandBuffer.push(a.LINE_STYLE,e,t,i),this._lineWidth=e,this},fillStyle:function(e,t){return void 0===t&&(t=1),this.commandBuffer.push(a.FILL_STYLE,e,t),this},fillGradientStyle:function(e,t,i,s,n){return void 0===n&&(n=1),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,n,e,t,i,s),this},lineGradientStyle:function(e,t,i,s,n,r){return void 0===r&&(r=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,e,r,t,i,s,n),this},setTexture:function(e,t,i){if(void 0===i&&(i=0),void 0===e)this.commandBuffer.push(a.CLEAR_TEXTURE);else{var s=this.scene.sys.textures.getFrame(e,t);s&&(2===i&&(i=3),this.commandBuffer.push(a.SET_TEXTURE,s,i))}return this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(e){return this.fillCircle(e.x,e.y,e.radius)},strokeCircleShape:function(e){return this.strokeCircle(e.x,e.y,e.radius)},fillCircle:function(e,t,i){return this.beginPath(),this.arc(e,t,i,0,w.PI2),this.fillPath(),this},strokeCircle:function(e,t,i){return this.beginPath(),this.arc(e,t,i,0,w.PI2),this.strokePath(),this},fillRectShape:function(e){return this.fillRect(e.x,e.y,e.width,e.height)},strokeRectShape:function(e){return this.strokeRect(e.x,e.y,e.width,e.height)},fillRect:function(e,t,i,s){return this.commandBuffer.push(a.FILL_RECT,e,t,i,s),this},strokeRect:function(e,t,i,s){var n=this._lineWidth/2,a=e-n,r=e+n;return this.beginPath(),this.moveTo(e,t),this.lineTo(e,t+s),this.strokePath(),this.beginPath(),this.moveTo(e+i,t),this.lineTo(e+i,t+s),this.strokePath(),this.beginPath(),this.moveTo(a,t),this.lineTo(r+i,t),this.strokePath(),this.beginPath(),this.moveTo(a,t+s),this.lineTo(r+i,t+s),this.strokePath(),this},fillRoundedRect:function(e,t,i,s,n){void 0===n&&(n=20);var a=n,r=n,o=n,c=n;return"number"!=typeof n&&(a=y(n,"tl",20),r=y(n,"tr",20),o=y(n,"bl",20),c=y(n,"br",20)),this.beginPath(),this.moveTo(e+a,t),this.lineTo(e+i-r,t),this.arc(e+i-r,t+r,r,-w.TAU,0),this.lineTo(e+i,t+s-c),this.arc(e+i-c,t+s-c,c,0,w.TAU),this.lineTo(e+o,t+s),this.arc(e+o,t+s-o,o,w.TAU,Math.PI),this.lineTo(e,t+a),this.arc(e+a,t+a,a,-Math.PI,-w.TAU),this.fillPath(),this},strokeRoundedRect:function(e,t,i,s,n){void 0===n&&(n=20);var a=n,r=n,o=n,c=n;return"number"!=typeof n&&(a=y(n,"tl",20),r=y(n,"tr",20),o=y(n,"bl",20),c=y(n,"br",20)),this.beginPath(),this.moveTo(e+a,t),this.lineTo(e+i-r,t),this.arc(e+i-r,t+r,r,-w.TAU,0),this.lineTo(e+i,t+s-c),this.arc(e+i-c,t+s-c,c,0,w.TAU),this.lineTo(e+o,t+s),this.arc(e+o,t+s-o,o,w.TAU,Math.PI),this.lineTo(e,t+a),this.arc(e+a,t+a,a,-Math.PI,-w.TAU),this.strokePath(),this},fillPointShape:function(e,t){return this.fillPoint(e.x,e.y,t)},fillPoint:function(e,t,i){return!i||i<1?i=1:(e-=i/2,t-=i/2),this.commandBuffer.push(a.FILL_RECT,e,t,i,i),this},fillTriangleShape:function(e){return this.fillTriangle(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},strokeTriangleShape:function(e){return this.strokeTriangle(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},fillTriangle:function(e,t,i,s,n,r){return this.commandBuffer.push(a.FILL_TRIANGLE,e,t,i,s,n,r),this},strokeTriangle:function(e,t,i,s,n,r){return this.commandBuffer.push(a.STROKE_TRIANGLE,e,t,i,s,n,r),this},strokeLineShape:function(e){return this.lineBetween(e.x1,e.y1,e.x2,e.y2)},lineBetween:function(e,t,i,s){return this.beginPath(),this.moveTo(e,t),this.lineTo(i,s),this.strokePath(),this},lineTo:function(e,t){return this.commandBuffer.push(a.LINE_TO,e,t),this},moveTo:function(e,t){return this.commandBuffer.push(a.MOVE_TO,e,t),this},strokePoints:function(e,t,i,s){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===s&&(s=e.length),this.beginPath(),this.moveTo(e[0].x,e[0].y);for(var n=1;n<s;n++)this.lineTo(e[n].x,e[n].y);return t&&this.lineTo(e[0].x,e[0].y),i&&this.closePath(),this.strokePath(),this},fillPoints:function(e,t,i,s){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===s&&(s=e.length),this.beginPath(),this.moveTo(e[0].x,e[0].y);for(var n=1;n<s;n++)this.lineTo(e[n].x,e[n].y);return t&&this.lineTo(e[0].x,e[0].y),i&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(e,t){void 0===t&&(t=32);var i=e.getPoints(t);return this.strokePoints(i,!0)},strokeEllipse:function(e,t,i,s,n){void 0===n&&(n=32);var a=new m(e,t,i,s).getPoints(n);return this.strokePoints(a,!0)},fillEllipseShape:function(e,t){void 0===t&&(t=32);var i=e.getPoints(t);return this.fillPoints(i,!0)},fillEllipse:function(e,t,i,s,n){void 0===n&&(n=32);var a=new m(e,t,i,s).getPoints(n);return this.fillPoints(a,!0)},arc:function(e,t,i,s,n,r,o){return void 0===r&&(r=!1),void 0===o&&(o=0),this.commandBuffer.push(a.ARC,e,t,i,s,n,r,o),this},slice:function(e,t,i,s,n,r,o){return void 0===r&&(r=!1),void 0===o&&(o=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,e,t),this.commandBuffer.push(a.ARC,e,t,i,s,n,r,o),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(e,t){return this.commandBuffer.push(a.TRANSLATE,e,t),this},scaleCanvas:function(e,t){return this.commandBuffer.push(a.SCALE,e,t),this},rotateCanvas:function(e){return this.commandBuffer.push(a.ROTATE,e),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(e,t,i){var s,n,a=this.scene.sys,r=a.game.renderer;if(void 0===t&&(t=a.scale.width),void 0===i&&(i=a.scale.height),x.TargetCamera.setScene(this.scene),x.TargetCamera.setViewport(0,0,t,i),x.TargetCamera.scrollX=this.x,x.TargetCamera.scrollY=this.y,"string"==typeof e)if(a.textures.exists(e)){var o=(s=a.textures.get(e)).getSourceImage();o instanceof HTMLCanvasElement&&(n=o.getContext("2d"))}else n=(s=a.textures.createCanvas(e,t,i)).getSourceImage().getContext("2d");else e instanceof HTMLCanvasElement&&(n=e.getContext("2d"));return n&&(this.renderCanvas(r,this,0,x.TargetCamera,null,n,!1),s&&s.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});x.TargetCamera=new s,e.exports=x},function(e,t){e.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,SET_TEXTURE:19,CLEAR_TEXTURE:20,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(e,t,i){var s=i(4);e.exports=function(e,t,i){void 0===i&&(i=new s);var n=e.width/2,a=e.height/2;return i.x=e.x+n*Math.cos(t),i.y=e.y+a*Math.sin(t),i}},function(e,t,i){var s=i(0),n=i(12),a=i(14),r=i(402),o=i(129),c=i(404),h=i(975),l=new s({Extends:a,Mixins:[n.Depth,n.Mask,n.Pipeline,n.Transform,n.Visible,h],initialize:function(e,t,i,s){if(a.call(this,e,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],null===i||"object"!=typeof i&&!Array.isArray(i)||(s=i,i=null),this.setTexture(t,i),this.initPipeline(),this.emitters=new o(this),this.wells=new o(this),s){Array.isArray(s)||(s=[s]);for(var n=0;n<s.length;n++)this.createEmitter(s[n])}},setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e){this.frame=this.texture.get(e);var t=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),i=[];return t.forEach((function(e){i.push(e.name)})),this.frameNames=i,this.defaultFrame=this.frame,this},setEmitterFrames:function(e,t){Array.isArray(e)||(e=[e]);var i=t.frames;i.length=0;for(var s=0;s<e.length;s++){var n=e[s];-1!==this.frameNames.indexOf(n)&&i.push(this.texture.get(n))}return i.length>0?t.defaultFrame=i[0]:t.defaultFrame=this.defaultFrame,this},addEmitter:function(e){return this.emitters.add(e)},createEmitter:function(e){return this.addEmitter(new c(this,e))},removeEmitter:function(e){return this.emitters.remove(e,!0)},addGravityWell:function(e){return this.wells.add(e)},createGravityWell:function(e){return this.addGravityWell(new r(e))},emitParticle:function(e,t,i){for(var s=this.emitters.list,n=0;n<s.length;n++){var a=s[n];a.active&&a.emitParticle(e,t,i)}return this},emitParticleAt:function(e,t,i){return this.emitParticle(i,e,t)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(e,t){t*=this.timeScale;for(var i=this.emitters.list,s=0;s<i.length;s++){var n=i[s];n.active&&n.preUpdate(e,t)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});e.exports=l},function(e,t,i){var s=i(52),n=i(91),a=i(26),r=i(0),o=i(12),c=i(33),h=i(94),l=i(14),d=i(1),u=i(979),p=i(9),f=i(196),m=new r({Extends:l,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,u],initialize:function(e,t,i,s,r,o,h){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=32),void 0===r&&(r=32),l.call(this,e,"RenderTexture"),this.renderer=e.sys.game.renderer,this.textureManager=e.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.framebuffer=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,void 0===o?(this.canvas=a.create2D(this,s,r),this.texture=e.sys.textures.addCanvas(f(),this.canvas),this.frame=this.texture.get()):(this.texture=e.sys.textures.get(o),this.frame=this.texture.get(h),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new n(0,0,s,r),this.gl=null,this.glTexture=null;var u=this.renderer;if(u)if(u.type===c.WEBGL){var p=u.gl;this.gl=p,this.glTexture=this.frame.source.glTexture,this.drawGameObject=this.batchGameObjectWebGL,this.framebuffer=u.createFramebuffer(s,r,this.glTexture,!1)}else u.type===c.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas);else this.drawGameObject=d;this.camera.setScene(e),this.setPosition(t,i),void 0===o&&this.setSize(s,r),this.setOrigin(0,0),this.initPipeline()},setSize:function(e,t){return this.resize(e,t)},resize:function(e,t){if(void 0===t&&(t=e),e!==this.width||t!==this.height){if("__BASE"===this.frame.name){if(this.canvas.width=e,this.canvas.height=t,this.texture.width=e,this.texture.height=t,this.gl){var i=this.gl;this.renderer.deleteTexture(this.frame.source.glTexture),this.renderer.deleteFramebuffer(this.framebuffer);var s=this.renderer.createTexture2D(0,i.NEAREST,i.NEAREST,i.CLAMP_TO_EDGE,i.CLAMP_TO_EDGE,i.RGBA,null,e,t,!1);this.framebuffer=this.renderer.createFramebuffer(e,t,s,!1),this.frame.source.isRenderTexture=!0,this.frame.glTexture=s,this.glTexture=s}this.frame.source.width=e,this.frame.source.height=t,this.camera.setSize(e,t),this.frame.setSize(e,t),this.width=e,this.height=t}}else{var n=this.texture.getSourceImage();this.frame.cutX+e>n.width&&(e=n.width-this.frame.cutX),this.frame.cutY+t>n.height&&(t=n.height-this.frame.cutY),this.frame.setSize(e,t,this.frame.cutX,this.frame.cutY)}this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=e,a.hitArea.height=t),this},setGlobalTint:function(e){return this.globalTint=e,this},setGlobalAlpha:function(e){return this.globalAlpha=e,this},saveTexture:function(e){return this.textureManager.renameTexture(this.texture.key,e),this._saved=!0,this.texture},fill:function(e,t,i,s,n,a){void 0===t&&(t=1),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=this.frame.cutWidth),void 0===a&&(a=this.frame.cutHeight);var r=255&(e>>16|0),o=255&(e>>8|0),c=255&(0|e),h=this.gl,l=this.frame;if(this.camera.preRender(1,1),h){var d=this.camera._cx,u=this.camera._cy,f=this.camera._cw,m=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(d,u,f,m,m);var g=this.pipeline;g.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),g.drawFillRect(i,s,n,a,p.getTintFromFloats(r/255,o/255,c/255,1),t),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),g.projOrtho(0,g.width,g.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.context.fillStyle="rgba("+r+","+o+","+c+","+t+")",this.context.fillRect(i+l.cutX,s+l.cutY,n,a),this.renderer.setContext();return this.dirty=!0,this},clear:function(){if(this.dirty){var e=this.gl;if(e){var t=this.renderer;t.setFramebuffer(this.framebuffer,!0),this.frame.cutWidth===this.canvas.width&&this.frame.cutHeight===this.canvas.height||e.scissor(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t.setFramebuffer(null,!0)}else{var i=this.context;i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),i.restore()}this.dirty=!1}return this},erase:function(e,t,i){this._eraseMode=!0;var n=this.renderer.currentBlendMode;return this.renderer.setBlendMode(s.ERASE),this.draw(e,t,i,1,16777215),this.renderer.setBlendMode(n),this._eraseMode=!1,this},draw:function(e,t,i,s,n){void 0===s&&(s=this.globalAlpha),n=void 0===n?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(n>>16)+(65280&n)+((255&n)<<16),Array.isArray(e)||(e=[e]);var a=this.gl;if(this.camera.preRender(1,1),a){var r=this.camera._cx,o=this.camera._cy,c=this.camera._cw,h=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(r,o,c,h,h);var l=this.pipeline;l.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),this.batchList(e,t,i,s,n),l.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),l.projOrtho(0,l.width,l.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.batchList(e,t,i,s,n),this.renderer.setContext();return this.dirty=!0,this},drawFrame:function(e,t,i,s,n,a){void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=this.globalAlpha),a=void 0===a?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(a>>16)+(65280&a)+((255&a)<<16);var r=this.gl,o=this.textureManager.getFrame(e,t);if(o){if(this.camera.preRender(1,1),r){var c=this.camera._cx,h=this.camera._cy,l=this.camera._cw,d=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(c,h,l,d,d);var u=this.pipeline;u.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),u.batchTextureFrame(o,i+this.frame.cutX,s+this.frame.cutY,a,n,this.camera.matrix,null),u.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),u.projOrtho(0,u.width,u.height,0,-1e3,1e3)}else this.batchTextureFrame(o,i+this.frame.cutX,s+this.frame.cutY,n,a);this.dirty=!0}return this},batchList:function(e,t,i,s,n){for(var a=0;a<e.length;a++){var r=e[a];r&&r!==this&&(r.renderWebGL||r.renderCanvas?this.drawGameObject(r,t,i):r.isParent||r.list?this.batchGroup(r.getChildren(),t,i):"string"==typeof r?this.batchTextureFrameKey(r,null,t,i,s,n):r instanceof h?this.batchTextureFrame(r,t,i,s,n):Array.isArray(r)&&this.batchList(r,t,i,s,n))}},batchGroup:function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0),t+=this.frame.cutX,i+=this.frame.cutY;for(var s=0;s<e.length;s++){var n=e[s];if(n.willRender()){var a=n.x+t,r=n.y+i;this.drawGameObject(n,a,r)}}},batchGameObjectWebGL:function(e,t,i){void 0===t&&(t=e.x),void 0===i&&(i=e.y);var s=e.x,n=e.y;this._eraseMode||this.renderer.setBlendMode(e.blendMode),e.setPosition(t+this.frame.cutX,i+this.frame.cutY),e.renderWebGL(this.renderer,e,0,this.camera,null),e.setPosition(s,n)},batchGameObjectCanvas:function(e,t,i){void 0===t&&(t=e.x),void 0===i&&(i=e.y);var n=e.x,a=e.y;if(this._eraseMode){var r=e.blendMode;e.blendMode=s.ERASE}e.setPosition(t+this.frame.cutX,i+this.frame.cutY),e.renderCanvas(this.renderer,e,0,this.camera,null),e.setPosition(n,a),this._eraseMode&&(e.blendMode=r)},batchTextureFrameKey:function(e,t,i,s,n,a){var r=this.textureManager.getFrame(e,t);r&&this.batchTextureFrame(r,i,s,n,a)},batchTextureFrame:function(e,t,i,s,n){if(void 0===t&&(t=0),void 0===i&&(i=0),t+=this.frame.cutX,i+=this.frame.cutY,this.gl)this.pipeline.batchTextureFrame(e,t,i,n,s,this.camera.matrix,null);else{var a=this.context,r=e.canvasData,o=e.source.image,c=this.camera.matrix;a.globalAlpha=this.globalAlpha,a.setTransform(c[0],c[1],c[2],c[3],c[4],c[5]),a.drawImage(o,r.x,r.y,r.width,r.height,t,i,r.width,r.height)}},snapshotArea:function(e,t,i,s,n,a,r){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,n,!1,e,t,i,s,a,r):this.renderer.snapshotCanvas(this.canvas,n,!1,e,t,i,s,a,r),this},snapshot:function(e,t,i){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,e,!1,0,0,this.width,this.height,t,i):this.renderer.snapshotCanvas(this.canvas,e,!1,0,0,this.width,this.height,t,i),this},snapshotPixel:function(e,t,i){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,i,!0,e,t):this.renderer.snapshotCanvas(this.canvas,i,!0,e,t),this},preDestroy:function(){this._saved||(a.remove(this.canvas),this.gl&&this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.framebuffer=null,this.texture=null,this.glTexture=null)}});e.exports=m},function(e,t){e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},function(e,t,i){var s=i(0),n=i(12),a=i(14),r=i(985),o=i(3),c=new s({Extends:a,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Flip,n.Mask,n.Pipeline,n.Size,n.Texture,n.Transform,n.Visible,n.ScrollFactor,r],initialize:function(e,t,i,s,r,c,h,l,d){void 0===s&&(s="__DEFAULT"),void 0===c&&(c=2),void 0===h&&(h=!0),a.call(this,e,"Rope"),this.anims=new n.Animation(this),this.points=c,this.vertices,this.uv,this.colors,this.alphas,this.tintFill="__DEFAULT"===s?2:0,this.dirty=!1,this.horizontal=h,this._flipX=!1,this._flipY=!1,this._perp=new o,this.debugCallback=null,this.debugGraphic=null,this.setTexture(s,r),this.setPosition(t,i),this.setSizeToFrame(),this.initPipeline("TextureTintStripPipeline"),Array.isArray(c)&&this.resizeArrays(c.length),this.setPoints(c,l,d),this.updateVertices()},preUpdate:function(e,t){var i=this.anims.currentFrame;this.anims.update(e,t),this.anims.currentFrame!==i&&(this.updateUVs(),this.updateVertices())},play:function(e,t,i){return this.anims.play(e,t,i),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(e,t,i){return void 0===e&&(e=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(e,t,i))},setVertical:function(e,t,i){return void 0===e&&(e=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(e,t,i)):this},setTintFill:function(e){return void 0===e&&(e=0),this.tintFill=e,this},setAlphas:function(e,t){var i=this.points.length;if(i<1)return this;var s,n=this.alphas;void 0===e?e=[1]:Array.isArray(e)||void 0!==t||(e=[e]);var a=0;if(void 0!==t)for(s=0;s<i;s++)n[a=2*s]=e,n[a+1]=t;else if(e.length===i)for(s=0;s<i;s++)n[a=2*s]=e[s],n[a+1]=e[s];else{var r=e[0];for(s=0;s<i;s++)a=2*s,e.length>a&&(r=e[a]),n[a]=r,e.length>a+1&&(r=e[a+1]),n[a+1]=r}return this},setColors:function(e){var t=this.points.length;if(t<1)return this;var i,s=this.colors;void 0===e?e=[16777215]:Array.isArray(e)||(e=[e]);var n=0;if(e.length===t)for(i=0;i<t;i++)s[n=2*i]=e[i],s[n+1]=e[i];else{var a=e[0];for(i=0;i<t;i++)n=2*i,e.length>n&&(a=e[n]),s[n]=a,e.length>n+1&&(a=e[n+1]),s[n+1]=a}return this},setPoints:function(e,t,i){if(void 0===e&&(e=2),"number"==typeof e){var s,n,a,r=e;if(r<2&&(r=2),e=[],this.horizontal)for(a=-this.frame.halfWidth,n=this.frame.width/(r-1),s=0;s<r;s++)e.push({x:a+s*n,y:0});else for(a=-this.frame.halfHeight,n=this.frame.height/(r-1),s=0;s<r;s++)e.push({x:0,y:a+s*n})}var o=e.length,c=this.points.length;return o<1?(console.warn("Rope: Not enough points given"),this):(1===o&&(e.unshift({x:0,y:0}),o++),c!==o&&this.resizeArrays(o),this.points=e,this.updateUVs(),null!=t&&this.setColors(t),null!=i&&this.setAlphas(i),this)},updateUVs:function(){for(var e=this.uv,t=this.points.length,i=this.frame.u0,s=this.frame.v0,n=this.frame.u1,a=this.frame.v1,r=(n-i)/(t-1),o=(a-s)/(t-1),c=0;c<t;c++){var h,l,d,u,p=4*c;this.horizontal?(this._flipX?(h=n-c*r,d=n-c*r):(h=i+c*r,d=i+c*r),this._flipY?(l=a,u=s):(l=s,u=a)):(this._flipX?(h=i,d=n):(h=n,d=i),this._flipY?(l=a-c*o,u=a-c*o):(l=s+c*o,u=s+c*o)),e[p+0]=h,e[p+1]=l,e[p+2]=d,e[p+3]=u}return this},resizeArrays:function(e){var t=this.colors,i=this.alphas;this.vertices=new Float32Array(4*e),this.uv=new Float32Array(4*e),t=new Uint32Array(2*e),i=new Float32Array(2*e);for(var s=0;s<2*e;s++)t[s]=16777215,i[s]=1;return this.colors=t,this.alphas=i,this.dirty=!0,this},updateVertices:function(){var e=this._perp,t=this.points,i=this.vertices,s=t.length;if(this.dirty=!1,!(s<1)){for(var n,a=t[0],r=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,o=0;o<s;o++){var c=t[o],h=4*o;n=o<s-1?t[o+1]:c,e.x=n.y-a.y,e.y=-(n.x-a.x);var l=e.length();e.x/=l,e.y/=l,e.x*=r,e.y*=r,i[h]=c.x+e.x,i[h+1]=c.y+e.y,i[h+2]=c.x-e.x,i[h+3]=c.y-e.y,a=c}return this}},setDebug:function(e,t){return this.debugGraphic=e,this.debugCallback=e||t?t||this.renderDebugVerts:null,this},renderDebugVerts:function(e,t,i){var s=e.debugGraphic,n=i[0],a=i[1],r=i[2],o=i[3];s.lineBetween(n,a,r,o);for(var c=4;c<t;c+=4){var h=i[c+0],l=i[c+1],d=i[c+2],u=i[c+3];s.lineBetween(n,a,h,l),s.lineBetween(r,o,d,u),s.lineBetween(r,o,h,l),s.lineBetween(h,l,d,u),n=h,a=l,r=d,o=u}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(e){return this._flipX=e,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(e){return this._flipY=e,this.updateUVs()}}});e.exports=c},function(e,t,i){var s=i(122),n=i(26),a=i(0),r=i(12),o=i(20),c=i(14),h=i(988),l=i(6),d=i(178),u=i(989),p=i(992),f=new a({Extends:c,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,u],initialize:function(e,t,i,s,a){void 0===t&&(t=0),void 0===i&&(i=0),c.call(this,e,"Text"),this.renderer=e.sys.game.renderer,this.setPosition(t,i),this.setOrigin(0,0),this.initPipeline(),this.canvas=n.create(this),this.context=this.canvas.getContext("2d"),this.style=new p(this,a),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=e.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=e.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(s),a&&a.padding&&this.setPadding(a.padding),a&&a.lineSpacing&&this.setLineSpacing(a.lineSpacing),e.sys.game.events.on(o.CONTEXT_RESTORED,(function(){this.dirty=!0}),this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",s(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(e){var t=this.style;if(t.wordWrapCallback){var i=t.wordWrapCallback.call(t.wordWrapCallbackScope,e,this);return Array.isArray(i)&&(i=i.join("\n")),i}return t.wordWrapWidth?t.wordWrapUseAdvanced?this.advancedWordWrap(e,this.context,this.style.wordWrapWidth):this.basicWordWrap(e,this.context,this.style.wordWrapWidth):e},advancedWordWrap:function(e,t,i){for(var s="",n=e.replace(/ +/gi," ").split(this.splitRegExp),a=n.length,r=0;r<a;r++){var o=n[r],c="";if(o=o.replace(/^ *|\s*$/gi,""),t.measureText(o).width<i)s+=o+"\n";else{for(var h=i,l=o.split(" "),d=0;d<l.length;d++){var u=l[d],p=u+" ",f=t.measureText(p).width;if(f>h){if(0===d){for(var m=p;m.length&&(m=m.slice(0,-1),!((f=t.measureText(m).width)<=h)););if(!m.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var g=u.substr(m.length);l[d]=g,c+=m}var y=l[d].length?d:d+1,v=l.slice(y).join(" ").replace(/[ \n]*$/gi,"");n[r+1]=v+" "+(n[r+1]||""),a=n.length;break}c+=p,h-=f}s+=c.replace(/[ \n]*$/gi,"")+"\n"}}return s=s.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(e,t,i){for(var s="",n=e.split(this.splitRegExp),a=n.length-1,r=t.measureText(" ").width,o=0;o<=a;o++){for(var c=i,h=n[o].split(" "),l=h.length-1,d=0;d<=l;d++){var u=h[d],p=t.measureText(u).width,f=p+r;f>c&&d>0&&(s+="\n",c=i),s+=u,d<l?(s+=" ",c-=f):c-=p}o<a&&(s+="\n")}return s},getWrappedText:function(e){return void 0===e&&(e=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(e).split(this.splitRegExp)},setText:function(e){return e||0===e||(e=""),Array.isArray(e)&&(e=e.join("\n")),e!==this._text&&(this._text=e.toString(),this.updateText()),this},setStyle:function(e){return this.style.setStyle(e)},setFont:function(e){return this.style.setFont(e)},setFontFamily:function(e){return this.style.setFontFamily(e)},setFontSize:function(e){return this.style.setFontSize(e)},setFontStyle:function(e){return this.style.setFontStyle(e)},setFixedSize:function(e,t){return this.style.setFixedSize(e,t)},setBackgroundColor:function(e){return this.style.setBackgroundColor(e)},setFill:function(e){return this.style.setFill(e)},setColor:function(e){return this.style.setColor(e)},setStroke:function(e,t){return this.style.setStroke(e,t)},setShadow:function(e,t,i,s,n,a){return this.style.setShadow(e,t,i,s,n,a)},setShadowOffset:function(e,t){return this.style.setShadowOffset(e,t)},setShadowColor:function(e){return this.style.setShadowColor(e)},setShadowBlur:function(e){return this.style.setShadowBlur(e)},setShadowStroke:function(e){return this.style.setShadowStroke(e)},setShadowFill:function(e){return this.style.setShadowFill(e)},setWordWrapWidth:function(e,t){return this.style.setWordWrapWidth(e,t)},setWordWrapCallback:function(e,t){return this.style.setWordWrapCallback(e,t)},setAlign:function(e){return this.style.setAlign(e)},setResolution:function(e){return this.style.setResolution(e)},setLineSpacing:function(e){return this.lineSpacing=e,this.updateText()},setPadding:function(e,t,i,s){if("object"==typeof e){var n=e,a=l(n,"x",null);null!==a?(e=a,i=a):(e=l(n,"left",0),i=l(n,"right",e));var r=l(n,"y",null);null!==r?(t=r,s=r):(t=l(n,"top",0),s=l(n,"bottom",t))}else void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=e),void 0===s&&(s=t);return this.padding.left=e,this.padding.top=t,this.padding.right=i,this.padding.bottom=s,this.updateText()},setMaxLines:function(e){return this.style.setMaxLines(e)},updateText:function(){var e=this.canvas,t=this.context,i=this.style,s=i.resolution,n=i.metrics;i.syncFont(e,t);var a=this._text;(i.wordWrapWidth||i.wordWrapCallback)&&(a=this.runWordWrap(this._text));var r,o=a.split(this.splitRegExp),c=h(this,n,o),l=this.padding;0===i.fixedWidth?(this.width=c.width+l.left+l.right,r=c.width):(this.width=i.fixedWidth,(r=this.width-l.left-l.right)<c.width&&(r=c.width)),0===i.fixedHeight?this.height=c.height+l.top+l.bottom:this.height=i.fixedHeight;var d,u,p=this.width,f=this.height;this.updateDisplayOrigin(),p*=s,f*=s,p=Math.max(p,1),f=Math.max(f,1),e.width!==p||e.height!==f?(e.width=p,e.height=f,this.frame.setSize(p,f),i.syncFont(e,t)):t.clearRect(0,0,p,f),t.save(),t.scale(s,s),i.backgroundColor&&(t.fillStyle=i.backgroundColor,t.fillRect(0,0,p,f)),i.syncStyle(e,t),t.textBaseline="alphabetic",t.translate(l.left,l.top);for(var m=0;m<c.lines;m++){if(d=i.strokeThickness/2,u=i.strokeThickness/2+m*c.lineHeight+n.ascent,m>0&&(u+=c.lineSpacing*m),i.rtl)d=p-d;else if("right"===i.align)d+=r-c.lineWidths[m];else if("center"===i.align)d+=(r-c.lineWidths[m])/2;else if("justify"===i.align&&c.lineWidths[m]/c.width>=.85){var g=c.width-c.lineWidths[m],y=t.measureText(" ").width,v=o[m].trim(),w=v.split(" ");g+=(o[m].length-v.length)*y;for(var b=Math.floor(g/y),x=0;b>0;)w[x]+=" ",x=(x+1)%(w.length-1||1),--b;o[m]=w.join(" ")}this.autoRound&&(d=Math.round(d),u=Math.round(u)),i.strokeThickness&&(this.style.syncShadow(t,i.shadowStroke),t.strokeText(o[m],d,u)),i.color&&(this.style.syncShadow(t,i.shadowFill),t.fillText(o[m],d,u))}t.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(e,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var k=this.input;return k&&!k.customHitArea&&(k.hitArea.width=this.width,k.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(e){this.setText(e)}},toJSON:function(){var e=r.ToJSON(this),t={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return e.data=t,e},preDestroy:function(){this.style.rtl&&d(this.canvas),n.remove(this.canvas),this.texture.destroy()}});e.exports=f},function(e,t,i){var s=i(26),n=i(0),a=i(12),r=i(20),o=i(14),c=i(329),h=i(167),l=i(994),d=i(3),u=new n({Extends:o,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,l],initialize:function(e,t,i,n,a,h,l){var u=e.sys.game.renderer;o.call(this,e,"TileSprite");var p=e.sys.textures.get(h),f=p.get(l);n&&a?(n=Math.floor(n),a=Math.floor(a)):(n=f.width,a=f.height),this._tilePosition=new d,this._tileScale=new d(1,1),this.dirty=!1,this.renderer=u,this.canvas=s.create(this,n,a),this.context=this.canvas.getContext("2d"),this.displayTexture=p,this.displayFrame=f,this._crop=this.resetCropObject(),this.texture=e.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=c(f.width),this.potHeight=c(f.height),this.fillCanvas=s.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(t,i),this.setSize(n,a),this.setFrame(l),this.setOriginFromFrame(),this.initPipeline(),e.sys.game.events.on(r.CONTEXT_RESTORED,(function(e){var t=e.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=e.createTexture2D(0,t.LINEAR,t.LINEAR,t.REPEAT,t.REPEAT,t.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}),this)},setTexture:function(e,t){return this.displayTexture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e){var t=this.displayTexture.get(e);return this.potWidth=c(t.width),this.potHeight=c(t.height),this.canvas.width=0,t.cutWidth&&t.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=t,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(e,t){return void 0!==e&&(this.tilePositionX=e),void 0!==t&&(this.tilePositionY=t),this},setTileScale:function(e,t){return void 0===e&&(e=this.tileScaleX),void 0===t&&(t=e),this.tileScaleX=e,this.tileScaleY=t,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var e=this.displayFrame;if(e.source.isRenderTexture||e.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var t=this.fillContext,i=this.fillCanvas,s=this.potWidth,n=this.potHeight;this.renderer.gl||(s=e.cutWidth,n=e.cutHeight),t.clearRect(0,0,s,n),i.width=s,i.height=n,t.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,s,n),this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(i,this.fillPattern):this.fillPattern=t.createPattern(i,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var e=this.canvas;if(e.width===this.width&&e.height===this.height||(e.width=this.width,e.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var t=this.context;this.scene.sys.game.config.antialias||h.disable(t);var i=this._tileScale.x,s=this._tileScale.y,n=this._tilePosition.x,a=this._tilePosition.y;t.clearRect(0,0,this.width,this.height),t.save(),t.scale(i,s),t.translate(-n,-a),t.fillStyle=this.fillPattern,t.fillRect(n,a,this.width/i,this.height/s),t.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),s.remove(this.canvas),s.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(e){this._tilePosition.x=e,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(e){this._tilePosition.y=e,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(e){this._tileScale.x=e,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(e){this._tileScale.y=e,this.dirty=!0}}});e.exports=u},function(e,t,i){var s=i(0),n=i(19),a=i(12),r=i(90),o=i(20),c=i(14),h=i(59),l=i(196),d=i(997),u=i(13),p=new s({Extends:c,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,d],initialize:function(e,t,i,s){c.call(this,e,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=l(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=u.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(t,i),this.initPipeline(),s&&this.changeSource(s,!1);var n=e.sys.game.events;n.on(o.PAUSE,this.globalPause,this),n.on(o.RESUME,this.globalResume,this);var a=e.sys.sound;a&&a.on(h.GLOBAL_MUTE,this.globalMute,this)},play:function(e,t,i){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var s=this.video;if(!s)return console.warn("Video not loaded"),this;void 0===e&&(e=s.loop);var n=this.scene.sys.sound;n&&n.mute&&this.setMute(!0),isNaN(t)||(this._markerIn=t),!isNaN(i)&&i>t&&(this._markerOut=i),s.loop=e;var a=this._callbacks,r=s.play();return void 0!==r?r.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(s.addEventListener("playing",a.play,!0),s.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),s.addEventListener("ended",a.end,!0),s.addEventListener("timeupdate",a.time,!0),s.addEventListener("seeking",a.seeking,!0),s.addEventListener("seeked",a.seeked,!0),this},changeSource:function(e,t,i,s,n){void 0===t&&(t=!0),this.video&&this.stop();var a=this.scene.sys.cache.video.get(e);return a?(this.video=a,this._cacheKey=e,this._codePaused=a.paused,this._codeMuted=a.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,a,a.videoWidth,a.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,a.videoWidth,a.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(r.VIDEO_CREATED,this,a.videoWidth,a.videoHeight)):this.updateTexture(),a.currentTime=0,this._lastUpdate=0,t&&this.play(i,s,n)):this.video=null,this},addMarker:function(e,t,i){return!isNaN(t)&&t>=0&&!isNaN(i)&&(this.markers[e]=[t,i]),this},playMarker:function(e,t){var i=this.markers[e];return i&&this.play(t,i[0],i[1]),this},removeMarker:function(e){return delete this.markers[e],this},snapshot:function(e,t){return void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.snapshotArea(0,0,this.width,this.height,e,t)},snapshotArea:function(e,t,i,s,n,a){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.width),void 0===s&&(s=this.height),void 0===n&&(n=i),void 0===a&&(a=s);var r=this.video,o=this.snapshotTexture;return o?(o.setSize(n,a),r&&o.context.drawImage(r,e,t,i,s,0,0,n,a)):(o=this.scene.sys.textures.createCanvas(l(),n,a),this.snapshotTexture=o,r&&o.context.drawImage(r,e,t,i,s,0,0,n,a)),o.update()},saveSnapshotTexture:function(e){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,e):this.snapshotTexture=this.scene.sys.textures.createCanvas(e,this.width,this.height),this.snapshotTexture},loadURL:function(e,t,i){void 0===t&&(t="loadeddata"),void 0===i&&(i=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var s=document.createElement("video");return s.controls=!1,i&&(s.muted=!0,s.defaultMuted=!0,s.setAttribute("autoplay","autoplay")),s.setAttribute("playsinline","playsinline"),s.setAttribute("preload","auto"),s.addEventListener("error",this._callbacks.error,!0),s.src=e,s.load(),this.video=s,this},playPromiseSuccessHandler:function(){this.touchLocked=!1,this.emit(r.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(e){this.scene.sys.input.once("pointerdown",this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(r.VIDEO_ERROR,this,e)},playHandler:function(){this.touchLocked=!1,this.emit(r.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(e){this.stop(),this.emit(r.VIDEO_ERROR,this,e)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(r.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(r.VIDEO_PLAY,this)},completeHandler:function(){this.emit(r.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(r.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var e=this.video;if(e){var t=e.currentTime;t!==this._lastUpdate&&(this._lastUpdate=t,this.updateTexture(),t>=this._markerOut&&(e.loop?(e.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=t,this.emit(r.VIDEO_LOOP,this)):(this.emit(r.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(r.VIDEO_TIMEOUT,this))},updateTexture:function(){var e=this.video,t=e.videoWidth,i=e.videoHeight;if(this.videoTexture){var s=this.videoTextureSource;s.source!==e&&(s.source=e,s.width=t,s.height=i),s.update()}else this.videoTexture=this.scene.sys.textures.create(this._key,e,t,i),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,t,i),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(r.VIDEO_CREATED,this,t,i)},getVideoKey:function(){return this._cacheKey},seekTo:function(e){var t=this.video;if(t){var i=t.duration;if(i!==1/0&&!isNaN(i)){var s=i*e;this.setCurrentTime(s)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(e){var t=this.video;if(t){if("string"==typeof e){var i=e[0],s=parseFloat(e.substr(1));"+"===i?e=t.currentTime+s:"-"===i&&(e=t.currentTime-s)}t.currentTime=e,this._lastUpdate=e}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(r.VIDEO_SEEKED,this),this.video&&this.updateTexture()},getProgress:function(){var e=this.video;if(e){var t=e.currentTime,i=e.duration;if(i!==1/0&&!isNaN(i))return t/i}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(e){void 0===e&&(e=!0),this._codeMuted=e;var t=this.video;return t&&(t.muted=!!this._systemMuted||e),this},isMuted:function(){return this._codeMuted},globalMute:function(e,t){this._systemMuted=t;var i=this.video;i&&(i.muted=!!this._codeMuted||t)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(e){void 0===e&&(e=!0);var t=this.video;return this._codePaused=e,t&&(e?t.paused||t.pause():e||t.paused&&!this._systemPaused&&t.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(e){return void 0===e&&(e=1),this.video&&(this.video.volume=n(e,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(e){return this.video&&(this.video.playbackRate=e),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(e){return void 0===e&&(e=!0),this.video&&(this.video.loop=e),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(e,t){return void 0===t&&(t=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,e),this._key=e,this.flipY=t,this.videoTextureSource&&this.videoTextureSource.setFlipY(t),this.videoTexture},stop:function(){var e=this.video;if(e){var t=this._callbacks;for(var i in t)e.removeEventListener(i,t[i],!0);e.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var e=this.video;if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("autoplay"),e.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var e=this.scene.sys.game.events;e.off(o.PAUSE,this.globalPause,this),e.off(o.RESUME,this.globalResume,this);var t=this.scene.sys.sound;t&&t.off(h.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});e.exports=p},function(e,t,i){var s=i(0),n=i(202),a=i(419),r=i(47),o=new s({initialize:function(e){this.type=r.POLYGON,this.area=0,this.points=[],e&&this.setTo(e)},contains:function(e,t){return n(this,e,t)},setTo:function(e){if(this.area=0,this.points=[],"string"==typeof e&&(e=e.split(" ")),!Array.isArray(e))return this;for(var t,i=Number.MAX_VALUE,s=0;s<e.length;s++)t={x:0,y:0},"number"==typeof e[s]||"string"==typeof e[s]?(t.x=parseFloat(e[s]),t.y=parseFloat(e[s+1]),s++):Array.isArray(e[s])?(t.x=e[s][0],t.y=e[s][1]):(t.x=e[s].x,t.y=e[s].y),this.points.push(t),t.y<i&&(i=t.y);return this.calculateArea(i),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e,t,i=0,s=0;s<this.points.length-1;s++)e=this.points[s],i+=((t=this.points[s+1]).x-e.x)*(e.y+t.y);return e=this.points[0],t=this.points[this.points.length-1],i+=(e.x-t.x)*(t.y+e.y),this.area=.5*-i,this.area},getPoints:function(e,t,i){return a(this,e,t,i)}});e.exports=o},function(e,t){e.exports=function(e,t,i){for(var s=!1,n=-1,a=e.points.length-1;++n<e.points.length;a=n){var r=e.points[n].x,o=e.points[n].y,c=e.points[a].x,h=e.points[a].y;(o<=i&&i<h||h<=i&&i<o)&&t<(c-r)*(i-o)/(h-o)+r&&(s=!s)}return s}},function(e,t,i){var s=i(0),n=i(134),a=new s({Extends:n,initialize:function(e,t,i,s,a){n.call(this,e,t,i,[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0],[16777215,16777215,16777215,16777215,16777215,16777215],[1,1,1,1,1,1],s,a),this.resetPosition()},setFrame:function(e){return this.frame=this.texture.get(e),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,e=this.frame,this.uv[0]=e.u0,this.uv[1]=e.v0,this.uv[2]=e.u0,this.uv[3]=e.v1,this.uv[4]=e.u1,this.uv[5]=e.v1,this.uv[6]=e.u0,this.uv[7]=e.v0,this.uv[8]=e.u1,this.uv[9]=e.v1,this.uv[10]=e.u1,this.uv[11]=e.v0,this},topLeftX:{get:function(){return this.x+this.vertices[0]},set:function(e){this.vertices[0]=e-this.x,this.vertices[6]=e-this.x}},topLeftY:{get:function(){return this.y+this.vertices[1]},set:function(e){this.vertices[1]=e-this.y,this.vertices[7]=e-this.y}},topRightX:{get:function(){return this.x+this.vertices[10]},set:function(e){this.vertices[10]=e-this.x}},topRightY:{get:function(){return this.y+this.vertices[11]},set:function(e){this.vertices[11]=e-this.y}},bottomLeftX:{get:function(){return this.x+this.vertices[2]},set:function(e){this.vertices[2]=e-this.x}},bottomLeftY:{get:function(){return this.y+this.vertices[3]},set:function(e){this.vertices[3]=e-this.y}},bottomRightX:{get:function(){return this.x+this.vertices[4]},set:function(e){this.vertices[4]=e-this.x,this.vertices[8]=e-this.x}},bottomRightY:{get:function(){return this.y+this.vertices[5]},set:function(e){this.vertices[5]=e-this.y,this.vertices[9]=e-this.y}},topLeftAlpha:{get:function(){return this.alphas[0]},set:function(e){this.alphas[0]=e,this.alphas[3]=e}},topRightAlpha:{get:function(){return this.alphas[5]},set:function(e){this.alphas[5]=e}},bottomLeftAlpha:{get:function(){return this.alphas[1]},set:function(e){this.alphas[1]=e}},bottomRightAlpha:{get:function(){return this.alphas[2]},set:function(e){this.alphas[2]=e,this.alphas[4]=e}},topLeftColor:{get:function(){return this.colors[0]},set:function(e){this.colors[0]=e,this.colors[3]=e}},topRightColor:{get:function(){return this.colors[5]},set:function(e){this.colors[5]=e}},bottomLeftColor:{get:function(){return this.colors[1]},set:function(e){this.colors[1]=e}},bottomRightColor:{get:function(){return this.colors[2]},set:function(e){this.colors[2]=e,this.colors[4]=e}},setTopLeft:function(e,t){return this.topLeftX=e,this.topLeftY=t,this},setTopRight:function(e,t){return this.topRightX=e,this.topRightY=t,this},setBottomLeft:function(e,t){return this.bottomLeftX=e,this.bottomLeftY=t,this},setBottomRight:function(e,t){return this.bottomRightX=e,this.bottomRightY=t,this},resetPosition:function(){var e=this.x,t=this.y,i=Math.floor(this.width/2),s=Math.floor(this.height/2);return this.setTopLeft(e-i,t-s),this.setTopRight(e+i,t-s),this.setBottomLeft(e-i,t+s),this.setBottomRight(e+i,t+s),this},resetAlpha:function(){var e=this.alphas;return e[0]=1,e[1]=1,e[2]=1,e[3]=1,e[4]=1,e[5]=1,this},resetColors:function(){var e=this.colors;return e[0]=16777215,e[1]=16777215,e[2]=16777215,e[3]=16777215,e[4]=16777215,e[5]=16777215,this},reset:function(){return this.resetPosition(),this.resetAlpha(),this.resetColors()}});e.exports=a},function(e,t,i){var s=i(0),n=i(12),a=i(14),r=i(2),o=i(18),c=i(427),h=i(1080),l=i(29),d=new s({Extends:a,Mixins:[n.ComputedSize,n.Depth,n.GetBounds,n.Mask,n.Origin,n.ScrollFactor,n.Transform,n.Visible,h],initialize:function(e,t,i,s,n,r,o,c){void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=128),void 0===r&&(r=128),a.call(this,e,"Shader"),this.blendMode=-1,this.shader;var h=e.sys.renderer;this.renderer=h,this.gl=h.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=h.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=h.width,this._rendererHeight=h.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(i,s),this.setSize(n,r),this.setOrigin(.5,.5),this.setShader(t,o,c)},willRender:function(e){return!!this.renderToTexture||!(a.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},setRenderToTexture:function(e,t){if(void 0===t&&(t=!1),!this.renderToTexture){var i=this.width,s=this.height,n=this.renderer;this.glTexture=n.createTextureFromSource(null,i,s,0),this.glTexture.flipY=t,this.framebuffer=n.createFramebuffer(i,s,this.glTexture,!1),this._rendererWidth=i,this._rendererHeight=s,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),e&&(this.texture=this.scene.sys.textures.addGLTexture(e,this.glTexture,i,s))}if(this.shader){var a=n.currentPipeline;n.clearPipeline(),this.load(),this.flush(),n.rebindPipeline(a)}return this},setShader:function(e,t,i){if(void 0===t&&(t=[]),"string"==typeof e){var s=this.scene.sys.cache.shader;if(!s.has(e))return console.warn("Shader missing: "+e),this;this.shader=s.get(e)}else this.shader=e;var n=this.gl,a=this.renderer;this.program&&n.deleteProgram(this.program);var r=a.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);a.setMatrix4(r,"uViewMatrix",!1,this.viewMatrix),a.setMatrix4(r,"uProjectionMatrix",!1,this.projectionMatrix),a.setFloat2(r,"uResolution",this.width,this.height),this.program=r;var c=new Date,h={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[c.getFullYear(),c.getMonth(),c.getDate(),60*c.getHours()*60+60*c.getMinutes()+c.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=o(!0,{},this.shader.uniforms,h):this.uniforms=h;for(var l=0;l<4;l++)t[l]&&this.setSampler2D("iChannel"+l,t[l],l,i);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(e){return this.pointer=e,this},projOrtho:function(e,t,i,s){var n=1/(e-t),a=1/(i-s),r=this.projectionMatrix;r[0]=-2*n,r[5]=-2*a,r[10]=-.001,r[12]=(e+t)*n,r[13]=(s+i)*a,r[14]=-0;var o=this.program;this.renderer.setMatrix4(o,"uProjectionMatrix",!1,this.projectionMatrix),this._rendererWidth=t,this._rendererHeight=i},initUniforms:function(){var e=this.gl,t=this.renderer.glFuncMap,i=this.program;for(var s in this._textureCount=0,this.uniforms){var n=this.uniforms[s],a=n.type,r=t[a];n.uniformLocation=e.getUniformLocation(i,s),"sampler2D"!==a&&(n.glMatrix=r.matrix,n.glValueLength=r.length,n.glFunc=r.func)}},setSampler2DBuffer:function(e,t,i,s,n,a){void 0===n&&(n=0),void 0===a&&(a={});var r=this.uniforms[e];return r.value=t,a.width=i,a.height=s,r.textureData=a,this._textureCount=n,this.initSampler2D(r),this},setSampler2D:function(e,t,i,s){void 0===i&&(i=0);var n=this.scene.sys.textures;if(n.exists(t)){var a=n.getFrame(t),r=this.uniforms[e],o=a.source;r.textureKey=t,r.source=o.image,r.value=a.glTexture,o.isGLTexture&&(s||(s={}),s.width=o.width,s.height=o.height),s&&(r.textureData=s),this._textureCount=i,this.initSampler2D(r)}return this},setUniform:function(e,t){return c(this.uniforms,e,t),this},getUniform:function(e){return r(this.uniforms,e,null)},setChannel0:function(e,t){return this.setSampler2D("iChannel0",e,0,t)},setChannel1:function(e,t){return this.setSampler2D("iChannel1",e,1,t)},setChannel2:function(e,t){return this.setSampler2D("iChannel2",e,2,t)},setChannel3:function(e,t){return this.setSampler2D("iChannel3",e,3,t)},initSampler2D:function(e){if(e.value){var t=this.gl;t.activeTexture(t.TEXTURE0+this._textureCount),t.bindTexture(t.TEXTURE_2D,e.value);var i=e.textureData;if(i){var s=t[r(i,"magFilter","linear").toUpperCase()],n=t[r(i,"minFilter","linear").toUpperCase()],a=t[r(i,"wrapS","repeat").toUpperCase()],o=t[r(i,"wrapT","repeat").toUpperCase()],c=t[r(i,"format","rgba").toUpperCase()];if(i.repeat&&(a=t.REPEAT,o=t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!i.flipY),i.width){var h=r(i,"width",512),l=r(i,"height",2),d=r(i,"border",0);t.texImage2D(t.TEXTURE_2D,0,c,h,l,d,c,t.UNSIGNED_BYTE,null)}else t.texImage2D(t.TEXTURE_2D,0,c,t.RGBA,t.UNSIGNED_BYTE,e.source);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,o)}this.renderer.setProgram(this.program),t.uniform1i(e.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var e,t,i,s,n,a=this.gl,r=this.uniforms,o=0;for(var c in r)i=(e=r[c]).glFunc,t=e.glValueLength,s=e.uniformLocation,null!==(n=e.value)&&(1===t?e.glMatrix?i.call(a,s,e.transpose,n):i.call(a,s,n):2===t?i.call(a,s,n.x,n.y):3===t?i.call(a,s,n.x,n.y,n.z):4===t?i.call(a,s,n.x,n.y,n.z,n.w):"sampler2D"===e.type&&(a.activeTexture(a["TEXTURE"+o]),a.bindTexture(a.TEXTURE_2D,n),a.uniform1i(s,o),o++))},load:function(e){var t=this.gl,i=this.width,s=this.height,n=this.renderer,a=this.program,r=this.viewMatrix;if(!this.renderToTexture){var o=-this._displayOriginX,c=-this._displayOriginY;r[0]=e[0],r[1]=e[1],r[4]=e[2],r[5]=e[3],r[8]=e[4],r[9]=e[5],r[12]=r[0]*o+r[4]*c,r[13]=r[1]*o+r[5]*c}t.useProgram(a),t.uniformMatrix4fv(t.getUniformLocation(a,"uViewMatrix"),!1,r),t.uniform2f(t.getUniformLocation(a,"uResolution"),this.width,this.height);var h=this.uniforms,l=h.resolution;l.value.x=i,l.value.y=s,h.time.value=n.game.loop.getDuration();var d=this.pointer;if(d){var u=h.mouse,p=d.x/i,f=1-d.y/s;u.value.x=p.toFixed(2),u.value.y=f.toFixed(2)}this.syncUniforms()},flush:function(){var e=this.width,t=this.height,i=this.program,s=this.gl,n=this.vertexBuffer,a=this.renderer,r=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(a.setFramebuffer(this.framebuffer),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT)),s.bindBuffer(s.ARRAY_BUFFER,n);var o=s.getAttribLocation(i,"inPosition");-1!==o&&(s.enableVertexAttribArray(o),s.vertexAttribPointer(o,2,s.FLOAT,!1,r,0));var c=this.vertexViewF32;c[3]=t,c[4]=e,c[5]=t,c[8]=e,c[9]=t,c[10]=e,s.bufferSubData(s.ARRAY_BUFFER,0,this.bytes.subarray(0,6*r)),s.drawArrays(s.TRIANGLES,0,6),this.renderToTexture&&a.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var e=this.gl;e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});e.exports=d},function(e,t,i){var s=i(53);e.exports=function(e,t){return s(e.x,e.y,t.x,t.y)<=e.radius+t.radius}},function(e,t){e.exports=function(e,t){var i=t.width/2,s=t.height/2,n=Math.abs(e.x-t.x-i),a=Math.abs(e.y-t.y-s),r=i+e.radius,o=s+e.radius;if(n>r||a>o)return!1;if(n<=i||a<=s)return!0;var c=n-i,h=a-s;return c*c+h*h<=e.radius*e.radius}},function(e,t,i){var s=i(4),n=i(208);e.exports=function(e,t,i){if(void 0===i&&(i=[]),n(e,t)){var a,r,o=e.x1,c=e.y1,h=e.x2,l=e.y2,d=t.x,u=t.y,p=t.radius,f=h-o,m=l-c,g=o-d,y=c-u,v=f*f+m*m,w=2*(f*g+m*y),b=w*w-4*v*(g*g+y*y-p*p);if(0===b){var x=-w/(2*v);a=o+x*f,r=c+x*m,x>=0&&x<=1&&i.push(new s(a,r))}else if(b>0){var k=(-w-Math.sqrt(b))/(2*v);a=o+k*f,r=c+k*m,k>=0&&k<=1&&i.push(new s(a,r));var T=(-w+Math.sqrt(b))/(2*v);a=o+T*f,r=c+T*m,T>=0&&T<=1&&i.push(new s(a,r))}}return i}},function(e,t,i){var s=i(55),n=new(i(4));e.exports=function(e,t,i){if(void 0===i&&(i=n),s(t,e.x1,e.y1))return i.x=e.x1,i.y=e.y1,!0;if(s(t,e.x2,e.y2))return i.x=e.x2,i.y=e.y2,!0;var a=e.x2-e.x1,r=e.y2-e.y1,o=t.x-e.x1,c=t.y-e.y1,h=a*a+r*r,l=a,d=r;if(h>0){var u=(o*a+c*r)/h;l*=u,d*=u}return i.x=e.x1+l,i.y=e.y1+d,l*l+d*d<=h&&l*a+d*r>=0&&s(t,i.x,i.y)}},function(e,t,i){var s=i(4),n=i(84),a=i(432);e.exports=function(e,t,i){if(void 0===i&&(i=[]),a(e,t))for(var r=t.getLineA(),o=t.getLineB(),c=t.getLineC(),h=t.getLineD(),l=[new s,new s,new s,new s],d=[n(r,e,l[0]),n(o,e,l[1]),n(c,e,l[2]),n(h,e,l[3])],u=0;u<4;u++)d[u]&&i.push(l[u]);return i}},function(e,t){e.exports=function(e,t,i,s){void 0===i&&(i=!1),void 0===s&&(s=[]);for(var n,a,r,o,c,h,l=e.x3-e.x1,d=e.y3-e.y1,u=e.x2-e.x1,p=e.y2-e.y1,f=l*l+d*d,m=l*u+d*p,g=u*u+p*p,y=f*g-m*m,v=0===y?0:1/y,w=e.x1,b=e.y1,x=0;x<t.length&&(a=(f*(h=u*(r=t[x].x-w)+p*(o=t[x].y-b))-m*(c=l*r+d*o))*v,!((n=(g*c-m*h)*v)>=0&&a>=0&&n+a<1&&(s.push({x:t[x].x,y:t[x].y}),i)));x++);return s}},function(e,t){e.exports=function(e,t,i,s){var n=Math.cos(s),a=Math.sin(s),r=e.x1-t,o=e.y1-i;return e.x1=r*n-o*a+t,e.y1=r*a+o*n+i,r=e.x2-t,o=e.y2-i,e.x2=r*n-o*a+t,e.y2=r*a+o*n+i,e}},function(e,t){e.exports=function(e){return 0===e.height?NaN:e.width/e.height}},function(e,t){e.exports=function(e,t,i,s){var n=Math.cos(s),a=Math.sin(s),r=e.x1-t,o=e.y1-i;return e.x1=r*n-o*a+t,e.y1=r*a+o*n+i,r=e.x2-t,o=e.y2-i,e.x2=r*n-o*a+t,e.y2=r*a+o*n+i,r=e.x3-t,o=e.y3-i,e.x3=r*n-o*a+t,e.y3=r*a+o*n+i,e}},function(e,t,i){e.exports={BUTTON_DOWN:i(1203),BUTTON_UP:i(1204),CONNECTED:i(1205),DISCONNECTED:i(1206),GAMEPAD_BUTTON_DOWN:i(1207),GAMEPAD_BUTTON_UP:i(1208)}},function(e,t,i){var s=i(18),n=i(139);e.exports=function(e,t){var i=void 0===e?n():s({},e);if(t)for(var a in t)void 0!==t[a]&&(i[a]=t[a]);return i}},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=i(364),l=new s({Extends:a,initialize:function(e,t,i,s){var n="xml";if(c(t)){var r=t;t=o(r,"key"),i=o(r,"url"),s=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"xml",cache:e.cacheManager.xml,extension:n,responseType:"text",key:t,url:i,xhrSettings:s};a.call(this,e,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=h(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});r.register("xml",(function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new l(this,e[s]));else this.addFile(new l(this,e,t,i));return this})),e.exports=l},function(e,t,i){e.exports={Acceleration:i(1263),Angular:i(1264),Bounce:i(1265),Debug:i(1266),Drag:i(1267),Enable:i(1268),Friction:i(1269),Gravity:i(1270),Immovable:i(1271),Mass:i(1272),Size:i(1273),Velocity:i(1274)}},function(e,t,i){e.exports={COLLIDE:i(1276),OVERLAP:i(1277),PAUSE:i(1278),RESUME:i(1279),TILE_COLLIDE:i(1280),TILE_OVERLAP:i(1281),WORLD_BOUNDS:i(1282),WORLD_STEP:i(1283)}},function(e,t,i){var s={};e.exports=s;var n=i(86),a=i(99),r=i(239),o=i(100),c=i(513),h=i(42);s._warming=.4,s._torqueDampen=1,s._minLength=1e-6,s.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var i=t.bodyA?a.add(t.bodyA.position,t.pointA):t.pointA,s=t.bodyB?a.add(t.bodyB.position,t.pointB):t.pointB,n=a.magnitude(a.sub(i,s));t.length=void 0!==t.length?t.length:n,t.id=t.id||h.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var r={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===t.length&&t.stiffness>.1?(r.type="pin",r.anchors=!1):t.stiffness<.9&&(r.type="spring"),t.render=h.extend(r,t.render),t},s.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var i=e[t],s=i.constraintImpulse;i.isStatic||0===s.x&&0===s.y&&0===s.angle||(i.position.x+=s.x,i.position.y+=s.y,i.angle+=s.angle)}},s.solveAll=function(e,t){for(var i=0;i<e.length;i+=1){var n=e[i],a=!n.bodyA||n.bodyA&&n.bodyA.isStatic,r=!n.bodyB||n.bodyB&&n.bodyB.isStatic;(a||r)&&s.solve(e[i],t)}for(i=0;i<e.length;i+=1)a=!(n=e[i]).bodyA||n.bodyA&&n.bodyA.isStatic,r=!n.bodyB||n.bodyB&&n.bodyB.isStatic,a||r||s.solve(e[i],t)},s.solve=function(e,t){var i=e.bodyA,n=e.bodyB,r=e.pointA,o=e.pointB;if(i||n){i&&!i.isStatic&&(a.rotate(r,i.angle-e.angleA,r),e.angleA=i.angle),n&&!n.isStatic&&(a.rotate(o,n.angle-e.angleB,o),e.angleB=n.angle);var c=r,h=o;if(i&&(c=a.add(i.position,r)),n&&(h=a.add(n.position,o)),c&&h){var l=a.sub(c,h),d=a.magnitude(l);d<s._minLength&&(d=s._minLength);var u,p,f,m,g,y=(d-e.length)/d,v=e.stiffness<1?e.stiffness*t:e.stiffness,w=a.mult(l,y*v),b=(i?i.inverseMass:0)+(n?n.inverseMass:0),x=b+((i?i.inverseInertia:0)+(n?n.inverseInertia:0));if(e.damping){var k=a.create();f=a.div(l,d),g=a.sub(n&&a.sub(n.position,n.positionPrev)||k,i&&a.sub(i.position,i.positionPrev)||k),m=a.dot(f,g)}i&&!i.isStatic&&(p=i.inverseMass/b,i.constraintImpulse.x-=w.x*p,i.constraintImpulse.y-=w.y*p,i.position.x-=w.x*p,i.position.y-=w.y*p,e.damping&&(i.positionPrev.x-=e.damping*f.x*m*p,i.positionPrev.y-=e.damping*f.y*m*p),u=a.cross(r,w)/x*s._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle-=u,i.angle-=u),n&&!n.isStatic&&(p=n.inverseMass/b,n.constraintImpulse.x+=w.x*p,n.constraintImpulse.y+=w.y*p,n.position.x+=w.x*p,n.position.y+=w.y*p,e.damping&&(n.positionPrev.x+=e.damping*f.x*m*p,n.positionPrev.y+=e.damping*f.y*m*p),u=a.cross(o,w)/x*s._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle+=u,n.angle+=u)}}},s.postSolveAll=function(e){for(var t=0;t<e.length;t++){var i=e[t],h=i.constraintImpulse;if(!(i.isStatic||0===h.x&&0===h.y&&0===h.angle)){r.set(i,!1);for(var l=0;l<i.parts.length;l++){var d=i.parts[l];n.translate(d.vertices,h),l>0&&(d.position.x+=h.x,d.position.y+=h.y),0!==h.angle&&(n.rotate(d.vertices,h.angle,i.position),c.rotate(d.axes,h.angle),l>0&&a.rotateAbout(d.position,h.angle,i.position,d.position)),o.update(d.bounds,d.vertices,i.velocity)}h.angle*=s._warming,h.x*=s._warming,h.y*=s._warming}}},s.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+e.pointA.x,y:(e.bodyA?e.bodyA.position.y:0)+e.pointA.y}},s.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+e.pointB.x,y:(e.bodyB?e.bodyB.position.y:0)+e.pointB.y}}},function(e,t,i){var s=i(142);e.exports=function(e,t,i){var n=s(e,t,!0,i),a=s(e,t-1,!0,i),r=s(e,t+1,!0,i),o=s(e-1,t,!0,i),c=s(e+1,t,!0,i),h=n&&n.collides;return h&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),a&&a.collides&&(h&&(n.faceTop=!1),a.faceBottom=!h),r&&r.collides&&(h&&(n.faceBottom=!1),r.faceTop=!h),o&&o.collides&&(h&&(n.faceLeft=!1),o.faceRight=!h),c&&c.collides&&(h&&(n.faceRight=!1),c.faceLeft=!h),n&&!n.collides&&n.resetFaces(),n}},function(e,t,i){var s=i(74),n=i(101),a=i(220),r=i(73);e.exports=function(e,t,i,o,c){if(!n(t,i,c))return null;void 0===o&&(o=!0);var h=c.data[i][t],l=h&&h.collides;if(e instanceof s)null===c.data[i][t]&&(c.data[i][t]=new s(c,e.index,t,i,e.width,e.height)),c.data[i][t].copy(e);else{var d=e;null===c.data[i][t]?c.data[i][t]=new s(c,d,t,i,c.tileWidth,c.tileHeight):c.data[i][t].index=d}var u=c.data[i][t],p=-1!==c.collideIndexes.indexOf(u.index);return r(u,p),o&&l!==u.collides&&a(t,i,c),u}},function(e,t){e.exports=function(e,t,i){var s=i.collideIndexes.indexOf(e);t&&-1===s?i.collideIndexes.push(e):t||-1===s||i.collideIndexes.splice(s,1)}},function(e,t,i){var s=i(32),n=i(102),a=i(103),r=i(74);e.exports=function(e,t,i,o,c){for(var h=new n({tileWidth:i,tileHeight:o}),l=new a({name:e,tileWidth:i,tileHeight:o,format:s.ARRAY_2D,layers:[h]}),d=[],u=t.length,p=0,f=0;f<t.length;f++){d[f]=[];for(var m=t[f],g=0;g<m.length;g++){var y=parseInt(m[g],10);isNaN(y)||-1===y?d[f][g]=c?null:new r(h,-1,g,f,i,o):d[f][g]=new r(h,y,g,f,i,o)}0===p&&(p=m.length)}return l.width=h.width=p,l.height=h.height=u,l.widthInPixels=h.widthInPixels=p*i,l.heightInPixels=h.heightInPixels=u*o,h.data=d,l}},function(e,t){e.exports=function(e){var t=Boolean(2147483648&e),i=Boolean(1073741824&e),s=Boolean(536870912&e);e&=536870911;var n=0,a=!1;return t&&i&&s?(n=Math.PI/2,a=!0):t&&i&&!s?(n=Math.PI,a=!1):t&&!i&&s?(n=Math.PI/2,a=!1):!t||i||s?!t&&i&&s?(n=3*Math.PI/2,a=!1):t||!i||s?t||i||!s?t||i||s||(n=0,a=!1):(n=3*Math.PI/2,a=!0):(n=Math.PI,a=!0):(n=0,a=!0),{gid:e,flippedHorizontal:t,flippedVertical:i,flippedAntiDiagonal:s,rotation:n,flipped:a}}},function(e,t,i){var s=i(2);e.exports=function(e,t,i){if(!t)return{i:0,layers:e.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=t.x+s(t,"startx",0)*e.tilewidth+s(t,"offsetx",0),a=t.y+s(t,"starty",0)*e.tileheight+s(t,"offsety",0);return{i:0,layers:t.layers,name:i.name+t.name+"/",opacity:i.opacity*t.opacity,visible:i.visible&&t.visible,x:i.x+n,y:i.y+a}}},function(e,t,i){var s=i(486),n=i(224),a=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"];e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0);var o=s(e,r);if(o.x+=t,o.y+=i,e.gid){var c=n(e.gid);o.gid=c.gid,o.flippedHorizontal=c.flippedHorizontal,o.flippedVertical=c.flippedVertical,o.flippedAntiDiagonal=c.flippedAntiDiagonal}else e.polyline?o.polyline=e.polyline.map(a):e.polygon?o.polygon=e.polygon.map(a):e.ellipse?o.ellipse=e.ellipse:e.text?o.text=e.text:e.point?o.point=!0:o.rectangle=!0;return o}},function(e,t,i){var s=i(32),n=i(103),a=i(478),r=i(494);e.exports=function(e,t,i,o,c,h,l,d){void 0===i&&(i=32),void 0===o&&(o=32),void 0===c&&(c=10),void 0===h&&(h=10),void 0===d&&(d=!1);var u=null;if(Array.isArray(l))u=a(void 0!==t?t:"map",s.ARRAY_2D,l,i,o,d);else if(void 0!==t){var p=e.cache.tilemap.get(t);p?u=a(t,p.format,p.data,i,o,d):console.warn("No map data found for key "+t)}return null===u&&(u=new n({tileWidth:i,tileHeight:o,width:c,height:h})),new r(e,u)}},function(e,t,i){var s=i(6);e.exports=function(e){var t=s(e,"targets",null);return null===t||("function"==typeof t&&(t=t.call()),Array.isArray(t)||(t=[t])),t}},function(e,t){function i(e){return!!e.getActive&&"function"==typeof e.getActive}function s(e){return!!e.getStart&&"function"==typeof e.getStart}function n(e){return!!e.getEnd&&"function"==typeof e.getEnd}var a=function(e,t){var r,o,c=function(e,t,i){return i},h=function(e,t,i){return i},l=null,d=typeof t;if("number"===d)c=function(){return t};else if("string"===d){var u=t[0],p=parseFloat(t.substr(2));switch(u){case"+":c=function(e,t,i){return i+p};break;case"-":c=function(e,t,i){return i-p};break;case"*":c=function(e,t,i){return i*p};break;case"/":c=function(e,t,i){return i/p};break;default:c=function(){return parseFloat(t)}}}else if("function"===d)c=t;else if("object"===d)if(s(o=t)||n(o)||i(o))i(t)&&(l=t.getActive),n(t)&&(c=t.getEnd),s(t)&&(h=t.getStart);else if(t.hasOwnProperty("value"))r=a(e,t.value);else{var f=t.hasOwnProperty("to"),m=t.hasOwnProperty("from"),g=t.hasOwnProperty("start");if(f&&(m||g)){if(r=a(e,t.to),g){var y=a(e,t.start);r.getActive=y.getEnd}if(m){var v=a(e,t.from);r.getStart=v.getEnd}}}return r||(r={getActive:l,getEnd:c,getStart:h}),r};e.exports=a},function(e,t){e.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1}},function(e,t,i){var s=i(0),n=i(10),a=i(232),r=i(16),o=i(5),c=i(89),h=i(13),l=new s({Extends:n,initialize:function(e,t,i){n.call(this),this.parent=e,this.parentIsTimeline=e.hasOwnProperty("isTimeline"),this.data=t,this.totalData=t.length,this.targets=i,this.totalTargets=i.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=c.PENDING_ADD,this._pausedState=c.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(e){return void 0===e&&(e=0),this.data[e].current},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===c.ACTIVE},isPaused:function(){return this.state===c.PAUSED},hasTarget:function(e){return-1!==this.targets.indexOf(e)},updateTo:function(e,t,i){void 0===i&&(i=!1);for(var s=0;s<this.totalData;s++){var n=this.data[s];n.key===e&&(n.end=t,i&&(n.start=n.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===c.ACTIVE?this.seek(0):this.state===c.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===c.PENDING_ADD?this:this.play()},calcDuration:function(){for(var e=0,t=h.MAX_SAFE_INTEGER,i=this.data,s=0;s<this.totalData;s++){var n=i[s];n.t1=n.duration+n.hold,n.yoyo&&(n.t1+=n.duration),n.t2=n.t1+n.repeatDelay,n.totalDuration=n.delay+n.t1,-1===n.repeat?n.totalDuration+=999999999999*n.t2:n.repeat>0&&(n.totalDuration+=n.t2*n.repeat),n.totalDuration>e&&(e=n.totalDuration),n.delay<t&&(t=n.delay)}this.duration=Math.max(e,.001),this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=t},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=c.PENDING_ADD,this._pausedState=c.INIT,!1;for(var e=this.data,t=this.totalTargets,i=0;i<this.totalData;i++){var s=e[i],n=s.target,a=s.gen,r=s.key,o=s.index;s.delay=a.delay(n,r,0,o,t,this),s.duration=Math.max(a.duration(n,r,0,o,t,this),.001),s.hold=a.hold(n,r,0,o,t,this),s.repeat=a.repeat(n,r,0,o,t,this),s.repeatDelay=a.repeatDelay(n,r,0,o,t,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=c.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(a.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=c.LOOP_DELAY):(this.state=c.ACTIVE,this.dispatchTweenEvent(a.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=c.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=c.PENDING_REMOVE,this.dispatchTweenEvent(a.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===c.PAUSED||(this.paused=!0,this._pausedState=this.state,this.state=c.PAUSED),this},play:function(e){void 0===e&&(e=!1);var t=this.state;return t!==c.INIT||this.parentIsTimeline?t===c.ACTIVE||t===c.PENDING_ADD&&this._pausedState===c.PENDING_ADD?this:this.parentIsTimeline||t!==c.PENDING_REMOVE&&t!==c.REMOVED?(this.parentIsTimeline?(this.resetTweenData(e),0===this.calculatedOffset?this.state=c.ACTIVE:(this.countdown=this.calculatedOffset,this.state=c.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(e),this.state=c.ACTIVE,this.makeActive()),this):(this.seek(0),this.parent.makeActive(this),this):(this.resetTweenData(!1),this.state=c.ACTIVE,this)},resetTweenData:function(e){for(var t=this.data,i=this.totalData,s=this.totalTargets,n=0;n<i;n++){var a=t[n],r=a.target,o=a.key,h=a.index;a.progress=0,a.elapsed=0,a.repeatCounter=-1===a.repeat?999999999999:a.repeat,e?(a.start=a.getStartValue(r,o,a.start,h,s,this),a.end=a.getEndValue(r,o,a.end,h,s,this),a.current=a.start,a.state=c.PLAYING_FORWARD):a.state=c.PENDING_RENDER,a.delay>0&&(a.elapsed=a.delay,a.state=c.DELAY),a.getActiveValue&&(r[o]=a.getActiveValue(a.target,a.key,a.start))}},resume:function(){return this.state===c.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(e,t){if(void 0===t&&(t=16.6),this.totalDuration>=36e5)return console.warn("Tween.seek duration too long"),this;this.state===c.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var i=this.data,s=this.totalTargets,n=0;n<this.totalData;n++){var a=i[n],r=a.target,o=a.gen,h=a.key,l=a.index;a.progress=0,a.elapsed=0,a.repeatCounter=-1===a.repeat?999999999999:a.repeat,a.delay=o.delay(r,h,0,l,s,this),a.duration=Math.max(o.duration(r,h,0,l,s,this),.001),a.hold=o.hold(r,h,0,l,s,this),a.repeat=o.repeat(r,h,0,l,s,this),a.repeatDelay=o.repeatDelay(r,h,0,l,s,this),a.current=a.start,a.state=c.PLAYING_FORWARD,this.updateTweenData(this,a,0,l,s),a.delay>0&&(a.elapsed=a.delay,a.state=c.DELAY)}this.calcDuration();var d=!1;this.state===c.PAUSED&&(d=!0,this.state=c.ACTIVE),this.isSeeking=!0;do{this.update(0,t)}while(this.totalProgress<e);return this.isSeeking=!1,d&&(this.state=c.PAUSED),this},setCallback:function(e,t,i,s){return this.callbacks[e]={func:t,scope:s,params:i},this},complete:function(e){return void 0===e&&(e=0),e?(this.state=c.COMPLETE_DELAY,this.countdown=e):(this.state=c.PENDING_REMOVE,this.dispatchTweenEvent(a.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(e){return this.state===c.ACTIVE&&void 0!==e&&this.seek(e),this.state!==c.REMOVED&&(this.state!==c.PAUSED&&this.state!==c.PENDING_ADD||(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(a.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=c.PENDING_REMOVE),this},update:function(e,t){if(this.state===c.PAUSED)return!1;switch(this.useFrames&&(t=1*this.parent.timeScale),t*=this.timeScale,this.elapsed+=t,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=t,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case c.ACTIVE:this.hasStarted||this.isSeeking||(this.startDelay-=t,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(a.TWEEN_START,this.callbacks.onStart)));for(var i=!1,s=0;s<this.totalData;s++){var n=this.data[s];this.updateTweenData(this,n,t)&&(i=!0)}i||this.nextState();break;case c.LOOP_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=c.ACTIVE,this.dispatchTweenEvent(a.TWEEN_LOOP,this.callbacks.onLoop));break;case c.OFFSET_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=c.ACTIVE);break;case c.COMPLETE_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=c.PENDING_REMOVE,this.dispatchTweenEvent(a.TWEEN_COMPLETE,this.callbacks.onComplete))}return this.state===c.PENDING_REMOVE},dispatchTweenDataEvent:function(e,t,i){this.isSeeking||(this.emit(e,this,i.key,i.target,i.current,i.previous),t&&(t.params[1]=i.target,t.func.apply(t.scope,t.params)))},dispatchTweenEvent:function(e,t){this.isSeeking||(this.emit(e,this,this.targets),t&&(t.params[1]=this.targets,t.func.apply(t.scope,t.params)))},setStateFromEnd:function(e,t,i){return t.yoyo?(t.elapsed=i,t.progress=i/t.duration,t.flipX&&t.target.toggleFlipX(),t.flipY&&t.target.toggleFlipY(),this.dispatchTweenDataEvent(a.TWEEN_YOYO,e.callbacks.onYoyo,t),t.start=t.getStartValue(t.target,t.key,t.start,t.index,e.totalTargets,e),c.PLAYING_BACKWARD):t.repeatCounter>0?(t.repeatCounter--,t.elapsed=i,t.progress=i/t.duration,t.flipX&&t.target.toggleFlipX(),t.flipY&&t.target.toggleFlipY(),t.start=t.getStartValue(t.target,t.key,t.start,t.index,e.totalTargets,e),t.end=t.getEndValue(t.target,t.key,t.start,t.index,e.totalTargets,e),t.repeatDelay>0?(t.elapsed=t.repeatDelay-i,t.current=t.start,t.target[t.key]=t.current,c.REPEAT_DELAY):(this.dispatchTweenDataEvent(a.TWEEN_REPEAT,e.callbacks.onRepeat,t),c.PLAYING_FORWARD)):c.COMPLETE},setStateFromStart:function(e,t,i){return t.repeatCounter>0?(t.repeatCounter--,t.elapsed=i,t.progress=i/t.duration,t.flipX&&t.target.toggleFlipX(),t.flipY&&t.target.toggleFlipY(),t.end=t.getEndValue(t.target,t.key,t.start,t.index,e.totalTargets,e),t.repeatDelay>0?(t.elapsed=t.repeatDelay-i,t.current=t.start,t.target[t.key]=t.current,c.REPEAT_DELAY):(this.dispatchTweenDataEvent(a.TWEEN_REPEAT,e.callbacks.onRepeat,t),c.PLAYING_FORWARD)):c.COMPLETE},updateTweenData:function(e,t,i){var s=t.target;switch(t.state){case c.PLAYING_FORWARD:case c.PLAYING_BACKWARD:if(!s){t.state=c.COMPLETE;break}var n=t.elapsed,r=t.duration,o=0;(n+=i)>r&&(o=n-r,n=r);var h=t.state===c.PLAYING_FORWARD,l=n/r;if(t.elapsed=n,t.progress=l,t.previous=t.current,1===l)h?(t.current=t.end,s[t.key]=t.end,t.hold>0?(t.elapsed=t.hold-o,t.state=c.HOLD_DELAY):t.state=this.setStateFromEnd(e,t,o)):(t.current=t.start,s[t.key]=t.start,t.state=this.setStateFromStart(e,t,o));else{var d=h?t.ease(l):t.ease(1-l);t.current=t.start+(t.end-t.start)*d,s[t.key]=t.current}this.dispatchTweenDataEvent(a.TWEEN_UPDATE,e.callbacks.onUpdate,t);break;case c.DELAY:t.elapsed-=i,t.elapsed<=0&&(t.elapsed=Math.abs(t.elapsed),t.state=c.PENDING_RENDER);break;case c.REPEAT_DELAY:t.elapsed-=i,t.elapsed<=0&&(t.elapsed=Math.abs(t.elapsed),t.state=c.PLAYING_FORWARD,this.dispatchTweenDataEvent(a.TWEEN_REPEAT,e.callbacks.onRepeat,t));break;case c.HOLD_DELAY:t.elapsed-=i,t.elapsed<=0&&(t.state=this.setStateFromEnd(e,t,Math.abs(t.elapsed)));break;case c.PENDING_RENDER:s?(t.start=t.getStartValue(s,t.key,s[t.key],t.index,e.totalTargets,e),t.end=t.getEndValue(s,t.key,t.start,t.index,e.totalTargets,e),t.current=t.start,s[t.key]=t.start,t.state=c.PLAYING_FORWARD):t.state=c.COMPLETE}return t.state!==c.COMPLETE}});l.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],o.register("tween",(function(e){return this.scene.sys.tweens.add(e)})),r.register("tween",(function(e){return this.scene.sys.tweens.create(e)})),e.exports=l},function(e,t,i){e.exports={TIMELINE_COMPLETE:i(1358),TIMELINE_LOOP:i(1359),TIMELINE_PAUSE:i(1360),TIMELINE_RESUME:i(1361),TIMELINE_START:i(1362),TIMELINE_UPDATE:i(1363),TWEEN_ACTIVE:i(1364),TWEEN_COMPLETE:i(1365),TWEEN_LOOP:i(1366),TWEEN_REPEAT:i(1367),TWEEN_START:i(1368),TWEEN_STOP:i(1369),TWEEN_UPDATE:i(1370),TWEEN_YOYO:i(1371)}},function(e,t){e.exports=function(e,t,i,s,n,a,r,o,c,h,l,d,u,p,f){return{target:e,index:t,key:i,getActiveValue:a,getEndValue:s,getStartValue:n,ease:r,duration:0,totalDuration:0,delay:0,yoyo:h,hold:0,repeat:0,repeatDelay:0,flipX:p,flipY:f,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:o,duration:c,hold:l,repeat:d,repeatDelay:u},state:0}}},function(e,t){e.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},function(e,t,i){var s=i(58);e.exports=function(e){return s(e,-Math.PI,Math.PI)}},function(e,t,i){var s=i(58);e.exports=function(e){return s(e,-180,180)}},function(e,t,i){var s=i(0),n=i(66),a=i(2),r=i(238),o=i(340),c=i(341),h=i(29),l=i(9),d=i(147),u=new s({Extends:d,Mixins:[r],initialize:function(e){var t=e.renderer.config;d.call(this,{game:e.game,renderer:e.renderer,gl:e.renderer.gl,topology:a(e,"topology",e.renderer.gl.TRIANGLES),vertShader:a(e,"vertShader",c),fragShader:a(e,"fragShader",o),vertexCapacity:a(e,"vertexCapacity",6*t.batchSize),vertexSize:a(e,"vertexSize",5*Float32Array.BYTES_PER_ELEMENT+4*Uint8Array.BYTES_PER_ELEMENT),attributes:[{name:"inPosition",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:2*Float32Array.BYTES_PER_ELEMENT},{name:"inTintEffect",size:1,type:e.renderer.gl.FLOAT,normalized:!1,offset:4*Float32Array.BYTES_PER_ELEMENT},{name:"inTint",size:4,type:e.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:5*Float32Array.BYTES_PER_ELEMENT}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=t.batchSize,this.batches=[],this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this._tempMatrix4=new h,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.tintEffect=2,this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[],this.mvpInit()},onBind:function(){return d.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(e,t,i){return d.prototype.resize.call(this,e,t,i),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(e,t){return void 0===e&&(e=this.renderer.blankTexture.glTexture),void 0===t&&(t=0),this.requireTextureBatch(e,t)&&this.pushBatch(e,t),this},requireTextureBatch:function(e,t){var i=this.batches,s=i.length;return!(s>0&&(t>0?i[s-1].textures[t-1]:i[s-1].texture)===e)},pushBatch:function(e,t){if(0===t)this.batches.push({first:this.vertexCount,texture:e,textures:[]});else{var i=[];i[t-1]=e,this.batches.push({first:this.vertexCount,texture:null,textures:i})}},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var e,t,i,s=this.gl,n=this.vertexCount,a=this.topology,r=this.vertexSize,o=this.renderer,c=this.batches,h=c.length,l=0,d=null;if(0===h||0===n)return this.flushLocked=!1,this;s.bufferSubData(s.ARRAY_BUFFER,0,this.bytes.subarray(0,n*r));for(var u=0;u<h-1;u++){if(d=c[u],e=c[u+1],d.textures.length>0){for(t=0;t<d.textures.length;++t)(i=d.textures[t])&&o.setTexture2D(i,1+t,!1);s.activeTexture(s.TEXTURE0)}l=e.first-d.first,null===d.texture||l<=0||(o.setTexture2D(d.texture,0,!1),s.drawArrays(a,d.first,l))}if((d=c[h-1]).textures.length>0){for(t=0;t<d.textures.length;++t)(i=d.textures[t])&&o.setTexture2D(i,1+t,!1);s.activeTexture(s.TEXTURE0)}return l=n-d.first,d.texture&&l>0&&(o.setTexture2D(d.texture,0,!1),s.drawArrays(a,d.first,l)),this.vertexCount=0,c.length=0,this.flushLocked=!1,this},batchSprite:function(e,t,i){this.renderer.setPipeline(this);var s=this._tempMatrix1,n=this._tempMatrix2,a=this._tempMatrix3,r=e.frame,o=r.glTexture,c=r.u0,h=r.v0,d=r.u1,u=r.v1,p=r.x,f=r.y,m=r.cutWidth,g=r.cutHeight,y=r.customPivot,v=e.displayOriginX,w=e.displayOriginY,b=-v+p,x=-w+f;if(e.isCropped){var k=e._crop;k.flipX===e.flipX&&k.flipY===e.flipY||r.updateCropUVs(k,e.flipX,e.flipY),c=k.u0,h=k.v0,d=k.u1,u=k.v1,m=k.width,g=k.height,b=-v+(p=k.x),x=-w+(f=k.y)}var T=1,_=1;e.flipX&&(y||(b+=-r.realWidth+2*v),T=-1),(e.flipY||r.source.isGLTexture&&!o.flipY)&&(y||(x+=-r.realHeight+2*w),_=-1),n.applyITRS(e.x,e.y,e.rotation,e.scaleX*T,e.scaleY*_),s.copyFrom(t.matrix),i?(s.multiplyWithOffset(i,-t.scrollX*e.scrollFactorX,-t.scrollY*e.scrollFactorY),n.e=e.x,n.f=e.y,s.multiply(n,a)):(n.e-=t.scrollX*e.scrollFactorX,n.f-=t.scrollY*e.scrollFactorY,s.multiply(n,a));var S=b+m,C=x+g,P=a.getX(b,x),B=a.getY(b,x),A=a.getX(b,C),E=a.getY(b,C),M=a.getX(S,C),O=a.getY(S,C),I=a.getX(S,x),R=a.getY(S,x),D=l.getTintAppendFloatAlpha(e._tintTL,t.alpha*e._alphaTL),N=l.getTintAppendFloatAlpha(e._tintTR,t.alpha*e._alphaTR),F=l.getTintAppendFloatAlpha(e._tintBL,t.alpha*e._alphaBL),L=l.getTintAppendFloatAlpha(e._tintBR,t.alpha*e._alphaBR);t.roundPixels&&(P=Math.round(P),B=Math.round(B),A=Math.round(A),E=Math.round(E),M=Math.round(M),O=Math.round(O),I=Math.round(I),R=Math.round(R)),this.setTexture2D(o,0);var Y=e._isTinted&&e.tintFill;this.batchQuad(P,B,A,E,M,O,I,R,c,h,d,u,D,N,F,L,Y,o,0)},batchQuad:function(e,t,i,s,n,a,r,o,c,h,l,d,u,p,f,m,g,y,v){var w=!1;this.vertexCount+6>this.vertexCapacity&&(this.flush(),w=!0,this.setTexture2D(y,v));var b=this.vertexViewF32,x=this.vertexViewU32,k=this.vertexCount*this.vertexComponentCount-1;return b[++k]=e,b[++k]=t,b[++k]=c,b[++k]=h,b[++k]=g,x[++k]=u,b[++k]=i,b[++k]=s,b[++k]=c,b[++k]=d,b[++k]=g,x[++k]=f,b[++k]=n,b[++k]=a,b[++k]=l,b[++k]=d,b[++k]=g,x[++k]=m,b[++k]=e,b[++k]=t,b[++k]=c,b[++k]=h,b[++k]=g,x[++k]=u,b[++k]=n,b[++k]=a,b[++k]=l,b[++k]=d,b[++k]=g,x[++k]=m,b[++k]=r,b[++k]=o,b[++k]=l,b[++k]=h,b[++k]=g,x[++k]=p,this.vertexCount+=6,w},batchTri:function(e,t,i,s,n,a,r,o,c,h,l,d,u,p,f,m){var g=!1;this.vertexCount+3>this.vertexCapacity&&(this.flush(),this.setTexture2D(f,m),g=!0);var y=this.vertexViewF32,v=this.vertexViewU32,w=this.vertexCount*this.vertexComponentCount-1;return y[++w]=e,y[++w]=t,y[++w]=r,y[++w]=o,y[++w]=p,v[++w]=l,y[++w]=i,y[++w]=s,y[++w]=r,y[++w]=h,y[++w]=p,v[++w]=d,y[++w]=n,y[++w]=a,y[++w]=c,y[++w]=h,y[++w]=p,v[++w]=u,this.vertexCount+=3,g},batchTexture:function(e,t,i,s,n,a,r,o,c,h,l,d,u,p,f,m,g,y,v,w,b,x,k,T,_,S,C,P,B,A,E){this.renderer.setPipeline(this,e);var M=this._tempMatrix1,O=this._tempMatrix2,I=this._tempMatrix3,R=y/i+C,D=v/s+P,N=(y+w)/i+C,F=(v+b)/s+P,L=r,Y=o,U=-m,V=-g;if(e.isCropped){var W=e._crop;L=W.width,Y=W.height,r=W.width,o=W.height;var z=y=W.x,H=v=W.y;d&&(z=w-W.x-W.width),u&&!t.isRenderTexture&&(H=b-W.y-W.height),R=z/i+C,D=H/s+P,N=(z+W.width)/i+C,F=(H+W.height)/s+P,U=-m+y,V=-g+v}d&&(L*=-1,U+=r),(u^=!E&&t.isRenderTexture?1:0)&&(Y*=-1,V+=o);var X=U+L,G=V+Y;O.applyITRS(n,a,l,c,h),M.copyFrom(B.matrix),A?(M.multiplyWithOffset(A,-B.scrollX*p,-B.scrollY*f),O.e=n,O.f=a,M.multiply(O,I)):(O.e-=B.scrollX*p,O.f-=B.scrollY*f,M.multiply(O,I));var j=I.getX(U,V),$=I.getY(U,V),K=I.getX(U,G),q=I.getY(U,G),J=I.getX(X,G),Q=I.getY(X,G),Z=I.getX(X,V),ee=I.getY(X,V);B.roundPixels&&(j=Math.round(j),$=Math.round($),K=Math.round(K),q=Math.round(q),J=Math.round(J),Q=Math.round(Q),Z=Math.round(Z),ee=Math.round(ee)),this.setTexture2D(t,0),this.batchQuad(j,$,K,q,J,Q,Z,ee,R,D,N,F,x,k,T,_,S,t,0)},batchTextureFrame:function(e,t,i,s,n,a,r){this.renderer.setPipeline(this);var o=this._tempMatrix1.copyFrom(a),c=this._tempMatrix2,h=t+e.width,d=i+e.height;r?o.multiply(r,c):c=o;var u=c.getX(t,i),p=c.getY(t,i),f=c.getX(t,d),m=c.getY(t,d),g=c.getX(h,d),y=c.getY(h,d),v=c.getX(h,i),w=c.getY(h,i);this.setTexture2D(e.glTexture,0),s=l.getTintAppendFloatAlpha(s,n),this.batchQuad(u,p,f,m,g,y,v,w,e.u0,e.v0,e.u1,e.v1,s,s,s,s,0,e.glTexture,0)},drawFillRect:function(e,t,i,s,n,a){var r=e+i,o=t+s;this.setTexture2D();var c=l.getTintAppendFloatAlphaAndSwap(n,a);this.batchQuad(e,t,e,o,r,o,r,t,0,0,1,1,c,c,c,c,2)},batchFillRect:function(e,t,i,s,n,a){this.renderer.setPipeline(this);var r=this._tempMatrix3;a&&a.multiply(n,r);var o=e+i,c=t+s,h=r.getX(e,t),l=r.getY(e,t),d=r.getX(e,c),u=r.getY(e,c),p=r.getX(o,c),f=r.getY(o,c),m=r.getX(o,t),g=r.getY(o,t),y=this.currentFrame,v=y.u0,w=y.v0,b=y.u1,x=y.v1;this.batchQuad(h,l,d,u,p,f,m,g,v,w,b,x,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.fillTint.BR,this.tintEffect)},batchFillTriangle:function(e,t,i,s,n,a,r,o){this.renderer.setPipeline(this);var c=this._tempMatrix3;o&&o.multiply(r,c);var h=c.getX(e,t),l=c.getY(e,t),d=c.getX(i,s),u=c.getY(i,s),p=c.getX(n,a),f=c.getY(n,a),m=this.currentFrame,g=m.u0,y=m.v0,v=m.u1,w=m.v1;this.batchTri(h,l,d,u,p,f,g,y,v,w,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.tintEffect)},batchStrokeTriangle:function(e,t,i,s,n,a,r,o,c){var h=this.tempTriangle;h[0].x=e,h[0].y=t,h[0].width=r,h[1].x=i,h[1].y=s,h[1].width=r,h[2].x=n,h[2].y=a,h[2].width=r,h[3].x=e,h[3].y=t,h[3].width=r,this.batchStrokePath(h,r,!1,o,c)},batchFillPath:function(e,t,i){this.renderer.setPipeline(this);var s=this._tempMatrix3;i&&i.multiply(t,s);for(var a,r,o=e.length,c=this.polygonCache,h=this.fillTint.TL,l=this.fillTint.TR,d=this.fillTint.BL,u=this.tintEffect,p=0;p<o;++p)r=e[p],c.push(r.x,r.y);o=(a=n(c)).length;for(var f=this.currentFrame,m=0;m<o;m+=3){var g=2*a[m+0],y=2*a[m+1],v=2*a[m+2],w=c[g+0],b=c[g+1],x=c[y+0],k=c[y+1],T=c[v+0],_=c[v+1],S=s.getX(w,b),C=s.getY(w,b),P=s.getX(x,k),B=s.getY(x,k),A=s.getX(T,_),E=s.getY(T,_),M=f.u0,O=f.v0,I=f.u1,R=f.v1;this.batchTri(S,C,P,B,A,E,M,O,I,R,h,l,d,u)}c.length=0},batchStrokePath:function(e,t,i,s,n){this.renderer.setPipeline(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var a=e.length-1,r=0;r<a;r++){var o=e[r],c=e[r+1];this.batchLine(o.x,o.y,c.x,c.y,o.width/2,c.width/2,t,r,!i&&r===a-1,s,n)}},batchLine:function(e,t,i,s,n,a,r,o,c,h,l){this.renderer.setPipeline(this);var d=this._tempMatrix3;l&&l.multiply(h,d);var u=i-e,p=s-t,f=Math.sqrt(u*u+p*p),m=n*(s-t)/f,g=n*(e-i)/f,y=a*(s-t)/f,v=a*(e-i)/f,w=i-y,b=s-v,x=e-m,k=t-g,T=i+y,_=s+v,S=e+m,C=t+g,P=d.getX(w,b),B=d.getY(w,b),A=d.getX(x,k),E=d.getY(x,k),M=d.getX(T,_),O=d.getY(T,_),I=d.getX(S,C),R=d.getY(S,C),D=this.strokeTint,N=this.tintEffect,F=D.TL,L=D.TR,Y=D.BL,U=D.BR,V=this.currentFrame,W=V.u0,z=V.v0,H=V.u1,X=V.v1;if(this.batchQuad(I,R,A,E,P,B,M,O,W,z,H,X,F,L,Y,U,N),!(r<=2)){var G=this.prevQuad,j=this.firstQuad;o>0&&G[4]?this.batchQuad(I,R,A,E,G[0],G[1],G[2],G[3],W,z,H,X,F,L,Y,U,N):(j[0]=I,j[1]=R,j[2]=A,j[3]=E,j[4]=1),c&&j[4]?this.batchQuad(P,B,M,O,j[0],j[1],j[2],j[3],W,z,H,X,F,L,Y,U,N):(G[0]=P,G[1]=B,G[2]=M,G[3]=O,G[4]=1)}}});e.exports=u},function(e,t){var i={modelMatrixDirty:!1,viewMatrixDirty:!1,projectionMatrixDirty:!1,modelMatrix:null,viewMatrix:null,projectionMatrix:null,mvpInit:function(){return this.modelMatrixDirty=!0,this.viewMatrixDirty=!0,this.projectionMatrixDirty=!0,this.modelMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},mvpUpdate:function(){var e=this.program;return this.modelMatrixDirty&&(this.renderer.setMatrix4(e,"uModelMatrix",!1,this.modelMatrix),this.modelMatrixDirty=!1),this.viewMatrixDirty&&(this.renderer.setMatrix4(e,"uViewMatrix",!1,this.viewMatrix),this.viewMatrixDirty=!1),this.projectionMatrixDirty&&(this.renderer.setMatrix4(e,"uProjectionMatrix",!1,this.projectionMatrix),this.projectionMatrixDirty=!1),this},modelIdentity:function(){var e=this.modelMatrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this.modelMatrixDirty=!0,this},modelScale:function(e,t,i){var s=this.modelMatrix;return s[0]=s[0]*e,s[1]=s[1]*e,s[2]=s[2]*e,s[3]=s[3]*e,s[4]=s[4]*t,s[5]=s[5]*t,s[6]=s[6]*t,s[7]=s[7]*t,s[8]=s[8]*i,s[9]=s[9]*i,s[10]=s[10]*i,s[11]=s[11]*i,this.modelMatrixDirty=!0,this},modelTranslate:function(e,t,i){var s=this.modelMatrix;return s[12]=s[0]*e+s[4]*t+s[8]*i+s[12],s[13]=s[1]*e+s[5]*t+s[9]*i+s[13],s[14]=s[2]*e+s[6]*t+s[10]*i+s[14],s[15]=s[3]*e+s[7]*t+s[11]*i+s[15],this.modelMatrixDirty=!0,this},modelRotateX:function(e){var t=this.modelMatrix,i=Math.sin(e),s=Math.cos(e),n=t[4],a=t[5],r=t[6],o=t[7],c=t[8],h=t[9],l=t[10],d=t[11];return t[4]=n*s+c*i,t[5]=a*s+h*i,t[6]=r*s+l*i,t[7]=o*s+d*i,t[8]=c*s-n*i,t[9]=h*s-a*i,t[10]=l*s-r*i,t[11]=d*s-o*i,this.modelMatrixDirty=!0,this},modelRotateY:function(e){var t=this.modelMatrix,i=Math.sin(e),s=Math.cos(e),n=t[0],a=t[1],r=t[2],o=t[3],c=t[8],h=t[9],l=t[10],d=t[11];return t[0]=n*s-c*i,t[1]=a*s-h*i,t[2]=r*s-l*i,t[3]=o*s-d*i,t[8]=n*i+c*s,t[9]=a*i+h*s,t[10]=r*i+l*s,t[11]=o*i+d*s,this.modelMatrixDirty=!0,this},modelRotateZ:function(e){var t=this.modelMatrix,i=Math.sin(e),s=Math.cos(e),n=t[0],a=t[1],r=t[2],o=t[3],c=t[4],h=t[5],l=t[6],d=t[7];return t[0]=n*s+c*i,t[1]=a*s+h*i,t[2]=r*s+l*i,t[3]=o*s+d*i,t[4]=c*s-n*i,t[5]=h*s-a*i,t[6]=l*s-r*i,t[7]=d*s-o*i,this.modelMatrixDirty=!0,this},viewIdentity:function(){var e=this.viewMatrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this.viewMatrixDirty=!0,this},viewScale:function(e,t,i){var s=this.viewMatrix;return s[0]=s[0]*e,s[1]=s[1]*e,s[2]=s[2]*e,s[3]=s[3]*e,s[4]=s[4]*t,s[5]=s[5]*t,s[6]=s[6]*t,s[7]=s[7]*t,s[8]=s[8]*i,s[9]=s[9]*i,s[10]=s[10]*i,s[11]=s[11]*i,this.viewMatrixDirty=!0,this},viewTranslate:function(e,t,i){var s=this.viewMatrix;return s[12]=s[0]*e+s[4]*t+s[8]*i+s[12],s[13]=s[1]*e+s[5]*t+s[9]*i+s[13],s[14]=s[2]*e+s[6]*t+s[10]*i+s[14],s[15]=s[3]*e+s[7]*t+s[11]*i+s[15],this.viewMatrixDirty=!0,this},viewRotateX:function(e){var t=this.viewMatrix,i=Math.sin(e),s=Math.cos(e),n=t[4],a=t[5],r=t[6],o=t[7],c=t[8],h=t[9],l=t[10],d=t[11];return t[4]=n*s+c*i,t[5]=a*s+h*i,t[6]=r*s+l*i,t[7]=o*s+d*i,t[8]=c*s-n*i,t[9]=h*s-a*i,t[10]=l*s-r*i,t[11]=d*s-o*i,this.viewMatrixDirty=!0,this},viewRotateY:function(e){var t=this.viewMatrix,i=Math.sin(e),s=Math.cos(e),n=t[0],a=t[1],r=t[2],o=t[3],c=t[8],h=t[9],l=t[10],d=t[11];return t[0]=n*s-c*i,t[1]=a*s-h*i,t[2]=r*s-l*i,t[3]=o*s-d*i,t[8]=n*i+c*s,t[9]=a*i+h*s,t[10]=r*i+l*s,t[11]=o*i+d*s,this.viewMatrixDirty=!0,this},viewRotateZ:function(e){var t=this.viewMatrix,i=Math.sin(e),s=Math.cos(e),n=t[0],a=t[1],r=t[2],o=t[3],c=t[4],h=t[5],l=t[6],d=t[7];return t[0]=n*s+c*i,t[1]=a*s+h*i,t[2]=r*s+l*i,t[3]=o*s+d*i,t[4]=c*s-n*i,t[5]=h*s-a*i,t[6]=l*s-r*i,t[7]=d*s-o*i,this.viewMatrixDirty=!0,this},viewLoad2D:function(e){var t=this.viewMatrix;return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=0,t[4]=e[2],t[5]=e[3],t[6]=0,t[7]=0,t[8]=e[4],t[9]=e[5],t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.viewMatrixDirty=!0,this},viewLoad:function(e){var t=this.viewMatrix;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this.viewMatrixDirty=!0,this},projIdentity:function(){var e=this.projectionMatrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this.projectionMatrixDirty=!0,this},projOrtho:function(e,t,i,s,n,a){var r=this.projectionMatrix,o=1/(e-t),c=1/(i-s),h=1/(n-a);return r[0]=-2*o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*c,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*h,r[11]=0,r[12]=(e+t)*o,r[13]=(s+i)*c,r[14]=(a+n)*h,r[15]=1,this.projectionMatrixDirty=!0,this},projPersp:function(e,t,i,s){var n=this.projectionMatrix,a=1/Math.tan(e/2),r=1/(i-s);return n[0]=a/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(s+i)*r,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*s*i*r,n[15]=0,this.projectionMatrixDirty=!0,this}};e.exports=i},function(e,t,i){var s={};e.exports=s;var n=i(240);s._motionWakeThreshold=.18,s._motionSleepThreshold=.08,s._minBias=.9,s.update=function(e,t){for(var i=t*t*t,n=0;n<e.length;n++){var a=e[n],r=a.speed*a.speed+a.angularSpeed*a.angularSpeed;if(0===a.force.x&&0===a.force.y){var o=Math.min(a.motion,r),c=Math.max(a.motion,r);a.motion=s._minBias*o+(1-s._minBias)*c,a.sleepThreshold>0&&a.motion<s._motionSleepThreshold*i?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold&&s.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}else s.set(a,!1)}},s.afterCollisions=function(e,t){for(var i=t*t*t,n=0;n<e.length;n++){var a=e[n];if(a.isActive){var r=a.collision,o=r.bodyA.parent,c=r.bodyB.parent;if(!(o.isSleeping&&c.isSleeping||o.isStatic||c.isStatic)&&(o.isSleeping||c.isSleeping)){var h=o.isSleeping&&!o.isStatic?o:c,l=h===o?c:o;!h.isStatic&&l.motion>s._motionWakeThreshold*i&&s.set(h,!1)}}}},s.set=function(e,t){var i=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,i||n.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,i&&n.trigger(e,"sleepEnd"))}},function(e,t,i){var s={};e.exports=s;var n=i(42);s.on=function(e,t,i){for(var s,n=t.split(" "),a=0;a<n.length;a++)s=n[a],e.events=e.events||{},e.events[s]=e.events[s]||[],e.events[s].push(i);return i},s.off=function(e,t,i){if(t){"function"==typeof t&&(i=t,t=n.keys(e.events).join(" "));for(var s=t.split(" "),a=0;a<s.length;a++){var r=e.events[s[a]],o=[];if(i&&r)for(var c=0;c<r.length;c++)r[c]!==i&&o.push(r[c]);e.events[s[a]]=o}}else e.events={}},s.trigger=function(e,t,i){var s,a,r,o,c=e.events;if(c&&n.keys(c).length>0){i||(i={}),s=t.split(" ");for(var h=0;h<s.length;h++)if(r=c[a=s[h]]){(o=n.clone(i,!1)).name=a,o.source=e;for(var l=0;l<r.length;l++)r[l].apply(e,[o])}}}},function(e,t,i){e.exports={AlignTo:i(527),Angle:i(528),Call:i(529),GetFirst:i(530),GetLast:i(531),GridAlign:i(532),IncAlpha:i(593),IncX:i(594),IncXY:i(595),IncY:i(596),PlaceOnCircle:i(597),PlaceOnEllipse:i(598),PlaceOnLine:i(599),PlaceOnRectangle:i(600),PlaceOnTriangle:i(601),PlayAnimation:i(602),PropertyValueInc:i(38),PropertyValueSet:i(25),RandomCircle:i(603),RandomEllipse:i(604),RandomLine:i(605),RandomRectangle:i(606),RandomTriangle:i(607),Rotate:i(608),RotateAround:i(609),RotateAroundDistance:i(610),ScaleX:i(611),ScaleXY:i(612),ScaleY:i(613),SetAlpha:i(614),SetBlendMode:i(615),SetDepth:i(616),SetHitArea:i(617),SetOrigin:i(618),SetRotation:i(619),SetScale:i(620),SetScaleX:i(621),SetScaleY:i(622),SetScrollFactor:i(623),SetScrollFactorX:i(624),SetScrollFactorY:i(625),SetTint:i(626),SetVisible:i(627),SetX:i(628),SetXY:i(629),SetY:i(630),ShiftPosition:i(631),Shuffle:i(632),SmootherStep:i(633),SmoothStep:i(634),Spread:i(635),ToggleVisible:i(636),WrapInRectangle:i(637)}},function(e,t,i){var s=i(105),n=[];n[s.BOTTOM_CENTER]=i(243),n[s.BOTTOM_LEFT]=i(244),n[s.BOTTOM_RIGHT]=i(245),n[s.LEFT_BOTTOM]=i(246),n[s.LEFT_CENTER]=i(247),n[s.LEFT_TOP]=i(248),n[s.RIGHT_BOTTOM]=i(249),n[s.RIGHT_CENTER]=i(250),n[s.RIGHT_TOP]=i(251),n[s.TOP_CENTER]=i(252),n[s.TOP_LEFT]=i(253),n[s.TOP_RIGHT]=i(254),e.exports=function(e,t,i,s,a){return n[i](e,t,s,a)}},function(e,t,i){var s=i(34),n=i(76),a=i(77),r=i(43);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,n(t)+i),r(e,s(t)+o),e}},function(e,t,i){var s=i(34),n=i(35),a=i(44),r=i(43);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,n(t)-i),r(e,s(t)+o),e}},function(e,t,i){var s=i(34),n=i(36),a=i(45),r=i(43);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,n(t)+i),r(e,s(t)+o),e}},function(e,t,i){var s=i(34),n=i(35),a=i(46),r=i(45);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,n(t)-i),a(e,s(t)+o),e}},function(e,t,i){var s=i(78),n=i(35),a=i(79),r=i(45);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,n(t)-i),a(e,s(t)+o),e}},function(e,t,i){var s=i(35),n=i(37),a=i(45),r=i(43);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,s(t)-i),r(e,n(t)-o),e}},function(e,t,i){var s=i(34),n=i(36),a=i(46),r=i(44);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,n(t)+i),a(e,s(t)+o),e}},function(e,t,i){var s=i(78),n=i(36),a=i(79),r=i(44);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,n(t)+i),a(e,s(t)+o),e}},function(e,t,i){var s=i(36),n=i(37),a=i(44),r=i(43);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,s(t)+i),r(e,n(t)-o),e}},function(e,t,i){var s=i(76),n=i(37),a=i(46),r=i(77);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,s(t)+i),a(e,n(t)-o),e}},function(e,t,i){var s=i(35),n=i(37),a=i(46),r=i(44);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,s(t)-i),a(e,n(t)-o),e}},function(e,t,i){var s=i(36),n=i(37),a=i(46),r=i(45);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,s(t)+i),a(e,n(t)-o),e}},function(e,t,i){var s=i(105),n=[];n[s.BOTTOM_CENTER]=i(256),n[s.BOTTOM_LEFT]=i(257),n[s.BOTTOM_RIGHT]=i(258),n[s.CENTER]=i(259),n[s.LEFT_CENTER]=i(261),n[s.RIGHT_CENTER]=i(262),n[s.TOP_CENTER]=i(263),n[s.TOP_LEFT]=i(264),n[s.TOP_RIGHT]=i(265),n[s.LEFT_BOTTOM]=n[s.BOTTOM_LEFT],n[s.LEFT_TOP]=n[s.TOP_LEFT],n[s.RIGHT_BOTTOM]=n[s.BOTTOM_RIGHT],n[s.RIGHT_TOP]=n[s.TOP_RIGHT],e.exports=function(e,t,i,s,a){return n[i](e,t,s,a)}},function(e,t,i){var s=i(34),n=i(76),a=i(46),r=i(77);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,n(t)+i),a(e,s(t)+o),e}},function(e,t,i){var s=i(34),n=i(35),a=i(46),r=i(44);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,n(t)-i),a(e,s(t)+o),e}},function(e,t,i){var s=i(34),n=i(36),a=i(46),r=i(45);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,n(t)+i),a(e,s(t)+o),e}},function(e,t,i){var s=i(260),n=i(76),a=i(78);e.exports=function(e,t,i,r){return void 0===i&&(i=0),void 0===r&&(r=0),s(e,n(t)+i,a(t)+r),e}},function(e,t,i){var s=i(77),n=i(79);e.exports=function(e,t,i){return s(e,t),n(e,i)}},function(e,t,i){var s=i(78),n=i(35),a=i(79),r=i(44);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,n(t)-i),a(e,s(t)+o),e}},function(e,t,i){var s=i(78),n=i(36),a=i(79),r=i(45);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(e,n(t)+i),a(e,s(t)+o),e}},function(e,t,i){var s=i(76),n=i(37),a=i(77),r=i(43);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,s(t)+i),r(e,n(t)-o),e}},function(e,t,i){var s=i(35),n=i(37),a=i(44),r=i(43);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,s(t)-i),r(e,n(t)-o),e}},function(e,t,i){var s=i(36),n=i(37),a=i(45),r=i(43);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,s(t)+i),r(e,n(t)-o),e}},function(e,t,i){var s=i(149),n=i(87),a=i(13),r=i(4);e.exports=function(e,t,i){void 0===i&&(i=new r);var o=n(t,0,a.PI2);return s(e,o,i)}},function(e,t,i){var s=i(268),n=i(149),a=i(87),r=i(13);e.exports=function(e,t,i,o){void 0===o&&(o=[]),!t&&i>0&&(t=s(e)/i);for(var c=0;c<t;c++){var h=a(c/t,0,r.PI2);o.push(n(e,h))}return o}},function(e,t){e.exports=function(e){return Math.PI*e.radius*2}},function(e,t,i){var s=i(19),n={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(e){return void 0===e&&(e=1),this.alpha=e,this},alpha:{get:function(){return this._alpha},set:function(e){var t=s(e,0,1);this._alpha=t,0===t?this.renderFlags&=-3:this.renderFlags|=2}}};e.exports=n},function(e,t){e.exports=function(e,t,i){if(!t.length)return NaN;if(1===t.length)return t[0];var s,n,a=1;if(i){if(e<t[0][i])return t[0];for(;t[a][i]<e;)a++}else for(;t[a]<e;)a++;return a>t.length&&(a=t.length),i?(s=t[a-1][i],(n=t[a][i])-e<=e-s?t[a]:t[a-1]):(s=t[a-1],(n=t[a])-e<=e-s?n:s)}},function(e,t,i){var s=new(i(0))({initialize:function(e,t,i,s){this.textureKey=e,this.textureFrame=t,this.index=i,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration}},destroy:function(){this.frame=void 0}});e.exports=s},function(e,t,i){var s=i(52),n={_blendMode:s.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(e){"string"==typeof e&&(e=s[e]),(e|=0)>=-1&&(this._blendMode=e)}},setBlendMode:function(e){return this.blendMode=e,this}};e.exports=n},function(e,t){var i={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.scene.sys.queueDepthSort(),this._depth=e}},setDepth:function(e){return void 0===e&&(e=0),this.depth=e,this}};e.exports=i},function(e,t,i){var s=i(152),n=i(112);e.exports=function(e,t,i,a){void 0===a&&(a=[]),!t&&i>0&&(t=n(e)/i);for(var r=0;r<t;r++){var o=r/t;a.push(s(e,o))}return a}},function(e,t,i){var s=i(4);e.exports=function(e,t,i){return void 0===i&&(i=new s),i.x=e.x1+(e.x2-e.x1)*t,i.y=e.y1+(e.y2-e.y1)*t,i}},function(e,t){e.exports=function(e,t,i,s){var n=Math.cos(s),a=Math.sin(s),r=e.x-t,o=e.y-i;return e.x=r*n-o*a+t,e.y=r*a+o*n+i,e}},function(e,t,i){var s=i(278),n=i(279),a={mask:null,setMask:function(e){return this.mask=e,this},clearMask:function(e){return void 0===e&&(e=!1),e&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(e){return void 0===e&&(this.texture||this.shader)&&(e=this),new s(this.scene,e)},createGeometryMask:function(e){return void 0===e&&"Graphics"===this.type&&(e=this),new n(this.scene,e)}};e.exports=a},function(e,t,i){var s=i(0),n=i(20),a=new s({initialize:function(e,t){var i=e.sys.game.renderer;if(this.renderer=i,this.bitmapMask=t,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,i&&i.gl){var s=i.width,a=i.height,r=0==(s&s-1)&&0==(a&a-1),o=i.gl,c=r?o.REPEAT:o.CLAMP_TO_EDGE,h=o.LINEAR;this.mainTexture=i.createTexture2D(0,h,h,c,c,o.RGBA,null,s,a),this.maskTexture=i.createTexture2D(0,h,h,c,c,o.RGBA,null,s,a),this.mainFramebuffer=i.createFramebuffer(s,a,this.mainTexture,!0),this.maskFramebuffer=i.createFramebuffer(s,a,this.maskTexture,!0),e.sys.game.events.on(n.CONTEXT_RESTORED,(function(e){var t=e.width,i=e.height,s=0==(t&t-1)&&0==(i&i-1),n=e.gl,a=s?n.REPEAT:n.CLAMP_TO_EDGE,r=n.LINEAR;this.mainTexture=e.createTexture2D(0,r,r,a,a,n.RGBA,null,t,i),this.maskTexture=e.createTexture2D(0,r,r,a,a,n.RGBA,null,t,i),this.mainFramebuffer=e.createFramebuffer(t,i,this.mainTexture,!0),this.maskFramebuffer=e.createFramebuffer(t,i,this.maskTexture,!0)}),this)}},setBitmap:function(e){this.bitmapMask=e},preRenderWebGL:function(e,t,i){e.pipelines.BitmapMaskPipeline.beginMask(this,t,i)},postRenderWebGL:function(e,t){e.pipelines.BitmapMaskPipeline.endMask(this,t)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null;var e=this.renderer;e&&e.gl&&(e.deleteTexture(this.mainTexture),e.deleteTexture(this.maskTexture),e.deleteFramebuffer(this.mainFramebuffer),e.deleteFramebuffer(this.maskFramebuffer)),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.renderer=null}});e.exports=a},function(e,t,i){var s=new(i(0))({initialize:function(e,t){this.geometryMask=t,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(e){return this.geometryMask=e,this},setInvertAlpha:function(e){return void 0===e&&(e=!0),this.invertAlpha=e,this},preRenderWebGL:function(e,t,i){var s=e.gl;e.flush(),0===e.maskStack.length&&(s.enable(s.STENCIL_TEST),s.clear(s.STENCIL_BUFFER_BIT),e.maskCount=0),e.currentCameraMask.mask!==this&&(e.currentMask.mask=this),e.maskStack.push({mask:this,camera:i}),this.applyStencil(e,i,!0),e.maskCount++},applyStencil:function(e,t,i){var s=e.gl,n=this.geometryMask,a=e.maskCount;s.colorMask(!1,!1,!1,!1),i?(s.stencilFunc(s.EQUAL,a,255),s.stencilOp(s.KEEP,s.KEEP,s.INCR)):(s.stencilFunc(s.EQUAL,a+1,255),s.stencilOp(s.KEEP,s.KEEP,s.DECR)),n.renderWebGL(e,n,0,t),e.flush(),s.colorMask(!0,!0,!0,!0),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),i?this.invertAlpha?s.stencilFunc(s.NOTEQUAL,a+1,255):s.stencilFunc(s.EQUAL,a+1,255):this.invertAlpha?s.stencilFunc(s.NOTEQUAL,a,255):s.stencilFunc(s.EQUAL,a,255)},postRenderWebGL:function(e){var t=e.gl;if(e.maskStack.pop(),e.maskCount--,0===e.maskStack.length)e.flush(),e.currentMask.mask=null,t.disable(t.STENCIL_TEST);else{e.flush();var i=e.maskStack[e.maskStack.length-1];i.mask.applyStencil(e,i.camera,!1),e.currentCameraMask.mask!==i.mask?(e.currentMask.mask=i.mask,e.currentMask.camera=i.camera):e.currentMask.mask=null}},preRenderCanvas:function(e,t,i){var s=this.geometryMask;e.currentContext.save(),s.renderCanvas(e,s,0,i,null,null,!0),e.currentContext.clip()},postRenderCanvas:function(e){e.currentContext.restore()},destroy:function(){this.geometryMask=null}});e.exports=s},function(e,t){var i={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,t){return void 0===t&&(t=e),this.scrollFactorX=e,this.scrollFactorY=t,this}};e.exports=i},function(e,t){e.exports=function(e){var t={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(t.textureKey=e.texture.key,t.frameKey=e.frame.name),t}},function(e,t,i){var s=i(13),n=i(29),a=i(235),r=i(236),o={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(e){this._scaleX=e,this._scaleY=e,0===e?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(e){this._scaleX=e,0===e?this.renderFlags&=-5:this.renderFlags|=4}},scaleY:{get:function(){return this._scaleY},set:function(e){this._scaleY=e,0===e?this.renderFlags&=-5:this.renderFlags|=4}},angle:{get:function(){return r(this._rotation*s.RAD_TO_DEG)},set:function(e){this.rotation=r(e)*s.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=a(e)}},setPosition:function(e,t,i,s){return void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=0),void 0===s&&(s=0),this.x=e,this.y=t,this.z=i,this.w=s,this},setRandomPosition:function(e,t,i,s){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===s&&(s=this.scene.sys.scale.height),this.x=e+Math.random()*i,this.y=t+Math.random()*s,this},setRotation:function(e){return void 0===e&&(e=0),this.rotation=e,this},setAngle:function(e){return void 0===e&&(e=0),this.angle=e,this},setScale:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),this.scaleX=e,this.scaleY=t,this},setX:function(e){return void 0===e&&(e=0),this.x=e,this},setY:function(e){return void 0===e&&(e=0),this.y=e,this},setZ:function(e){return void 0===e&&(e=0),this.z=e,this},setW:function(e){return void 0===e&&(e=0),this.w=e,this},getLocalTransformMatrix:function(e){return void 0===e&&(e=new n),e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(e,t){void 0===e&&(e=new n),void 0===t&&(t=new n);var i=this.parentContainer;if(!i)return this.getLocalTransformMatrix(e);for(e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);i;)t.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY),t.multiply(e,e),i=i.parentContainer;return e},getParentRotation:function(){for(var e=0,t=this.parentContainer;t;)e+=t.rotation,t=t.parentContainer;return e}};e.exports=o},function(e,t){var i={_visible:!0,visible:{get:function(){return this._visible},set:function(e){e?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(e){return this.visible=e,this}};e.exports=i},function(e,t,i){e.exports={CHANGE_DATA:i(578),CHANGE_DATA_KEY:i(579),REMOVE_DATA:i(580),SET_DATA:i(581)}},function(e,t,i){var s=i(112),n=i(4);e.exports=function(e,t,i,a){if(void 0===a&&(a=[]),!t&&!i)return a;t?i=Math.round(s(e)/t):t=s(e)/i;for(var r=e.x,o=e.y,c=0,h=0;h<i;h++)switch(a.push(new n(r,o)),c){case 0:(r+=t)>=e.right&&(c=1,o+=r-e.right,r=e.right);break;case 1:(o+=t)>=e.bottom&&(c=2,r-=o-e.bottom,o=e.bottom);break;case 2:(r-=t)<=e.left&&(c=3,o-=e.left-r,r=e.left);break;case 3:(o-=t)<=e.top&&(c=0,o=e.top)}return a}},function(e,t){e.exports=function(e,t){void 0===t&&(t=1);for(var i=null,s=0;s<t;s++)i=e.shift(),e.push(i);return i}},function(e,t){e.exports=function(e,t){void 0===t&&(t=1);for(var i=null,s=0;s<t;s++)i=e.pop(),e.unshift(i);return i}},function(e,t){e.exports=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i=[]);var s=Math.round(e.x1),n=Math.round(e.y1),a=Math.round(e.x2),r=Math.round(e.y2),o=Math.abs(a-s),c=Math.abs(r-n),h=s<a?1:-1,l=n<r?1:-1,d=o-c;i.push({x:s,y:n});for(var u=1;s!==a||n!==r;){var p=d<<1;p>-c&&(d-=c,s+=h),p<o&&(d+=o,n+=l),u%t==0&&i.push({x:s,y:n}),u++}return i}},function(e,t,i){var s=i(151),n=i(0),a=i(162),r=i(10),o=i(111),c=i(20),h=i(6),l=i(163),d=new n({Extends:r,initialize:function(e){r.call(this),this.game=e,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.paused=!1,this.name="AnimationManager",e.events.once(c.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(c.DESTROY,this.destroy,this)},add:function(e,t){return this.anims.has(e)?(console.warn("Animation key exists: "+e),this):(t.key=e,this.anims.set(e,t),this.emit(o.ADD_ANIMATION,e,t),this)},exists:function(e){return this.anims.has(e)},create:function(e){var t=e.key,i=!1;return t&&((i=this.get(t))||(i=new s(this,t,e),this.anims.set(t,i),this.emit(o.ADD_ANIMATION,t,i))),i},fromJSON:function(e,t){void 0===t&&(t=!1),t&&this.anims.clear(),"string"==typeof e&&(e=JSON.parse(e));var i=[];if(e.hasOwnProperty("anims")&&Array.isArray(e.anims)){for(var s=0;s<e.anims.length;s++)i.push(this.create(e.anims[s]));e.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=e.globalTimeScale)}else e.hasOwnProperty("key")&&"frame"===e.type&&i.push(this.create(e));return i},generateFrameNames:function(e,t){var i=h(t,"prefix",""),s=h(t,"start",0),n=h(t,"end",0),a=h(t,"suffix",""),r=h(t,"zeroPad",0),o=h(t,"outputArray",[]),c=h(t,"frames",!1),d=this.textureManager.get(e);if(!d)return o;var u,p,f=s<n?1:-1;if(n+=f,t)if(Array.isArray(c))for(u=0;u<c.length;u++)p=i+l(c[u],r,"0",1)+a,d.has(p)&&o.push({key:e,frame:p});else for(u=s;u!==n;u+=f)p=i+l(u,r,"0",1)+a,d.has(p)&&o.push({key:e,frame:p});else for(c=d.getFrameNames(),u=0;u<c.length;u++)o.push({key:e,frame:c[u]});return o},generateFrameNumbers:function(e,t){var i,s=h(t,"start",0),n=h(t,"end",-1),a=h(t,"first",!1),r=h(t,"outputArray",[]),o=h(t,"frames",!1),c=this.textureManager.get(e);if(!c)return r;if(a&&c.has(a)&&r.push({key:e,frame:a}),Array.isArray(o))for(i=0;i<o.length;i++)c.has(o[i])&&r.push({key:e,frame:o[i]});else{-1===n&&(n=c.frameTotal);var l=s<n?1:-1;for(n+=l,i=s;i!==n;i+=l)c.has(i)&&r.push({key:e,frame:i})}return r},get:function(e){return this.anims.get(e)},load:function(e,t,i){var s=this.get(t);return s?s.load(e,i):console.warn("Missing animation: "+t),e},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(o.PAUSE_ALL)),this},play:function(e,t){if(Array.isArray(t)||(t=[t]),!this.get(e))return this;for(var i=0;i<t.length;i++)t[i].anims.play(e);return this},remove:function(e){var t=this.get(e);return t&&(this.emit(o.REMOVE_ANIMATION,e,t),this.anims.delete(e)),t},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(o.RESUME_ALL)),this},staggerPlay:function(e,t,i){if(void 0===i&&(i=0),Array.isArray(t)||(t=[t]),!this.get(e))return this;for(var s=0;s<t.length;s++)t[s].anims.delayedPlay(i*s,e);return this},toJSON:function(e){var t={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==e&&""!==e?t.anims.push(this.anims.get(e).toJSON()):this.anims.each((function(e,i){t.anims.push(i.toJSON())})),t},destroy:function(){this.anims.clear(),this.textureManager=null,this.game=null}});e.exports=d},function(e,t,i){var s=i(0),n=i(162),a=i(10),r=i(291),o=new s({initialize:function(){this.entries=new n,this.events=new a},add:function(e,t){return this.entries.set(e,t),this.events.emit(r.ADD,this,e,t),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var t=this.get(e);return t&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,t.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});e.exports=o},function(e,t,i){e.exports={ADD:i(640),REMOVE:i(641)}},function(e,t,i){var s=i(290),n=i(0),a=i(20),r=new n({initialize:function(e){this.game=e,this.binary=new s,this.bitmapFont=new s,this.json=new s,this.physics=new s,this.shader=new s,this.audio=new s,this.video=new s,this.text=new s,this.html=new s,this.obj=new s,this.tilemap=new s,this.xml=new s,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(e){return this.custom.hasOwnProperty(e)||(this.custom[e]=new s),this.custom[e]},destroy:function(){for(var e=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],t=0;t<e.length;t++)this[e[t]].destroy(),this[e[t]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});e.exports=r},function(e,t,i){var s=i(91),n=i(26),a=i(168),r=i(19),o=i(0),c=i(12),h=i(301),l=i(116),d=i(11),u=i(3),p=new o({Extends:s,Mixins:[c.Flip,c.Tint],initialize:function(e,t,i,n){s.call(this,e,t,i,n),this.inputEnabled=!0,this.fadeEffect=new h.Fade(this),this.flashEffect=new h.Flash(this),this.shakeEffect=new h.Shake(this),this.panEffect=new h.Pan(this),this.rotateToEffect=new h.RotateTo(this),this.zoomEffect=new h.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null,this.renderToTexture=!1,this.renderToGame=!0,this.canvas=null,this.context=null,this.glTexture=null,this.framebuffer=null,this.pipeline=null},setRenderToTexture:function(e,t){void 0===t&&(t=!0);var i=this.scene.sys.game.renderer;return i.gl?(this.glTexture=i.createTextureFromSource(null,this.width,this.height,0),this.framebuffer=i.createFramebuffer(this.width,this.height,this.glTexture,!1)):(this.canvas=n.create2D(this,this.width,this.height),this.context=this.canvas.getContext("2d")),this.renderToTexture=!0,this.renderToGame=t,e&&this.setPipeline(e),this},setPipeline:function(e){if("string"==typeof e){var t=this.scene.sys.game.renderer;t.gl&&t.hasPipeline(e)&&(this.pipeline=t.getPipeline(e))}else this.pipeline=e;return this},clearRenderToTexture:function(){if(this.scene){var e=this.scene.sys.game.renderer;if(e)return e.gl?(this.framebuffer&&e.deleteFramebuffer(this.framebuffer),this.glTexture&&e.deleteTexture(this.glTexture),this.framebuffer=null,this.glTexture=null,this.pipeline=null):(n.remove(this),this.canvas=null,this.context=null),this.renderToTexture=!1,this}},setDeadzone:function(e,t){if(void 0===e)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=e,this.deadzone.height=t):this.deadzone=new d(0,0,e,t),this._follow){var i=this.width/2,s=this.height/2,n=this._follow.x-this.followOffset.x,r=this._follow.y-this.followOffset.y;this.midPoint.set(n,r),this.scrollX=n-i,this.scrollY=r-s}a(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(e,t,i,s,n,a){return this.fadeEffect.start(!1,e,t,i,s,!0,n,a)},fadeOut:function(e,t,i,s,n,a){return this.fadeEffect.start(!0,e,t,i,s,!0,n,a)},fadeFrom:function(e,t,i,s,n,a,r){return this.fadeEffect.start(!1,e,t,i,s,n,a,r)},fade:function(e,t,i,s,n,a,r){return this.fadeEffect.start(!0,e,t,i,s,n,a,r)},flash:function(e,t,i,s,n,a,r){return this.flashEffect.start(e,t,i,s,n,a,r)},shake:function(e,t,i,s,n){return this.shakeEffect.start(e,t,i,s,n)},pan:function(e,t,i,s,n,a,r){return this.panEffect.start(e,t,i,s,n,a,r)},rotateTo:function(e,t,i,s,n,a,r){return this.rotateToEffect.start(e,t,i,s,n,a,r)},zoomTo:function(e,t,i,s,n,a){return this.zoomEffect.start(e,t,i,s,n,a)},preRender:function(e){var t=this.width,i=this.height,s=.5*t,n=.5*i,r=this.zoom*e,o=this.matrix,c=t*this.originX,h=i*this.originY,d=this._follow,u=this.deadzone,p=this.scrollX,f=this.scrollY;if(u&&a(u,this.midPoint.x,this.midPoint.y),d&&!this.panEffect.isRunning){var m=d.x-this.followOffset.x,g=d.y-this.followOffset.y;u?(m<u.x?p=l(p,p-(u.x-m),this.lerp.x):m>u.right&&(p=l(p,p+(m-u.right),this.lerp.x)),g<u.y?f=l(f,f-(u.y-g),this.lerp.y):g>u.bottom&&(f=l(f,f+(g-u.bottom),this.lerp.y))):(p=l(p,m-c,this.lerp.x),f=l(f,g-h,this.lerp.y))}this.useBounds&&(p=this.clampX(p),f=this.clampY(f)),this.roundPixels&&(c=Math.round(c),h=Math.round(h)),this.scrollX=p,this.scrollY=f;var y=p+s,v=f+n;this.midPoint.set(y,v);var w=t/r,b=i/r;this.worldView.setTo(y-w/2,v-b/2,w,b),o.applyITRS(this.x+c,this.y+h,this.rotation,r,r),o.translate(-c,-h),this.shakeEffect.preRender()},setLerp:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),this.lerp.set(e,t),this},setFollowOffset:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.followOffset.set(e,t),this},startFollow:function(e,t,i,s,n,a){void 0===t&&(t=!1),void 0===i&&(i=1),void 0===s&&(s=i),void 0===n&&(n=0),void 0===a&&(a=n),this._follow=e,this.roundPixels=t,i=r(i,0,1),s=r(s,0,1),this.lerp.set(i,s),this.followOffset.set(n,a);var o=this.width/2,c=this.height/2,h=e.x-n,l=e.y-a;return this.midPoint.set(h,l),this.scrollX=h-o,this.scrollY=l-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(e,t){this.visible&&(this.rotateToEffect.update(e,t),this.panEffect.update(e,t),this.zoomEffect.update(e,t),this.shakeEffect.update(e,t),this.flashEffect.update(e,t),this.fadeEffect.update(e,t))},destroy:function(){this.clearRenderToTexture(),this.resetFX(),s.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});e.exports=p},function(e,t,i){var s=i(31);e.exports=function(e){var t=new s;e=e.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,s){return t+t+i+i+s+s}));var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(i){var n=parseInt(i[1],16),a=parseInt(i[2],16),r=parseInt(i[3],16);t.setTo(n,a,r)}return t}},function(e,t){e.exports=function(e,t,i,s){return s<<24|e<<16|t<<8|i}},function(e,t){e.exports=function(e,t,i,s){void 0===s&&(s={h:0,s:0,v:0}),e/=255,t/=255,i/=255;var n=Math.min(e,t,i),a=Math.max(e,t,i),r=a-n,o=0,c=0===a?0:r/a,h=a;return a!==n&&(a===e?o=(t-i)/r+(t<i?6:0):a===t?o=(i-e)/r+2:a===i&&(o=(e-t)/r+4),o/=6),s.hasOwnProperty("_h")?(s._h=o,s._s=c,s._v=h):(s.h=o,s.s=c,s.v=h),s}},function(e,t,i){var s=i(31),n=i(298);e.exports=function(e){var t=n(e);return new s(t.r,t.g,t.b,t.a)}},function(e,t){e.exports=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:255&e}:{a:255,r:e>>16&255,g:e>>8&255,b:255&e}}},function(e,t,i){var s=i(31);e.exports=function(e){return new s(e.r,e.g,e.b,e.a)}},function(e,t,i){var s=i(31);e.exports=function(e){var t=new s,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(e.toLowerCase());if(i){var n=parseInt(i[1],10),a=parseInt(i[2],10),r=parseInt(i[3],10),o=void 0!==i[4]?parseFloat(i[4]):1;t.setTo(n,a,r,255*o)}return t}},function(e,t,i){e.exports={Fade:i(664),Flash:i(665),Pan:i(666),Shake:i(699),RotateTo:i(700),Zoom:i(701)}},function(e,t,i){e.exports={In:i(667),Out:i(668),InOut:i(669)}},function(e,t,i){e.exports={In:i(670),Out:i(671),InOut:i(672)}},function(e,t,i){e.exports={In:i(673),Out:i(674),InOut:i(675)}},function(e,t,i){e.exports={In:i(676),Out:i(677),InOut:i(678)}},function(e,t,i){e.exports={In:i(679),Out:i(680),InOut:i(681)}},function(e,t,i){e.exports={In:i(682),Out:i(683),InOut:i(684)}},function(e,t,i){e.exports=i(685)},function(e,t,i){e.exports={In:i(686),Out:i(687),InOut:i(688)}},function(e,t,i){e.exports={In:i(689),Out:i(690),InOut:i(691)}},function(e,t,i){e.exports={In:i(692),Out:i(693),InOut:i(694)}},function(e,t,i){e.exports={In:i(695),Out:i(696),InOut:i(697)}},function(e,t,i){e.exports=i(698)},function(e,t,i){var s=i(0),n=i(33),a=i(315),r=i(2),o=i(6),c=i(7),h=i(170),l=i(1),d=i(175),u=i(164),p=new s({initialize:function(e){void 0===e&&(e={}),this.width=o(e,"width",1024),this.height=o(e,"height",768),this.zoom=o(e,"zoom",1),this.resolution=o(e,"resolution",1),this.parent=o(e,"parent",void 0),this.scaleMode=o(e,"scaleMode",0),this.expandParent=o(e,"expandParent",!0),this.autoRound=o(e,"autoRound",!1),this.autoCenter=o(e,"autoCenter",0),this.resizeInterval=o(e,"resizeInterval",500),this.fullscreenTarget=o(e,"fullscreenTarget",null),this.minWidth=o(e,"minWidth",0),this.maxWidth=o(e,"maxWidth",0),this.minHeight=o(e,"minHeight",0),this.maxHeight=o(e,"maxHeight",0);var t=o(e,"scale",null);t&&(this.width=o(t,"width",this.width),this.height=o(t,"height",this.height),this.zoom=o(t,"zoom",this.zoom),this.resolution=o(t,"resolution",this.resolution),this.parent=o(t,"parent",this.parent),this.scaleMode=o(t,"mode",this.scaleMode),this.expandParent=o(t,"expandParent",this.expandParent),this.autoRound=o(t,"autoRound",this.autoRound),this.autoCenter=o(t,"autoCenter",this.autoCenter),this.resizeInterval=o(t,"resizeInterval",this.resizeInterval),this.fullscreenTarget=o(t,"fullscreenTarget",this.fullscreenTarget),this.minWidth=o(t,"min.width",this.minWidth),this.maxWidth=o(t,"max.width",this.maxWidth),this.minHeight=o(t,"min.height",this.minHeight),this.maxHeight=o(t,"max.height",this.maxHeight)),this.renderType=o(e,"type",n.AUTO),this.canvas=o(e,"canvas",null),this.context=o(e,"context",null),this.canvasStyle=o(e,"canvasStyle",null),this.customEnvironment=o(e,"customEnvironment",!1),this.sceneConfig=o(e,"scene",null),this.seed=o(e,"seed",[(Date.now()*Math.random()).toString()]),h.RND=new h.RandomDataGenerator(this.seed),this.gameTitle=o(e,"title",""),this.gameURL=o(e,"url","https://phaser.io"),this.gameVersion=o(e,"version",""),this.autoFocus=o(e,"autoFocus",!0),this.domCreateContainer=o(e,"dom.createContainer",!1),this.domBehindCanvas=o(e,"dom.behindCanvas",!1),this.inputKeyboard=o(e,"input.keyboard",!0),this.inputKeyboardEventTarget=o(e,"input.keyboard.target",window),this.inputKeyboardCapture=o(e,"input.keyboard.capture",[]),this.inputMouse=o(e,"input.mouse",!0),this.inputMouseEventTarget=o(e,"input.mouse.target",null),this.inputMouseCapture=o(e,"input.mouse.capture",!0),this.inputTouch=o(e,"input.touch",a.input.touch),this.inputTouchEventTarget=o(e,"input.touch.target",null),this.inputTouchCapture=o(e,"input.touch.capture",!0),this.inputActivePointers=o(e,"input.activePointers",1),this.inputSmoothFactor=o(e,"input.smoothFactor",0),this.inputWindowEvents=o(e,"input.windowEvents",!0),this.inputGamepad=o(e,"input.gamepad",!1),this.inputGamepadEventTarget=o(e,"input.gamepad.target",window),this.disableContextMenu=o(e,"disableContextMenu",!1),this.audio=o(e,"audio"),this.hideBanner=!1===o(e,"banner",null),this.hidePhaser=o(e,"banner.hidePhaser",!1),this.bannerTextColor=o(e,"banner.text","#ffffff"),this.bannerBackgroundColor=o(e,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=o(e,"fps",null);var i=o(e,"render",e);this.antialias=o(i,"antialias",!0),this.antialiasGL=o(i,"antialiasGL",!0),this.mipmapFilter=o(i,"mipmapFilter","LINEAR"),this.desynchronized=o(i,"desynchronized",!1),this.roundPixels=o(i,"roundPixels",!1),this.pixelArt=o(i,"pixelArt",1!==this.zoom),this.pixelArt&&(this.antialias=!1,this.roundPixels=!0),this.transparent=o(i,"transparent",!1),this.clearBeforeRender=o(i,"clearBeforeRender",!0),this.premultipliedAlpha=o(i,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=o(i,"failIfMajorPerformanceCaveat",!1),this.powerPreference=o(i,"powerPreference","default"),this.batchSize=o(i,"batchSize",2e3),this.maxLights=o(i,"maxLights",10);var s=o(e,"backgroundColor",0);this.backgroundColor=u(s),0===s&&this.transparent&&(this.backgroundColor.alpha=0),this.preBoot=o(e,"callbacks.preBoot",l),this.postBoot=o(e,"callbacks.postBoot",l),this.physics=o(e,"physics",{}),this.defaultPhysicsSystem=o(this.physics,"default",!1),this.loaderBaseURL=o(e,"loader.baseURL",""),this.loaderPath=o(e,"loader.path",""),this.loaderMaxParallelDownloads=o(e,"loader.maxParallelDownloads",32),this.loaderCrossOrigin=o(e,"loader.crossOrigin",void 0),this.loaderResponseType=o(e,"loader.responseType",""),this.loaderAsync=o(e,"loader.async",!0),this.loaderUser=o(e,"loader.user",""),this.loaderPassword=o(e,"loader.password",""),this.loaderTimeout=o(e,"loader.timeout",0),this.loaderWithCredentials=o(e,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var p=o(e,"plugins",null),f=d.DefaultScene;p&&(Array.isArray(p)?this.defaultPlugins=p:c(p)&&(this.installGlobalPlugins=r(p,"global",[]),this.installScenePlugins=r(p,"scene",[]),Array.isArray(p.default)?f=p.default:Array.isArray(p.defaultMerge)&&(f=f.concat(p.defaultMerge)))),this.defaultPlugins=f;var m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=o(e,"images.default",m+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=o(e,"images.missing",m+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),window&&(window.FORCE_WEBGL?this.renderType=n.WEBGL:window.FORCE_CANVAS&&(this.renderType=n.CANVAS))}});e.exports=p},function(e,t,i){e.exports={os:i(117),browser:i(118),features:i(169),input:i(730),audio:i(731),video:i(732),fullscreen:i(733),canvasFeatures:i(316)}},function(e,t,i){var s,n,a,r=i(26),o={supportInverseAlpha:!1,supportNewBlendModes:!1};e.exports=(void 0!==document&&(o.supportNewBlendModes=(s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",(a=new Image).onload=function(){var e=new Image;e.onload=function(){var t=r.create(e,6,1).getContext("2d");if(t.globalCompositeOperation="multiply",t.drawImage(a,0,0),t.drawImage(e,2,0),!t.getImageData(2,0,1,1))return!1;var i=t.getImageData(2,0,1,1).data;r.remove(e),o.supportNewBlendModes=255===i[0]&&0===i[1]&&0===i[2]},e.src=s+"/wCKxvRF"+n},a.src=s+"AP804Oa6"+n,!1),o.supportInverseAlpha=function(){var e=r.create(this,2,1).getContext("2d");e.fillStyle="rgba(10, 20, 30, 0.5)",e.fillRect(0,0,1,1);var t=e.getImageData(0,0,1,1);if(null===t)return!1;e.putImageData(t,1,0);var i=e.getImageData(1,0,1,1);return i.data[0]===t.data[0]&&i.data[1]===t.data[1]&&i.data[2]===t.data[2]&&i.data[3]===t.data[3]}()),o)},function(e,t){e.exports=function(e,t,i,s){return Math.atan2(s-t,i-e)}},function(e,t){e.exports=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}},function(e,t){e.exports=function(e){return(e%=2*Math.PI)>=0?e:e+2*Math.PI}},function(e,t){e.exports=function(e,t){var i=e.x-t.x,s=e.y-t.y;return Math.sqrt(i*i+s*s)}},function(e,t){e.exports=function(e,t,i,s){var n=e-i,a=t-s;return n*n+a*a}},function(e,t){e.exports=function(e,t,i){return void 0===i&&(i=1e-4),e>t-i}},function(e,t){e.exports=function(e,t,i){return void 0===i&&(i=1e-4),e<t+i}},function(e,t,i){var s=i(325);e.exports=function(e,t){return s(e)/s(t)/s(e-t)}},function(e,t){e.exports=function(e){if(0===e)return 1;for(var t=e;--e;)t*=e;return t}},function(e,t){e.exports=function(e,t,i,s,n){return function(e,t){var i=1-e;return i*i*i*t}(e,t)+function(e,t){var i=1-e;return 3*i*i*e*t}(e,i)+function(e,t){return 3*(1-e)*e*e*t}(e,s)+function(e,t){return e*e*e*t}(e,n)}},function(e,t){e.exports=function(e,t,i,s){return function(e,t){var i=1-e;return i*i*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,i)+function(e,t){return e*e*t}(e,s)}},function(e,t,i){var s=i(161);e.exports=function(e,t,i){return t+(i-t)*s(e,0,1)}},function(e,t){e.exports=function(e){var t=Math.log(e)/.6931471805599453;return 1<<Math.ceil(t)}},function(e,t){e.exports=function(e,t,i,s){return void 0===i&&(i=0),0===t?e:(e-=i,e=t*Math.ceil(e/t),s?(i+e)/t:i+e)}},function(e,t){e.exports=function(e,t){var i=e.x,s=e.y;return e.x=i*Math.cos(t)-s*Math.sin(t),e.y=i*Math.sin(t)+s*Math.cos(t),e}},function(e,t){e.exports=function(e){return e>0?Math.ceil(e):Math.floor(e)}},function(e,t,i){var s=i(3);e.exports=function(e,t,i,n,a,r,o,c){void 0===c&&(c=new s);var h=Math.sin(a),l=Math.cos(a),d=l*r,u=h*r,p=-h*o,f=l*o,m=1/(d*f+p*-u);return c.x=f*m*e+-p*m*t+(n*p-i*f)*m,c.y=d*m*t+-u*m*e+(-n*d+i*u)*m,c}},function(e,t,i){var s=new(i(0))({initialize:function(e,t,i,s){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=i||0,this.w=s||0)},clone:function(){return new s(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z||0,this.w=e.w||0,this},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z&&this.w===e.w},set:function(e,t,i,s){return"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=i||0,this.w=s||0),this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this.w+=e.w||0,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z||0,this.w-=e.w||0,this},scale:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},length:function(){var e=this.x,t=this.y,i=this.z,s=this.w;return Math.sqrt(e*e+t*t+i*i+s*s)},lengthSq:function(){var e=this.x,t=this.y,i=this.z,s=this.w;return e*e+t*t+i*i+s*s},normalize:function(){var e=this.x,t=this.y,i=this.z,s=this.w,n=e*e+t*t+i*i+s*s;return n>0&&(n=1/Math.sqrt(n),this.x=e*n,this.y=t*n,this.z=i*n,this.w=s*n),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,s=this.y,n=this.z,a=this.w;return this.x=i+t*(e.x-i),this.y=s+t*(e.y-s),this.z=n+t*(e.z-n),this.w=a+t*(e.w-a),this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z||1,this.w*=e.w||1,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z||1,this.w/=e.w||1,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y,s=e.z-this.z||0,n=e.w-this.w||0;return Math.sqrt(t*t+i*i+s*s+n*n)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y,s=e.z-this.z||0,n=e.w-this.w||0;return t*t+i*i+s*s+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(e){var t=this.x,i=this.y,s=this.z,n=this.w,a=e.val;return this.x=a[0]*t+a[4]*i+a[8]*s+a[12]*n,this.y=a[1]*t+a[5]*i+a[9]*s+a[13]*n,this.z=a[2]*t+a[6]*i+a[10]*s+a[14]*n,this.w=a[3]*t+a[7]*i+a[11]*s+a[15]*n,this},transformQuat:function(e){var t=this.x,i=this.y,s=this.z,n=e.x,a=e.y,r=e.z,o=e.w,c=o*t+a*s-r*i,h=o*i+r*t-n*s,l=o*s+n*i-a*t,d=-n*t-a*i-r*s;return this.x=c*o+d*-n+h*-r-l*-a,this.y=h*o+d*-a+l*-n-c*-r,this.z=l*o+d*-r+c*-a-h*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});s.prototype.sub=s.prototype.subtract,s.prototype.mul=s.prototype.multiply,s.prototype.div=s.prototype.divide,s.prototype.dist=s.prototype.distance,s.prototype.distSq=s.prototype.distanceSq,s.prototype.len=s.prototype.length,s.prototype.lenSq=s.prototype.lengthSq,e.exports=s},function(e,t,i){var s=new(i(0))({initialize:function(e){this.val=new Float32Array(9),e?this.copy(e):this.identity()},clone:function(){return new s(this)},set:function(e){return this.copy(e)},copy:function(e){var t=this.val,i=e.val;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this},fromMat4:function(e){var t=e.val,i=this.val;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[4],i[4]=t[5],i[5]=t[6],i[6]=t[8],i[7]=t[9],i[8]=t[10],this},fromArray:function(e){var t=this.val;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},identity:function(){var e=this.val;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,this},transpose:function(){var e=this.val,t=e[1],i=e[2],s=e[5];return e[1]=e[3],e[2]=e[6],e[3]=t,e[5]=e[7],e[6]=i,e[7]=s,this},invert:function(){var e=this.val,t=e[0],i=e[1],s=e[2],n=e[3],a=e[4],r=e[5],o=e[6],c=e[7],h=e[8],l=h*a-r*c,d=-h*n+r*o,u=c*n-a*o,p=t*l+i*d+s*u;return p?(p=1/p,e[0]=l*p,e[1]=(-h*i+s*c)*p,e[2]=(r*i-s*a)*p,e[3]=d*p,e[4]=(h*t-s*o)*p,e[5]=(-r*t+s*n)*p,e[6]=u*p,e[7]=(-c*t+i*o)*p,e[8]=(a*t-i*n)*p,this):null},adjoint:function(){var e=this.val,t=e[0],i=e[1],s=e[2],n=e[3],a=e[4],r=e[5],o=e[6],c=e[7],h=e[8];return e[0]=a*h-r*c,e[1]=s*c-i*h,e[2]=i*r-s*a,e[3]=r*o-n*h,e[4]=t*h-s*o,e[5]=s*n-t*r,e[6]=n*c-a*o,e[7]=i*o-t*c,e[8]=t*a-i*n,this},determinant:function(){var e=this.val,t=e[0],i=e[1],s=e[2],n=e[3],a=e[4],r=e[5],o=e[6],c=e[7],h=e[8];return t*(h*a-r*c)+i*(-h*n+r*o)+s*(c*n-a*o)},multiply:function(e){var t=this.val,i=t[0],s=t[1],n=t[2],a=t[3],r=t[4],o=t[5],c=t[6],h=t[7],l=t[8],d=e.val,u=d[0],p=d[1],f=d[2],m=d[3],g=d[4],y=d[5],v=d[6],w=d[7],b=d[8];return t[0]=u*i+p*a+f*c,t[1]=u*s+p*r+f*h,t[2]=u*n+p*o+f*l,t[3]=m*i+g*a+y*c,t[4]=m*s+g*r+y*h,t[5]=m*n+g*o+y*l,t[6]=v*i+w*a+b*c,t[7]=v*s+w*r+b*h,t[8]=v*n+w*o+b*l,this},translate:function(e){var t=this.val,i=e.x,s=e.y;return t[6]=i*t[0]+s*t[3]+t[6],t[7]=i*t[1]+s*t[4]+t[7],t[8]=i*t[2]+s*t[5]+t[8],this},rotate:function(e){var t=this.val,i=t[0],s=t[1],n=t[2],a=t[3],r=t[4],o=t[5],c=Math.sin(e),h=Math.cos(e);return t[0]=h*i+c*a,t[1]=h*s+c*r,t[2]=h*n+c*o,t[3]=h*a-c*i,t[4]=h*r-c*s,t[5]=h*o-c*n,this},scale:function(e){var t=this.val,i=e.x,s=e.y;return t[0]=i*t[0],t[1]=i*t[1],t[2]=i*t[2],t[3]=s*t[3],t[4]=s*t[4],t[5]=s*t[5],this},fromQuat:function(e){var t=e.x,i=e.y,s=e.z,n=e.w,a=t+t,r=i+i,o=s+s,c=t*a,h=t*r,l=t*o,d=i*r,u=i*o,p=s*o,f=n*a,m=n*r,g=n*o,y=this.val;return y[0]=1-(d+p),y[3]=h+g,y[6]=l-m,y[1]=h-g,y[4]=1-(c+p),y[7]=u+f,y[2]=l+m,y[5]=u-f,y[8]=1-(c+d),this},normalFromMat4:function(e){var t=e.val,i=this.val,s=t[0],n=t[1],a=t[2],r=t[3],o=t[4],c=t[5],h=t[6],l=t[7],d=t[8],u=t[9],p=t[10],f=t[11],m=t[12],g=t[13],y=t[14],v=t[15],w=s*c-n*o,b=s*h-a*o,x=s*l-r*o,k=n*h-a*c,T=n*l-r*c,_=a*l-r*h,S=d*g-u*m,C=d*y-p*m,P=d*v-f*m,B=u*y-p*g,A=u*v-f*g,E=p*v-f*y,M=w*E-b*A+x*B+k*P-T*C+_*S;return M?(M=1/M,i[0]=(c*E-h*A+l*B)*M,i[1]=(h*P-o*E-l*C)*M,i[2]=(o*A-c*P+l*S)*M,i[3]=(a*A-n*E-r*B)*M,i[4]=(s*E-a*P+r*C)*M,i[5]=(n*P-s*A-r*S)*M,i[6]=(g*_-y*T+v*k)*M,i[7]=(y*x-m*_-v*b)*M,i[8]=(m*T-g*x+v*w)*M,this):null}});e.exports=s},function(e,t,i){var s=i(0),n=new s({initialize:function(e){this.val=new Float32Array(16),e?this.copy(e):this.identity()},clone:function(){return new n(this)},set:function(e){return this.copy(e)},copy:function(e){var t=this.val,i=e.val;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this},fromArray:function(e){var t=this.val;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this},zero:function(){var e=this.val;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=0,this},xyz:function(e,t,i){this.identity();var s=this.val;return s[12]=e,s[13]=t,s[14]=i,this},scaling:function(e,t,i){this.zero();var s=this.val;return s[0]=e,s[5]=t,s[10]=i,s[15]=1,this},identity:function(){var e=this.val;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},transpose:function(){var e=this.val,t=e[1],i=e[2],s=e[3],n=e[6],a=e[7],r=e[11];return e[1]=e[4],e[2]=e[8],e[3]=e[12],e[4]=t,e[6]=e[9],e[7]=e[13],e[8]=i,e[9]=n,e[11]=e[14],e[12]=s,e[13]=a,e[14]=r,this},invert:function(){var e=this.val,t=e[0],i=e[1],s=e[2],n=e[3],a=e[4],r=e[5],o=e[6],c=e[7],h=e[8],l=e[9],d=e[10],u=e[11],p=e[12],f=e[13],m=e[14],g=e[15],y=t*r-i*a,v=t*o-s*a,w=t*c-n*a,b=i*o-s*r,x=i*c-n*r,k=s*c-n*o,T=h*f-l*p,_=h*m-d*p,S=h*g-u*p,C=l*m-d*f,P=l*g-u*f,B=d*g-u*m,A=y*B-v*P+w*C+b*S-x*_+k*T;return A?(A=1/A,e[0]=(r*B-o*P+c*C)*A,e[1]=(s*P-i*B-n*C)*A,e[2]=(f*k-m*x+g*b)*A,e[3]=(d*x-l*k-u*b)*A,e[4]=(o*S-a*B-c*_)*A,e[5]=(t*B-s*S+n*_)*A,e[6]=(m*w-p*k-g*v)*A,e[7]=(h*k-d*w+u*v)*A,e[8]=(a*P-r*S+c*T)*A,e[9]=(i*S-t*P-n*T)*A,e[10]=(p*x-f*w+g*y)*A,e[11]=(l*w-h*x-u*y)*A,e[12]=(r*_-a*C-o*T)*A,e[13]=(t*C-i*_+s*T)*A,e[14]=(f*v-p*b-m*y)*A,e[15]=(h*b-l*v+d*y)*A,this):null},adjoint:function(){var e=this.val,t=e[0],i=e[1],s=e[2],n=e[3],a=e[4],r=e[5],o=e[6],c=e[7],h=e[8],l=e[9],d=e[10],u=e[11],p=e[12],f=e[13],m=e[14],g=e[15];return e[0]=r*(d*g-u*m)-l*(o*g-c*m)+f*(o*u-c*d),e[1]=-(i*(d*g-u*m)-l*(s*g-n*m)+f*(s*u-n*d)),e[2]=i*(o*g-c*m)-r*(s*g-n*m)+f*(s*c-n*o),e[3]=-(i*(o*u-c*d)-r*(s*u-n*d)+l*(s*c-n*o)),e[4]=-(a*(d*g-u*m)-h*(o*g-c*m)+p*(o*u-c*d)),e[5]=t*(d*g-u*m)-h*(s*g-n*m)+p*(s*u-n*d),e[6]=-(t*(o*g-c*m)-a*(s*g-n*m)+p*(s*c-n*o)),e[7]=t*(o*u-c*d)-a*(s*u-n*d)+h*(s*c-n*o),e[8]=a*(l*g-u*f)-h*(r*g-c*f)+p*(r*u-c*l),e[9]=-(t*(l*g-u*f)-h*(i*g-n*f)+p*(i*u-n*l)),e[10]=t*(r*g-c*f)-a*(i*g-n*f)+p*(i*c-n*r),e[11]=-(t*(r*u-c*l)-a*(i*u-n*l)+h*(i*c-n*r)),e[12]=-(a*(l*m-d*f)-h*(r*m-o*f)+p*(r*d-o*l)),e[13]=t*(l*m-d*f)-h*(i*m-s*f)+p*(i*d-s*l),e[14]=-(t*(r*m-o*f)-a*(i*m-s*f)+p*(i*o-s*r)),e[15]=t*(r*d-o*l)-a*(i*d-s*l)+h*(i*o-s*r),this},determinant:function(){var e=this.val,t=e[0],i=e[1],s=e[2],n=e[3],a=e[4],r=e[5],o=e[6],c=e[7],h=e[8],l=e[9],d=e[10],u=e[11],p=e[12],f=e[13],m=e[14],g=e[15];return(t*r-i*a)*(d*g-u*m)-(t*o-s*a)*(l*g-u*f)+(t*c-n*a)*(l*m-d*f)+(i*o-s*r)*(h*g-u*p)-(i*c-n*r)*(h*m-d*p)+(s*c-n*o)*(h*f-l*p)},multiply:function(e){var t=this.val,i=t[0],s=t[1],n=t[2],a=t[3],r=t[4],o=t[5],c=t[6],h=t[7],l=t[8],d=t[9],u=t[10],p=t[11],f=t[12],m=t[13],g=t[14],y=t[15],v=e.val,w=v[0],b=v[1],x=v[2],k=v[3];return t[0]=w*i+b*r+x*l+k*f,t[1]=w*s+b*o+x*d+k*m,t[2]=w*n+b*c+x*u+k*g,t[3]=w*a+b*h+x*p+k*y,w=v[4],b=v[5],x=v[6],k=v[7],t[4]=w*i+b*r+x*l+k*f,t[5]=w*s+b*o+x*d+k*m,t[6]=w*n+b*c+x*u+k*g,t[7]=w*a+b*h+x*p+k*y,w=v[8],b=v[9],x=v[10],k=v[11],t[8]=w*i+b*r+x*l+k*f,t[9]=w*s+b*o+x*d+k*m,t[10]=w*n+b*c+x*u+k*g,t[11]=w*a+b*h+x*p+k*y,w=v[12],b=v[13],x=v[14],k=v[15],t[12]=w*i+b*r+x*l+k*f,t[13]=w*s+b*o+x*d+k*m,t[14]=w*n+b*c+x*u+k*g,t[15]=w*a+b*h+x*p+k*y,this},multiplyLocal:function(e){var t=[],i=this.val,s=e.val;return t[0]=i[0]*s[0]+i[1]*s[4]+i[2]*s[8]+i[3]*s[12],t[1]=i[0]*s[1]+i[1]*s[5]+i[2]*s[9]+i[3]*s[13],t[2]=i[0]*s[2]+i[1]*s[6]+i[2]*s[10]+i[3]*s[14],t[3]=i[0]*s[3]+i[1]*s[7]+i[2]*s[11]+i[3]*s[15],t[4]=i[4]*s[0]+i[5]*s[4]+i[6]*s[8]+i[7]*s[12],t[5]=i[4]*s[1]+i[5]*s[5]+i[6]*s[9]+i[7]*s[13],t[6]=i[4]*s[2]+i[5]*s[6]+i[6]*s[10]+i[7]*s[14],t[7]=i[4]*s[3]+i[5]*s[7]+i[6]*s[11]+i[7]*s[15],t[8]=i[8]*s[0]+i[9]*s[4]+i[10]*s[8]+i[11]*s[12],t[9]=i[8]*s[1]+i[9]*s[5]+i[10]*s[9]+i[11]*s[13],t[10]=i[8]*s[2]+i[9]*s[6]+i[10]*s[10]+i[11]*s[14],t[11]=i[8]*s[3]+i[9]*s[7]+i[10]*s[11]+i[11]*s[15],t[12]=i[12]*s[0]+i[13]*s[4]+i[14]*s[8]+i[15]*s[12],t[13]=i[12]*s[1]+i[13]*s[5]+i[14]*s[9]+i[15]*s[13],t[14]=i[12]*s[2]+i[13]*s[6]+i[14]*s[10]+i[15]*s[14],t[15]=i[12]*s[3]+i[13]*s[7]+i[14]*s[11]+i[15]*s[15],this.fromArray(t)},translate:function(e){var t=e.x,i=e.y,s=e.z,n=this.val;return n[12]=n[0]*t+n[4]*i+n[8]*s+n[12],n[13]=n[1]*t+n[5]*i+n[9]*s+n[13],n[14]=n[2]*t+n[6]*i+n[10]*s+n[14],n[15]=n[3]*t+n[7]*i+n[11]*s+n[15],this},translateXYZ:function(e,t,i){var s=this.val;return s[12]=s[0]*e+s[4]*t+s[8]*i+s[12],s[13]=s[1]*e+s[5]*t+s[9]*i+s[13],s[14]=s[2]*e+s[6]*t+s[10]*i+s[14],s[15]=s[3]*e+s[7]*t+s[11]*i+s[15],this},scale:function(e){var t=e.x,i=e.y,s=e.z,n=this.val;return n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*t,n[3]=n[3]*t,n[4]=n[4]*i,n[5]=n[5]*i,n[6]=n[6]*i,n[7]=n[7]*i,n[8]=n[8]*s,n[9]=n[9]*s,n[10]=n[10]*s,n[11]=n[11]*s,this},scaleXYZ:function(e,t,i){var s=this.val;return s[0]=s[0]*e,s[1]=s[1]*e,s[2]=s[2]*e,s[3]=s[3]*e,s[4]=s[4]*t,s[5]=s[5]*t,s[6]=s[6]*t,s[7]=s[7]*t,s[8]=s[8]*i,s[9]=s[9]*i,s[10]=s[10]*i,s[11]=s[11]*i,this},makeRotationAxis:function(e,t){var i=Math.cos(t),s=Math.sin(t),n=1-i,a=e.x,r=e.y,o=e.z,c=n*a,h=n*r;return this.fromArray([c*a+i,c*r-s*o,c*o+s*r,0,c*r+s*o,h*r+i,h*o-s*a,0,c*o-s*r,h*o+s*a,n*o*o+i,0,0,0,0,1]),this},rotate:function(e,t){var i=this.val,s=t.x,n=t.y,a=t.z,r=Math.sqrt(s*s+n*n+a*a);if(Math.abs(r)<1e-6)return null;s*=r=1/r,n*=r,a*=r;var o=Math.sin(e),c=Math.cos(e),h=1-c,l=i[0],d=i[1],u=i[2],p=i[3],f=i[4],m=i[5],g=i[6],y=i[7],v=i[8],w=i[9],b=i[10],x=i[11],k=s*s*h+c,T=n*s*h+a*o,_=a*s*h-n*o,S=s*n*h-a*o,C=n*n*h+c,P=a*n*h+s*o,B=s*a*h+n*o,A=n*a*h-s*o,E=a*a*h+c;return i[0]=l*k+f*T+v*_,i[1]=d*k+m*T+w*_,i[2]=u*k+g*T+b*_,i[3]=p*k+y*T+x*_,i[4]=l*S+f*C+v*P,i[5]=d*S+m*C+w*P,i[6]=u*S+g*C+b*P,i[7]=p*S+y*C+x*P,i[8]=l*B+f*A+v*E,i[9]=d*B+m*A+w*E,i[10]=u*B+g*A+b*E,i[11]=p*B+y*A+x*E,this},rotateX:function(e){var t=this.val,i=Math.sin(e),s=Math.cos(e),n=t[4],a=t[5],r=t[6],o=t[7],c=t[8],h=t[9],l=t[10],d=t[11];return t[4]=n*s+c*i,t[5]=a*s+h*i,t[6]=r*s+l*i,t[7]=o*s+d*i,t[8]=c*s-n*i,t[9]=h*s-a*i,t[10]=l*s-r*i,t[11]=d*s-o*i,this},rotateY:function(e){var t=this.val,i=Math.sin(e),s=Math.cos(e),n=t[0],a=t[1],r=t[2],o=t[3],c=t[8],h=t[9],l=t[10],d=t[11];return t[0]=n*s-c*i,t[1]=a*s-h*i,t[2]=r*s-l*i,t[3]=o*s-d*i,t[8]=n*i+c*s,t[9]=a*i+h*s,t[10]=r*i+l*s,t[11]=o*i+d*s,this},rotateZ:function(e){var t=this.val,i=Math.sin(e),s=Math.cos(e),n=t[0],a=t[1],r=t[2],o=t[3],c=t[4],h=t[5],l=t[6],d=t[7];return t[0]=n*s+c*i,t[1]=a*s+h*i,t[2]=r*s+l*i,t[3]=o*s+d*i,t[4]=c*s-n*i,t[5]=h*s-a*i,t[6]=l*s-r*i,t[7]=d*s-o*i,this},fromRotationTranslation:function(e,t){var i=this.val,s=e.x,n=e.y,a=e.z,r=e.w,o=s+s,c=n+n,h=a+a,l=s*o,d=s*c,u=s*h,p=n*c,f=n*h,m=a*h,g=r*o,y=r*c,v=r*h;return i[0]=1-(p+m),i[1]=d+v,i[2]=u-y,i[3]=0,i[4]=d-v,i[5]=1-(l+m),i[6]=f+g,i[7]=0,i[8]=u+y,i[9]=f-g,i[10]=1-(l+p),i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this},fromQuat:function(e){var t=this.val,i=e.x,s=e.y,n=e.z,a=e.w,r=i+i,o=s+s,c=n+n,h=i*r,l=i*o,d=i*c,u=s*o,p=s*c,f=n*c,m=a*r,g=a*o,y=a*c;return t[0]=1-(u+f),t[1]=l+y,t[2]=d-g,t[3]=0,t[4]=l-y,t[5]=1-(h+f),t[6]=p+m,t[7]=0,t[8]=d+g,t[9]=p-m,t[10]=1-(h+u),t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},frustum:function(e,t,i,s,n,a){var r=this.val,o=1/(t-e),c=1/(s-i),h=1/(n-a);return r[0]=2*n*o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2*n*c,r[6]=0,r[7]=0,r[8]=(t+e)*o,r[9]=(s+i)*c,r[10]=(a+n)*h,r[11]=-1,r[12]=0,r[13]=0,r[14]=a*n*2*h,r[15]=0,this},perspective:function(e,t,i,s){var n=this.val,a=1/Math.tan(e/2),r=1/(i-s);return n[0]=a/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(s+i)*r,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*s*i*r,n[15]=0,this},perspectiveLH:function(e,t,i,s){var n=this.val;return n[0]=2*i/e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*i/t,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=-s/(i-s),n[11]=1,n[12]=0,n[13]=0,n[14]=i*s/(i-s),n[15]=0,this},ortho:function(e,t,i,s,n,a){var r=this.val,o=e-t,c=i-s,h=n-a;return o=0===o?o:1/o,c=0===c?c:1/c,h=0===h?h:1/h,r[0]=-2*o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*c,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*h,r[11]=0,r[12]=(e+t)*o,r[13]=(s+i)*c,r[14]=(a+n)*h,r[15]=1,this},lookAt:function(e,t,i){var s=this.val,n=e.x,a=e.y,r=e.z,o=i.x,c=i.y,h=i.z,l=t.x,d=t.y,u=t.z;if(Math.abs(n-l)<1e-6&&Math.abs(a-d)<1e-6&&Math.abs(r-u)<1e-6)return this.identity();var p=n-l,f=a-d,m=r-u,g=1/Math.sqrt(p*p+f*f+m*m),y=c*(m*=g)-h*(f*=g),v=h*(p*=g)-o*m,w=o*f-c*p;(g=Math.sqrt(y*y+v*v+w*w))?(y*=g=1/g,v*=g,w*=g):(y=0,v=0,w=0);var b=f*w-m*v,x=m*y-p*w,k=p*v-f*y;return(g=Math.sqrt(b*b+x*x+k*k))?(b*=g=1/g,x*=g,k*=g):(b=0,x=0,k=0),s[0]=y,s[1]=b,s[2]=p,s[3]=0,s[4]=v,s[5]=x,s[6]=f,s[7]=0,s[8]=w,s[9]=k,s[10]=m,s[11]=0,s[12]=-(y*n+v*a+w*r),s[13]=-(b*n+x*a+k*r),s[14]=-(p*n+f*a+m*r),s[15]=1,this},yawPitchRoll:function(e,t,i){this.zero(),a.zero(),r.zero();var s=this.val,n=a.val,o=r.val,c=Math.sin(i),h=Math.cos(i);return s[10]=1,s[15]=1,s[0]=h,s[1]=c,s[4]=-c,s[5]=h,c=Math.sin(t),h=Math.cos(t),n[0]=1,n[15]=1,n[5]=h,n[10]=h,n[9]=-c,n[6]=c,c=Math.sin(e),h=Math.cos(e),o[5]=1,o[15]=1,o[0]=h,o[2]=-c,o[8]=c,o[10]=h,this.multiplyLocal(a),this.multiplyLocal(r),this},setWorldMatrix:function(e,t,i,s,n){return this.yawPitchRoll(e.y,e.x,e.z),a.scaling(i.x,i.y,i.z),r.xyz(t.x,t.y,t.z),this.multiplyLocal(a),this.multiplyLocal(r),void 0!==s&&this.multiplyLocal(s),void 0!==n&&this.multiplyLocal(n),this}}),a=new n,r=new n;e.exports=n},function(e,t,i){var s=i(0),n=i(174),a=i(335),r=new Int8Array([1,2,0]),o=new Float32Array([0,0,0]),c=new n(1,0,0),h=new n(0,1,0),l=new n,d=new a,u=new s({initialize:function(e,t,i,s){"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=i||0,this.w=s||0)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},set:function(e,t,i,s){return"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=i||0,this.w=s||0),this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this},scale:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},length:function(){var e=this.x,t=this.y,i=this.z,s=this.w;return Math.sqrt(e*e+t*t+i*i+s*s)},lengthSq:function(){var e=this.x,t=this.y,i=this.z,s=this.w;return e*e+t*t+i*i+s*s},normalize:function(){var e=this.x,t=this.y,i=this.z,s=this.w,n=e*e+t*t+i*i+s*s;return n>0&&(n=1/Math.sqrt(n),this.x=e*n,this.y=t*n,this.z=i*n,this.w=s*n),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,s=this.y,n=this.z,a=this.w;return this.x=i+t*(e.x-i),this.y=s+t*(e.y-s),this.z=n+t*(e.z-n),this.w=a+t*(e.w-a),this},rotationTo:function(e,t){var i=e.x*t.x+e.y*t.y+e.z*t.z;return i<-.999999?(l.copy(c).cross(e).length()<1e-6&&l.copy(h).cross(e),l.normalize(),this.setAxisAngle(l,Math.PI)):i>.999999?(this.x=0,this.y=0,this.z=0,this.w=1,this):(l.copy(e).cross(t),this.x=l.x,this.y=l.y,this.z=l.z,this.w=1+i,this.normalize())},setAxes:function(e,t,i){var s=d.val;return s[0]=t.x,s[3]=t.y,s[6]=t.z,s[1]=i.x,s[4]=i.y,s[7]=i.z,s[2]=-e.x,s[5]=-e.y,s[8]=-e.z,this.fromMat3(d).normalize()},identity:function(){return this.x=0,this.y=0,this.z=0,this.w=1,this},setAxisAngle:function(e,t){t*=.5;var i=Math.sin(t);return this.x=i*e.x,this.y=i*e.y,this.z=i*e.z,this.w=Math.cos(t),this},multiply:function(e){var t=this.x,i=this.y,s=this.z,n=this.w,a=e.x,r=e.y,o=e.z,c=e.w;return this.x=t*c+n*a+i*o-s*r,this.y=i*c+n*r+s*a-t*o,this.z=s*c+n*o+t*r-i*a,this.w=n*c-t*a-i*r-s*o,this},slerp:function(e,t){var i=this.x,s=this.y,n=this.z,a=this.w,r=e.x,o=e.y,c=e.z,h=e.w,l=i*r+s*o+n*c+a*h;l<0&&(l=-l,r=-r,o=-o,c=-c,h=-h);var d=1-t,u=t;if(1-l>1e-6){var p=Math.acos(l),f=Math.sin(p);d=Math.sin((1-t)*p)/f,u=Math.sin(t*p)/f}return this.x=d*i+u*r,this.y=d*s+u*o,this.z=d*n+u*c,this.w=d*a+u*h,this},invert:function(){var e=this.x,t=this.y,i=this.z,s=this.w,n=e*e+t*t+i*i+s*s,a=n?1/n:0;return this.x=-e*a,this.y=-t*a,this.z=-i*a,this.w=s*a,this},conjugate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},rotateX:function(e){e*=.5;var t=this.x,i=this.y,s=this.z,n=this.w,a=Math.sin(e),r=Math.cos(e);return this.x=t*r+n*a,this.y=i*r+s*a,this.z=s*r-i*a,this.w=n*r-t*a,this},rotateY:function(e){e*=.5;var t=this.x,i=this.y,s=this.z,n=this.w,a=Math.sin(e),r=Math.cos(e);return this.x=t*r-s*a,this.y=i*r+n*a,this.z=s*r+t*a,this.w=n*r-i*a,this},rotateZ:function(e){e*=.5;var t=this.x,i=this.y,s=this.z,n=this.w,a=Math.sin(e),r=Math.cos(e);return this.x=t*r+i*a,this.y=i*r-t*a,this.z=s*r+n*a,this.w=n*r-s*a,this},calculateW:function(){var e=this.x,t=this.y,i=this.z;return this.w=-Math.sqrt(1-e*e-t*t-i*i),this},fromMat3:function(e){var t,i=e.val,s=i[0]+i[4]+i[8];if(s>0)t=Math.sqrt(s+1),this.w=.5*t,t=.5/t,this.x=(i[7]-i[5])*t,this.y=(i[2]-i[6])*t,this.z=(i[3]-i[1])*t;else{var n=0;i[4]>i[0]&&(n=1),i[8]>i[3*n+n]&&(n=2);var a=r[n],c=r[a];t=Math.sqrt(i[3*n+n]-i[3*a+a]-i[3*c+c]+1),o[n]=.5*t,t=.5/t,o[a]=(i[3*a+n]+i[3*n+a])*t,o[c]=(i[3*c+n]+i[3*n+c])*t,this.x=o[0],this.y=o[1],this.z=o[2],this.w=(i[3*c+a]-i[3*a+c])*t}return this}});e.exports=u},function(e,t,i){var s=i(339),n=i(26),a=i(33),r=i(169);e.exports=function(e){var t=e.config;if((t.customEnvironment||t.canvas)&&t.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!t.customEnvironment&&!t.canvas&&t.renderType!==a.HEADLESS)if(t.renderType===a.CANVAS||t.renderType!==a.CANVAS&&!r.webGL){if(!r.canvas)throw new Error("Cannot create Canvas or WebGL context, aborting.");t.renderType=a.CANVAS}else t.renderType=a.WEBGL;t.antialias||n.disableSmoothing();var o,c,h=e.scale.baseSize,l=h.width,d=h.height;t.canvas?(e.canvas=t.canvas,e.canvas.width=l,e.canvas.height=d):e.canvas=n.create(e,l,d,t.renderType),t.canvasStyle&&(e.canvas.style=t.canvasStyle),t.antialias||s.setCrisp(e.canvas),t.renderType!==a.HEADLESS&&(o=i(505),c=i(508),t.renderType===a.WEBGL?e.renderer=new c(e):(e.renderer=new o(e),e.context=e.renderer.gameContext))}},function(e,t){e.exports={setCrisp:function(e){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach((function(t){e.style["image-rendering"]=t})),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}}},function(e,t){e.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.rgb * outTint.a, outTint.a);","    vec4 color = texture;","","    if (outTintEffect == 0.0)","    {","        //  Multiply texture tint","        color = texture * texel;","    }","    else if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.rgb * outTint.a, texture.a);","        color.a = texture.a * texel.a;","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uModelMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}","",""].join("\n")},function(e,t,i){var s=i(33);e.exports=function(e){var t=e.config;if(!t.hideBanner){var i="WebGL";t.renderType===s.CANVAS?i="Canvas":t.renderType===s.HEADLESS&&(i="Headless");var n,a=t.audio,r=e.device.audio;if(n=!r.webAudio||a&&a.disableWebAudio?a&&a.noAudio||!r.webAudio&&!r.audioData?"No Audio":"HTML5 Audio":"Web Audio",e.device.browser.ie)window.console&&console.log("Phaser v"+s.VERSION+" / https://phaser.io");else{var o,c="",h=[c];Array.isArray(t.bannerBackgroundColor)?(t.bannerBackgroundColor.forEach((function(e){c=c.concat("%c "),h.push("background: "+e),o=e})),h[h.length-1]="color: "+t.bannerTextColor+"; background: "+o):(c=c.concat("%c "),h.push("color: "+t.bannerTextColor+"; background: "+t.bannerBackgroundColor)),h.push("background: #fff"),t.gameTitle&&(c=c.concat(t.gameTitle),t.gameVersion&&(c=c.concat(" v"+t.gameVersion)),t.hidePhaser||(c=c.concat(" / "))),t.hidePhaser||(c=c.concat("Phaser v"+s.VERSION+" ("+i+" | "+n+")")),c=c.concat(" %c "+t.gameURL),h[0]=c,console.log.apply(console,h)}}}},function(e,t,i){var s=i(0),n=i(6),a=i(1),r=i(344),o=new s({initialize:function(e,t){this.game=e,this.raf=new r,this.started=!1,this.running=!1,this.minFps=n(t,"min",5),this.targetFps=n(t,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=n(t,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=n(t,"deltaHistory",10),this.panicMax=n(t,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=n(t,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var t=0;t<this.deltaSmoothingMax;t++)this.deltaHistory[t]=Math.min(this._target,this.deltaHistory[t]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var t=0;t<this.deltaSmoothingMax;t++)this.deltaHistory[t]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var e=window.performance.now();this.now=e;var t=e-this.lastTime;t<0&&(t=0),this.rawDelta=t;var i=this.deltaIndex,s=this.deltaHistory,n=this.deltaSmoothingMax,a=t,r=t;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=s[i],a=Math.min(a,this._min)),s[i]=a,this.deltaIndex++,this.deltaIndex>n&&(this.deltaIndex=0),r=0;for(var o=0;o<n;o++)r+=s[o];r/=n}this.delta=r,this.time+=this.rawDelta,e>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0),this.framesThisSecond++;var c=r/this._target;this.callback(e,r,c),this.lastTime=e,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){this.running||(e&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=a,this.raf=null,this.game=null}});e.exports=o},function(e,t,i){var s=i(0),n=i(1),a=new s({initialize:function(){this.isRunning=!1,this.callback=n,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var e=this;this.step=function t(){var i=window.performance.now();e.lastTime=e.tick,e.tick=i,e.callback(i),e.timeOutID=window.requestAnimationFrame(t)},this.stepTimeout=function t(){var i=Date.now(),s=Math.min(Math.max(2*e.target+e.tick-i,0),e.target);e.lastTime=e.tick,e.tick=i,e.callback(i),e.timeOutID=window.setTimeout(t,s)}},start:function(e,t,i){this.isRunning||(this.callback=e,this.isSetTimeOut=t,this.target=i,this.isRunning=!0,this.timeOutID=t?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=n}});e.exports=a},function(e,t,i){var s=i(20);e.exports=function(e){var t,i=e.events;void 0!==document.hidden?t="visibilitychange":["webkit","moz","ms"].forEach((function(e){void 0!==document[e+"Hidden"]&&(document.hidden=function(){return document[e+"Hidden"]},t=e+"visibilitychange")})),t&&document.addEventListener(t,(function(e){document.hidden||"pause"===e.type?i.emit(s.HIDDEN):i.emit(s.VISIBLE)}),!1),window.onblur=function(){i.emit(s.BLUR)},window.onfocus=function(){i.emit(s.FOCUS)},window.focus&&e.config.autoFocus&&window.focus()}},function(e,t,i){var s=i(347),n=i(26),a=i(6);e.exports=function(e){var t=a(e,"data",[]),i=a(e,"canvas",null),r=a(e,"palette",s),o=a(e,"pixelWidth",1),c=a(e,"pixelHeight",o),h=a(e,"resizeCanvas",!0),l=a(e,"clearCanvas",!0),d=a(e,"preRender",null),u=a(e,"postRender",null),p=Math.floor(Math.abs(t[0].length*o)),f=Math.floor(Math.abs(t.length*c));i||(i=n.create2D(this,p,f),h=!1,l=!1),h&&(i.width=p,i.height=f);var m=i.getContext("2d");l&&m.clearRect(0,0,p,f),d&&d(i,m);for(var g=0;g<t.length;g++)for(var y=t[g],v=0;v<y.length;v++){var w=y[v];"."!==w&&" "!==w&&(m.fillStyle=r[w],m.fillRect(v*o,g*c,o,c))}return u&&u(i,m),i}},function(e,t){e.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(e,t,i){var s=i(0),n=i(326),a=i(81),r=i(3),o=new s({Extends:a,initialize:function(e,t,i,s){a.call(this,"CubicBezierCurve"),Array.isArray(e)&&(s=new r(e[6],e[7]),i=new r(e[4],e[5]),t=new r(e[2],e[3]),e=new r(e[0],e[1])),this.p0=e,this.p1=t,this.p2=i,this.p3=s},getStartPoint:function(e){return void 0===e&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,t){void 0===t&&(t=new r);var i=this.p0,s=this.p1,a=this.p2,o=this.p3;return t.set(n(e,i.x,s.x,a.x,o.x),n(e,i.y,s.y,a.y,o.y))},draw:function(e,t){void 0===t&&(t=32);var i=this.getPoints(t);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var s=1;s<i.length;s++)e.lineTo(i[s].x,i[s].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(e){var t=e.points,i=new r(t[0],t[1]),s=new r(t[2],t[3]),n=new r(t[4],t[5]),a=new r(t[6],t[7]);return new o(i,s,n,a)},e.exports=o},function(e,t,i){var s=i(0),n=i(81),a=i(39),r=i(6),o=i(173),c=i(3),h=new s({Extends:n,initialize:function(e,t,i,s,o,h,l,d){if("object"==typeof e){var u=e;e=r(u,"x",0),t=r(u,"y",0),i=r(u,"xRadius",0),s=r(u,"yRadius",i),o=r(u,"startAngle",0),h=r(u,"endAngle",360),l=r(u,"clockwise",!1),d=r(u,"rotation",0)}else void 0===s&&(s=i),void 0===o&&(o=0),void 0===h&&(h=360),void 0===l&&(l=!1),void 0===d&&(d=0);n.call(this,"EllipseCurve"),this.p0=new c(e,t),this._xRadius=i,this._yRadius=s,this._startAngle=a(o),this._endAngle=a(h),this._clockwise=l,this._rotation=a(d)},getStartPoint:function(e){return void 0===e&&(e=new c),this.getPoint(0,e)},getResolution:function(e){return 2*e},getPoint:function(e,t){void 0===t&&(t=new c);for(var i=2*Math.PI,s=this._endAngle-this._startAngle,n=Math.abs(s)<Number.EPSILON;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(s=n?0:i),this._clockwise&&!n&&(s===i?s=-i:s-=i);var a=this._startAngle+e*s,r=this.p0.x+this._xRadius*Math.cos(a),o=this.p0.y+this._yRadius*Math.sin(a);if(0!==this._rotation){var h=Math.cos(this._rotation),l=Math.sin(this._rotation),d=r-this.p0.x,u=o-this.p0.y;r=d*h-u*l+this.p0.x,o=d*l+u*h+this.p0.y}return t.set(r,o)},setXRadius:function(e){return this.xRadius=e,this},setYRadius:function(e){return this.yRadius=e,this},setWidth:function(e){return this.xRadius=e/2,this},setHeight:function(e){return this.yRadius=e/2,this},setStartAngle:function(e){return this.startAngle=e,this},setEndAngle:function(e){return this.endAngle=e,this},setClockwise:function(e){return this.clockwise=e,this},setRotation:function(e){return this.rotation=e,this},x:{get:function(){return this.p0.x},set:function(e){this.p0.x=e}},y:{get:function(){return this.p0.y},set:function(e){this.p0.y=e}},xRadius:{get:function(){return this._xRadius},set:function(e){this._xRadius=e}},yRadius:{get:function(){return this._yRadius},set:function(e){this._yRadius=e}},startAngle:{get:function(){return o(this._startAngle)},set:function(e){this._startAngle=a(e)}},endAngle:{get:function(){return o(this._endAngle)},set:function(e){this._endAngle=a(e)}},clockwise:{get:function(){return this._clockwise},set:function(e){this._clockwise=e}},angle:{get:function(){return o(this._rotation)},set:function(e){this._rotation=a(e)}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});h.fromJSON=function(e){return new h(e)},e.exports=h},function(e,t,i){var s=i(0),n=i(81),a=i(176),r=i(11),o=i(3),c=new o,h=new s({Extends:n,initialize:function(e,t){n.call(this,"LineCurve"),Array.isArray(e)&&(t=new o(e[2],e[3]),e=new o(e[0],e[1])),this.p0=e,this.p1=t,this.arcLengthDivisions=1},getBounds:function(e){return void 0===e&&(e=new r),a([this.p0,this.p1],e)},getStartPoint:function(e){return void 0===e&&(e=new o),e.copy(this.p0)},getResolution:function(e){return void 0===e&&(e=1),e},getPoint:function(e,t){return void 0===t&&(t=new o),1===e?t.copy(this.p1):(t.copy(this.p1).subtract(this.p0).scale(e).add(this.p0),t)},getPointAt:function(e,t){return this.getPoint(e,t)},getTangent:function(){return c.copy(this.p1).subtract(this.p0).normalize()},getUtoTmapping:function(e,t,i){var s;if(t){var n=this.getLengths(i),a=n[n.length-1];s=Math.min(t,a)/a}else s=e;return s},draw:function(e){return e.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});h.fromJSON=function(e){var t=e.points,i=new o(t[0],t[1]),s=new o(t[2],t[3]);return new h(i,s)},e.exports=h},function(e,t,i){var s=i(0),n=i(81),a=i(327),r=i(3),o=new s({Extends:n,initialize:function(e,t,i){n.call(this,"QuadraticBezier"),Array.isArray(e)&&(i=new r(e[4],e[5]),t=new r(e[2],e[3]),e=new r(e[0],e[1])),this.p0=e,this.p1=t,this.p2=i},getStartPoint:function(e){return void 0===e&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,t){void 0===t&&(t=new r);var i=this.p0,s=this.p1,n=this.p2;return t.set(a(e,i.x,s.x,n.x),a(e,i.y,s.y,n.y))},draw:function(e,t){void 0===t&&(t=32);var i=this.getPoints(t);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var s=1;s<i.length;s++)e.lineTo(i[s].x,i[s].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(e){var t=e.points,i=new r(t[0],t[1]),s=new r(t[2],t[3]),n=new r(t[4],t[5]);return new o(i,s,n)},e.exports=o},function(e,t,i){var s=i(171),n=i(0),a=i(81),r=i(3),o=new n({Extends:a,initialize:function(e){void 0===e&&(e=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(e)},addPoints:function(e){for(var t=0;t<e.length;t++){var i=new r;"number"==typeof e[t]?(i.x=e[t],i.y=e[t+1],t++):Array.isArray(e[t])?(i.x=e[t][0],i.y=e[t][1]):(i.x=e[t].x,i.y=e[t].y),this.points.push(i)}return this},addPoint:function(e,t){var i=new r(e,t);return this.points.push(i),i},getStartPoint:function(e){return void 0===e&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,t){void 0===t&&(t=new r);var i=this.points,n=(i.length-1)*e,a=Math.floor(n),o=n-a,c=i[0===a?a:a-1],h=i[a],l=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return t.set(s(o,c.x,h.x,l.x,d.x),s(o,c.y,h.y,l.y,d.y))},toJSON:function(){for(var e=[],t=0;t<this.points.length;t++)e.push(this.points[t].x),e.push(this.points[t].y);return{type:this.type,points:e}}});o.fromJSON=function(e){return new o(e.points)},e.exports=o},function(e,t,i){var s=new(i(0))({initialize:function(e,t,i,s){t&&""!==t||(t=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),i&&""!==i||(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","void main () {","gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","}"].join("\n")),void 0===s&&(s=null),this.key=e,this.fragmentSrc=t,this.vertexSrc=i,this.uniforms=s}});e.exports=s},function(e,t,i){var s=i(31);s.ColorToRGBA=i(811),s.ComponentToHex=i(355),s.GetColor=i(165),s.GetColor32=i(295),s.HexStringToColor=i(294),s.HSLToColor=i(812),s.HSVColorWheel=i(813),s.HSVToRGB=i(166),s.HueToComponent=i(356),s.IntegerToColor=i(297),s.IntegerToRGB=i(298),s.Interpolate=i(814),s.ObjectToColor=i(299),s.RandomRGB=i(815),s.RGBStringToColor=i(300),s.RGBToHSV=i(296),s.RGBToString=i(816),s.ValueToColor=i(164),e.exports=s},function(e,t){e.exports=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t}},function(e,t){e.exports=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}},function(e,t,i){var s=i(117);e.exports=function(e){if("complete"!==document.readyState&&"interactive"!==document.readyState){var t=function(){document.removeEventListener("deviceready",t,!0),document.removeEventListener("DOMContentLoaded",t,!0),window.removeEventListener("load",t,!0),e()};document.body?s.cordova?document.addEventListener("deviceready",t,!1):(document.addEventListener("DOMContentLoaded",t,!0),window.addEventListener("load",t,!0)):window.setTimeout(t,20)}else e()}},function(e,t,i){var s=i(177);e.exports=function(e,t){var i=window.screen,n=!!i&&(i.orientation||i.mozOrientation||i.msOrientation);if(n&&"string"==typeof n.type)return n.type;if("string"==typeof n)return n;if(i)return i.height>i.width?s.ORIENTATION.PORTRAIT:s.ORIENTATION.LANDSCAPE;if("number"==typeof window.orientation)return 0===window.orientation||180===window.orientation?s.ORIENTATION.PORTRAIT:s.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return s.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return s.ORIENTATION.LANDSCAPE}return t>e?s.ORIENTATION.PORTRAIT:s.ORIENTATION.LANDSCAPE}},function(e,t){e.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(e,t){e.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(e,t){e.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(e,t){e.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(e,t){e.exports=function(e){var t;return""!==e&&("string"==typeof e?t=document.getElementById(e):e&&1===e.nodeType&&(t=e)),t||(t=document.body),t}},function(e,t){e.exports=function(e){var t="";try{window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):(t=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e)}catch(e){t=null}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length?t:null}},function(e,t,i){var s=i(0),n=i(179),a=i(10),r=i(54),o=i(20),c=i(366),h=i(367),l=i(368),d=i(369),u=i(29),p=i(333),f=new s({initialize:function(e,t){this.game=e,this.scaleManager,this.canvas,this.config=t,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=t.inputKeyboard?new c(this):null,this.mouse=t.inputMouse?new h(this):null,this.touch=t.inputTouch?new d(this):null,this.pointers=[],this.pointersTotal=t.inputActivePointers,t.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var i=0;i<=this.pointersTotal;i++){var s=new l(this,i);s.smoothFactor=t.inputSmoothFactor,this.pointers.push(s)}this.mousePointer=t.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],e.events.once(o.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(r.MANAGER_BOOT),this.game.events.on(o.PRE_RENDER,this.preRender,this),this.game.events.once(o.DESTROY,this.destroy,this)},setCanvasOver:function(e){this.isOver=!0,this.events.emit(r.GAME_OVER,e)},setCanvasOut:function(e){this.isOver=!1,this.events.emit(r.GAME_OUT,e)},preRender:function(){var e=this.game.loop.now,t=this.game.loop.delta,i=this.game.scene.getScenes(!0,!0);this.time=e,this.events.emit(r.MANAGER_UPDATE);for(var s=0;s<i.length;s++){var n=i[s];if(n.sys.input&&n.sys.input.updatePoll(e,t)&&this.globalTopOnly)return}},setDefaultCursor:function(e){this.defaultCursor=e,this.canvas.style.cursor!==e&&(this.canvas.style.cursor=e)},setCursor:function(e){e.cursor&&(this.canvas.style.cursor=e.cursor)},resetCursor:function(e){e.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(e){void 0===e&&(e=1);var t=[];this.pointersTotal+e>10&&(e=10-this.pointersTotal);for(var i=0;i<e;i++){var s=this.pointers.length,n=new l(this,s);n.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(n),this.pointersTotal++,t.push(n)}return t},updateInputPlugins:function(e,t){var i=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var s=0;s<i.length;s++){var n=i[s];if(n.sys.input&&(n.sys.input.update(e,t)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(e){for(var t=this.pointers,i=[],s=0;s<e.changedTouches.length;s++)for(var a=e.changedTouches[s],r=1;r<this.pointersTotal;r++){var o=t[r];if(!o.active){o.touchstart(a,e),this.activePointer=o,i.push(o);break}}this.updateInputPlugins(n.TOUCH_START,i)},onTouchMove:function(e){for(var t=this.pointers,i=[],s=0;s<e.changedTouches.length;s++)for(var a=e.changedTouches[s],r=1;r<this.pointersTotal;r++){var o=t[r];if(o.active&&o.identifier===a.identifier){o.touchmove(a,e),this.activePointer=o,i.push(o);break}}this.updateInputPlugins(n.TOUCH_MOVE,i)},onTouchEnd:function(e){for(var t=this.pointers,i=[],s=0;s<e.changedTouches.length;s++)for(var a=e.changedTouches[s],r=1;r<this.pointersTotal;r++){var o=t[r];if(o.active&&o.identifier===a.identifier){o.touchend(a,e),i.push(o);break}}this.updateInputPlugins(n.TOUCH_END,i)},onTouchCancel:function(e){for(var t=this.pointers,i=[],s=0;s<e.changedTouches.length;s++)for(var a=e.changedTouches[s],r=1;r<this.pointersTotal;r++){var o=t[r];if(o.active&&o.identifier===a.identifier){o.touchcancel(a,e),i.push(o);break}}this.updateInputPlugins(n.TOUCH_CANCEL,i)},onMouseDown:function(e){this.mousePointer.down(e),this.mousePointer.updateMotion(),this.updateInputPlugins(n.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(e){this.mousePointer.move(e),this.mousePointer.updateMotion(),this.updateInputPlugins(n.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(e){this.mousePointer.up(e),this.mousePointer.updateMotion(),this.updateInputPlugins(n.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(e){this.mousePointer.wheel(e),this.updateInputPlugins(n.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(e){var t=this.mouse.locked;this.mousePointer.locked=t,this.events.emit(r.POINTERLOCK_CHANGE,e,t)},inputCandidate:function(e,t){var i=e.input;if(!i||!i.enabled||!i.alwaysEnabled&&!e.willRender(t))return!1;var s=!0,n=e.parentContainer;if(n)do{if(!n.willRender(t)){s=!1;break}n=n.parentContainer}while(n);return s},hitTest:function(e,t,i,s){void 0===s&&(s=this._tempHitTest);var n=this._tempPoint,a=i.scrollX,r=i.scrollY;s.length=0;var o=e.x,c=e.y;1!==i.resolution&&(o+=i._x,c+=i._y),i.getWorldPoint(o,c,n),e.worldX=n.x,e.worldY=n.y;for(var h={x:0,y:0},l=this._tempMatrix,d=this._tempMatrix2,u=0;u<t.length;u++){var f=t[u];if(this.inputCandidate(f,i)){var m=n.x+a*f.scrollFactorX-a,g=n.y+r*f.scrollFactorY-r;f.parentContainer?(f.getWorldTransformMatrix(l,d),l.applyInverse(m,g,h)):p(m,g,f.x,f.y,f.rotation,f.scaleX,f.scaleY,h),this.pointWithinHitArea(f,h.x,h.y)&&s.push(f)}}return s},pointWithinHitArea:function(e,t,i){t+=e.displayOriginX,i+=e.displayOriginY;var s=e.input;return!(!s||!s.hitAreaCallback(s.hitArea,t,i,e)||(s.localX=t,s.localY=i,0))},pointWithinInteractiveObject:function(e,t,i){return!!e.hitArea&&(t+=e.gameObject.displayOriginX,i+=e.gameObject.displayOriginY,e.localX=t,e.localY=i,e.hitAreaCallback(e.hitArea,t,i,e))},transformPointer:function(e,t,i,s){var n=e.position,a=e.prevPosition;a.x=n.x,a.y=n.y;var r=this.scaleManager.transformX(t),o=this.scaleManager.transformY(i),c=e.smoothFactor;s&&0!==c?(n.x=r*c+a.x*(1-c),n.y=o*c+a.y*(1-c)):(n.x=r,n.y=o)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(o.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var e=0;e<this.pointers.length;e++)this.pointers[e].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});e.exports=f},function(e,t,i){var s=i(123),n=i(0),a=i(20),r=i(54),o=i(124),c=i(1),h=new n({initialize:function(e){this.manager=e,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=c,this.onKeyUp=c,e.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputKeyboard,this.target=e.inputKeyboardEventTarget,this.addCapture(e.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var e=this;this.onKeyDown=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.useQueue||e.manager.events.emit(r.MANAGER_PROCESS);var i=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!i&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}},this.onKeyUp=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.useQueue||e.manager.events.emit(r.MANAGER_PROCESS);var i=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!i&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}};var t=this.target;t&&(t.addEventListener("keydown",this.onKeyDown,!1),t.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var e=this.target;e.removeEventListener("keydown",this.onKeyDown,!1),e.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(e){"string"==typeof e&&(e=e.split(",")),Array.isArray(e)||(e=[e]);for(var t=this.captures,i=0;i<e.length;i++){var s=e[i];"string"==typeof s&&(s=o[s.trim().toUpperCase()]),-1===t.indexOf(s)&&t.push(s)}this.preventDefault=t.length>0},removeCapture:function(e){"string"==typeof e&&(e=e.split(",")),Array.isArray(e)||(e=[e]);for(var t=this.captures,i=0;i<e.length;i++){var n=e[i];"string"==typeof n&&(n=o[n.toUpperCase()]),s(t,n)}this.preventDefault=t.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});e.exports=h},function(e,t,i){var s=i(0),n=i(169),a=i(54),r=i(1),o=new s({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,e.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.capture=e.inputMouseCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),this},requestPointerLock:function(){if(n.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){n.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this,t=this.manager.canvas,i=window&&window.focus&&this.manager.game.config.autoFocus;this.onMouseMove=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseMove(t),e.capture&&t.preventDefault())},this.onMouseDown=function(s){i&&window.focus(),!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseDown(s),e.capture&&s.target===t&&s.preventDefault())},this.onMouseDownWindow=function(i){!i.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&i.target!==t&&e.manager.onMouseDown(i)},this.onMouseUp=function(i){!i.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseUp(i),e.capture&&i.target===t&&i.preventDefault())},this.onMouseUpWindow=function(i){!i.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&i.target!==t&&e.manager.onMouseUp(i)},this.onMouseOver=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOver(t)},this.onMouseOut=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOut(t)},this.onMouseWheel=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.onMouseWheel(t)};var s=this.target;if(s){var a={passive:!0},r={passive:!1};s.addEventListener("mousemove",this.onMouseMove,this.capture?r:a),s.addEventListener("mousedown",this.onMouseDown,this.capture?r:a),s.addEventListener("mouseup",this.onMouseUp,this.capture?r:a),s.addEventListener("mouseover",this.onMouseOver,this.capture?r:a),s.addEventListener("mouseout",this.onMouseOut,this.capture?r:a),s.addEventListener("wheel",this.onMouseWheel,this.capture?r:a),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("mousedown",this.onMouseDownWindow,r),window.addEventListener("mouseup",this.onMouseUpWindow,r)),n.pointerLock&&(this.pointerLockChange=function(t){var i=e.target;e.locked=document.pointerLockElement===i||document.mozPointerLockElement===i||document.webkitPointerLockElement===i,e.manager.onPointerLockChange(t)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(window.removeEventListener("mousedown",this.onMouseDownWindow),window.removeEventListener("mouseup",this.onMouseUpWindow)),n.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});e.exports=o},function(e,t,i){var s=i(317),n=i(0),a=i(53),r=i(106),o=i(328),c=i(3),h=new n({initialize:function(e,t){this.manager=e,this.id=t,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new c,this.prevPosition=new c,this.midPoint=new c(-1,-1),this.velocity=new c,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===t,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(e){var t=this.x,i=this.y;1!==e.resolution&&(t+=e._x,i+=e._y);var s=e.getWorldPoint(t,i);return this.worldX=s.x,this.worldY=s.y,this},positionToCamera:function(e,t){return e.getWorldPoint(this.x,this.y,t)},updateMotion:function(){var e=this.position.x,t=this.position.y,i=this.midPoint.x,n=this.midPoint.y;if(e!==i||t!==n){var a=o(this.motionFactor,i,e),c=o(this.motionFactor,n,t);r(a,e,.1)&&(a=e),r(c,t,.1)&&(c=t),this.midPoint.set(a,c);var h=e-a,l=t-c;this.velocity.set(h,l),this.angle=s(a,c,e,t),this.distance=Math.sqrt(h*h+l*l)}},up:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),0===e.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e.timeStamp),this.isDown=!1,this.wasTouch=!1},down:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),0===e.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e.timeStamp),this.isDown=!0,this.wasTouch=!1},move:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.locked&&(this.movementX=e.movementX||e.mozMovementX||e.webkitMovementX||0,this.movementY=e.movementY||e.mozMovementY||e.webkitMovementY||0),this.moveTime=e.timeStamp,this.wasTouch=!1},wheel:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.deltaX=e.deltaX,this.deltaY=e.deltaY,this.deltaZ=e.deltaZ,this.wasTouch=!1},touchstart:function(e,t){e.pointerId&&(this.pointerId=e.pointerId),this.identifier=e.identifier,this.target=e.target,this.active=!0,this.buttons=1,this.event=t,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=t.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(e,t){this.event=t,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.moveTime=t.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(e,t){this.buttons=0,this.event=t,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(e,t){this.buttons=0,this.event=t,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.button&&!this.isDown},rightButtonReleased:function(){return 2===this.button&&!this.isDown},middleButtonReleased:function(){return 1===this.button&&!this.isDown},backButtonReleased:function(){return 3===this.button&&!this.isDown},forwardButtonReleased:function(){return 4===this.button&&!this.isDown},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(e,t){void 0===e&&(e=10),void 0===t&&(t=[]);for(var i=this.prevPosition.x,s=this.prevPosition.y,n=this.position.x,a=this.position.y,r=0;r<e;r++){var c=1/e*r;t[r]={x:o(c,i,n),y:o(c,s,a)}}return t},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},time:{get:function(){return this.event?this.event.timeStamp:0}}});e.exports=h},function(e,t,i){var s=i(0),n=i(54),a=i(1),r=new s({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.onTouchOver=a,this.onTouchOut=a,e.events.once(n.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputTouch,this.target=e.inputTouchEventTarget,this.capture=e.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),this},startListeners:function(){var e=this,t=this.manager.canvas,i=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(s){i&&window.focus(),!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchStart(s),e.capture&&s.cancelable&&s.target===t&&s.preventDefault())},this.onTouchStartWindow=function(i){!i.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&i.target!==t&&e.manager.onTouchStart(i)},this.onTouchMove=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchMove(t),e.capture&&t.cancelable&&t.preventDefault())},this.onTouchEnd=function(i){!i.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchEnd(i),e.capture&&i.cancelable&&i.target===t&&i.preventDefault())},this.onTouchEndWindow=function(i){!i.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&i.target!==t&&e.manager.onTouchEnd(i)},this.onTouchCancel=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchCancel(t),e.capture&&t.preventDefault())},this.onTouchCancelWindow=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.onTouchCancel(t)},this.onTouchOver=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOver(t)},this.onTouchOut=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOut(t)};var s=this.target;if(s){var n={passive:!0},a={passive:!1};s.addEventListener("touchstart",this.onTouchStart,this.capture?a:n),s.addEventListener("touchmove",this.onTouchMove,this.capture?a:n),s.addEventListener("touchend",this.onTouchEnd,this.capture?a:n),s.addEventListener("touchcancel",this.onTouchCancel,this.capture?a:n),s.addEventListener("touchover",this.onTouchOver,this.capture?a:n),s.addEventListener("touchout",this.onTouchOut,this.capture?a:n),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,a),window.addEventListener("touchend",this.onTouchEndWindow,a),window.addEventListener("touchcancel",this.onTouchCancelWindow,a)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),e.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("touchcancel",this.onTouchCancel),e.removeEventListener("touchover",this.onTouchOver),e.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});e.exports=r},function(e,t,i){var s=i(0),n=i(20),a=i(10),r=i(8),o=i(16),c=i(5),h=i(2),l=i(23),d=i(123),u=new s({Extends:a,initialize:function(e){a.call(this),this.game=e,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],e.isBooted?this.boot():e.events.once(n.BOOT,this.boot,this)},boot:function(){var e,t,i,s,a,r,o,c=this.game.config,l=c.installGlobalPlugins;for(l=l.concat(this._pendingGlobal),e=0;e<l.length;e++)t=l[e],i=h(t,"key",null),s=h(t,"plugin",null),a=h(t,"start",!1),r=h(t,"mapping",null),o=h(t,"data",null),i&&(s?this.install(i,s,a,r,o):console.warn("Missing `plugin` for key: "+i));for(l=(l=c.installScenePlugins).concat(this._pendingScene),e=0;e<l.length;e++)t=l[e],i=h(t,"key",null),s=h(t,"plugin",null),r=h(t,"mapping",null),i&&(s?this.installScenePlugin(i,s,r):console.warn("Missing `plugin` for key: "+i));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(n.DESTROY,this.destroy,this)},addToScene:function(e,t,i){var s,n,a,r=this.game,o=e.scene,c=e.settings.map,h=e.settings.isBooted;for(s=0;s<t.length;s++)r[n=t[s]]?(e[n]=r[n],c.hasOwnProperty(n)&&(o[c[n]]=e[n])):"game"===n&&c.hasOwnProperty(n)&&(o[c[n]]=r);for(var d=0;d<i.length;d++)for(a=i[d],s=0;s<a.length;s++)if(n=a[s],l.hasCore(n)){var u=l.getCore(n),p=new u.plugin(o,this);e[u.mapping]=p,u.custom?o[u.mapping]=p:c.hasOwnProperty(u.mapping)&&(o[c[u.mapping]]=p),h&&p.boot()}for(a=this.plugins,s=0;s<a.length;s++){var f=a[s];f.mapping&&(o[f.mapping]=f.plugin)}},getDefaultScenePlugins:function(){var e=this.game.config.defaultPlugins;return e=e.concat(this.scenePlugins)},installScenePlugin:function(e,t,i,s,n){if(void 0===n&&(n=!1),"function"==typeof t){if(l.hasCore(e)){if(!n&&l.hasCore(e))return void console.warn("Scene Plugin key in use: "+e)}else l.register(e,t,i,!0),this.scenePlugins.push(e);if(s){var a=new t(s,this);s.sys[e]=a,i&&""!==i&&(s[i]=a),a.boot()}}else console.warn("Invalid Scene Plugin: "+e)},install:function(e,t,i,s,n){if(void 0===i&&(i=!1),void 0===s&&(s=null),void 0===n&&(n=null),"function"!=typeof t)return console.warn("Invalid Plugin: "+e),null;if(l.hasCustom(e))return console.warn("Plugin key in use: "+e),null;if(null!==s&&(i=!0),this.game.isBooted){if(l.registerCustom(e,t,s,n),i)return this.start(e)}else this._pendingGlobal.push({key:e,plugin:t,start:i,mapping:s,data:n});return null},getIndex:function(e){for(var t=this.plugins,i=0;i<t.length;i++)if(t[i].key===e)return i;return-1},getEntry:function(e){var t=this.getIndex(e);if(-1!==t)return this.plugins[t]},isActive:function(e){var t=this.getEntry(e);return t&&t.active},start:function(e,t){void 0===t&&(t=e);var i=this.getEntry(t);return i&&!i.active?(i.active=!0,i.plugin.start()):i||(i=this.createEntry(e,t)),i?i.plugin:null},createEntry:function(e,t){var i=l.getCustom(e);if(i){var s=new i.plugin(this);i={key:t,plugin:s,active:!0,mapping:i.mapping,data:i.data},this.plugins.push(i),s.init(i.data),s.start()}return i},stop:function(e){var t=this.getEntry(e);return t&&t.active&&(t.active=!1,t.plugin.stop()),this},get:function(e,t){void 0===t&&(t=!0);var i=this.getEntry(e);if(i)return i.plugin;var s=this.getClass(e);return s&&t?(i=this.createEntry(e,e))?i.plugin:null:s||null},getClass:function(e){return l.getCustomClass(e)},removeGlobalPlugin:function(e){var t=this.getEntry(e);t&&d(this.plugins,t),l.removeCustom(e)},removeScenePlugin:function(e){d(this.scenePlugins,e),l.remove(e)},registerGameObject:function(e,t,i){return t&&c.register(e,t),i&&o.register(e,i),this},removeGameObject:function(e,t,i){return void 0===t&&(t=!0),void 0===i&&(i=!0),t&&c.remove(e),i&&o.remove(e),this},registerFileType:function(e,t,i){r.register(e,t),i&&i.sys.load&&(i.sys.load[e]=t)},destroy:function(){for(var e=0;e<this.plugins.length;e++)this.plugins[e].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});e.exports=u},function(e,t,i){var s=i(177),n=i(0),a=i(10),r=i(92),o=i(20),c=i(869),h=i(363),l=i(358),d=i(1),u=i(11),p=i(372),f=i(93),m=i(3),g=new n({Extends:a,initialize:function(e){a.call(this),this.game=e,this.canvas,this.canvasBounds=new u,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=s.SCALE_MODE.NONE,this.resolution=1,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=s.CENTER.NO_CENTER,this.orientation=s.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:d,windowResize:d,fullScreenChange:d,fullScreenError:d}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once("boot",this.boot,this)},boot:function(){var e=this.game;this.canvas=e.canvas,this.fullscreen=e.device.fullscreen,this.scaleMode!==s.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===s.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),e.events.on(o.PRE_STEP,this.step,this),e.events.once(o.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(e){this.getParent(e),this.getParentBounds();var t=e.width,i=e.height,n=e.scaleMode,a=e.resolution,r=e.zoom,o=e.autoRound;if("string"==typeof t){var c=this.parentSize.width;0===c&&(c=window.innerWidth);var h=parseInt(t,10)/100;t=Math.floor(c*h)}if("string"==typeof i){var d=this.parentSize.height;0===d&&(d=window.innerHeight);var u=parseInt(i,10)/100;i=Math.floor(d*u)}this.resolution=1,this.scaleMode=n,this.autoRound=o,this.autoCenter=e.autoCenter,this.resizeInterval=e.resizeInterval,o&&(t=Math.floor(t),i=Math.floor(i)),this.gameSize.setSize(t,i),r===s.ZOOM.MAX_ZOOM&&(r=this.getMaxZoom()),this.zoom=r,1!==r&&(this._resetZoom=!0),this.baseSize.setSize(t*a,i*a),o&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),e.minWidth>0&&this.displaySize.setMin(e.minWidth*r,e.minHeight*r),e.maxWidth>0&&this.displaySize.setMax(e.maxWidth*r,e.maxHeight*r),this.displaySize.setSize(t,i),this.orientation=l(t,i)},getParent:function(e){var t=e.parent;if(null!==t){if(this.parent=h(t),this.parentIsWindow=this.parent===document.body,e.expandParent&&e.scaleMode!==s.SCALE_MODE.NONE){var i=this.parent.getBoundingClientRect();(this.parentIsWindow||0===i.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",i=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==i.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}e.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=h(e.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var e=this.parentSize,t=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(t.height=c(!0));var i=this.resolution,s=t.width*i,n=t.height*i;return(e.width!==s||e.height!==n)&&(e.setSize(s,n),!0)},lockOrientation:function(e){var t=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!t&&t.call(screen,e)},setParentSize:function(e,t){return this.parentSize.setSize(e,t),this.refresh()},setGameSize:function(e,t){var i=this.autoRound,s=this.resolution;i&&(e=Math.floor(e),t=Math.floor(t));var n=this.width,a=this.height;return this.gameSize.resize(e,t),this.baseSize.resize(e*s,t*s),i&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(e/t),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(n,a)},resize:function(e,t){var i=this.zoom,s=this.resolution,n=this.autoRound;n&&(e=Math.floor(e),t=Math.floor(t));var a=this.width,r=this.height;this.gameSize.resize(e,t),this.baseSize.resize(e*s,t*s),n&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(e*i*s,t*i*s),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var o=this.canvas.style,c=e*i,h=t*i;return n&&(c=Math.floor(c),h=Math.floor(h)),c===e&&h===t||(o.width=c+"px",o.height=h+"px"),this.refresh(a,r)},setZoom:function(e){return this.zoom=e,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(e,t){void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var i=this.game.domContainer;if(i){this.baseSize.setCSS(i);var s=this.canvas.style,n=i.style;n.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",n.marginLeft=s.marginLeft,n.marginTop=s.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,this.resolution,e,t),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var e=l(this.width,this.height);e!==this.orientation&&(this.orientation=e,this.emit(r.ORIENTATION_CHANGE,e))}},updateScale:function(){var e,t,i=this.canvas.style,n=this.gameSize.width,a=this.gameSize.height,r=this.zoom,o=this.autoRound;this.scaleMode===s.SCALE_MODE.NONE?(this.displaySize.setSize(n*r*1,a*r*1),e=this.displaySize.width/1,t=this.displaySize.height/1,o&&(e=Math.floor(e),t=Math.floor(t)),this._resetZoom&&(i.width=e+"px",i.height=t+"px",this._resetZoom=!1)):this.scaleMode===s.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(1*this.displaySize.width,1*this.displaySize.height),e=this.displaySize.width/1,t=this.displaySize.height/1,o&&(e=Math.floor(e),t=Math.floor(t)),this.canvas.width=e,this.canvas.height=t):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),e=this.displaySize.width/1,t=this.displaySize.height/1,o&&(e=Math.floor(e),t=Math.floor(t)),i.width=e+"px",i.height=t+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var e=f(this.parentSize.width,this.gameSize.width,0,!0),t=f(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(e,t),1)},updateCenter:function(){var e=this.autoCenter;if(e!==s.CENTER.NO_CENTER){var t=this.canvas,i=t.style,n=t.getBoundingClientRect(),a=n.width,r=n.height,o=Math.floor((this.parentSize.width-a)/2),c=Math.floor((this.parentSize.height-r)/2);e===s.CENTER.CENTER_HORIZONTALLY?c=0:e===s.CENTER.CENTER_VERTICALLY&&(o=0),i.marginLeft=o+"px",i.marginTop=c+"px"}},updateBounds:function(){var e=this.canvasBounds,t=this.canvas.getBoundingClientRect();e.x=t.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),e.y=t.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),e.width=t.width,e.height=t.height},transformX:function(e){return(e-this.canvasBounds.left)*this.displayScale.x},transformY:function(e){return(e-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(e){void 0===e&&(e={navigationUI:"hide"});var t=this.fullscreen;if(t.available){if(!t.active){var i=this.getFullscreenTarget();t.keyboard?i[t.request](Element.ALLOW_KEYBOARD_INPUT):i[t.request](e)}}else this.emit(r.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(e){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,e)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var e=document.createElement("div");e.style.margin="0",e.style.padding="0",e.style.width="100%",e.style.height="100%",this.fullscreenTarget=e,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var e=this.fullscreenTarget;if(e&&e.parentNode){var t=e.parentNode;t.insertBefore(this.canvas,e),t.removeChild(e)}}},stopFullscreen:function(){var e=this.fullscreen;if(!e.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;e.active&&document[e.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(e){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(e)},startListeners:function(){var e=this,t=this.listeners;t.orientationChange=function(){e._checkOrientation=!0,e.dirty=!0},t.windowResize=function(){e.dirty=!0},window.addEventListener("orientationchange",t.orientationChange,!1),window.addEventListener("resize",t.windowResize,!1),this.fullscreen.available&&(t.fullScreenChange=function(t){return e.onFullScreenChange(t)},t.fullScreenError=function(t){return e.onFullScreenError(t)},["webkit","moz",""].forEach((function(e){document.addEventListener(e+"fullscreenchange",t.fullScreenChange,!1),document.addEventListener(e+"fullscreenerror",t.fullScreenError,!1)})),document.addEventListener("MSFullscreenChange",t.fullScreenChange,!1),document.addEventListener("MSFullscreenError",t.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(e,t){this.parent&&(this._lastCheck+=t,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var e=this.listeners;window.removeEventListener("orientationchange",e.orientationChange,!1),window.removeEventListener("resize",e.windowResize,!1),["webkit","moz",""].forEach((function(t){document.removeEventListener(t+"fullscreenchange",e.fullScreenChange,!1),document.removeEventListener(t+"fullscreenerror",e.fullScreenError,!1)})),document.removeEventListener("MSFullscreenChange",e.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",e.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===s.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===s.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});e.exports=g},function(e,t,i){var s=i(19),n=i(0),a=i(93),r=i(3),o=new n({initialize:function(e,t,i,s){void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=0),void 0===s&&(s=null),this._width=e,this._height=t,this._parent=s,this.aspectMode=i,this.aspectRatio=0===t?1:e/t,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return void 0===e&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.snapTo.set(e,t),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.minWidth=s(e,0,this.maxWidth),this.minHeight=s(t,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,t){return void 0===e&&(e=Number.MAX_VALUE),void 0===t&&(t=e),this.maxWidth=s(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=s(t,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,t){switch(void 0===e&&(e=0),void 0===t&&(t=e),this.aspectMode){case o.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(t,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case o.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case o.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(t,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case o.FIT:this.constrain(e,t,!0);break;case o.ENVELOP:this.constrain(e,t,!1)}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,t){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(t,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(e,t){return void 0===t&&(t=!0),e=s(e,this.minWidth,this.maxWidth),t&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,t){return void 0===t&&(t=!0),e=s(e,this.minHeight,this.maxHeight),t&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=!0),e=this.getNewWidth(e),t=this.getNewHeight(t);var s=this.snapTo,n=0===t?1:e/t;return i&&this.aspectRatio>n||!i&&this.aspectRatio<n?(t=(e=a(e,s.x))/this.aspectRatio,s.y>0&&(e=(t=a(t,s.y))*this.aspectRatio)):(i&&this.aspectRatio<n||!i&&this.aspectRatio>n)&&(e=(t=a(t,s.y))*this.aspectRatio,s.x>0&&(t=(e=a(e,s.x))*(1/this.aspectRatio))),this._width=e,this._height=t,this},fitTo:function(e,t){return this.constrain(e,t,!0)},envelop:function(e,t){return this.constrain(e,t,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});o.NONE=0,o.WIDTH_CONTROLS_HEIGHT=1,o.HEIGHT_CONTROLS_WIDTH=2,o.FIT=3,o.ENVELOP=4,e.exports=o},function(e,t,i){var s=i(0),n=i(125),a=i(22),r=i(20),o=i(6),c=i(82),h=i(1),l=i(374),d=i(180),u=new s({initialize:function(e,t){if(this.game=e,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++)this._pending.push({key:"default",scene:t[i],autoStart:0===i,data:{}})}e.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var e,t,i,s;for(e=0;e<this._pending.length;e++){var n;i=(t=this._pending[e]).key,(s=t.scene)instanceof l?n=this.createSceneFromInstance(i,s):"object"==typeof s?n=this.createSceneFromObject(i,s):"function"==typeof s&&(n=this.createSceneFromFunction(i,s)),i=n.sys.settings.key,this.keys[i]=n,this.scenes.push(n),this._data[i]&&(n.sys.settings.data=this._data[i].data,this._data[i].autoStart&&(t.autoStart=!0)),(t.autoStart||n.sys.settings.active)&&this._start.push(i)}for(this._pending.length=0,this._data={},this.isBooted=!0,e=0;e<this._start.length;e++)t=this._start[e],this.start(t);this._start.length=0}},processQueue:function(){var e=this._pending.length,t=this._queue.length;if(0!==e||0!==t){var i,s;if(e){for(i=0;i<e;i++)s=this._pending[i],this.add(s.key,s.scene,s.autoStart,s.data);for(i=0;i<this._start.length;i++)s=this._start[i],this.start(s);return this._start.length=0,void(this._pending.length=0)}for(i=0;i<this._queue.length;i++)this[(s=this._queue[i]).op](s.keyA,s.keyB);this._queue.length=0}},add:function(e,t,i,s){return void 0===i&&(i=!1),void 0===s&&(s={}),this.isProcessing||!this.isBooted?(this._pending.push({key:e,scene:t,autoStart:i,data:s}),this.isBooted||(this._data[e]={data:s}),null):(e=this.getKey(e,t),t instanceof l?n=this.createSceneFromInstance(e,t):"object"==typeof t?(t.key=e,n=this.createSceneFromObject(e,t)):"function"==typeof t&&(n=this.createSceneFromFunction(e,t)),n.sys.settings.data=s,e=n.sys.settings.key,this.keys[e]=n,this.scenes.push(n),(i||n.sys.settings.active)&&(this._pending.length?this._start.push(e):this.start(e)),n);var n},remove:function(e){if(this.isProcessing)this._queue.push({op:"remove",keyA:e,keyB:null});else{var t=this.getScene(e);if(!t||t.sys.isTransitioning())return this;var i=this.scenes.indexOf(t),s=t.sys.settings.key;i>-1&&(delete this.keys[s],this.scenes.splice(i,1),this._start.indexOf(s)>-1&&(i=this._start.indexOf(s),this._start.splice(i,1)),t.sys.destroy())}return this},bootScene:function(e){var t,i=e.sys,s=i.settings;i.sceneUpdate=h,e.init&&(e.init.call(e,s.data),s.status=n.INIT,s.isTransition&&i.events.emit(a.TRANSITION_INIT,s.transitionFrom,s.transitionDuration)),i.load&&(t=i.load).reset(),t&&e.preload?(e.preload.call(e),0===t.list.size?this.create(e):(s.status=n.LOADING,t.once(c.COMPLETE,this.loadComplete,this),t.start())):this.create(e)},loadComplete:function(e){var t=e.scene;this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(t)},payloadComplete:function(e){this.bootScene(e.scene)},update:function(e,t){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var s=this.scenes[i].sys;s.settings.status>n.START&&s.settings.status<=n.RUNNING&&s.step(e,t)}},render:function(e){for(var t=0;t<this.scenes.length;t++){var i=this.scenes[t].sys;i.settings.visible&&i.settings.status>=n.LOADING&&i.settings.status<n.SLEEPING&&i.render(e)}this.isProcessing=!1},create:function(e){var t=e.sys,i=t.settings;e.create&&(i.status=n.CREATING,e.create.call(e,i.data),i.status===n.DESTROYED)||(i.isTransition&&t.events.emit(a.TRANSITION_START,i.transitionFrom,i.transitionDuration),e.update&&(t.sceneUpdate=e.update),i.status=n.RUNNING,t.events.emit(a.CREATE,e))},createSceneFromFunction:function(e,t){var i=new t;if(i instanceof l){var s=i.sys.settings.key;if(""!==s&&(e=s),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return this.createSceneFromInstance(e,i)}return i.sys=new d(i),i.sys.settings.key=e,i.sys.init(this.game),i},createSceneFromInstance:function(e,t){return""===t.sys.settings.key&&(t.sys.settings.key=e),t.sys.init(this.game),t},createSceneFromObject:function(e,t){var i=new l(t),s=i.sys.settings.key;""!==s?e=s:i.sys.settings.key=e,i.sys.init(this.game);for(var n=["init","preload","create","update","render"],a=0;a<n.length;a++){var r=o(t,n[a],null);r&&(i[n[a]]=r)}if(t.hasOwnProperty("extend"))for(var c in t.extend)if(t.extend.hasOwnProperty(c)){var h=t.extend[c];"data"===c&&i.hasOwnProperty("data")&&"object"==typeof h?i.data.merge(h):"sys"!==c&&(i[c]=h)}return i},getKey:function(e,t){if(e||(e="default"),"function"==typeof t)return e;if(t instanceof l?e=t.sys.settings.key:"object"==typeof t&&t.hasOwnProperty("key")&&(e=t.key),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return e},getScenes:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);for(var i=[],s=this.scenes,n=0;n<s.length;n++){var a=s[n];a&&(!e||e&&a.sys.isActive())&&i.push(a)}return t?i.reverse():i},getScene:function(e){if("string"==typeof e){if(this.keys[e])return this.keys[e]}else for(var t=0;t<this.scenes.length;t++)if(e===this.scenes[t])return e;return null},isActive:function(e){var t=this.getScene(e);return t?t.sys.isActive():null},isPaused:function(e){var t=this.getScene(e);return t?t.sys.isPaused():null},isVisible:function(e){var t=this.getScene(e);return t?t.sys.isVisible():null},isSleeping:function(e){var t=this.getScene(e);return t?t.sys.isSleeping():null},pause:function(e,t){var i=this.getScene(e);return i&&i.sys.pause(t),this},resume:function(e,t){var i=this.getScene(e);return i&&i.sys.resume(t),this},sleep:function(e,t){var i=this.getScene(e);return i&&!i.sys.isTransitioning()&&i.sys.sleep(t),this},wake:function(e,t){var i=this.getScene(e);return i&&i.sys.wake(t),this},run:function(e,t){var i=this.getScene(e);if(!i){for(var s=0;s<this._pending.length;s++)if(this._pending[s].key===e){this.queueOp("start",e,t);break}return this}i.sys.isSleeping()?i.sys.wake(t):i.sys.isPaused()?i.sys.resume(t):this.start(e,t)},start:function(e,t){if(!this.isBooted)return this._data[e]={autoStart:!0,data:t},this;var i=this.getScene(e);if(i){var s;if(i.sys.isActive()||i.sys.isPaused())i.sys.shutdown(),i.sys.start(t);else if(i.sys.start(t),i.sys.load&&(s=i.sys.load),s&&i.sys.settings.hasOwnProperty("pack")&&(s.reset(),s.addPack({payload:i.sys.settings.pack})))return i.sys.settings.status=n.LOADING,s.once(c.COMPLETE,this.payloadComplete,this),s.start(),this;this.bootScene(i)}return this},stop:function(e,t){var i=this.getScene(e);return i&&!i.sys.isTransitioning()&&i.sys.shutdown(t),this},switch:function(e,t){var i=this.getScene(e),s=this.getScene(t);return i&&s&&i!==s&&(this.sleep(e),this.isSleeping(t)?this.wake(t):this.start(t)),this},getAt:function(e){return this.scenes[e]},getIndex:function(e){var t=this.getScene(e);return this.scenes.indexOf(t)},bringToTop:function(e){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:e,keyB:null});else{var t=this.getIndex(e);if(-1!==t&&t<this.scenes.length){var i=this.getScene(e);this.scenes.splice(t,1),this.scenes.push(i)}}return this},sendToBack:function(e){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:e,keyB:null});else{var t=this.getIndex(e);if(-1!==t&&t>0){var i=this.getScene(e);this.scenes.splice(t,1),this.scenes.unshift(i)}}return this},moveDown:function(e){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t>0){var i=t-1,s=this.getScene(e),n=this.getAt(i);this.scenes[t]=n,this.scenes[i]=s}}return this},moveUp:function(e){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t<this.scenes.length-1){var i=t+1,s=this.getScene(e),n=this.getAt(i);this.scenes[t]=n,this.scenes[i]=s}}return this},moveAbove:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:e,keyB:t});else{var i=this.getIndex(e),s=this.getIndex(t);if(-1!==i&&-1!==s){var n=this.getAt(s);this.scenes.splice(s,1),this.scenes.splice(i+1,0,n)}}return this},moveBelow:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:e,keyB:t});else{var i=this.getIndex(e),s=this.getIndex(t);if(-1!==i&&-1!==s){var n=this.getAt(s);this.scenes.splice(s,1),0===i?this.scenes.unshift(n):this.scenes.splice(i,0,n)}}return this},queueOp:function(e,t,i){return this._queue.push({op:e,keyA:t,keyB:i}),this},swapPosition:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:e,keyB:t});else{var i=this.getIndex(e),s=this.getIndex(t);if(i!==s&&-1!==i&&-1!==s){var n=this.getAt(i);this.scenes[i]=this.scenes[s],this.scenes[s]=n}}return this},dump:function(){for(var e=[],t=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var s=this.scenes[i].sys,a=!s.settings.visible||s.settings.status!==n.RUNNING&&s.settings.status!==n.PAUSED?"[-] ":"[*] ";a+=s.settings.key+" ("+t[s.settings.status]+")",e.push(a)}console.log(e.join("\n"))},destroy:function(){for(var e=0;e<this.scenes.length;e++)this.scenes[e].sys.destroy();this.update=h,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});e.exports=u},function(e,t,i){var s=i(0),n=i(180),a=new s({initialize:function(e){this.sys=new n(this,e),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins},update:function(){}});e.exports=a},function(e,t,i){var s=i(125),n=i(6),a=i(126),r=i(882),o={create:function(e){return"string"==typeof e?e={key:e}:void 0===e&&(e={}),{status:s.PENDING,key:n(e,"key",""),active:n(e,"active",!1),visible:n(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:n(e,"pack",!1),cameras:n(e,"cameras",null),map:n(e,"map",a(r,n(e,"mapAdd",{}))),physics:n(e,"physics",{}),loader:n(e,"loader",{}),plugins:n(e,"plugins",!1),input:n(e,"input",{})}}};e.exports=o},function(e,t,i){var s=i(26),n=i(377),a=i(0),r=i(31),o=i(33),c=i(10),h=i(121),l=i(20),d=i(346),u=i(6),p=i(379),f=i(182),m=new a({Extends:c,initialize:function(e){c.call(this),this.game=e,this.name="TextureManager",this.list={},this._tempCanvas=s.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,e.events.once(l.BOOT,this.boot,this)},boot:function(){this._pending=2,this.on(h.LOAD,this.updatePending,this),this.on(h.ERROR,this.updatePending,this),this.addBase64("__DEFAULT",this.game.config.defaultImage),this.addBase64("__MISSING",this.game.config.missingImage),this.game.events.once(l.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(h.LOAD),this.off(h.ERROR),this.emit(h.READY))},checkKey:function(e){return!this.exists(e)||(console.error("Texture key already in use: "+e),!1)},remove:function(e){if("string"==typeof e){if(!this.exists(e))return console.warn("No texture found matching key: "+e),this;e=this.get(e)}return this.list.hasOwnProperty(e.key)&&(e.destroy(),this.emit(h.REMOVE,e.key)),this},removeKey:function(e){return this.list.hasOwnProperty(e)&&delete this.list[e],this},addBase64:function(e,t){if(this.checkKey(e)){var i=this,s=new Image;s.onerror=function(){i.emit(h.ERROR,e)},s.onload=function(){var t=i.create(e,s);p.Image(t,0),i.emit(h.ADD,e,t),i.emit(h.LOAD,e,t)},s.src=t}return this},getBase64:function(e,t,i,n){void 0===i&&(i="image/png"),void 0===n&&(n=.92);var a="",r=this.getFrame(e,t);if(r&&(r.source.isRenderTexture||r.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(r){var o=r.canvasData,c=s.create2D(this,o.width,o.height);c.getContext("2d").drawImage(r.source.image,o.x,o.y,o.width,o.height,0,0,o.width,o.height),a=c.toDataURL(i,n),s.remove(c)}return a},addImage:function(e,t,i){var s=null;return this.checkKey(e)&&(s=this.create(e,t),p.Image(s,0),i&&s.setDataSource(i),this.emit(h.ADD,e,s)),s},addGLTexture:function(e,t,i,s){var n=null;return this.checkKey(e)&&((n=this.create(e,t,i,s)).add("__BASE",0,0,0,i,s),this.emit(h.ADD,e,n)),n},addRenderTexture:function(e,t){var i=null;return this.checkKey(e)&&((i=this.create(e,t)).add("__BASE",0,0,0,t.width,t.height),this.emit(h.ADD,e,i)),i},generate:function(e,t){if(this.checkKey(e)){var i=s.create(this,1,1);return t.canvas=i,d(t),this.addCanvas(e,i)}return null},createCanvas:function(e,t,i){if(void 0===t&&(t=256),void 0===i&&(i=256),this.checkKey(e)){var n=s.create(this,t,i,o.CANVAS,!0);return this.addCanvas(e,n)}return null},addCanvas:function(e,t,i){void 0===i&&(i=!1);var s=null;return i?s=new n(this,e,t,t.width,t.height):this.checkKey(e)&&(s=new n(this,e,t,t.width,t.height),this.list[e]=s,this.emit(h.ADD,e,s)),s},addAtlas:function(e,t,i,s){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(e,t,i,s):this.addAtlasJSONHash(e,t,i,s)},addAtlasJSONArray:function(e,t,i,s){var n=null;if(this.checkKey(e)){if(n=this.create(e,t),Array.isArray(i))for(var a=1===i.length,r=0;r<n.source.length;r++){var o=a?i[0]:i[r];p.JSONArray(n,r,o)}else p.JSONArray(n,0,i);s&&n.setDataSource(s),this.emit(h.ADD,e,n)}return n},addAtlasJSONHash:function(e,t,i,s){var n=null;if(this.checkKey(e)){if(n=this.create(e,t),Array.isArray(i))for(var a=0;a<i.length;a++)p.JSONHash(n,a,i[a]);else p.JSONHash(n,0,i);s&&n.setDataSource(s),this.emit(h.ADD,e,n)}return n},addAtlasXML:function(e,t,i,s){var n=null;return this.checkKey(e)&&(n=this.create(e,t),p.AtlasXML(n,0,i),s&&n.setDataSource(s),this.emit(h.ADD,e,n)),n},addUnityAtlas:function(e,t,i,s){var n=null;return this.checkKey(e)&&(n=this.create(e,t),p.UnityYAML(n,0,i),s&&n.setDataSource(s),this.emit(h.ADD,e,n)),n},addSpriteSheet:function(e,t,i){var s=null;if(this.checkKey(e)){var n=(s=this.create(e,t)).source[0].width,a=s.source[0].height;p.SpriteSheet(s,0,0,0,n,a,i),this.emit(h.ADD,e,s)}return s},addSpriteSheetFromAtlas:function(e,t){if(!this.checkKey(e))return null;var i=u(t,"atlas",null),s=u(t,"frame",null);if(i&&s){var n=this.get(i).get(s);if(n){var a=this.create(e,n.source.image);return n.trimmed?p.SpriteSheetFromAtlas(a,n,t):p.SpriteSheet(a,0,n.cutX,n.cutY,n.cutWidth,n.cutHeight,t),this.emit(h.ADD,e,a),a}}},create:function(e,t,i,s){var n=null;return this.checkKey(e)&&(n=new f(this,e,t,i,s),this.list[e]=n),n},exists:function(e){return this.list.hasOwnProperty(e)},get:function(e){return void 0===e&&(e="__DEFAULT"),this.list[e]?this.list[e]:e instanceof f?e:this.list.__MISSING},cloneFrame:function(e,t){if(this.list[e])return this.list[e].get(t).clone()},getFrame:function(e,t){if(this.list[e])return this.list[e].get(t)},getTextureKeys:function(){var e=[];for(var t in this.list)"__DEFAULT"!==t&&"__MISSING"!==t&&e.push(t);return e},getPixel:function(e,t,i,s){var n=this.getFrame(i,s);if(n){e-=n.x,t-=n.y;var a=n.data.cut;if(e+=a.x,t+=a.y,e>=a.x&&e<a.r&&t>=a.y&&t<a.b){var o=this._tempContext;o.clearRect(0,0,1,1),o.drawImage(n.source.image,e,t,1,1,0,0,1,1);var c=o.getImageData(0,0,1,1);return new r(c.data[0],c.data[1],c.data[2],c.data[3])}}return null},getPixelAlpha:function(e,t,i,s){var n=this.getFrame(i,s);if(n){e-=n.x,t-=n.y;var a=n.data.cut;if(e+=a.x,t+=a.y,e>=a.x&&e<a.r&&t>=a.y&&t<a.b){var r=this._tempContext;return r.clearRect(0,0,1,1),r.drawImage(n.source.image,e,t,1,1,0,0,1,1),r.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(e,t,i){return this.list[t]&&(e.texture=this.list[t],e.frame=e.texture.get(i)),e},renameTexture:function(e,t){var i=this.get(e);return!(!i||e===t||(i.key=t,this.list[t]=i,delete this.list[e],0))},each:function(e,t){for(var i=[null],s=1;s<arguments.length;s++)i.push(arguments[s]);for(var n in this.list)i[0]=this.list[n],e.apply(t,i)},destroy:function(){for(var e in this.list)this.list[e].destroy();this.list={},this.game=null,s.remove(this._tempCanvas)}});e.exports=m},function(e,t,i){var s=i(0),n=i(19),a=i(31),r=i(33),o=i(120),c=i(182),h=new s({Extends:c,initialize:function(e,t,i,s,n){c.call(this,e,t,i,s,n),this.add("__BASE",0,0,0,s,n),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=s,this.height=n,this.imageData=this.context.getImageData(0,0,s,n),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(e,t,i){return this.context.drawImage(i,e,t),this.update()},drawFrame:function(e,t,i,s){void 0===i&&(i=0),void 0===s&&(s=0);var n=this.manager.getFrame(e,t);if(n){var a=n.canvasData,r=n.cutWidth,o=n.cutHeight,c=n.source.resolution;return this.context.drawImage(n.source.image,a.x,a.y,r,o,i,s,r/c,o/c),this.update()}return this},setPixel:function(e,t,i,s,n,a){if(void 0===a&&(a=255),e=Math.abs(Math.floor(e)),t=Math.abs(Math.floor(t)),this.getIndex(e,t)>-1){var r=this.context.getImageData(e,t,1,1);r.data[0]=i,r.data[1]=s,r.data[2]=n,r.data[3]=a,this.context.putImageData(r,e,t)}return this},putData:function(e,t,i,s,n,a,r){return void 0===s&&(s=0),void 0===n&&(n=0),void 0===a&&(a=e.width),void 0===r&&(r=e.height),this.context.putImageData(e,t,i,s,n,a,r),this},getData:function(e,t,i,s){return e=n(Math.floor(e),0,this.width-1),t=n(Math.floor(t),0,this.height-1),i=n(i,1,this.width-e),s=n(s,1,this.height-t),this.context.getImageData(e,t,i,s)},getPixel:function(e,t,i){i||(i=new a);var s=this.getIndex(e,t);if(s>-1){var n=this.data,r=n[s+0],o=n[s+1],c=n[s+2],h=n[s+3];i.setTo(r,o,c,h)}return i},getPixels:function(e,t,i,s){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.width),void 0===s&&(s=i),e=Math.abs(Math.round(e)),t=Math.abs(Math.round(t));for(var r=n(e,0,this.width),o=n(e+i,0,this.width),c=n(t,0,this.height),h=n(t+s,0,this.height),l=new a,d=[],u=c;u<h;u++){for(var p=[],f=r;f<o;f++)l=this.getPixel(f,u,l),p.push({x:f,y:u,color:l.color,alpha:l.alphaGL});d.push(p)}return d},getIndex:function(e,t){return e=Math.abs(Math.round(e)),t=Math.abs(Math.round(t)),e<this.width&&t<this.height?4*(e+t*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(e,t,i,s){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.width),void 0===s&&(s=this.height),this.context.clearRect(e,t,i,s),this.update()},setSize:function(e,t){return void 0===t&&(t=e),e===this.width&&t===this.height||(this.canvas.width=e,this.canvas.height=t,this._source.width=e,this._source.height=t,this._source.isPowerOf2=o(e,t),this.frames.__BASE.setSize(e,t,0,0),this.width=e,this.height=t,this.refresh()),this},destroy:function(){c.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});e.exports=h},function(e,t,i){var s=i(26),n=i(0),a=i(120),r=i(234),o=new n({initialize:function(e,t,i,s,n){void 0===n&&(n=!1);var o=e.manager.game;this.renderer=o.renderer,this.texture=e,this.source=t,this.image=t,this.compressionAlgorithm=null,this.resolution=1,this.width=i||t.naturalWidth||t.videoWidth||t.width||0,this.height=s||t.naturalHeight||t.videoHeight||t.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=t instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&t instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===t.type,this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&t instanceof WebGLTexture,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=n,this.init(o)},init:function(e){this.renderer&&(this.renderer.gl?this.isCanvas?this.glTexture=this.renderer.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=this.renderer.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=this.renderer.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=this.renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return void 0===e&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer.gl;e&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):e&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&s.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});e.exports=o},function(e,t,i){e.exports={AtlasXML:i(883),Canvas:i(884),Image:i(885),JSONArray:i(886),JSONHash:i(887),SpriteSheet:i(888),SpriteSheetFromAtlas:i(889),UnityYAML:i(890)}},function(e,t,i){var s=i(381),n=i(385),a=i(387),r={create:function(e){var t=e.config.audio,i=e.device.audio;return t&&t.noAudio||!i.webAudio&&!i.audioData?new n(e):!i.webAudio||t&&t.disableWebAudio?new s(e):new a(e)}};e.exports=r},function(e,t,i){var s=i(127),n=i(0),a=i(59),r=i(384),o=new n({Extends:s,initialize:function(e){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,s.call(this,e)},add:function(e,t){var i=new r(this,e,t);return this.sounds.push(i),i},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each((function(t,i){for(var s=0;s<i.length;s++)if("true"===i[s].dataset.locked)return e.locked=!0,!1;return!0})),this.locked){var t=!1,i=function(){t=!0},s=function(){if(t)t=!1;else{document.body.removeEventListener("touchmove",i),document.body.removeEventListener("touchend",s);var n=[];if(e.game.cache.audio.entries.each((function(e,t){for(var i=0;i<t.length;i++){var s=t[i];"true"===s.dataset.locked&&n.push(s)}return!0})),0!==n.length){var a=n[n.length-1];a.oncanplaythrough=function(){a.oncanplaythrough=null,n.forEach((function(e){e.dataset.locked="false"})),e.unlocked=!0},n.forEach((function(e){e.load()}))}}};this.once(a.UNLOCKED,(function(){for(this.forEachActiveSound((function(e){null===e.currentMarker&&0===e.duration&&(e.duration=e.tags[0].duration),e.totalDuration=e.tags[0].duration}));this.lockedActionsQueue.length;){var e=this.lockedActionsQueue.shift();e.sound[e.prop].apply?e.sound[e.prop].apply(e.sound,e.value||[]):e.sound[e.prop]=e.value}}),this),document.body.addEventListener("touchmove",i,!1),document.body.addEventListener("touchend",s,!1)}},onBlur:function(){this.forEachActiveSound((function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())}))},onFocus:function(){this.onBlurPausedSounds.forEach((function(e){e.onFocus()})),this.onBlurPausedSounds.length=0},destroy:function(){s.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,t,i){return"true"===e.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:e,prop:t,value:i}),!0)},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound((function(e){e.updateMute()})),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound((function(e){e.updateVolume()})),this.emit(a.GLOBAL_VOLUME,this,e)}}});e.exports=o},function(e,t,i){var s=i(68);e.exports=function(e,t,i,n,a){void 0===n&&(n=0),void 0===a&&(a=e.length);var r=[];if(s(e,n,a))for(var o=n;o<a;o++){var c=e[o];(!t||t&&void 0===i&&c.hasOwnProperty(t)||t&&void 0!==i&&c[t]===i)&&r.push(c)}return r}},function(e,t,i){var s=i(68);e.exports=function(e,t,i,n,a){if(void 0===n&&(n=0),void 0===a&&(a=e.length),s(e,n,a))for(var r=n;r<a;r++){var o=e[r];if(!t||t&&void 0===i&&o.hasOwnProperty(t)||t&&void 0!==i&&o[t]===i)return o}return null}},function(e,t,i){var s=i(128),n=i(0),a=i(59),r=i(19),o=new n({Extends:s,initialize:function(e,t,i){if(void 0===i&&(i={}),this.tags=e.game.cache.audio.get(t),!this.tags)throw new Error('There is no audio asset with key "'+t+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,s.call(this,e,t,i)},play:function(e,t){return!(this.manager.isLocked(this,"play",[e,t])||!s.prototype.play.call(this,e,t)||!this.pickAndPlayAudioTag()||(this.emit(a.PLAY,this),0))},pause:function(){return!(this.manager.isLocked(this,"pause")||this.startTime>0||!s.prototype.pause.call(this)||(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),0))},resume:function(){return!(this.manager.isLocked(this,"resume")||this.startTime>0||!s.prototype.resume.call(this)||!this.pickAndPlayAudioTag()||(this.emit(a.RESUME,this),0))},stop:function(){return!this.manager.isLocked(this,"stop")&&!!s.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,t=this.currentConfig.delay,i=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=i,this.audio.currentTime=i,this.applyConfig(),0===t?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*t,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var t=this.tags[e];if("false"===t.dataset.used)return t.dataset.used="true",this.audio=t,!0}if(!this.manager.override)return!1;var i=[];this.manager.forEachActiveSound((function(e){e.key===this.key&&e.audio&&i.push(e)}),this),i.sort((function(e,t){return e.loop===t.loop?t.seek/t.duration-e.seek/e.duration:e.loop?1:-1}));var s=i[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch((function(e){console.warn(e)}))},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){s.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e,t){if(this.isPlaying)if(this.startTime>0)this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{var i=this.currentMarker?this.currentMarker.start:0,s=i+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=s-this.manager.loopEndOffset?(this.audio.currentTime=i+Math.max(0,n-s),n=this.audio.currentTime):n<i&&(this.audio.currentTime+=i,n=this.audio.currentTime),n<this.previousTime&&this.emit(a.LOOPED,this);else if(n>=s)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(a.COMPLETE,this);this.previousTime=n}},destroy:function(){s.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){s.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,this.manager.isLocked(this,"mute",e)||(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,this.manager.isLocked(this,"volume",e)||(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.manager.isLocked(this,a.RATE,e)||(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.manager.isLocked(this,a.DETUNE,e)||(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.manager.isLocked(this,"loop",e)||(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this}});e.exports=o},function(e,t,i){var s=i(127),n=i(0),a=i(10),r=i(386),o=i(1),c=new n({Extends:a,initialize:function(e){a.call(this),this.game=e,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(e,t){var i=new r(this,e,t);return this.sounds.push(i),i},addAudioSprite:function(e,t){var i=this.add(e,t);return i.spritemap={},i},play:function(e,t){return!1},playAudioSprite:function(e,t,i){return!1},remove:function(e){return s.prototype.remove.call(this,e)},removeByKey:function(e){return s.prototype.removeByKey.call(this,e)},pauseAll:o,resumeAll:o,stopAll:o,update:o,setRate:o,setDetune:o,setMute:o,setVolume:o,forEachActiveSound:function(e,t){s.prototype.forEachActiveSound.call(this,e,t)},destroy:function(){s.prototype.destroy.call(this)}});e.exports=c},function(e,t,i){var s=i(128),n=i(0),a=i(10),r=i(18),o=function(){return!1},c=function(){return this},h=new n({Extends:a,initialize:function(e,t,i){void 0===i&&(i={}),a.call(this),this.manager=e,this.key=t,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},i),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:o,updateMarker:o,removeMarker:function(){return null},play:o,pause:o,resume:o,stop:o,destroy:function(){s.prototype.destroy.call(this)},setMute:c,setVolume:c,setRate:c,setDetune:c,setSeek:c,setLoop:c});e.exports=h},function(e,t,i){var s=i(388),n=i(127),a=i(0),r=i(59),o=i(389),c=new a({Extends:n,initialize:function(e){this.context=this.createAudioContext(e),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),n.call(this,e),this.locked&&this.unlock()},createAudioContext:function(e){var t=e.config.audio;return t&&t.context?(t.context.resume(),t.context):new AudioContext},setAudioContext:function(e){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=e,this.masterMuteNode=e.createGain(),this.masterVolumeNode=e.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(e.destination),this.destination=this.masterMuteNode,this},add:function(e,t){var i=new o(this,e,t);return this.sounds.push(i),i},decodeAudio:function(e,t){var i;i=Array.isArray(e)?e:[{key:e,data:t}];for(var n=this.game.cache.audio,a=i.length,o=0;o<i.length;o++){var c=i[o],h=c.key,l=c.data;"string"==typeof l&&(l=s(l));var d=function(e,t){n.add(e,t),this.emit(r.DECODED,e),0==--a&&this.emit(r.DECODED_ALL)}.bind(this,h),u=function(e,t){console.error("Error decoding audio: "+e+" - ",t?t.message:""),0==--a&&this.emit(r.DECODED_ALL)}.bind(this,h);this.context.decodeAudioData(l,d,u)}},unlock:function(){var e=this,t=document.body,i=function i(){e.context&&e.context.resume().then((function(){t.removeEventListener("touchstart",i),t.removeEventListener("touchend",i),t.removeEventListener("click",i),t.removeEventListener("keydown",i),e.unlocked=!0}),(function(){t.removeEventListener("touchstart",i),t.removeEventListener("touchend",i),t.removeEventListener("click",i),t.removeEventListener("keydown",i)}))};t&&(t.addEventListener("touchstart",i,!1),t.addEventListener("touchend",i,!1),t.addEventListener("click",i,!1),t.addEventListener("keydown",i,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){this.locked||this.context.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio&&this.game.config.audio.context)this.context.suspend();else{var e=this;this.context.close().then((function(){e.context=null}))}n.prototype.destroy.call(this)},setMute:function(e){return this.mute=e,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(e){this.masterMuteNode.gain.setValueAtTime(e?0:1,0),this.emit(r.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(e){this.masterVolumeNode.gain.setValueAtTime(e,0),this.emit(r.GLOBAL_VOLUME,this,e)}}});e.exports=c},function(e,t){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(256),n=0;n<i.length;n++)s[i.charCodeAt(n)]=n;e.exports=function(e){var t,i,n,a,r=(e=e.substr(e.indexOf(",")+1)).length,o=.75*r,c=0;"="===e[r-1]&&(o--,"="===e[r-2]&&o--);for(var h=new ArrayBuffer(o),l=new Uint8Array(h),d=0;d<r;d+=4)t=s[e.charCodeAt(d)],i=s[e.charCodeAt(d+1)],n=s[e.charCodeAt(d+2)],a=s[e.charCodeAt(d+3)],l[c++]=t<<2|i>>4,l[c++]=(15&i)<<4|n>>2,l[c++]=(3&n)<<6|63&a;return h}},function(e,t,i){var s=i(128),n=i(0),a=i(59),r=new n({Extends:s,initialize:function(e,t,i){if(void 0===i&&(i={}),this.audioBuffer=e.game.cache.audio.get(t),!this.audioBuffer)throw new Error('There is no audio asset with key "'+t+'" in the audio cache');this.source=null,this.loopSource=null,this.muteNode=e.context.createGain(),this.volumeNode=e.context.createGain(),this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),this.volumeNode.connect(e.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,s.call(this,e,t,i)},play:function(e,t){return!!s.prototype.play.call(this,e,t)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime||!s.prototype.pause.call(this)||(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),0))},resume:function(){return!(this.manager.context.currentTime<this.startTime||!s.prototype.resume.call(this)||(this.createAndStartBufferSource(),this.emit(a.RESUME,this),0))},stop:function(){return!!s.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0)},createAndStartBufferSource:function(){var e=this.currentConfig.seek,t=this.currentConfig.delay,i=this.manager.context.currentTime+t,s=(this.currentMarker?this.currentMarker.start:0)+e,n=this.duration-e;this.playTime=i-e,this.startTime=i,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,i),Math.max(0,s),Math.max(0,n)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),t=this.currentMarker?this.currentMarker.start:0,i=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,t),Math.max(0,i))},createBufferSource:function(){var e=this,t=this.manager.context.createBufferSource();return t.buffer=this.audioBuffer,t.connect(this.muteNode),t.onended=function(t){t.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},t},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),s.prototype.applyConfig.call(this)},update:function(e,t){this.hasEnded?(this.hasEnded=!1,s.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){s.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){s.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,t=0;t<this.rateUpdates.length;t++)e+=((t<this.rateUpdates.length-1?this.rateUpdates[t+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[t].time)*this.rateUpdates[t].rate;return e},getLoopTime:function(){for(var e=0,t=0;t<this.rateUpdates.length-1;t++)e+=(this.rateUpdates[t+1].time-this.rateUpdates[t].time)*this.rateUpdates[t].rate;var i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-e)/i.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this}});e.exports=r},function(e,t){e.exports=function(e){for(var t=e.length,i=e[0].length,s=new Array(i),n=0;n<i;n++){s[n]=new Array(t);for(var a=t-1;a>-1;a--)s[n][a]=e[a][n]}return s}},function(e,t){function i(e,t,i){var s=e[t];e[t]=e[i],e[i]=s}function s(e,t){return e<t?-1:e>t?1:0}var n=function(e,t,a,r,o){for(void 0===a&&(a=0),void 0===r&&(r=e.length-1),void 0===o&&(o=s);r>a;){if(r-a>600){var c=r-a+1,h=t-a+1,l=Math.log(c),d=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*d*(c-d)/c)*(h-c/2<0?-1:1),p=Math.max(a,Math.floor(t-h*d/c+u)),f=Math.min(r,Math.floor(t+(c-h)*d/c+u));n(e,t,p,f,o)}var m=e[t],g=a,y=r;for(i(e,a,t),o(e[r],m)>0&&i(e,a,r);g<y;){for(i(e,g,y),g++,y--;o(e[g],m)<0;)g++;for(;o(e[y],m)>0;)y--}0===o(e[a],m)?i(e,a,y):i(e,++y,r),y<=t&&(a=y+1),t<=y&&(r=y-1)}};e.exports=n},function(e,t,i){var s=i(6),n=i(114),a=function(e,t,i){for(var s=[],n=0;n<e.length;n++)for(var a=0;a<t.length;a++)for(var r=0;r<i;r++)s.push({a:e[n],b:t[a]});return s};e.exports=function(e,t,i){var r=s(i,"max",0),o=s(i,"qty",1),c=s(i,"random",!1),h=s(i,"randomB",!1),l=s(i,"repeat",0),d=s(i,"yoyo",!1),u=[];if(h&&n(t),-1===l)if(0===r)l=0;else{var p=e.length*t.length*o;d&&(p*=2),l=Math.ceil(r/p)}for(var f=0;f<=l;f++){var m=a(e,t,o);c&&n(m),u=u.concat(m),d&&(m.reverse(),u=u.concat(m))}return r&&u.splice(r),u}},function(e,t,i){var s=i(15);e.exports=function(e,t){var i=s(t,"anims",null);if(null===i)return e;if("string"==typeof i)e.anims.play(i);else if("object"==typeof i){var n=e.anims,a=s(i,"key",void 0),r=s(i,"startFrame",void 0),o=s(i,"delay",0),c=s(i,"repeat",0),h=s(i,"repeatDelay",0),l=s(i,"yoyo",!1),d=s(i,"play",!1),u=s(i,"delayedPlay",0);n.setDelay(o),n.setRepeat(c),n.setRepeatDelay(h),n.setYoyo(l),d?n.play(a,r):u>0?n.delayedPlay(u,a,r):n.load(a)}return e}},function(e,t,i){var s=i(11);e.exports=function(e,t,i){void 0===i&&(i=new s);var n=Math.min(e.x,t.x),a=Math.min(e.y,t.y),r=Math.max(e.right,t.right)-n,o=Math.max(e.bottom,t.bottom)-a;return i.setTo(n,a,r,o)}},function(e,t,i){var s=i(0),n=i(12),a=i(957),r=i(14),o=i(7),c=i(178),h=i(22),l=i(334),d=new s({Extends:r,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Origin,n.ScrollFactor,n.Transform,n.Visible,a],initialize:function(e,t,i,s,n,a){r.call(this,e,"DOMElement"),this.parent=e.sys.game.domContainer,this.cache=e.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(t,i),"string"==typeof s?"#"===s[0]?this.setElement(s.substr(1),n,a):this.createElement(s,n,a):s&&this.setElement(s,n,a),e.sys.events.on(h.SLEEP,this.handleSceneEvent,this),e.sys.events.on(h.WAKE,this.handleSceneEvent,this)},handleSceneEvent:function(e){var t=this.node,i=t.style;t&&(i.display=e.settings.visible?"block":"none")},setSkew:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.skewX=e,this.skewY=t,this},setPerspective:function(e){return this.parent.style.perspective=e+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(e){this.parent.style.perspective=e+"px"}},addListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.addEventListener(e[t],this.handler,!1)}return this},removeListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.removeEventListener(e[t],this.handler)}return this},dispatchNativeEvent:function(e){this.emit(e.type,e)},createElement:function(e,t,i){return this.setElement(document.createElement(e),t,i)},setElement:function(e,t,i){var s;if(this.removeElement(),"string"==typeof e?("#"===e[0]&&(e=e.substr(1)),s=document.getElementById(e)):"object"==typeof e&&1===e.nodeType&&(s=e),!s)return this;if(this.node=s,t&&o(t))for(var n in t)s.style[n]=t[n];else"string"==typeof t&&(s.style=t);return s.style.zIndex="0",s.style.display="inline",s.style.position="absolute",s.phaser=this,this.parent&&this.parent.appendChild(s),i&&(s.innerText=i),this.updateSize()},createFromCache:function(e,t){var i=this.cache.get(e);return i&&this.createFromHTML(i,t),this},createFromHTML:function(e,t){void 0===t&&(t="div"),this.removeElement();var i=document.createElement(t);return this.node=i,i.style.zIndex="0",i.style.display="inline",i.style.position="absolute",i.phaser=this,this.parent&&this.parent.appendChild(i),i.innerHTML=e,this.updateSize()},removeElement:function(){return this.node&&(c(this.node),this.node=null),this},updateSize:function(){var e=this.node,t=e.getBoundingClientRect();return this.width=e.clientWidth,this.height=e.clientHeight,this.displayWidth=t.width||0,this.displayHeight=t.height||0,this},getChildByProperty:function(e,t){if(this.node)for(var i=this.node.querySelectorAll("*"),s=0;s<i.length;s++)if(i[s][e]===t)return i[s];return null},getChildByID:function(e){return this.getChildByProperty("id",e)},getChildByName:function(e){return this.getChildByProperty("name",e)},setClassName:function(e){return this.node&&(this.node.className=e,this.updateSize()),this},setText:function(e){return this.node&&(this.node.innerText=e,this.updateSize()),this},setHTML:function(e){return this.node&&(this.node.innerHTML=e,this.updateSize()),this},preUpdate:function(){var e=this.parentContainer,t=this.node;t&&e&&!e.willRender()&&(t.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(h.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(h.WAKE,this.handleSceneEvent,this)}});e.exports=d},function(e,t,i){var s=i(958),n=i(14);e.exports=function(e,t,i,a,r){var o=t.node,c=o.style,h=t.scene.sys.settings;if(!(o&&c&&h.visible&&n.RENDER_MASK===t.renderFlags)||0!==t.cameraFilter&&t.cameraFilter&a.id||t.parentContainer&&!t.parentContainer.willRender())o&&(c.display="none");else{var l=t.parentContainer,d=a.alpha*t.alpha;l&&(d*=l.alpha);var u=e._tempMatrix1,p=e._tempMatrix2,f=e._tempMatrix3,m=0,g=0,y="0%",v="0%";r?(m=t.width*t.scaleX*t.originX,g=t.height*t.scaleY*t.originY,p.applyITRS(t.x-m,t.y-g,t.rotation,t.scaleX,t.scaleY),u.copyFrom(a.matrix),u.multiplyWithOffset(r,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),p.e=t.x-m,p.f=t.y-g,u.multiply(p,f)):(m=t.width*t.originX,g=t.height*t.originY,p.applyITRS(t.x-m,t.y-g,t.rotation,t.scaleX,t.scaleY),u.copyFrom(a.matrix),y=100*t.originX+"%",v=100*t.originY+"%",p.e-=a.scrollX*t.scrollFactorX,p.f-=a.scrollY*t.scrollFactorY,u.multiply(p,f)),t.transformOnly||(c.display="block",c.opacity=d,c.zIndex=t._depth,c.pointerEvents="auto",c.mixBlendMode=s[t._blendMode]),c.transform=f.getCSSMatrix()+" skew("+t.skewX+"rad, "+t.skewY+"rad) rotate3d("+t.rotate3d.x+","+t.rotate3d.y+","+t.rotate3d.z+","+t.rotate3d.w+t.rotate3dAngle+")",c.transformOrigin=y+" "+v}}},function(e,t,i){var s=i(0),n=i(12),a=i(14),r=i(962),o=new s({Extends:a,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Flip,n.Origin,n.ScrollFactor,n.Size,n.Texture,n.Tint,n.Transform,n.Visible,r],initialize:function(e){a.call(this,e,"Extern")},preUpdate:function(){},render:function(){}});e.exports=o},function(e,t,i){var s=i(193),n=i(87),a=i(13),r=i(4);e.exports=function(e,t,i){void 0===i&&(i=new r);var o=n(t,0,a.PI2);return s(e,o,i)}},function(e,t,i){var s=i(400),n=i(193),a=i(87),r=i(13);e.exports=function(e,t,i,o){void 0===o&&(o=[]),!t&&i>0&&(t=s(e)/i);for(var c=0;c<t;c++){var h=a(c/t,0,r.PI2);o.push(n(e,h))}return o}},function(e,t){e.exports=function(e){var t=e.width/2,i=e.height/2,s=Math.pow(t-i,2)/Math.pow(t+i,2);return Math.PI*(t+i)*(1+3*s/(10+Math.sqrt(4-3*s)))}},function(e,t,i){var s=i(192),n=i(28);e.exports=function(e,t,i,a,r,o,c){var h=t.commandBuffer,l=h.length,d=o||e.currentContext;if(0!==l&&n(e,d,t,a,r)){var u=1,p=1,f=0,m=0,g=1,y=0,v=0,w=0;d.beginPath();for(var b=0;b<l;++b)switch(h[b]){case s.ARC:d.arc(h[b+1],h[b+2],h[b+3],h[b+4],h[b+5],h[b+6]),b+=7;break;case s.LINE_STYLE:g=h[b+1],f=h[b+2],u=h[b+3],y=(16711680&f)>>>16,v=(65280&f)>>>8,w=255&f,d.strokeStyle="rgba("+y+","+v+","+w+","+u+")",d.lineWidth=g,b+=3;break;case s.FILL_STYLE:m=h[b+1],p=h[b+2],y=(16711680&m)>>>16,v=(65280&m)>>>8,w=255&m,d.fillStyle="rgba("+y+","+v+","+w+","+p+")",b+=2;break;case s.BEGIN_PATH:d.beginPath();break;case s.CLOSE_PATH:d.closePath();break;case s.FILL_PATH:c||d.fill();break;case s.STROKE_PATH:c||d.stroke();break;case s.FILL_RECT:c?d.rect(h[b+1],h[b+2],h[b+3],h[b+4]):d.fillRect(h[b+1],h[b+2],h[b+3],h[b+4]),b+=4;break;case s.FILL_TRIANGLE:d.beginPath(),d.moveTo(h[b+1],h[b+2]),d.lineTo(h[b+3],h[b+4]),d.lineTo(h[b+5],h[b+6]),d.closePath(),c||d.fill(),b+=6;break;case s.STROKE_TRIANGLE:d.beginPath(),d.moveTo(h[b+1],h[b+2]),d.lineTo(h[b+3],h[b+4]),d.lineTo(h[b+5],h[b+6]),d.closePath(),c||d.stroke(),b+=6;break;case s.LINE_TO:d.lineTo(h[b+1],h[b+2]),b+=2;break;case s.MOVE_TO:d.moveTo(h[b+1],h[b+2]),b+=2;break;case s.LINE_FX_TO:d.lineTo(h[b+1],h[b+2]),b+=5;break;case s.MOVE_FX_TO:d.moveTo(h[b+1],h[b+2]),b+=5;break;case s.SAVE:d.save();break;case s.RESTORE:d.restore();break;case s.TRANSLATE:d.translate(h[b+1],h[b+2]),b+=2;break;case s.SCALE:d.scale(h[b+1],h[b+2]),b+=2;break;case s.ROTATE:d.rotate(h[b+1]),b+=1;break;case s.GRADIENT_FILL_STYLE:b+=5;break;case s.GRADIENT_LINE_STYLE:b+=6;break;case s.SET_TEXTURE:b+=2}d.restore()}}},function(e,t,i){var s=i(0),n=i(2),a=new s({initialize:function(e,t,i,s,a){if("object"==typeof e){var r=e;e=n(r,"x",0),t=n(r,"y",0),i=n(r,"power",0),s=n(r,"epsilon",100),a=n(r,"gravity",50)}else void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=100),void 0===a&&(a=50);this.x=e,this.y=t,this.active=!0,this._gravity=a,this._power=0,this._epsilon=0,this.power=i,this.epsilon=s},update:function(e,t){var i=this.x-e.x,s=this.y-e.y,n=i*i+s*s;if(0!==n){var a=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var r=this._power*t/(n*a)*100;e.velocityX+=i*r,e.velocityY+=s*r}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(e){this._epsilon=e*e}},power:{get:function(){return this._power/this._gravity},set:function(e){this._power=e*this._gravity}},gravity:{get:function(){return this._gravity},set:function(e){var t=this.power;this._gravity=e,this.power=t}}});e.exports=a},function(e,t,i){var s=i(0),n=i(39),a=i(53),r=new s({initialize:function(e){this.emitter=e,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(e,t){var i=this.emitter;this.frame=i.getFrame(),i.emitZone&&i.emitZone.getPoint(this),void 0===e?(i.follow&&(this.x+=i.follow.x+i.followOffset.x),this.x+=i.x.onEmit(this,"x")):this.x+=e,void 0===t?(i.follow&&(this.y+=i.follow.y+i.followOffset.y),this.y+=i.y.onEmit(this,"y")):this.y+=t,this.life=i.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var s=i.speedX.onEmit(this,"speedX"),r=i.speedY?i.speedY.onEmit(this,"speedY"):s;if(i.radial){var o=n(i.angle.onEmit(this,"angle"));this.velocityX=Math.cos(o)*Math.abs(s),this.velocityY=Math.sin(o)*Math.abs(r)}else if(i.moveTo){var c=i.moveToX.onEmit(this,"moveToX"),h=i.moveToY?i.moveToY.onEmit(this,"moveToY"):c,l=Math.atan2(h-this.y,c-this.x),d=a(this.x,this.y,c,h)/(this.life/1e3);this.velocityX=Math.cos(l)*d,this.velocityY=Math.sin(l)*d}else this.velocityX=s,this.velocityY=r;i.acceleration&&(this.accelerationX=i.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=i.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=i.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=i.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=i.delay.onEmit(this,"delay"),this.scaleX=i.scaleX.onEmit(this,"scaleX"),this.scaleY=i.scaleY?i.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=i.rotate.onEmit(this,"rotate"),this.rotation=n(this.angle),this.bounce=i.bounce.onEmit(this,"bounce"),this.alpha=i.alpha.onEmit(this,"alpha"),this.tint=i.tint.onEmit(this,"tint")},computeVelocity:function(e,t,i,s){var n=this.velocityX,a=this.velocityY,r=this.accelerationX,o=this.accelerationY,c=this.maxVelocityX,h=this.maxVelocityY;n+=e.gravityX*i,a+=e.gravityY*i,r&&(n+=r*i),o&&(a+=o*i),n>c?n=c:n<-c&&(n=-c),a>h?a=h:a<-h&&(a=-h),this.velocityX=n,this.velocityY=a;for(var l=0;l<s.length;l++)s[l].update(this,t,i)},checkBounds:function(e){var t=e.bounds,i=-this.bounce;this.x<t.x&&e.collideLeft?(this.x=t.x,this.velocityX*=i):this.x>t.right&&e.collideRight&&(this.x=t.right,this.velocityX*=i),this.y<t.y&&e.collideTop?(this.y=t.y,this.velocityY*=i):this.y>t.bottom&&e.collideBottom&&(this.y=t.bottom,this.velocityY*=i)},update:function(e,t,i){if(this.delayCurrent>0)return this.delayCurrent-=e,!1;var s=this.emitter,a=1-this.lifeCurrent/this.life;return this.lifeT=a,this.computeVelocity(s,e,t,i),this.x+=this.velocityX*t,this.y+=this.velocityY*t,s.bounds&&this.checkBounds(s),s.deathZone&&s.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=s.scaleX.onUpdate(this,"scaleX",a,this.scaleX),s.scaleY?this.scaleY=s.scaleY.onUpdate(this,"scaleY",a,this.scaleY):this.scaleY=this.scaleX,this.angle=s.rotate.onUpdate(this,"rotate",a,this.angle),this.rotation=n(this.angle),this.alpha=s.alpha.onUpdate(this,"alpha",a,this.alpha),this.tint=s.tint.onUpdate(this,"tint",a,this.tint),this.lifeCurrent-=e,this.lifeCurrent<=0)}});e.exports=r},function(e,t,i){var s=i(52),n=i(0),a=i(12),r=i(405),o=i(406),c=i(974),h=i(2),l=i(185),d=i(407),u=i(108),p=i(403),f=i(408),m=i(11),g=i(131),y=i(3),v=i(58),w=new n({Mixins:[a.BlendMode,a.Mask,a.ScrollFactor,a.Visible],initialize:function(e,t){this.manager=e,this.texture=e.texture,this.frames=[e.defaultFrame],this.defaultFrame=e.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=p,this.x=new c(t,"x",0,!0),this.y=new c(t,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new c(t,"accelerationX",0,!0),this.accelerationY=new c(t,"accelerationY",0,!0),this.maxVelocityX=new c(t,"maxVelocityX",1e4,!0),this.maxVelocityY=new c(t,"maxVelocityY",1e4,!0),this.speedX=new c(t,"speedX",0,!0),this.speedY=new c(t,"speedY",0,!0),this.moveTo=!1,this.moveToX=new c(t,"moveToX",0,!0),this.moveToY=new c(t,"moveToY",0,!0),this.bounce=new c(t,"bounce",0,!0),this.scaleX=new c(t,"scaleX",1),this.scaleY=new c(t,"scaleY",1),this.tint=new c(t,"tint",4294967295),this.alpha=new c(t,"alpha",1),this.lifespan=new c(t,"lifespan",1e3,!0),this.angle=new c(t,"angle",{min:0,max:360},!0),this.rotate=new c(t,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new c(t,"quantity",1,!0),this.delay=new c(t,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=s.NORMAL,this.follow=null,this.followOffset=new y,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,t&&this.fromJSON(t)},fromJSON:function(e){if(!e)return this;var t=0,i="";for(t=0;t<this.configFastMap.length;t++)i=this.configFastMap[t],u(e,i)&&(this[i]=h(e,i));for(t=0;t<this.configOpMap.length;t++)i=this.configOpMap[t],u(e,i)&&this[i].loadConfig(e);if(this.acceleration=0!==this.accelerationX.propertyValue||0!==this.accelerationY.propertyValue,this.moveTo=0!==this.moveToX.propertyValue||0!==this.moveToY.propertyValue,u(e,"speed")&&(this.speedX.loadConfig(e,"speed"),this.speedY=null),(d(e,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),u(e,"scale")&&(this.scaleX.loadConfig(e,"scale"),this.scaleY=null),u(e,"callbackScope")){var s=h(e,"callbackScope",null);this.emitCallbackScope=s,this.deathCallbackScope=s}return u(e,"emitZone")&&this.setEmitZone(e.emitZone),u(e,"deathZone")&&this.setDeathZone(e.deathZone),u(e,"bounds")&&this.setBounds(e.bounds),u(e,"followOffset")&&this.followOffset.setFromObject(h(e,"followOffset",0)),u(e,"frame")&&this.setFrame(e.frame),this},toJSON:function(e){void 0===e&&(e={});var t=0,i="";for(t=0;t<this.configFastMap.length;t++)e[i=this.configFastMap[t]]=this[i];for(t=0;t<this.configOpMap.length;t++)this[i=this.configOpMap[t]]&&(e[i]=this[i].toJSON());return this.speedY||(delete e.speedX,e.speed=this.speedX.toJSON()),this.scaleY||(delete e.scaleX,e.scale=this.scaleX.toJSON()),e},startFollow:function(e,t,i,s){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=!1),this.follow=e,this.followOffset.set(t,i),this.trackVisible=s,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(1===this.frames.length)return this.defaultFrame;if(this.randomFrame)return l(this.frames);var e=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=v(this.currentFrame+1,0,this._frameLength)),e},setFrame:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=1),this.randomFrame=t,this.frameQuantity=i,this.currentFrame=0,this._frameCounter=0;var s=typeof e;if(Array.isArray(e)||"string"===s||"number"===s)this.manager.setEmitterFrames(e,this);else if("object"===s){var n=e;(e=h(n,"frames",null))&&this.manager.setEmitterFrames(e,this);var a=h(n,"cycle",!1);this.randomFrame=!a,this.frameQuantity=h(n,"quantity",i)}return this._frameLength=this.frames.length,1===this._frameLength&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(e){return void 0===e&&(e=!0),this.radial=e,this},setPosition:function(e,t){return this.x.onChange(e),this.y.onChange(t),this},setBounds:function(e,t,i,s){if("object"==typeof e){var n=e;e=n.x,t=n.y,i=u(n,"w")?n.w:n.width,s=u(n,"h")?n.h:n.height}return this.bounds?this.bounds.setTo(e,t,i,s):this.bounds=new m(e,t,i,s),this},setSpeedX:function(e){return this.speedX.onChange(e),this.radial=!1,this},setSpeedY:function(e){return this.speedY&&(this.speedY.onChange(e),this.radial=!1),this},setSpeed:function(e){return this.speedX.onChange(e),this.speedY=null,this.radial=!0,this},setScaleX:function(e){return this.scaleX.onChange(e),this},setScaleY:function(e){return this.scaleY.onChange(e),this},setScale:function(e){return this.scaleX.onChange(e),this.scaleY=null,this},setGravityX:function(e){return this.gravityX=e,this},setGravityY:function(e){return this.gravityY=e,this},setGravity:function(e,t){return this.gravityX=e,this.gravityY=t,this},setAlpha:function(e){return this.alpha.onChange(e),this},setTint:function(e){return this.tint.onChange(e),this},setEmitterAngle:function(e){return this.angle.onChange(e),this},setAngle:function(e){return this.angle.onChange(e),this},setLifespan:function(e){return this.lifespan.onChange(e),this},setQuantity:function(e){return this.quantity.onChange(e),this},setFrequency:function(e,t){return this.frequency=e,this._counter=0,t&&this.quantity.onChange(t),this},setEmitZone:function(e){if(void 0===e)this.emitZone=null;else{var t=h(e,"type","random"),i=h(e,"source",null);switch(t){case"random":this.emitZone=new f(i);break;case"edge":var s=h(e,"quantity",1),n=h(e,"stepRate",0),a=h(e,"yoyo",!1),r=h(e,"seamless",!0);this.emitZone=new o(i,s,n,a,r)}}return this},setDeathZone:function(e){if(void 0===e)this.deathZone=null;else{var t=h(e,"type","onEnter"),i=h(e,"source",null);if(i&&"function"==typeof i.contains){var s="onEnter"===t;this.deathZone=new r(i,s)}}return this},reserve:function(e){for(var t=this.dead,i=0;i<e;i++)t.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(e,t){return void 0===e?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof e&&(this.emitCallback=e,t&&(this.emitCallbackScope=t)),this},onParticleDeath:function(e,t){return void 0===e?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof e&&(this.deathCallback=e,t&&(this.deathCallbackScope=t)),this},killAll:function(){for(var e=this.dead,t=this.alive;t.length>0;)e.push(t.pop());return this},forEachAlive:function(e,t){for(var i=this.alive,s=i.length,n=0;n<s;++n)e.call(t,i[n],this);return this},forEachDead:function(e,t){for(var i=this.dead,s=i.length,n=0;n<s;++n)e.call(t,i[n],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return g.inplace(this.alive,this.depthSortCallback),this},flow:function(e,t){return void 0===t&&(t=1),this.frequency=e,this.quantity.onChange(t),this.start()},explode:function(e,t,i){return this.frequency=-1,this.emitParticle(e,t,i)},emitParticleAt:function(e,t,i){return this.emitParticle(i,e,t)},emitParticle:function(e,t,i){if(!this.atLimit()){void 0===e&&(e=this.quantity.onEmit());for(var s=this.dead,n=0;n<e;n++){var a=s.pop();if(a||(a=new this.particleClass(this)),a.fire(t,i),this.particleBringToTop?this.alive.push(a):this.alive.unshift(a),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,a,this),this.atLimit())break}return a}},preUpdate:function(e,t){var i=(t*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible);var s=this.manager.getProcessors(),n=this.alive,a=this.dead,r=0,o=[],c=n.length;for(r=0;r<c;r++){var h=n[r];h.update(t,i,s)&&o.push({index:r,particle:h})}if((c=o.length)>0){var l=this.deathCallback,d=this.deathCallbackScope;for(r=c-1;r>=0;r--){var u=o[r];n.splice(u.index,1),a.push(u.particle),l&&l.call(d,u.particle),u.particle.resetPosition()}}this.on&&(0===this.frequency?this.emitParticle():this.frequency>0&&(this._counter-=t,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(e,t){return e.y-t.y}});e.exports=w},function(e,t,i){var s=new(i(0))({initialize:function(e,t){this.source=e,this.killOnEnter=t},willKill:function(e){var t=this.source.contains(e.x,e.y);return t&&this.killOnEnter||!t&&!this.killOnEnter}});e.exports=s},function(e,t,i){var s=new(i(0))({initialize:function(e,t,i,s,n){void 0===s&&(s=!1),void 0===n&&(n=!0),this.source=e,this.points=[],this.quantity=t,this.stepRate=i,this.yoyo=s,this.counter=-1,this.seamless=n,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var e=this.points[0],t=this.points[this.points.length-1];e.x===t.x&&e.y===t.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(e){return this.source=e,this.updateSource()},getPoint:function(e){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var t=this.points[this.counter];t&&(e.x=t.x,e.y=t.y)}});e.exports=s},function(e,t){e.exports=function(e,t){for(var i=0;i<t.length;i++)if(e.hasOwnProperty(t[i]))return!0;return!1}},function(e,t,i){var s=i(0),n=i(3),a=new s({initialize:function(e){this.source=e,this._tempVec=new n},getPoint:function(e){var t=this._tempVec;this.source.getRandomPoint(t),e.x=t.x,e.y=t.y}});e.exports=a},function(e,t,i){var s=i(0),n=i(12),a=i(75),r=new s({Extends:a,Mixins:[n.PathFollower],initialize:function(e,t,i,s,n,r){a.call(this,e,i,s,n,r),this.path=t},preUpdate:function(e,t){this.anims.update(e,t),this.pathUpdate(e)}});e.exports=r},function(e,t,i){var s=i(1e3),n=i(0),a=i(39),r=i(66),o=i(65),c=i(13),h=i(30),l=new n({Extends:h,Mixins:[s],initialize:function(e,t,i,s,n,a,r,c,l){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=128),void 0===n&&(n=0),void 0===a&&(a=360),void 0===r&&(r=!1),h.call(this,e,"Arc",new o(0,0,s)),this._startAngle=n,this._endAngle=a,this._anticlockwise=r,this._iterations=.01,this.setPosition(t,i);var d=2*this.geom.radius;this.setSize(d,d),void 0!==c&&this.setFillStyle(c,l),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(e){this._iterations=e,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(e){this.geom.radius=e;var t=2*e;this.setSize(t,t),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(e){this._startAngle=e,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(e){this._endAngle=e,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(e){this._anticlockwise=e,this.updateData()}},setRadius:function(e){return this.radius=e,this},setIterations:function(e){return void 0===e&&(e=.01),this.iterations=e,this},setStartAngle:function(e,t){return this._startAngle=e,void 0!==t&&(this._anticlockwise=t),this.updateData()},setEndAngle:function(e,t){return this._endAngle=e,void 0!==t&&(this._anticlockwise=t),this.updateData()},updateData:function(){var e=this._iterations,t=e,i=this.geom.radius,s=a(this._startAngle),n=a(this._endAngle),o=i,h=i;n-=s,this._anticlockwise?n<-c.PI2?n=-c.PI2:n>0&&(n=-c.PI2+n%c.PI2):n>c.PI2?n=c.PI2:n<0&&(n=c.PI2+n%c.PI2);for(var l,d=[o+Math.cos(s)*i,h+Math.sin(s)*i];t<1;)l=n*t+s,d.push(o+Math.cos(l)*i,h+Math.sin(l)*i),t+=e;return l=n+s,d.push(o+Math.cos(l)*i,h+Math.sin(l)*i),d.push(o+Math.cos(s)*i,h+Math.sin(s)*i),this.pathIndexes=r(d),this.pathData=d,this}});e.exports=l},function(e,t,i){var s=i(0),n=i(1003),a=i(66),r=i(11),o=i(30),c=new s({Extends:o,Mixins:[n],initialize:function(e,t,i,s,n,a){void 0===t&&(t=0),void 0===i&&(i=0),o.call(this,e,"Curve",s),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(t,i),void 0!==n&&this.setFillStyle(n,a),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){var e=this._curveBounds,t=this._smoothness;this.geom.getBounds(e,t),this.setSize(e.width,e.height),this.updateDisplayOrigin();for(var i=[],s=this.geom.getPoints(t),n=0;n<s.length;n++)i.push(s[n].x,s[n].y);return i.push(s[0].x,s[0].y),this.pathIndexes=a(i),this.pathData=i,this}});e.exports=c},function(e,t,i){var s=i(0),n=i(66),a=i(1006),r=i(95),o=i(30),c=new s({Extends:o,Mixins:[a],initialize:function(e,t,i,s,n,a,c){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=128),void 0===n&&(n=128),o.call(this,e,"Ellipse",new r(s/2,n/2,s,n)),this._smoothness=64,this.setPosition(t,i),this.width=s,this.height=n,void 0!==a&&this.setFillStyle(a,c),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSize:function(e,t){return this.geom.setSize(e,t),this.updateData()},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){for(var e=[],t=this.geom.getPoints(this._smoothness),i=0;i<t.length;i++)e.push(t[i].x,t[i].y);return e.push(t[0].x,t[0].y),this.pathIndexes=n(e),this.pathData=e,this}});e.exports=c},function(e,t,i){var s=i(0),n=i(30),a=i(1009),r=new s({Extends:n,Mixins:[a],initialize:function(e,t,i,s,a,r,o,c,h,l,d){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=128),void 0===a&&(a=128),void 0===r&&(r=32),void 0===o&&(o=32),n.call(this,e,"Grid",null),this.cellWidth=r,this.cellHeight=o,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(t,i),this.setSize(s,a),void 0!==c&&this.setFillStyle(c,h),void 0!==l&&this.setOutlineStyle(l,d),this.updateDisplayOrigin()},setFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showCells=!1:(this.fillColor=e,this.fillAlpha=t,this.showCells=!0),this},setAltFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showAltCells=!1:(this.altFillColor=e,this.altFillAlpha=t,this.showAltCells=!0),this},setOutlineStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showOutline=!1:(this.outlineFillColor=e,this.outlineFillAlpha=t,this.showOutline=!0),this}});e.exports=r},function(e,t,i){var s=i(1012),n=i(0),a=i(30),r=new n({Extends:a,Mixins:[s],initialize:function(e,t,i,s,n,r,o,c){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=48),void 0===n&&(n=32),void 0===r&&(r=15658734),void 0===o&&(o=10066329),void 0===c&&(c=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=r,this.fillLeft=o,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(t,i),this.setSize(s,n),this.updateDisplayOrigin()},setProjection:function(e){return this.projection=e,this},setFaces:function(e,t,i){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),this.showTop=e,this.showLeft=t,this.showRight=i,this},setFillStyle:function(e,t,i){return this.fillTop=e,this.fillLeft=t,this.fillRight=i,this.isFilled=!0,this}});e.exports=r},function(e,t,i){var s=i(0),n=i(1015),a=i(30),r=new s({Extends:a,Mixins:[n],initialize:function(e,t,i,s,n,r,o,c,h){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=48),void 0===n&&(n=32),void 0===r&&(r=!1),void 0===o&&(o=15658734),void 0===c&&(c=10066329),void 0===h&&(h=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=o,this.fillLeft=c,this.fillRight=h,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=r,this.isFilled=!0,this.setPosition(t,i),this.setSize(s,n),this.updateDisplayOrigin()},setProjection:function(e){return this.projection=e,this},setReversed:function(e){return this.isReversed=e,this},setFaces:function(e,t,i){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),this.showTop=e,this.showLeft=t,this.showRight=i,this},setFillStyle:function(e,t,i){return this.fillTop=e,this.fillLeft=t,this.fillRight=i,this.isFilled=!0,this}});e.exports=r},function(e,t,i){var s=i(0),n=i(30),a=i(56),r=i(1018),o=new s({Extends:n,Mixins:[r],initialize:function(e,t,i,s,r,o,c,h,l){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===o&&(o=128),void 0===c&&(c=0),n.call(this,e,"Line",new a(s,r,o,c));var d=this.geom.right-this.geom.left,u=this.geom.bottom-this.geom.top;this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(t,i),this.setSize(d,u),void 0!==h&&this.setStrokeStyle(1,h,l),this.updateDisplayOrigin()},setLineWidth:function(e,t){return void 0===t&&(t=e),this._startWidth=e,this._endWidth=t,this.lineWidth=e,this},setTo:function(e,t,i,s){return this.geom.setTo(e,t,i,s),this}});e.exports=o},function(e,t,i){var s=i(1021),n=i(0),a=i(66),r=i(418),o=i(201),c=i(30),h=i(421),l=new n({Extends:c,Mixins:[s],initialize:function(e,t,i,s,n,a){void 0===t&&(t=0),void 0===i&&(i=0),c.call(this,e,"Polygon",new o(s));var h=r(this.geom);this.setPosition(t,i),this.setSize(h.width,h.height),void 0!==n&&this.setFillStyle(n,a),this.updateDisplayOrigin(),this.updateData()},smooth:function(e){void 0===e&&(e=1);for(var t=0;t<e;t++)h(this.geom);return this.updateData()},updateData:function(){for(var e=[],t=this.geom.points,i=0;i<t.length;i++)e.push(t[i].x,t[i].y);return e.push(t[0].x,t[0].y),this.pathIndexes=a(e),this.pathData=e,this}});e.exports=l},function(e,t,i){var s=i(11);e.exports=function(e,t){void 0===t&&(t=new s);for(var i,n=1/0,a=1/0,r=-n,o=-a,c=0;c<e.points.length;c++)i=e.points[c],n=Math.min(n,i.x),a=Math.min(a,i.y),r=Math.max(r,i.x),o=Math.max(o,i.y);return t.x=n,t.y=a,t.width=r-n,t.height=o-a,t}},function(e,t,i){var s=i(57),n=i(56),a=i(420);e.exports=function(e,t,i,r){void 0===r&&(r=[]);var o=e.points,c=a(e);!t&&i>0&&(t=c/i);for(var h=0;h<t;h++)for(var l=c*(h/t),d=0,u=0;u<o.length;u++){var p=o[u],f=o[(u+1)%o.length],m=new n(p.x,p.y,f.x,f.y),g=s(m);if(!(l<d||l>d+g)){var y=m.getPoint((l-d)/g);r.push(y);break}d+=g}return r}},function(e,t,i){var s=i(57),n=i(56);e.exports=function(e){for(var t=e.points,i=0,a=0;a<t.length;a++){var r=t[a],o=t[(a+1)%t.length],c=new n(r.x,r.y,o.x,o.y);i+=s(c)}return i}},function(e,t){var i=function(e,t){return e[0]=t[0],e[1]=t[1],e};e.exports=function(e){var t,s=[],n=e.points;for(t=0;t<n.length;t++)s.push([n[t].x,n[t].y]);var a=[];for(s.length>0&&a.push(i([0,0],s[0])),t=0;t<s.length-1;t++){var r=s[t],o=s[t+1],c=r[0],h=r[1],l=o[0],d=o[1];a.push([.85*c+.15*l,.85*h+.15*d]),a.push([.15*c+.85*l,.15*h+.85*d])}return s.length>1&&a.push(i([0,0],s[s.length-1])),e.setTo(a)}},function(e,t,i){var s=i(0),n=i(11),a=i(30),r=i(1024),o=new s({Extends:a,Mixins:[r],initialize:function(e,t,i,s,r,o,c){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=128),void 0===r&&(r=128),a.call(this,e,"Rectangle",new n(0,0,s,r)),this.setPosition(t,i),this.setSize(s,r),void 0!==o&&this.setFillStyle(o,c),this.updateDisplayOrigin(),this.updateData()},updateData:function(){var e=[],t=this.geom,i=this._tempLine;return t.getLineA(i),e.push(i.x1,i.y1,i.x2,i.y2),t.getLineB(i),e.push(i.x2,i.y2),t.getLineC(i),e.push(i.x2,i.y2),t.getLineD(i),e.push(i.x2,i.y2),this.pathData=e,this}});e.exports=o},function(e,t,i){var s=i(1027),n=i(0),a=i(66),r=i(30),o=new n({Extends:r,Mixins:[s],initialize:function(e,t,i,s,n,a,o,c){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=5),void 0===n&&(n=32),void 0===a&&(a=64),r.call(this,e,"Star",null),this._points=s,this._innerRadius=n,this._outerRadius=a,this.setPosition(t,i),this.setSize(2*a,2*a),void 0!==o&&this.setFillStyle(o,c),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],t=this._points,i=this._innerRadius,s=this._outerRadius,n=Math.PI/2*3,r=Math.PI/t,o=s,c=s;e.push(o,c+-s);for(var h=0;h<t;h++)e.push(o+Math.cos(n)*s,c+Math.sin(n)*s),n+=r,e.push(o+Math.cos(n)*i,c+Math.sin(n)*i),n+=r;return e.push(o,c+-s),this.pathIndexes=a(e),this.pathData=e,this}});e.exports=o},function(e,t,i){var s=i(0),n=i(30),a=i(71),r=i(1030),o=new s({Extends:n,Mixins:[r],initialize:function(e,t,i,s,r,o,c,h,l,d,u){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===r&&(r=128),void 0===o&&(o=64),void 0===c&&(c=0),void 0===h&&(h=128),void 0===l&&(l=128),n.call(this,e,"Triangle",new a(s,r,o,c,h,l));var p=this.geom.right-this.geom.left,f=this.geom.bottom-this.geom.top;this.setPosition(t,i),this.setSize(p,f),void 0!==d&&this.setFillStyle(d,u),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,t,i,s,n,a){return this.geom.setTo(e,t,i,s,n,a),this.updateData()},updateData:function(){var e=[],t=this.geom,i=this._tempLine;return t.getLineA(i),e.push(i.x1,i.y1,i.x2,i.y2),t.getLineB(i),e.push(i.x2,i.y2),t.getLineC(i),e.push(i.x2,i.y2),this.pathData=e,this}});e.exports=o},function(e,t,i){var s=i(4),n=i(57);e.exports=function(e,t,i){void 0===i&&(i=new s);var a=e.getLineA(),r=e.getLineB(),o=e.getLineC();if(t<=0||t>=1)return i.x=a.x1,i.y=a.y1,i;var c=n(a),h=n(r),l=n(o),d=(c+h+l)*t,u=0;return d<c?(u=d/c,i.x=a.x1+(a.x2-a.x1)*u,i.y=a.y1+(a.y2-a.y1)*u):d>c+h?(u=(d-=c+h)/l,i.x=o.x1+(o.x2-o.x1)*u,i.y=o.y1+(o.y2-o.y1)*u):(u=(d-=c)/h,i.x=r.x1+(r.x2-r.x1)*u,i.y=r.y1+(r.y2-r.y1)*u),i}},function(e,t,i){var s=i(57),n=i(4);e.exports=function(e,t,i,a){void 0===a&&(a=[]);var r=e.getLineA(),o=e.getLineB(),c=e.getLineC(),h=s(r),l=s(o),d=s(c),u=h+l+d;!t&&i>0&&(t=u/i);for(var p=0;p<t;p++){var f=u*(p/t),m=0,g=new n;f<h?(m=f/h,g.x=r.x1+(r.x2-r.x1)*m,g.y=r.y1+(r.y2-r.y1)*m):f>h+l?(m=(f-=h+l)/d,g.x=c.x1+(c.x2-c.x1)*m,g.y=c.y1+(c.y2-c.y1)*m):(m=(f-=h)/l,g.x=o.x1+(o.x2-o.x1)*m,g.y=o.y1+(o.y2-o.y1)*m),a.push(g)}return a}},function(e,t){e.exports=function(e,t,i){if(!e||"number"==typeof e)return!1;if(e.hasOwnProperty(t))return e[t]=i,!0;if(-1!==t.indexOf(".")){for(var s=t.split("."),n=e,a=e,r=0;r<s.length;r++){if(!n.hasOwnProperty(s[r]))return!1;a=n,n=n[s[r]]}return a[s[s.length-1]]=i,!0}return!1}},function(e,t,i){var s=i(0),n=i(9),a=new s({initialize:function(e,t,i,s,n,a,r){this.x=e,this.y=t,this.radius=i,this.r=s,this.g=n,this.b=a,this.intensity=r,this.scrollFactorX=1,this.scrollFactorY=1},set:function(e,t,i,s,n,a,r){return this.x=e,this.y=t,this.radius=i,this.r=s,this.g=n,this.b=a,this.intensity=r,this.scrollFactorX=1,this.scrollFactorY=1,this},setScrollFactor:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),this.scrollFactorX=e,this.scrollFactorY=t,this},setColor:function(e){var t=n.getFloatsFromUintRGB(e);return this.r=t[0],this.g=t[1],this.b=t[2],this},setIntensity:function(e){return this.intensity=e,this},setPosition:function(e,t){return this.x=e,this.y=t,this},setRadius:function(e){return this.radius=e,this}});e.exports=a},function(e,t,i){var s=i(0),n=i(428),a=i(9),r=new s({initialize:function(){this.lightPool=[],this.lights=[],this.culledLights=[],this.ambientColor={r:.1,g:.1,b:.1},this.active=!1,this.maxLights=-1},enable:function(){return-1===this.maxLights&&(this.maxLights=this.scene.sys.game.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},cull:function(e){var t=this.lights,i=this.culledLights,s=t.length,n=e.x+e.width/2,a=e.y+e.height/2,r=(e.width+e.height)/2,o={x:0,y:0},c=e.matrix,h=this.systems.game.config.height;i.length=0;for(var l=0;l<s&&i.length<this.maxLights;l++){var d=t[l];c.transformPoint(d.x,d.y,o);var u=n-(o.x-e.scrollX*d.scrollFactorX*e.zoom),p=a-(h-(o.y-e.scrollY*d.scrollFactorY*e.zoom));Math.sqrt(u*u+p*p)<d.radius+r&&i.push(t[l])}return i},forEachLight:function(e){if(e){for(var t=this.lights,i=t.length,s=0;s<i;++s)e(t[s]);return this}},setAmbientColor:function(e){var t=a.getFloatsFromUintRGB(e);return this.ambientColor.r=t[0],this.ambientColor.g=t[1],this.ambientColor.b=t[2],this},getMaxVisibleLights:function(){return 10},getLightCount:function(){return this.lights.length},addLight:function(e,t,i,s,r){var o,c=null;return e=void 0===e?0:e,t=void 0===t?0:t,s=void 0===s?16777215:s,i=void 0===i?100:i,r=void 0===r?1:r,o=a.getFloatsFromUintRGB(s),c=null,this.lightPool.length>0?(c=this.lightPool.pop()).set(e,t,i,o[0],o[1],o[2],r):c=new n(e,t,i,o[0],o[1],o[2],r),this.lights.push(c),c},removeLight:function(e){var t=this.lights.indexOf(e);return t>=0&&(this.lightPool.push(e),this.lights.splice(t,1)),this},shutdown:function(){for(;this.lights.length>0;)this.lightPool.push(this.lights.pop());this.ambientColor={r:.1,g:.1,b:.1},this.culledLights.length=0,this.lights.length=0},destroy:function(){this.shutdown()}});e.exports=r},function(e,t,i){var s=i(47),n=i(18),a={Circle:i(1090),Ellipse:i(1100),Intersects:i(431),Line:i(1119),Point:i(1141),Polygon:i(1155),Rectangle:i(444),Triangle:i(1186)};a=n(!1,a,s),e.exports=a},function(e,t,i){e.exports={CircleToCircle:i(205),CircleToRectangle:i(206),GetCircleToCircle:i(1110),GetCircleToRectangle:i(1111),GetLineToCircle:i(207),GetLineToRectangle:i(209),GetRectangleIntersection:i(1112),GetRectangleToRectangle:i(1113),GetRectangleToTriangle:i(1114),GetTriangleToCircle:i(1115),GetTriangleToLine:i(436),GetTriangleToTriangle:i(1116),LineToCircle:i(208),LineToLine:i(84),LineToRectangle:i(432),PointToLine:i(440),PointToLineSegment:i(1117),RectangleToRectangle:i(135),RectangleToTriangle:i(433),RectangleToValues:i(1118),TriangleToCircle:i(435),TriangleToLine:i(437),TriangleToTriangle:i(438)}},function(e,t){e.exports=function(e,t){var i=e.x1,s=e.y1,n=e.x2,a=e.y2,r=t.x,o=t.y,c=t.right,h=t.bottom,l=0;if(i>=r&&i<=c&&s>=o&&s<=h||n>=r&&n<=c&&a>=o&&a<=h)return!0;if(i<r&&n>=r){if((l=s+(a-s)*(r-i)/(n-i))>o&&l<=h)return!0}else if(i>c&&n<=c&&(l=s+(a-s)*(c-i)/(n-i))>=o&&l<=h)return!0;if(s<o&&a>=o){if((l=i+(n-i)*(o-s)/(a-s))>=r&&l<=c)return!0}else if(s>h&&a<=h&&(l=i+(n-i)*(h-s)/(a-s))>=r&&l<=c)return!0;return!1}},function(e,t,i){var s=i(84),n=i(48),a=i(210),r=i(434);e.exports=function(e,t){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)return!1;var i=t.getLineA(),o=t.getLineB(),c=t.getLineC();if(n(e,i.x1,i.y1)||n(e,i.x2,i.y2))return!0;if(n(e,o.x1,o.y1)||n(e,o.x2,o.y2))return!0;if(n(e,c.x1,c.y1)||n(e,c.x2,c.y2))return!0;var h=e.getLineA(),l=e.getLineB(),d=e.getLineC(),u=e.getLineD();if(s(i,h)||s(i,l)||s(i,d)||s(i,u))return!0;if(s(o,h)||s(o,l)||s(o,d)||s(o,u))return!0;if(s(c,h)||s(c,l)||s(c,d)||s(c,u))return!0;var p=r(e);return a(t,p,!0).length>0}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=[]),t.push({x:e.x,y:e.y}),t.push({x:e.right,y:e.y}),t.push({x:e.right,y:e.bottom}),t.push({x:e.x,y:e.bottom}),t}},function(e,t,i){var s=i(208),n=i(83);e.exports=function(e,t){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top||!n(e,t.x,t.y)&&!s(e.getLineA(),t)&&!s(e.getLineB(),t)&&!s(e.getLineC(),t))}},function(e,t,i){var s=i(4),n=i(437),a=i(84);e.exports=function(e,t,i){if(void 0===i&&(i=[]),n(e,t))for(var r=e.getLineA(),o=e.getLineB(),c=e.getLineC(),h=[new s,new s,new s],l=[a(r,t,h[0]),a(o,t,h[1]),a(c,t,h[2])],d=0;d<3;d++)l[d]&&i.push(h[d]);return i}},function(e,t,i){var s=i(83),n=i(84);e.exports=function(e,t){return!!(s(e,t.getPointA())||s(e,t.getPointB())||n(e.getLineA(),t)||n(e.getLineB(),t)||n(e.getLineC(),t))}},function(e,t,i){var s=i(210),n=i(439),a=i(84);e.exports=function(e,t){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)return!1;var i=e.getLineA(),r=e.getLineB(),o=e.getLineC(),c=t.getLineA(),h=t.getLineB(),l=t.getLineC();if(a(i,c)||a(i,h)||a(i,l))return!0;if(a(r,c)||a(r,h)||a(r,l))return!0;if(a(o,c)||a(o,h)||a(o,l))return!0;var d=n(e),u=s(t,d,!0);return u.length>0||(d=n(t),(u=s(e,d,!0)).length>0)}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=[]),t.push({x:e.x1,y:e.y1}),t.push({x:e.x2,y:e.y2}),t.push({x:e.x3,y:e.y3}),t}},function(e,t){e.exports=function(e,t,i){void 0===i&&(i=1);var s=t.x1,n=t.y1,a=t.x2,r=t.y2,o=e.x,c=e.y,h=(a-s)*(a-s)+(r-n)*(r-n);if(0===h)return!1;var l=((o-s)*(a-s)+(c-n)*(r-n))/h;if(l<0)return Math.sqrt((s-o)*(s-o)+(n-c)*(n-c))<=i;if(l>=0&&l<=1){var d=((n-c)*(a-s)-(s-o)*(r-n))/h;return Math.abs(d)*Math.sqrt(h)<=i}return Math.sqrt((a-o)*(a-o)+(r-c)*(r-c))<=i}},function(e,t,i){var s=i(13),n=i(58),a=i(85);e.exports=function(e){var t=a(e)-s.TAU;return n(t,-Math.PI,Math.PI)}},function(e,t){e.exports=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}},function(e,t){e.exports=function(e){return e.x*e.x+e.y*e.y}},function(e,t,i){var s=i(11);s.Area=i(1160),s.Ceil=i(1161),s.CeilAll=i(1162),s.CenterOn=i(168),s.Clone=i(1163),s.Contains=i(48),s.ContainsPoint=i(1164),s.ContainsRect=i(445),s.CopyFrom=i(1165),s.Decompose=i(434),s.Equals=i(1166),s.FitInside=i(1167),s.FitOutside=i(1168),s.Floor=i(1169),s.FloorAll=i(1170),s.FromPoints=i(176),s.FromXY=i(1171),s.GetAspectRatio=i(212),s.GetCenter=i(1172),s.GetPoint=i(152),s.GetPoints=i(274),s.GetSize=i(1173),s.Inflate=i(1174),s.Intersection=i(1175),s.MarchingAnts=i(285),s.MergePoints=i(1176),s.MergeRect=i(1177),s.MergeXY=i(1178),s.Offset=i(1179),s.OffsetPoint=i(1180),s.Overlaps=i(1181),s.Perimeter=i(112),s.PerimeterPoint=i(1182),s.Random=i(155),s.RandomOutside=i(1183),s.SameDimensions=i(1184),s.Scale=i(1185),s.Union=i(394),e.exports=s},function(e,t){e.exports=function(e,t){return!(t.width*t.height>e.width*e.height)&&t.x>e.x&&t.x<e.right&&t.right>e.x&&t.right<e.right&&t.y>e.y&&t.y<e.bottom&&t.bottom>e.y&&t.bottom<e.bottom}},function(e,t,i){var s=i(4);e.exports=function(e,t){return void 0===t&&(t=new s),t.x=(e.x1+e.x2+e.x3)/3,t.y=(e.y1+e.y2+e.y3)/3,t}},function(e,t){e.exports=function(e,t,i){return e.x1+=t,e.y1+=i,e.x2+=t,e.y2+=i,e.x3+=t,e.y3+=i,e}},function(e,t,i){var s=i(4);function n(e,t,i,s){var n=e-i,a=t-s,r=n*n+a*a;return Math.sqrt(r)}e.exports=function(e,t){void 0===t&&(t=new s);var i=e.x1,a=e.y1,r=e.x2,o=e.y2,c=e.x3,h=e.y3,l=n(c,h,r,o),d=n(i,a,c,h),u=n(r,o,i,a),p=l+d+u;return t.x=(i*l+r*d+c*u)/p,t.y=(a*l+o*d+h*u)/p,t}},function(e,t){e.exports=function(e,t,i){return{gameObject:e,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:t,hitAreaCallback:i,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}}},function(e,t,i){var s=new(i(0))({initialize:function(e,t){this.pad=e,this.events=e.events,this.index=t,this.value=0,this.threshold=.1},update:function(e){this.value=e},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});e.exports=s},function(e,t,i){var s=i(0),n=i(214),a=new s({initialize:function(e,t){this.pad=e,this.events=e.manager,this.index=t,this.value=0,this.threshold=1,this.pressed=!1},update:function(e){this.value=e;var t=this.pad,i=this.index;e>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(n.BUTTON_DOWN,t,this,e),this.pad.emit(n.GAMEPAD_BUTTON_DOWN,i,e,this)):this.pressed&&(this.pressed=!1,this.events.emit(n.BUTTON_UP,t,this,e),this.pad.emit(n.GAMEPAD_BUTTON_UP,i,e,this))},destroy:function(){this.pad=null,this.events=null}});e.exports=a},function(e,t,i){var s=i(450),n=i(451),a=i(0),r=i(10),o=i(3),c=new a({Extends:r,initialize:function(e,t){r.call(this),this.manager=e,this.pad=t,this.id=t.id,this.index=t.index;for(var i=[],a=0;a<t.buttons.length;a++)i.push(new n(this,a));this.buttons=i;var c=[];for(a=0;a<t.axes.length;a++)c.push(new s(this,a));this.axes=c,this.vibration=t.vibrationActuator;var h={value:0,pressed:!1};this._LCLeft=i[14]?i[14]:h,this._LCRight=i[15]?i[15]:h,this._LCTop=i[12]?i[12]:h,this._LCBottom=i[13]?i[13]:h,this._RCLeft=i[2]?i[2]:h,this._RCRight=i[1]?i[1]:h,this._RCTop=i[3]?i[3]:h,this._RCBottom=i[0]?i[0]:h,this._FBLeftTop=i[4]?i[4]:h,this._FBLeftBottom=i[6]?i[6]:h,this._FBRightTop=i[5]?i[5]:h,this._FBRightBottom=i[7]?i[7]:h;var l={value:0};this._HAxisLeft=c[0]?c[0]:l,this._VAxisLeft=c[1]?c[1]:l,this._HAxisRight=c[2]?c[2]:l,this._VAxisRight=c[3]?c[3]:l,this.leftStick=new o,this.rightStick=new o},getAxisTotal:function(){return this.axes.length},getAxisValue:function(e){return this.axes[e].getValue()},setAxisThreshold:function(e){for(var t=0;t<this.axes.length;t++)this.axes[t].threshold=e},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(e){return this.buttons[e].value},isButtonDown:function(e){return this.buttons[e].pressed},update:function(e){var t,i=this.buttons,s=e.buttons,n=i.length;for(t=0;t<n;t++)i[t].update(s[t].value);var a=this.axes,r=e.axes;for(n=a.length,t=0;t<n;t++)a[t].update(r[t]);n>=2&&(this.leftStick.set(a[0].getValue(),a[1].getValue()),n>=4&&this.rightStick.set(a[2].getValue(),a[3].getValue()))},destroy:function(){var e;for(this.removeAllListeners(),this.manager=null,this.pad=null,e=0;e<this.buttons.length;e++)this.buttons[e].destroy();for(e=0;e<this.axes.length;e++)this.axes[e].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});e.exports=c},function(e,t,i){var s=i(0),n=i(10),a=i(137),r=new s({Extends:n,initialize:function(e,t){n.call(this),this.plugin=e,this.keyCode=t,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(e){return this.emitOnRepeat=e,this},onDown:function(e){this.originalEvent=e,this.enabled&&(this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.location=e.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,e):(this.isDown=!0,this.isUp=!1,this.timeDown=e.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,e)))},onUp:function(e){this.originalEvent=e,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=e.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,e))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});e.exports=r},function(e,t,i){var s=i(0),n=i(137),a=i(2),r=i(1225),o=i(1227),c=new s({initialize:function(e,t,i){if(void 0===i&&(i={}),t.length<2)return!1;this.manager=e,this.enabled=!0,this.keyCodes=[];for(var s=0;s<t.length;s++){var c=t[s];"string"==typeof c?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):"number"==typeof c?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(i,"resetOnWrongKey",!0),this.maxKeyDelay=a(i,"maxKeyDelay",0),this.resetOnMatch=a(i,"resetOnMatch",!1),this.deleteOnMatch=a(i,"deleteOnMatch",!1);var h=this;this.onKeyDown=function(e){!h.matched&&h.enabled&&r(e,h)&&(h.manager.emit(n.COMBO_MATCH,h,e),h.resetOnMatch?o(h):h.deleteOnMatch&&h.destroy())},this.manager.on(n.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(n.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});e.exports=c},function(e,t,i){var s=i(215);e.exports=function(e,t){var i=s(t,e.xhrSettings),n=new XMLHttpRequest;if(n.open("GET",e.src,i.async,i.user,i.password),n.responseType=e.xhrSettings.responseType,n.timeout=i.timeout,i.headers)for(var a in i.headers)n.setRequestHeader(a,i.headers[a]);return i.header&&i.headerValue&&n.setRequestHeader(i.header,i.headerValue),i.requestedWith&&n.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&n.overrideMimeType(i.overrideMimeType),i.withCredentials&&(n.withCredentials=!0),n.onload=e.onLoad.bind(e,n),n.onerror=e.onError.bind(e,n),n.onprogress=e.onProgress.bind(e),n.send(),n}},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(457),h=i(7),l=new s({Extends:a,initialize:function(e,t,i,s,n){if(h(t)){var r=t;t=o(r,"key"),s=o(r,"xhrSettings"),n=o(r,"context",n)}var c={type:"audio",cache:e.cacheManager.audio,extension:i.type,responseType:"arraybuffer",key:t,url:i.url,xhrSettings:s,config:{context:n}};a.call(this,e,c)},onProcess:function(){this.state=n.FILE_PROCESSING;var e=this;this.config.context.decodeAudioData(this.xhrLoader.response,(function(t){e.data=t,e.onProcessComplete()}),(function(t){console.error("Error decoding audio: "+e.key+" - ",t?t.message:null),e.onProcessError()})),this.config.context=null}});l.create=function(e,t,i,s,n){var a=e.systems.game,r=a.config.audio,d=a.device.audio;h(t)&&(i=o(t,"url",[]),s=o(t,"config",{}));var u=l.getAudioURL(a,i);return u?!d.webAudio||r&&r.disableWebAudio?new c(e,t,u,s):new l(e,t,u,n,a.sound.context):null},l.getAudioURL=function(e,t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var s=o(t[i],"url",t[i]);if(0===s.indexOf("blob:")||0===s.indexOf("data:"))return{url:s,type:""};var n=s.match(/\.([a-zA-Z0-9]+)($|\?)/);if(n=o(t[i],"type",n?n[1]:"").toLowerCase(),e.device.audio[n])return{url:s,type:n}}return null},r.register("audio",(function(e,t,i,s){var n,a=this.systems.game,r=a.config.audio,o=a.device.audio;if(r&&r.noAudio||!o.webAudio&&!o.audioData)return this;if(Array.isArray(e))for(var c=0;c<e.length;c++)(n=l.create(this,e[c]))&&this.addFile(n);else(n=l.create(this,e,t,i,s))&&this.addFile(n);return this})),e.exports=l},function(e,t,i){var s=i(0),n=i(82),a=i(21),r=i(2),o=i(138),c=i(7),h=new s({Extends:a,initialize:function(e,t,i,s){if(c(t)){var n=t;t=r(n,"key"),s=r(n,"config",s)}var o={type:"audio",cache:e.cacheManager.audio,extension:i.type,key:t,url:i.url,config:s};a.call(this,e,o),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var e=0;e<this.data.length;e++){var t=this.data[e];t.oncanplaythrough=null,t.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(e){var t=e.target;t.oncanplaythrough=null,t.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(n.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var e=this.config&&this.config.instances||1;this.filesTotal=e,this.filesLoaded=0,this.percentComplete=0;for(var t=0;t<e;t++){var i=new Audio;i.dataset||(i.dataset={}),i.dataset.name=this.key+("0"+t).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i)}for(t=0;t<this.data.length;t++)(i=this.data[t]).src=o(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}});e.exports=h},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=new s({Extends:a,initialize:function(e,t,i,s){var n="js";if(c(t)){var r=t;t=o(r,"key"),i=o(r,"url"),s=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"script",cache:!1,extension:n,responseType:"text",key:t,url:i,xhrSettings:s};a.call(this,e,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",(function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new h(this,e[s]));else this.addFile(new h(this,e,t,i));return this})),e.exports=h},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=new s({Extends:a,initialize:function(e,t,i,s){var n="txt";if(c(t)){var r=t;t=o(r,"key"),i=o(r,"url"),s=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"text",cache:e.cacheManager.text,extension:n,responseType:"text",key:t,url:i,xhrSettings:s};a.call(this,e,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",(function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new h(this,e[s]));else this.addFile(new h(this,e,t,i));return this})),e.exports=h},function(e,t,i){var s=i(461),n=i(140),a=i(0),r=i(50),o=i(462),c=i(463),h=new a({initialize:function(e){this.world=e,this.scene=e.scene,this.sys=e.scene.sys},collider:function(e,t,i,s,n){return this.world.addCollider(e,t,i,s,n)},overlap:function(e,t,i,s,n){return this.world.addOverlap(e,t,i,s,n)},existing:function(e,t){var i=t?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(e,i),e},staticImage:function(e,t,i,n){var a=new s(this.scene,e,t,i,n);return this.sys.displayList.add(a),this.world.enableBody(a,r.STATIC_BODY),a},image:function(e,t,i,n){var a=new s(this.scene,e,t,i,n);return this.sys.displayList.add(a),this.world.enableBody(a,r.DYNAMIC_BODY),a},staticSprite:function(e,t,i,s){var a=new n(this.scene,e,t,i,s);return this.sys.displayList.add(a),this.sys.updateList.add(a),this.world.enableBody(a,r.STATIC_BODY),a},sprite:function(e,t,i,s){var a=new n(this.scene,e,t,i,s);return this.sys.displayList.add(a),this.sys.updateList.add(a),this.world.enableBody(a,r.DYNAMIC_BODY),a},staticGroup:function(e,t){return this.sys.updateList.add(new c(this.world,this.world.scene,e,t))},group:function(e,t){return this.sys.updateList.add(new o(this.world,this.world.scene,e,t))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});e.exports=h},function(e,t,i){var s=i(0),n=i(217),a=i(107),r=new s({Extends:a,Mixins:[n.Acceleration,n.Angular,n.Bounce,n.Debug,n.Drag,n.Enable,n.Friction,n.Gravity,n.Immovable,n.Mass,n.Size,n.Velocity],initialize:function(e,t,i,s,n){a.call(this,e,t,i,s,n),this.body=null}});e.exports=r},function(e,t,i){var s=i(140),n=i(0),a=i(50),r=i(2),o=i(97),c=i(7),h=new n({Extends:o,initialize:function(e,t,i,n){if(i||n)if(c(i))n=i,i=null,n.internalCreateCallback=this.createCallbackHandler,n.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(i)&&c(i[0])){n=i[0];var h=this;i.forEach((function(e){e.internalCreateCallback=h.createCallbackHandler,e.internalRemoveCallback=h.removeCallbackHandler})),i=null}else n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=e,n.classType=r(n,"classType",s),this.physicsType=a.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:r(n,"collideWorldBounds",!1),setBoundsRectangle:r(n,"customBoundsRectangle",null),setAccelerationX:r(n,"accelerationX",0),setAccelerationY:r(n,"accelerationY",0),setAllowDrag:r(n,"allowDrag",!0),setAllowGravity:r(n,"allowGravity",!0),setAllowRotation:r(n,"allowRotation",!0),setBounceX:r(n,"bounceX",0),setBounceY:r(n,"bounceY",0),setDragX:r(n,"dragX",0),setDragY:r(n,"dragY",0),setEnable:r(n,"enable",!0),setGravityX:r(n,"gravityX",0),setGravityY:r(n,"gravityY",0),setFrictionX:r(n,"frictionX",0),setFrictionY:r(n,"frictionY",0),setVelocityX:r(n,"velocityX",0),setVelocityY:r(n,"velocityY",0),setAngularVelocity:r(n,"angularVelocity",0),setAngularAcceleration:r(n,"angularAcceleration",0),setAngularDrag:r(n,"angularDrag",0),setMass:r(n,"mass",1),setImmovable:r(n,"immovable",!1)},o.call(this,t,i,n),this.type="PhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,a.DYNAMIC_BODY);var t=e.body;for(var i in this.defaults)t[i](this.defaults[i])},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},setVelocity:function(e,t,i){void 0===i&&(i=0);for(var s=this.getChildren(),n=0;n<s.length;n++)s[n].body.velocity.set(e+n*i,t+n*i);return this},setVelocityX:function(e,t){void 0===t&&(t=0);for(var i=this.getChildren(),s=0;s<i.length;s++)i[s].body.velocity.x=e+s*t;return this},setVelocityY:function(e,t){void 0===t&&(t=0);for(var i=this.getChildren(),s=0;s<i.length;s++)i[s].body.velocity.y=e+s*t;return this}});e.exports=h},function(e,t,i){var s=i(140),n=i(0),a=i(50),r=i(2),o=i(97),c=i(7),h=new n({Extends:o,initialize:function(e,t,i,n){i||n?c(i)?(n=i,i=null,n.internalCreateCallback=this.createCallbackHandler,n.internalRemoveCallback=this.removeCallbackHandler,n.createMultipleCallback=this.createMultipleCallbackHandler,n.classType=r(n,"classType",s)):Array.isArray(i)&&c(i[0])?(n=i,i=null,n.forEach((function(e){e.internalCreateCallback=this.createCallbackHandler,e.internalRemoveCallback=this.removeCallbackHandler,e.createMultipleCallback=this.createMultipleCallbackHandler,e.classType=r(e,"classType",s)}))):n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:s},this.world=e,this.physicsType=a.STATIC_BODY,o.call(this,t,i,n),this.type="StaticPhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,a.STATIC_BODY)},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var e=this.children.entries,t=0;t<e.length;t++)e[t].body.reset();return this}});e.exports=h},function(e,t){e.exports=function(e,t,i,s,n,a,r){void 0===a&&(a=!0),void 0===r&&(r=!1);var o=[],c=[],h=e.treeMinMax;if(h.minX=t,h.minY=i,h.maxX=t+s,h.maxY=i+n,r&&(c=e.staticTree.search(h)),a&&e.useTree)o=e.tree.search(h);else if(a){var l=e.bodies,d={position:{x:t,y:i},left:t,top:i,right:t+s,bottom:i+n,isCircle:!1},u=e.intersects;l.iterate((function(e){u(e,d)&&o.push(e)}))}return c.concat(o)}},function(e,t,i){var s=i(318),n=i(466),a=i(19),r=i(0),o=i(467),c=i(50),h=i(53),l=i(10),d=i(218),u=i(106),p=i(322),f=i(323),m=i(468),g=i(469),y=i(6),v=i(13),w=i(186),b=i(1284),x=i(11),k=i(470),T=i(1285),_=i(1290),S=i(1291),C=i(133),P=i(472),B=i(471),A=i(29),E=i(3),M=i(58),O=new r({Extends:l,initialize:function(e,t){l.call(this),this.scene=e,this.bodies=new C,this.staticBodies=new C,this.pendingDestroy=new C,this.colliders=new w,this.gravity=new E(y(t,"gravity.x",0),y(t,"gravity.y",0)),this.bounds=new x(y(t,"x",0),y(t,"y",0),y(t,"width",e.sys.scale.width),y(t,"height",e.sys.scale.height)),this.checkCollision={up:y(t,"checkCollision.up",!0),down:y(t,"checkCollision.down",!0),left:y(t,"checkCollision.left",!0),right:y(t,"checkCollision.right",!0)},this.fps=y(t,"fps",60),this.fixedStep=!0,this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(t,"timeScale",1),this.OVERLAP_BIAS=y(t,"overlapBias",4),this.TILE_BIAS=y(t,"tileBias",16),this.forceX=y(t,"forceX",!1),this.isPaused=y(t,"isPaused",!1),this._total=0,this.drawDebug=y(t,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(t,"debugShowBody",!0),debugShowStaticBody:y(t,"debugShowStaticBody",!0),debugShowVelocity:y(t,"debugShowVelocity",!0),bodyDebugColor:y(t,"debugBodyColor",16711935),staticBodyDebugColor:y(t,"debugStaticBodyColor",255),velocityDebugColor:y(t,"debugVelocityColor",65280)},this.maxEntries=y(t,"maxEntries",16),this.useTree=y(t,"useTree",!0),this.tree=new k(this.maxEntries),this.staticTree=new k(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new A,this._tempMatrix2=new A,this.drawDebug&&this.createDebugGraphic()},enable:function(e,t){void 0===t&&(t=c.DYNAMIC_BODY),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var s=e[i];if(s.isParent)for(var n=s.getChildren(),a=0;a<n.length;a++){var r=n[a];r.isParent?this.enable(r,t):this.enableBody(r,t)}else this.enableBody(s,t)}},enableBody:function(e,t){return void 0===t&&(t=c.DYNAMIC_BODY),e.body||(t===c.DYNAMIC_BODY?e.body=new n(this,e):t===c.STATIC_BODY&&(e.body=new P(this,e))),this.add(e.body),e},add:function(e){return e.physicsType===c.DYNAMIC_BODY?this.bodies.set(e):e.physicsType===c.STATIC_BODY&&(this.staticBodies.set(e),this.staticTree.insert(e)),e.enable=!0,e},disable:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];if(i.isParent)for(var s=i.getChildren(),n=0;n<s.length;n++){var a=s[n];a.isParent?this.disable(a):this.disableBody(a.body)}else this.disableBody(i.body)}},disableBody:function(e){this.remove(e),e.enable=!1},remove:function(e){e.physicsType===c.DYNAMIC_BODY?(this.tree.remove(e),this.bodies.delete(e)):e.physicsType===c.STATIC_BODY&&(this.staticBodies.delete(e),this.staticTree.remove(e))},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},setBounds:function(e,t,i,s,n,a,r,o){return this.bounds.setTo(e,t,i,s),void 0!==n&&this.setBoundsCollision(n,a,r,o),this},setBoundsCollision:function(e,t,i,s){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===s&&(s=!0),this.checkCollision.left=e,this.checkCollision.right=t,this.checkCollision.up=i,this.checkCollision.down=s,this},pause:function(){return this.isPaused=!0,this.emit(d.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(d.RESUME),this},addCollider:function(e,t,i,s,n){void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i);var a=new o(this,!1,e,t,i,s,n);return this.colliders.add(a),a},addOverlap:function(e,t,i,s,n){void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i);var a=new o(this,!0,e,t,i,s,n);return this.colliders.add(a),a},removeCollider:function(e){return this.colliders.remove(e),this},setFPS:function(e){return this.fps=e,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(e,t){if(!this.isPaused&&0!==this.bodies.size){var i,s,n=this._frameTime,a=this._frameTimeMS*this.timeScale;this._elapsed+=t;var r=this.bodies.entries,o=this._elapsed>=a;for(this.fixedStep||(n=.001*t,o=!0,this._elapsed=0),i=0;i<r.length;i++)(s=r[i]).enable&&s.preUpdate(o,n);if(o){this._elapsed-=a,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(r));var c=this.colliders.update();for(i=0;i<c.length;i++){var h=c[i];h.active&&h.update()}this.emit(d.WORLD_STEP)}for(;this._elapsed>=a;)this._elapsed-=a,this.step(n)}},step:function(e){var t,i,s=this.bodies.entries,n=s.length;for(t=0;t<n;t++)(i=s[t]).enable&&i.update(e);this.useTree&&(this.tree.clear(),this.tree.load(s));var a=this.colliders.update();for(t=0;t<a.length;t++){var r=a[t];r.active&&r.update()}this.emit(d.WORLD_STEP),this.stepsLastFrame++},postUpdate:function(){var e,t,i=this.bodies.entries,s=i.length,n=this.bodies,a=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,e=0;e<s;e++)(t=i[e]).enable&&t.postUpdate();if(this.drawDebug){var r=this.debugGraphic;for(r.clear(),e=0;e<s;e++)(t=i[e]).willDrawDebug()&&t.drawDebug(r);for(s=(i=a.entries).length,e=0;e<s;e++)(t=i[e]).willDrawDebug()&&t.drawDebug(r)}var o=this.pendingDestroy;if(o.size>0){var h=this.tree,l=this.staticTree;for(s=(i=o.entries).length,e=0;e<s;e++)(t=i[e]).physicsType===c.DYNAMIC_BODY?(h.remove(t),n.delete(t)):t.physicsType===c.STATIC_BODY&&(l.remove(t),a.delete(t)),t.world=void 0,t.gameObject=void 0;o.clear()}},updateMotion:function(e,t){e.allowRotation&&this.computeAngularVelocity(e,t),this.computeVelocity(e,t)},computeAngularVelocity:function(e,t){var i=e.angularVelocity,s=e.angularAcceleration,n=e.angularDrag,r=e.maxAngular;s?i+=s*t:e.allowDrag&&n&&(p(i-(n*=t),0,.1)?i-=n:f(i+n,0,.1)?i+=n:i=0);var o=(i=a(i,-r,r))-e.angularVelocity;e.angularVelocity+=o,e.rotation+=e.angularVelocity*t},computeVelocity:function(e,t){var i=e.velocity.x,s=e.acceleration.x,n=e.drag.x,r=e.maxVelocity.x,o=e.velocity.y,c=e.acceleration.y,h=e.drag.y,l=e.maxVelocity.y,d=e.speed,m=e.maxSpeed,g=e.allowDrag,y=e.useDamping;e.allowGravity&&(i+=(this.gravity.x+e.gravity.x)*t,o+=(this.gravity.y+e.gravity.y)*t),s?i+=s*t:g&&n&&(y?(i*=n,d=Math.sqrt(i*i+o*o),u(d,0,.001)&&(i=0)):p(i-(n*=t),0,.01)?i-=n:f(i+n,0,.01)?i+=n:i=0),c?o+=c*t:g&&h&&(y?(o*=h,d=Math.sqrt(i*i+o*o),u(d,0,.001)&&(o=0)):p(o-(h*=t),0,.01)?o-=h:f(o+h,0,.01)?o+=h:o=0),i=a(i,-r,r),o=a(o,-l,l),e.velocity.set(i,o),m>-1&&d>m&&(e.velocity.normalize().scale(m),d=m),e.speed=d},separate:function(e,t,i,s,n,a){if(!a&&!e.enable||!t.enable||e.checkCollision.none||t.checkCollision.none||!this.intersects(e,t))return!1;if(i&&!1===i.call(s,e.gameObject,t.gameObject))return!1;if(e.isCircle&&t.isCircle)return this.separateCircle(e,t,n);if(e.isCircle!==t.isCircle){var r=e.isCircle?t:e,o=e.isCircle?e:t,c={x:r.x,y:r.y,right:r.right,bottom:r.bottom},h=o.center;if((h.y<c.y||h.y>c.bottom)&&(h.x<c.x||h.x>c.right))return this.separateCircle(e,t,n)}var l=!1,u=!1;n?(l=_(e,t,n,this.OVERLAP_BIAS),u=S(e,t,n,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+e.gravity.y)<Math.abs(this.gravity.x+e.gravity.x)?(l=_(e,t,n,this.OVERLAP_BIAS),this.intersects(e,t)&&(u=S(e,t,n,this.OVERLAP_BIAS))):(u=S(e,t,n,this.OVERLAP_BIAS),this.intersects(e,t)&&(l=_(e,t,n,this.OVERLAP_BIAS)));var p=l||u;return p&&(n?(e.onOverlap||t.onOverlap)&&this.emit(d.OVERLAP,e.gameObject,t.gameObject,e,t):(e.onCollide||t.onCollide)&&this.emit(d.COLLIDE,e.gameObject,t.gameObject,e,t)),p},separateCircle:function(e,t,i,n){e.updateCenter(),t.updateCenter(),m(e,t,!1,n),g(e,t,!1,n);var a=0;if(e.isCircle!==t.isCircle){var r={x:t.isCircle?e.position.x:t.position.x,y:t.isCircle?e.position.y:t.position.y,right:t.isCircle?e.right:t.right,bottom:t.isCircle?e.bottom:t.bottom},o={x:e.isCircle?e.center.x:t.center.x,y:e.isCircle?e.center.y:t.center.y,radius:e.isCircle?e.halfWidth:t.halfWidth};o.y<r.y?o.x<r.x?a=h(o.x,o.y,r.x,r.y)-o.radius:o.x>r.right&&(a=h(o.x,o.y,r.right,r.y)-o.radius):o.y>r.bottom&&(o.x<r.x?a=h(o.x,o.y,r.x,r.bottom)-o.radius:o.x>r.right&&(a=h(o.x,o.y,r.right,r.bottom)-o.radius)),a*=-1}else a=e.halfWidth+t.halfWidth-h(e.center.x,e.center.y,t.center.x,t.center.y);if(i||0===a||e.immovable&&t.immovable||e.customSeparateX||t.customSeparateX)return 0!==a&&(e.onOverlap||t.onOverlap)&&this.emit(d.OVERLAP,e.gameObject,t.gameObject,e,t),0!==a;var c=e.center.x-t.center.x,l=e.center.y-t.center.y,u=Math.sqrt(Math.pow(c,2)+Math.pow(l,2)),p=(t.center.x-e.center.x)/u||0,f=(t.center.y-e.center.y)/u||0,y=2*(e.velocity.x*p+e.velocity.y*f-t.velocity.x*p-t.velocity.y*f)/(e.mass+t.mass);(e.immovable||t.immovable)&&(y*=2),e.immovable||(e.velocity.x=e.velocity.x-y/e.mass*p,e.velocity.y=e.velocity.y-y/e.mass*f),t.immovable||(t.velocity.x=t.velocity.x+y/t.mass*p,t.velocity.y=t.velocity.y+y/t.mass*f),e.immovable||t.immovable||(a/=2);var w=s(e.center,t.center),b=(a+v.EPSILON)*Math.cos(w),x=(a+v.EPSILON)*Math.sin(w);return e.immovable||(e.x-=b,e.y-=x,e.updateCenter()),t.immovable||(t.x+=b,t.y+=x,t.updateCenter()),e.velocity.x*=e.bounce.x,e.velocity.y*=e.bounce.y,t.velocity.x*=t.bounce.x,t.velocity.y*=t.bounce.y,(e.onCollide||t.onCollide)&&this.emit(d.COLLIDE,e.gameObject,t.gameObject,e,t),!0},intersects:function(e,t){return e!==t&&(e.isCircle||t.isCircle?e.isCircle?t.isCircle?h(e.center.x,e.center.y,t.center.x,t.center.y)<=e.halfWidth+t.halfWidth:this.circleBodyIntersects(e,t):this.circleBodyIntersects(t,e):!(e.right<=t.position.x||e.bottom<=t.position.y||e.position.x>=t.right||e.position.y>=t.bottom))},circleBodyIntersects:function(e,t){var i=a(e.center.x,t.left,t.right),s=a(e.center.y,t.top,t.bottom);return(e.center.x-i)*(e.center.x-i)+(e.center.y-s)*(e.center.y-s)<=e.halfWidth*e.halfWidth},overlap:function(e,t,i,s,n){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i),this.collideObjects(e,t,i,s,n,!0)},collide:function(e,t,i,s,n){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i),this.collideObjects(e,t,i,s,n,!1)},collideObjects:function(e,t,i,s,n,a){var r,o;e.isParent&&void 0===e.physicsType&&(e=e.children.entries),t&&t.isParent&&void 0===t.physicsType&&(t=t.children.entries);var c=Array.isArray(e),h=Array.isArray(t);if(this._total=0,c||h)if(!c&&h)for(r=0;r<t.length;r++)this.collideHandler(e,t[r],i,s,n,a);else if(c&&!h)if(t)for(r=0;r<e.length;r++)this.collideHandler(e[r],t,i,s,n,a);else for(r=0;r<e.length;r++){var l=e[r];for(o=r+1;o<e.length;o++)r!==o&&this.collideHandler(l,e[o],i,s,n,a)}else for(r=0;r<e.length;r++)for(o=0;o<t.length;o++)this.collideHandler(e[r],t[o],i,s,n,a);else this.collideHandler(e,t,i,s,n,a);return this._total>0},collideHandler:function(e,t,i,s,n,a){if(void 0===t&&e.isParent)return this.collideGroupVsGroup(e,e,i,s,n,a);if(!e||!t)return!1;if(e.body){if(t.body)return this.collideSpriteVsSprite(e,t,i,s,n,a);if(t.isParent)return this.collideSpriteVsGroup(e,t,i,s,n,a);if(t.isTilemap)return this.collideSpriteVsTilemapLayer(e,t,i,s,n,a)}else if(e.isParent){if(t.body)return this.collideSpriteVsGroup(t,e,i,s,n,a);if(t.isParent)return this.collideGroupVsGroup(e,t,i,s,n,a);if(t.isTilemap)return this.collideGroupVsTilemapLayer(e,t,i,s,n,a)}else if(e.isTilemap){if(t.body)return this.collideSpriteVsTilemapLayer(t,e,i,s,n,a);if(t.isParent)return this.collideGroupVsTilemapLayer(t,e,i,s,n,a)}},collideSpriteVsSprite:function(e,t,i,s,n,a){return!(!e.body||!t.body||(this.separate(e.body,t.body,s,n,a)&&(i&&i.call(n,e,t),this._total++),0))},collideSpriteVsGroup:function(e,t,i,s,n,a){var r,o,h,l=e.body;if(0!==t.length&&l&&l.enable&&!l.checkCollision.none)if(this.useTree||t.physicsType===c.STATIC_BODY){var d=this.treeMinMax;d.minX=l.left,d.minY=l.top,d.maxX=l.right,d.maxY=l.bottom;var u=t.physicsType===c.DYNAMIC_BODY?this.tree.search(d):this.staticTree.search(d);for(o=u.length,r=0;r<o;r++)l!==(h=u[r])&&h.enable&&!h.checkCollision.none&&t.contains(h.gameObject)&&this.separate(l,h,s,n,a,!0)&&(i&&i.call(n,l.gameObject,h.gameObject),this._total++)}else{var p=t.getChildren(),f=t.children.entries.indexOf(e);for(o=p.length,r=0;r<o;r++)(h=p[r].body)&&r!==f&&h.enable&&this.separate(l,h,s,n,a)&&(i&&i.call(n,l.gameObject,h.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(e,t,i,s,n,a){var r=e.getChildren();if(0===r.length)return!1;for(var o=!1,c=0;c<r.length;c++)r[c].body&&this.collideSpriteVsTilemapLayer(r[c],t,i,s,n,a)&&(o=!0);return o},collideTiles:function(e,t,i,s,n){return!(!e.body.enable||0===t.length)&&this.collideSpriteVsTilesHandler(e,t,i,s,n,!1,!1)},overlapTiles:function(e,t,i,s,n){return!(!e.body.enable||0===t.length)&&this.collideSpriteVsTilesHandler(e,t,i,s,n,!0,!1)},collideSpriteVsTilemapLayer:function(e,t,i,s,n,a){var r=e.body;if(!r.enable||r.checkCollision.none)return!1;var o=r.position.x,c=r.position.y,h=r.width,l=r.height,d=t.layer;if(d.tileWidth>d.baseTileWidth){var u=(d.tileWidth-d.baseTileWidth)*t.scaleX;o-=u,h+=u}d.tileHeight>d.baseTileHeight&&(l+=(d.tileHeight-d.baseTileHeight)*t.scaleY);var p=t.getTilesWithinWorldXY(o,c,h,l);return 0!==p.length&&this.collideSpriteVsTilesHandler(e,p,i,s,n,a,!0)},collideSpriteVsTilesHandler:function(e,t,i,s,n,a,r){for(var o,c,h=e.body,l={left:0,right:0,top:0,bottom:0},u=!1,p=0;p<t.length;p++)c=(o=t[p]).tilemapLayer,l.left=c.tileToWorldX(o.x),l.top=c.tileToWorldY(o.y),o.baseHeight!==o.height&&(l.top-=(o.height-o.baseHeight)*c.scaleY),l.right=l.left+o.width*c.scaleX,l.bottom=l.top+o.height*c.scaleY,B(l,h)&&(!s||s.call(n,e,o))&&b(o,e)&&(a||T(p,h,o,l,c,this.TILE_BIAS,r))&&(this._total++,u=!0,i&&i.call(n,e,o),a&&h.onOverlap?this.emit(d.TILE_OVERLAP,e,o,h):h.onCollide&&this.emit(d.TILE_COLLIDE,e,o,h));return u},collideGroupVsGroup:function(e,t,i,s,n,a){if(0!==e.length&&0!==t.length)for(var r=e.getChildren(),o=0;o<r.length;o++)this.collideSpriteVsGroup(r[o],t,i,s,n,a)},wrap:function(e,t){e.body?this.wrapObject(e,t):e.getChildren?this.wrapArray(e.getChildren(),t):Array.isArray(e)?this.wrapArray(e,t):this.wrapObject(e,t)},wrapArray:function(e,t){for(var i=0;i<e.length;i++)this.wrapObject(e[i],t)},wrapObject:function(e,t){void 0===t&&(t=0),e.x=M(e.x,this.bounds.left-t,this.bounds.right+t),e.y=M(e.y,this.bounds.top-t,this.bounds.bottom+t)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});e.exports=O},function(e,t,i){var s=i(0),n=i(50),a=i(218),r=i(173),o=i(11),c=i(48),h=i(3),l=new s({initialize:function(e,t){var i=t.displayWidth?t.displayWidth:64,s=t.displayHeight?t.displayHeight:64;this.world=e,this.gameObject=t,this.transform={x:t.x,y:t.y,rotation:t.angle,scaleX:t.scaleX,scaleY:t.scaleY,displayOriginX:t.displayOriginX,displayOriginY:t.displayOriginY},this.debugShowBody=e.defaults.debugShowBody,this.debugShowVelocity=e.defaults.debugShowVelocity,this.debugBodyColor=e.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(t.x-t.scaleX*t.displayOriginX,t.y-t.scaleY*t.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=t.angle,this.preRotation=t.angle,this.width=i,this.height=s,this.sourceWidth=i,this.sourceHeight=s,t.frame&&(this.sourceWidth=t.frame.realWidth,this.sourceHeight=t.frame.realHeight),this.halfWidth=Math.abs(i/2),this.halfHeight=Math.abs(s/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new h,this.newVelocity=new h,this.deltaMax=new h,this.acceleration=new h,this.allowDrag=!0,this.drag=new h,this.allowGravity=!0,this.gravity=new h,this.bounce=new h,this.worldBounce=null,this.customBoundsRectangle=e.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new h(1e4,1e4),this.maxSpeed=-1,this.friction=new h(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=n.FACING_NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=n.DYNAMIC_BODY,this._sx=t.scaleX,this._sy=t.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new o},updateBounds:function(){var e=this.gameObject,t=this.transform;if(e.parentContainer){var i=e.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);t.x=i.tx,t.y=i.ty,t.rotation=r(i.rotation),t.scaleX=i.scaleX,t.scaleY=i.scaleY,t.displayOriginX=e.displayOriginX,t.displayOriginY=e.displayOriginY}else t.x=e.x,t.y=e.y,t.rotation=e.angle,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.displayOriginX=e.displayOriginX,t.displayOriginY=e.displayOriginY;var s=!1;if(this.syncBounds){var n=e.getBounds(this._bounds);this.width=n.width,this.height=n.height,s=!0}else{var a=Math.abs(t.scaleX),o=Math.abs(t.scaleY);this._sx===a&&this._sy===o||(this.width=this.sourceWidth*a,this.height=this.sourceHeight*o,this._sx=a,this._sy=o,s=!0)}s&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var e=this.transform;this.position.x=e.x+e.scaleX*(this.offset.x-e.displayOriginX),this.position.y=e.y+e.scaleY*(this.offset.y-e.displayOriginY),this.updateCenter()},resetFlags:function(){var e=this.wasTouching,t=this.touching,i=this.blocked;e.none=t.none,e.up=t.up,e.down=t.down,e.left=t.left,e.right=t.right,t.none=!0,t.up=!1,t.down=!1,t.left=!1,t.right=!1,i.none=!0,i.up=!1,i.down=!1,i.left=!1,i.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(e,t){e&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),e&&this.update(t)},update:function(e){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,e);var t=this.velocity.x,i=this.velocity.y;this.newVelocity.set(t*e,i*e),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(i,t),this.speed=Math.sqrt(t*t+i*i),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(a.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var e=this.position.x-this.prevFrame.x,t=this.position.y-this.prevFrame.y;if(this.moves){var i=this.deltaMax.x,s=this.deltaMax.y;0!==i&&0!==e&&(e<0&&e<-i?e=-i:e>0&&e>i&&(e=i)),0!==s&&0!==t&&(t<0&&t<-s?t=-s:t>0&&t>s&&(t=s)),this.gameObject.x+=e,this.gameObject.y+=t}e<0?this.facing=n.FACING_LEFT:e>0&&(this.facing=n.FACING_RIGHT),t<0?this.facing=n.FACING_UP:t>0&&(this.facing=n.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=e,this._ty=t},setBoundsRectangle:function(e){return this.customBoundsRectangle=e||this.world.bounds,this},checkWorldBounds:function(){var e=this.position,t=this.customBoundsRectangle,i=this.world.checkCollision,s=this.worldBounce?-this.worldBounce.x:-this.bounce.x,n=this.worldBounce?-this.worldBounce.y:-this.bounce.y,a=!1;return e.x<t.x&&i.left?(e.x=t.x,this.velocity.x*=s,this.blocked.left=!0,a=!0):this.right>t.right&&i.right&&(e.x=t.right-this.width,this.velocity.x*=s,this.blocked.right=!0,a=!0),e.y<t.y&&i.up?(e.y=t.y,this.velocity.y*=n,this.blocked.up=!0,a=!0):this.bottom>t.bottom&&i.down&&(e.y=t.bottom-this.height,this.velocity.y*=n,this.blocked.down=!0,a=!0),a&&(this.blocked.none=!1),a},setOffset:function(e,t){return void 0===t&&(t=e),this.offset.set(e,t),this.updateCenter(),this},setSize:function(e,t,i){void 0===i&&(i=!0);var s=this.gameObject;if(!e&&s.frame&&(e=s.frame.realWidth),!t&&s.frame&&(t=s.frame.realHeight),this.sourceWidth=e,this.sourceHeight=t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&s.getCenter){var n=(s.width-e)/2,a=(s.height-t)/2;this.offset.set(n,a)}return this.isCircle=!1,this.radius=0,this},setCircle:function(e,t,i){return void 0===t&&(t=this.offset.x),void 0===i&&(i=this.offset.y),e>0?(this.isCircle=!0,this.radius=e,this.sourceWidth=2*e,this.sourceHeight=2*e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(t,i),this.updateCenter()):this.isCircle=!1,this},reset:function(e,t){this.stop();var i=this.gameObject;i.setPosition(e,t),i.getTopLeft?i.getTopLeft(this.position):this.position.set(e,t),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=i.angle,this.preRotation=i.angle,this.updateBounds(),this.updateCenter()},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,t){return this.isCircle?this.radius>0&&e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom&&(this.center.x-e)*(this.center.x-e)+(this.center.y-t)*(this.center.y-t)<=this.radius*this.radius:c(this,e,t)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(e){var t=this.position,i=t.x+this.halfWidth,s=t.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor),this.isCircle?e.strokeCircle(i,s,this.width/2):(this.checkCollision.up&&e.lineBetween(t.x,t.y,t.x+this.width,t.y),this.checkCollision.right&&e.lineBetween(t.x+this.width,t.y,t.x+this.width,t.y+this.height),this.checkCollision.down&&e.lineBetween(t.x,t.y+this.height,t.x+this.width,t.y+this.height),this.checkCollision.left&&e.lineBetween(t.x,t.y,t.x,t.y+this.height))),this.debugShowVelocity&&(e.lineStyle(e.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),e.lineBetween(i,s,i+this.velocity.x/2,s+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(e,t,i){void 0===e&&(e=!0),this.collideWorldBounds=e;var s=void 0!==t,n=void 0!==i;return(s||n)&&(this.worldBounce||(this.worldBounce=new h),s&&(this.worldBounce.x=t),n&&(this.worldBounce.y=i)),this},setVelocity:function(e,t){return this.velocity.set(e,t),e=this.velocity.x,t=this.velocity.y,this.speed=Math.sqrt(e*e+t*t),this},setVelocityX:function(e){this.velocity.x=e;var t=e,i=this.velocity.y;return this.speed=Math.sqrt(t*t+i*i),this},setVelocityY:function(e){this.velocity.y=e;var t=this.velocity.x,i=e;return this.speed=Math.sqrt(t*t+i*i),this},setMaxVelocity:function(e,t){return this.maxVelocity.set(e,t),this},setMaxSpeed:function(e){return this.maxSpeed=e,this},setBounce:function(e,t){return this.bounce.set(e,t),this},setBounceX:function(e){return this.bounce.x=e,this},setBounceY:function(e){return this.bounce.y=e,this},setAcceleration:function(e,t){return this.acceleration.set(e,t),this},setAccelerationX:function(e){return this.acceleration.x=e,this},setAccelerationY:function(e){return this.acceleration.y=e,this},setAllowDrag:function(e){return void 0===e&&(e=!0),this.allowDrag=e,this},setAllowGravity:function(e){return void 0===e&&(e=!0),this.allowGravity=e,this},setAllowRotation:function(e){return void 0===e&&(e=!0),this.allowRotation=e,this},setDrag:function(e,t){return this.drag.set(e,t),this},setDragX:function(e){return this.drag.x=e,this},setDragY:function(e){return this.drag.y=e,this},setGravity:function(e,t){return this.gravity.set(e,t),this},setGravityX:function(e){return this.gravity.x=e,this},setGravityY:function(e){return this.gravity.y=e,this},setFriction:function(e,t){return this.friction.set(e,t),this},setFrictionX:function(e){return this.friction.x=e,this},setFrictionY:function(e){return this.friction.y=e,this},setAngularVelocity:function(e){return this.angularVelocity=e,this},setAngularAcceleration:function(e){return this.angularAcceleration=e,this},setAngularDrag:function(e){return this.angularDrag=e,this},setMass:function(e){return this.mass=e,this},setImmovable:function(e){return void 0===e&&(e=!0),this.immovable=e,this},setEnable:function(e){return void 0===e&&(e=!0),this.enable=e,this},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});e.exports=l},function(e,t,i){var s=new(i(0))({initialize:function(e,t,i,s,n,a,r){this.world=e,this.name="",this.active=!0,this.overlapOnly=t,this.object1=i,this.object2=s,this.collideCallback=n,this.processCallback=a,this.callbackContext=r},setName:function(e){return this.name=e,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});e.exports=s},function(e,t,i){var s=i(50);e.exports=function(e,t,i,n){var a=0,r=e.deltaAbsX()+t.deltaAbsX()+n;return 0===e._dx&&0===t._dx?(e.embedded=!0,t.embedded=!0):e._dx>t._dx?(a=e.right-t.x)>r&&!i||!1===e.checkCollision.right||!1===t.checkCollision.left?a=0:(e.touching.none=!1,e.touching.right=!0,t.touching.none=!1,t.touching.left=!0,t.physicsType===s.STATIC_BODY&&(e.blocked.none=!1,e.blocked.right=!0),e.physicsType===s.STATIC_BODY&&(t.blocked.none=!1,t.blocked.left=!0)):e._dx<t._dx&&(-(a=e.x-t.width-t.x)>r&&!i||!1===e.checkCollision.left||!1===t.checkCollision.right?a=0:(e.touching.none=!1,e.touching.left=!0,t.touching.none=!1,t.touching.right=!0,t.physicsType===s.STATIC_BODY&&(e.blocked.none=!1,e.blocked.left=!0),e.physicsType===s.STATIC_BODY&&(t.blocked.none=!1,t.blocked.right=!0))),e.overlapX=a,t.overlapX=a,a}},function(e,t,i){var s=i(50);e.exports=function(e,t,i,n){var a=0,r=e.deltaAbsY()+t.deltaAbsY()+n;return 0===e._dy&&0===t._dy?(e.embedded=!0,t.embedded=!0):e._dy>t._dy?(a=e.bottom-t.y)>r&&!i||!1===e.checkCollision.down||!1===t.checkCollision.up?a=0:(e.touching.none=!1,e.touching.down=!0,t.touching.none=!1,t.touching.up=!0,t.physicsType===s.STATIC_BODY&&(e.blocked.none=!1,e.blocked.down=!0),e.physicsType===s.STATIC_BODY&&(t.blocked.none=!1,t.blocked.up=!0)):e._dy<t._dy&&(-(a=e.y-t.bottom)>r&&!i||!1===e.checkCollision.up||!1===t.checkCollision.down?a=0:(e.touching.none=!1,e.touching.up=!0,t.touching.none=!1,t.touching.down=!0,t.physicsType===s.STATIC_BODY&&(e.blocked.none=!1,e.blocked.up=!0),e.physicsType===s.STATIC_BODY&&(t.blocked.none=!1,t.blocked.down=!0))),e.overlapY=a,t.overlapY=a,a}},function(e,t,i){var s=i(391);function n(e){if(!(this instanceof n))return new n(e,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function a(e,t,i){if(!i)return t.indexOf(e);for(var s=0;s<t.length;s++)if(i(e,t[s]))return s;return-1}function r(e,t){o(e,0,e.children.length,t,e)}function o(e,t,i,s,n){n||(n=m(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var a,r=t;r<i;r++)a=e.children[r],c(n,e.leaf?s(a):a);return n}function c(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function h(e,t){return e.minX-t.minX}function l(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function u(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function f(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,t,i,n,a){for(var r,o=[t,i];o.length;)(i=o.pop())-(t=o.pop())<=n||(r=t+Math.ceil((i-t)/n/2)*n,s(e,r,t,i,a),o.push(t,r,r,i))}n.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],s=this.toBBox;if(!f(e,t))return i;for(var n,a,r,o,c=[];t;){for(n=0,a=t.children.length;n<a;n++)r=t.children[n],f(e,o=t.leaf?s(r):r)&&(t.leaf?i.push(r):p(e,o)?this._all(r,i):c.push(r));t=c.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!f(e,t))return!1;for(var s,n,a,r,o=[];t;){for(s=0,n=t.children.length;s<n;s++)if(a=t.children[s],f(e,r=t.leaf?i(a):a)){if(t.leaf||p(e,r))return!0;o.push(a)}t=o.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var s=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===s.height)this._splitRoot(this.data,s);else{if(this.data.height<s.height){var n=this.data;this.data=s,s=n}this._insert(s,this.data.height-s.height-1,!0)}else this.data=s;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(e,t){if(!e)return this;for(var i,s,n,r,o=this.data,c=this.toBBox(e),h=[],l=[];o||h.length;){if(o||(o=h.pop(),s=h[h.length-1],i=l.pop(),r=!0),o.leaf&&-1!==(n=a(e,o.children,t)))return o.children.splice(n,1),h.push(o),this._condense(h),this;r||o.leaf||!p(o,c)?s?(i++,o=s.children[i],r=!1):o=null:(h.push(o),l.push(i),i=0,s=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:h,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,s){var n,a=i-t+1,o=this._maxEntries;if(a<=o)return r(n=m(e.slice(t,i+1)),this.toBBox),n;s||(s=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,s-1))),(n=m([])).leaf=!1,n.height=s;var c,h,l,d,u=Math.ceil(a/o),p=u*Math.ceil(Math.sqrt(o));for(g(e,t,i,p,this.compareMinX),c=t;c<=i;c+=p)for(g(e,c,l=Math.min(c+p-1,i),u,this.compareMinY),h=c;h<=l;h+=u)d=Math.min(h+u-1,l),n.children.push(this._build(e,h,d,s-1));return r(n,this.toBBox),n},_chooseSubtree:function(e,t,i,s){for(var n,a,r,o,c,h,l,u,p,f;s.push(t),!t.leaf&&s.length-1!==i;){for(l=u=1/0,n=0,a=t.children.length;n<a;n++)c=d(r=t.children[n]),p=e,f=r,(h=(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-c)<u?(u=h,l=c<l?c:l,o=r):h===u&&c<l&&(l=c,o=r);t=o||t.children[0]}return t},_insert:function(e,t,i){var s=this.toBBox,n=i?e:s(e),a=[],r=this._chooseSubtree(n,this.data,t,a);for(r.children.push(e),c(r,n);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(n,a,t)},_split:function(e,t){var i=e[t],s=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,s);var a=this._chooseSplitIndex(i,n,s),o=m(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,r(i,this.toBBox),r(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var s,n,a,r,c,h,l,u,p,f,m,g,y,v;for(h=l=1/0,s=t;s<=i-t;s++)n=o(e,0,s,this.toBBox),a=o(e,s,i,this.toBBox),p=n,f=a,m=void 0,g=void 0,y=void 0,v=void 0,m=Math.max(p.minX,f.minX),g=Math.max(p.minY,f.minY),y=Math.min(p.maxX,f.maxX),v=Math.min(p.maxY,f.maxY),r=Math.max(0,y-m)*Math.max(0,v-g),c=d(n)+d(a),r<h?(h=r,u=s,l=c<l?c:l):r===h&&c<l&&(l=c,u=s);return u},_chooseSplitAxis:function(e,t,i){var s=e.leaf?this.compareMinX:h,n=e.leaf?this.compareMinY:l;this._allDistMargin(e,t,i,s)<this._allDistMargin(e,t,i,n)&&e.children.sort(s)},_allDistMargin:function(e,t,i,s){e.children.sort(s);var n,a,r=this.toBBox,h=o(e,0,t,r),l=o(e,i-t,i,r),d=u(h)+u(l);for(n=t;n<i-t;n++)a=e.children[n],c(h,e.leaf?r(a):a),d+=u(h);for(n=i-t-1;n>=t;n--)a=e.children[n],c(l,e.leaf?r(a):a),d+=u(l);return d},_adjustParentBBoxes:function(e,t,i){for(var s=i;s>=0;s--)c(t[s],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)0===e[i].children.length?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():r(e[i],this.toBBox)},compareMinX:function(e,t){return e.left-t.left},compareMinY:function(e,t){return e.top-t.top},toBBox:function(e){return{minX:e.left,minY:e.top,maxX:e.right,maxY:e.bottom}}},e.exports=n},function(e,t){e.exports=function(e,t){return!(t.right<=e.left||t.bottom<=e.top||t.position.x>=e.right||t.position.y>=e.bottom)}},function(e,t,i){var s=i(55),n=i(0),a=i(50),r=i(48),o=i(3),c=new n({initialize:function(e,t){var i=t.displayWidth?t.displayWidth:64,s=t.displayHeight?t.displayHeight:64;this.world=e,this.gameObject=t,this.debugShowBody=e.defaults.debugShowStaticBody,this.debugBodyColor=e.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new o,this.position=new o(t.x-i*t.originX,t.y-s*t.originY),this.width=i,this.height=s,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new o(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=o.ZERO,this.allowGravity=!1,this.gravity=o.ZERO,this.bounce=o.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=a.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(e,t){return e&&e!==this.gameObject&&(this.gameObject.body=null,e.body=this,this.gameObject=e),t&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var e=this.gameObject;return e.getTopLeft(this.position),this.width=e.displayWidth,this.height=e.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(e,t){return void 0===t&&(t=e),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(e,t),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(e,t,i){void 0===i&&(i=!0);var s=this.gameObject;if(!e&&s.frame&&(e=s.frame.realWidth),!t&&s.frame&&(t=s.frame.realHeight),this.world.staticTree.remove(this),this.width=e,this.height=t,this.halfWidth=Math.floor(e/2),this.halfHeight=Math.floor(t/2),i&&s.getCenter){var n=s.displayWidth/2,a=s.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(n-this.halfWidth,a-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(e,t,i){return void 0===t&&(t=this.offset.x),void 0===i&&(i=this.offset.y),e>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=e,this.width=2*e,this.height=2*e,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(t,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(e,t){var i=this.gameObject;void 0===e&&(e=i.x),void 0===t&&(t=i.y),this.world.staticTree.remove(this),i.setPosition(e,t),i.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,t){return this.isCircle?s(this,e,t):r(this,e,t)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(e){var t=this.position,i=t.x+this.halfWidth,s=t.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?e.strokeCircle(i,s,this.width/2):e.strokeRect(t.x,t.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(e){return e<=0&&(e=.1),this.mass=e,this},x:{get:function(){return this.position.x},set:function(e){this.world.staticTree.remove(this),this.position.x=e,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(e){this.world.staticTree.remove(this),this.position.y=e,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});e.exports=c},function(e,t){var i={};e.exports=i,i.create=function(e,t){var s=e.bodyA,n=e.bodyB,a={id:i.id(s,n),bodyA:s,bodyB:n,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:s.isSensor||n.isSensor,timeCreated:t,timeUpdated:t,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return i.update(a,e,t),a},i.update=function(e,t,s){if(e.collision=t,t.collided){var n=t.supports,a=e.activeContacts,r=t.parentA,o=t.parentB;e.inverseMass=r.inverseMass+o.inverseMass,e.friction=Math.min(r.friction,o.friction),e.frictionStatic=Math.max(r.frictionStatic,o.frictionStatic),e.restitution=Math.max(r.restitution,o.restitution),e.slop=Math.max(r.slop,o.slop);for(var c=0;c<n.length;c++)a[c]=n[c].contact;var h=n.length;h<a.length&&(a.length=h),e.separation=t.depth,i.setActive(e,!0,s)}else!0===e.isActive&&i.setActive(e,!1,s)},i.setActive=function(e,t,i){t?(e.isActive=!0,e.timeUpdated=i):(e.isActive=!1,e.activeContacts.length=0)},i.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},function(e,t,i){var s=new(i(0))({initialize:function(e){this.pluginManager=e,this.game=e.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});e.exports=s},function(e,t,i){var s=i(24);e.exports=function(e,t,i,n,a,r,o){for(var c=s(i,n,a,r,null,o),h=0;h<c.length;h++)c[h]&&c[h].index===e&&(c[h].index=t)}},function(e,t,i){var s=i(101);e.exports=function(e,t,i){if(s(e,t,i)){var n=i.data[t][e];return null!==n&&n.index>-1}return!1}},function(e,t,i){var s=i(74),n=i(101),a=i(220);e.exports=function(e,t,i,r,o){if(void 0===i&&(i=!1),void 0===r&&(r=!0),!n(e,t,o))return null;var c=o.data[t][e];return c?(o.data[t][e]=i?null:new s(o,-1,e,t,c.width,c.height),r&&c&&c.collides&&a(e,t,o),c):null}},function(e,t,i){var s=i(32),n=i(223),a=i(479),r=i(480),o=i(491);e.exports=function(e,t,i,c,h,l){var d;switch(t){case s.ARRAY_2D:d=n(e,i,c,h,l);break;case s.CSV:d=a(e,i,c,h,l);break;case s.TILED_JSON:d=r(e,i,l);break;case s.WELTMEISTER:d=o(e,i,l);break;default:console.warn("Unrecognized tilemap data format: "+t),d=null}return d}},function(e,t,i){var s=i(32),n=i(223);e.exports=function(e,t,i,a,r){var o=t.trim().split("\n").map((function(e){return e.split(",")})),c=n(e,o,i,a,r);return c.format=s.CSV,c}},function(e,t,i){var s=i(32),n=i(103),a=i(481),r=i(483),o=i(484),c=i(487),h=i(489),l=i(490);e.exports=function(e,t,i){if("orthogonal"!==t.orientation)return console.warn("Only orthogonal map types are supported in this version of Phaser"),null;var d=new n({width:t.width,height:t.height,name:e,tileWidth:t.tilewidth,tileHeight:t.tileheight,orientation:t.orientation,format:s.TILED_JSON,version:t.version,properties:t.properties,renderOrder:t.renderorder,infinite:t.infinite});d.layers=a(t,i),d.images=r(t);var u=o(t);return d.tilesets=u.tilesets,d.imageCollections=u.imageCollections,d.objects=c(t),d.tiles=h(d),l(d),d}},function(e,t,i){var s=i(482),n=i(2),a=i(102),r=i(224),o=i(74),c=i(225);e.exports=function(e,t){for(var i=n(e,"infinite",!1),h=[],l=[],d=c(e);d.i<d.layers.length||l.length>0;)if(d.i>=d.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=l.pop()}else{var u=d.layers[d.i];if(d.i++,"tilelayer"===u.type)if(u.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+u.name+"'");else{if(u.encoding&&"base64"===u.encoding){if(u.chunks)for(var p=0;p<u.chunks.length;p++)u.chunks[p].data=s(u.chunks[p].data);u.data&&(u.data=s(u.data)),delete u.encoding}var f,m,g,y,v=[],w=0;if(i){var b=n(u,"startx",0)+u.x,x=n(u,"starty",0)+u.y;f=new a({name:d.name+u.name,x:d.x+n(u,"offsetx",0)+b*e.tilewidth,y:d.y+n(u,"offsety",0)+x*e.tileheight,width:u.width,height:u.height,tileWidth:e.tilewidth,tileHeight:e.tileheight,alpha:d.opacity*u.opacity,visible:d.visible&&u.visible,properties:n(u,"properties",[])});for(var k=0;k<u.height;k++){v.push([null]);for(var T=0;T<u.width;T++)v[k][T]=null}for(k=0,R=u.chunks.length;k<R;k++)for(var _=u.chunks[k],S=_.x-b,C=_.y-x,P=0,B=0,A=_.data.length;B<A;B++){var E=w+S,M=P+C;(m=r(_.data[B])).gid>0?((g=new o(f,m.gid,E,M,e.tilewidth,e.tileheight)).rotation=m.rotation,g.flipX=m.flipped,v[M][E]=g):(y=t?null:new o(f,-1,E,M,e.tilewidth,e.tileheight),v[M][E]=y),++w===_.width&&(P++,w=0)}}else{f=new a({name:d.name+u.name,x:d.x+n(u,"offsetx",0)+u.x,y:d.y+n(u,"offsety",0)+u.y,width:u.width,height:u.height,tileWidth:e.tilewidth,tileHeight:e.tileheight,alpha:d.opacity*u.opacity,visible:d.visible&&u.visible,properties:n(u,"properties",[])});for(var O=[],I=0,R=u.data.length;I<R;I++)(m=r(u.data[I])).gid>0?((g=new o(f,m.gid,w,v.length,e.tilewidth,e.tileheight)).rotation=m.rotation,g.flipX=m.flipped,O.push(g)):(y=t?null:new o(f,-1,w,v.length,e.tilewidth,e.tileheight),O.push(y)),++w===u.width&&(v.push(O),w=0,O=[])}f.data=v,h.push(f)}else if("group"===u.type){var D=c(e,u,d);l.push(d),d=D}}return h}},function(e,t){e.exports=function(e){for(var t=window.atob(e),i=t.length,s=new Array(i/4),n=0;n<i;n+=4)s[n/4]=(t.charCodeAt(n)|t.charCodeAt(n+1)<<8|t.charCodeAt(n+2)<<16|t.charCodeAt(n+3)<<24)>>>0;return s}},function(e,t,i){var s=i(2),n=i(225);e.exports=function(e){for(var t=[],i=[],a=n(e);a.i<a.layers.length||i.length>0;)if(a.i>=a.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=i.pop()}else{var r=a.layers[a.i];if(a.i++,"imagelayer"===r.type){var o=s(r,"offsetx",0)+s(r,"startx",0),c=s(r,"offsety",0)+s(r,"starty",0);t.push({name:a.name+r.name,image:r.image,x:a.x+o+r.x,y:a.y+c+r.y,alpha:a.opacity*r.opacity,visible:a.visible&&r.visible,properties:s(r,"properties",{})})}else if("group"===r.type){var h=n(e,r,a);i.push(a),a=h}}return t}},function(e,t,i){var s=i(104),n=i(485),a=i(226);e.exports=function(e){for(var t,i=[],r=[],o=null,c=0;c<e.tilesets.length;c++){var h=e.tilesets[c];if(h.source)console.warn("Phaser can't load external tilesets. Use the Embed Tileset button and then export the map again.");else if(h.image){var l=new s(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing);if(e.version>1){if(Array.isArray(h.tiles)){for(var d={},u={},p=0;p<h.tiles.length;p++){var f=h.tiles[p];if(f.properties){var m={};f.properties.forEach((function(e){m[e.name]=e.value})),u[f.id]=m}if(f.objectgroup&&(d[f.id]={objectgroup:f.objectgroup},f.objectgroup.objects)){var g=f.objectgroup.objects.map((function(e){return a(e)}));d[f.id].objectgroup.objects=g}f.animation&&(d.hasOwnProperty(f.id)?d[f.id].animation=f.animation:d[f.id]={animation:f.animation})}l.tileData=d,l.tileProperties=u}}else if(h.tileproperties&&(l.tileProperties=h.tileproperties),h.tiles)for(t in l.tileData=h.tiles,l.tileData){var y=l.tileData[t].objectgroup;if(y&&y.objects){var v=y.objects.map((function(e){return a(e)}));l.tileData[t].objectgroup.objects=v}}l.updateTileData(h.imagewidth,h.imageheight),i.push(l)}else{var w=new n(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing,h.properties);for(t in h.tiles){var b=h.tiles[t].image,x=h.firstgid+parseInt(t,10);w.addImage(x,b)}r.push(w)}o&&(o.lastgid=h.firstgid-1),o=h}return{tilesets:i,imageCollections:r}}},function(e,t,i){var s=new(i(0))({initialize:function(e,t,i,s,n,a,r){(void 0===i||i<=0)&&(i=32),(void 0===s||s<=0)&&(s=32),void 0===n&&(n=0),void 0===a&&(a=0),this.name=e,this.firstgid=0|t,this.imageWidth=0|i,this.imageHeight=0|s,this.imageMargin=0|n,this.imageSpacing=0|a,this.properties=r||{},this.images=[],this.total=0},containsImageIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},addImage:function(e,t){return this.images.push({gid:e,image:t}),this.total++,this}});e.exports=s},function(e,t,i){var s=i(108);e.exports=function(e,t){for(var i={},n=0;n<t.length;n++){var a=t[n];s(e,a)&&(i[a]=e[a])}return i}},function(e,t,i){var s=i(2),n=i(226),a=i(488),r=i(225);e.exports=function(e){for(var t=[],i=[],o=r(e);o.i<o.layers.length||i.length>0;)if(o.i>=o.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=i.pop()}else{var c=o.layers[o.i];if(o.i++,c.opacity*=o.opacity,c.visible=o.visible&&c.visible,"objectgroup"===c.type){c.name=o.name+c.name;for(var h=o.x+s(c,"startx",0)+s(c,"offsetx",0),l=o.y+s(c,"starty",0)+s(c,"offsety",0),d=[],u=0;u<c.objects.length;u++){var p=n(c.objects[u],h,l);d.push(p)}var f=new a(c);f.objects=d,t.push(f)}else if("group"===c.type){var m=r(e,c,o);i.push(o),o=m}}return t}},function(e,t,i){var s=i(0),n=i(2),a=new s({initialize:function(e){void 0===e&&(e={}),this.name=n(e,"name","object layer"),this.opacity=n(e,"opacity",1),this.properties=n(e,"properties",{}),this.propertyTypes=n(e,"propertytypes",{}),this.type=n(e,"type","objectgroup"),this.visible=n(e,"visible",!0),this.objects=n(e,"objects",[])}});e.exports=a},function(e,t,i){var s=i(104);e.exports=function(e){var t,i,n=[];for(t=0;t<e.imageCollections.length;t++)for(var a=e.imageCollections[t],r=a.images,o=0;o<r.length;o++){var c=r[o];(i=new s(c.image,c.gid,a.imageWidth,a.imageHeight,0,0)).updateTileData(a.imageWidth,a.imageHeight),e.tilesets.push(i)}for(t=0;t<e.tilesets.length;t++)for(var h=(i=e.tilesets[t]).tileMargin,l=i.tileMargin,d=0,u=0,p=0,f=i.firstgid;f<i.firstgid+i.total&&(n[f]=[h,l,t],h+=i.tileWidth+i.tileSpacing,++d!==i.total)&&(++u!==i.columns||(h=i.tileMargin,l+=i.tileHeight+i.tileSpacing,u=0,++p!==i.rows));f++);return n}},function(e,t,i){var s=i(18);e.exports=function(e){for(var t,i,n,a,r,o=0;o<e.layers.length;o++){t=e.layers[o],a=null;for(var c=0;c<t.data.length;c++){r=t.data[c];for(var h=0;h<r.length;h++)null===(i=r[h])||i.index<0||(n=e.tiles[i.index][2],a=e.tilesets[n],i.width=a.tileWidth,i.height=a.tileHeight,a.tileProperties&&a.tileProperties[i.index-a.firstgid]&&(i.properties=s(i.properties,a.tileProperties[i.index-a.firstgid])))}}}},function(e,t,i){var s=i(32),n=i(103),a=i(492),r=i(493);e.exports=function(e,t,i){if(0===t.layer.length)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var o=0,c=0,h=0;h<t.layer.length;h++)t.layer[h].width>o&&(o=t.layer[h].width),t.layer[h].height>c&&(c=t.layer[h].height);var l=new n({width:o,height:c,name:e,tileWidth:t.layer[0].tilesize,tileHeight:t.layer[0].tilesize,format:s.WELTMEISTER});return l.layers=a(t,i),l.tilesets=r(t),l}},function(e,t,i){var s=i(102),n=i(74);e.exports=function(e,t){for(var i=[],a=0;a<e.layer.length;a++){for(var r=e.layer[a],o=new s({name:r.name,width:r.width,height:r.height,tileWidth:r.tilesize,tileHeight:r.tilesize,visible:1===r.visible}),c=[],h=[],l=0;l<r.data.length;l++){for(var d=0;d<r.data[l].length;d++){var u,p=r.data[l][d]-1;u=p>-1?new n(o,p,d,l,r.tilesize,r.tilesize):t?null:new n(o,-1,d,l,r.tilesize,r.tilesize),c.push(u)}h.push(c),c=[]}o.data=h,i.push(o)}return i}},function(e,t,i){var s=i(104);e.exports=function(e){for(var t=[],i=[],n=0;n<e.layer.length;n++){var a=e.layer[n],r=a.tilesetName;""!==r&&-1===i.indexOf(r)&&(i.push(r),t.push(new s(r,0,a.tilesize,a.tilesize,0,0)))}return t}},function(e,t,i){var s=i(0),n=i(39),a=i(495),r=i(18),o=i(32),c=i(102),h=i(331),l=i(80),d=i(496),u=i(74),p=i(141),f=i(104),m=new s({initialize:function(e,t){this.scene=e,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight,this.width=t.width,this.height=t.height,this.orientation=t.orientation,this.renderOrder=t.renderOrder,this.format=t.format,this.version=t.version,this.properties=t.properties,this.widthInPixels=t.widthInPixels,this.heightInPixels=t.heightInPixels,this.imageCollections=t.imageCollections,this.images=t.images,this.layers=t.layers,this.tilesets=t.tilesets,this.objects=t.objects,this.currentLayerIndex=0},setRenderOrder:function(e){var t=["right-down","left-down","right-up","left-up"];return"number"==typeof e&&(e=t[e]),t.indexOf(e)>-1&&(this.renderOrder=e),this},addTilesetImage:function(e,t,i,s,n,a,r){if(void 0===e)return null;if(null==t&&(t=e),!this.scene.sys.textures.exists(t))return console.warn("Invalid Tileset Image: "+t),null;var c=this.scene.sys.textures.get(t),h=this.getTilesetIndex(e);if(null===h&&this.format===o.TILED_JSON)return console.warn("No data found for Tileset: "+e),null;var l=this.tilesets[h];return l?(l.setTileSize(i,s),l.setSpacing(n,a),l.setImage(c),l):(void 0===i&&(i=this.tileWidth),void 0===s&&(s=this.tileHeight),void 0===n&&(n=0),void 0===a&&(a=0),void 0===r&&(r=0),(l=new f(e,r,i,s,n,a)).setImage(c),this.tilesets.push(l),l)},convertLayerToStatic:function(e){if(null===(e=this.getLayer(e)))return null;var t=e.tilemapLayer;if(!(t&&t instanceof a))return null;var i=new d(t.scene,t.tilemap,t.layerIndex,t.tileset,t.x,t.y);return this.scene.sys.displayList.add(i),t.destroy(),i},copy:function(e,t,i,s,n,a,r,o){return o=this.getLayer(o),this._isStaticCall(o,"copy")?this:null!==o?(p.Copy(e,t,i,s,n,a,r,o),this):null},createBlankDynamicLayer:function(e,t,i,s,n,r,o,h){if(void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=this.width),void 0===r&&(r=this.height),void 0===o&&(o=this.tileWidth),void 0===h&&(h=this.tileHeight),null!==this.getLayerIndex(e))return console.warn("Invalid Tilemap Layer ID: "+e),null;for(var l,d=new c({name:e,tileWidth:o,tileHeight:h,width:n,height:r}),p=0;p<r;p++){l=[];for(var f=0;f<n;f++)l.push(new u(d,-1,f,p,o,h,this.tileWidth,this.tileHeight));d.data.push(l)}this.layers.push(d),this.currentLayerIndex=this.layers.length-1;var m=new a(this.scene,this,this.currentLayerIndex,t,i,s);return m.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(m),m},createDynamicLayer:function(e,t,i,s){var n=this.getLayerIndex(e);if(null===n)return console.warn("Invalid Tilemap Layer ID: "+e),"string"==typeof e&&console.warn("Valid tilelayer names:\n\t"+this.getTileLayerNames().join(",\n\t")),null;var r=this.layers[n];if(r.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+e),null;this.currentLayerIndex=n,void 0===i&&(i=r.x),void 0===s&&(s=r.y);var o=new a(this.scene,this,n,t,i,s);return o.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(o),o},createFromObjects:function(e,t,i,s){void 0===i&&(i={}),void 0===s&&(s=this.scene);var a=this.getObjectLayer(e);if(!a)return console.warn("Cannot create from object. Invalid objectgroup name given: "+e),"string"==typeof layerID&&console.warn("Valid objectgroup names:\n\t"+this.getObjectLayerNames().join(",\n\t")),null;for(var o=a.objects,c=[],l=0;l<o.length;l++){var d=!1,u=o[l];if((void 0!==u.gid&&"number"==typeof t&&u.gid===t||void 0!==u.id&&"number"==typeof t&&u.id===t||void 0!==u.name&&"string"==typeof t&&u.name===t)&&(d=!0),d){var p=r({},i,u.properties);p.x=u.x,p.y=u.y;var f=s.make.sprite(p);f.name=u.name,u.width&&(f.displayWidth=u.width),u.height&&(f.displayHeight=u.height);var m={x:f.originX*u.width,y:(f.originY-1)*u.height};if(u.rotation){var g=n(u.rotation);h(m,g),f.rotation=g}for(var y in f.x+=m.x,f.y+=m.y,void 0===u.flippedHorizontal&&void 0===u.flippedVertical||f.setFlip(u.flippedHorizontal,u.flippedVertical),u.visible||(f.visible=!1),u.properties)f.hasOwnProperty(y)||f.setData(y,u.properties[y]);c.push(f)}}return c},createFromTiles:function(e,t,i,s,n,a){return null===(a=this.getLayer(a))?null:p.CreateFromTiles(e,t,i,s,n,a)},createStaticLayer:function(e,t,i,s){var n=this.getLayerIndex(e);if(null===n)return console.warn("Invalid Tilemap Layer ID: "+e),"string"==typeof e&&console.warn("Valid tilelayer names:\n\t"+this.getTileLayerNames().join(",\n\t")),null;if(this.layers[n].tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+e),null;this.currentLayerIndex=n,void 0===i&&this.layers[n].x&&(i=this.layers[n].x),void 0===s&&this.layers[n].y&&(s=this.layers[n].y);var a=new d(this.scene,this,n,t,i,s);return a.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(a),a},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=void 0},fill:function(e,t,i,s,n,a,r){return null===(r=this.getLayer(r))?null:(this._isStaticCall(r,"fill")||p.Fill(e,t,i,s,n,a,r),this)},filterObjects:function(e,t,i){if("string"==typeof e){var s=e;if(!(e=this.getObjectLayer(e)))return console.warn("No object layer found with the name: "+s),null}return e.objects.filter(t,i)},filterTiles:function(e,t,i,s,n,a,r,o){return null===(o=this.getLayer(o))?null:p.FilterTiles(e,t,i,s,n,a,r,o)},findByIndex:function(e,t,i,s){return null===(s=this.getLayer(s))?null:p.FindByIndex(e,t,i,s)},findObject:function(e,t,i){if("string"==typeof e){var s=e;if(!(e=this.getObjectLayer(e)))return console.warn("No object layer found with the name: "+s),null}return e.objects.find(t,i)||null},findTile:function(e,t,i,s,n,a,r,o){return null===(o=this.getLayer(o))?null:p.FindTile(e,t,i,s,n,a,r,o)},forEachTile:function(e,t,i,s,n,a,r,o){return null===(o=this.getLayer(o))?null:(p.ForEachTile(e,t,i,s,n,a,r,o),this)},getImageIndex:function(e){return this.getIndex(this.images,e)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map((function(e){return e.name})):[]},getIndex:function(e,t){for(var i=0;i<e.length;i++)if(e[i].name===t)return i;return null},getLayer:function(e){var t=this.getLayerIndex(e);return null!==t?this.layers[t]:null},getObjectLayer:function(e){var t=this.getIndex(this.objects,e);return null!==t?this.objects[t]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map((function(e){return e.name})):[]},getLayerIndex:function(e){return void 0===e?this.currentLayerIndex:"string"==typeof e?this.getLayerIndexByName(e):"number"==typeof e&&e<this.layers.length?e:e instanceof d||e instanceof a?e.layerIndex:null},getLayerIndexByName:function(e){return this.getIndex(this.layers,e)},getTileAt:function(e,t,i,s){return null===(s=this.getLayer(s))?null:p.GetTileAt(e,t,i,s)},getTileAtWorldXY:function(e,t,i,s,n){return null===(n=this.getLayer(n))?null:p.GetTileAtWorldXY(e,t,i,s,n)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map((function(e){return e.name})):[]},getTilesWithin:function(e,t,i,s,n,a){return null===(a=this.getLayer(a))?null:p.GetTilesWithin(e,t,i,s,n,a)},getTilesWithinShape:function(e,t,i,s){return null===(s=this.getLayer(s))?null:p.GetTilesWithinShape(e,t,i,s)},getTilesWithinWorldXY:function(e,t,i,s,n,a,r){return null===(r=this.getLayer(r))?null:p.GetTilesWithinWorldXY(e,t,i,s,n,a,r)},getTileset:function(e){var t=this.getIndex(this.tilesets,e);return null!==t?this.tilesets[t]:null},getTilesetIndex:function(e){return this.getIndex(this.tilesets,e)},hasTileAt:function(e,t,i){return null===(i=this.getLayer(i))?null:p.HasTileAt(e,t,i)},hasTileAtWorldXY:function(e,t,i,s){return null===(s=this.getLayer(s))?null:p.HasTileAtWorldXY(e,t,i,s)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(e){this.setLayer(e)}},putTileAt:function(e,t,i,s,n){return n=this.getLayer(n),this._isStaticCall(n,"putTileAt")||null===n?null:p.PutTileAt(e,t,i,s,n)},putTileAtWorldXY:function(e,t,i,s,n,a){return a=this.getLayer(a),this._isStaticCall(a,"putTileAtWorldXY")||null===a?null:p.PutTileAtWorldXY(e,t,i,s,n,a)},putTilesAt:function(e,t,i,s,n){return n=this.getLayer(n),this._isStaticCall(n,"putTilesAt")?this:null===n?null:(p.PutTilesAt(e,t,i,s,n),this)},randomize:function(e,t,i,s,n,a){return a=this.getLayer(a),this._isStaticCall(a,"randomize")?this:null===a?null:(p.Randomize(e,t,i,s,n,a),this)},calculateFacesAt:function(e,t,i){return null===(i=this.getLayer(i))?null:(p.CalculateFacesAt(e,t,i),this)},calculateFacesWithin:function(e,t,i,s,n){return null===(n=this.getLayer(n))?null:(p.CalculateFacesWithin(e,t,i,s,n),this)},removeLayer:function(e){var t=this.getLayerIndex(e);if(null!==t){l(this.layers,t);for(var i=t;i<this.layers.length;i++)this.layers[i].tilemapLayer&&this.layers[i].tilemapLayer.layerIndex--;return this.currentLayerIndex===t&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(e){var t=this.getLayerIndex(e);return null!==t?((e=this.layers[t]).destroy(),l(this.layers,t),this.currentLayerIndex===t&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var e=this.layers,t=0;t<e.length;t++)e[t].tilemapLayer&&e[t].tilemapLayer.destroy(!1);return e.length=0,this.currentLayerIndex=0,this},removeTile:function(e,t,i){void 0===t&&(t=-1),void 0===i&&(i=!0);var s=[];Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var a=e[n];s.push(this.removeTileAt(a.x,a.y,!0,i,a.tilemapLayer)),t>-1&&this.putTileAt(t,a.x,a.y,i,a.tilemapLayer)}return s},removeTileAt:function(e,t,i,s,n){return n=this.getLayer(n),this._isStaticCall(n,"removeTileAt")||null===n?null:p.RemoveTileAt(e,t,i,s,n)},removeTileAtWorldXY:function(e,t,i,s,n,a){return a=this.getLayer(a),this._isStaticCall(a,"removeTileAtWorldXY")||null===a?null:p.RemoveTileAtWorldXY(e,t,i,s,n,a)},renderDebug:function(e,t,i){return null===(i=this.getLayer(i))?null:(p.RenderDebug(e,t,i),this)},renderDebugFull:function(e,t){for(var i=this.layers,s=0;s<i.length;s++)p.RenderDebug(e,t,i[s]);return this},replaceByIndex:function(e,t,i,s,n,a,r){return r=this.getLayer(r),this._isStaticCall(r,"replaceByIndex")?this:null===r?null:(p.ReplaceByIndex(e,t,i,s,n,a,r),this)},setCollision:function(e,t,i,s,n){return null===(s=this.getLayer(s))?null:(p.SetCollision(e,t,i,s,n),this)},setCollisionBetween:function(e,t,i,s,n){return null===(n=this.getLayer(n))?null:(p.SetCollisionBetween(e,t,i,s,n),this)},setCollisionByProperty:function(e,t,i,s){return null===(s=this.getLayer(s))?null:(p.SetCollisionByProperty(e,t,i,s),this)},setCollisionByExclusion:function(e,t,i,s){return null===(s=this.getLayer(s))?null:(p.SetCollisionByExclusion(e,t,i,s),this)},setCollisionFromCollisionGroup:function(e,t,i){return null===(i=this.getLayer(i))?null:(p.SetCollisionFromCollisionGroup(e,t,i),this)},setTileIndexCallback:function(e,t,i,s){return null===(s=this.getLayer(s))?null:(p.SetTileIndexCallback(e,t,i,s),this)},setTileLocationCallback:function(e,t,i,s,n,a,r){return null===(r=this.getLayer(r))?null:(p.SetTileLocationCallback(e,t,i,s,n,a,r),this)},setLayer:function(e){var t=this.getLayerIndex(e);return null!==t&&(this.currentLayerIndex=t),this},setBaseTileSize:function(e,t){this.tileWidth=e,this.tileHeight=t,this.widthInPixels=this.width*e,this.heightInPixels=this.height*t;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=e,this.layers[i].baseTileHeight=t;for(var s=this.layers[i].data,n=this.layers[i].width,a=this.layers[i].height,r=0;r<a;r++)for(var o=0;o<n;o++){var c=s[r][o];null!==c&&c.setSize(void 0,void 0,e,t)}}return this},setLayerTileSize:function(e,t,i){if(null===(i=this.getLayer(i)))return this;i.tileWidth=e,i.tileHeight=t;for(var s=i.data,n=i.width,a=i.height,r=0;r<a;r++)for(var o=0;o<n;o++){var c=s[r][o];null!==c&&c.setSize(e,t)}return this},shuffle:function(e,t,i,s,n){return n=this.getLayer(n),this._isStaticCall(n,"shuffle")?this:null===n?null:(p.Shuffle(e,t,i,s,n),this)},swapByIndex:function(e,t,i,s,n,a,r){return r=this.getLayer(r),this._isStaticCall(r,"swapByIndex")?this:null===r?null:(p.SwapByIndex(e,t,i,s,n,a,r),this)},tileToWorldX:function(e,t,i){return null===(i=this.getLayer(i))?null:p.TileToWorldX(e,t,i)},tileToWorldY:function(e,t,i){return null===(i=this.getLayer(i))?null:p.TileToWorldY(e,t,i)},tileToWorldXY:function(e,t,i,s,n){return null===(n=this.getLayer(n))?null:p.TileToWorldXY(e,t,i,s,n)},weightedRandomize:function(e,t,i,s,n,a){return a=this.getLayer(a),this._isStaticCall(a,"weightedRandomize")?this:null===a?null:(p.WeightedRandomize(e,t,i,s,n,a),this)},worldToTileX:function(e,t,i,s){return null===(s=this.getLayer(s))?null:p.WorldToTileX(e,t,i,s)},worldToTileY:function(e,t,i,s){return null===(s=this.getLayer(s))?null:p.WorldToTileY(e,t,i,s)},worldToTileXY:function(e,t,i,s,n,a){return null===(a=this.getLayer(a))?null:p.WorldToTileXY(e,t,i,s,n,a)},_isStaticCall:function(e,t){return e.tilemapLayer instanceof d&&(console.warn(t+": You cannot change the tiles in a static tilemap layer"),!0)}});e.exports=m},function(e,t,i){var s=i(0),n=i(12),a=i(1345),r=i(14),o=i(141),c=new s({Extends:r,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Depth,n.Flip,n.GetBounds,n.Origin,n.Pipeline,n.Transform,n.Visible,n.ScrollFactor,a],initialize:function(e,t,i,s,n,a){r.call(this,e,"DynamicTilemapLayer"),this.isTilemap=!0,this.tilemap=t,this.layerIndex=i,this.layer=t.layers[i],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.CullTiles,this._renderOrder=0,this.gidMap=[],this.setTilesets(s),this.setAlpha(this.layer.alpha),this.setPosition(n,a),this.setOrigin(),this.setSize(t.tileWidth*this.layer.width,t.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline")},setTilesets:function(e){var t=[],i=[],s=this.tilemap;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var a=e[n];if("string"==typeof a&&(a=s.getTileset(a)),a){i.push(a);for(var r=a.firstgid,o=0;o<a.total;o++)t[r+o]=a}}this.gidMap=t,this.tileset=i},setRenderOrder:function(e){return"string"==typeof e&&(e=["right-down","left-down","right-up","left-up"].indexOf(e)),e>=0&&e<4&&(this._renderOrder=e),this},calculateFacesAt:function(e,t){return o.CalculateFacesAt(e,t,this.layer),this},calculateFacesWithin:function(e,t,i,s){return o.CalculateFacesWithin(e,t,i,s,this.layer),this},createFromTiles:function(e,t,i,s,n){return o.CreateFromTiles(e,t,i,s,n,this.layer)},cull:function(e){return this.cullCallback(this.layer,e,this.culledTiles,this._renderOrder)},copy:function(e,t,i,s,n,a,r){return o.Copy(e,t,i,s,n,a,r,this.layer),this},destroy:function(e){void 0===e&&(e=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),e&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))},fill:function(e,t,i,s,n,a){return o.Fill(e,t,i,s,n,a,this.layer),this},filterTiles:function(e,t,i,s,n,a,r){return o.FilterTiles(e,t,i,s,n,a,r,this.layer)},findByIndex:function(e,t,i){return o.FindByIndex(e,t,i,this.layer)},findTile:function(e,t,i,s,n,a,r){return o.FindTile(e,t,i,s,n,a,r,this.layer)},forEachTile:function(e,t,i,s,n,a,r){return o.ForEachTile(e,t,i,s,n,a,r,this.layer),this},getTileAt:function(e,t,i){return o.GetTileAt(e,t,i,this.layer)},getTileAtWorldXY:function(e,t,i,s){return o.GetTileAtWorldXY(e,t,i,s,this.layer)},getTilesWithin:function(e,t,i,s,n){return o.GetTilesWithin(e,t,i,s,n,this.layer)},getTilesWithinShape:function(e,t,i){return o.GetTilesWithinShape(e,t,i,this.layer)},getTilesWithinWorldXY:function(e,t,i,s,n,a){return o.GetTilesWithinWorldXY(e,t,i,s,n,a,this.layer)},hasTileAt:function(e,t){return o.HasTileAt(e,t,this.layer)},hasTileAtWorldXY:function(e,t,i){return o.HasTileAtWorldXY(e,t,i,this.layer)},putTileAt:function(e,t,i,s){return o.PutTileAt(e,t,i,s,this.layer)},putTileAtWorldXY:function(e,t,i,s,n){return o.PutTileAtWorldXY(e,t,i,s,n,this.layer)},putTilesAt:function(e,t,i,s){return o.PutTilesAt(e,t,i,s,this.layer),this},randomize:function(e,t,i,s,n){return o.Randomize(e,t,i,s,n,this.layer),this},removeTileAt:function(e,t,i,s){return o.RemoveTileAt(e,t,i,s,this.layer)},removeTileAtWorldXY:function(e,t,i,s,n){return o.RemoveTileAtWorldXY(e,t,i,s,n,this.layer)},renderDebug:function(e,t){return o.RenderDebug(e,t,this.layer),this},replaceByIndex:function(e,t,i,s,n,a){return o.ReplaceByIndex(e,t,i,s,n,a,this.layer),this},setSkipCull:function(e){return void 0===e&&(e=!0),this.skipCull=e,this},setCullPadding:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1),this.cullPaddingX=e,this.cullPaddingY=t,this},setCollision:function(e,t,i,s){return o.SetCollision(e,t,i,this.layer,s),this},setCollisionBetween:function(e,t,i,s){return o.SetCollisionBetween(e,t,i,s,this.layer),this},setCollisionByProperty:function(e,t,i){return o.SetCollisionByProperty(e,t,i,this.layer),this},setCollisionByExclusion:function(e,t,i){return o.SetCollisionByExclusion(e,t,i,this.layer),this},setCollisionFromCollisionGroup:function(e,t){return o.SetCollisionFromCollisionGroup(e,t,this.layer),this},setTileIndexCallback:function(e,t,i){return o.SetTileIndexCallback(e,t,i,this.layer),this},setTileLocationCallback:function(e,t,i,s,n,a){return o.SetTileLocationCallback(e,t,i,s,n,a,this.layer),this},shuffle:function(e,t,i,s){return o.Shuffle(e,t,i,s,this.layer),this},swapByIndex:function(e,t,i,s,n,a){return o.SwapByIndex(e,t,i,s,n,a,this.layer),this},tileToWorldX:function(e,t){return o.TileToWorldX(e,t,this.layer)},tileToWorldY:function(e,t){return o.TileToWorldY(e,t,this.layer)},tileToWorldXY:function(e,t,i,s){return o.TileToWorldXY(e,t,i,s,this.layer)},weightedRandomize:function(e,t,i,s,n){return o.WeightedRandomize(e,t,i,s,n,this.layer),this},worldToTileX:function(e,t,i){return o.WorldToTileX(e,t,i,this.layer)},worldToTileY:function(e,t,i){return o.WorldToTileY(e,t,i,this.layer)},worldToTileXY:function(e,t,i,s,n){return o.WorldToTileXY(e,t,i,s,n,this.layer)}});e.exports=c},function(e,t,i){var s=i(0),n=i(12),a=i(20),r=i(14),o=i(1348),c=i(141),h=i(29),l=i(9),d=new s({Extends:r,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Depth,n.Flip,n.GetBounds,n.Origin,n.Pipeline,n.Transform,n.Visible,n.ScrollFactor,o],initialize:function(e,t,i,s,n,o){r.call(this,e,"StaticTilemapLayer"),this.isTilemap=!0,this.tilemap=t,this.layerIndex=i,this.layer=t.layers[i],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=c.CullTiles,this.renderer=e.sys.game.renderer,this.vertexBuffer=[],this.bufferData=[],this.vertexViewF32=[],this.vertexViewU32=[],this.dirty=[],this.vertexCount=[],this._renderOrder=0,this._tempMatrix=new h,this.gidMap=[],this.setTilesets(s),this.setAlpha(this.layer.alpha),this.setPosition(n,o),this.setOrigin(),this.setSize(t.tileWidth*this.layer.width,t.tileHeight*this.layer.height),this.updateVBOData(),this.initPipeline("TextureTintPipeline"),e.sys.game.events.on(a.CONTEXT_RESTORED,(function(){this.updateVBOData()}),this)},setTilesets:function(e){var t=[],i=[],s=this.tilemap;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var a=e[n];if("string"==typeof a&&(a=s.getTileset(a)),a){i.push(a);for(var r=a.firstgid,o=0;o<a.total;o++)t[r+o]=a}}this.gidMap=t,this.tileset=i},updateVBOData:function(){for(var e=0;e<this.tileset.length;e++)this.dirty[e]=!0,this.vertexCount[e]=0,this.vertexBuffer[e]=null,this.bufferData[e]=null,this.vertexViewF32[e]=null,this.vertexViewU32[e]=null;return this},upload:function(e,t){var i=this.renderer,s=i.gl,n=i.pipelines.TextureTintPipeline;if(this.dirty[t]){var a,r,o,c=this.tileset[t],h=this.layer.width,l=this.layer.height,d=c.image.source[0].width,u=c.image.source[0].height,p=this.layer.data,f=this._renderOrder,m=c.firstgid,g=c.firstgid+c.total,y=this.vertexBuffer[t],v=this.bufferData[t],w=-1,b=h*l*n.vertexSize*6;if(this.vertexCount[t]=0,null===v&&(v=new ArrayBuffer(b),this.bufferData[t]=v,this.vertexViewF32[t]=new Float32Array(v),this.vertexViewU32[t]=new Uint32Array(v)),0===f)for(r=0;r<l;r++)for(o=0;o<h;o++)!(a=p[r][o])||a.index<m||a.index>g||!a.visible||(w=this.batchTile(w,a,c,d,u,e,t));else if(1===f)for(r=0;r<l;r++)for(o=h-1;o>=0;o--)!(a=p[r][o])||a.index<m||a.index>g||!a.visible||(w=this.batchTile(w,a,c,d,u,e,t));else if(2===f)for(r=l-1;r>=0;r--)for(o=0;o<h;o++)!(a=p[r][o])||a.index<m||a.index>g||!a.visible||(w=this.batchTile(w,a,c,d,u,e,t));else if(3===f)for(r=l-1;r>=0;r--)for(o=h-1;o>=0;o--)!(a=p[r][o])||a.index<m||a.index>g||!a.visible||(w=this.batchTile(w,a,c,d,u,e,t));this.dirty[t]=!1,null===y?(y=i.createVertexBuffer(v,s.STATIC_DRAW),this.vertexBuffer[t]=y):(i.setVertexBuffer(y),s.bufferSubData(s.ARRAY_BUFFER,0,v))}return this},batchTile:function(e,t,i,s,n,a,r){var o=i.getTileTextureCoordinates(t.index);if(!o)return e;var c=i.tileWidth,h=i.tileHeight,d=c/2,u=h/2,p=o.x/s,f=o.y/n,m=(o.x+c)/s,g=(o.y+h)/n,y=this._tempMatrix,v=-d,w=-u;t.flipX&&(c*=-1,v+=i.tileWidth),t.flipY&&(h*=-1,w+=i.tileHeight);var b=v+c,x=w+h;y.applyITRS(d+t.pixelX,u+t.pixelY,t.rotation,1,1);var k=l.getTintAppendFloatAlpha(16777215,a.alpha*this.alpha*t.alpha),T=y.getX(v,w),_=y.getY(v,w),S=y.getX(v,x),C=y.getY(v,x),P=y.getX(b,x),B=y.getY(b,x),A=y.getX(b,w),E=y.getY(b,w);a.roundPixels&&(T=Math.round(T),_=Math.round(_),S=Math.round(S),C=Math.round(C),P=Math.round(P),B=Math.round(B),A=Math.round(A),E=Math.round(E));var M=this.vertexViewF32[r],O=this.vertexViewU32[r];return M[++e]=T,M[++e]=_,M[++e]=p,M[++e]=f,M[++e]=0,O[++e]=k,M[++e]=S,M[++e]=C,M[++e]=p,M[++e]=g,M[++e]=0,O[++e]=k,M[++e]=P,M[++e]=B,M[++e]=m,M[++e]=g,M[++e]=0,O[++e]=k,M[++e]=T,M[++e]=_,M[++e]=p,M[++e]=f,M[++e]=0,O[++e]=k,M[++e]=P,M[++e]=B,M[++e]=m,M[++e]=g,M[++e]=0,O[++e]=k,M[++e]=A,M[++e]=E,M[++e]=m,M[++e]=f,M[++e]=0,O[++e]=k,this.vertexCount[r]+=6,e},setRenderOrder:function(e){if("string"==typeof e&&(e=["right-down","left-down","right-up","left-up"].indexOf(e)),e>=0&&e<4){this._renderOrder=e;for(var t=0;t<this.tileset.length;t++)this.dirty[t]=!0}return this},calculateFacesAt:function(e,t){return c.CalculateFacesAt(e,t,this.layer),this},calculateFacesWithin:function(e,t,i,s){return c.CalculateFacesWithin(e,t,i,s,this.layer),this},createFromTiles:function(e,t,i,s,n){return c.CreateFromTiles(e,t,i,s,n,this.layer)},cull:function(e){return this.cullCallback(this.layer,e,this.culledTiles)},setSkipCull:function(e){return void 0===e&&(e=!0),this.skipCull=e,this},setCullPadding:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1),this.cullPaddingX=e,this.cullPaddingY=t,this},findByIndex:function(e,t,i){return c.FindByIndex(e,t,i,this.layer)},findTile:function(e,t,i,s,n,a,r){return c.FindTile(e,t,i,s,n,a,r,this.layer)},filterTiles:function(e,t,i,s,n,a,r){return c.FilterTiles(e,t,i,s,n,a,r,this.layer)},forEachTile:function(e,t,i,s,n,a,r){return c.ForEachTile(e,t,i,s,n,a,r,this.layer),this},getTileAt:function(e,t,i){return c.GetTileAt(e,t,i,this.layer)},getTileAtWorldXY:function(e,t,i,s){return c.GetTileAtWorldXY(e,t,i,s,this.layer)},getTilesWithin:function(e,t,i,s,n){return c.GetTilesWithin(e,t,i,s,n,this.layer)},getTilesWithinWorldXY:function(e,t,i,s,n,a){return c.GetTilesWithinWorldXY(e,t,i,s,n,a,this.layer)},getTilesWithinShape:function(e,t,i){return c.GetTilesWithinShape(e,t,i,this.layer)},hasTileAt:function(e,t){return c.HasTileAt(e,t,this.layer)},hasTileAtWorldXY:function(e,t,i){return c.HasTileAtWorldXY(e,t,i,this.layer)},renderDebug:function(e,t){return c.RenderDebug(e,t,this.layer),this},setCollision:function(e,t,i,s){return c.SetCollision(e,t,i,this.layer,s),this},setCollisionBetween:function(e,t,i,s){return c.SetCollisionBetween(e,t,i,s,this.layer),this},setCollisionByProperty:function(e,t,i){return c.SetCollisionByProperty(e,t,i,this.layer),this},setCollisionByExclusion:function(e,t,i){return c.SetCollisionByExclusion(e,t,i,this.layer),this},setTileIndexCallback:function(e,t,i){return c.SetTileIndexCallback(e,t,i,this.layer),this},setCollisionFromCollisionGroup:function(e,t){return c.SetCollisionFromCollisionGroup(e,t,this.layer),this},setTileLocationCallback:function(e,t,i,s,n,a){return c.SetTileLocationCallback(e,t,i,s,n,a,this.layer),this},tileToWorldX:function(e,t){return c.TileToWorldX(e,t,this.layer)},tileToWorldY:function(e,t){return c.TileToWorldY(e,t,this.layer)},tileToWorldXY:function(e,t,i,s){return c.TileToWorldXY(e,t,i,s,this.layer)},worldToTileX:function(e,t,i){return c.WorldToTileX(e,t,i,this.layer)},worldToTileY:function(e,t,i){return c.WorldToTileY(e,t,i,this.layer)},worldToTileXY:function(e,t,i,s,n){return c.WorldToTileXY(e,t,i,s,n,this.layer)},destroy:function(e){if(void 0===e&&(e=!0),this.tilemap){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),e&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null;for(var t=0;t<this.tileset.length;t++)this.dirty[t]=!0,this.vertexCount[t]=0,this.vertexBuffer[t]=null,this.bufferData[t]=null,this.vertexViewF32[t]=null,this.vertexViewU32[t]=null;this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this)}}});e.exports=d},function(e,t,i){var s=i(0),n=i(2),a=new s({initialize:function(e){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(e)},reset:function(e){return this.delay=n(e,"delay",0),this.repeat=n(e,"repeat",0),this.loop=n(e,"loop",!1),this.callback=n(e,"callback",void 0),this.callbackScope=n(e,"callbackScope",this.callback),this.args=n(e,"args",[]),this.timeScale=n(e,"timeScale",1),this.startAt=n(e,"startAt",0),this.paused=n(e,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var e=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/e}return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},remove:function(e){void 0===e&&(e=!1),this.elapsed=this.delay,this.hasDispatched=!e,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});e.exports=a},function(e,t,i){var s=i(1357);e.exports=function(e){var t,i=[];if(e.hasOwnProperty("props"))for(t in e.props)"_"!==t.substr(0,1)&&i.push({key:t,value:e.props[t]});else for(t in e)-1===s.indexOf(t)&&"_"!==t.substr(0,1)&&i.push({key:t,value:e[t]});return i}},function(e,t,i){var s=i(6);e.exports=function(e){var t=s(e,"tweens",null);return null===t?[]:("function"==typeof t&&(t=t.call()),Array.isArray(t)||(t=[t]),t)}},function(e,t,i){var s=i(230),n=i(15),a=i(88),r=i(69),o=i(145),c=i(6),h=i(229),l=i(231),d=i(233);e.exports=function(e,t,i){void 0===i&&(i=s);var u=c(t,"from",0),p=c(t,"to",1),f=[{value:u}],m=o(t,"delay",i.delay),g=o(t,"duration",i.duration),y=c(t,"easeParams",i.easeParams),v=r(c(t,"ease",i.ease),y),w=o(t,"hold",i.hold),b=o(t,"repeat",i.repeat),x=o(t,"repeatDelay",i.repeatDelay),k=a(t,"yoyo",i.yoyo),T=[],_=h("value",p),S=d(f[0],0,"value",_.getEnd,_.getStart,_.getActive,v,m,g,k,w,b,x,!1,!1);S.start=u,S.current=u,S.to=p,T.push(S);var C=new l(e,T,f);C.offset=n(t,"offset",null),C.completeDelay=n(t,"completeDelay",0),C.loop=Math.round(n(t,"loop",0)),C.loopDelay=Math.round(n(t,"loopDelay",0)),C.paused=a(t,"paused",!1),C.useFrames=a(t,"useFrames",!1);for(var P=c(t,"callbackScope",C),B=[C,null],A=l.TYPES,E=0;E<A.length;E++){var M=A[E],O=c(t,M,!1);if(O){var I=c(t,M+"Scope",P),R=c(t,M+"Params",[]);C.setCallback(M,O,B.concat(R),I)}}return C}},function(e,t,i){var s=i(69),n=i(6),a=i(13);e.exports=function(e,t){void 0===t&&(t={});var i=n(t,"start",0),r=n(t,"ease",null),o=n(t,"grid",null),c=n(t,"from",0),h="first"===c,l="center"===c,d="last"===c,u="number"==typeof c,p=Array.isArray(e),f=p?parseFloat(e[0]):parseFloat(e),m=p?parseFloat(e[1]):0,g=Math.max(f,m);if(p&&(i+=f),o){var y=o[0],v=o[1],w=0,b=0,x=0,k=0,T=[];d?(w=y-1,b=v-1):u?(w=c%y,b=Math.floor(c/y)):l&&(w=(y-1)/2,b=(v-1)/2);for(var _=a.MIN_SAFE_INTEGER,S=0;S<v;S++){T[S]=[];for(var C=0;C<y;C++){x=w-C,k=b-S;var P=Math.sqrt(x*x+k*k);P>_&&(_=P),T[S][C]=P}}}var B=r?s(r):null;return o?function(e,t,s,n){var a,r=0,o=n%y,c=Math.floor(n/y);if(o>=0&&o<y&&c>=0&&c<v&&(r=T[c][o]),p){var h=m-f;a=B?r/_*h*B(r/_):r/_*h}else a=B?r*f*B(r/_):r*f;return a+i}:function(e,t,s,n,a){var r,o,y;return a--,h?r=n:l?r=Math.abs(a/2-n):d?r=a-n:u&&(r=Math.abs(c-n)),p?(y=l?(m-f)/a*(2*r):(m-f)/a*r,o=B?y*B(r/a):y):o=B?a*g*B(r/a):r*f,o+i}}},function(e,t,i){var s=i(67),n=i(230),a=i(15),r=i(88),o=i(69),c=i(145),h=i(228),l=i(499),d=i(6),u=i(503),p=i(146);e.exports=function(e,t){var i=new u(e);i.completeDelay=a(t,"completeDelay",0),i.loop=Math.round(a(t,"loop",0)),i.loopDelay=Math.round(a(t,"loopDelay",0)),i.paused=r(t,"paused",!1),i.useFrames=r(t,"useFrames",!1);var f=d(t,"callbackScope",i),m=[i],g=d(t,"onStart",!1);if(g){var y=d(t,"onStartScope",f),v=d(t,"onStartParams",[]);i.setCallback("onStart",g,m.concat(v),y)}var w=d(t,"onUpdate",!1);if(w){var b=d(t,"onUpdateScope",f),x=d(t,"onUpdateParams",[]);i.setCallback("onUpdate",w,m.concat(x),b)}var k=d(t,"onLoop",!1);if(k){var T=d(t,"onLoopScope",f),_=d(t,"onLoopParams",[]);i.setCallback("onLoop",k,m.concat(_),T)}var S=d(t,"onYoyo",!1);if(S){var C=d(t,"onYoyoScope",f),P=d(t,"onYoyoParams",[]);i.setCallback("onYoyo",S,m.concat(null,P),C)}var B=d(t,"onComplete",!1);if(B){var A=d(t,"onCompleteScope",f),E=d(t,"onCompleteParams",[]);i.setCallback("onComplete",B,m.concat(E),A)}var M=l(t);if(0===M.length)return i.paused=!0,i;var O=s(n);O.targets=h(t);var I=a(t,"totalDuration",0);O.duration=I>0?Math.floor(I/M.length):c(t,"duration",O.duration),O.delay=c(t,"delay",O.delay),O.easeParams=d(t,"easeParams",O.easeParams),O.ease=o(d(t,"ease",O.ease),O.easeParams),O.hold=c(t,"hold",O.hold),O.repeat=c(t,"repeat",O.repeat),O.repeatDelay=c(t,"repeatDelay",O.repeatDelay),O.yoyo=r(t,"yoyo",O.yoyo),O.flipX=r(t,"flipX",O.flipX),O.flipY=r(t,"flipY",O.flipY);for(var R=0;R<M.length;R++)i.queue(p(i,M[R],O));return i}},function(e,t,i){var s=i(0),n=i(10),a=i(232),r=i(146),o=i(89),c=new s({Extends:n,initialize:function(e){n.call(this),this.manager=e,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=o.PENDING_ADD,this._pausedState=o.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(e,t){this.emit(e,this),t&&t.func.apply(t.scope,t.params)},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===o.ACTIVE},add:function(e){return this.queue(r(this,e))},queue:function(e){return this.isPlaying()||(e.parent=this,e.parentIsTimeline=!0,this.data.push(e),this.totalData=this.data.length),this},hasOffset:function(e){return null!==e.offset},isOffsetAbsolute:function(e){return"number"==typeof e},isOffsetRelative:function(e){if("string"==typeof e){var t=e[0];if("-"===t||"+"===t)return!0}return!1},getRelativeOffset:function(e,t){var i=e[0],s=parseFloat(e.substr(2)),n=t;switch(i){case"+":n+=s;break;case"-":n-=s}return Math.max(0,n)},calcDuration:function(){for(var e=0,t=0,i=0,s=0;s<this.totalData;s++){var n=this.data[s];n.init(),this.hasOffset(n)?this.isOffsetAbsolute(n.offset)?(n.calculatedOffset=n.offset,0===n.offset&&(i=0)):this.isOffsetRelative(n.offset)&&(n.calculatedOffset=this.getRelativeOffset(n.offset,e)):n.calculatedOffset=i,e=n.totalDuration+n.calculatedOffset,t+=n.totalDuration,i+=n.totalDuration}this.duration=t,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=o.PAUSED,!1)},resetTweens:function(e){for(var t=0;t<this.totalData;t++)this.data[t].play(e)},setCallback:function(e,t,i,s){return-1!==c.TYPES.indexOf(e)&&(this.callbacks[e]={func:t,scope:s,params:i}),this},makeActive:function(e){return this.manager.makeActive(e)},play:function(){if(this.state!==o.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=o.ACTIVE,this.dispatchTimelineEvent(a.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=o.LOOP_DELAY):(this.state=o.ACTIVE,this.dispatchTimelineEvent(a.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=o.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=o.PENDING_REMOVE,this.dispatchTimelineEvent(a.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(e,t){if(this.state!==o.PAUSED){switch(this.useFrames&&(t=1*this.manager.timeScale),t*=this.timeScale,this.elapsed+=t,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=t,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case o.ACTIVE:for(var i=this.totalData,s=0;s<this.totalData;s++)this.data[s].update(e,t)&&i--;this.dispatchTimelineEvent(a.TIMELINE_UPDATE,this.callbacks.onUpdate),0===i&&this.nextState();break;case o.LOOP_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=o.ACTIVE,this.dispatchTimelineEvent(a.TIMELINE_LOOP,this.callbacks.onLoop));break;case o.COMPLETE_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=o.PENDING_REMOVE,this.dispatchTimelineEvent(a.TIMELINE_COMPLETE,this.callbacks.onComplete))}return this.state===o.PENDING_REMOVE}},stop:function(){this.state=o.PENDING_REMOVE},pause:function(){if(this.state!==o.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=o.PAUSED,this.emit(a.TIMELINE_PAUSE,this),this},resume:function(){return this.state===o.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(a.TIMELINE_RESUME,this)),this},hasTarget:function(e){for(var t=0;t<this.data.length;t++)if(this.data[t].hasTarget(e))return!0;return!1},destroy:function(){for(var e=0;e<this.data.length;e++)this.data[e].stop()}});c.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],e.exports=c},function(e,t,i){var s=i(151),n=i(0),a=i(111),r=new n({initialize:function(e){this.parent=e,this.animationManager=e.scene.sys.anims,this.animationManager.once(a.REMOVE_ANIMATION,this.remove,this),this.isPlaying=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this._timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this._delay=0,this._repeat=0,this._repeatDelay=0,this._yoyo=!1,this.forward=!0,this._reverse=!1,this.accumulator=0,this.nextTick=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(e){return e instanceof s&&(e=e.key),null===this.nextAnim?this.nextAnim=e:this.nextAnimsQueue.push(e),this.parent},setDelay:function(e){return void 0===e&&(e=0),this._delay=e,this.parent},getDelay:function(){return this._delay},delayedPlay:function(e,t,i){return this.play(t,!0,i),this.nextTick+=e,this.parent},getCurrentKey:function(){if(this.currentAnim)return this.currentAnim.key},load:function(e,t){return void 0===t&&(t=0),this.isPlaying&&this.stop(),this.animationManager.load(this,e,t),this.parent},pause:function(e){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==e&&this.updateFrame(e),this.parent},resume:function(e){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==e&&this.updateFrame(e),this.parent},isPaused:{get:function(){return this._paused}},play:function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=0),e instanceof s&&(e=e.key),t&&this.isPlaying&&this.currentAnim.key===e?this.parent:(this.forward=!0,this._reverse=!1,this._paused=!1,this._wasPlaying=!0,this._startAnimation(e,i))},playReverse:function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=0),e instanceof s&&(e=e.key),t&&this.isPlaying&&this.currentAnim.key===e?this.parent:(this.forward=!1,this._reverse=!0,this._startAnimation(e,i))},_startAnimation:function(e,t){this.load(e,t);var i=this.currentAnim,s=this.parent;if(!i)return s;this.repeatCounter=-1===this._repeat?Number.MAX_VALUE:this._repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,i.showOnStart&&(s.visible=!0);var n=this.currentFrame;return i.emit(a.ANIMATION_START,i,n,s),s.emit(a.SPRITE_ANIMATION_KEY_START+e,i,n,s),s.emit(a.SPRITE_ANIMATION_START,i,n,s),s},reverse:function(){return this.isPlaying&&(this._reverse=!this._reverse,this.forward=!this.forward),this.parent},getProgress:function(){var e=this.currentFrame.progress;return this.forward||(e=1-e),e},setProgress:function(e){return this.forward||(e=1-e),this.setCurrentFrame(this.currentAnim.getFrameByProgress(e)),this.parent},remove:function(e,t){void 0===t&&(t=this.currentAnim),this.isPlaying&&t.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},getRepeat:function(){return this._repeat},setRepeat:function(e){return this._repeat=e,this.repeatCounter=-1===e?Number.MAX_VALUE:e,this.parent},getRepeatDelay:function(){return this._repeatDelay},setRepeatDelay:function(e){return this._repeatDelay=e,this.parent},restart:function(e){void 0===e&&(e=!1);var t=this.currentAnim;t.getFirstTick(this,e),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,this._paused=!1,this.updateFrame(t.frames[0]);var i=this.parent,s=this.currentFrame;return t.emit(a.ANIMATION_RESTART,t,s,i),i.emit(a.SPRITE_ANIMATION_KEY_RESTART+t.key,t,s,i),i.emit(a.SPRITE_ANIMATION_RESTART,t,s,i),this.parent},stop:function(){this._pendingStop=0,this.isPlaying=!1;var e=this.parent,t=this.currentAnim,i=this.currentFrame;if(t&&(t.emit(a.ANIMATION_COMPLETE,t,i,e),e.emit(a.SPRITE_ANIMATION_KEY_COMPLETE+t.key,t,i,e),e.emit(a.SPRITE_ANIMATION_COMPLETE,t,i,e)),this.nextAnim){var s=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(s)}return e},stopAfterDelay:function(e){return this._pendingStop=1,this._pendingStopValue=e,this.parent},stopOnRepeat:function(){return this._pendingStop=2,this.parent},stopOnFrame:function(e){return this._pendingStop=3,this._pendingStopValue=e,this.parent},setTimeScale:function(e){return void 0===e&&(e=1),this._timeScale=e,this.parent},getTimeScale:function(){return this._timeScale},getTotalFrames:function(){return this.currentAnim.frames.length},update:function(e,t){if(this.currentAnim&&this.isPlaying&&!this.currentAnim.paused){if(this.accumulator+=t*this._timeScale,1===this._pendingStop&&(this._pendingStopValue-=t,this._pendingStopValue<=0))return this.currentAnim.completeAnimation(this);this.accumulator>=this.nextTick&&this.currentAnim.setFrame(this)}},setCurrentFrame:function(e){var t=this.parent;return this.currentFrame=e,t.texture=e.frame.texture,t.frame=e.frame,t.isCropped&&t.frame.updateCropUVs(t._crop,t.flipX,t.flipY),t.setSizeToFrame(),t._originComponent&&(e.frame.customPivot?t.setOrigin(e.frame.pivotX,e.frame.pivotY):t.updateDisplayOrigin()),t},updateFrame:function(e){var t=this.setCurrentFrame(e);if(this.isPlaying){e.setAlpha&&(t.alpha=e.alpha);var i=this.currentAnim;t.emit(a.SPRITE_ANIMATION_KEY_UPDATE+i.key,i,e,t),t.emit(a.SPRITE_ANIMATION_UPDATE,i,e,t),3===this._pendingStop&&this._pendingStopValue===e&&this.currentAnim.completeAnimation(this)}},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},setYoyo:function(e){return void 0===e&&(e=!1),this._yoyo=e,this.parent},getYoyo:function(){return this._yoyo},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.remove,this),this.animationManager=null,this.parent=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null}});e.exports=r},function(e,t,i){var s=i(506),n=i(40),a=i(0),r=i(33),o=i(507),c=i(92),h=i(29),l=new a({initialize:function(e){this.game=e,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.config={clearBeforeRender:e.config.clearBeforeRender,backgroundColor:e.config.backgroundColor,resolution:e.config.resolution,antialias:e.config.antialias,roundPixels:e.config.roundPixels},this.gameCanvas=e.canvas;var t={alpha:e.config.transparent,desynchronized:e.config.desynchronized};this.gameContext=this.game.config.context?this.game.config.context:this.gameCanvas.getContext("2d",t),this.currentContext=this.gameContext,this.antialias=e.config.antialias,this.blendModes=o(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this._tempMatrix4=new h,this.init()},init:function(){this.game.scale.on(c.RESIZE,this.onResize,this);var e=this.game.scale.baseSize;this.resize(e.width,e.height)},onResize:function(e,t){t.width===this.width&&t.height===this.height||this.resize(t.width,t.height)},resize:function(e,t){this.width=e,this.height=t},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(e){return this.currentContext.globalCompositeOperation=e,this},setContext:function(e){return this.currentContext=e||this.gameContext,this},setAlpha:function(e){return this.currentContext.globalAlpha=e,this},preRender:function(){var e=this.gameContext,t=this.config,i=this.width,s=this.height;e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),t.clearBeforeRender&&e.clearRect(0,0,i,s),t.transparent||(e.fillStyle=t.backgroundColor.rgba,e.fillRect(0,0,i,s)),e.save(),this.drawCount=0},render:function(e,t,i,s){var a=t.list,r=a.length,o=s._cx,c=s._cy,h=s._cw,l=s._ch,d=s.renderToTexture?s.context:e.sys.context;d.save(),this.game.scene.customViewports&&(d.beginPath(),d.rect(o,c,h,l),d.clip()),this.currentContext=d;var u=s.mask;u&&u.preRenderCanvas(this,null,s._maskCamera),s.transparent||(d.fillStyle=s.backgroundColor.rgba,d.fillRect(o,c,h,l)),d.globalAlpha=s.alpha,d.globalCompositeOperation="source-over",this.drawCount+=a.length,s.renderToTexture&&s.emit(n.PRE_RENDER,s),s.matrix.copyToContext(d);for(var p=0;p<r;p++){var f=a[p];f.willRender(s)&&(f.mask&&f.mask.preRenderCanvas(this,f,s),f.renderCanvas(this,f,i,s),f.mask&&f.mask.postRenderCanvas(this,f,s))}d.setTransform(1,0,0,1,0,0),d.globalCompositeOperation="source-over",d.globalAlpha=1,s.flashEffect.postRenderCanvas(d),s.fadeEffect.postRenderCanvas(d),s.dirty=!1,u&&u.postRenderCanvas(this),d.restore(),s.renderToTexture&&(s.emit(n.POST_RENDER,s),s.renderToGame&&e.sys.context.drawImage(s.canvas,o,c))},postRender:function(){this.gameContext.restore();var e=this.snapshotState;e.callback&&(s(this.gameCanvas,e),e.callback=null)},snapshotCanvas:function(e,t,i,n,a,r,o,c,h){void 0===i&&(i=!1),this.snapshotArea(n,a,r,o,t,c,h);var l=this.snapshotState;return l.getPixel=i,s(this.canvas,l),l.callback=null,this},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,e,t,i)},snapshotArea:function(e,t,i,s,n,a,r){var o=this.snapshotState;return o.callback=n,o.type=a,o.encoder=r,o.getPixel=!1,o.x=e,o.y=t,o.width=Math.min(i,this.gameCanvas.width),o.height=Math.min(s,this.gameCanvas.height),this},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i),this.snapshotState.getPixel=!0,this},batchSprite:function(e,t,i,s){var n=i.alpha*e.alpha;if(0!==n){var a=this.currentContext,r=this._tempMatrix1,o=this._tempMatrix2,c=this._tempMatrix3,h=t.canvasData,l=h.x,d=h.y,u=t.cutWidth,p=t.cutHeight,f=t.customPivot,m=t.source.resolution,g=e.displayOriginX,y=e.displayOriginY,v=-g+t.x,w=-y+t.y;if(e.isCropped){var b=e._crop;b.flipX===e.flipX&&b.flipY===e.flipY||t.updateCropUVs(b,e.flipX,e.flipY),u=b.cw,p=b.ch,l=b.cx,d=b.cy,v=-g+b.x,w=-y+b.y,e.flipX&&(v>=0?v=-(v+u):v<0&&(v=Math.abs(v)-u)),e.flipY&&(w>=0?w=-(w+p):w<0&&(w=Math.abs(w)-p))}var x=1,k=1;e.flipX&&(f||(v+=-t.realWidth+2*g),x=-1),e.flipY&&(f||(w+=-t.realHeight+2*y),k=-1),o.applyITRS(e.x,e.y,e.rotation,e.scaleX*x,e.scaleY*k),r.copyFrom(i.matrix),s?(r.multiplyWithOffset(s,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY),o.e=e.x,o.f=e.y,r.multiply(o,c)):(o.e-=i.scrollX*e.scrollFactorX,o.f-=i.scrollY*e.scrollFactorY,r.multiply(o,c)),a.save(),c.setToContext(a),a.globalCompositeOperation=this.blendModes[e.blendMode],a.globalAlpha=n,a.imageSmoothingEnabled=!(!this.antialias||t.source.scaleMode),e.mask&&e.mask.preRenderCanvas(this,e,i),a.drawImage(t.source.image,l,d,u,p,v,w,u/m,p/m),e.mask&&e.mask.postRenderCanvas(this,e,i),a.restore()}},destroy:function(){this.gameCanvas=null,this.gameContext=null,this.game=null}});e.exports=l},function(e,t,i){var s=i(26),n=i(31),a=i(2);e.exports=function(e,t){var i=a(t,"callback"),r=a(t,"type","image/png"),o=a(t,"encoder",.92),c=Math.abs(Math.round(a(t,"x",0))),h=Math.abs(Math.round(a(t,"y",0))),l=a(t,"width",e.width),d=a(t,"height",e.height);if(a(t,"getPixel",!1)){var u=e.getContext("2d").getImageData(c,h,1,1).data;i.call(null,new n(u[0],u[1],u[2],u[3]/255))}else if(0!==c||0!==h||l!==e.width||d!==e.height){var p=s.createWebGL(this,l,d);p.getContext("2d").drawImage(e,c,h,l,d,0,0,l,d);var f=new Image;f.onerror=function(){i.call(null),s.remove(p)},f.onload=function(){i.call(null,f),s.remove(p)},f.src=p.toDataURL(r,o)}else{var m=new Image;m.onerror=function(){i.call(null)},m.onload=function(){i.call(null,m)},m.src=e.toDataURL(r,o)}}},function(e,t,i){var s=i(52),n=i(316);e.exports=function(){var e=[],t=n.supportNewBlendModes,i="source-over";return e[s.NORMAL]=i,e[s.ADD]="lighter",e[s.MULTIPLY]=t?"multiply":i,e[s.SCREEN]=t?"screen":i,e[s.OVERLAY]=t?"overlay":i,e[s.DARKEN]=t?"darken":i,e[s.LIGHTEN]=t?"lighten":i,e[s.COLOR_DODGE]=t?"color-dodge":i,e[s.COLOR_BURN]=t?"color-burn":i,e[s.HARD_LIGHT]=t?"hard-light":i,e[s.SOFT_LIGHT]=t?"soft-light":i,e[s.DIFFERENCE]=t?"difference":i,e[s.EXCLUSION]=t?"exclusion":i,e[s.HUE]=t?"hue":i,e[s.SATURATION]=t?"saturation":i,e[s.COLOR]=t?"color":i,e[s.LUMINOSITY]=t?"luminosity":i,e[s.ERASE]="destination-out",e[s.SOURCE_IN]="source-in",e[s.SOURCE_OUT]="source-out",e[s.SOURCE_ATOP]="source-atop",e[s.DESTINATION_OVER]="destination-over",e[s.DESTINATION_IN]="destination-in",e[s.DESTINATION_OUT]="destination-out",e[s.DESTINATION_ATOP]="destination-atop",e[s.LIGHTER]="lighter",e[s.COPY]="copy",e[s.XOR]="xor",e}},function(e,t,i){var s=i(91),n=i(40),a=i(0),r=i(33),o=i(20),c=i(120),h=i(1),l=i(92),d=i(80),u=i(121),p=i(29),f=i(9),m=i(509),g=i(510),y=i(511),v=i(237),w=i(512),b=new a({initialize:function(e){var t=e.config,i={alpha:t.transparent,desynchronized:t.desynchronized,depth:!1,antialias:t.antialiasGL,premultipliedAlpha:t.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:t.failIfMajorPerformanceCaveat,powerPreference:t.powerPreference};this.config={clearBeforeRender:t.clearBeforeRender,antialias:t.antialias,backgroundColor:t.backgroundColor,contextCreation:i,resolution:t.resolution,roundPixels:t.roundPixels,maxTextures:t.maxTextures,maxTextureSize:t.maxTextureSize,batchSize:t.batchSize,maxLights:t.maxLights,mipmapFilter:t.mipmapFilter},this.game=e,this.type=r.WEBGL,this.width=0,this.height=0,this.canvas=e.canvas,this.blendModes=[],this.nativeTextures=[],this.contextLost=!1,this.pipelines=null,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTextureUnit=0,this.currentTextures=new Array(16),this.currentFramebuffer=null,this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.defaultCamera=new s(0,0,0,0),this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this._tempMatrix4=new p,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.mipmapFilter=null,this.init(this.config)},init:function(e){var t,i=this.game,s=this.canvas,n=e.backgroundColor;if(!(t=i.config.context?i.config.context:s.getContext("webgl",e.contextCreation)||s.getContext("experimental-webgl",e.contextCreation))||t.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=t;var a=this;this.contextLostHandler=function(e){a.contextLost=!0,a.game.events.emit(o.CONTEXT_LOST,a),e.preventDefault()},this.contextRestoredHandler=function(){a.contextLost=!1,a.init(a.config),a.game.events.emit(o.CONTEXT_RESTORED,a)},s.addEventListener("webglcontextlost",this.contextLostHandler,!1),s.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),i.context=t;for(var c=0;c<=27;c++)this.blendModes.push({func:[t.ONE,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_ADD});this.blendModes[1].func=[t.ONE,t.DST_ALPHA],this.blendModes[2].func=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[t.ONE,t.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[t.ZERO,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=t.BYTE,this.glFormats[1]=t.SHORT,this.glFormats[2]=t.UNSIGNED_BYTE,this.glFormats[3]=t.UNSIGNED_SHORT,this.glFormats[4]=t.FLOAT,this.glFuncMap={mat2:{func:t.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:t.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:t.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:t.uniform1f,length:1},"1fv":{func:t.uniform1fv,length:1},"1i":{func:t.uniform1i,length:1},"1iv":{func:t.uniform1iv,length:1},"2f":{func:t.uniform2f,length:2},"2fv":{func:t.uniform2fv,length:1},"2i":{func:t.uniform2i,length:2},"2iv":{func:t.uniform2iv,length:1},"3f":{func:t.uniform3f,length:3},"3fv":{func:t.uniform3fv,length:1},"3i":{func:t.uniform3i,length:3},"3iv":{func:t.uniform3iv,length:1},"4f":{func:t.uniform4f,length:4},"4fv":{func:t.uniform4fv,length:1},"4i":{func:t.uniform4i,length:4},"4iv":{func:t.uniform4iv,length:1}};var h=t.getSupportedExtensions();e.maxTextures||(e.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),e.maxTextureSize||(e.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE));var l="WEBGL_compressed_texture_",d="WEBKIT_"+l;this.compression.ETC1=t.getExtension(l+"etc1")||t.getExtension(d+"etc1"),this.compression.PVRTC=t.getExtension(l+"pvrtc")||t.getExtension(d+"pvrtc"),this.compression.S3TC=t.getExtension(l+"s3tc")||t.getExtension(d+"s3tc"),this.supportedExtensions=h,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.clearColor(n.redGL,n.greenGL,n.blueGL,n.alphaGL),this.mipmapFilter=t[e.mipmapFilter];for(var p=0;p<this.currentTextures.length;++p)this.currentTextures[p]=null;return this.pipelines={},this.addPipeline("TextureTintPipeline",new v({game:i,renderer:this})),this.addPipeline("TextureTintStripPipeline",new w({game:i,renderer:this})),this.addPipeline("BitmapMaskPipeline",new g({game:i,renderer:this})),this.addPipeline("Light2D",new y({game:i,renderer:this,maxLights:e.maxLights})),this.setBlendMode(r.BlendModes.NORMAL),i.textures.once(u.READY,this.boot,this),this},boot:function(){for(var e in this.pipelines)this.pipelines[e].boot();var t=this.game.textures.getFrame("__DEFAULT");this.pipelines.TextureTintPipeline.currentFrame=t,this.blankTexture=t;var i=this.gl;i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),this.setPipeline(this.pipelines.TextureTintPipeline),this.game.scale.on(l.RESIZE,this.onResize,this);var s=this.game.scale.baseSize;this.resize(s.width,s.height,this.game.scale.resolution)},onResize:function(e,t,i,s){t.width===this.width&&t.height===this.height&&s===this.resolution||this.resize(t.width,t.height,s)},resize:function(e,t,i){var s=this.gl,n=this.pipelines;for(var a in this.width=e,this.height=t,this.resolution=i,s.viewport(0,0,e,t),n)n[a].resize(e,t,i);return this.drawingBufferHeight=s.drawingBufferHeight,s.scissor(0,s.drawingBufferHeight-t,e,t),this.defaultCamera.setSize(e,t),this},hasExtension:function(e){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(e)},getExtension:function(e){return this.hasExtension(e)?(e in this.extensions||(this.extensions[e]=this.gl.getExtension(e)),this.extensions[e]):null},flush:function(){this.currentPipeline&&this.currentPipeline.flush()},hasPipeline:function(e){return e in this.pipelines},getPipeline:function(e){return this.hasPipeline(e)?this.pipelines[e]:null},removePipeline:function(e){return delete this.pipelines[e],this},addPipeline:function(e,t){return this.hasPipeline(e)?console.warn("Pipeline exists: "+e):this.pipelines[e]=t,t.name=e,this.pipelines[e].resize(this.width,this.height,this.config.resolution),t},pushScissor:function(e,t,i,s,n){void 0===n&&(n=this.drawingBufferHeight);var a=[e,t,i,s];return this.scissorStack.push(a),this.setScissor(e,t,i,s,n),this.currentScissor=a,a},setScissor:function(e,t,i,s,n){void 0===n&&(n=this.drawingBufferHeight);var a=this.gl,r=this.currentScissor,o=i>0&&s>0;if(r&&o){var c=r[0],h=r[1],l=r[2],d=r[3];o=c!==e||h!==t||l!==i||d!==s}o&&(this.flush(),a.scissor(e,n-t-s,i,s))},popScissor:function(){var e=this.scissorStack;e.pop();var t=e[e.length-1];t&&this.setScissor(t[0],t[1],t[2],t[3]),this.currentScissor=t},setPipeline:function(e,t){return this.currentPipeline===e&&this.currentPipeline.vertexBuffer===this.currentVertexBuffer&&this.currentPipeline.program===this.currentProgram||(this.flush(),this.currentPipeline=e,this.currentPipeline.bind()),this.currentPipeline.onBind(t),this.currentPipeline},hasActiveStencilMask:function(){var e=this.currentMask.mask,t=this.currentCameraMask.mask;return e&&e.isStencil||t&&t.isStencil},rebindPipeline:function(e){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),this.hasActiveStencilMask()?t.clear(t.DEPTH_BUFFER_BIT):(t.disable(t.STENCIL_TEST),t.clear(t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)),t.viewport(0,0,this.width,this.height),this.setBlendMode(0,!0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.blankTexture.glTexture),this.currentActiveTextureUnit=0,this.currentTextures[0]=this.blankTexture.glTexture,this.currentPipeline=e,this.currentPipeline.bind(),this.currentPipeline.onBind()},clearPipeline:function(){this.flush(),this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.setBlendMode(0,!0)},setBlendMode:function(e,t){void 0===t&&(t=!1);var i=this.gl,s=this.blendModes[e];return!!(t||e!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==e)&&(this.flush(),i.enable(i.BLEND),i.blendEquation(s.equation),s.func.length>2?i.blendFuncSeparate(s.func[0],s.func[1],s.func[2],s.func[3]):i.blendFunc(s.func[0],s.func[1]),this.currentBlendMode=e,!0)},addBlendMode:function(e,t){return this.blendModes.push({func:e,equation:t})-1},updateBlendMode:function(e,t,i){return this.blendModes[e]&&(this.blendModes[e].func=t,i&&(this.blendModes[e].equation=i)),this},removeBlendMode:function(e){return e>17&&this.blendModes[e]&&this.blendModes.splice(e,1),this},setBlankTexture:function(e){void 0===e&&(e=!1),!e&&0===this.currentActiveTextureUnit&&this.currentTextures[0]||this.setTexture2D(this.blankTexture.glTexture,0)},setTexture2D:function(e,t,i){void 0===i&&(i=!0);var s=this.gl;return e!==this.currentTextures[t]&&(i&&this.flush(),this.currentActiveTextureUnit!==t&&(s.activeTexture(s.TEXTURE0+t),this.currentActiveTextureUnit=t),s.bindTexture(s.TEXTURE_2D,e),this.currentTextures[t]=e),this},setFramebuffer:function(e,t){void 0===t&&(t=!1);var i=this.gl,s=this.width,n=this.height;return e!==this.currentFramebuffer&&(e&&e.renderTexture?(s=e.renderTexture.width,n=e.renderTexture.height):this.flush(),i.bindFramebuffer(i.FRAMEBUFFER,e),i.viewport(0,0,s,n),t&&(e?(this.drawingBufferHeight=n,this.pushScissor(0,0,s,n)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=e),this},setProgram:function(e){var t=this.gl;return e!==this.currentProgram&&(this.flush(),t.useProgram(e),this.currentProgram=e),this},setVertexBuffer:function(e){var t=this.gl;return e!==this.currentVertexBuffer&&(this.flush(),t.bindBuffer(t.ARRAY_BUFFER,e),this.currentVertexBuffer=e),this},setIndexBuffer:function(e){var t=this.gl;return e!==this.currentIndexBuffer&&(this.flush(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.currentIndexBuffer=e),this},createTextureFromSource:function(e,t,i,s){var n=this.gl,a=n.NEAREST,o=n.NEAREST,h=n.CLAMP_TO_EDGE;t=e?e.width:t,i=e?e.height:i;var l=c(t,i);return l&&(h=n.REPEAT),s===r.ScaleModes.LINEAR&&this.config.antialias&&(a=l?this.mipmapFilter:n.LINEAR,o=n.LINEAR),e||"number"!=typeof t||"number"!=typeof i?this.createTexture2D(0,a,o,h,h,n.RGBA,e):this.createTexture2D(0,a,o,h,h,n.RGBA,null,t,i)},createTexture2D:function(e,t,i,s,n,a,r,o,h,l,d,u){l=null==l||l,void 0===d&&(d=!1),void 0===u&&(u=!1);var p=this.gl,f=p.createTexture();return this.setTexture2D(f,0),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,t),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,i),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,n),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,s),p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,u),null==r?p.texImage2D(p.TEXTURE_2D,e,a,o,h,0,a,p.UNSIGNED_BYTE,null):(d||(o=r.width,h=r.height),p.texImage2D(p.TEXTURE_2D,e,a,a,p.UNSIGNED_BYTE,r)),c(o,h)&&p.generateMipmap(p.TEXTURE_2D),this.setTexture2D(null,0),f.isAlphaPremultiplied=l,f.isRenderTexture=!1,f.width=o,f.height=h,this.nativeTextures.push(f),f},createFramebuffer:function(e,t,i,s){var n,a=this.gl,r=a.createFramebuffer();if(this.setFramebuffer(r),s){var o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,e,t),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}if(i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,i,0),(n=a.checkFramebufferStatus(a.FRAMEBUFFER))!==a.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer incomplete. Framebuffer status: "+{36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"}[n]);return r.renderTexture=i,this.setFramebuffer(null),r},createProgram:function(e,t){var i=this.gl,s=i.createProgram(),n=i.createShader(i.VERTEX_SHADER),a=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(n,e),i.shaderSource(a,t),i.compileShader(n),i.compileShader(a),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error("Failed to compile Vertex Shader:\n"+i.getShaderInfoLog(n));if(!i.getShaderParameter(a,i.COMPILE_STATUS))throw new Error("Failed to compile Fragment Shader:\n"+i.getShaderInfoLog(a));if(i.attachShader(s,n),i.attachShader(s,a),i.linkProgram(s),!i.getProgramParameter(s,i.LINK_STATUS))throw new Error("Failed to link program:\n"+i.getProgramInfoLog(s));return s},createVertexBuffer:function(e,t){var i=this.gl,s=i.createBuffer();return this.setVertexBuffer(s),i.bufferData(i.ARRAY_BUFFER,e,t),this.setVertexBuffer(null),s},createIndexBuffer:function(e,t){var i=this.gl,s=i.createBuffer();return this.setIndexBuffer(s),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e,t),this.setIndexBuffer(null),s},deleteTexture:function(e){var t=this.nativeTextures.indexOf(e);return-1!==t&&d(this.nativeTextures,t),this.gl.deleteTexture(e),this.currentTextures[0]!==e||this.game.pendingDestroy||this.setBlankTexture(!0),this},deleteFramebuffer:function(e){return this.gl.deleteFramebuffer(e),this},deleteProgram:function(e){return this.gl.deleteProgram(e),this},deleteBuffer:function(e){return this.gl.deleteBuffer(e),this},preRenderCamera:function(e){var t=e._cx,i=e._cy,s=e._cw,a=e._ch,r=this.pipelines.TextureTintPipeline,o=e.backgroundColor;if(e.renderToTexture){this.flush(),this.pushScissor(t,i,s,-a),this.setFramebuffer(e.framebuffer);var c=this.gl;c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),r.projOrtho(t,s+t,i,a+i,-1e3,1e3),e.mask&&(this.currentCameraMask.mask=e.mask,this.currentCameraMask.camera=e._maskCamera,e.mask.preRenderWebGL(this,e,e._maskCamera)),o.alphaGL>0&&r.drawFillRect(t,i,s+t,a+i,f.getTintFromFloats(o.redGL,o.greenGL,o.blueGL,1),o.alphaGL),e.emit(n.PRE_RENDER,e)}else this.pushScissor(t,i,s,a),e.mask&&(this.currentCameraMask.mask=e.mask,this.currentCameraMask.camera=e._maskCamera,e.mask.preRenderWebGL(this,e,e._maskCamera)),o.alphaGL>0&&r.drawFillRect(t,i,s,a,f.getTintFromFloats(o.redGL,o.greenGL,o.blueGL,1),o.alphaGL)},getCurrentStencilMask:function(){var e=null,t=this.maskStack,i=this.currentCameraMask;return t.length>0?e=t[t.length-1]:i.mask&&i.mask.isStencil&&(e=i),e},postRenderCamera:function(e){this.setPipeline(this.pipelines.TextureTintPipeline);var t=this.pipelines.TextureTintPipeline;if(e.flashEffect.postRenderWebGL(t,f.getTintFromFloats),e.fadeEffect.postRenderWebGL(t,f.getTintFromFloats),e.dirty=!1,this.popScissor(),e.renderToTexture){if(t.flush(),this.setFramebuffer(null),e.emit(n.POST_RENDER,e),e.renderToGame){t.projOrtho(0,t.width,t.height,0,-1e3,1e3);var i=f.getTintAppendFloatAlpha;(e.pipeline?e.pipeline:t).batchTexture(e,e.glTexture,e.width,e.height,e.x,e.y,e.width,e.height,e.zoom,e.zoom,e.rotation,e.flipX,!e.flipY,1,1,0,0,0,0,e.width,e.height,i(e._tintTL,e._alphaTL),i(e._tintTR,e._alphaTR),i(e._tintBL,e._alphaBL),i(e._tintBR,e._alphaBR),e._isTinted&&e.tintFill,0,0,this.defaultCamera,null)}this.setBlankTexture(!0)}e.mask&&(this.currentCameraMask.mask=null,e.mask.postRenderWebGL(this,e._maskCamera))},preRender:function(){if(!this.contextLost){var e=this.gl,t=this.pipelines;if(e.bindFramebuffer(e.FRAMEBUFFER,null),this.config.clearBeforeRender){var i=this.config.backgroundColor;e.clearColor(i.redGL,i.greenGL,i.blueGL,i.alphaGL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT)}for(var s in e.enable(e.SCISSOR_TEST),t)t[s].onPreRender();this.currentScissor=[0,0,this.width,this.height],this.scissorStack=[this.currentScissor],this.game.scene.customViewports&&e.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.setPipeline(this.pipelines.TextureTintPipeline)}},render:function(e,t,i,s){if(!this.contextLost){var n=t.list,a=n.length,o=this.pipelines;for(var c in o)o[c].onRender(e,s);if(this.preRenderCamera(s),0===a)return this.setBlendMode(r.BlendModes.NORMAL),void this.postRenderCamera(s);this.currentType="";for(var h=this.currentMask,l=0;l<a;l++){var d=n[l];if(d.willRender(s)){d.blendMode!==this.currentBlendMode&&this.setBlendMode(d.blendMode);var u=d.mask;(h=this.currentMask).mask&&h.mask!==u&&h.mask.postRenderWebGL(this,h.camera),u&&h.mask!==u&&u.preRenderWebGL(this,d,s);var p=d.type;p!==this.currentType&&(this.newType=!0,this.currentType=p),this.nextTypeMatch=l<a-1&&n[l+1].type===this.currentType,d.renderWebGL(this,d,i,s),this.newType=!1}}(h=this.currentMask).mask&&h.mask.postRenderWebGL(this,h.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(s)}},postRender:function(){if(!this.contextLost){this.flush();var e=this.snapshotState;e.callback&&(m(this.canvas,e),e.callback=null);var t=this.pipelines;for(var i in t)t[i].onPostRender()}},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,e,t,i)},snapshotArea:function(e,t,i,s,n,a,r){var o=this.snapshotState;return o.callback=n,o.type=a,o.encoder=r,o.getPixel=!1,o.x=e,o.y=t,o.width=Math.min(i,this.gl.drawingBufferWidth),o.height=Math.min(s,this.gl.drawingBufferHeight),this},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(e,t,i,s,n,a,r,o,c,h,l){void 0===n&&(n=!1),void 0===a&&(a=0),void 0===r&&(r=0),void 0===o&&(o=t),void 0===c&&(c=i);var d=this.currentFramebuffer;this.snapshotArea(a,r,o,c,s,h,l);var u=this.snapshotState;return u.getPixel=n,u.isFramebuffer=!0,u.bufferWidth=t,u.bufferHeight=i,this.setFramebuffer(e),m(this.canvas,u),this.setFramebuffer(d),u.callback=null,u.isFramebuffer=!1,this},canvasToTexture:function(e,t,i,s){return void 0===i&&(i=!1),void 0===s&&(s=!1),t?this.updateCanvasTexture(e,t,s):this.createCanvasTexture(e,i,s)},createCanvasTexture:function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var s=this.gl,n=s.NEAREST,a=s.NEAREST,r=e.width,o=e.height,h=s.CLAMP_TO_EDGE,l=c(r,o);return!t&&l&&(h=s.REPEAT),this.config.antialias&&(n=l?this.mipmapFilter:s.LINEAR,a=s.LINEAR),this.createTexture2D(0,n,a,h,h,s.RGBA,e,r,o,!0,!1,i)},updateCanvasTexture:function(e,t,i){void 0===i&&(i=!1);var s=this.gl,n=e.width,a=e.height;return n>0&&a>0&&(this.setTexture2D(t,0),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,i),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,e),t.width=n,t.height=a,this.setTexture2D(null,0)),t},createVideoTexture:function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var s=this.gl,n=s.NEAREST,a=s.NEAREST,r=e.videoWidth,o=e.videoHeight,h=s.CLAMP_TO_EDGE,l=c(r,o);return!t&&l&&(h=s.REPEAT),this.config.antialias&&(n=l?this.mipmapFilter:s.LINEAR,a=s.LINEAR),this.createTexture2D(0,n,a,h,h,s.RGBA,e,r,o,!0,!0,i)},updateVideoTexture:function(e,t,i){void 0===i&&(i=!1);var s=this.gl,n=e.videoWidth,a=e.videoHeight;return n>0&&a>0&&(this.setTexture2D(t,0),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,i),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,e),t.width=n,t.height=a,this.setTexture2D(null,0)),t},setTextureFilter:function(e,t){var i=this.gl,s=[i.LINEAR,i.NEAREST][t];return this.setTexture2D(e,0),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,s),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,s),this.setTexture2D(null,0),this},setFloat1:function(e,t,i){return this.setProgram(e),this.gl.uniform1f(this.gl.getUniformLocation(e,t),i),this},setFloat2:function(e,t,i,s){return this.setProgram(e),this.gl.uniform2f(this.gl.getUniformLocation(e,t),i,s),this},setFloat3:function(e,t,i,s,n){return this.setProgram(e),this.gl.uniform3f(this.gl.getUniformLocation(e,t),i,s,n),this},setFloat4:function(e,t,i,s,n,a){return this.setProgram(e),this.gl.uniform4f(this.gl.getUniformLocation(e,t),i,s,n,a),this},setFloat1v:function(e,t,i){return this.setProgram(e),this.gl.uniform1fv(this.gl.getUniformLocation(e,t),i),this},setFloat2v:function(e,t,i){return this.setProgram(e),this.gl.uniform2fv(this.gl.getUniformLocation(e,t),i),this},setFloat3v:function(e,t,i){return this.setProgram(e),this.gl.uniform3fv(this.gl.getUniformLocation(e,t),i),this},setFloat4v:function(e,t,i){return this.setProgram(e),this.gl.uniform4fv(this.gl.getUniformLocation(e,t),i),this},setInt1:function(e,t,i){return this.setProgram(e),this.gl.uniform1i(this.gl.getUniformLocation(e,t),i),this},setInt2:function(e,t,i,s){return this.setProgram(e),this.gl.uniform2i(this.gl.getUniformLocation(e,t),i,s),this},setInt3:function(e,t,i,s,n){return this.setProgram(e),this.gl.uniform3i(this.gl.getUniformLocation(e,t),i,s,n),this},setInt4:function(e,t,i,s,n,a){return this.setProgram(e),this.gl.uniform4i(this.gl.getUniformLocation(e,t),i,s,n,a),this},setMatrix2:function(e,t,i,s){return this.setProgram(e),this.gl.uniformMatrix2fv(this.gl.getUniformLocation(e,t),i,s),this},setMatrix3:function(e,t,i,s){return this.setProgram(e),this.gl.uniformMatrix3fv(this.gl.getUniformLocation(e,t),i,s),this},setMatrix4:function(e,t,i,s){return this.setProgram(e),this.gl.uniformMatrix4fv(this.gl.getUniformLocation(e,t),i,s),this},getMaxTextures:function(){return this.config.maxTextures},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){for(var e=0;e<this.nativeTextures.length;e++)this.gl.deleteTexture(this.nativeTextures[e]);for(var t in this.nativeTextures=[],this.pipelines)this.pipelines[t].destroy(),delete this.pipelines[t];this.defaultCamera.destroy(),this.currentMask=null,this.currentCameraMask=null,this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.game=null,this.gl=null,this.canvas=null,this.maskStack=[],this.contextLost=!0,this.extensions={}}});e.exports=b},function(e,t,i){var s=i(26),n=i(31),a=i(2);e.exports=function(e,t){var i=e.getContext("experimental-webgl"),r=a(t,"callback"),o=a(t,"type","image/png"),c=a(t,"encoder",.92),h=a(t,"x",0),l=a(t,"y",0),d=a(t,"getPixel",!1),u=a(t,"isFramebuffer",!1),p=u?a(t,"bufferWidth",1):i.drawingBufferWidth,f=u?a(t,"bufferHeight",1):i.drawingBufferHeight;if(d){var m=new Uint8Array(4),g=u?l:f-l;i.readPixels(h,g,1,1,i.RGBA,i.UNSIGNED_BYTE,m),r.call(null,new n(m[0],m[1],m[2],m[3]/255))}else{var y=a(t,"width",p),v=a(t,"height",f),w=y*v*4,b=new Uint8Array(w);i.readPixels(h,f-l-v,y,v,i.RGBA,i.UNSIGNED_BYTE,b);for(var x=s.createWebGL(this,y,v),k=x.getContext("2d"),T=k.getImageData(0,0,y,v),_=T.data,S=0;S<v;S++)for(var C=0;C<y;C++){var P=4*((v-S)*y+C),B=u?w-4*(S*y+(y-C)):4*(S*y+C);_[B+0]=b[P+0],_[B+1]=b[P+1],_[B+2]=b[P+2],_[B+3]=b[P+3]}k.putImageData(T,0,0);var A=new Image;A.onerror=function(){r.call(null),s.remove(x)},A.onload=function(){r.call(null,A),s.remove(x)},A.src=x.toDataURL(o,c)}}},function(e,t,i){var s=i(0),n=i(786),a=i(787),r=i(147),o=new s({Extends:r,initialize:function(e){r.call(this,{game:e.game,renderer:e.renderer,gl:e.renderer.gl,topology:e.topology?e.topology:e.renderer.gl.TRIANGLES,vertShader:e.vertShader?e.vertShader:a,fragShader:e.fragShader?e.fragShader:n,vertexCapacity:e.vertexCapacity?e.vertexCapacity:3,vertexSize:e.vertexSize?e.vertexSize:2*Float32Array.BYTES_PER_ELEMENT,vertices:new Float32Array([-1,1,-1,-7,7,1]).buffer,attributes:[{name:"inPosition",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:0}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.maxQuads=1,this.resolutionDirty=!0},onBind:function(){r.prototype.onBind.call(this);var e=this.renderer,t=this.program;return this.resolutionDirty&&(e.setFloat2(t,"uResolution",this.width,this.height),e.setInt1(t,"uMainSampler",0),e.setInt1(t,"uMaskSampler",1),this.resolutionDirty=!1),this},resize:function(e,t,i){return r.prototype.resize.call(this,e,t,i),this.resolutionDirty=!0,this},beginMask:function(e,t,i){var s=this.renderer,n=this.gl;e.bitmapMask&&n&&(s.flush(),e.prevFramebuffer=s.currentFramebuffer,s.setFramebuffer(e.mainFramebuffer),n.disable(n.STENCIL_TEST),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),s.currentCameraMask.mask!==e&&(s.currentMask.mask=e,s.currentMask.camera=i))},endMask:function(e,t){var i=this.gl,s=this.renderer,n=e.bitmapMask;if(n&&i){s.flush(),s.setFramebuffer(e.maskFramebuffer),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),s.setBlendMode(0,!0),n.renderWebGL(s,n,0,t),s.flush(),s.setFramebuffer(e.prevFramebuffer);var a=s.getCurrentStencilMask();a?(i.enable(i.STENCIL_TEST),a.mask.applyStencil(s,a.camera,!0)):s.currentMask.mask=null,s.setPipeline(this),i.activeTexture(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,e.maskTexture),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e.mainTexture),i.uniform1i(i.getUniformLocation(this.program,"uInvertMaskAlpha"),e.invertAlpha),i.drawArrays(this.topology,0,3)}}});e.exports=o},function(e,t,i){var s=i(0),n=i(788),a=i(237),r=10,o=new s({Extends:a,initialize:function(e){r=e.maxLights,e.fragShader=n.replace("%LIGHT_COUNT%",r.toString()),a.call(this,e),this.defaultNormalMap,this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1])},boot:function(){this.defaultNormalMap=this.game.textures.getFrame("__DEFAULT")},onBind:function(e){a.prototype.onBind.call(this);var t=this.renderer,i=this.program;return this.mvpUpdate(),t.setInt1(i,"uNormSampler",1),t.setFloat2(i,"uResolution",this.width,this.height),e&&this.setNormalMap(e),this},onRender:function(e,t){this.active=!1;var i=e.sys.lights;if(!i||i.lights.length<=0||!i.active)return this;var s=i.cull(t),n=Math.min(s.length,r);if(0===n)return this;this.active=!0;var a,o=this.renderer,c=this.program,h=t.matrix,l={x:0,y:0},d=o.height;for(a=0;a<r;++a)o.setFloat1(c,"uLights["+a+"].radius",0);for(o.setFloat4(c,"uCamera",t.x,t.y,t.rotation,t.zoom),o.setFloat3(c,"uAmbientLightColor",i.ambientColor.r,i.ambientColor.g,i.ambientColor.b),a=0;a<n;++a){var u=s[a],p="uLights["+a+"].";h.transformPoint(u.x,u.y,l),o.setFloat2(c,p+"position",l.x-t.scrollX*u.scrollFactorX*t.zoom,d-(l.y-t.scrollY*u.scrollFactorY*t.zoom)),o.setFloat3(c,p+"color",u.r,u.g,u.b),o.setFloat1(c,p+"intensity",u.intensity),o.setFloat1(c,p+"radius",u.radius)}return this.currentNormalMapRotation=null,this},batchTexture:function(e,t,i,s,n,a,r,o,c,h,l,d,u,p,f,m,g,y,v,w,b,x,k,T,_,S,C,P,B,A){var E;if(this.active)if(this.renderer.setPipeline(this),e.displayTexture?E=e.displayTexture.dataSource[e.displayFrame.sourceIndex]:e.texture?E=e.texture.dataSource[e.frame.sourceIndex]:e.tileset&&(E=Array.isArray(e.tileset)?e.tileset[0].image.dataSource[0]:e.tileset.image.dataSource[0]),E){this.setTexture2D(E.glTexture,1),this.setNormalMapRotation(l);var M=this._tempMatrix1,O=this._tempMatrix2,I=this._tempMatrix3,R=y/i+C,D=v/s+P,N=(y+w)/i+C,F=(v+b)/s+P,L=r,Y=o,U=-m,V=-g;if(e.isCropped){var W=e._crop;L=W.width,Y=W.height,r=W.width,o=W.height;var z=y=W.x,H=v=W.y;d&&(z=w-W.x-W.width),u&&!t.isRenderTexture&&(H=b-W.y-W.height),R=z/i+C,D=H/s+P,N=(z+W.width)/i+C,F=(H+W.height)/s+P,U=-m+y,V=-g+v}d&&(L*=-1,U+=r),(u^=t.isRenderTexture?1:0)&&(Y*=-1,V+=o);var X=U+L,G=V+Y;O.applyITRS(n,a,l,c,h),M.copyFrom(B.matrix),A?(M.multiplyWithOffset(A,-B.scrollX*p,-B.scrollY*f),O.e=n,O.f=a,M.multiply(O,I)):(O.e-=B.scrollX*p,O.f-=B.scrollY*f,M.multiply(O,I));var j=I.getX(U,V),$=I.getY(U,V),K=I.getX(U,G),q=I.getY(U,G),J=I.getX(X,G),Q=I.getY(X,G),Z=I.getX(X,V),ee=I.getY(X,V);B.roundPixels&&(j=Math.round(j),$=Math.round($),K=Math.round(K),q=Math.round(q),J=Math.round(J),Q=Math.round(Q),Z=Math.round(Z),ee=Math.round(ee)),this.setTexture2D(t,0),this.batchQuad(j,$,K,q,J,Q,Z,ee,R,D,N,F,x,k,T,_,S,t,0)}else console.warn("Normal map missing or invalid")},setNormalMap:function(e){var t;this.active&&e&&(e.texture&&(t=e.texture.dataSource[e.frame.sourceIndex]),t||(t=this.defaultNormalMap),this.setTexture2D(t.glTexture,1),this.renderer.setPipeline(e.defaultPipeline))},setNormalMapRotation:function(e){if(e!==this.currentNormalMapRotation||0===this.batches.length){this.batches.length>0&&this.flush();var t=this.inverseRotationMatrix;if(e){var i=-e,s=Math.cos(i),n=Math.sin(i);t[1]=n,t[3]=-n,t[0]=t[4]=s}else t[0]=t[4]=1,t[1]=t[3]=0;this.renderer.setMatrix3(this.program,"uInverseRotationMatrix",!1,t),this.currentNormalMapRotation=e}},batchSprite:function(e,t,i){if(this.active){var s=e.texture.dataSource[e.frame.sourceIndex];s&&(this.renderer.setPipeline(this),this.setTexture2D(s.glTexture,1),this.setNormalMapRotation(e.rotation),a.prototype.batchSprite.call(this,e,t,i))}}});o.LIGHT_COUNT=r,e.exports=o},function(e,t,i){var s=i(0),n=i(2),a=i(238),r=i(340),o=i(341),c=i(29),h=i(147),l=new s({Extends:h,Mixins:[a],initialize:function(e){var t=e.renderer.config;h.call(this,{game:e.game,renderer:e.renderer,gl:e.renderer.gl,topology:e.renderer.gl.TRIANGLE_STRIP,vertShader:n(e,"vertShader",o),fragShader:n(e,"fragShader",r),vertexCapacity:n(e,"vertexCapacity",6*t.batchSize),vertexSize:n(e,"vertexSize",5*Float32Array.BYTES_PER_ELEMENT+4*Uint8Array.BYTES_PER_ELEMENT),attributes:[{name:"inPosition",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:2*Float32Array.BYTES_PER_ELEMENT},{name:"inTintEffect",size:1,type:e.renderer.gl.FLOAT,normalized:!1,offset:4*Float32Array.BYTES_PER_ELEMENT},{name:"inTint",size:4,type:e.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:5*Float32Array.BYTES_PER_ELEMENT}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=t.batchSize,this.batches=[],this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.mvpInit()},onBind:function(){return h.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(e,t,i){return h.prototype.resize.call(this,e,t,i),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(e,t){return void 0===e&&(e=this.renderer.blankTexture.glTexture),void 0===t&&(t=0),this.requireTextureBatch(e,t)&&this.pushBatch(e,t),this},requireTextureBatch:function(e,t){var i=this.batches,s=i.length;return!(s>0&&(t>0?i[s-1].textures[t-1]:i[s-1].texture)===e)},pushBatch:function(e,t){if(0===t)this.batches.push({first:this.vertexCount,texture:e,textures:[]});else{var i=[];i[t-1]=e,this.batches.push({first:this.vertexCount,texture:null,textures:i})}},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var e,t,i,s=this.gl,n=this.vertexCount,a=this.topology,r=this.vertexSize,o=this.renderer,c=this.batches,h=c.length,l=0,d=null;if(0===h||0===n)return this.flushLocked=!1,this;s.bufferSubData(s.ARRAY_BUFFER,0,this.bytes.subarray(0,n*r));for(var u=0;u<h-1;u++){if(d=c[u],e=c[u+1],d.textures.length>0){for(t=0;t<d.textures.length;++t)(i=d.textures[t])&&o.setTexture2D(i,1+t,!1);s.activeTexture(s.TEXTURE0)}l=e.first-d.first,null===d.texture||l<=0||(o.setTexture2D(d.texture,0,!1),s.drawArrays(a,d.first,l))}if((d=c[h-1]).textures.length>0){for(t=0;t<d.textures.length;++t)(i=d.textures[t])&&o.setTexture2D(i,1+t,!1);s.activeTexture(s.TEXTURE0)}return l=n-d.first,d.texture&&l>0&&(o.setTexture2D(d.texture,0,!1),s.drawArrays(a,d.first,l)),this.vertexCount=0,c.length=0,this.flushLocked=!1,this}});e.exports=l},function(e,t,i){var s={};e.exports=s;var n=i(99),a=i(42);s.fromVertices=function(e){for(var t={},i=0;i<e.length;i++){var s=(i+1)%e.length,r=n.normalise({x:e[s].y-e[i].y,y:e[i].x-e[s].x}),o=0===r.y?1/0:r.x/r.y;t[o=o.toFixed(3).toString()]=r}return a.values(t)},s.rotate=function(e,t){if(0!==t)for(var i=Math.cos(t),s=Math.sin(t),n=0;n<e.length;n++){var a,r=e[n];a=r.x*i-r.y*s,r.y=r.x*s+r.y*i,r.x=a}}},function(e,t,i){e.exports={Bounce:i(1397),Collision:i(1398),Force:i(1399),Friction:i(1400),Gravity:i(1401),Mass:i(1402),Static:i(1403),Sensor:i(1404),SetBody:i(1405),Sleep:i(1406),Transform:i(1423),Velocity:i(1424)}},function(e,t,i){var s={};e.exports=s;var n=i(516),a=i(473),r=i(100);s.collisions=function(e,t){for(var i=[],o=t.pairs.table,c=t.metrics,h=0;h<e.length;h++){var l=e[h][0],d=e[h][1];if((!l.isStatic&&!l.isSleeping||!d.isStatic&&!d.isSleeping)&&s.canCollide(l.collisionFilter,d.collisionFilter)&&(c.midphaseTests+=1,r.overlaps(l.bounds,d.bounds)))for(var u=l.parts.length>1?1:0;u<l.parts.length;u++)for(var p=l.parts[u],f=d.parts.length>1?1:0;f<d.parts.length;f++){var m=d.parts[f];if(p===l&&m===d||r.overlaps(p.bounds,m.bounds)){var g,y=o[a.id(p,m)];g=y&&y.isActive?y.collision:null;var v=n.collides(p,m,g);c.narrowphaseTests+=1,v.reused&&(c.narrowReuseCount+=1),v.collided&&(i.push(v),c.narrowDetections+=1)}}}return i},s.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)}},function(e,t,i){var s={};e.exports=s;var n=i(86),a=i(99);s.collides=function(e,t,i){var r,o,c,h,l=!1;if(i){var d=e.parent,u=t.parent,p=d.speed*d.speed+d.angularSpeed*d.angularSpeed+u.speed*u.speed+u.angularSpeed*u.angularSpeed;l=i&&i.collided&&p<.2,h=i}else h={collided:!1,bodyA:e,bodyB:t};if(i&&l){var f=h.axisBody,m=f===e?t:e,g=[f.axes[i.axisNumber]];if(c=s._overlapAxes(f.vertices,m.vertices,g),h.reused=!0,c.overlap<=0)return h.collided=!1,h}else{if((r=s._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return h.collided=!1,h;if((o=s._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return h.collided=!1,h;r.overlap<o.overlap?(c=r,h.axisBody=e):(c=o,h.axisBody=t),h.axisNumber=c.axisNumber}h.bodyA=e.id<t.id?e:t,h.bodyB=e.id<t.id?t:e,h.collided=!0,h.depth=c.overlap,h.parentA=h.bodyA.parent,h.parentB=h.bodyB.parent,e=h.bodyA,t=h.bodyB,a.dot(c.axis,a.sub(t.position,e.position))<0?h.normal={x:c.axis.x,y:c.axis.y}:h.normal={x:-c.axis.x,y:-c.axis.y},h.tangent=a.perp(h.normal),h.penetration=h.penetration||{},h.penetration.x=h.normal.x*h.depth,h.penetration.y=h.normal.y*h.depth;var y=s._findSupports(e,t,h.normal),v=[];if(n.contains(e.vertices,y[0])&&v.push(y[0]),n.contains(e.vertices,y[1])&&v.push(y[1]),v.length<2){var w=s._findSupports(t,e,a.neg(h.normal));n.contains(t.vertices,w[0])&&v.push(w[0]),v.length<2&&n.contains(t.vertices,w[1])&&v.push(w[1])}return v.length<1&&(v=[y[0]]),h.supports=v,h},s._overlapAxes=function(e,t,i){for(var n,r,o=a._temp[0],c=a._temp[1],h={overlap:Number.MAX_VALUE},l=0;l<i.length;l++){if(r=i[l],s._projectToAxis(o,e,r),s._projectToAxis(c,t,r),(n=Math.min(o.max-c.min,c.max-o.min))<=0)return h.overlap=n,h;n<h.overlap&&(h.overlap=n,h.axis=r,h.axisNumber=l)}return h},s._projectToAxis=function(e,t,i){for(var s=a.dot(t[0],i),n=s,r=1;r<t.length;r+=1){var o=a.dot(t[r],i);o>n?n=o:o<s&&(s=o)}e.min=s,e.max=n},s._findSupports=function(e,t,i){for(var s,n,r,o,c=Number.MAX_VALUE,h=a._temp[0],l=t.vertices,d=e.position,u=0;u<l.length;u++)n=l[u],h.x=n.x-d.x,h.y=n.y-d.y,(s=-a.dot(i,h))<c&&(c=s,r=n);return n=l[r.index-1>=0?r.index-1:l.length-1],h.x=n.x-d.x,h.y=n.y-d.y,c=-a.dot(i,h),o=n,n=l[(r.index+1)%l.length],h.x=n.x-d.x,h.y=n.y-d.y,(s=-a.dot(i,h))<c&&(o=n),[r,o]}},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){i(519),i(520),i(521),i(522),i(523),i(524),i(525),i(526)},function(e,t){Array.prototype.forEach||(Array.prototype.forEach=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var s=arguments.length>=2?arguments[1]:void 0,n=0;n<i;n++)n in t&&e.call(s,t[n],n,t)})},function(e,t){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)})},function(e,t){!function(){function e(e){e&&(e.setTargetAtTime||(e.setTargetAtTime=e.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return e(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var i=t?this.internal_createDelay(t):this.internal_createDelay();return e(i.delayTime),i},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start?(t.internal_start=t.start,t.start=function(e,i,s){void 0!==s?t.internal_start(e||0,i,s):t.internal_start(e||0,i||0)}):t.start=function(e,t,i){t||i?this.noteGrainOn(e||0,t,i):this.noteOn(e||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(e){this.noteOff(e||0)},e(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return e(t.threshold),e(t.knee),e(t.ratio),e(t.reduction),e(t.attack),e(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return e(t.frequency),e(t.detune),e(t.Q),e(t.gain),t},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start?(t.internal_start=t.start,t.start=function(e){t.internal_start(e||0)}):t.start=function(e){this.noteOn(e||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(e){this.noteOff(e||0)},t.setPeriodicWave||(t.setPeriodicWave=t.setWaveTable),e(t.frequency),e(t.detune),t})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)}()},function(e,t){window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){})},function(e,t){Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)})},function(e,t){!function(){if("performance"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==0){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}}()},function(e,t){for(var i=Date.now(),s=["ms","moz","webkit","o"],n=0;n<s.length&&!window.requestAnimationFrame;n++)window.requestAnimationFrame=window[s[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[n]+"CancelAnimationFrame"]||window[s[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),s=16+i-t;return s<0&&(s=0),i=t,setTimeout((function(){i=Date.now(),e(performance.now())}),s)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})},function(e,t){if("function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array){var i=function(e){var t=new Array;window[e]=function(e){if("number"==typeof e){Array.call(this,e),this.length=e;for(var t=0;t<this.length;t++)this[t]=0}else for(Array.call(this,e.length),this.length=e.length,t=0;t<this.length;t++)this[t]=e[t]},window[e].prototype=t,window[e].constructor=window[e]};i("Float32Array"),i("Uint32Array"),i("Uint16Array"),i("Int16Array"),i("ArrayBuffer")}},function(e,t,i){var s=i(242);e.exports=function(e,t,i,n){for(var a=e[0],r=1;r<e.length;r++){var o=e[r];s(o,a,t,i,n),a=o}return e}},function(e,t,i){var s=i(38);e.exports=function(e,t,i,n,a){return s(e,"angle",t,i,n,a)}},function(e,t){e.exports=function(e,t,i){for(var s=0;s<e.length;s++){var n=e[s];t.call(i,n)}return e}},function(e,t){e.exports=function(e,t,i){void 0===i&&(i=0);for(var s=i;s<e.length;s++){var n=e[s],a=!0;for(var r in t)n[r]!==t[r]&&(a=!1);if(a)return n}return null}},function(e,t){e.exports=function(e,t,i){void 0===i&&(i=0);for(var s=i;s<e.length;s++){var n=e[s],a=!0;for(var r in t)n[r]!==t[r]&&(a=!1);if(a)return n}return null}},function(e,t,i){var s=i(255),n=i(105),a=i(2),r=i(1),o=new(i(110))({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1);e.exports=function(e,t){void 0===t&&(t={});var i=t.hasOwnProperty("width"),r=t.hasOwnProperty("height"),c=a(t,"width",-1),h=a(t,"height",-1),l=a(t,"cellWidth",1),d=a(t,"cellHeight",l),u=a(t,"position",n.TOP_LEFT),p=a(t,"x",0),f=a(t,"y",0),m=0,g=0,y=c*l,v=h*d;o.setPosition(p,f),o.setSize(l,d);for(var w=0;w<e.length;w++)if(s(e[w],o,u),i&&-1===c)o.x+=l;else if(r&&-1===h)o.y+=d;else if(m+=l,o.x+=l,m===y&&(m=0,g+=d,o.x=p,o.y+=d,g===v))break;return e}},function(e,t,i){var s=i(19),n={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(e,t,i,n){return void 0===e&&(e=1),void 0===t?this.alpha=e:(this._alphaTL=s(e,0,1),this._alphaTR=s(t,0,1),this._alphaBL=s(i,0,1),this._alphaBR=s(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(e){var t=s(e,0,1);this._alpha=t,this._alphaTL=t,this._alphaTR=t,this._alphaBL=t,this._alphaBR=t,0===t?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(e){var t=s(e,0,1);this._alphaTL=t,0!==t&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(e){var t=s(e,0,1);this._alphaTR=t,0!==t&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(e){var t=s(e,0,1);this._alphaBL=t,0!==t&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(e){var t=s(e,0,1);this._alphaBR=t,0!==t&&(this.renderFlags|=2)}}};e.exports=n},function(e,t){e.exports="add"},function(e,t){e.exports="complete"},function(e,t){e.exports="repeat"},function(e,t){e.exports="restart"},function(e,t){e.exports="start"},function(e,t){e.exports="pauseall"},function(e,t){e.exports="remove"},function(e,t){e.exports="resumeall"},function(e,t){e.exports="animationcomplete"},function(e,t){e.exports="animationcomplete-"},function(e,t){e.exports="animationrepeat-"},function(e,t){e.exports="animationrestart-"},function(e,t){e.exports="animationstart-"},function(e,t){e.exports="animationupdate-"},function(e,t){e.exports="animationrepeat"},function(e,t){e.exports="animationrestart"},function(e,t){e.exports="animationstart"},function(e,t){e.exports="animationupdate"},function(e,t){e.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this}}},function(e,t){var i={texture:null,frame:null,isCropped:!1,setCrop:function(e,t,i,s){if(void 0===e)this.isCropped=!1;else if(this.frame){if("number"==typeof e)this.frame.setCropUVs(this._crop,e,t,i,s,this.flipX,this.flipY);else{var n=e;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};e.exports=i},function(e,t){e.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,t){return this.flipX=e,this.flipY=t,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},function(e,t,i){var s=i(11),n=i(276),a=i(3),r={prepareBoundsOutput:function(e,t){return void 0===t&&(t=!1),0!==this.rotation&&n(e,this.x,this.y,this.rotation),t&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(e.x,e.y,e),e},getCenter:function(e){return void 0===e&&(e=new a),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,e},getTopLeft:function(e,t){return e||(e=new a),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getTopCenter:function(e,t){return e||(e=new a),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getTopRight:function(e,t){return e||(e=new a),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getLeftCenter:function(e,t){return e||(e=new a),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getRightCenter:function(e,t){return e||(e=new a),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getBottomLeft:function(e,t){return e||(e=new a),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBottomCenter:function(e,t){return e||(e=new a),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBottomRight:function(e,t){return e||(e=new a),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBounds:function(e){var t,i,n,a,r,o,c,h;if(void 0===e&&(e=new s),this.parentContainer){var l=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(e),l.transformPoint(e.x,e.y,e),t=e.x,i=e.y,this.getTopRight(e),l.transformPoint(e.x,e.y,e),n=e.x,a=e.y,this.getBottomLeft(e),l.transformPoint(e.x,e.y,e),r=e.x,o=e.y,this.getBottomRight(e),l.transformPoint(e.x,e.y,e),c=e.x,h=e.y}else this.getTopLeft(e),t=e.x,i=e.y,this.getTopRight(e),n=e.x,a=e.y,this.getBottomLeft(e),r=e.x,o=e.y,this.getBottomRight(e),c=e.x,h=e.y;return e.x=Math.min(t,n,r,c),e.y=Math.min(i,a,o,h),e.width=Math.max(t,n,r,c)-e.x,e.height=Math.max(i,a,o,h)-e.y,e}};e.exports=r},function(e,t){e.exports="blur"},function(e,t){e.exports="boot"},function(e,t){e.exports="contextlost"},function(e,t){e.exports="contextrestored"},function(e,t){e.exports="destroy"},function(e,t){e.exports="focus"},function(e,t){e.exports="hidden"},function(e,t){e.exports="pause"},function(e,t){e.exports="postrender"},function(e,t){e.exports="poststep"},function(e,t){e.exports="prerender"},function(e,t){e.exports="prestep"},function(e,t){e.exports="ready"},function(e,t){e.exports="resume"},function(e,t){e.exports="step"},function(e,t){e.exports="visible"},function(e,t){var i={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,t){return void 0===e&&(e=.5),void 0===t&&(t=e),this.originX=e,this.originY=t,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.displayOriginX=e,this.displayOriginY=t,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};e.exports=i},function(e,t,i){var s=i(39),n=i(88),a=i(6),r=i(89),o=i(3),c={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(e,t){void 0===t&&(t=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=e,t&&this.startFollow(t),this},setRotateToPath:function(e,t){return void 0===t&&(t=0),this.rotateToPath=e,this.pathRotationOffset=t,this},isFollowing:function(){var e=this.pathTween;return e&&e.isPlaying()},startFollow:function(e,t){void 0===e&&(e={}),void 0===t&&(t=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),"number"==typeof e&&(e={duration:e}),e.from=a(e,"from",0),e.to=a(e,"to",1);var c=n(e,"positionOnPath",!1);this.rotateToPath=n(e,"rotateToPath",!1),this.pathRotationOffset=a(e,"rotationOffset",0);var h=a(e,"startAt",t);if(h&&(e.onStart=function(e){var t=e.data[0];t.progress=h,t.elapsed=t.duration*h;var i=t.ease(t.progress);t.current=t.start+(t.end-t.start)*i,t.target[t.key]=t.current}),this.pathOffset||(this.pathOffset=new o(this.x,this.y)),this.pathVector||(this.pathVector=new o),this.pathDelta||(this.pathDelta=new o),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(e),this.path.getStartPoint(this.pathOffset),c&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var l=this.path.getPoint(.1);this.rotation=Math.atan2(l.y-this.y,l.x-this.x)+s(this.pathRotationOffset)}return this.pathConfig=e,this},pauseFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.pause(),this},resumeFollow:function(){var e=this.pathTween;return e&&e.isPaused()&&e.resume(),this},stopFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.stop(),this},pathUpdate:function(){var e=this.pathTween;if(e){var t=e.data[0],i=this.pathDelta,n=this.pathVector;if(i.copy(n).negate(),t.state===r.COMPLETE)return this.path.getPoint(1,n),i.add(n),n.add(this.pathOffset),void this.setPosition(n.x,n.y);if(t.state!==r.PLAYING_FORWARD&&t.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(e.getValue(),n),i.add(n),n.add(this.pathOffset);var a=this.x,o=this.y;this.setPosition(n.x,n.y);var c=this.x-a,h=this.y-o;if(0===c&&0===h)return;if(t.state!==this._prevDirection)return void(this._prevDirection=t.state);this.rotateToPath&&(this.rotation=Math.atan2(h,c)+s(this.pathRotationOffset))}}};e.exports=c},function(e,t){var i={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){return void 0===e&&(e=this.frame),this.width=e.realWidth,this.height=e.realHeight,this},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this}};e.exports=i},function(e,t){var i={texture:null,frame:null,isCropped:!1,setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e,t,i){return void 0===t&&(t=!0),void 0===i&&(i=!0),this.frame=this.texture.get(e),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};e.exports=i},function(e,t){var i={texture:null,frame:null,isCropped:!1,setCrop:function(e,t,i,s){if(void 0===e)this.isCropped=!1;else if(this.frame){if("number"==typeof e)this.frame.setCropUVs(this._crop,e,t,i,s,this.flipX,this.flipY);else{var n=e;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e,t,i){return void 0===t&&(t=!0),void 0===i&&(i=!0),this.frame=this.texture.get(e),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};e.exports=i},function(e,t){var i=function(e){return(e>>16)+(65280&e)+((255&e)<<16)},s={_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,_isTinted:!1,tintFill:!1,clearTint:function(){return this.setTint(16777215),this._isTinted=!1,this},setTint:function(e,t,s,n){return void 0===e&&(e=16777215),void 0===t&&(t=e,s=e,n=e),this._tintTL=i(e),this._tintTR=i(t),this._tintBL=i(s),this._tintBR=i(n),this._isTinted=!0,this.tintFill=!1,this},setTintFill:function(e,t,i,s){return this.setTint(e,t,i,s),this.tintFill=!0,this},tintTopLeft:{get:function(){return this._tintTL},set:function(e){this._tintTL=i(e),this._isTinted=!0}},tintTopRight:{get:function(){return this._tintTR},set:function(e){this._tintTR=i(e),this._isTinted=!0}},tintBottomLeft:{get:function(){return this._tintBL},set:function(e){this._tintBL=i(e),this._isTinted=!0}},tintBottomRight:{get:function(){return this._tintBR},set:function(e){this._tintBR=i(e),this._isTinted=!0}},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){return this._isTinted}}};e.exports=s},function(e,t){e.exports="changedata"},function(e,t){e.exports="changedata-"},function(e,t){e.exports="removedata"},function(e,t){e.exports="setdata"},function(e,t){e.exports="destroy"},function(e,t){e.exports="complete"},function(e,t){e.exports="created"},function(e,t){e.exports="error"},function(e,t){e.exports="loop"},function(e,t){e.exports="play"},function(e,t){e.exports="seeked"},function(e,t){e.exports="seeking"},function(e,t){e.exports="stop"},function(e,t){e.exports="timeout"},function(e,t){e.exports="unlocked"},function(e,t,i){var s=i(38);e.exports=function(e,t,i,n,a){return s(e,"alpha",t,i,n,a)}},function(e,t,i){var s=i(38);e.exports=function(e,t,i,n,a){return s(e,"x",t,i,n,a)}},function(e,t,i){var s=i(38);e.exports=function(e,t,i,n,a,r,o){return null==i&&(i=t),s(e,"x",t,n,r,o),s(e,"y",i,a,r,o)}},function(e,t,i){var s=i(38);e.exports=function(e,t,i,n,a){return s(e,"y",t,i,n,a)}},function(e,t){e.exports=function(e,t,i,s){void 0===i&&(i=0),void 0===s&&(s=6.28);for(var n=i,a=(s-i)/e.length,r=0;r<e.length;r++)e[r].x=t.x+t.radius*Math.cos(n),e[r].y=t.y+t.radius*Math.sin(n),n+=a;return e}},function(e,t){e.exports=function(e,t,i,s){void 0===i&&(i=0),void 0===s&&(s=6.28);for(var n=i,a=(s-i)/e.length,r=t.width/2,o=t.height/2,c=0;c<e.length;c++)e[c].x=t.x+r*Math.cos(n),e[c].y=t.y+o*Math.sin(n),n+=a;return e}},function(e,t,i){var s=i(153);e.exports=function(e,t){for(var i=s(t,e.length),n=0;n<e.length;n++){var a=e[n],r=i[n];a.x=r.x,a.y=r.y}return e}},function(e,t,i){var s=i(285),n=i(286),a=i(287);e.exports=function(e,t,i){void 0===i&&(i=0);var r=s(t,!1,e.length);i>0?n(r,i):i<0&&a(r,Math.abs(i));for(var o=0;o<e.length;o++)e[o].x=r[o].x,e[o].y=r[o].y;return e}},function(e,t,i){var s=i(288);e.exports=function(e,t,i){var n=s({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},i),a=s({x1:t.x2,y1:t.y2,x2:t.x3,y2:t.y3},i),r=s({x1:t.x3,y1:t.y3,x2:t.x1,y2:t.y1},i);n.pop(),a.pop(),r.pop();for(var o=(n=n.concat(a,r)).length/e.length,c=0,h=0;h<e.length;h++){var l=e[h],d=n[Math.floor(c)];l.x=d.x,l.y=d.y,c+=o}return e}},function(e,t){e.exports=function(e,t,i){for(var s=0;s<e.length;s++)e[s].anims.play(t,i);return e}},function(e,t,i){var s=i(150);e.exports=function(e,t){for(var i=0;i<e.length;i++)s(t,e[i]);return e}},function(e,t,i){var s=i(157);e.exports=function(e,t){for(var i=0;i<e.length;i++)s(t,e[i]);return e}},function(e,t,i){var s=i(154);e.exports=function(e,t){for(var i=0;i<e.length;i++)s(t,e[i]);return e}},function(e,t,i){var s=i(155);e.exports=function(e,t){for(var i=0;i<e.length;i++)s(t,e[i]);return e}},function(e,t,i){var s=i(158);e.exports=function(e,t){for(var i=0;i<e.length;i++)s(t,e[i]);return e}},function(e,t,i){var s=i(38);e.exports=function(e,t,i,n,a){return s(e,"rotation",t,i,n,a)}},function(e,t,i){var s=i(159),n=i(53);e.exports=function(e,t,i){for(var a=t.x,r=t.y,o=0;o<e.length;o++){var c=e[o];s(c,a,r,i,Math.max(1,n(c.x,c.y,a,r)))}return e}},function(e,t,i){var s=i(159);e.exports=function(e,t,i,n){var a=t.x,r=t.y;if(0===n)return e;for(var o=0;o<e.length;o++)s(e[o],a,r,i,n);return e}},function(e,t,i){var s=i(38);e.exports=function(e,t,i,n,a){return s(e,"scaleX",t,i,n,a)}},function(e,t,i){var s=i(38);e.exports=function(e,t,i,n,a,r,o){return null==i&&(i=t),s(e,"scaleX",t,n,r,o),s(e,"scaleY",i,a,r,o)}},function(e,t,i){var s=i(38);e.exports=function(e,t,i,n,a){return s(e,"scaleY",t,i,n,a)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a){return s(e,"alpha",t,i,n,a)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n){return s(e,"blendMode",t,0,i,n)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a){return s(e,"depth",t,i,n,a)}},function(e,t){e.exports=function(e,t,i){for(var s=0;s<e.length;s++)e[s].setInteractive(t,i);return e}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a,r,o){return null==i&&(i=t),s(e,"originX",t,n,r,o),s(e,"originY",i,a,r,o)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a){return s(e,"rotation",t,i,n,a)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a,r,o){return null==i&&(i=t),s(e,"scaleX",t,n,r,o),s(e,"scaleY",i,a,r,o)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a){return s(e,"scaleX",t,i,n,a)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a){return s(e,"scaleY",t,i,n,a)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a,r,o){return null==i&&(i=t),s(e,"scrollFactorX",t,n,r,o),s(e,"scrollFactorY",i,a,r,o)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a){return s(e,"scrollFactorX",t,i,n,a)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a){return s(e,"scrollFactorY",t,i,n,a)}},function(e,t){e.exports=function(e,t,i,s,n){for(var a=0;a<e.length;a++)e[a].setTint(t,i,s,n);return e}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n){return s(e,"visible",t,0,i,n)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a){return s(e,"x",t,i,n,a)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a,r,o){return null==i&&(i=t),s(e,"x",t,n,r,o),s(e,"y",i,a,r,o)}},function(e,t,i){var s=i(25);e.exports=function(e,t,i,n,a){return s(e,"y",t,i,n,a)}},function(e,t,i){var s=i(3);e.exports=function(e,t,i,n,a){var r,o,c,h,l,d;if(void 0===n&&(n=0),void 0===a&&(a=new s),e.length>1)if(0===n){var u=e.length-1;for(r=e[u].x,o=e[u].y,c=u-1;c>=0;c--)h=(d=e[c]).x,l=d.y,d.x=r,d.y=o,r=h,o=l;e[u].x=t,e[u].y=i}else{for(r=e[0].x,o=e[0].y,c=1;c<e.length;c++)h=(d=e[c]).x,l=d.y,d.x=r,d.y=o,r=h,o=l;e[0].x=t,e[0].y=i}else r=e[0].x,o=e[0].y,e[0].x=t,e[0].y=i;return a.x=r,a.y=o,a}},function(e,t,i){var s=i(114);e.exports=function(e){return s(e)}},function(e,t,i){var s=i(160);e.exports=function(e,t,i,n,a){void 0===a&&(a=!1);var r,o=Math.abs(n-i)/e.length;if(a)for(r=0;r<e.length;r++)e[r][t]+=s(r*o,i,n);else for(r=0;r<e.length;r++)e[r][t]=s(r*o,i,n);return e}},function(e,t,i){var s=i(161);e.exports=function(e,t,i,n,a){void 0===a&&(a=!1);var r,o=Math.abs(n-i)/e.length;if(a)for(r=0;r<e.length;r++)e[r][t]+=s(r*o,i,n);else for(r=0;r<e.length;r++)e[r][t]=s(r*o,i,n);return e}},function(e,t){e.exports=function(e,t,i,s,n){void 0===n&&(n=!1);var a,r=Math.abs(s-i)/e.length;if(n)for(a=0;a<e.length;a++)e[a][t]+=a*r+i;else for(a=0;a<e.length;a++)e[a][t]=a*r+i;return e}},function(e,t){e.exports=function(e){for(var t=0;t<e.length;t++)e[t].visible=!e[t].visible;return e}},function(e,t,i){var s=i(58);e.exports=function(e,t,i){void 0===i&&(i=0);for(var n=0;n<e.length;n++){var a=e[n];a.x=s(a.x,t.left-i,t.right+i),a.y=s(a.y,t.top-i,t.bottom+i)}return e}},function(e,t,i){e.exports={Animation:i(151),AnimationFrame:i(271),AnimationManager:i(289),Events:i(111)}},function(e,t,i){e.exports={BaseCache:i(290),CacheManager:i(292),Events:i(291)}},function(e,t){e.exports="add"},function(e,t){e.exports="remove"},function(e,t,i){e.exports={Controls:i(643),Scene2D:i(646)}},function(e,t,i){e.exports={FixedKeyControl:i(644),SmoothedKeyControl:i(645)}},function(e,t,i){var s=i(0),n=i(6),a=new s({initialize:function(e){this.camera=n(e,"camera",null),this.left=n(e,"left",null),this.right=n(e,"right",null),this.up=n(e,"up",null),this.down=n(e,"down",null),this.zoomIn=n(e,"zoomIn",null),this.zoomOut=n(e,"zoomOut",null),this.zoomSpeed=n(e,"zoomSpeed",.01),this.speedX=0,this.speedY=0;var t=n(e,"speed",null);"number"==typeof t?(this.speedX=t,this.speedY=t):(this.speedX=n(e,"speed.x",0),this.speedY=n(e,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){void 0===e&&(e=1);var t=this.camera;this.up&&this.up.isDown?t.scrollY-=this.speedY*e|0:this.down&&this.down.isDown&&(t.scrollY+=this.speedY*e|0),this.left&&this.left.isDown?t.scrollX-=this.speedX*e|0:this.right&&this.right.isDown&&(t.scrollX+=this.speedX*e|0),this.zoomIn&&this.zoomIn.isDown?(t.zoom-=this.zoomSpeed,t.zoom<.1&&(t.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(t.zoom+=this.zoomSpeed)}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});e.exports=a},function(e,t,i){var s=i(0),n=i(6),a=new s({initialize:function(e){this.camera=n(e,"camera",null),this.left=n(e,"left",null),this.right=n(e,"right",null),this.up=n(e,"up",null),this.down=n(e,"down",null),this.zoomIn=n(e,"zoomIn",null),this.zoomOut=n(e,"zoomOut",null),this.zoomSpeed=n(e,"zoomSpeed",.01),this.accelX=0,this.accelY=0;var t=n(e,"acceleration",null);"number"==typeof t?(this.accelX=t,this.accelY=t):(this.accelX=n(e,"acceleration.x",0),this.accelY=n(e,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=n(e,"drag",null);"number"==typeof i?(this.dragX=i,this.dragY=i):(this.dragX=n(e,"drag.x",0),this.dragY=n(e,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var s=n(e,"maxSpeed",null);"number"==typeof s?(this.maxSpeedX=s,this.maxSpeedY=s):(this.maxSpeedX=n(e,"maxSpeed.x",0),this.maxSpeedY=n(e,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){void 0===e&&(e=1);var t=this.camera;this._speedX>0?(this._speedX-=this.dragX*e,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*e,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*e,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*e,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(t.scrollX-=this._speedX*e|0),0!==this._speedY&&(t.scrollY-=this._speedY*e|0),0!==this._zoom&&(t.zoom+=this._zoom,t.zoom<.001&&(t.zoom=.001))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});e.exports=a},function(e,t,i){e.exports={Camera:i(293),BaseCamera:i(91),CameraManager:i(702),Effects:i(301),Events:i(40)}},function(e,t){e.exports="cameradestroy"},function(e,t){e.exports="camerafadeincomplete"},function(e,t){e.exports="camerafadeinstart"},function(e,t){e.exports="camerafadeoutcomplete"},function(e,t){e.exports="camerafadeoutstart"},function(e,t){e.exports="cameraflashcomplete"},function(e,t){e.exports="cameraflashstart"},function(e,t){e.exports="camerapancomplete"},function(e,t){e.exports="camerapanstart"},function(e,t){e.exports="postrender"},function(e,t){e.exports="prerender"},function(e,t){e.exports="camerarotatecomplete"},function(e,t){e.exports="camerarotatestart"},function(e,t){e.exports="camerashakecomplete"},function(e,t){e.exports="camerashakestart"},function(e,t){e.exports="camerazoomcomplete"},function(e,t){e.exports="camerazoomstart"},function(e,t,i){var s=i(19),n=i(0),a=i(40),r=new n({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,s,n,r,o,c){if(void 0===e&&(e=!0),void 0===t&&(t=1e3),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=0),void 0===r&&(r=!1),void 0===o&&(o=null),void 0===c&&(c=this.camera.scene),!r&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=t,this.direction=e,this.progress=0,this.red=i,this.green=s,this.blue=n,this.alpha=e?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=c;var h=e?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(h,this.camera,this,t,i,s,n),this.camera},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=s(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(e){if(!this.isRunning&&!this.isComplete)return!1;var t=this.camera;return e.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",e.fillRect(t._cx,t._cy,t._cw,t._ch),!0},postRenderWebGL:function(e,t){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,s=this.red/255,n=this.blue/255,a=this.green/255;return e.drawFillRect(i._cx,i._cy,i._cw,i._ch,t(s,a,n,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var e=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(e,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=r},function(e,t,i){var s=i(19),n=i(0),a=i(40),r=new n({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,s,n,r,o){return void 0===e&&(e=250),void 0===t&&(t=255),void 0===i&&(i=255),void 0===s&&(s=255),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=this.camera.scene),!n&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,this.red=t,this.green=i,this.blue=s,this.alpha=1,this._elapsed=0,this._onUpdate=r,this._onUpdateScope=o,this.camera.emit(a.FLASH_START,this.camera,this,e,t,i,s)),this.camera},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=s(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(e){if(!this.isRunning)return!1;var t=this.camera;return e.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",e.fillRect(t._cx,t._cy,t._cw,t._ch),!0},postRenderWebGL:function(e,t){if(!this.isRunning)return!1;var i=this.camera,s=this.red/255,n=this.blue/255,a=this.green/255;return e.drawFillRect(i._cx,i._cy,i._cw,i._ch,t(s,a,n,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=r},function(e,t,i){var s=i(19),n=i(0),a=i(115),r=i(40),o=i(3),c=new n({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=new o,this.current=new o,this.destination=new o,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,s,n,o,c){void 0===i&&(i=1e3),void 0===s&&(s=a.Linear),void 0===n&&(n=!1),void 0===o&&(o=null),void 0===c&&(c=this.camera.scene);var h=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(h.scrollX,h.scrollY),this.destination.set(e,t),h.getScroll(e,t,this.current),"string"==typeof s&&a.hasOwnProperty(s)?this.ease=a[s]:"function"==typeof s&&(this.ease=s),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=c,this.camera.emit(r.PAN_START,this.camera,this,i,e,t)),h},update:function(e,t){if(this.isRunning){this._elapsed+=t;var i=s(this._elapsed/this.duration,0,1);this.progress=i;var n=this.camera;if(this._elapsed<this.duration){var a=this.ease(i);n.getScroll(this.destination.x,this.destination.y,this.current);var r=this.source.x+(this.current.x-this.source.x)*a,o=this.source.y+(this.current.y-this.source.y)*a;n.setScroll(r,o),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,r,o)}else n.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,n.scrollX,n.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});e.exports=c},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1.70158),e*e*((t+1)*e-t)}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1.70158),--e*e*((t+1)*e+t)+1}},function(e,t){e.exports=function(e,t){void 0===t&&(t=1.70158);var i=1.525*t;return(e*=2)<1?e*e*((i+1)*e-i)*.5:.5*((e-=2)*e*((i+1)*e+i)+2)}},function(e,t){e.exports=function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}},function(e,t){e.exports=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},function(e,t){e.exports=function(e){var t=!1;return e<.5?(e=1-2*e,t=!0):e=2*e-1,e<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5}},function(e,t){e.exports=function(e){return 1-Math.sqrt(1-e*e)}},function(e,t){e.exports=function(e){return Math.sqrt(1- --e*e)}},function(e,t){e.exports=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},function(e,t){e.exports=function(e){return e*e*e}},function(e,t){e.exports=function(e){return--e*e*e+1}},function(e,t){e.exports=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},function(e,t){e.exports=function(e,t,i){if(void 0===t&&(t=.1),void 0===i&&(i=.1),0===e)return 0;if(1===e)return 1;var s=i/4;return t<1?t=1:s=i*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/i)}},function(e,t){e.exports=function(e,t,i){if(void 0===t&&(t=.1),void 0===i&&(i=.1),0===e)return 0;if(1===e)return 1;var s=i/4;return t<1?t=1:s=i*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*e)*Math.sin((e-s)*(2*Math.PI)/i)+1}},function(e,t){e.exports=function(e,t,i){if(void 0===t&&(t=.1),void 0===i&&(i=.1),0===e)return 0;if(1===e)return 1;var s=i/4;return t<1?t=1:s=i*Math.asin(1/t)/(2*Math.PI),(e*=2)<1?t*Math.pow(2,10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/i)*-.5:t*Math.pow(2,-10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/i)*.5+1}},function(e,t){e.exports=function(e){return Math.pow(2,10*(e-1))-.001}},function(e,t){e.exports=function(e){return 1-Math.pow(2,-10*e)}},function(e,t){e.exports=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e*e}},function(e,t){e.exports=function(e){return e*(2-e)}},function(e,t){e.exports=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},function(e,t){e.exports=function(e){return e*e*e*e}},function(e,t){e.exports=function(e){return 1- --e*e*e*e}},function(e,t){e.exports=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},function(e,t){e.exports=function(e){return e*e*e*e*e}},function(e,t){e.exports=function(e){return--e*e*e*e*e+1}},function(e,t){e.exports=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},function(e,t){e.exports=function(e){return 0===e?0:1===e?1:1-Math.cos(e*Math.PI/2)}},function(e,t){e.exports=function(e){return 0===e?0:1===e?1:Math.sin(e*Math.PI/2)}},function(e,t){e.exports=function(e){return 0===e?0:1===e?1:.5*(1-Math.cos(Math.PI*e))}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1),e<=0?0:e>=1?1:1/t*(1+(t*e|0))}},function(e,t,i){var s=i(19),n=i(0),a=i(40),r=i(3),o=new n({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,s,n){return void 0===e&&(e=100),void 0===t&&(t=.05),void 0===i&&(i=!1),void 0===s&&(s=null),void 0===n&&(n=this.camera.scene),!i&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,"number"==typeof t?this.intensity.set(t):this.intensity.set(t.x,t.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s,this._onUpdateScope=n,this.camera.emit(a.SHAKE_START,this.camera,this,e,t)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,t){if(this.isRunning)if(this._elapsed+=t,this.progress=s(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var i=this.intensity,n=this.camera._cw,a=this.camera._ch,r=this.camera.zoom;this._offsetX=(Math.random()*i.x*n*2-i.x*n)*r,this._offsetY=(Math.random()*i.y*a*2-i.y*a)*r,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});e.exports=o},function(e,t,i){var s=i(19),n=i(0),a=i(40),r=i(115),o=new n({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,t,i,s,n,o,c){void 0===i&&(i=1e3),void 0===s&&(s=r.Linear),void 0===n&&(n=!1),void 0===o&&(o=null),void 0===c&&(c=this.camera.scene),void 0===t&&(t=!1),this.shortestPath=t;var h=e;e<0?(h=-1*e,this.clockwise=!1):this.clockwise=!0;var l=360*Math.PI/180;h-=Math.floor(h/l)*l;var d=this.camera;if(!n&&this.isRunning)return d;if(this.isRunning=!0,this.duration=i,this.progress=0,this.source=d.rotation,this.destination=h,"string"==typeof s&&r.hasOwnProperty(s)?this.ease=r[s]:"function"==typeof s&&(this.ease=s),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=c,this.shortestPath){var u=0,p=0;(u=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+l)-this.source)<(p=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+l)-this.destination)?this.clockwise=!0:u>p&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,i,h),d},update:function(e,t){if(this.isRunning){this._elapsed+=t;var i=s(this._elapsed/this.duration,0,1);this.progress=i;var n=this.camera;if(this._elapsed<this.duration){var a=this.ease(i);this.current=n.rotation;var r=0,o=360*Math.PI/180,c=this.destination,h=this.current;!1===this.clockwise&&(c=this.current,h=this.destination),r=c>=h?Math.abs(c-h):Math.abs(c+o)-h;var l=0;l=this.clockwise?n.rotation+r*a:n.rotation-r*a,n.rotation=l,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,l)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});e.exports=o},function(e,t,i){var s=i(19),n=i(0),a=i(115),r=i(40),o=new n({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,s,n,o){void 0===t&&(t=1e3),void 0===i&&(i=a.Linear),void 0===s&&(s=!1),void 0===n&&(n=null),void 0===o&&(o=this.camera.scene);var c=this.camera;return!s&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,this.source=c.zoom,this.destination=e,"string"==typeof i&&a.hasOwnProperty(i)?this.ease=a[i]:"function"==typeof i&&(this.ease=i),this._elapsed=0,this._onUpdate=n,this._onUpdateScope=o,this.camera.emit(r.ZOOM_START,this.camera,this,t,e)),c},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=s(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=o},function(e,t,i){var s=i(293),n=i(0),a=i(2),r=i(23),o=i(48),c=i(92),h=i(22),l=new n({initialize:function(e){this.scene=e,this.systems=e.sys,this.roundPixels=e.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,e.sys.events.once(h.BOOT,this.boot,this),e.sys.events.on(h.START,this.start,this)},boot:function(){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new s(0,0,e.scale.width,e.scale.height).setScene(this.scene),e.game.scale.on(c.RESIZE,this.onResize,this),this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){if(!this.main){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0]}var t=this.systems.events;t.on(h.UPDATE,this.update,this),t.once(h.SHUTDOWN,this.shutdown,this)},add:function(e,t,i,n,a,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===n&&(n=this.scene.sys.scale.height),void 0===a&&(a=!1),void 0===r&&(r="");var o=new s(e,t,i,n);return o.setName(r),o.setScene(this.scene),o.setRoundPixels(this.roundPixels),o.id=this.getNextID(),this.cameras.push(o),a&&(this.main=o),o},addExisting:function(e,t){return void 0===t&&(t=!1),-1===this.cameras.indexOf(e)?(e.id=this.getNextID(),e.setRoundPixels(this.roundPixels),this.cameras.push(e),t&&(this.main=e),e):null},getNextID:function(){for(var e=this.cameras,t=1,i=0;i<32;i++){for(var s=!1,n=0;n<e.length;n++){var a=e[n];a&&a.id===t&&(s=!0)}if(!s)return t;t<<=1}return 0},getTotal:function(e){void 0===e&&(e=!1);for(var t=0,i=this.cameras,s=0;s<i.length;s++){var n=i[s];(!e||e&&n.visible)&&t++}return t},fromJSON:function(e){Array.isArray(e)||(e=[e]);for(var t=this.scene.sys.scale.width,i=this.scene.sys.scale.height,s=0;s<e.length;s++){var n=e[s],r=a(n,"x",0),o=a(n,"y",0),c=a(n,"width",t),h=a(n,"height",i),l=this.add(r,o,c,h);l.name=a(n,"name",""),l.zoom=a(n,"zoom",1),l.rotation=a(n,"rotation",0),l.scrollX=a(n,"scrollX",0),l.scrollY=a(n,"scrollY",0),l.roundPixels=a(n,"roundPixels",!1),l.visible=a(n,"visible",!0);var d=a(n,"backgroundColor",!1);d&&l.setBackgroundColor(d);var u=a(n,"bounds",null);if(u){var p=a(u,"x",0),f=a(u,"y",0),m=a(u,"width",t),g=a(u,"height",i);l.setBounds(p,f,m,g)}}return this},getCamera:function(e){for(var t=this.cameras,i=0;i<t.length;i++)if(t[i].name===e)return t[i];return null},getCamerasBelowPointer:function(e){for(var t=this.cameras,i=e.x,s=e.y,n=[],a=0;a<t.length;a++){var r=t[a];r.visible&&r.inputEnabled&&o(r,i,s)&&n.unshift(r)}return n},remove:function(e,t){void 0===t&&(t=!0),Array.isArray(e)||(e=[e]);for(var i=0,s=this.cameras,n=0;n<e.length;n++){var a=s.indexOf(e[n]);-1!==a&&(t&&s[a].destroy(),s.splice(a,1),i++)}return!this.main&&s[0]&&(this.main=s[0]),i},render:function(e,t,i){for(var s=this.scene,n=this.cameras,a=0;a<this.cameras.length;a++){var r=n[a];r.visible&&r.alpha>0&&(r.preRender(1),e.render(s,t,i,r))}},resetAll:function(){for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(e,t){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(e,t)},onResize:function(e,t,i,s,n,a){for(var r=0;r<this.cameras.length;r++){var o=this.cameras[r];0===o._x&&0===o._y&&o._width===n&&o._height===a&&o.setSize(t.width,t.height)}},resize:function(e,t){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(e,t)},shutdown:function(){this.main=void 0;for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();this.cameras=[];var t=this.systems.events;t.off(h.UPDATE,this.update,this),t.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});r.register("CameraManager",l,"cameras"),e.exports=l},function(e,t){e.exports="enterfullscreen"},function(e,t){e.exports="fullscreenfailed"},function(e,t){e.exports="fullscreenunsupported"},function(e,t){e.exports="leavefullscreen"},function(e,t){e.exports="orientationchange"},function(e,t){e.exports="resize"},function(e,t){e.exports="boot"},function(e,t){e.exports="create"},function(e,t){e.exports="destroy"},function(e,t){e.exports="pause"},function(e,t){e.exports="postupdate"},function(e,t){e.exports="preupdate"},function(e,t){e.exports="ready"},function(e,t){e.exports="render"},function(e,t){e.exports="resume"},function(e,t){e.exports="shutdown"},function(e,t){e.exports="sleep"},function(e,t){e.exports="start"},function(e,t){e.exports="transitioncomplete"},function(e,t){e.exports="transitioninit"},function(e,t){e.exports="transitionout"},function(e,t){e.exports="transitionstart"},function(e,t){e.exports="transitionwake"},function(e,t){e.exports="update"},function(e,t){e.exports="wake"},function(e,t,i){e.exports={Config:i(314),CreateRenderer:i(338),DebugHeader:i(342),Events:i(20),TimeStep:i(343),VisibilityHandler:i(345)}},function(e,t){var i,s,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{s="function"==typeof clearTimeout?clearTimeout:r}catch(e){s=r}}();var c,h=[],l=!1,d=-1;function u(){l&&c&&(l=!1,c.length?h=c.concat(h):d=-1,h.length&&p())}function p(){if(!l){var e=o(u);l=!0;for(var t=h.length;t;){for(c=h,h=[];++d<t;)c&&c[d].run();d=-1,t=h.length}c=null,l=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===r||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new f(e,t)),1!==h.length||l||o(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,i){var s=i(118),n={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};e.exports=(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(n.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(n.mspointer=!0),navigator.getGamepads&&(n.gamepads=!0),"onwheel"in window||s.ie&&"WheelEvent"in window?n.wheelEvent="wheel":"onmousewheel"in window?n.wheelEvent="mousewheel":s.firefox&&"MouseScrollEvent"in window&&(n.wheelEvent="DOMMouseScroll"),n)},function(e,t,i){var s=i(118),n={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};e.exports=function(){n.audioData=!!window.Audio,n.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var e=document.createElement("audio"),t=!!e.canPlayType;try{if(t&&(e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(n.ogg=!0),(e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||e.canPlayType("audio/opus;").replace(/^no$/,""))&&(n.opus=!0),e.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(n.mp3=!0),e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(n.wav=!0),(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;").replace(/^no$/,""))&&(n.m4a=!0),e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(n.webm=!0),""!==e.canPlayType('audio/mp4;codecs="ec-3"')))if(s.edge)n.dolby=!0;else if(s.safari&&s.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),a=parseInt(RegExp.$2,10);(10===i&&a>=11||i>10)&&(n.dolby=!0)}}catch(e){}return n}()},function(e,t){var i={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};e.exports=function(){var e=document.createElement("video"),t=!!e.canPlayType;try{t&&(e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(i.ogg=!0),e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.h264=!0,i.mp4=!0),e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(i.webm=!0),e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(i.vp9=!0),e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.hls=!0))}catch(e){}return i}()},function(e,t){var i={available:!1,cancel:"",keyboard:!1,request:""};e.exports=function(){var e,t="Fullscreen",s="FullScreen",n=["request"+t,"request"+s,"webkitRequest"+t,"webkitRequest"+s,"msRequest"+t,"msRequest"+s,"mozRequest"+s,"mozRequest"+t];for(e=0;e<n.length;e++)if(document.documentElement[n[e]]){i.available=!0,i.request=n[e];break}var a=["cancel"+s,"exit"+t,"webkitCancel"+s,"webkitExit"+t,"msCancel"+s,"msExit"+t,"mozCancel"+s,"mozExit"+t];if(i.available)for(e=0;e<a.length;e++)if(document[a[e]]){i.cancel=a[e];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(i.keyboard=!0),Object.defineProperty(i,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),i}()},function(e,t,i){e.exports={Between:i(317),BetweenPoints:i(318),BetweenPointsY:i(735),BetweenY:i(736),CounterClockwise:i(737),Normalize:i(319),Random:i(738),RandomDegrees:i(739),Reverse:i(740),RotateTo:i(741),ShortestBetween:i(742),Wrap:i(235),WrapDegrees:i(236)}},function(e,t){e.exports=function(e,t){return Math.atan2(t.x-e.x,t.y-e.y)}},function(e,t){e.exports=function(e,t,i,s){return Math.atan2(i-e,s-t)}},function(e,t,i){var s=i(13);e.exports=function(e){return e>Math.PI&&(e-=s.PI2),Math.abs(((e+s.TAU)%s.PI2-s.PI2)%s.PI2)}},function(e,t,i){var s=i(119);e.exports=function(){return s(-Math.PI,Math.PI)}},function(e,t,i){var s=i(119);e.exports=function(){return s(-180,180)}},function(e,t,i){var s=i(319);e.exports=function(e){return s(e+Math.PI)}},function(e,t,i){var s=i(13);e.exports=function(e,t,i){return void 0===i&&(i=.05),e===t||(Math.abs(t-e)<=i||Math.abs(t-e)>=s.PI2-i?e=t:(Math.abs(t-e)>Math.PI&&(t<e?t+=s.PI2:t-=s.PI2),t>e?e+=i:t<e&&(e-=i))),e}},function(e,t){e.exports=function(e,t){var i=t-e;return 0===i?0:i-360*Math.floor((i- -180)/360)}},function(e,t,i){e.exports={Between:i(53),BetweenPoints:i(320),BetweenPointsSquared:i(744),Chebyshev:i(745),Power:i(746),Snake:i(747),Squared:i(321)}},function(e,t){e.exports=function(e,t){var i=e.x-t.x,s=e.y-t.y;return i*i+s*s}},function(e,t){e.exports=function(e,t,i,s){return Math.max(Math.abs(e-i),Math.abs(t-s))}},function(e,t){e.exports=function(e,t,i,s,n){return void 0===n&&(n=2),Math.sqrt(Math.pow(i-e,n)+Math.pow(s-t,n))}},function(e,t){e.exports=function(e,t,i,s){return Math.abs(e-i)+Math.abs(t-s)}},function(e,t,i){e.exports={Back:i(302),Bounce:i(303),Circular:i(304),Cubic:i(305),Elastic:i(306),Expo:i(307),Linear:i(308),Quadratic:i(309),Quartic:i(310),Quintic:i(311),Sine:i(312),Stepped:i(313)}},function(e,t,i){e.exports={Ceil:i(750),Equal:i(106),Floor:i(751),GreaterThan:i(322),LessThan:i(323)}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1e-4),Math.ceil(e-t)}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1e-4),Math.floor(e+t)}},function(e,t,i){e.exports={Bezier:i(753),CatmullRom:i(754),CubicBezier:i(326),Linear:i(755),QuadraticBezier:i(327),SmoothStep:i(328),SmootherStep:i(756)}},function(e,t,i){var s=i(324);e.exports=function(e,t){for(var i=0,n=e.length-1,a=0;a<=n;a++)i+=Math.pow(1-t,n-a)*Math.pow(t,a)*e[a]*s(n,a);return i}},function(e,t,i){var s=i(171);e.exports=function(e,t){var i=e.length-1,n=i*t,a=Math.floor(n);return e[0]===e[i]?(t<0&&(a=Math.floor(n=i*(1+t))),s(n-a,e[(a-1+i)%i],e[a],e[(a+1)%i],e[(a+2)%i])):t<0?e[0]-(s(-n,e[0],e[0],e[1],e[1])-e[0]):t>1?e[i]-(s(n-i,e[i],e[i],e[i-1],e[i-1])-e[i]):s(n-a,e[a?a-1:0],e[a],e[i<a+1?i:a+1],e[i<a+2?i:a+2])}},function(e,t,i){var s=i(116);e.exports=function(e,t){var i=e.length-1,n=i*t,a=Math.floor(n);return t<0?s(e[0],e[1],n):t>1?s(e[i],e[i-1],i-n):s(e[a],e[a+1>i?i:a+1],n-a)}},function(e,t,i){var s=i(160);e.exports=function(e,t,i){return t+(i-t)*s(e,0,1)}},function(e,t,i){e.exports={GetNext:i(329),IsSize:i(120),IsValue:i(758)}},function(e,t){e.exports=function(e){return e>0&&0==(e&e-1)}},function(e,t,i){e.exports={Ceil:i(330),Floor:i(93),To:i(760)}},function(e,t){e.exports=function(e,t,i,s){return void 0===i&&(i=0),0===t?e:(e-=i,e=t*Math.round(e/t),s?(i+e)/t:i+e)}},function(e,t,i){var s=new(i(0))({initialize:function(e){void 0===e&&(e=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],e&&this.init(e)},rnd:function(){var e=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|e,this.s0=this.s1,this.s1=this.s2,this.s2=e-this.c,this.s2},hash:function(e){var t,i=this.n;e=e.toString();for(var s=0;s<e.length;s++)t=.02519603282416938*(i+=e.charCodeAt(s)),t-=i=t>>>0,i=(t*=i)>>>0,i+=4294967296*(t-=i);return this.n=i,2.3283064365386963e-10*(i>>>0)},init:function(e){"string"==typeof e?this.state(e):this.sow(e)},sow:function(e){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,e)for(var t=0;t<e.length&&null!=e[t];t++){var i=e[t];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(e,t){return Math.floor(this.realInRange(0,t-e+1)+e)},between:function(e,t){return Math.floor(this.realInRange(0,t-e+1)+e)},realInRange:function(e,t){return this.frac()*(t-e)+e},normal:function(){return 1-2*this.frac()},uuid:function(){var e="",t="";for(t=e="";e++<36;t+=~e%5|3*e&4?(15^e?8^this.frac()*(20^e?16:4):4).toString(16):"-");return t},pick:function(e){return e[this.integerInRange(0,e.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(e){return e[~~(Math.pow(this.frac(),2)*(e.length-1)+.5)]},timestamp:function(e,t){return this.realInRange(e||9466848e5,t||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(e){return"string"==typeof e&&e.match(/^!rnd/)&&(e=e.split(","),this.c=parseFloat(e[1]),this.s0=parseFloat(e[2]),this.s1=parseFloat(e[3]),this.s2=parseFloat(e[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(this.frac()*(t+1)),s=e[i];e[i]=e[t],e[t]=s}return e}});e.exports=s},function(e,t){e.exports=function(e){for(var t=0,i=0;i<e.length;i++)t+=+e[i];return t/e.length}},function(e,t){e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);var s=Math.pow(i,-t);return Math.ceil(e*s)/s}},function(e,t){e.exports=function(e,t){return Math.abs(e-t)}},function(e,t){e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);var s=Math.pow(i,-t);return Math.floor(e*s)/s}},function(e,t){e.exports=function(e,t){return e/t/1e3}},function(e,t){e.exports=function(e){return e==parseFloat(e)?!(e%2):void 0}},function(e,t){e.exports=function(e){return e===parseFloat(e)?!(e%2):void 0}},function(e,t){e.exports=function(e,t,i){return Math.min(e+t,i)}},function(e,t){e.exports=function(e,t,i){return Math.max(e-t,i)}},function(e,t){e.exports=function(e,t,i,s){void 0===i&&(i=t+1);var n=(e-t)/(i-t);return n>1?void 0!==s?(n=(s-e)/(s-i))<0&&(n=0):n=1:n<0&&(n=0),n}},function(e,t){e.exports=function(e,t){void 0===t&&(t=1);var i=2*Math.random()*Math.PI;return e.x=Math.cos(i)*t,e.y=Math.sin(i)*t,e}},function(e,t){e.exports=function(e,t){void 0===t&&(t=1);var i=2*Math.random()*Math.PI,s=2*Math.random()-1,n=Math.sqrt(1-s*s)*t;return e.x=Math.cos(i)*n,e.y=Math.sin(i)*n,e.z=s*t,e}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1),e.x=(2*Math.random()-1)*t,e.y=(2*Math.random()-1)*t,e.z=(2*Math.random()-1)*t,e.w=(2*Math.random()-1)*t,e}},function(e,t){e.exports=function(e,t,i,s,n){return e.x=t+n*Math.cos(s),e.y=i+n*Math.sin(s),e}},function(e,t){e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);var s=Math.pow(i,-t);return Math.round(e*s)/s}},function(e,t){e.exports=function(e,t,i,s){void 0===t&&(t=1),void 0===i&&(i=1),void 0===s&&(s=1),s*=Math.PI/e;for(var n=[],a=[],r=0;r<e;r++)t+=(i-=t*s)*s,n[r]=i,a[r]=t;return{sin:a,cos:n,length:e}}},function(e,t,i){var s=i(3);e.exports=function(e,t,i,n){void 0===n&&(n=new s);var a=0,r=0;return e>0&&e<=t*i&&(a=e>t-1?e-(r=Math.floor(e/t))*t:e,n.set(a,r)),n}},function(e,t){e.exports=function(e,t,i){return Math.abs(e-t)<=i}},function(e,t,i){var s=i(174),n=i(336),a=i(337),r=new n,o=new a,c=new s;e.exports=function(e,t,i){return o.setAxisAngle(t,i),r.fromRotationTranslation(o,c.set(0,0,0)),e.transformMat4(r)}},function(e,t){e.exports="addtexture"},function(e,t){e.exports="onerror"},function(e,t){e.exports="onload"},function(e,t){e.exports="ready"},function(e,t){e.exports="removetexture"},function(e,t){e.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_FORWARD_DIFFUSE_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.rgb * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","","}",""].join("\n")},function(e,t,i){e.exports={GenerateTexture:i(346),Palettes:i(790)}},function(e,t,i){e.exports={ARNE16:i(347),C64:i(791),CGA:i(792),JMP:i(793),MSX:i(794)}},function(e,t){e.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(e,t){e.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(e,t){e.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(e,t){e.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(e,t,i){e.exports={Path:i(796),CubicBezier:i(348),Curve:i(81),Ellipse:i(349),Line:i(350),QuadraticBezier:i(351),Spline:i(352)}},function(e,t,i){var s=i(0),n=i(348),a=i(349),r=i(5),o=i(350),c=i(797),h=i(351),l=i(11),d=i(352),u=i(3),p=i(13),f=new s({initialize:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,"object"==typeof e?this.fromJSON(e):this.startPoint.set(e,t)},add:function(e){return this.curves.push(e),this},circleTo:function(e,t,i){return void 0===t&&(t=!1),this.ellipseTo(e,e,0,360,t,i)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);return e.equals(t)||this.curves.push(new o(t,e)),this},cubicBezierTo:function(e,t,i,s,a,r){var o,c,h,l=this.getEndPoint();return e instanceof u?(o=e,c=t,h=i):(o=new u(i,s),c=new u(a,r),h=new u(e,t)),this.add(new n(l,o,c,h))},quadraticBezierTo:function(e,t,i,s){var n,a,r=this.getEndPoint();return e instanceof u?(n=e,a=t):(n=new u(i,s),a=new u(e,t)),this.add(new h(r,n,a))},draw:function(e,t){for(var i=0;i<this.curves.length;i++){var s=this.curves[i];s.active&&s.draw(e,t)}return e},ellipseTo:function(e,t,i,s,n,r){var o=new a(0,0,e,t,i,s,n,r),c=this.getEndPoint(this._tmpVec2A),h=o.getStartPoint(this._tmpVec2B);return c.subtract(h),o.x=c.x,o.y=c.y,this.add(o)},fromJSON:function(e){this.curves=[],this.cacheLengths=[],this.startPoint.set(e.x,e.y),this.autoClose=e.autoClose;for(var t=0;t<e.curves.length;t++){var i=e.curves[t];switch(i.type){case"LineCurve":this.add(o.fromJSON(i));break;case"EllipseCurve":this.add(a.fromJSON(i));break;case"SplineCurve":this.add(d.fromJSON(i));break;case"CubicBezierCurve":this.add(n.fromJSON(i));break;case"QuadraticBezierCurve":this.add(h.fromJSON(i))}}return this},getBounds:function(e,t){void 0===e&&(e=new l),void 0===t&&(t=16),e.x=Number.MAX_VALUE,e.y=Number.MAX_VALUE;for(var i=new l,s=p.MIN_SAFE_INTEGER,n=p.MIN_SAFE_INTEGER,a=0;a<this.curves.length;a++){var r=this.curves[a];r.active&&(r.getBounds(i,t),e.x=Math.min(e.x,i.x),e.y=Math.min(e.y,i.y),s=Math.max(s,i.right),n=Math.max(n,i.bottom))}return e.right=s,e.bottom=n,e},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,i=0;i<this.curves.length;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e},getEndPoint:function(e){return void 0===e&&(e=new u),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,e):e.copy(this.startPoint),e},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},getPoint:function(e,t){void 0===t&&(t=new u);for(var i=e*this.getLength(),s=this.getCurveLengths(),n=0;n<s.length;){if(s[n]>=i){var a=s[n]-i,r=this.curves[n],o=r.getLength(),c=0===o?0:1-a/o;return r.getPointAt(c,t)}n++}return null},getPoints:function(e){void 0===e&&(e=12);for(var t,i=[],s=0;s<this.curves.length;s++){var n=this.curves[s];if(n.active)for(var a=n.getResolution(e),r=n.getPoints(a),o=0;o<r.length;o++){var c=r[o];t&&t.equals(c)||(i.push(c),t=c)}}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},getRandomPoint:function(e){return void 0===e&&(e=new u),this.getPoint(Math.random(),e)},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t},getStartPoint:function(e){return void 0===e&&(e=new u),e.copy(this.startPoint)},getTangent:function(e,t){void 0===t&&(t=new u);for(var i=e*this.getLength(),s=this.getCurveLengths(),n=0;n<s.length;){if(s[n]>=i){var a=s[n]-i,r=this.curves[n],o=r.getLength(),c=0===o?0:1-a/o;return r.getTangentAt(c,t)}n++}return null},lineTo:function(e,t){e instanceof u?this._tmpVec2B.copy(e):this._tmpVec2B.set(e,t);var i=this.getEndPoint(this._tmpVec2A);return this.add(new o([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(e){return e.unshift(this.getEndPoint()),this.add(new d(e))},moveTo:function(e,t){return e instanceof u?this.add(new c(e.x,e.y)):this.add(new c(e,t))},toJSON:function(){for(var e=[],t=0;t<this.curves.length;t++)e.push(this.curves[t].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:e}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",(function(e,t){return new f(e,t)})),e.exports=f},function(e,t,i){var s=i(0),n=i(3),a=new s({initialize:function(e,t){this.active=!1,this.p0=new n(e,t)},getPoint:function(e,t){return void 0===t&&(t=new n),t.copy(this.p0)},getPointAt:function(e,t){return this.getPoint(e,t)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});e.exports=a},function(e,t,i){e.exports={DataManager:i(113),DataManagerPlugin:i(799),Events:i(284)}},function(e,t,i){var s=i(0),n=i(113),a=i(23),r=i(22),o=new s({Extends:n,initialize:function(e){n.call(this,e,e.sys.events),this.scene=e,this.systems=e.sys,e.sys.events.once(r.BOOT,this.boot,this),e.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){n.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",o,"data"),e.exports=o},function(e,t,i){e.exports={Align:i(801),BaseShader:i(353),Bounds:i(804),Canvas:i(808),Color:i(354),Masks:i(817)}},function(e,t,i){var s=i(105),n=i(18),a={In:i(802),To:i(803)};a=n(!1,a,s),e.exports=a},function(e,t,i){e.exports={BottomCenter:i(256),BottomLeft:i(257),BottomRight:i(258),Center:i(259),LeftCenter:i(261),QuickSet:i(255),RightCenter:i(262),TopCenter:i(263),TopLeft:i(264),TopRight:i(265)}},function(e,t,i){e.exports={BottomCenter:i(243),BottomLeft:i(244),BottomRight:i(245),LeftBottom:i(246),LeftCenter:i(247),LeftTop:i(248),QuickSet:i(242),RightBottom:i(249),RightCenter:i(250),RightTop:i(251),TopCenter:i(252),TopLeft:i(253),TopRight:i(254)}},function(e,t,i){e.exports={CenterOn:i(260),GetBottom:i(34),GetBounds:i(805),GetCenterX:i(76),GetCenterY:i(78),GetLeft:i(35),GetOffsetX:i(806),GetOffsetY:i(807),GetRight:i(36),GetTop:i(37),SetBottom:i(46),SetCenterX:i(77),SetCenterY:i(79),SetLeft:i(44),SetRight:i(45),SetTop:i(43)}},function(e,t,i){var s=i(34),n=i(35),a=i(36),r=i(37);e.exports=function(e,t){void 0===t&&(t={});var i=n(e),o=r(e);return t.x=i,t.y=o,t.width=a(e)-i,t.height=s(e)-o,t}},function(e,t){e.exports=function(e){return e.width*e.originX}},function(e,t){e.exports=function(e){return e.height*e.originY}},function(e,t,i){e.exports={CanvasInterpolation:i(339),CanvasPool:i(26),Smoothing:i(167),TouchAction:i(809),UserSelect:i(810)}},function(e,t){e.exports=function(e,t){return void 0===t&&(t="none"),e.style.msTouchAction=t,e.style["ms-touch-action"]=t,e.style["touch-action"]=t,e}},function(e,t){e.exports=function(e,t){return void 0===t&&(t="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach((function(i){e.style[i+"user-select"]=t})),e.style["-webkit-touch-callout"]=t,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e}},function(e,t){e.exports=function(e){var t={r:e>>16&255,g:e>>8&255,b:255&e,a:255};return e>16777215&&(t.a=e>>>24),t}},function(e,t,i){var s=i(31),n=i(356);e.exports=function(e,t,i){var a=i,r=i,o=i;if(0!==t){var c=i<.5?i*(1+t):i+t-i*t,h=2*i-c;a=n(h,c,e+1/3),r=n(h,c,e),o=n(h,c,e-1/3)}return(new s).setGLTo(a,r,o,1)}},function(e,t,i){var s=i(166);e.exports=function(e,t){void 0===e&&(e=1),void 0===t&&(t=1);for(var i=[],n=0;n<=359;n++)i.push(s(n/359,e,t));return i}},function(e,t,i){var s=i(116),n=function(e,t,i,n,a,r,o,c){void 0===o&&(o=100),void 0===c&&(c=0);var h=c/o;return{r:s(e,n,h),g:s(t,a,h),b:s(i,r,h)}};e.exports={RGBWithRGB:n,ColorWithRGB:function(e,t,i,s,a,r){return void 0===a&&(a=100),void 0===r&&(r=0),n(e.r,e.g,e.b,t,i,s,a,r)},ColorWithColor:function(e,t,i,s){return void 0===i&&(i=100),void 0===s&&(s=0),n(e.r,e.g,e.b,t.r,t.g,t.b,i,s)}}},function(e,t,i){var s=i(172),n=i(31);e.exports=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=255),new n(s(e,t),s(e,t),s(e,t))}},function(e,t,i){var s=i(355);e.exports=function(e,t,i,n,a){return void 0===n&&(n=255),void 0===a&&(a="#"),"#"===a?"#"+((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1):"0x"+s(n)+s(e)+s(t)+s(i)}},function(e,t,i){e.exports={BitmapMask:i(278),GeometryMask:i(279)}},function(e,t,i){var s={AddToDOM:i(122),DOMContentLoaded:i(357),GetScreenOrientation:i(358),GetTarget:i(363),ParseXML:i(364),RemoveFromDOM:i(178),RequestAnimationFrame:i(344)};e.exports=s},function(e,t,i){e.exports={EventEmitter:i(820)}},function(e,t,i){var s=i(0),n=i(10),a=i(23),r=new s({Extends:n,initialize:function(){n.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",r,"events"),e.exports=r},function(e,t,i){var s=i(122),n=i(289),a=i(292),r=i(26),o=i(0),c=i(314),h=i(822),l=i(338),d=i(113),u=i(342),p=i(315),f=i(357),m=i(10),g=i(20),y=i(365),v=i(23),w=i(370),b=i(371),x=i(373),k=i(121),T=i(376),_=i(343),S=i(345),C=i(380),P=new o({initialize:function(e){this.config=new c(e),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new n(this),this.textures=new T(this),this.cache=new a(this),this.registry=new d(this),this.input=new y(this,this.config),this.scene=new x(this,this.config.sceneConfig),this.device=p,this.scale=new b(this,this.config),this.sound=null,this.sound=C.create(this),this.loop=new _(this,this.config.fps),this.plugins=new w(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,f(this.boot.bind(this))},boot:function(){v.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),h(this),u(this),s(this.canvas,this.config.parent),this.textures.once(k.READY,this.texturesReady,this),this.events.emit(g.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(g.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),S(this);var e=this.events;e.on(g.HIDDEN,this.onHidden,this),e.on(g.VISIBLE,this.onVisible,this),e.on(g.BLUR,this.onBlur,this),e.on(g.FOCUS,this.onFocus,this)},step:function(e,t){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit(g.PRE_STEP,e,t),i.emit(g.STEP,e,t),this.scene.update(e,t),i.emit(g.POST_STEP,e,t);var s=this.renderer;s.preRender(),i.emit(g.PRE_RENDER,s,e,t),this.scene.render(s),s.postRender(),i.emit(g.POST_RENDER,s,e,t)},headlessStep:function(e,t){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit(g.PRE_STEP,e,t),i.emit(g.STEP,e,t),this.scene.update(e,t),i.emit(g.POST_STEP,e,t),i.emit(g.PRE_RENDER),i.emit(g.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(g.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(g.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(e,t){void 0===t&&(t=!1),this.pendingDestroy=!0,this.removeCanvas=e,this.noReturn=t},runDestroy:function(){this.scene.destroy(),this.events.emit(g.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});e.exports=P},function(e,t,i){var s=i(122);e.exports=function(e){var t=e.config;if(t.parent&&t.domCreateContainer){var i=document.createElement("div");i.style.cssText=["display: block;","width: "+e.scale.width+"px;","height: "+e.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: none;","transform: scale(1);","transform-origin: left top;"].join(" "),e.domContainer=i,s(i,t.parent)}}},function(e,t){e.exports="boot"},function(e,t){e.exports="destroy"},function(e,t){e.exports="dragend"},function(e,t){e.exports="dragenter"},function(e,t){e.exports="drag"},function(e,t){e.exports="dragleave"},function(e,t){e.exports="dragover"},function(e,t){e.exports="dragstart"},function(e,t){e.exports="drop"},function(e,t){e.exports="gameout"},function(e,t){e.exports="gameover"},function(e,t){e.exports="gameobjectdown"},function(e,t){e.exports="dragend"},function(e,t){e.exports="dragenter"},function(e,t){e.exports="drag"},function(e,t){e.exports="dragleave"},function(e,t){e.exports="dragover"},function(e,t){e.exports="dragstart"},function(e,t){e.exports="drop"},function(e,t){e.exports="gameobjectmove"},function(e,t){e.exports="gameobjectout"},function(e,t){e.exports="gameobjectover"},function(e,t){e.exports="pointerdown"},function(e,t){e.exports="pointermove"},function(e,t){e.exports="pointerout"},function(e,t){e.exports="pointerover"},function(e,t){e.exports="pointerup"},function(e,t){e.exports="wheel"},function(e,t){e.exports="gameobjectup"},function(e,t){e.exports="gameobjectwheel"},function(e,t){e.exports="boot"},function(e,t){e.exports="process"},function(e,t){e.exports="update"},function(e,t){e.exports="pointerdown"},function(e,t){e.exports="pointerdownoutside"},function(e,t){e.exports="pointermove"},function(e,t){e.exports="pointerout"},function(e,t){e.exports="pointerover"},function(e,t){e.exports="pointerup"},function(e,t){e.exports="pointerupoutside"},function(e,t){e.exports="wheel"},function(e,t){e.exports="pointerlockchange"},function(e,t){e.exports="preupdate"},function(e,t){e.exports="shutdown"},function(e,t){e.exports="start"},function(e,t){e.exports="update"},function(e,t){e.exports=function(e){if(!e)return window.innerHeight;var t=Math.abs(window.orientation),i={w:0,h:0},s=document.createElement("div");return s.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(s),i.w=90===t?s.offsetHeight:window.innerWidth,i.h=90===t?window.innerWidth:s.offsetHeight,document.documentElement.removeChild(s),s=null,90!==Math.abs(window.orientation)?i.h:i.w}},function(e,t){e.exports="addfile"},function(e,t){e.exports="complete"},function(e,t){e.exports="filecomplete"},function(e,t){e.exports="filecomplete-"},function(e,t){e.exports="loaderror"},function(e,t){e.exports="load"},function(e,t){e.exports="fileprogress"},function(e,t){e.exports="postprocess"},function(e,t){e.exports="progress"},function(e,t){e.exports="start"},function(e,t,i){var s=i(2),n=i(181);e.exports=function(e){var t=e.game.config.defaultPhysicsSystem,i=s(e.settings,"physics",!1);if(t||i){var a=[];if(t&&a.push(n(t+"Physics")),i)for(var r in i)r=n(r.concat("Physics")),-1===a.indexOf(r)&&a.push(r);return a}}},function(e,t,i){var s=i(2);e.exports=function(e){var t=e.plugins.getDefaultScenePlugins(),i=s(e.settings,"plugins",!1);return Array.isArray(i)?i:t||[]}},function(e,t,i){e.exports={game:"game",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},function(e,t){e.exports=function(e,t,i){if(i.getElementsByTagName("TextureAtlas")){var s=e.source[t];e.add("__BASE",t,0,0,s.width,s.height);for(var n,a=i.getElementsByTagName("SubTexture"),r=0;r<a.length;r++){var o=a[r].attributes,c=o.name.value,h=parseInt(o.x.value,10),l=parseInt(o.y.value,10),d=parseInt(o.width.value,10),u=parseInt(o.height.value,10);if(n=e.add(c,t,h,l,d,u),o.frameX){var p=Math.abs(parseInt(o.frameX.value,10)),f=Math.abs(parseInt(o.frameY.value,10)),m=parseInt(o.frameWidth.value,10),g=parseInt(o.frameHeight.value,10);n.setTrim(d,u,p,f,m,g)}}return e}console.warn("Invalid Texture Atlas XML given")}},function(e,t){e.exports=function(e,t){var i=e.source[t];return e.add("__BASE",t,0,0,i.width,i.height),e}},function(e,t){e.exports=function(e,t){var i=e.source[t];return e.add("__BASE",t,0,0,i.width,i.height),e}},function(e,t,i){var s=i(67);e.exports=function(e,t,i){if(i.frames||i.textures){var n=e.source[t];e.add("__BASE",t,0,0,n.width,n.height);for(var a,r=Array.isArray(i.textures)?i.textures[t].frames:i.frames,o=0;o<r.length;o++){var c=r[o];a=e.add(c.filename,t,c.frame.x,c.frame.y,c.frame.w,c.frame.h),c.trimmed&&a.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(a.rotated=!0,a.updateUVsInverted());var h=c.anchor||c.pivot;h&&(a.customPivot=!0,a.pivotX=h.x,a.pivotY=h.y),a.customData=s(c)}for(var l in i)"frames"!==l&&(Array.isArray(i[l])?e.customData[l]=i[l].slice(0):e.customData[l]=i[l]);return e}console.warn("Invalid Texture Atlas JSON Array")}},function(e,t,i){var s=i(67);e.exports=function(e,t,i){if(i.frames){var n=e.source[t];e.add("__BASE",t,0,0,n.width,n.height);var a,r=i.frames;for(var o in r){var c=r[o];a=e.add(o,t,c.frame.x,c.frame.y,c.frame.w,c.frame.h),c.trimmed&&a.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(a.rotated=!0,a.updateUVsInverted());var h=c.anchor||c.pivot;h&&(a.customPivot=!0,a.pivotX=h.x,a.pivotY=h.y),a.customData=s(c)}for(var l in i)"frames"!==l&&(Array.isArray(i[l])?e.customData[l]=i[l].slice(0):e.customData[l]=i[l]);return e}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},function(e,t,i){var s=i(2);e.exports=function(e,t,i,n,a,r,o){var c=s(o,"frameWidth",null),h=s(o,"frameHeight",c);if(null===c)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var l=e.source[t];e.add("__BASE",t,0,0,l.width,l.height);var d=s(o,"startFrame",0),u=s(o,"endFrame",-1),p=s(o,"margin",0),f=s(o,"spacing",0),m=Math.floor((a-p+f)/(c+f))*Math.floor((r-p+f)/(h+f));0===m&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",e.key),(d>m||d<-m)&&(d=0),d<0&&(d=m+d),-1!==u&&(m=d+(u+1));for(var g=p,y=p,v=0,w=0,b=0;b<m;b++){v=0,w=0;var x=g+c,k=y+h;x>a&&(v=x-a),k>r&&(w=k-r),e.add(b,t,i+g,n+y,c-v,h-w),(g+=c+f)+c>a&&(g=p,y+=h+f)}return e}},function(e,t,i){var s=i(2);e.exports=function(e,t,i){var n=s(i,"frameWidth",null),a=s(i,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var r=e.source[0];e.add("__BASE",0,0,0,r.width,r.height);var o,c=s(i,"startFrame",0),h=s(i,"endFrame",-1),l=s(i,"margin",0),d=s(i,"spacing",0),u=t.cutX,p=t.cutY,f=t.cutWidth,m=t.cutHeight,g=t.realWidth,y=t.realHeight,v=Math.floor((g-l+d)/(n+d)),w=Math.floor((y-l+d)/(a+d)),b=v*w,x=t.x,k=n-x,T=n-(g-f-x),_=t.y,S=a-_,C=a-(y-m-_);(c>b||c<-b)&&(c=0),c<0&&(c=b+c),-1!==h&&(b=c+(h+1));for(var P=l,B=l,A=0,E=t.sourceIndex,M=0;M<w;M++){for(var O=0===M,I=M===w-1,R=0;R<v;R++){var D=0===R,N=R===v-1;if(o=e.add(A,E,u+P,p+B,n,a),D||O||N||I){var F=D?x:0,L=O?_:0,Y=0,U=0;D&&(Y+=n-k),N&&(Y+=n-T),O&&(U+=a-S),I&&(U+=a-C);var V=n-Y,W=a-U;o.cutWidth=V,o.cutHeight=W,o.setTrim(n,a,F,L,V,W)}P+=d,P+=D?k:N?T:n,A++}P=l,B+=d,B+=O?S:I?C:a}return e}},function(e,t){var i=0,s=function(e,t,s,n){var a=i-n.y-n.height;e.add(s,t,n.x,a,n.width,n.height)};e.exports=function(e,t,n){var a=e.source[t];e.add("__BASE",t,0,0,a.width,a.height),i=a.height;for(var r=n.split("\n"),o=/^[ ]*(- )*(\w+)+[: ]+(.*)/,c="",h="",l={x:0,y:0,width:0,height:0},d=0;d<r.length;d++){var u=r[d].match(o);if(u){var p="- "===u[1],f=u[2],m=u[3];if(p&&(h!==c&&(s(e,t,h,l),c=h),l={x:0,y:0,width:0,height:0}),"name"!==f)switch(f){case"x":case"y":case"width":case"height":l[f]=parseInt(m,10)}else h=m}}return h!==c&&s(e,t,h,l),e}},function(e,t){e.exports="complete"},function(e,t){e.exports="decoded"},function(e,t){e.exports="decodedall"},function(e,t){e.exports="destroy"},function(e,t){e.exports="detune"},function(e,t){e.exports="detune"},function(e,t){e.exports="mute"},function(e,t){e.exports="rate"},function(e,t){e.exports="volume"},function(e,t){e.exports="loop"},function(e,t){e.exports="looped"},function(e,t){e.exports="mute"},function(e,t){e.exports="pauseall"},function(e,t){e.exports="pause"},function(e,t){e.exports="play"},function(e,t){e.exports="rate"},function(e,t){e.exports="resumeall"},function(e,t){e.exports="resume"},function(e,t){e.exports="seek"},function(e,t){e.exports="stopall"},function(e,t){e.exports="stop"},function(e,t){e.exports="unlocked"},function(e,t){e.exports="volume"},function(e,t,i){var s={Events:i(90),DisplayList:i(915),GameObjectCreator:i(16),GameObjectFactory:i(5),UpdateList:i(941),Components:i(12),BuildGameObject:i(27),BuildGameObjectAnimation:i(393),GameObject:i(14),BitmapText:i(132),Blitter:i(188),Container:i(189),DOMElement:i(395),DynamicBitmapText:i(190),Extern:i(397),Graphics:i(191),Group:i(97),Image:i(107),Particles:i(973),PathFollower:i(409),RenderTexture:i(195),RetroFont:i(982),Rope:i(197),Sprite:i(75),Text:i(198),TileSprite:i(199),Zone:i(110),Video:i(200),Shape:i(30),Arc:i(410),Curve:i(411),Ellipse:i(412),Grid:i(413),IsoBox:i(414),IsoTriangle:i(415),Line:i(416),Polygon:i(417),Rectangle:i(422),Star:i(423),Triangle:i(424),Factories:{Blitter:i(1033),Container:i(1034),DOMElement:i(1035),DynamicBitmapText:i(1036),Extern:i(1037),Graphics:i(1038),Group:i(1039),Image:i(1040),Particles:i(1041),PathFollower:i(1042),RenderTexture:i(1043),Rope:i(1044),Sprite:i(1045),StaticBitmapText:i(1046),Text:i(1047),TileSprite:i(1048),Zone:i(1049),Video:i(1050),Arc:i(1051),Curve:i(1052),Ellipse:i(1053),Grid:i(1054),IsoBox:i(1055),IsoTriangle:i(1056),Line:i(1057),Polygon:i(1058),Rectangle:i(1059),Star:i(1060),Triangle:i(1061)},Creators:{Blitter:i(1062),Container:i(1063),DynamicBitmapText:i(1064),Graphics:i(1065),Group:i(1066),Image:i(1067),Particles:i(1068),RenderTexture:i(1069),Rope:i(1070),Sprite:i(1071),StaticBitmapText:i(1072),Text:i(1073),TileSprite:i(1074),Zone:i(1075),Video:i(1076)}};s.Mesh=i(134),s.Quad=i(203),s.Shader=i(204),s.Factories.Mesh=i(1083),s.Factories.Quad=i(1084),s.Factories.Shader=i(1085),s.Creators.Mesh=i(1086),s.Creators.Quad=i(1087),s.Creators.Shader=i(1088),s.Light=i(428),i(429),i(1089),e.exports=s},function(e,t,i){var s=i(0),n=i(129),a=i(23),r=i(22),o=i(131),c=new s({Extends:n,initialize:function(e){n.call(this,e),this.sortChildrenFlag=!1,this.scene=e,this.systems=e.sys,e.sys.events.once(r.BOOT,this.boot,this),e.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(o.inplace(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(e,t){return e._depth-t._depth},getChildren:function(){return this.list},shutdown:function(){for(var e=this.list.length;e--;)this.list[e].destroy(!0);this.list.length=0,this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("DisplayList",c,"displayList"),e.exports=c},function(e,t,i){e.exports={CheckMatrix:i(184),MatrixToString:i(917),ReverseColumns:i(918),ReverseRows:i(919),Rotate180:i(920),RotateLeft:i(921),RotateMatrix:i(130),RotateRight:i(922),TransposeMatrix:i(390)}},function(e,t,i){var s=i(163),n=i(184);e.exports=function(e){var t="";if(!n(e))return t;for(var i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++){var r=e[i][a].toString();t+="undefined"!==r?s(r,2):"?",a<e[i].length-1&&(t+=" |")}if(i<e.length-1){t+="\n";for(var o=0;o<e[i].length;o++)t+="---",o<e[i].length-1&&(t+="+");t+="\n"}}return t}},function(e,t){e.exports=function(e){return e.reverse()}},function(e,t){e.exports=function(e){for(var t=0;t<e.length;t++)e[t].reverse();return e}},function(e,t,i){var s=i(130);e.exports=function(e){return s(e,180)}},function(e,t,i){var s=i(130);e.exports=function(e){return s(e,90)}},function(e,t,i){var s=i(130);e.exports=function(e){return s(e,-90)}},function(e,t){e.exports=function(e,t,i,s,n){if(void 0===n&&(n=e),i>0){var a=i-e.length;if(a<=0)return null}if(!Array.isArray(t))return-1===e.indexOf(t)?(e.push(t),s&&s.call(n,t),t):null;for(var r=t.length-1;r>=0;)-1!==e.indexOf(t[r])&&t.splice(r,1),r--;if(0===(r=t.length))return null;i>0&&r>a&&(t.splice(a),r=a);for(var o=0;o<r;o++){var c=t[o];e.push(c),s&&s.call(n,c)}return t}},function(e,t){e.exports=function(e,t,i,s,n,a){if(void 0===i&&(i=0),void 0===a&&(a=e),s>0){var r=s-e.length;if(r<=0)return null}if(!Array.isArray(t))return-1===e.indexOf(t)?(e.splice(i,0,t),n&&n.call(a,t),t):null;for(var o=t.length-1;o>=0;)-1!==e.indexOf(t[o])&&t.pop(),o--;if(0===(o=t.length))return null;s>0&&o>r&&(t.splice(r),o=r);for(var c=o-1;c>=0;c--){var h=t[c];e.splice(i,0,h),n&&n.call(a,h)}return t}},function(e,t){e.exports=function(e,t){var i=e.indexOf(t);return-1!==i&&i<e.length&&(e.splice(i,1),e.push(t)),t}},function(e,t,i){var s=i(68);e.exports=function(e,t,i,n,a){void 0===n&&(n=0),void 0===a&&(a=e.length);var r=0;if(s(e,n,a))for(var o=n;o<a;o++)e[o][t]===i&&r++;return r}},function(e,t){e.exports=function(e,t,i){var s,n=[null];for(s=3;s<arguments.length;s++)n.push(arguments[s]);for(s=0;s<e.length;s++)n[0]=e[s],t.apply(i,n);return e}},function(e,t,i){var s=i(68);e.exports=function(e,t,i,n,a){if(void 0===n&&(n=0),void 0===a&&(a=e.length),s(e,n,a)){var r,o=[null];for(r=5;r<arguments.length;r++)o.push(arguments[r]);for(r=n;r<a;r++)o[0]=e[r],t.apply(i,o)}return e}},function(e,t){e.exports=function(e,t){var i=e.indexOf(t);if(i>0){var s=e[i-1],n=e.indexOf(s);e[i]=s,e[n]=t}return e}},function(e,t){e.exports=function(e,t,i){var s=e.indexOf(t);if(-1===s||i<0||i>=e.length)throw new Error("Supplied index out of bounds");return s!==i&&(e.splice(s,1),e.splice(i,0,t)),t}},function(e,t){e.exports=function(e,t){var i=e.indexOf(t);if(-1!==i&&i<e.length-1){var s=e[i+1],n=e.indexOf(s);e[i]=s,e[n]=t}return e}},function(e,t){e.exports=function(e,t,i,s){for(var n=[],a=e;a<=t;a++)if(i||s){var r=i?i+a.toString():a.toString();s&&(r=r.concat(s)),n.push(r)}else n.push(a);return n}},function(e,t,i){var s=i(332);e.exports=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=null),void 0===i&&(i=1),null===t&&(t=e,e=0);for(var n=[],a=Math.max(s((t-e)/(i||1)),0),r=0;r<a;r++)n.push(e),e+=i;return n}},function(e,t,i){var s=i(80);e.exports=function(e,t,i,n){if(void 0===n&&(n=e),t<0||t>e.length-1)throw new Error("Index out of bounds");var a=s(e,t);return i&&i.call(n,a),a}},function(e,t,i){var s=i(68);e.exports=function(e,t,i,n,a){if(void 0===t&&(t=0),void 0===i&&(i=e.length),void 0===a&&(a=e),s(e,t,i)){var r=i-t,o=e.splice(t,r);if(n)for(var c=0;c<o.length;c++){var h=o[c];n.call(a,h)}return o}return[]}},function(e,t,i){var s=i(80);e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=e.length);var n=t+Math.floor(Math.random()*i);return s(e,n)}},function(e,t){e.exports=function(e,t,i){var s=e.indexOf(t),n=e.indexOf(i);return-1!==s&&-1===n&&(e[s]=i,!0)}},function(e,t){e.exports=function(e,t){var i=e.indexOf(t);return-1!==i&&i>0&&(e.splice(i,1),e.unshift(t)),t}},function(e,t,i){var s=i(68);e.exports=function(e,t,i,n,a){if(void 0===n&&(n=0),void 0===a&&(a=e.length),s(e,n,a))for(var r=n;r<a;r++){var o=e[r];o.hasOwnProperty(t)&&(o[t]=i)}return e}},function(e,t){e.exports=function(e,t,i){if(t!==i){var s=e.indexOf(t),n=e.indexOf(i);if(s<0||n<0)throw new Error("Supplied items must be elements of the same array");return e[s]=i,e[n]=t,e}}},function(e,t,i){var s=i(0),n=i(186),a=i(23),r=i(22),o=new s({Extends:n,initialize:function(e){n.call(this),this.scene=e,this.systems=e.sys,e.sys.events.once(r.BOOT,this.boot,this),e.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,t){for(var i=this._active,s=i.length,n=0;n<s;n++){var a=i[n];a.active&&a.preUpdate.call(a,e,t)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var t=this.systems.events;t.off(r.PRE_UPDATE,this.preUpdate,this),t.off(r.UPDATE,this.sceneUpdate,this),t.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",o,"updateList"),e.exports=o},function(e,t,i){e.exports={PROCESS_QUEUE_ADD:i(943),PROCESS_QUEUE_REMOVE:i(944)}},function(e,t){e.exports="add"},function(e,t){e.exports="remove"},function(e,t){e.exports=function(e,t,i){if(void 0===i)return i={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],scaleX:0,scaleY:0};var s,n,a,r,o=e.text,c=o.length,h=e.maxWidth,l=e.wordWrapCharCode,d=Number.MAX_VALUE,u=Number.MAX_VALUE,p=0,f=0,m=e.fontData.chars,g=e.fontData.lineHeight,y=e.letterSpacing,v=0,w=0,b=0,x=null,k=0,T=0,_=e.fontSize/e.fontData.size,S=_*e.scaleX,C=_*e.scaleY,P=null,B=0,A=[],E=Number.MAX_VALUE,M=0,O=0,I=0,R=[],D=null;if(h>0){for(s=0;s<c;s++)if(10!==(b=o.charCodeAt(s))){if(x=m[b]){if(null!==P)var N=x.kerning[B];b===l?null!==D&&(R.push({word:D.word,i:D.i,x:D.x*S,y:D.y*C,w:D.w*S,h:D.h*C,cr:!1}),D=null):(null===D&&(D={word:"",i:s,x:v,y:w,w:0,h:g,cr:!1}),D.word=D.word.concat(o[s]),D.w+=x.xOffset+x.xAdvance+(void 0!==N?N:0)),v+=x.xAdvance+y,P=x,B=b}}else null!==D&&(R.push({word:D.word,i:D.i,x:D.x*S,y:D.y*C,w:D.w*S,h:D.h*C,cr:!0}),D=null),v=0,w+=g,P=null;var F;null!==D&&R.push({word:D.word,i:D.i,x:D.x*S,y:D.y*C,w:D.w*S,h:D.h*C,cr:!1}),v=0,w=0,P=null,B=0;var L=0,Y=[];for(s=0;s<R.length;s++){var U=R[s],V=U.x,W=U.x+U.w;F&&(L=V-(V-(F.x+F.w)+F.w),F=null),V-L>h||W-L>h?(Y.push(U.i-1),U.cr?(Y.push(U.i+U.word.length),L=0,F=null):F=U):U.cr&&(Y.push(U.i+U.word.length),L=0,F=null)}for(s=Y.length-1;s>=0;s--)n=o,a=Y[s],r="\n",o=n.substr(0,a)+r+n.substr(a+1);i.wrappedText=o,c=o.length,R=[],D=null}for(s=0;s<c;s++)if(10!==(b=o.charCodeAt(s))){if(x=m[b]){if(k=v,T=w,null!==P){var z=x.kerning[B];k+=void 0!==z?z:0}d>k&&(d=k),u>T&&(u=T);var H=k+x.xAdvance,X=T+g;p<H&&(p=H),f<X&&(f=X),b===l?null!==D&&(R.push({word:D.word,i:D.i,x:D.x*S,y:D.y*C,w:D.w*S,h:D.h*C}),D=null):(null===D&&(D={word:"",i:s,x:v,y:w,w:0,h:g}),D.word=D.word.concat(o[s]),D.w+=x.xOffset+x.xAdvance+(void 0!==z?z:0)),v+=x.xAdvance+y,P=x,B=b,I=H*_}}else null!==D&&(R.push({word:D.word,i:D.i,x:D.x*S,y:D.y*C,w:D.w*S,h:D.h*C}),D=null),v=0,w+=g,P=null,A[O]=I,I>M&&(M=I),I<E&&(E=I),O++,I=0;null!==D&&R.push({word:D.word,i:D.i,x:D.x*S,y:D.y*C,w:D.w*S,h:D.h*C}),A[O]=I,I>M&&(M=I),I<E&&(E=I);var G=i.local,j=i.global,$=i.lines;return G.x=d*_,G.y=u*_,G.width=p*_,G.height=f*_,j.x=e.x-e.displayOriginX+d*S,j.y=e.y-e.displayOriginY+u*C,j.width=p*S,j.height=f*C,$.shortest=E,$.longest=M,$.lengths=A,t&&(G.x=Math.round(G.x),G.y=Math.round(G.y),G.width=Math.round(G.width),G.height=Math.round(G.height),j.x=Math.round(j.x),j.y=Math.round(j.y),j.width=Math.round(j.width),j.height=Math.round(j.height),$.shortest=Math.round(E),$.longest=Math.round(M)),i.words=R,i.lines.height=g,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i}},function(e,t,i){var s=i(187);e.exports=function(e,t,i,n,a,r,o){var c=e.sys.textures.getFrame(i,n),h=e.sys.cache.xml.get(a);if(c&&h){var l=s(h,r,o,c);return e.sys.cache.bitmapFont.add(t,{data:l,texture:i,frame:n}),!0}return!1}},function(e,t,i){var s=i(1),n=i(1);s=i(948),n=i(949),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=t._text,o=r.length;if(0!==o){var c=this.pipeline;e.setPipeline(c,t);var h=c._tempMatrix1,l=c._tempMatrix2,d=c._tempMatrix3;l.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),h.copyFrom(n.matrix),a?(h.multiplyWithOffset(a,-n.scrollX*t.scrollFactorX,-n.scrollY*t.scrollFactorY),l.e=t.x,l.f=t.y,h.multiply(l,d)):(l.e-=n.scrollX*t.scrollFactorX,l.f-=n.scrollY*t.scrollFactorY,h.multiply(l,d));var u=t.frame,p=u.glTexture,f=u.cutX,m=u.cutY,g=p.width,y=p.height,v=t._isTinted&&t.tintFill,w=s.getTintAppendFloatAlpha(t._tintTL,n.alpha*t._alphaTL),b=s.getTintAppendFloatAlpha(t._tintTR,n.alpha*t._alphaTR),x=s.getTintAppendFloatAlpha(t._tintBL,n.alpha*t._alphaBL),k=s.getTintAppendFloatAlpha(t._tintBR,n.alpha*t._alphaBR);c.setTexture2D(p,0);var T,_,S=0,C=0,P=0,B=0,A=t._letterSpacing,E=0,M=0,O=0,I=0,R=t.fontData,D=R.chars,N=R.lineHeight,F=t._fontSize/R.size,L=t._align,Y=0,U=0,V=t.getTextBounds(!1);t.maxWidth>0&&(o=(r=V.wrappedText).length);var W=t._bounds.lines;1===L?U=(W.longest-W.lengths[0])/2:2===L&&(U=W.longest-W.lengths[0]);for(var z=n.roundPixels,H=0;H<o;H++)if(10!==(P=r.charCodeAt(H))){if(T=D[P]){E=f+T.x,M=m+T.y,O=T.width,I=T.height;var X=T.xOffset+S,G=T.yOffset+C;if(null!==_){var j=T.kerning[B];X+=void 0!==j?j:0}if(S+=T.xAdvance+A,_=T,B=P,0!==O&&0!==I&&32!==P){X*=F,G*=F,X-=t.displayOriginX;var $=E/g,K=M/y,q=(E+O)/g,J=(M+I)/y,Q=(X+=U)+O*F,Z=(G-=t.displayOriginY)+I*F,ee=d.getX(X,G),te=d.getY(X,G),ie=d.getX(X,Z),se=d.getY(X,Z),ne=d.getX(Q,Z),ae=d.getY(Q,Z),re=d.getX(Q,G),oe=d.getY(Q,G);z&&(ee=Math.round(ee),te=Math.round(te),ie=Math.round(ie),se=Math.round(se),ne=Math.round(ne),ae=Math.round(ae),re=Math.round(re),oe=Math.round(oe)),c.batchQuad(ee,te,ie,se,ne,ae,re,oe,$,K,q,J,w,b,x,k,v,p,0)}}}else Y++,1===L?U=(W.longest-W.lengths[Y])/2:2===L&&(U=W.longest-W.lengths[Y]),S=0,C+=N,_=null}}},function(e,t,i){var s=i(28);e.exports=function(e,t,i,n,a){var r=t._text,o=r.length,c=e.currentContext;if(0!==o&&s(e,c,t,n,a)){var h=t.frame,l=t.fontData.chars,d=t.fontData.lineHeight,u=t._letterSpacing,p=0,f=0,m=0,g=null,y=0,v=0,w=0,b=0,x=0,k=0,T=null,_=0,S=t.frame.source.image,C=h.cutX,P=h.cutY,B=t._fontSize/t.fontData.size,A=t._align,E=0,M=0,O=t.getTextBounds(!1);t.maxWidth>0&&(o=(r=O.wrappedText).length);var I=t._bounds.lines;1===A?M=(I.longest-I.lengths[0])/2:2===A&&(M=I.longest-I.lengths[0]),c.translate(-t.displayOriginX,-t.displayOriginY);for(var R=n.roundPixels,D=0;D<o;D++)if(10!==(m=r.charCodeAt(D))){if(g=l[m]){if(y=C+g.x,v=P+g.y,w=g.width,b=g.height,x=g.xOffset+p,k=g.yOffset+f,null!==T){var N=g.kerning[_];x+=void 0!==N?N:0}x*=B,k*=B,x+=M,p+=g.xAdvance+u,T=g,_=m,0!==w&&0!==b&&32!==m&&(R&&(x=Math.round(x),k=Math.round(k)),c.save(),c.translate(x,k),c.scale(B,B),c.drawImage(S,y,v,w,b,0,0,w,b),c.restore())}}else E++,1===A?M=(I.longest-I.lengths[E])/2:2===A&&(M=I.longest-I.lengths[E]),p=0,f+=d,T=null;c.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(951),n=i(952),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=t.getRenderList();if(0!==r.length){var o=this.pipeline;e.setPipeline(o,t);var c=n.scrollX*t.scrollFactorX,h=n.scrollY*t.scrollFactorY,l=o._tempMatrix1;l.copyFrom(n.matrix),a&&(l.multiplyWithOffset(a,-c,-h),c=0,h=0);for(var d=t.x-c,u=t.y-h,p=-1,f=n.alpha*t.alpha,m=n.roundPixels,g=0;g<r.length;g++){var y=r[g],v=y.frame,w=y.alpha*f;if(0!==w){var b=v.width,x=v.height,k=d+y.x+v.x,T=u+y.y+v.y;y.flipX&&(b*=-1,k+=v.width),y.flipY&&(x*=-1,T+=v.height);var _=k+b,S=T+x,C=l.getX(k,T),P=l.getY(k,T),B=l.getX(_,S),A=l.getY(_,S),E=s.getTintAppendFloatAlpha(y.tint,w);v.sourceIndex!==p&&(o.setTexture2D(v.glTexture,0),p=v.sourceIndex),m&&(C=Math.round(C),P=Math.round(P),B=Math.round(B),A=Math.round(A)),o.batchQuad(C,P,C,A,B,A,B,P,v.u0,v.v0,v.u1,v.v1,E,E,E,E,!1,v.glTexture,0)&&(p=-1)}}}}},function(e,t){e.exports=function(e,t,i,s,n){var a=t.getRenderList();if(0!==a.length){var r=e.currentContext,o=s.alpha*t.alpha;if(0!==o){r.globalCompositeOperation=e.blendModes[t.blendMode],r.imageSmoothingEnabled=!(!e.antialias||t.frame.source.scaleMode);var c=t.x-s.scrollX*t.scrollFactorX,h=t.y-s.scrollY*t.scrollFactorY;r.save(),n&&n.copyToContext(r);for(var l=s.roundPixels,d=0;d<a.length;d++){var u=a[d],p=u.flipX||u.flipY,f=u.frame,m=f.canvasData,g=f.x,y=f.y,v=1,w=1,b=u.alpha*o;0!==b&&(r.globalAlpha=b,p?(u.flipX&&(v=-1,g-=m.width),u.flipY&&(w=-1,y-=m.height),r.save(),r.translate(u.x+c,u.y+h),r.scale(v,w),r.drawImage(f.source.image,m.x,m.y,m.width,m.height,g,y,m.width,m.height),r.restore()):(l&&(g=Math.round(g),y=Math.round(y)),r.drawImage(f.source.image,m.x,m.y,m.width,m.height,g+u.x+c,y+u.y+h,m.width,m.height)))}r.restore()}}}},function(e,t,i){var s=i(0),n=i(94),a=new s({initialize:function(e,t,i,s,n){this.parent=e,this.x=t,this.y=i,this.frame=s,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(e){return void 0===e?this.frame=this.parent.frame:e instanceof n&&e.texture===this.parent.texture?this.frame=e:this.frame=this.parent.texture.get(e),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(e,t,i){return this.x=e,this.y=t,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(e,t){return this.x=e,this.y=t,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,t){return this.flipX=e,this.flipY=t,this},setVisible:function(e){return this.visible=e,this},setAlpha:function(e){return this.alpha=e,this},setTint:function(e){return this.tint=e,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(e){this.parent.dirty|=this._visible!==e,this._visible=e}},alpha:{get:function(){return this._alpha},set:function(e){this.parent.dirty|=this._alpha>0!=e>0,this._alpha=e}}});e.exports=a},function(e,t,i){var s=i(1),n=i(1);s=i(955),n=i(956),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t){e.exports=function(e,t,i,s,n){var a=t.list;if(0!==a.length){var r=t.localTransform;n?(r.loadIdentity(),r.multiply(n),r.translate(t.x,t.y),r.rotate(t.rotation),r.scale(t.scaleX,t.scaleY)):r.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);var o=-1!==t.blendMode;o||e.setBlendMode(0);for(var c=t.alpha,h=t.scrollFactorX,l=t.scrollFactorY,d=a,u=a.length,p=0;p<u;p++){var f=a[p];if(f.willRender(s)){var m,g,y,v;if(void 0!==f.alphaTopLeft)m=f.alphaTopLeft,g=f.alphaTopRight,y=f.alphaBottomLeft,v=f.alphaBottomRight;else{var w=f.alpha;m=w,g=w,y=w,v=w}var b=f.scrollFactorX,x=f.scrollFactorY;o||f.blendMode===e.currentBlendMode||e.setBlendMode(f.blendMode);var k=f.mask;k&&k.preRenderWebGL(e,f,s);var T=f.type;T!==e.currentType&&(e.newType=!0,e.currentType=T),e.nextTypeMatch=p<u-1&&d[p+1].type===e.currentType,f.setScrollFactor(b*h,x*l),f.setAlpha(m*c,g*c,y*c,v*c),f.renderWebGL(e,f,i,s,r),f.setAlpha(m,g,y,v),f.setScrollFactor(b,x),k&&k.postRenderWebGL(e,s),e.newType=!1}}}}},function(e,t){e.exports=function(e,t,i,s,n){var a=t.list;if(0!==a.length){var r=t.localTransform;n?(r.loadIdentity(),r.multiply(n),r.translate(t.x,t.y),r.rotate(t.rotation),r.scale(t.scaleX,t.scaleY)):r.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);var o=-1!==t.blendMode;o||e.setBlendMode(0);var c=t._alpha,h=t.scrollFactorX,l=t.scrollFactorY;t.mask&&t.mask.preRenderCanvas(e,null,s);for(var d=0;d<a.length;d++){var u=a[d];if(u.willRender(s)){var p=u.alpha,f=u.scrollFactorX,m=u.scrollFactorY;o||u.blendMode===e.currentBlendMode||e.setBlendMode(u.blendMode),u.setScrollFactor(f*h,m*l),u.setAlpha(p*c),u.renderCanvas(e,u,i,s,r),u.setAlpha(p),u.setScrollFactor(f,m)}}t.mask&&t.mask.postRenderCanvas(e)}}},function(e,t,i){var s=i(1),n=i(1);s=i(396),n=i(396),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t){e.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(e,t,i){var s=i(1),n=i(1);s=i(960),n=i(961),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=t.text,o=r.length;if(0!==o){var c=this.pipeline;e.setPipeline(c,t);var h=t.cropWidth>0||t.cropHeight>0;h&&(c.flush(),e.pushScissor(t.x,t.y,t.cropWidth*t.scaleX,t.cropHeight*t.scaleY));var l=c._tempMatrix1,d=c._tempMatrix2,u=c._tempMatrix3,p=c._tempMatrix4;d.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),l.copyFrom(n.matrix),a?(l.multiplyWithOffset(a,-n.scrollX*t.scrollFactorX,-n.scrollY*t.scrollFactorY),d.e=t.x,d.f=t.y,l.multiply(d,u)):(d.e-=n.scrollX*t.scrollFactorX,d.f-=n.scrollY*t.scrollFactorY,l.multiply(d,u));var f=t.frame,m=f.glTexture,g=f.cutX,y=f.cutY,v=m.width,w=m.height,b=t._isTinted&&t.tintFill,x=s.getTintAppendFloatAlpha(t._tintTL,n.alpha*t._alphaTL),k=s.getTintAppendFloatAlpha(t._tintTR,n.alpha*t._alphaTR),T=s.getTintAppendFloatAlpha(t._tintBL,n.alpha*t._alphaBL),_=s.getTintAppendFloatAlpha(t._tintBR,n.alpha*t._alphaBR);c.setTexture2D(m,0);var S,C,P=0,B=0,A=0,E=0,M=t.letterSpacing,O=0,I=0,R=0,D=0,N=t.scrollX,F=t.scrollY,L=t.fontData,Y=L.chars,U=L.lineHeight,V=t.fontSize/L.size,W=0,z=t._align,H=0,X=0;t.getTextBounds(!1);var G=t._bounds.lines;1===z?X=(G.longest-G.lengths[0])/2:2===z&&(X=G.longest-G.lengths[0]);for(var j=n.roundPixels,$=t.displayCallback,K=t.callbackData,q=0;q<o;q++)if(10!==(A=r.charCodeAt(q))){if(S=Y[A]){O=g+S.x,I=y+S.y,R=S.width,D=S.height;var J=S.xOffset+P-N,Q=S.yOffset+B-F;if(null!==C){var Z=S.kerning[E];J+=void 0!==Z?Z:0}if(P+=S.xAdvance+M,C=S,E=A,0!==R&&0!==D&&32!==A){if(V=t.fontSize/t.fontData.size,W=0,$){K.color=0,K.tint.topLeft=x,K.tint.topRight=k,K.tint.bottomLeft=T,K.tint.bottomRight=_,K.index=q,K.charCode=A,K.x=J,K.y=Q,K.scale=V,K.rotation=W,K.data=S.data;var ee=$(K);J=ee.x,Q=ee.y,V=ee.scale,W=ee.rotation,ee.color?(x=ee.color,k=ee.color,T=ee.color,_=ee.color):(x=ee.tint.topLeft,k=ee.tint.topRight,T=ee.tint.bottomLeft,_=ee.tint.bottomRight),x=s.getTintAppendFloatAlpha(x,n.alpha*t._alphaTL),k=s.getTintAppendFloatAlpha(k,n.alpha*t._alphaTR),T=s.getTintAppendFloatAlpha(T,n.alpha*t._alphaBL),_=s.getTintAppendFloatAlpha(_,n.alpha*t._alphaBR)}J*=V,Q*=V,J-=t.displayOriginX,Q-=t.displayOriginY,J+=X,p.applyITRS(J,Q,W,V,V),u.multiply(p,d);var te=O/v,ie=I/w,se=(O+R)/v,ne=(I+D)/w,ae=R,re=D,oe=d.e,ce=d.f,he=re*d.c+d.e,le=re*d.d+d.f,de=ae*d.a+re*d.c+d.e,ue=ae*d.b+re*d.d+d.f,pe=ae*d.a+d.e,fe=ae*d.b+d.f;j&&(oe=Math.round(oe),ce=Math.round(ce),he=Math.round(he),le=Math.round(le),de=Math.round(de),ue=Math.round(ue),pe=Math.round(pe),fe=Math.round(fe)),c.batchQuad(oe,ce,he,le,de,ue,pe,fe,te,ie,se,ne,x,k,T,_,b,m,0)}}}else H++,1===z?X=(G.longest-G.lengths[H])/2:2===z&&(X=G.longest-G.lengths[H]),P=0,B+=U,C=null;h&&(c.flush(),e.popScissor())}}},function(e,t,i){var s=i(28);e.exports=function(e,t,i,n,a){var r=t._text,o=r.length,c=e.currentContext;if(0!==o&&s(e,c,t,n,a)){var h=t.frame,l=t.displayCallback,d=t.callbackData,u=t.fontData.chars,p=t.fontData.lineHeight,f=t._letterSpacing,m=0,g=0,y=0,v=null,w=0,b=0,x=0,k=0,T=0,_=0,S=null,C=0,P=t.frame.source.image,B=h.cutX,A=h.cutY,E=0,M=0,O=t._fontSize/t.fontData.size,I=t._align,R=0,D=0;t.getTextBounds(!1);var N=t._bounds.lines;1===I?D=(N.longest-N.lengths[0])/2:2===I&&(D=N.longest-N.lengths[0]),c.translate(-t.displayOriginX,-t.displayOriginY);var F=n.roundPixels;t.cropWidth>0&&t.cropHeight>0&&(c.beginPath(),c.rect(0,0,t.cropWidth,t.cropHeight),c.clip());for(var L=0;L<o;L++)if(M=O,E=0,10!==(y=r.charCodeAt(L))){if(v=u[y]){if(w=B+v.x,b=A+v.y,x=v.width,k=v.height,T=v.xOffset+m-t.scrollX,_=v.yOffset+g-t.scrollY,null!==S){var Y=v.kerning[C];T+=void 0!==Y?Y:0}if(l){d.index=L,d.charCode=y,d.x=T,d.y=_,d.scale=M,d.rotation=E,d.data=v.data;var U=l(d);T=U.x,_=U.y,M=U.scale,E=U.rotation}T*=M,_*=M,T+=D,m+=v.xAdvance+f,S=v,C=y,0!==x&&0!==k&&32!==y&&(F&&(T=Math.round(T),_=Math.round(_)),c.save(),c.translate(T,_),c.rotate(E),c.scale(M,M),c.drawImage(P,w,b,x,k,0,0,x,k),c.restore())}}else R++,1===I?D=(N.longest-N.lengths[R])/2:2===I&&(D=N.longest-N.lengths[R]),m=0,g+=p,S=null;c.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(963),n=i(964),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t){e.exports=function(e,t,i,s,n){var a=e.currentPipeline;e.clearPipeline();var r=e._tempMatrix1,o=e._tempMatrix2,c=e._tempMatrix3;o.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),r.copyFrom(s.matrix),n?(r.multiplyWithOffset(n,-s.scrollX*t.scrollFactorX,-s.scrollY*t.scrollFactorY),o.e=t.x,o.f=t.y,r.multiply(o,c)):(o.e-=s.scrollX*t.scrollFactorX,o.f-=s.scrollY*t.scrollFactorY,r.multiply(o,c)),t.render.call(t,e,s,c),e.rebindPipeline(a)}},function(e,t){},function(e,t,i){var s=i(1),n=i(1);s=i(966),n=i(401),n=i(401),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(192),n=i(9),a=function(e,t,i){this.x=e,this.y=t,this.width=i},r=function(e,t,i){this.points=[],this.pointsLength=1,this.points[0]=new a(e,t,i)},o=[];e.exports=function(e,t,i,c,h){if(0!==t.commandBuffer.length){var l=this.pipeline;e.setPipeline(l,t);var d=t._tempMatrix1,u=t._tempMatrix2,p=t._tempMatrix3;p.loadIdentity(),u.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),d.copyFrom(c.matrix),h?(d.multiplyWithOffset(h,-c.scrollX*t.scrollFactorX,-c.scrollY*t.scrollFactorY),u.e=t.x,u.f=t.y,d.multiply(u)):(u.e-=c.scrollX*t.scrollFactorX,u.f-=c.scrollY*t.scrollFactorY,d.multiply(u));for(var f=t.commandBuffer,m=c.alpha*t.alpha,g=1,y=l.fillTint,v=l.strokeTint,w=0,b=0,x=0,k=2*Math.PI,T=[],_=0,S=!1,C=null,P=n.getTintAppendFloatAlphaAndSwap,B=e.blankTexture.glTexture,A=0;A<f.length;A++)switch(f[A]){case s.BEGIN_PATH:T.length=0,C=null,S=!0;break;case s.CLOSE_PATH:S=!1,C&&C.points.length&&C.points.push(C.points[0]);break;case s.FILL_PATH:for(_=0;_<T.length;_++)l.setTexture2D(B),l.batchFillPath(T[_].points,p,d);break;case s.STROKE_PATH:for(_=0;_<T.length;_++)l.setTexture2D(B),l.batchStrokePath(T[_].points,g,S,p,d);break;case s.LINE_STYLE:g=f[++A];var E=P(f[++A],f[++A]*m);v.TL=E,v.TR=E,v.BL=E,v.BR=E;break;case s.FILL_STYLE:var M=P(f[++A],f[++A]*m);y.TL=M,y.TR=M,y.BL=M,y.BR=M;break;case s.GRADIENT_FILL_STYLE:var O=f[++A]*m;y.TL=P(f[++A],O),y.TR=P(f[++A],O),y.BL=P(f[++A],O),y.BR=P(f[++A],O);break;case s.GRADIENT_LINE_STYLE:g=f[++A];var I=f[++A]*m;v.TL=P(f[++A],I),v.TR=P(f[++A],I),v.BL=P(f[++A],I),v.BR=P(f[++A],I);break;case s.ARC:var R=0,D=f[++A],N=f[++A],F=f[++A],L=f[++A],Y=f[++A],U=f[++A],V=f[++A];for(Y-=L,U?Y<-k?Y=-k:Y>0&&(Y=Y%k-k):Y>k?Y=k:Y<0&&(Y=k+Y%k),null===C&&(C=new r(D+Math.cos(L)*F,N+Math.sin(L)*F,g),T.push(C),R+=.01);R<1+V;)x=Y*R+L,w=D+Math.cos(x)*F,b=N+Math.sin(x)*F,C.points.push(new a(w,b,g)),R+=.01;x=Y+L,w=D+Math.cos(x)*F,b=N+Math.sin(x)*F,C.points.push(new a(w,b,g));break;case s.FILL_RECT:l.setTexture2D(B),l.batchFillRect(f[++A],f[++A],f[++A],f[++A],p,d);break;case s.FILL_TRIANGLE:l.setTexture2D(B),l.batchFillTriangle(f[++A],f[++A],f[++A],f[++A],f[++A],f[++A],p,d);break;case s.STROKE_TRIANGLE:l.setTexture2D(B),l.batchStrokeTriangle(f[++A],f[++A],f[++A],f[++A],f[++A],f[++A],g,p,d);break;case s.LINE_TO:null!==C?C.points.push(new a(f[++A],f[++A],g)):(C=new r(f[++A],f[++A],g),T.push(C));break;case s.MOVE_TO:C=new r(f[++A],f[++A],g),T.push(C);break;case s.SAVE:o.push(p.copyToArray());break;case s.RESTORE:p.copyFromArray(o.pop());break;case s.TRANSLATE:D=f[++A],N=f[++A],p.translate(D,N);break;case s.SCALE:D=f[++A],N=f[++A],p.scale(D,N);break;case s.ROTATE:p.rotate(f[++A]);break;case s.SET_TEXTURE:var W=f[++A],z=f[++A];l.currentFrame=W,l.setTexture2D(W.glTexture,0),l.tintEffect=z,B=W.glTexture;break;case s.CLEAR_TEXTURE:l.currentFrame=e.blankTexture,l.tintEffect=2,B=e.blankTexture.glTexture}}}},function(e,t,i){var s=i(1),n=i(1);s=i(968),n=i(969),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t){e.exports=function(e,t,i,s,n){this.pipeline.batchSprite(t,s,n)}},function(e,t){e.exports=function(e,t,i,s,n){e.batchSprite(t,t.frame,s,n)}},function(e,t,i){var s=i(1),n=i(1);s=i(971),n=i(972),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t){e.exports=function(e,t,i,s,n){this.pipeline.batchSprite(t,s,n)}},function(e,t){e.exports=function(e,t,i,s,n){e.batchSprite(t,t.frame,s,n)}},function(e,t,i){e.exports={GravityWell:i(402),Particle:i(403),ParticleEmitter:i(404),ParticleEmitterManager:i(194),Zones:i(978)}},function(e,t,i){var s=i(0),n=i(119),a=i(69),r=i(2),o=i(58),c=new s({initialize:function(e,t,i,s){void 0===s&&(s=!1),this.propertyKey=t,this.propertyValue=i,this.defaultValue=i,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=s,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(e)},loadConfig:function(e,t){void 0===e&&(e={}),t&&(this.propertyKey=t),this.propertyValue=r(e,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(e){return this.propertyValue=e,this.setMethods()},setMethods:function(){var e=this.propertyValue,t=typeof e;if("number"===t)this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(e))this.onEmit=this.randomStaticValueEmit;else if("function"===t)this.emitOnly?this.onEmit=e:this.onUpdate=e;else if("object"===t&&(this.has(e,"random")||this.hasBoth(e,"start","end")||this.hasBoth(e,"min","max"))){this.start=this.has(e,"start")?e.start:e.min,this.end=this.has(e,"end")?e.end:e.max;var i=this.hasBoth(e,"min","max")||!!e.random;if(i){var s=e.random;Array.isArray(s)&&(this.start=s[0],this.end=s[1]),this.onEmit=this.randomRangedValueEmit}if(this.has(e,"steps"))this.steps=e.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var n=this.has(e,"ease")?e.ease:"Linear";this.ease=a(n),i||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else"object"===t&&this.hasEither(e,"onEmit","onUpdate")&&(this.has(e,"onEmit")&&(this.onEmit=e.onEmit),this.has(e,"onUpdate")&&(this.onUpdate=e.onUpdate));return this},has:function(e,t){return e.hasOwnProperty(t)},hasBoth:function(e,t,i){return e.hasOwnProperty(t)&&e.hasOwnProperty(i)},hasEither:function(e,t,i){return e.hasOwnProperty(t)||e.hasOwnProperty(i)},defaultEmit:function(e,t,i){return i},defaultUpdate:function(e,t,i,s){return s},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var e=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[e]},randomRangedValueEmit:function(e,t){var i=n(this.start,this.end);return e&&e.data[t]&&(e.data[t].min=i),i},steppedEmit:function(){var e=this.counter,t=this.counter+(this.end-this.start)/this.steps;return this.counter=o(t,this.start,this.end),e},easedValueEmit:function(e,t){if(e&&e.data[t]){var i=e.data[t];i.min=this.start,i.max=this.end}return this.start},easeValueUpdate:function(e,t,i){var s=e.data[t];return(s.max-s.min)*this.ease(i)+s.min}});e.exports=c},function(e,t,i){var s=i(1),n=i(1);s=i(976),n=i(977),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=t.emitters.list,o=r.length;if(0!==o){var c=this.pipeline,h=c._tempMatrix1.copyFrom(n.matrix),l=c._tempMatrix2,d=c._tempMatrix3,u=c._tempMatrix4.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);h.multiply(u),e.setPipeline(c);var p=n.roundPixels,f=t.defaultFrame.glTexture,m=s.getTintAppendFloatAlphaAndSwap;c.setTexture2D(f,0);for(var g=0;g<o;g++){var y=r[g],v=y.alive,w=v.length;if(y.visible&&0!==w){var b=n.scrollX*y.scrollFactorX,x=n.scrollY*y.scrollFactorY;a&&(h.multiplyWithOffset(a,-b,-x),b=0,x=0),e.setBlendMode(y.blendMode)&&c.setTexture2D(f,0),y.mask&&(y.mask.preRenderWebGL(e,y,n),c.setTexture2D(f,0));for(var k=0;k<w;k++){var T=v[k],_=T.alpha*n.alpha;if(!(_<=0)){var S=T.frame,C=-S.halfWidth,P=-S.halfHeight,B=C+S.width,A=P+S.height;d.applyITRS(0,0,T.rotation,T.scaleX,T.scaleY),d.e=T.x-b,d.f=T.y-x,h.multiply(d,l);var E=l.getX(C,P),M=l.getY(C,P),O=l.getX(C,A),I=l.getY(C,A),R=l.getX(B,A),D=l.getY(B,A),N=l.getX(B,P),F=l.getY(B,P);p&&(E=Math.round(E),M=Math.round(M),O=Math.round(O),I=Math.round(I),R=Math.round(R),D=Math.round(D),N=Math.round(N),F=Math.round(F));var L=m(T.tint,_);c.batchQuad(E,M,O,I,R,D,N,F,S.u0,S.v0,S.u1,S.v1,L,L,L,L,0,f,0)}}y.mask&&(y.mask.postRenderWebGL(e,n),c.setTexture2D(f,0))}}}}},function(e,t){e.exports=function(e,t,i,s,n){var a=t.emitters.list,r=a.length;if(0!==r){var o=e._tempMatrix1.copyFrom(s.matrix),c=e._tempMatrix2,h=e._tempMatrix3,l=e._tempMatrix4.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);o.multiply(l);var d=s.roundPixels,u=e.currentContext;u.save();for(var p=0;p<r;p++){var f=a[p],m=f.alive,g=m.length;if(f.visible&&0!==g){var y=s.scrollX*f.scrollFactorX,v=s.scrollY*f.scrollFactorY;n&&(o.multiplyWithOffset(n,-y,-v),y=0,v=0),u.globalCompositeOperation=e.blendModes[f.blendMode];for(var w=0;w<g;w++){var b=m[w],x=b.alpha*s.alpha;if(!(x<=0)){var k=b.frame,T=k.canvasData,_=-k.halfWidth,S=-k.halfHeight;h.applyITRS(0,0,b.rotation,b.scaleX,b.scaleY),h.e=b.x-y,h.f=b.y-v,o.multiply(h,c),u.globalAlpha=x,u.save(),c.copyToContext(u),d&&(_=Math.round(_),S=Math.round(S)),u.imageSmoothingEnabled=!(!e.antialias||k.source.scaleMode),u.drawImage(k.source.image,T.x,T.y,T.width,T.height,_,S,T.width,T.height),u.restore()}}}}u.restore()}}},function(e,t,i){e.exports={DeathZone:i(405),EdgeZone:i(406),RandomZone:i(408)}},function(e,t,i){var s=i(1),n=i(1);s=i(980),n=i(981),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=t.frame,o=r.width,c=r.height,h=s.getTintAppendFloatAlpha;this.pipeline.batchTexture(t,r.glTexture,o,c,t.x,t.y,o,c,t.scaleX,t.scaleY,t.rotation,t.flipX,!t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,o,c,h(t._tintTL,n.alpha*t._alphaTL),h(t._tintTR,n.alpha*t._alphaTR),h(t._tintBL,n.alpha*t._alphaBL),h(t._tintBR,n.alpha*t._alphaBR),t._isTinted&&t.tintFill,0,0,n,a),e.setBlankTexture(!0)}},function(e,t){e.exports=function(e,t,i,s,n){e.batchSprite(t,t.frame,s,n)}},function(e,t,i){var s=i(983),n=i(18),a={Parse:i(984)};a=n(!1,a,s),e.exports=a},function(e,t){e.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},function(e,t,i){var s=i(6);e.exports=function(e,t){var i=t.width,n=t.height,a=Math.floor(i/2),r=Math.floor(n/2),o=s(t,"chars","");if(""!==o){var c=s(t,"image",""),h=s(t,"offset.x",0),l=s(t,"offset.y",0),d=s(t,"spacing.x",0),u=s(t,"spacing.y",0),p=s(t,"lineSpacing",0),f=s(t,"charsPerRow",null);null===f&&(f=e.sys.textures.getFrame(c).width/i)>o.length&&(f=o.length);for(var m=h,g=l,y={retroFont:!0,font:c,size:i,lineHeight:n+p,chars:{}},v=0,w=0;w<o.length;w++){var b=o.charCodeAt(w);y.chars[b]={x:m,y:g,width:i,height:n,centerX:a,centerY:r,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{}},++v===f?(v=0,m=h,g+=n+u):m+=i+d}return{data:y,frame:null,texture:c}}}},function(e,t,i){var s=i(1),n=i(1);s=i(986),n=i(987),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=t.pipeline;e.setPipeline(r,t);var o=r._tempMatrix1,c=r._tempMatrix2,h=r._tempMatrix3;c.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),o.copyFrom(n.matrix),a?(o.multiplyWithOffset(a,-n.scrollX*t.scrollFactorX,-n.scrollY*t.scrollFactorY),c.e=t.x,c.f=t.y,o.multiply(c,h)):(c.e-=n.scrollX*t.scrollFactorX,c.f-=n.scrollY*t.scrollFactorY,o.multiply(c,h));var l=t.frame.glTexture,d=t.vertices,u=t.uv,p=t.colors,f=t.alphas,m=t.alpha,g=s.getTintAppendFloatAlphaAndSwap,y=n.roundPixels,v=d.length,w=Math.floor(.5*v);r.flush(),r.setTexture2D(l,0);var b=r.vertexViewF32,x=r.vertexViewU32,k=r.vertexCount*r.vertexComponentCount-1,T=0,_=t.tintFill;t.dirty&&t.updateVertices();for(var S=t.debugCallback,C=[],P=0;P<v;P+=2){var B=d[P+0],A=d[P+1],E=B*h.a+A*h.c+h.e,M=B*h.b+A*h.d+h.f;y&&(E=Math.round(E),M=Math.round(M)),b[++k]=E,b[++k]=M,b[++k]=u[P+0],b[++k]=u[P+1],b[++k]=_,x[++k]=g(p[T],n.alpha*(f[T]*m)),T++,S&&(C[P+0]=E,C[P+1]=M)}S&&S.call(t,t,v,C),r.vertexCount+=w}},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t,i){var s=e.canvas,n=e.context,a=e.style,r=[],o=0,c=i.length;a.maxLines>0&&a.maxLines<i.length&&(c=a.maxLines),a.syncFont(s,n);for(var h=0;h<c;h++){var l=a.strokeThickness;l+=n.measureText(i[h]).width,a.wordWrap&&(l-=n.measureText(" ").width),r[h]=Math.ceil(l),o=Math.max(o,r[h])}var d=t.fontSize+a.strokeThickness,u=d*c,p=e.lineSpacing;return c>1&&(u+=p*(c-1)),{width:o,height:u,lines:c,lineWidths:r,lineSpacing:p,lineHeight:d}}},function(e,t,i){var s=i(1),n=i(1);s=i(990),n=i(991),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){if(0!==t.width&&0!==t.height){var r=t.frame,o=r.width,c=r.height,h=s.getTintAppendFloatAlpha;this.pipeline.batchTexture(t,r.glTexture,o,c,t.x,t.y,o/t.style.resolution,c/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,o,c,h(t._tintTL,n.alpha*t._alphaTL),h(t._tintTR,n.alpha*t._alphaTR),h(t._tintBL,n.alpha*t._alphaBL),h(t._tintBR,n.alpha*t._alphaBR),t._isTinted&&t.tintFill,0,0,n,a)}}},function(e,t){e.exports=function(e,t,i,s,n){0!==t.width&&0!==t.height&&e.batchSprite(t,t.frame,s,n)}},function(e,t,i){var s=i(0),n=i(15),a=i(6),r=i(993),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},c=new s({initialize:function(e,t){this.parent=e,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(t,!1,!0);var i=a(t,"metrics",!1);this.metrics=i?{ascent:a(i,"ascent",0),descent:a(i,"descent",0),fontSize:a(i,"fontSize",0)}:r(this)},setStyle:function(e,t,i){for(var s in void 0===t&&(t=!0),void 0===i&&(i=!1),e&&e.hasOwnProperty("fontSize")&&"number"==typeof e.fontSize&&(e.fontSize=e.fontSize.toString()+"px"),o){var r=i?o[s][1]:this[s];this[s]="wordWrapCallback"===s||"wordWrapCallbackScope"===s?a(e,o[s][0],r):n(e,o[s][0],r)}var c=a(e,"font",null);null!==c&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var h=a(e,"fill",null);return null!==h&&(this.color=h),t?this.update(!0):this.parent},syncFont:function(e,t){t.font=this._font},syncStyle:function(e,t){t.textBaseline="alphabetic",t.fillStyle=this.color,t.strokeStyle=this.stroke,t.lineWidth=this.strokeThickness,t.lineCap="round",t.lineJoin="round"},syncShadow:function(e,t){t?(e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY,e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur):(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor=0,e.shadowBlur=0)},update:function(e){return e&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(e,t){void 0===t&&(t=!0);var i=e,s="",n="";if("string"!=typeof e)i=a(e,"fontFamily","Courier"),s=a(e,"fontSize","16px"),n=a(e,"fontStyle","");else{var r=e.split(" "),o=0;n=r.length>2?r[o++]:"",s=r[o++]||"16px",i=r[o++]||"Courier"}return i===this.fontFamily&&s===this.fontSize&&n===this.fontStyle||(this.fontFamily=i,this.fontSize=s,this.fontStyle=n,t&&this.update(!0)),this.parent},setFontFamily:function(e){return this.fontFamily!==e&&(this.fontFamily=e,this.update(!0)),this.parent},setFontStyle:function(e){return this.fontStyle!==e&&(this.fontStyle=e,this.update(!0)),this.parent},setFontSize:function(e){return"number"==typeof e&&(e=e.toString()+"px"),this.fontSize!==e&&(this.fontSize=e,this.update(!0)),this.parent},setTestString:function(e){return this.testString=e,this.update(!0)},setFixedSize:function(e,t){return this.fixedWidth=e,this.fixedHeight=t,e&&(this.parent.width=e),t&&(this.parent.height=t),this.update(!1)},setBackgroundColor:function(e){return this.backgroundColor=e,this.update(!1)},setFill:function(e){return this.color=e,this.update(!1)},setColor:function(e){return this.color=e,this.update(!1)},setResolution:function(e){return this.resolution=e,this.update(!1)},setStroke:function(e,t){return void 0===t&&(t=this.strokeThickness),void 0===e&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):this.stroke===e&&this.strokeThickness===t||(this.stroke=e,this.strokeThickness=t,this.update(!0)),this.parent},setShadow:function(e,t,i,s,n,a){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i="#000"),void 0===s&&(s=0),void 0===n&&(n=!1),void 0===a&&(a=!0),this.shadowOffsetX=e,this.shadowOffsetY=t,this.shadowColor=i,this.shadowBlur=s,this.shadowStroke=n,this.shadowFill=a,this.update(!1)},setShadowOffset:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.shadowOffsetX=e,this.shadowOffsetY=t,this.update(!1)},setShadowColor:function(e){return void 0===e&&(e="#000"),this.shadowColor=e,this.update(!1)},setShadowBlur:function(e){return void 0===e&&(e=0),this.shadowBlur=e,this.update(!1)},setShadowStroke:function(e){return this.shadowStroke=e,this.update(!1)},setShadowFill:function(e){return this.shadowFill=e,this.update(!1)},setWordWrapWidth:function(e,t){return void 0===t&&(t=!1),this.wordWrapWidth=e,this.wordWrapUseAdvanced=t,this.update(!1)},setWordWrapCallback:function(e,t){return void 0===t&&(t=null),this.wordWrapCallback=e,this.wordWrapCallbackScope=t,this.update(!1)},setAlign:function(e){return void 0===e&&(e="left"),this.align=e,this.update(!1)},setMaxLines:function(e){return void 0===e&&(e=0),this.maxLines=e,this.update(!1)},getTextMetrics:function(){var e=this.metrics;return{ascent:e.ascent,descent:e.descent,fontSize:e.fontSize}},toJSON:function(){var e={};for(var t in o)e[t]=this[t];return e.metrics=this.getTextMetrics(),e},destroy:function(){this.parent=void 0}});e.exports=c},function(e,t,i){var s=i(26);e.exports=function(e){var t=s.create(this),i=t.getContext("2d");e.syncFont(t,i);var n=Math.ceil(i.measureText(e.testString).width*e.baselineX),a=n,r=2*a;a=a*e.baselineY|0,t.width=n,t.height=r,i.fillStyle="#f00",i.fillRect(0,0,n,r),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,a);var o={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,n,r))return o.ascent=a,o.descent=a+6,o.fontSize=o.ascent+o.descent,s.remove(t),o;var c,h,l=i.getImageData(0,0,n,r).data,d=l.length,u=4*n,p=0,f=!1;for(c=0;c<a;c++){for(h=0;h<u;h+=4)if(255!==l[p+h]){f=!0;break}if(f)break;p+=u}for(o.ascent=a-c,p=d-u,f=!1,c=r;c>a;c--){for(h=0;h<u;h+=4)if(255!==l[p+h]){f=!0;break}if(f)break;p-=u}return o.descent=c-a,o.fontSize=o.ascent+o.descent,s.remove(t),o}},function(e,t,i){var s=i(1),n=i(1);s=i(995),n=i(996),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){t.updateCanvas();var r=s.getTintAppendFloatAlpha;this.pipeline.batchTexture(t,t.fillPattern,t.displayFrame.width*t.tileScaleX,t.displayFrame.height*t.tileScaleY,t.x,t.y,t.width,t.height,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.originX*t.width,t.originY*t.height,0,0,t.width,t.height,r(t._tintTL,n.alpha*t._alphaTL),r(t._tintTR,n.alpha*t._alphaTR),r(t._tintBL,n.alpha*t._alphaBL),r(t._tintBR,n.alpha*t._alphaBR),t._isTinted&&t.tintFill,t.tilePositionX%t.displayFrame.width/t.displayFrame.width,t.tilePositionY%t.displayFrame.height/t.displayFrame.height,n,a)}},function(e,t){e.exports=function(e,t,i,s,n){t.updateCanvas(),e.batchSprite(t,t.frame,s,n)}},function(e,t,i){var s=i(1),n=i(1);s=i(998),n=i(999),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t){e.exports=function(e,t,i,s,n){t.videoTexture&&this.pipeline.batchSprite(t,s,n)}},function(e,t){e.exports=function(e,t,i,s,n){t.videoTexture&&e.batchSprite(t,t.frame,s,n)}},function(e,t,i){var s=i(1),n=i(1);s=i(1001),n=i(1002),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(98),n=i(70);e.exports=function(e,t,i,a,r){var o=this.pipeline,c=o._tempMatrix1,h=o._tempMatrix2,l=o._tempMatrix3;e.setPipeline(o),h.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),c.copyFrom(a.matrix),r?(c.multiplyWithOffset(r,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),h.e=t.x,h.f=t.y):(h.e-=a.scrollX*t.scrollFactorX,h.f-=a.scrollY*t.scrollFactorY),c.multiply(h,l);var d=t._displayOriginX,u=t._displayOriginY,p=a.alpha*t.alpha;t.isFilled&&s(o,l,t,p,d,u),t.isStroked&&n(o,t,p,d,u)}},function(e,t,i){var s=i(39),n=i(41),a=i(49),r=i(28);e.exports=function(e,t,i,o,c){var h=e.currentContext;if(r(e,h,t,o,c)){var l=t.radius;h.beginPath(),h.arc(l-t.originX*(2*l),l-t.originY*(2*l),l,s(t._startAngle),s(t._endAngle),t.anticlockwise),t.closePath&&h.closePath(),t.isFilled&&(n(h,t),h.fill()),t.isStroked&&(a(h,t),h.stroke()),h.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(1004),n=i(1005),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(98),n=i(70);e.exports=function(e,t,i,a,r){var o=this.pipeline,c=o._tempMatrix1,h=o._tempMatrix2,l=o._tempMatrix3;e.setPipeline(o),h.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),c.copyFrom(a.matrix),r?(c.multiplyWithOffset(r,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),h.e=t.x,h.f=t.y):(h.e-=a.scrollX*t.scrollFactorX,h.f-=a.scrollY*t.scrollFactorY),c.multiply(h,l);var d=t._displayOriginX+t._curveBounds.x,u=t._displayOriginY+t._curveBounds.y,p=a.alpha*t.alpha;t.isFilled&&s(o,l,t,p,d,u),t.isStroked&&n(o,t,p,d,u)}},function(e,t,i){var s=i(41),n=i(49),a=i(28);e.exports=function(e,t,i,r,o){var c=e.currentContext;if(a(e,c,t,r,o)){var h=t._displayOriginX+t._curveBounds.x,l=t._displayOriginY+t._curveBounds.y,d=t.pathData,u=d.length-1,p=d[0]-h,f=d[1]-l;c.beginPath(),c.moveTo(p,f),t.closePath||(u-=2);for(var m=2;m<u;m+=2){var g=d[m]-h,y=d[m+1]-l;c.lineTo(g,y)}t.closePath&&c.closePath(),t.isFilled&&(s(c,t),c.fill()),t.isStroked&&(n(c,t),c.stroke()),c.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(1007),n=i(1008),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(98),n=i(70);e.exports=function(e,t,i,a,r){var o=this.pipeline,c=o._tempMatrix1,h=o._tempMatrix2,l=o._tempMatrix3;e.setPipeline(o),h.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),c.copyFrom(a.matrix),r?(c.multiplyWithOffset(r,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),h.e=t.x,h.f=t.y):(h.e-=a.scrollX*t.scrollFactorX,h.f-=a.scrollY*t.scrollFactorY),c.multiply(h,l);var d=t._displayOriginX,u=t._displayOriginY,p=a.alpha*t.alpha;t.isFilled&&s(o,l,t,p,d,u),t.isStroked&&n(o,t,p,d,u)}},function(e,t,i){var s=i(41),n=i(49),a=i(28);e.exports=function(e,t,i,r,o){var c=e.currentContext;if(a(e,c,t,r,o)){var h=t._displayOriginX,l=t._displayOriginY,d=t.pathData,u=d.length-1,p=d[0]-h,f=d[1]-l;c.beginPath(),c.moveTo(p,f),t.closePath||(u-=2);for(var m=2;m<u;m+=2){var g=d[m]-h,y=d[m+1]-l;c.lineTo(g,y)}c.closePath(),t.isFilled&&(s(c,t),c.fill()),t.isStroked&&(n(c,t),c.stroke()),c.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(1010),n=i(1011),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=this.pipeline,o=r._tempMatrix1,c=r._tempMatrix2,h=r._tempMatrix3;e.setPipeline(r),c.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),o.copyFrom(n.matrix),a?(o.multiplyWithOffset(a,-n.scrollX*t.scrollFactorX,-n.scrollY*t.scrollFactorY),c.e=t.x,c.f=t.y):(c.e-=n.scrollX*t.scrollFactorX,c.f-=n.scrollY*t.scrollFactorY),o.multiply(c,h),h.translate(-t._displayOriginX,-t._displayOriginY);var l,d,u=n.alpha*t.alpha,p=t.width,f=t.height,m=t.cellWidth,g=t.cellHeight,y=Math.ceil(p/m),v=Math.ceil(f/g),w=m,b=g,x=m-(y*m-p),k=g-(v*g-f),T=t.showCells,_=t.showAltCells,S=t.showOutline,C=0,P=0,B=0,A=0,E=0;if(S&&(w--,b--,x===m&&x--,k===g&&k--),T&&t.fillAlpha>0)for(l=r.fillTint,d=s.getTintAppendFloatAlphaAndSwap(t.fillColor,t.fillAlpha*u),l.TL=d,l.TR=d,l.BL=d,l.BR=d,P=0;P<v;P++)for(_&&(B=P%2),C=0;C<y;C++)_&&B?B=0:(B++,A=C<y-1?w:x,E=P<v-1?b:k,r.setTexture2D(),r.batchFillRect(C*m,P*g,A,E));if(_&&t.altFillAlpha>0)for(l=r.fillTint,d=s.getTintAppendFloatAlphaAndSwap(t.altFillColor,t.altFillAlpha*u),l.TL=d,l.TR=d,l.BL=d,l.BR=d,P=0;P<v;P++)for(_&&(B=P%2),C=0;C<y;C++)!_||B?(B=0,A=C<y-1?w:x,E=P<v-1?b:k,r.setTexture2D(),r.batchFillRect(C*m,P*g,A,E)):B=1;if(S&&t.outlineFillAlpha>0){var M=r.strokeTint,O=s.getTintAppendFloatAlphaAndSwap(t.outlineFillColor,t.outlineFillAlpha*u);for(M.TL=O,M.TR=O,M.BL=O,M.BR=O,C=1;C<y;C++){var I=C*m;r.setTexture2D(),r.batchLine(I,0,I,f,1,1,1,0,!1)}for(P=1;P<v;P++){var R=P*g;r.setTexture2D(),r.batchLine(0,R,p,R,1,1,1,0,!1)}}}},function(e,t,i){var s=i(41),n=i(49),a=i(28);e.exports=function(e,t,i,r,o){var c=e.currentContext;if(a(e,c,t,r,o)){var h=-t._displayOriginX,l=-t._displayOriginY,d=r.alpha*t.alpha,u=t.width,p=t.height,f=t.cellWidth,m=t.cellHeight,g=Math.ceil(u/f),y=Math.ceil(p/m),v=f,w=m,b=f-(g*f-u),x=m-(y*m-p),k=t.showCells,T=t.showAltCells,_=t.showOutline,S=0,C=0,P=0,B=0,A=0;if(_&&(v--,w--,b===f&&b--,x===m&&x--),k&&t.fillAlpha>0)for(s(c,t),C=0;C<y;C++)for(T&&(P=C%2),S=0;S<g;S++)T&&P?P=0:(P++,B=S<g-1?v:b,A=C<y-1?w:x,c.fillRect(h+S*f,l+C*m,B,A));if(T&&t.altFillAlpha>0)for(s(c,t,t.altFillColor,t.altFillAlpha*d),C=0;C<y;C++)for(T&&(P=C%2),S=0;S<g;S++)!T||P?(P=0,B=S<g-1?v:b,A=C<y-1?w:x,c.fillRect(h+S*f,l+C*m,B,A)):P=1;if(_&&t.outlineFillAlpha>0){for(n(c,t,t.outlineFillColor,t.outlineFillAlpha*d),S=1;S<g;S++){var E=S*f;c.beginPath(),c.moveTo(E+h,l),c.lineTo(E+h,p+l),c.stroke()}for(C=1;C<y;C++){var M=C*m;c.beginPath(),c.moveTo(h,M+l),c.lineTo(h+u,M+l),c.stroke()}}c.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(1013),n=i(1014),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=this.pipeline,o=r._tempMatrix1,c=r._tempMatrix2,h=r._tempMatrix3;e.setPipeline(r),c.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),o.copyFrom(n.matrix),a?(o.multiplyWithOffset(a,-n.scrollX*t.scrollFactorX,-n.scrollY*t.scrollFactorY),c.e=t.x,c.f=t.y):(c.e-=n.scrollX*t.scrollFactorX,c.f-=n.scrollY*t.scrollFactorY),o.multiply(c,h);var l,d,u,p,f,m,g,y,v,w=t.width,b=t.height,x=w/2,k=w/t.projection,T=n.alpha*t.alpha;t.isFilled&&(t.showTop&&(l=s.getTintAppendFloatAlphaAndSwap(t.fillTop,T),d=h.getX(-x,-b),u=h.getY(-x,-b),p=h.getX(0,-k-b),f=h.getY(0,-k-b),m=h.getX(x,-b),g=h.getY(x,-b),y=h.getX(0,k-b),v=h.getY(0,k-b),r.setTexture2D(),r.batchQuad(d,u,p,f,m,g,y,v,0,0,1,1,l,l,l,l,2)),t.showLeft&&(l=s.getTintAppendFloatAlphaAndSwap(t.fillLeft,T),d=h.getX(-x,0),u=h.getY(-x,0),p=h.getX(0,k),f=h.getY(0,k),m=h.getX(0,k-b),g=h.getY(0,k-b),y=h.getX(-x,-b),v=h.getY(-x,-b),r.setTexture2D(),r.batchQuad(d,u,p,f,m,g,y,v,0,0,1,1,l,l,l,l,2)),t.showRight&&(l=s.getTintAppendFloatAlphaAndSwap(t.fillRight,T),d=h.getX(x,0),u=h.getY(x,0),p=h.getX(0,k),f=h.getY(0,k),m=h.getX(0,k-b),g=h.getY(0,k-b),y=h.getX(x,-b),v=h.getY(x,-b),r.setTexture2D(),r.batchQuad(d,u,p,f,m,g,y,v,0,0,1,1,l,l,l,l,2)))}},function(e,t,i){var s=i(41),n=i(28);e.exports=function(e,t,i,a,r){var o=e.currentContext;if(n(e,o,t,a,r)&&t.isFilled){var c=t.width,h=t.height,l=c/2,d=c/t.projection;t.showTop&&(s(o,t,t.fillTop),o.beginPath(),o.moveTo(-l,-h),o.lineTo(0,-d-h),o.lineTo(l,-h),o.lineTo(l,-1),o.lineTo(0,d-1),o.lineTo(-l,-1),o.lineTo(-l,-h),o.fill()),t.showLeft&&(s(o,t,t.fillLeft),o.beginPath(),o.moveTo(-l,0),o.lineTo(0,d),o.lineTo(0,d-h),o.lineTo(-l,-h),o.lineTo(-l,0),o.fill()),t.showRight&&(s(o,t,t.fillRight),o.beginPath(),o.moveTo(l,0),o.lineTo(0,d),o.lineTo(0,d-h),o.lineTo(l,-h),o.lineTo(l,0),o.fill()),o.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(1016),n=i(1017),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=this.pipeline,o=r._tempMatrix1,c=r._tempMatrix2,h=r._tempMatrix3;e.setPipeline(r),c.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),o.copyFrom(n.matrix),a?(o.multiplyWithOffset(a,-n.scrollX*t.scrollFactorX,-n.scrollY*t.scrollFactorY),c.e=t.x,c.f=t.y):(c.e-=n.scrollX*t.scrollFactorX,c.f-=n.scrollY*t.scrollFactorY),o.multiply(c,h);var l=t.width,d=t.height,u=l/2,p=l/t.projection,f=t.isReversed,m=n.alpha*t.alpha;if(t.isFilled){var g,y,v,w,b,x,k;if(t.showTop&&f){g=s.getTintAppendFloatAlphaAndSwap(t.fillTop,m),y=h.getX(-u,-d),v=h.getY(-u,-d),w=h.getX(0,-p-d),b=h.getY(0,-p-d),x=h.getX(u,-d),k=h.getY(u,-d);var T=h.getX(0,p-d),_=h.getY(0,p-d);r.setTexture2D(),r.batchQuad(y,v,w,b,x,k,T,_,0,0,1,1,g,g,g,g,2)}t.showLeft&&(g=s.getTintAppendFloatAlphaAndSwap(t.fillLeft,m),f?(y=h.getX(-u,-d),v=h.getY(-u,-d),w=h.getX(0,p),b=h.getY(0,p),x=h.getX(0,p-d),k=h.getY(0,p-d)):(y=h.getX(-u,0),v=h.getY(-u,0),w=h.getX(0,p),b=h.getY(0,p),x=h.getX(0,p-d),k=h.getY(0,p-d)),r.setTexture2D(),r.batchTri(y,v,w,b,x,k,0,0,1,1,g,g,g,2)),t.showRight&&(g=s.getTintAppendFloatAlphaAndSwap(t.fillRight,m),f?(y=h.getX(u,-d),v=h.getY(u,-d),w=h.getX(0,p),b=h.getY(0,p),x=h.getX(0,p-d),k=h.getY(0,p-d)):(y=h.getX(u,0),v=h.getY(u,0),w=h.getX(0,p),b=h.getY(0,p),x=h.getX(0,p-d),k=h.getY(0,p-d)),r.setTexture2D(),r.batchTri(y,v,w,b,x,k,0,0,1,1,g,g,g,2))}}},function(e,t,i){var s=i(41),n=i(28);e.exports=function(e,t,i,a,r){var o=e.currentContext;if(n(e,o,t,a,r)&&t.isFilled){var c=t.width,h=t.height,l=c/2,d=c/t.projection,u=t.isReversed;t.showTop&&u&&(s(o,t,t.fillTop),o.beginPath(),o.moveTo(-l,-h),o.lineTo(0,-d-h),o.lineTo(l,-h),o.lineTo(0,d-h),o.fill()),t.showLeft&&(s(o,t,t.fillLeft),o.beginPath(),u?(o.moveTo(-l,-h),o.lineTo(0,d),o.lineTo(0,d-h)):(o.moveTo(-l,0),o.lineTo(0,d),o.lineTo(0,d-h)),o.fill()),t.showRight&&(s(o,t,t.fillRight),o.beginPath(),u?(o.moveTo(l,-h),o.lineTo(0,d),o.lineTo(0,d-h)):(o.moveTo(l,0),o.lineTo(0,d),o.lineTo(0,d-h)),o.fill()),o.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(1019),n=i(1020),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=this.pipeline,o=r._tempMatrix1,c=r._tempMatrix2;e.setPipeline(r),c.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),o.copyFrom(n.matrix),a?(o.multiplyWithOffset(a,-n.scrollX*t.scrollFactorX,-n.scrollY*t.scrollFactorY),c.e=t.x,c.f=t.y):(c.e-=n.scrollX*t.scrollFactorX,c.f-=n.scrollY*t.scrollFactorY);var h=t._displayOriginX,l=t._displayOriginY,d=n.alpha*t.alpha;if(t.isStroked){var u=r.strokeTint,p=s.getTintAppendFloatAlphaAndSwap(t.strokeColor,t.strokeAlpha*d);u.TL=p,u.TR=p,u.BL=p,u.BR=p;var f=t._startWidth,m=t._endWidth;r.setTexture2D(),r.batchLine(t.geom.x1-h,t.geom.y1-l,t.geom.x2-h,t.geom.y2-l,f,m,1,0,!1,c,o)}}},function(e,t,i){var s=i(49),n=i(28);e.exports=function(e,t,i,a,r){var o=e.currentContext;if(n(e,o,t,a,r)){var c=t._displayOriginX,h=t._displayOriginY;t.isStroked&&(s(o,t),o.beginPath(),o.moveTo(t.geom.x1-c,t.geom.y1-h),o.lineTo(t.geom.x2-c,t.geom.y2-h),o.stroke()),o.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(1022),n=i(1023),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(98),n=i(70);e.exports=function(e,t,i,a,r){var o=this.pipeline,c=o._tempMatrix1,h=o._tempMatrix2,l=o._tempMatrix3;e.setPipeline(o),h.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),c.copyFrom(a.matrix),r?(c.multiplyWithOffset(r,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),h.e=t.x,h.f=t.y):(h.e-=a.scrollX*t.scrollFactorX,h.f-=a.scrollY*t.scrollFactorY),c.multiply(h,l);var d=t._displayOriginX,u=t._displayOriginY,p=a.alpha*t.alpha;t.isFilled&&s(o,l,t,p,d,u),t.isStroked&&n(o,t,p,d,u)}},function(e,t,i){var s=i(41),n=i(49),a=i(28);e.exports=function(e,t,i,r,o){var c=e.currentContext;if(a(e,c,t,r,o)){var h=t._displayOriginX,l=t._displayOriginY,d=t.pathData,u=d.length-1,p=d[0]-h,f=d[1]-l;c.beginPath(),c.moveTo(p,f),t.closePath||(u-=2);for(var m=2;m<u;m+=2){var g=d[m]-h,y=d[m+1]-l;c.lineTo(g,y)}c.closePath(),t.isFilled&&(s(c,t),c.fill()),t.isStroked&&(n(c,t),c.stroke()),c.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(1025),n=i(1026),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(70),n=i(9);e.exports=function(e,t,i,a,r){var o=this.pipeline,c=o._tempMatrix1,h=o._tempMatrix2,l=o._tempMatrix3;e.setPipeline(o),h.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),c.copyFrom(a.matrix),r?(c.multiplyWithOffset(r,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),h.e=t.x,h.f=t.y):(h.e-=a.scrollX*t.scrollFactorX,h.f-=a.scrollY*t.scrollFactorY),c.multiply(h,l);var d=t._displayOriginX,u=t._displayOriginY,p=a.alpha*t.alpha;if(t.isFilled){var f=o.fillTint,m=n.getTintAppendFloatAlphaAndSwap(t.fillColor,t.fillAlpha*p);f.TL=m,f.TR=m,f.BL=m,f.BR=m,o.setTexture2D(),o.batchFillRect(-d,-u,t.width,t.height)}t.isStroked&&s(o,t,p,d,u)}},function(e,t,i){var s=i(41),n=i(49),a=i(28);e.exports=function(e,t,i,r,o){var c=e.currentContext;if(a(e,c,t,r,o)){var h=t._displayOriginX,l=t._displayOriginY;t.isFilled&&(s(c,t),c.fillRect(-h,-l,t.width,t.height)),t.isStroked&&(n(c,t),c.beginPath(),c.rect(-h,-l,t.width,t.height),c.stroke()),c.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(1028),n=i(1029),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(98),n=i(70);e.exports=function(e,t,i,a,r){var o=this.pipeline,c=o._tempMatrix1,h=o._tempMatrix2,l=o._tempMatrix3;e.setPipeline(o),h.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),c.copyFrom(a.matrix),r?(c.multiplyWithOffset(r,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),h.e=t.x,h.f=t.y):(h.e-=a.scrollX*t.scrollFactorX,h.f-=a.scrollY*t.scrollFactorY),c.multiply(h,l);var d=t._displayOriginX,u=t._displayOriginY,p=a.alpha*t.alpha;t.isFilled&&s(o,l,t,p,d,u),t.isStroked&&n(o,t,p,d,u)}},function(e,t,i){var s=i(41),n=i(49),a=i(28);e.exports=function(e,t,i,r,o){var c=e.currentContext;if(a(e,c,t,r,o)){var h=t._displayOriginX,l=t._displayOriginY,d=t.pathData,u=d.length-1,p=d[0]-h,f=d[1]-l;c.beginPath(),c.moveTo(p,f),t.closePath||(u-=2);for(var m=2;m<u;m+=2){var g=d[m]-h,y=d[m+1]-l;c.lineTo(g,y)}c.closePath(),t.isFilled&&(s(c,t),c.fill()),t.isStroked&&(n(c,t),c.stroke()),c.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(1031),n=i(1032),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(70),n=i(9);e.exports=function(e,t,i,a,r){var o=this.pipeline,c=o._tempMatrix1,h=o._tempMatrix2,l=o._tempMatrix3;e.setPipeline(o),h.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),c.copyFrom(a.matrix),r?(c.multiplyWithOffset(r,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),h.e=t.x,h.f=t.y):(h.e-=a.scrollX*t.scrollFactorX,h.f-=a.scrollY*t.scrollFactorY),c.multiply(h,l);var d=t._displayOriginX,u=t._displayOriginY,p=a.alpha*t.alpha;if(t.isFilled){var f=o.fillTint,m=n.getTintAppendFloatAlphaAndSwap(t.fillColor,t.fillAlpha*p);f.TL=m,f.TR=m,f.BL=m,f.BR=m;var g=t.geom.x1-d,y=t.geom.y1-u,v=t.geom.x2-d,w=t.geom.y2-u,b=t.geom.x3-d,x=t.geom.y3-u;o.setTexture2D(),o.batchFillTriangle(g,y,v,w,b,x,h,c)}t.isStroked&&s(o,t,p,d,u)}},function(e,t,i){var s=i(41),n=i(49),a=i(28);e.exports=function(e,t,i,r,o){var c=e.currentContext;if(a(e,c,t,r,o)){var h=t._displayOriginX,l=t._displayOriginY,d=t.geom.x1-h,u=t.geom.y1-l,p=t.geom.x2-h,f=t.geom.y2-l,m=t.geom.x3-h,g=t.geom.y3-l;c.beginPath(),c.moveTo(d,u),c.lineTo(p,f),c.lineTo(m,g),c.closePath(),t.isFilled&&(s(c,t),c.fill()),t.isStroked&&(n(c,t),c.stroke()),c.restore()}}},function(e,t,i){var s=i(188);i(5).register("blitter",(function(e,t,i,n){return this.displayList.add(new s(this.scene,e,t,i,n))}))},function(e,t,i){var s=i(189);i(5).register("container",(function(e,t,i){return this.displayList.add(new s(this.scene,e,t,i))}))},function(e,t,i){var s=i(395);i(5).register("dom",(function(e,t,i,n,a){var r=new s(this.scene,e,t,i,n,a);return this.displayList.add(r),this.updateList.add(r),r}))},function(e,t,i){var s=i(190);i(5).register("dynamicBitmapText",(function(e,t,i,n,a){return this.displayList.add(new s(this.scene,e,t,i,n,a))}))},function(e,t,i){var s=i(397);i(5).register("extern",(function(){var e=new s(this.scene);return this.displayList.add(e),this.updateList.add(e),e}))},function(e,t,i){var s=i(191);i(5).register("graphics",(function(e){return this.displayList.add(new s(this.scene,e))}))},function(e,t,i){var s=i(97);i(5).register("group",(function(e,t){return this.updateList.add(new s(this.scene,e,t))}))},function(e,t,i){var s=i(107);i(5).register("image",(function(e,t,i,n){return this.displayList.add(new s(this.scene,e,t,i,n))}))},function(e,t,i){var s=i(5),n=i(194);s.register("particles",(function(e,t,i){var s=new n(this.scene,e,t,i);return this.displayList.add(s),this.updateList.add(s),s}))},function(e,t,i){var s=i(5),n=i(409);s.register("follower",(function(e,t,i,s,a){var r=new n(this.scene,e,t,i,s,a);return this.displayList.add(r),this.updateList.add(r),r}))},function(e,t,i){var s=i(5),n=i(195);s.register("renderTexture",(function(e,t,i,s,a,r){return this.displayList.add(new n(this.scene,e,t,i,s,a,r))}))},function(e,t,i){var s=i(197);i(5).register("rope",(function(e,t,i,n,a,r,o,c){var h=new s(this.scene,e,t,i,n,a,r,o,c);return this.displayList.add(h),this.updateList.add(h)}))},function(e,t,i){var s=i(5),n=i(75);s.register("sprite",(function(e,t,i,s){var a=new n(this.scene,e,t,i,s);return this.displayList.add(a),this.updateList.add(a),a}))},function(e,t,i){var s=i(132);i(5).register("bitmapText",(function(e,t,i,n,a,r){return this.displayList.add(new s(this.scene,e,t,i,n,a,r))}))},function(e,t,i){var s=i(198);i(5).register("text",(function(e,t,i,n){return this.displayList.add(new s(this.scene,e,t,i,n))}))},function(e,t,i){var s=i(199);i(5).register("tileSprite",(function(e,t,i,n,a,r){return this.displayList.add(new s(this.scene,e,t,i,n,a,r))}))},function(e,t,i){var s=i(110);i(5).register("zone",(function(e,t,i,n){return this.displayList.add(new s(this.scene,e,t,i,n))}))},function(e,t,i){var s=i(200);i(5).register("video",(function(e,t,i){var n=new s(this.scene,e,t,i);return this.displayList.add(n),this.updateList.add(n),n}))},function(e,t,i){var s=i(410),n=i(5);n.register("arc",(function(e,t,i,n,a,r,o,c){return this.displayList.add(new s(this.scene,e,t,i,n,a,r,o,c))})),n.register("circle",(function(e,t,i,n,a){return this.displayList.add(new s(this.scene,e,t,i,0,360,!1,n,a))}))},function(e,t,i){var s=i(5),n=i(411);s.register("curve",(function(e,t,i,s,a){return this.displayList.add(new n(this.scene,e,t,i,s,a))}))},function(e,t,i){var s=i(412);i(5).register("ellipse",(function(e,t,i,n,a,r){return this.displayList.add(new s(this.scene,e,t,i,n,a,r))}))},function(e,t,i){var s=i(5),n=i(413);s.register("grid",(function(e,t,i,s,a,r,o,c,h,l){return this.displayList.add(new n(this.scene,e,t,i,s,a,r,o,c,h,l))}))},function(e,t,i){var s=i(5),n=i(414);s.register("isobox",(function(e,t,i,s,a,r,o){return this.displayList.add(new n(this.scene,e,t,i,s,a,r,o))}))},function(e,t,i){var s=i(5),n=i(415);s.register("isotriangle",(function(e,t,i,s,a,r,o,c){return this.displayList.add(new n(this.scene,e,t,i,s,a,r,o,c))}))},function(e,t,i){var s=i(5),n=i(416);s.register("line",(function(e,t,i,s,a,r,o,c){return this.displayList.add(new n(this.scene,e,t,i,s,a,r,o,c))}))},function(e,t,i){var s=i(5),n=i(417);s.register("polygon",(function(e,t,i,s,a){return this.displayList.add(new n(this.scene,e,t,i,s,a))}))},function(e,t,i){var s=i(5),n=i(422);s.register("rectangle",(function(e,t,i,s,a,r){return this.displayList.add(new n(this.scene,e,t,i,s,a,r))}))},function(e,t,i){var s=i(423);i(5).register("star",(function(e,t,i,n,a,r,o){return this.displayList.add(new s(this.scene,e,t,i,n,a,r,o))}))},function(e,t,i){var s=i(5),n=i(424);s.register("triangle",(function(e,t,i,s,a,r,o,c,h,l){return this.displayList.add(new n(this.scene,e,t,i,s,a,r,o,c,h,l))}))},function(e,t,i){var s=i(188),n=i(27),a=i(16),r=i(15);a.register("blitter",(function(e,t){void 0===e&&(e={});var i=r(e,"key",null),a=r(e,"frame",null),o=new s(this.scene,0,0,i,a);return void 0!==t&&(e.add=t),n(this.scene,o,e),o}))},function(e,t,i){var s=i(27),n=i(189),a=i(16),r=i(15);a.register("container",(function(e,t){void 0===e&&(e={});var i=r(e,"x",0),a=r(e,"y",0),o=new n(this.scene,i,a);return void 0!==t&&(e.add=t),s(this.scene,o,e),o}))},function(e,t,i){var s=i(190),n=i(27),a=i(16),r=i(15);a.register("dynamicBitmapText",(function(e,t){void 0===e&&(e={});var i=r(e,"font",""),a=r(e,"text",""),o=r(e,"size",!1),c=new s(this.scene,0,0,i,a,o);return void 0!==t&&(e.add=t),n(this.scene,c,e),c}))},function(e,t,i){var s=i(16),n=i(191);s.register("graphics",(function(e,t){void 0===e&&(e={}),void 0!==t&&(e.add=t);var i=new n(this.scene,e);return e.add&&this.scene.sys.displayList.add(i),i}))},function(e,t,i){var s=i(16),n=i(97);s.register("group",(function(e){return new n(this.scene,null,e)}))},function(e,t,i){var s=i(27),n=i(16),a=i(15),r=i(107);n.register("image",(function(e,t){void 0===e&&(e={});var i=a(e,"key",null),n=a(e,"frame",null),o=new r(this.scene,0,0,i,n);return void 0!==t&&(e.add=t),s(this.scene,o,e),o}))},function(e,t,i){var s=i(16),n=i(15),a=i(2),r=i(194);s.register("particles",(function(e,t){void 0===e&&(e={});var i=n(e,"key",null),s=n(e,"frame",null),o=a(e,"emitters",null),c=new r(this.scene,i,s,o);return void 0!==t&&(e.add=t),a(e,"add",!1)&&this.displayList.add(c),this.updateList.add(c),c}))},function(e,t,i){var s=i(27),n=i(16),a=i(15),r=i(195);n.register("renderTexture",(function(e,t){void 0===e&&(e={});var i=a(e,"x",0),n=a(e,"y",0),o=a(e,"width",32),c=a(e,"height",32),h=a(e,"key",void 0),l=a(e,"frame",void 0),d=new r(this.scene,i,n,o,c,h,l);return void 0!==t&&(e.add=t),s(this.scene,d,e),d}))},function(e,t,i){var s=i(27),n=i(16),a=i(15),r=i(6),o=i(197);n.register("rope",(function(e,t){void 0===e&&(e={});var i=a(e,"key",null),n=a(e,"frame",null),c=a(e,"horizontal",!0),h=r(e,"points",void 0),l=r(e,"colors",void 0),d=r(e,"alphas",void 0),u=new o(this.scene,0,0,i,n,h,c,l,d);return void 0!==t&&(e.add=t),s(this.scene,u,e),u}))},function(e,t,i){var s=i(27),n=i(393),a=i(16),r=i(15),o=i(75);a.register("sprite",(function(e,t){void 0===e&&(e={});var i=r(e,"key",null),a=r(e,"frame",null),c=new o(this.scene,0,0,i,a);return void 0!==t&&(e.add=t),s(this.scene,c,e),n(c,e),c}))},function(e,t,i){var s=i(132),n=i(27),a=i(16),r=i(15),o=i(6);a.register("bitmapText",(function(e,t){void 0===e&&(e={});var i=o(e,"font",""),a=r(e,"text",""),c=r(e,"size",!1),h=o(e,"align",0),l=new s(this.scene,0,0,i,a,c,h);return void 0!==t&&(e.add=t),n(this.scene,l,e),l}))},function(e,t,i){var s=i(27),n=i(16),a=i(15),r=i(198);n.register("text",(function(e,t){void 0===e&&(e={});var i=a(e,"text",""),n=a(e,"style",null),o=a(e,"padding",null);null!==o&&(n.padding=o);var c=new r(this.scene,0,0,i,n);return void 0!==t&&(e.add=t),s(this.scene,c,e),c.autoRound=a(e,"autoRound",!0),c.resolution=a(e,"resolution",1),c}))},function(e,t,i){var s=i(27),n=i(16),a=i(15),r=i(199);n.register("tileSprite",(function(e,t){void 0===e&&(e={});var i=a(e,"x",0),n=a(e,"y",0),o=a(e,"width",512),c=a(e,"height",512),h=a(e,"key",""),l=a(e,"frame",""),d=new r(this.scene,i,n,o,c,h,l);return void 0!==t&&(e.add=t),s(this.scene,d,e),d}))},function(e,t,i){var s=i(16),n=i(15),a=i(110);s.register("zone",(function(e){var t=n(e,"x",0),i=n(e,"y",0),s=n(e,"width",1),r=n(e,"height",s);return new a(this.scene,t,i,s,r)}))},function(e,t,i){var s=i(27),n=i(16),a=i(15),r=i(200);n.register("video",(function(e,t){void 0===e&&(e={});var i=a(e,"key",null),n=new r(this.scene,0,0,i);return void 0!==t&&(e.add=t),s(this.scene,n,e),n}))},function(e,t,i){var s=i(1),n=i(1);s=i(1078),n=i(1079),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n,a){var r=this.pipeline;e.setPipeline(r,t);var o=r._tempMatrix1,c=r._tempMatrix2,h=r._tempMatrix3;c.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),o.copyFrom(n.matrix),a?(o.multiplyWithOffset(a,-n.scrollX*t.scrollFactorX,-n.scrollY*t.scrollFactorY),c.e=t.x,c.f=t.y,o.multiply(c,h)):(c.e-=n.scrollX*t.scrollFactorX,c.f-=n.scrollY*t.scrollFactorY,o.multiply(c,h));var l=t.frame.glTexture,d=t.vertices,u=t.uv,p=t.colors,f=t.alphas,m=d.length,g=Math.floor(.5*m);r.vertexCount+g>r.vertexCapacity&&r.flush(),r.setTexture2D(l,0);for(var y=r.vertexViewF32,v=r.vertexViewU32,w=r.vertexCount*r.vertexComponentCount-1,b=0,x=t.tintFill,k=0;k<m;k+=2){var T=d[k+0],_=d[k+1],S=T*h.a+_*h.c+h.e,C=T*h.b+_*h.d+h.f;n.roundPixels&&(S=Math.round(S),C=Math.round(C)),y[++w]=S,y[++w]=C,y[++w]=u[k+0],y[++w]=u[k+1],y[++w]=x,v[++w]=s.getTintAppendFloatAlpha(p[b],n.alpha*f[b]),b++}r.vertexCount+=g}},function(e,t){e.exports=function(){}},function(e,t,i){var s=i(1),n=i(1);s=i(1081),n=i(1082),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t){e.exports=function(e,t,i,s,n){if(t.shader){var a=e.currentPipeline;if(e.clearPipeline(),t.renderToTexture)t.load(),t.flush();else{var r=t._tempMatrix1,o=t._tempMatrix2,c=t._tempMatrix3;o.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),r.copyFrom(s.matrix),n?(r.multiplyWithOffset(n,-s.scrollX*t.scrollFactorX,-s.scrollY*t.scrollFactorY),o.e=t.x,o.f=t.y):(o.e-=s.scrollX*t.scrollFactorX,o.f-=s.scrollY*t.scrollFactorY),r.multiply(o,c),e.width===t._rendererWidth&&e.height===t._rendererHeight||t.projOrtho(0,e.width,e.height,0),t.load(c.matrix),t.flush()}e.rebindPipeline(a)}}},function(e,t){e.exports=function(){}},function(e,t,i){var s=i(134);i(5).register("mesh",(function(e,t,i,n,a,r,o,c){return this.displayList.add(new s(this.scene,e,t,i,n,a,r,o,c))}))},function(e,t,i){var s=i(203);i(5).register("quad",(function(e,t,i,n){return this.displayList.add(new s(this.scene,e,t,i,n))}))},function(e,t,i){var s=i(204);i(5).register("shader",(function(e,t,i,n,a,r,o){return this.displayList.add(new s(this.scene,e,t,i,n,a,r,o))}))},function(e,t,i){var s=i(27),n=i(16),a=i(15),r=i(6),o=i(134);n.register("mesh",(function(e,t){void 0===e&&(e={});var i=a(e,"key",null),n=a(e,"frame",null),c=r(e,"vertices",[]),h=r(e,"colors",[]),l=r(e,"alphas",[]),d=r(e,"uv",[]),u=new o(this.scene,0,0,c,d,h,l,i,n);return void 0!==t&&(e.add=t),s(this.scene,u,e),u}))},function(e,t,i){var s=i(27),n=i(16),a=i(15),r=i(203);n.register("quad",(function(e,t){void 0===e&&(e={});var i=a(e,"x",0),n=a(e,"y",0),o=a(e,"key",null),c=a(e,"frame",null),h=new r(this.scene,i,n,o,c);return void 0!==t&&(e.add=t),s(this.scene,h,e),h}))},function(e,t,i){var s=i(27),n=i(16),a=i(15),r=i(204);n.register("shader",(function(e,t){void 0===e&&(e={});var i=a(e,"key",null),n=a(e,"x",0),o=a(e,"y",0),c=a(e,"width",128),h=a(e,"height",128),l=new r(this.scene,i,n,o,c,h);return void 0!==t&&(e.add=t),s(this.scene,l,e),l}))},function(e,t,i){var s=i(0),n=i(429),a=i(23),r=i(22),o=new s({Extends:n,initialize:function(e){this.scene=e,this.systems=e.sys,e.sys.settings.isBooted||e.sys.events.once(r.BOOT,this.boot,this),n.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",o,"lights"),e.exports=o},function(e,t,i){var s=i(65);s.Area=i(1091),s.Circumference=i(268),s.CircumferencePoint=i(149),s.Clone=i(1092),s.Contains=i(55),s.ContainsPoint=i(1093),s.ContainsRect=i(1094),s.CopyFrom=i(1095),s.Equals=i(1096),s.GetBounds=i(1097),s.GetPoint=i(266),s.GetPoints=i(267),s.Offset=i(1098),s.OffsetPoint=i(1099),s.Random=i(150),e.exports=s},function(e,t){e.exports=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0}},function(e,t,i){var s=i(65);e.exports=function(e){return new s(e.x,e.y,e.radius)}},function(e,t,i){var s=i(55);e.exports=function(e,t){return s(e,t.x,t.y)}},function(e,t,i){var s=i(55);e.exports=function(e,t){return s(e,t.x,t.y)&&s(e,t.right,t.y)&&s(e,t.x,t.bottom)&&s(e,t.right,t.bottom)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x,e.y,e.radius)}},function(e,t){e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.radius===t.radius}},function(e,t,i){var s=i(11);e.exports=function(e,t){return void 0===t&&(t=new s),t.x=e.left,t.y=e.top,t.width=e.diameter,t.height=e.diameter,t}},function(e,t){e.exports=function(e,t,i){return e.x+=t,e.y+=i,e}},function(e,t){e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},function(e,t,i){var s=i(95);s.Area=i(1101),s.Circumference=i(400),s.CircumferencePoint=i(193),s.Clone=i(1102),s.Contains=i(96),s.ContainsPoint=i(1103),s.ContainsRect=i(1104),s.CopyFrom=i(1105),s.Equals=i(1106),s.GetBounds=i(1107),s.GetPoint=i(398),s.GetPoints=i(399),s.Offset=i(1108),s.OffsetPoint=i(1109),s.Random=i(157),e.exports=s},function(e,t){e.exports=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI}},function(e,t,i){var s=i(95);e.exports=function(e){return new s(e.x,e.y,e.width,e.height)}},function(e,t,i){var s=i(96);e.exports=function(e,t){return s(e,t.x,t.y)}},function(e,t,i){var s=i(96);e.exports=function(e,t){return s(e,t.x,t.y)&&s(e,t.right,t.y)&&s(e,t.x,t.bottom)&&s(e,t.right,t.bottom)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x,e.y,e.width,e.height)}},function(e,t){e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}},function(e,t,i){var s=i(11);e.exports=function(e,t){return void 0===t&&(t=new s),t.x=e.left,t.y=e.top,t.width=e.width,t.height=e.height,t}},function(e,t){e.exports=function(e,t,i){return e.x+=t,e.y+=i,e}},function(e,t){e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},function(e,t,i){var s=i(4),n=i(205);e.exports=function(e,t,i){if(void 0===i&&(i=[]),n(e,t)){var a,r,o,c,h=e.x,l=e.y,d=e.radius,u=t.x,p=t.y,f=t.radius;if(l===p)0==(o=(r=-2*p)*r-4*(a=1)*(u*u+(c=(f*f-d*d-u*u+h*h)/(2*(h-u)))*c-2*u*c+p*p-f*f))?i.push(new s(c,-r/(2*a))):o>0&&(i.push(new s(c,(-r+Math.sqrt(o))/(2*a))),i.push(new s(c,(-r-Math.sqrt(o))/(2*a))));else{var m=(h-u)/(l-p),g=(f*f-d*d-u*u+h*h-p*p+l*l)/(2*(l-p));0==(o=(r=2*l*m-2*g*m-2*h)*r-4*(a=m*m+1)*(h*h+l*l+g*g-d*d-2*l*g))?(c=-r/(2*a),i.push(new s(c,g-c*m))):o>0&&(c=(-r+Math.sqrt(o))/(2*a),i.push(new s(c,g-c*m)),c=(-r-Math.sqrt(o))/(2*a),i.push(new s(c,g-c*m)))}}return i}},function(e,t,i){var s=i(207),n=i(206);e.exports=function(e,t,i){if(void 0===i&&(i=[]),n(e,t)){var a=t.getLineA(),r=t.getLineB(),o=t.getLineC(),c=t.getLineD();s(a,e,i),s(r,e,i),s(o,e,i),s(c,e,i)}return i}},function(e,t,i){var s=i(11),n=i(135);e.exports=function(e,t,i){return void 0===i&&(i=new s),n(e,t)&&(i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.width=Math.min(e.right,t.right)-i.x,i.height=Math.min(e.bottom,t.bottom)-i.y),i}},function(e,t,i){var s=i(209),n=i(135);e.exports=function(e,t,i){if(void 0===i&&(i=[]),n(e,t)){var a=e.getLineA(),r=e.getLineB(),o=e.getLineC(),c=e.getLineD();s(a,t,i),s(r,t,i),s(o,t,i),s(c,t,i)}return i}},function(e,t,i){var s=i(433),n=i(209);e.exports=function(e,t,i){if(void 0===i&&(i=[]),s(e,t)){var a=t.getLineA(),r=t.getLineB(),o=t.getLineC();n(a,e,i),n(r,e,i),n(o,e,i)}return i}},function(e,t,i){var s=i(207),n=i(435);e.exports=function(e,t,i){if(void 0===i&&(i=[]),n(e,t)){var a=e.getLineA(),r=e.getLineB(),o=e.getLineC();s(a,t,i),s(r,t,i),s(o,t,i)}return i}},function(e,t,i){var s=i(438),n=i(436);e.exports=function(e,t,i){if(void 0===i&&(i=[]),s(e,t)){var a=t.getLineA(),r=t.getLineB(),o=t.getLineC();n(e,a,i),n(e,r,i),n(e,o,i)}return i}},function(e,t,i){var s=i(440);e.exports=function(e,t){if(!s(e,t))return!1;var i=Math.min(t.x1,t.x2),n=Math.max(t.x1,t.x2),a=Math.min(t.y1,t.y2),r=Math.max(t.y1,t.y2);return e.x>=i&&e.x<=n&&e.y>=a&&e.y<=r}},function(e,t){e.exports=function(e,t,i,s,n,a){return void 0===a&&(a=0),!(t>e.right+a||i<e.left-a||s>e.bottom+a||n<e.top-a)}},function(e,t,i){var s=i(56);s.Angle=i(85),s.BresenhamPoints=i(288),s.CenterOn=i(1120),s.Clone=i(1121),s.CopyFrom=i(1122),s.Equals=i(1123),s.Extend=i(1124),s.GetEasedPoints=i(1125),s.GetMidPoint=i(1126),s.GetNearestPoint=i(1127),s.GetNormal=i(1128),s.GetPoint=i(275),s.GetPoints=i(153),s.GetShortestDistance=i(1129),s.Height=i(1130),s.Length=i(57),s.NormalAngle=i(441),s.NormalX=i(1131),s.NormalY=i(1132),s.Offset=i(1133),s.PerpSlope=i(1134),s.Random=i(154),s.ReflectAngle=i(1135),s.Rotate=i(1136),s.RotateAroundPoint=i(1137),s.RotateAroundXY=i(211),s.SetToAngle=i(1138),s.Slope=i(1139),s.Width=i(1140),e.exports=s},function(e,t){e.exports=function(e,t,i){var s=t-(e.x1+e.x2)/2,n=i-(e.y1+e.y2)/2;return e.x1+=s,e.y1+=n,e.x2+=s,e.y2+=n,e}},function(e,t,i){var s=i(56);e.exports=function(e){return new s(e.x1,e.y1,e.x2,e.y2)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x1,e.y1,e.x2,e.y2)}},function(e,t){e.exports=function(e,t){return e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2}},function(e,t,i){var s=i(57);e.exports=function(e,t,i){void 0===i&&(i=t);var n=s(e),a=e.x2-e.x1,r=e.y2-e.y1;return t&&(e.x1=e.x1-a/n*t,e.y1=e.y1-r/n*t),i&&(e.x2=e.x2+a/n*i,e.y2=e.y2+r/n*i),e}},function(e,t,i){var s=i(320),n=i(69),a=i(4);e.exports=function(e,t,i,r,o){void 0===r&&(r=0),void 0===o&&(o=[]);var c,h,l=[],d=e.x1,u=e.y1,p=e.x2-d,f=e.y2-u,m=n(t,o),g=i-1;for(c=0;c<g;c++)h=m(c/g),l.push(new a(d+p*h,u+f*h));if(h=m(1),l.push(new a(d+p*h,u+f*h)),r>0){var y=l[0],v=[y];for(c=1;c<l.length-1;c++){var w=l[c];s(y,w)>=r&&(v.push(w),y=w)}var b=l[l.length-1];return s(y,b)<r&&v.pop(),v.push(b),v}return l}},function(e,t,i){var s=i(4);e.exports=function(e,t){return void 0===t&&(t=new s),t.x=(e.x1+e.x2)/2,t.y=(e.y1+e.y2)/2,t}},function(e,t,i){var s=i(4);e.exports=function(e,t,i){void 0===i&&(i=new s);var n=e.x1,a=e.y1,r=e.x2,o=e.y2,c=(r-n)*(r-n)+(o-a)*(o-a);if(0===c)return i;var h=((t.x-n)*(r-n)+(t.y-a)*(o-a))/c;return i.x=n+h*(r-n),i.y=a+h*(o-a),i}},function(e,t,i){var s=i(13),n=i(85),a=i(4);e.exports=function(e,t){void 0===t&&(t=new a);var i=n(e)-s.TAU;return t.x=Math.cos(i),t.y=Math.sin(i),t}},function(e,t){e.exports=function(e,t){var i=e.x1,s=e.y1,n=e.x2,a=e.y2,r=(n-i)*(n-i)+(a-s)*(a-s);if(0===r)return!1;var o=((s-t.y)*(n-i)-(i-t.x)*(a-s))/r;return Math.abs(o)*Math.sqrt(r)}},function(e,t){e.exports=function(e){return Math.abs(e.y1-e.y2)}},function(e,t,i){var s=i(13),n=i(85);e.exports=function(e){return Math.cos(n(e)-s.TAU)}},function(e,t,i){var s=i(13),n=i(85);e.exports=function(e){return Math.sin(n(e)-s.TAU)}},function(e,t){e.exports=function(e,t,i){return e.x1+=t,e.y1+=i,e.x2+=t,e.y2+=i,e}},function(e,t){e.exports=function(e){return-(e.x2-e.x1)/(e.y2-e.y1)}},function(e,t,i){var s=i(85),n=i(441);e.exports=function(e,t){return 2*n(t)-Math.PI-s(e)}},function(e,t,i){var s=i(211);e.exports=function(e,t){var i=(e.x1+e.x2)/2,n=(e.y1+e.y2)/2;return s(e,i,n,t)}},function(e,t,i){var s=i(211);e.exports=function(e,t,i){return s(e,t.x,t.y,i)}},function(e,t){e.exports=function(e,t,i,s,n){return e.x1=t,e.y1=i,e.x2=t+Math.cos(s)*n,e.y2=i+Math.sin(s)*n,e}},function(e,t){e.exports=function(e){return(e.y2-e.y1)/(e.x2-e.x1)}},function(e,t){e.exports=function(e){return Math.abs(e.x1-e.x2)}},function(e,t,i){var s=i(4);s.Ceil=i(1142),s.Clone=i(1143),s.CopyFrom=i(1144),s.Equals=i(1145),s.Floor=i(1146),s.GetCentroid=i(1147),s.GetMagnitude=i(442),s.GetMagnitudeSq=i(443),s.GetRectangleFromPoints=i(1148),s.Interpolate=i(1149),s.Invert=i(1150),s.Negative=i(1151),s.Project=i(1152),s.ProjectUnit=i(1153),s.SetMagnitude=i(1154),e.exports=s},function(e,t){e.exports=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))}},function(e,t,i){var s=i(4);e.exports=function(e){return new s(e.x,e.y)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x,e.y)}},function(e,t){e.exports=function(e,t){return e.x===t.x&&e.y===t.y}},function(e,t){e.exports=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))}},function(e,t,i){var s=i(4);e.exports=function(e,t){if(void 0===t&&(t=new s),!Array.isArray(e))throw new Error("GetCentroid points argument must be an array");var i=e.length;if(i<1)throw new Error("GetCentroid points array must not be empty");if(1===i)t.x=e[0].x,t.y=e[0].y;else{for(var n=0;n<i;n++)t.x+=e[n].x,t.y+=e[n].y;t.x/=i,t.y/=i}return t}},function(e,t,i){var s=i(11);e.exports=function(e,t){void 0===t&&(t=new s);for(var i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=0;o<e.length;o++){var c=e[o];c.x>i&&(i=c.x),c.x<n&&(n=c.x),c.y>a&&(a=c.y),c.y<r&&(r=c.y)}return t.x=n,t.y=r,t.width=i-n,t.height=a-r,t}},function(e,t,i){var s=i(4);e.exports=function(e,t,i,n){return void 0===i&&(i=0),void 0===n&&(n=new s),n.x=e.x+(t.x-e.x)*i,n.y=e.y+(t.y-e.y)*i,n}},function(e,t){e.exports=function(e){return e.setTo(e.y,e.x)}},function(e,t,i){var s=i(4);e.exports=function(e,t){return void 0===t&&(t=new s),t.setTo(-e.x,-e.y)}},function(e,t,i){var s=i(4),n=i(443);e.exports=function(e,t,i){void 0===i&&(i=new s);var a=(e.x*t.x+e.y*t.y)/n(t);return 0!==a&&(i.x=a*t.x,i.y=a*t.y),i}},function(e,t,i){var s=i(4);e.exports=function(e,t,i){void 0===i&&(i=new s);var n=e.x*t.x+e.y*t.y;return 0!==n&&(i.x=n*t.x,i.y=n*t.y),i}},function(e,t,i){var s=i(442);e.exports=function(e,t){if(0!==e.x||0!==e.y){var i=s(e);e.x/=i,e.y/=i}return e.x*=t,e.y*=t,e}},function(e,t,i){var s=i(201);s.Clone=i(1156),s.Contains=i(202),s.ContainsPoint=i(1157),s.GetAABB=i(418),s.GetNumberArray=i(1158),s.GetPoints=i(419),s.Perimeter=i(420),s.Reverse=i(1159),s.Smooth=i(421),e.exports=s},function(e,t,i){var s=i(201);e.exports=function(e){return new s(e.points)}},function(e,t,i){var s=i(202);e.exports=function(e,t){return s(e,t.x,t.y)}},function(e,t){e.exports=function(e,t){void 0===t&&(t=[]);for(var i=0;i<e.points.length;i++)t.push(e.points[i].x),t.push(e.points[i].y);return t}},function(e,t){e.exports=function(e){return e.points.reverse(),e}},function(e,t){e.exports=function(e){return e.width*e.height}},function(e,t){e.exports=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e}},function(e,t){e.exports=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e}},function(e,t,i){var s=i(11);e.exports=function(e){return new s(e.x,e.y,e.width,e.height)}},function(e,t,i){var s=i(48);e.exports=function(e,t){return s(e,t.x,t.y)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x,e.y,e.width,e.height)}},function(e,t){e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}},function(e,t,i){var s=i(212);e.exports=function(e,t){var i=s(e);return i<s(t)?e.setSize(t.height*i,t.height):e.setSize(t.width,t.width/i),e.setPosition(t.centerX-e.width/2,t.centerY-e.height/2)}},function(e,t,i){var s=i(212);e.exports=function(e,t){var i=s(e);return i>s(t)?e.setSize(t.height*i,t.height):e.setSize(t.width,t.width/i),e.setPosition(t.centerX-e.width/2,t.centerY-e.height/2)}},function(e,t){e.exports=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e}},function(e,t){e.exports=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e}},function(e,t,i){var s=i(11);e.exports=function(e,t,i,n,a){return void 0===a&&(a=new s),a.setTo(Math.min(e,i),Math.min(t,n),Math.abs(e-i),Math.abs(t-n))}},function(e,t,i){var s=i(4);e.exports=function(e,t){return void 0===t&&(t=new s),t.x=e.centerX,t.y=e.centerY,t}},function(e,t,i){var s=i(4);e.exports=function(e,t){return void 0===t&&(t=new s),t.x=e.width,t.y=e.height,t}},function(e,t,i){var s=i(168);e.exports=function(e,t,i){var n=e.centerX,a=e.centerY;return e.setSize(e.width+2*t,e.height+2*i),s(e,n,a)}},function(e,t,i){var s=i(11),n=i(135);e.exports=function(e,t,i){return void 0===i&&(i=new s),n(e,t)?(i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.width=Math.min(e.right,t.right)-i.x,i.height=Math.min(e.bottom,t.bottom)-i.y):i.setEmpty(),i}},function(e,t){e.exports=function(e,t){for(var i=e.x,s=e.right,n=e.y,a=e.bottom,r=0;r<t.length;r++)i=Math.min(i,t[r].x),s=Math.max(s,t[r].x),n=Math.min(n,t[r].y),a=Math.max(a,t[r].y);return e.x=i,e.y=n,e.width=s-i,e.height=a-n,e}},function(e,t){e.exports=function(e,t){var i=Math.min(e.x,t.x),s=Math.max(e.right,t.right);e.x=i,e.width=s-i;var n=Math.min(e.y,t.y),a=Math.max(e.bottom,t.bottom);return e.y=n,e.height=a-n,e}},function(e,t){e.exports=function(e,t,i){var s=Math.min(e.x,t),n=Math.max(e.right,t);e.x=s,e.width=n-s;var a=Math.min(e.y,i),r=Math.max(e.bottom,i);return e.y=a,e.height=r-a,e}},function(e,t){e.exports=function(e,t,i){return e.x+=t,e.y+=i,e}},function(e,t){e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},function(e,t){e.exports=function(e,t){return e.x<t.right&&e.right>t.x&&e.y<t.bottom&&e.bottom>t.y}},function(e,t,i){var s=i(4),n=i(39);e.exports=function(e,t,i){void 0===i&&(i=new s),t=n(t);var a=Math.sin(t),r=Math.cos(t),o=r>0?e.width/2:e.width/-2,c=a>0?e.height/2:e.height/-2;return Math.abs(o*a)<Math.abs(c*r)?c=o*a/r:o=c*r/a,i.x=o+e.centerX,i.y=c+e.centerY,i}},function(e,t,i){var s=i(172),n=i(445),a=i(4);e.exports=function(e,t,i){if(void 0===i&&(i=new a),n(e,t))switch(s(0,3)){case 0:i.x=e.x+Math.random()*(t.right-e.x),i.y=e.y+Math.random()*(t.top-e.y);break;case 1:i.x=t.x+Math.random()*(e.right-t.x),i.y=t.bottom+Math.random()*(e.bottom-t.bottom);break;case 2:i.x=e.x+Math.random()*(t.x-e.x),i.y=t.y+Math.random()*(e.bottom-t.y);break;case 3:i.x=t.right+Math.random()*(e.right-t.right),i.y=e.y+Math.random()*(t.bottom-e.y)}return i}},function(e,t){e.exports=function(e,t){return e.width===t.width&&e.height===t.height}},function(e,t){e.exports=function(e,t,i){return void 0===i&&(i=t),e.width*=t,e.height*=i,e}},function(e,t,i){var s=i(71);s.Area=i(1187),s.BuildEquilateral=i(1188),s.BuildFromPolygon=i(1189),s.BuildRight=i(1190),s.CenterOn=i(1191),s.Centroid=i(446),s.CircumCenter=i(1192),s.CircumCircle=i(1193),s.Clone=i(1194),s.Contains=i(83),s.ContainsArray=i(210),s.ContainsPoint=i(1195),s.CopyFrom=i(1196),s.Decompose=i(439),s.Equals=i(1197),s.GetPoint=i(425),s.GetPoints=i(426),s.InCenter=i(448),s.Perimeter=i(1198),s.Offset=i(447),s.Random=i(158),s.Rotate=i(1199),s.RotateAroundPoint=i(1200),s.RotateAroundXY=i(213),e.exports=s},function(e,t){e.exports=function(e){var t=e.x1,i=e.y1,s=e.x2,n=e.y2,a=e.x3,r=e.y3;return Math.abs(((a-t)*(n-i)-(s-t)*(r-i))/2)}},function(e,t,i){var s=i(71);e.exports=function(e,t,i){var n=i*(Math.sqrt(3)/2);return new s(e,t,e+i/2,t+n,e-i/2,t+n)}},function(e,t,i){var s=i(66),n=i(71);e.exports=function(e,t,i,a,r){void 0===t&&(t=null),void 0===i&&(i=1),void 0===a&&(a=1),void 0===r&&(r=[]);for(var o,c,h,l,d,u,p,f,m,g=s(e,t),y=0;y<g.length;y+=3)o=g[y],c=g[y+1],h=g[y+2],l=e[2*o]*i,d=e[2*o+1]*a,u=e[2*c]*i,p=e[2*c+1]*a,f=e[2*h]*i,m=e[2*h+1]*a,r.push(new n(l,d,u,p,f,m));return r}},function(e,t,i){var s=i(71);e.exports=function(e,t,i,n){return void 0===n&&(n=i),new s(e,t,e,t-n,e+i,t)}},function(e,t,i){var s=i(446),n=i(447);e.exports=function(e,t,i,a){void 0===a&&(a=s);var r=a(e),o=t-r.x,c=i-r.y;return n(e,o,c)}},function(e,t,i){var s=i(3);function n(e,t,i,s){return e*s-t*i}e.exports=function(e,t){void 0===t&&(t=new s);var i=e.x3,a=e.y3,r=e.x1-i,o=e.y1-a,c=e.x2-i,h=e.y2-a,l=2*n(r,o,c,h),d=n(o,r*r+o*o,h,c*c+h*h),u=n(r,r*r+o*o,c,c*c+h*h);return t.x=i-d/l,t.y=a+u/l,t}},function(e,t,i){var s=i(65);e.exports=function(e,t){void 0===t&&(t=new s);var i,n,a=e.x1,r=e.y1,o=e.x2,c=e.y2,h=e.x3,l=e.y3,d=o-a,u=c-r,p=h-a,f=l-r,m=d*(a+o)+u*(r+c),g=p*(a+h)+f*(r+l),y=2*(d*(l-c)-u*(h-o));if(Math.abs(y)<1e-6){var v=Math.min(a,o,h),w=Math.min(r,c,l);i=.5*(Math.max(a,o,h)-v),n=.5*(Math.max(r,c,l)-w),t.x=v+i,t.y=w+n,t.radius=Math.sqrt(i*i+n*n)}else t.x=(f*m-u*g)/y,t.y=(d*g-p*m)/y,i=t.x-a,n=t.y-r,t.radius=Math.sqrt(i*i+n*n);return t}},function(e,t,i){var s=i(71);e.exports=function(e){return new s(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)}},function(e,t,i){var s=i(83);e.exports=function(e,t){return s(e,t.x,t.y)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)}},function(e,t){e.exports=function(e,t){return e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2&&e.x3===t.x3&&e.y3===t.y3}},function(e,t,i){var s=i(57);e.exports=function(e){var t=e.getLineA(),i=e.getLineB(),n=e.getLineC();return s(t)+s(i)+s(n)}},function(e,t,i){var s=i(213),n=i(448);e.exports=function(e,t){var i=n(e);return s(e,i.x,i.y,t)}},function(e,t,i){var s=i(213);e.exports=function(e,t,i){return s(e,t.x,t.y,i)}},function(e,t,i){var s=i(179),n=i(18),a={CreateInteractiveObject:i(449),Events:i(54),Gamepad:i(1202),InputManager:i(365),InputPlugin:i(1214),InputPluginCache:i(136),Keyboard:i(1216),Mouse:i(1233),Pointer:i(368),Touch:i(1234)};a=n(!1,a,s),e.exports=a},function(e,t,i){e.exports={Axis:i(450),Button:i(451),Events:i(214),Gamepad:i(452),GamepadPlugin:i(1209),Configs:i(1210)}},function(e,t){e.exports="down"},function(e,t){e.exports="up"},function(e,t){e.exports="connected"},function(e,t){e.exports="disconnected"},function(e,t){e.exports="down"},function(e,t){e.exports="up"},function(e,t,i){var s=i(0),n=i(10),a=i(214),r=i(452),o=i(6),c=i(136),h=i(54),l=new s({Extends:n,initialize:function(e){n.call(this),this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,e.pluginEvents.once(h.BOOT,this.boot,this),e.pluginEvents.on(h.START,this.start,this)},boot:function(){var e=this.scene.sys.game,t=this.settings.input,i=e.config;this.enabled=o(t,"gamepad",i.inputGamepad)&&e.device.input.gamepads,this.target=o(t,"gamepad.target",i.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var e=this,t=this.target,i=function(t){!t.defaultPrevented&&e.isActive()&&(e.refreshPads(),e.queue.push(t))};this.onGamepadHandler=i,t.addEventListener("gamepadconnected",i,!1),t.addEventListener("gamepaddisconnected",i,!1),this.sceneInputPlugin.pluginEvents.on(h.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(h.UPDATE,this.update)},disconnectAll:function(){for(var e=0;e<this.gamepads.length;e++)this.gamepads.connected=!1},refreshPads:function(){var e=navigator.getGamepads();if(e)for(var t=this.gamepads,i=0;i<e.length;i++){var s=e[i];if(s){var n=s.id,a=s.index,o=t[a];if(o)o.id!==n?(o.destroy(),t[a]=new r(this,s)):o.update(s);else{var c=new r(this,s);t[a]=c,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=c):this._pad3=c:this._pad2=c:this._pad1=c}}}else this.disconnectAll()},getAll:function(){for(var e=[],t=this.gamepads,i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e},getPad:function(e){for(var t=this.gamepads,i=0;i<t.length;i++)if(t[i]&&t[i].index===e)return t[i]},update:function(){if(this.enabled){this.refreshPads();var e=this.queue.length;if(0!==e)for(var t=this.queue.splice(0,e),i=0;i<e;i++){var s=t[i],n=this.getPad(s.gamepad.index);"gamepadconnected"===s.type?this.emit(a.CONNECTED,n,s):"gamepaddisconnected"===s.type&&this.emit(a.DISCONNECTED,n,s)}}},shutdown:function(){this.stopListeners(),this.disconnectAll(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var e=0;e<this.gamepads.length;e++)this.gamepads[e]&&this.gamepads[e].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});c.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),e.exports=l},function(e,t,i){e.exports={DUALSHOCK_4:i(1211),SNES_USB:i(1212),XBOX_360:i(1213)}},function(e,t){e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(e,t){e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(e,t){e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(e,t,i){var s=i(65),n=i(55),a=i(0),r=i(179),o=i(449),c=i(1215),h=i(53),l=i(95),d=i(96),u=i(54),p=i(10),f=i(2),m=i(47),g=i(136),y=i(7),v=i(23),w=i(11),b=i(48),x=i(22),k=i(71),T=i(83),_=new a({Extends:p,initialize:function(e){p.call(this),this.scene=e,this.systems=e.sys,this.settings=e.sys.settings,this.manager=e.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,g.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var t={cancelled:!1};this._eventContainer={stopPropagation:function(){t.cancelled=!0}},this._eventData=t,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,e.sys.events.once(x.BOOT,this.boot,this),e.sys.events.on(x.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(x.DESTROY,this.destroy,this),this.pluginEvents.emit(u.BOOT)},start:function(){var e=this.systems.events;e.on(x.TRANSITION_START,this.transitionIn,this),e.on(x.TRANSITION_OUT,this.transitionOut,this),e.on(x.TRANSITION_COMPLETE,this.transitionComplete,this),e.on(x.PRE_UPDATE,this.preUpdate,this),e.once(x.SHUTDOWN,this.shutdown,this),this.manager.events.on(u.GAME_OUT,this.onGameOut,this),this.manager.events.on(u.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(u.START)},onGameOver:function(e){this.isActive()&&this.emit(u.GAME_OVER,e.timeStamp,e)},onGameOut:function(e){this.isActive()&&this.emit(u.GAME_OUT,e.timeStamp,e)},preUpdate:function(){this.pluginEvents.emit(u.PRE_UPDATE);var e=this._pendingRemoval,t=this._pendingInsertion,i=e.length,s=t.length;if(0!==i||0!==s){for(var n=this._list,a=0;a<i;a++){var r=e[a],o=n.indexOf(r);o>-1&&(n.splice(o,1),this.clear(r,!0))}e.length=0,this._pendingRemoval.length=0,this._list=n.concat(t.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(e,t){if(!this.isActive())return!1;if(this.pluginEvents.emit(u.UPDATE,e,t),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var i,s=this.manager,n=s.pointers,a=s.pointersTotal;for(i=0;i<a;i++)n[i].updateMotion();if(0===this._list.length)return!1;var r=this.pollRate;if(-1===r)return!1;if(r>0){if(this._pollTimer-=t,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var o=!1;for(i=0;i<a;i++){var c=0,h=n[i];this._tempZones=[],this._temp=this.hitTestPointer(h),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),c+=this.processOverOutEvents(h),2===this.getDragState(h)&&this.processDragThresholdEvent(h,e),c>0&&(o=!0)}return o},update:function(e,t){if(!this.isActive())return!1;for(var i=t.length,s=!1,n=0;n<i;n++){var a=0,o=t[n];switch(this._tempZones=[],this._temp=this.hitTestPointer(o),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),e){case r.MOUSE_DOWN:a+=this.processDragDownEvent(o),a+=this.processDownEvents(o),a+=this.processOverOutEvents(o);break;case r.MOUSE_UP:a+=this.processDragUpEvent(o),a+=this.processUpEvents(o),a+=this.processOverOutEvents(o);break;case r.TOUCH_START:a+=this.processDragDownEvent(o),a+=this.processDownEvents(o),a+=this.processOverEvents(o);break;case r.TOUCH_END:case r.TOUCH_CANCEL:a+=this.processDragUpEvent(o),a+=this.processUpEvents(o),a+=this.processOutEvents(o);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:a+=this.processDragMoveEvent(o),a+=this.processMoveEvents(o),a+=this.processOverOutEvents(o);break;case r.MOUSE_WHEEL:a+=this.processWheelEvent(o)}a>0&&(s=!0)}return this._updatedThisFrame=!0,s},clear:function(e,t){void 0===t&&(t=!1);var i=e.input;if(i){t||this.queueForRemoval(e),i.gameObject=void 0,i.target=void 0,i.hitArea=void 0,i.hitAreaCallback=void 0,i.callbackContext=void 0,this.manager.resetCursor(i),e.input=null;var s=this._draggable.indexOf(e);return s>-1&&this._draggable.splice(s,1),(s=this._drag[0].indexOf(e))>-1&&this._drag[0].splice(s,1),(s=this._over[0].indexOf(e))>-1&&this._over[0].splice(s,1),e}},disable:function(e){e.input.enabled=!1},enable:function(e,t,i,s){return void 0===s&&(s=!1),e.input?e.input.enabled=!0:this.setHitArea(e,t,i),e.input&&s&&!e.input.dropZone&&(e.input.dropZone=s),this},hitTestPointer:function(e){for(var t=this.cameras.getCamerasBelowPointer(e),i=0;i<t.length;i++){for(var s=t[i],n=this.manager.hitTest(e,this._list,s),a=0;a<n.length;a++){var r=n[a];r.input.dropZone&&this._tempZones.push(r)}if(n.length>0)return e.camera=s,n}return e.camera=t[0],[]},processDownEvents:function(e){var t=0,i=this._temp,s=this._eventData,n=this._eventContainer;s.cancelled=!1;for(var a=!1,r=0;r<i.length;r++){var o=i[r];if(o.input){if(t++,o.emit(u.GAMEOBJECT_POINTER_DOWN,e,o.input.localX,o.input.localY,n),s.cancelled||!o.input){a=!0;break}if(this.emit(u.GAMEOBJECT_DOWN,e,o,n),s.cancelled||!o.input){a=!0;break}}}return!a&&this.manager&&(e.downElement===this.manager.game.canvas?this.emit(u.POINTER_DOWN,e,i):this.emit(u.POINTER_DOWN_OUTSIDE,e)),t},getDragState:function(e){return this._dragState[e.id]},setDragState:function(e,t){this._dragState[e.id]=t},processDragThresholdEvent:function(e,t){var i=!1,s=this.dragTimeThreshold,n=this.dragDistanceThreshold;if((n>0&&h(e.x,e.y,e.downX,e.downY)>=n||s>0&&t>=e.downTime+s)&&(i=!0),i)return this.setDragState(e,3),this.processDragStartList(e)},processDragStartList:function(e){if(3!==this.getDragState(e))return 0;for(var t=this._drag[e.id],i=0;i<t.length;i++){var s=t[i],n=s.input;n.dragState=2,n.dragStartX=s.x,n.dragStartY=s.y,n.dragStartXGlobal=e.worldX,n.dragStartYGlobal=e.worldY,n.dragX=n.dragStartXGlobal-n.dragStartX,n.dragY=n.dragStartYGlobal-n.dragStartY,s.emit(u.GAMEOBJECT_DRAG_START,e,n.dragX,n.dragY),this.emit(u.DRAG_START,e,s)}return this.setDragState(e,4),t.length},processDragDownEvent:function(e){var t=this._temp;if(0===this._draggable.length||0===t.length||!e.primaryDown||0!==this.getDragState(e))return 0;this.setDragState(e,1);for(var i=[],s=0;s<t.length;s++){var n=t[s];n.input.draggable&&0===n.input.dragState&&i.push(n)}return 0===i.length?(this.setDragState(e,0),0):(i.length>1&&(this.sortGameObjects(i),this.topOnly&&i.splice(1)),this._drag[e.id]=i,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(e,3),this.processDragStartList(e)):(this.setDragState(e,2),0))},processDragMoveEvent:function(e){if(2===this.getDragState(e)&&this.processDragThresholdEvent(e,this.manager.game.loop.now),4!==this.getDragState(e))return 0;for(var t=this._tempZones,i=this._drag[e.id],s=0;s<i.length;s++){var n,a,r=i[s],o=r.input,c=o.target;if(c){var h=t.indexOf(c);0===h?(r.emit(u.GAMEOBJECT_DRAG_OVER,e,c),this.emit(u.DRAG_OVER,e,r,c)):h>0?(r.emit(u.GAMEOBJECT_DRAG_LEAVE,e,c),this.emit(u.DRAG_LEAVE,e,r,c),o.target=t[0],c=o.target,r.emit(u.GAMEOBJECT_DRAG_ENTER,e,c),this.emit(u.DRAG_ENTER,e,r,c)):(r.emit(u.GAMEOBJECT_DRAG_LEAVE,e,c),this.emit(u.DRAG_LEAVE,e,r,c),t[0]?(o.target=t[0],c=o.target,r.emit(u.GAMEOBJECT_DRAG_ENTER,e,c),this.emit(u.DRAG_ENTER,e,r,c)):o.target=null)}else!c&&t[0]&&(o.target=t[0],c=o.target,r.emit(u.GAMEOBJECT_DRAG_ENTER,e,c),this.emit(u.DRAG_ENTER,e,r,c));if(r.parentContainer){var l=e.worldX-o.dragStartXGlobal,d=e.worldY-o.dragStartYGlobal,p=r.getParentRotation(),f=l*Math.cos(p)+d*Math.sin(p),m=d*Math.cos(p)-l*Math.sin(p);f*=1/r.parentContainer.scaleX,m*=1/r.parentContainer.scaleY,n=f+o.dragStartX,a=m+o.dragStartY}else n=e.worldX-o.dragX,a=e.worldY-o.dragY;r.emit(u.GAMEOBJECT_DRAG,e,n,a),this.emit(u.DRAG,e,r,n,a)}return i.length},processDragUpEvent:function(e){for(var t=this._drag[e.id],i=0;i<t.length;i++){var s=t[i],n=s.input;if(n&&2===n.dragState){n.dragState=0,n.dragX=n.localX-s.displayOriginX,n.dragY=n.localY-s.displayOriginY;var a=!1,r=n.target;r&&(s.emit(u.GAMEOBJECT_DROP,e,r),this.emit(u.DROP,e,s,r),n.target=null,a=!0),s.input&&(s.emit(u.GAMEOBJECT_DRAG_END,e,n.dragX,n.dragY,a),this.emit(u.DRAG_END,e,s,a))}}return this.setDragState(e,0),t.splice(0),0},processMoveEvents:function(e){var t=0,i=this._temp,s=this._eventData,n=this._eventContainer;s.cancelled=!1;for(var a=!1,r=0;r<i.length;r++){var o=i[r];if(o.input){if(t++,o.emit(u.GAMEOBJECT_POINTER_MOVE,e,o.input.localX,o.input.localY,n),s.cancelled||!o.input){a=!0;break}if(this.emit(u.GAMEOBJECT_MOVE,e,o,n),s.cancelled||!o.input){a=!0;break}if(this.topOnly)break}}return a||this.emit(u.POINTER_MOVE,e,i),t},processWheelEvent:function(e){var t=0,i=this._temp,s=this._eventData,n=this._eventContainer;s.cancelled=!1;for(var a=!1,r=e.deltaX,o=e.deltaY,c=e.deltaZ,h=0;h<i.length;h++){var l=i[h];if(l.input){if(t++,l.emit(u.GAMEOBJECT_POINTER_WHEEL,e,r,o,c,n),s.cancelled||!l.input){a=!0;break}if(this.emit(u.GAMEOBJECT_WHEEL,e,l,r,o,c,n),s.cancelled||!l.input){a=!0;break}}}return a||this.emit(u.POINTER_WHEEL,e,i,r,o,c),t},processOverEvents:function(e){var t=this._temp,i=0,s=t.length,n=[];if(s>0){var a=this.manager,r=this._eventData,o=this._eventContainer;r.cancelled=!1;for(var c=!1,h=0;h<s;h++){var l=t[h];if(l.input){if(n.push(l),a.setCursor(l.input),l.emit(u.GAMEOBJECT_POINTER_OVER,e,l.input.localX,l.input.localY,o),i++,r.cancelled||!l.input){c=!0;break}if(this.emit(u.GAMEOBJECT_OVER,e,l,o),r.cancelled||!l.input){c=!0;break}}}c||this.emit(u.POINTER_OVER,e,n)}return this._over[e.id]=n,i},processOutEvents:function(e){var t=this._over[e.id],i=0,s=t.length;if(s>0){var n=this.manager,a=this._eventData,r=this._eventContainer;a.cancelled=!1;var o=!1;this.sortGameObjects(t);for(var c=0;c<s;c++){var h=t[c];for(c=0;c<s;c++)if((h=t[c]).input){if(n.resetCursor(h.input),h.emit(u.GAMEOBJECT_POINTER_OUT,e,r),i++,a.cancelled||!h.input){o=!0;break}if(this.emit(u.GAMEOBJECT_OUT,e,h,r),a.cancelled||!h.input){o=!0;break}}o||this.emit(u.POINTER_OUT,e,t)}this._over[e.id]=[]}return i},processOverOutEvents:function(e){var t,i,s=this._temp,n=[],a=[],r=[],o=this._over[e.id],c=this._drag[e.id],h=this.manager;for(t=0;t<o.length;t++)i=o[t],-1===s.indexOf(i)&&-1===c.indexOf(i)?n.push(i):r.push(i);for(t=0;t<s.length;t++)i=s[t],-1===o.indexOf(i)&&a.push(i);var l=n.length,d=0,p=this._eventData,f=this._eventContainer;p.cancelled=!1;var m=!1;if(l>0){for(this.sortGameObjects(n),t=0;t<l;t++)if((i=n[t]).input){if(h.resetCursor(i.input),i.emit(u.GAMEOBJECT_POINTER_OUT,e,f),d++,p.cancelled||!i.input){m=!0;break}if(this.emit(u.GAMEOBJECT_OUT,e,i,f),p.cancelled||!i.input){m=!0;break}}m||this.emit(u.POINTER_OUT,e,n)}if(l=a.length,p.cancelled=!1,m=!1,l>0){for(this.sortGameObjects(a),t=0;t<l;t++)if((i=a[t]).input){if(h.setCursor(i.input),i.emit(u.GAMEOBJECT_POINTER_OVER,e,i.input.localX,i.input.localY,f),d++,p.cancelled||!i.input){m=!0;break}if(this.emit(u.GAMEOBJECT_OVER,e,i,f),p.cancelled||!i.input){m=!0;break}}m||this.emit(u.POINTER_OVER,e,a)}return o=r.concat(a),this._over[e.id]=this.sortGameObjects(o),d},processUpEvents:function(e){var t=this._temp,i=this._eventData,s=this._eventContainer;i.cancelled=!1;for(var n=!1,a=0;a<t.length;a++){var r=t[a];if(r.input){if(r.emit(u.GAMEOBJECT_POINTER_UP,e,r.input.localX,r.input.localY,s),i.cancelled||!r.input){n=!0;break}if(this.emit(u.GAMEOBJECT_UP,e,r,s),i.cancelled||!r.input){n=!0;break}}}return!n&&this.manager&&(e.upElement===this.manager.game.canvas?this.emit(u.POINTER_UP,e,t):this.emit(u.POINTER_UP_OUTSIDE,e)),t.length},queueForInsertion:function(e){return-1===this._pendingInsertion.indexOf(e)&&-1===this._list.indexOf(e)&&this._pendingInsertion.push(e),this},queueForRemoval:function(e){return this._pendingRemoval.push(e),this},setDraggable:function(e,t){void 0===t&&(t=!0),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var s=e[i];s.input.draggable=t;var n=this._draggable.indexOf(s);t&&-1===n?this._draggable.push(s):!t&&n>-1&&this._draggable.splice(n,1)}return this},makePixelPerfect:function(e){void 0===e&&(e=1);var t=this.systems.textures;return c(t,e)},setHitArea:function(e,t,i){if(void 0===t)return this.setHitAreaFromTexture(e);Array.isArray(e)||(e=[e]);var s=!1,n=!1,a=!1,r=!1,c=!1,h=!0;if(y(t)){var l=t;t=f(l,"hitArea",null),i=f(l,"hitAreaCallback",null),s=f(l,"draggable",!1),n=f(l,"dropZone",!1),a=f(l,"cursor",!1),r=f(l,"useHandCursor",!1),c=f(l,"pixelPerfect",!1);var d=f(l,"alphaTolerance",1);c&&(t={},i=this.makePixelPerfect(d)),t&&i||(this.setHitAreaFromTexture(e),h=!1)}else"function"!=typeof t||i||(i=t,t={});for(var u=0;u<e.length;u++){var p=e[u];if(c&&"Container"===p.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var m=p.input?p.input:o(p,t,i);m.customHitArea=h,m.dropZone=n,m.cursor=r?"pointer":a,p.input=m,s&&this.setDraggable(p),this.queueForInsertion(p)}}return this},setHitAreaCircle:function(e,t,i,a,r){void 0===r&&(r=n);var o=new s(t,i,a);return this.setHitArea(e,o,r)},setHitAreaEllipse:function(e,t,i,s,n,a){void 0===a&&(a=d);var r=new l(t,i,s,n);return this.setHitArea(e,r,a)},setHitAreaFromTexture:function(e,t){void 0===t&&(t=b),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var s=e[i],n=s.frame,a=0,r=0;s.width?(a=s.width,r=s.height):n&&(a=n.realWidth,r=n.realHeight),"Container"!==s.type||0!==a&&0!==r?0!==a&&0!==r&&(s.input=o(s,new w(0,0,a,r),t),this.queueForInsertion(s)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(e,t,i,s,n,a){void 0===a&&(a=b);var r=new w(t,i,s,n);return this.setHitArea(e,r,a)},setHitAreaTriangle:function(e,t,i,s,n,a,r,o){void 0===o&&(o=T);var c=new k(t,i,s,n,a,r);return this.setHitArea(e,c,o)},enableDebug:function(e,t){void 0===t&&(t=65280);var i=e.input;if(!i||!i.hitArea)return this;var s=i.hitArea,n=s.type,a=i.hitAreaDebug,r=this.systems.add,o=this.systems.updateList;a&&(o.remove(a),a.destroy(),a=null);var c=0,h=0;switch(n){case m.CIRCLE:a=r.arc(0,0,s.radius),c=s.x-s.radius,h=s.y-s.radius;break;case m.ELLIPSE:a=r.ellipse(0,0,s.width,s.height),c=s.x-s.width/2,h=s.y-s.height/2;break;case m.LINE:a=r.line(0,0,s.x1,s.y1,s.x2,s.y2);break;case m.POLYGON:a=r.polygon(0,0,s.points);break;case m.RECTANGLE:a=r.rectangle(0,0,s.width,s.height),c=s.x,h=s.y;break;case m.TRIANGLE:a=r.triangle(0,0,s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)}return a&&(a.isFilled=!1,a.preUpdate=function(){a.setStrokeStyle(1/e.scale,t),a.setDisplayOrigin(e.displayOriginX,e.displayOriginY);var i=e.x,s=e.y,n=e.rotation,r=e.scaleX,o=e.scaleY;if(e.parentContainer){var l=e.getWorldTransformMatrix();i=l.tx,s=l.ty,n=l.rotation,r=l.scaleX,o=l.scaleY}a.setRotation(n),a.setScale(r,o),a.setPosition(i+c,s+h),a.setScrollFactor(e.scrollFactorX,e.scrollFactorY),a.setDepth(e.depth)},o.add(a),i.hitAreaDebug=a),this},removeDebug:function(e){var t=e.input;if(t&&t.hitAreaDebug){var i=t.hitAreaDebug;this.systems.updateList.remove(i),i.destroy(),t.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(e){return this.pollRate=e,this._pollTimer=0,this},setGlobalTopOnly:function(e){return this.manager.globalTopOnly=e,this},setTopOnly:function(e){return this.topOnly=e,this},sortGameObjects:function(e){return e.length<2?e:(this.scene.sys.depthSort(),e.sort(this.sortHandlerGO.bind(this)))},sortHandlerGO:function(e,t){if(e.parentContainer||t.parentContainer){if(e.parentContainer===t.parentContainer)return t.parentContainer.getIndex(t)-e.parentContainer.getIndex(e);if(e.parentContainer===t)return-1;if(t.parentContainer===e)return 1;for(var i=e.getIndexList(),s=t.getIndexList(),n=Math.min(i.length,s.length),a=0;a<n;a++){var r=i[a],o=s[a];if(r!==o)return o-r}return s.length-i.length}return this.displayList.getIndex(t)-this.displayList.getIndex(e)},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(e){return this.manager.addPointer(e)},setDefaultCursor:function(e){return this.manager.setDefaultCursor(e),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(u.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var e=0;e<10;e++)this._drag[e]=[],this._over[e]=[];this.removeAllListeners();var t=this.systems.events;t.off(x.TRANSITION_START,this.transitionIn,this),t.off(x.TRANSITION_OUT,this.transitionOut,this),t.off(x.TRANSITION_COMPLETE,this.transitionComplete,this),t.off(x.PRE_UPDATE,this.preUpdate,this),this.manager.events.off(u.GAME_OUT,this.onGameOut,this),this.manager.events.off(u.GAME_OVER,this.onGameOver,this),t.off(x.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(u.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(x.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});v.register("InputPlugin",_,"input"),e.exports=_},function(e,t){e.exports=function(e,t){return function(i,s,n,a){var r=e.getPixelAlpha(s,n,a.texture.key,a.frame.name);return r&&r>=t}}},function(e,t,i){e.exports={Events:i(137),KeyboardManager:i(366),KeyboardPlugin:i(1224),Key:i(453),KeyCodes:i(124),KeyCombo:i(454),JustDown:i(1229),JustUp:i(1230),DownDuration:i(1231),UpDuration:i(1232)}},function(e,t){e.exports="keydown"},function(e,t){e.exports="keyup"},function(e,t){e.exports="keycombomatch"},function(e,t){e.exports="down"},function(e,t){e.exports="keydown-"},function(e,t){e.exports="keyup-"},function(e,t){e.exports="up"},function(e,t,i){var s=i(0),n=i(10),a=i(137),r=i(20),o=i(6),c=i(54),h=i(136),l=i(453),d=i(124),u=i(454),p=i(1228),f=i(93),m=new s({Extends:n,initialize:function(e){n.call(this),this.game=e.systems.game,this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.manager=e.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],e.pluginEvents.once(c.BOOT,this.boot,this),e.pluginEvents.on(c.START,this.start,this)},boot:function(){var e=this.settings.input;this.enabled=o(e,"keyboard",!0);var t=o(e,"keyboard.capture",null);t&&this.addCaptures(t),this.sceneInputPlugin.pluginEvents.once(c.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.on(c.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.on(c.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(c.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(e){return this.manager.addCapture(e),this},removeCapture:function(e){return this.manager.removeCapture(e),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:d.UP,down:d.DOWN,left:d.LEFT,right:d.RIGHT,space:d.SPACE,shift:d.SHIFT})},addKeys:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1);var s={};if("string"==typeof e){e=e.split(",");for(var n=0;n<e.length;n++){var a=e[n].trim();a&&(s[a]=this.addKey(a,t,i))}}else for(var r in e)s[r]=this.addKey(e[r],t,i);return s},addKey:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1);var s=this.keys;if(e instanceof l){var n=s.indexOf(e);return n>-1?s[n]=e:s[e.keyCode]=e,t&&this.addCapture(e.keyCode),e.setEmitOnRepeat(i),e}return"string"==typeof e&&(e=d[e.toUpperCase()]),s[e]||(s[e]=new l(this,e),t&&this.addCapture(e),s[e].setEmitOnRepeat(i)),s[e]},removeKey:function(e,t){void 0===t&&(t=!1);var i,s=this.keys;if(e instanceof l){var n=s.indexOf(e);n>-1&&(i=this.keys[n],this.keys[n]=void 0)}else"string"==typeof e&&(e=d[e.toUpperCase()]);return s[e]&&(i=s[e],s[e]=void 0),i&&(i.plugin=null,t&&i.destroy()),this},removeAllKeys:function(e){for(var t=this.keys,i=0;i<t.length;i++){var s=t[i];s&&(t[i]=void 0,e&&s.destroy())}return this},createCombo:function(e,t){return new u(this,e,t)},checkDown:function(e,t){if(void 0===t&&(t=0),this.enabled&&e.isDown){var i=f(this.time-e.timeDown,t);if(i>e._tick)return e._tick=i,!0}return!1},update:function(){var e=this.manager.queue,t=e.length;if(this.isActive()&&0!==t)for(var i=this.keys,s=0;s<t;s++){var n=e[s],r=n.keyCode,o=i[r],c=!1;void 0===n.cancelled&&(n.cancelled=0,n.stopImmediatePropagation=function(){n.cancelled=1},n.stopPropagation=function(){n.cancelled=-1}),-1!==n.cancelled&&("keydown"===n.type?(o&&(c=o.isDown,o.onDown(n)),n.cancelled||o&&c||(p[r]&&(this.emit(a.KEY_DOWN+p[r],n),this.emit("keydown_"+p[r],n)),n.cancelled||this.emit(a.ANY_KEY_DOWN,n))):(o&&o.onUp(n),n.cancelled||(p[r]&&(this.emit(a.KEY_UP+p[r],n),this.emit("keyup_"+p[r],n)),n.cancelled||this.emit(a.ANY_KEY_UP,n))),1===n.cancelled&&(n.cancelled=0))}},resetKeys:function(){for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].reset();return this},shutdown:function(){this.resetKeys(),this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.off(c.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.off(c.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.removeAllListeners(),this.queue=[]},destroy:function(){this.shutdown();for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});h.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),e.exports=m},function(e,t,i){var s=i(1226);e.exports=function(e,t){if(t.matched)return!0;var i=!1,n=!1;if(e.keyCode===t.current)if(t.index>0&&t.maxKeyDelay>0){var a=t.timeLastMatched+t.maxKeyDelay;e.timeStamp<=a&&(n=!0,i=s(e,t))}else n=!0,i=s(e,t);return!n&&t.resetOnWrongKey&&(t.index=0,t.current=t.keyCodes[0]),i&&(t.timeLastMatched=e.timeStamp,t.matched=!0,t.timeMatched=e.timeStamp),i}},function(e,t){e.exports=function(e,t){return t.timeLastMatched=e.timeStamp,t.index++,t.index===t.size||(t.current=t.keyCodes[t.index],!1)}},function(e,t){e.exports=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e}},function(e,t,i){var s=i(124),n={};for(var a in s)n[s[a]]=a;e.exports=n},function(e,t){e.exports=function(e){return!!e._justDown&&(e._justDown=!1,!0)}},function(e,t){e.exports=function(e){return!!e._justUp&&(e._justUp=!1,!0)}},function(e,t){e.exports=function(e,t){void 0===t&&(t=50);var i=e.plugin.game.loop.time-e.timeDown;return e.isDown&&i<t}},function(e,t){e.exports=function(e,t){void 0===t&&(t=50);var i=e.plugin.game.loop.time-e.timeUp;return e.isUp&&i<t}},function(e,t,i){e.exports={MouseManager:i(367)}},function(e,t,i){e.exports={TouchManager:i(369)}},function(e,t,i){var s=i(17),n=i(18),a={Events:i(82),FileTypes:i(1236),File:i(21),FileTypesManager:i(8),GetURL:i(138),LoaderPlugin:i(1260),MergeXHRSettings:i(215),MultiFile:i(61),XHRLoader:i(455),XHRSettings:i(139)};a=n(!1,a,s),e.exports=a},function(e,t,i){e.exports={AnimationJSONFile:i(1237),AtlasJSONFile:i(1238),AtlasXMLFile:i(1239),AudioFile:i(456),AudioSpriteFile:i(1240),BinaryFile:i(1241),BitmapFontFile:i(1242),CSSFile:i(1243),GLSLFile:i(1244),HTML5AudioFile:i(457),HTMLFile:i(1245),HTMLTextureFile:i(1246),ImageFile:i(72),JSONFile:i(60),MultiAtlasFile:i(1247),MultiScriptFile:i(1248),PackFile:i(1249),PluginFile:i(1250),SceneFile:i(1251),ScenePluginFile:i(1252),ScriptFile:i(458),SpriteSheetFile:i(1253),SVGFile:i(1254),TextFile:i(459),TilemapCSVFile:i(1255),TilemapImpactFile:i(1256),TilemapJSONFile:i(1257),UnityAtlasFile:i(1258),VideoFile:i(1259),XMLFile:i(216)}},function(e,t,i){var s=i(0),n=i(8),a=i(60),r=i(82),o=new s({Extends:a,initialize:function(e,t,i,s,n){a.call(this,e,t,i,s,n),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});n.register("animation",(function(e,t,i,s){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new o(this,e[n]));else this.addFile(new o(this,e,t,s,i));return this})),e.exports=o},function(e,t,i){var s=i(0),n=i(8),a=i(2),r=i(72),o=i(7),c=i(60),h=i(61),l=new s({Extends:h,initialize:function(e,t,i,s,n,l){var d,u;if(o(t)){var p=t;t=a(p,"key"),d=new r(e,{key:t,url:a(p,"textureURL"),extension:a(p,"textureExtension","png"),normalMap:a(p,"normalMap"),xhrSettings:a(p,"textureXhrSettings")}),u=new c(e,{key:t,url:a(p,"atlasURL"),extension:a(p,"atlasExtension","json"),xhrSettings:a(p,"atlasXhrSettings")})}else d=new r(e,t,i,n),u=new c(e,t,s,l);d.linkFile?h.call(this,e,"atlasjson",t,[d,u,d.linkFile]):h.call(this,e,"atlasjson",t,[d,u])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,t.data,i),t.addToCache(),this.complete=!0}}});n.register("atlas",(function(e,t,i,s,n){var a;if(Array.isArray(e))for(var r=0;r<e.length;r++)a=new l(this,e[r]),this.addFile(a.files);else a=new l(this,e,t,i,s,n),this.addFile(a.files);return this})),e.exports=l},function(e,t,i){var s=i(0),n=i(8),a=i(2),r=i(72),o=i(7),c=i(61),h=i(216),l=new s({Extends:c,initialize:function(e,t,i,s,n,l){var d,u;if(o(t)){var p=t;t=a(p,"key"),d=new r(e,{key:t,url:a(p,"textureURL"),extension:a(p,"textureExtension","png"),normalMap:a(p,"normalMap"),xhrSettings:a(p,"textureXhrSettings")}),u=new h(e,{key:t,url:a(p,"atlasURL"),extension:a(p,"atlasExtension","xml"),xhrSettings:a(p,"atlasXhrSettings")})}else d=new r(e,t,i,n),u=new h(e,t,s,l);d.linkFile?c.call(this,e,"atlasxml",t,[d,u,d.linkFile]):c.call(this,e,"atlasxml",t,[d,u])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(e.key,e.data,t.data,i),t.addToCache(),this.complete=!0}}});n.register("atlasXML",(function(e,t,i,s,n){var a;if(Array.isArray(e))for(var r=0;r<e.length;r++)a=new l(this,e[r]),this.addFile(a.files);else a=new l(this,e,t,i,s,n),this.addFile(a.files);return this})),e.exports=l},function(e,t,i){var s=i(456),n=i(0),a=i(8),r=i(2),o=i(7),c=i(60),h=i(61),l=new n({Extends:h,initialize:function(e,t,i,n,a,l,d){if(o(t)){var u=t;t=r(u,"key"),i=r(u,"jsonURL"),n=r(u,"audioURL"),a=r(u,"audioConfig"),l=r(u,"audioXhrSettings"),d=r(u,"jsonXhrSettings")}var p;if(n){var f=s.create(e,t,n,a,l);f&&(p=new c(e,t,i,d),h.call(this,e,"audiosprite",t,[f,p]),this.config.resourceLoad=!1)}else p=new c(e,t,i,d),h.call(this,e,"audiosprite",t,[p]),this.config.resourceLoad=!0,this.config.audioConfig=a,this.config.audioXhrSettings=l},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,this.config.resourceLoad&&"json"===e.type&&e.data.hasOwnProperty("resources"))){var t=e.data.resources,i=r(this.config,"audioConfig"),n=r(this.config,"audioXhrSettings"),a=s.create(this.loader,e.key,t,i,n);a&&(this.addToMultiFile(a),this.loader.addFile(a))}},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache(),t.addToCache(),this.complete=!0}}});a.register("audioSprite",(function(e,t,i,s,n,a){var r,o=this.systems.game,c=o.config.audio,h=o.device.audio;if(c&&c.noAudio||!h.webAudio&&!h.audioData)return this;if(Array.isArray(e))for(var d=0;d<e.length;d++)(r=new l(this,e[d])).files&&this.addFile(r.files);else(r=new l(this,e,t,i,s,n,a)).files&&this.addFile(r.files);return this}))},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=new s({Extends:a,initialize:function(e,t,i,s,n){var r="bin";if(c(t)){var h=t;t=o(h,"key"),i=o(h,"url"),s=o(h,"xhrSettings"),r=o(h,"extension",r),n=o(h,"dataType",n)}var l={type:"binary",cache:e.cacheManager.binary,extension:r,responseType:"arraybuffer",key:t,url:i,xhrSettings:s,config:{dataType:n}};a.call(this,e,l)},onProcess:function(){this.state=n.FILE_PROCESSING;var e=this.config.dataType;this.data=e?new e(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",(function(e,t,i,s){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new h(this,e[n]));else this.addFile(new h(this,e,t,s,i));return this})),e.exports=h},function(e,t,i){var s=i(0),n=i(8),a=i(2),r=i(72),o=i(7),c=i(61),h=i(187),l=i(216),d=new s({Extends:c,initialize:function(e,t,i,s,n,h){var d,u;if(o(t)){var p=t;t=a(p,"key"),d=new r(e,{key:t,url:a(p,"textureURL"),extension:a(p,"textureExtension","png"),normalMap:a(p,"normalMap"),xhrSettings:a(p,"textureXhrSettings")}),u=new l(e,{key:t,url:a(p,"fontDataURL"),extension:a(p,"fontDataExtension","xml"),xhrSettings:a(p,"fontDataXhrSettings")})}else d=new r(e,t,i,n),u=new l(e,t,s,h);d.linkFile?c.call(this,e,"bitmapfont",t,[d,u,d.linkFile]):c.call(this,e,"bitmapfont",t,[d,u])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache(),t.addToCache(),this.loader.cacheManager.bitmapFont.add(e.key,{data:h(t.data),texture:e.key,frame:null}),this.complete=!0}}});n.register("bitmapFont",(function(e,t,i,s,n){var a;if(Array.isArray(e))for(var r=0;r<e.length;r++)a=new d(this,e[r]),this.addFile(a.files);else a=new d(this,e,t,i,s,n),this.addFile(a.files);return this})),e.exports=d},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=new s({Extends:a,initialize:function(e,t,i,s){var n="css";if(c(t)){var r=t;t=o(r,"key"),i=o(r,"url"),s=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"script",cache:!1,extension:n,responseType:"text",key:t,url:i,xhrSettings:s};a.call(this,e,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",(function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new h(this,e[s]));else this.addFile(new h(this,e,t,i));return this})),e.exports=h},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=i(353),l=new s({Extends:a,initialize:function(e,t,i,s,n){var r="glsl";if(c(t)){var h=t;t=o(h,"key"),i=o(h,"url"),s=o(h,"shaderType","fragment"),n=o(h,"xhrSettings"),r=o(h,"extension",r)}else void 0===s&&(s="fragment");var l={type:"glsl",cache:e.cacheManager.shader,extension:r,responseType:"text",key:t,url:i,config:{shaderType:s},xhrSettings:n};a.call(this,e,l)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.split("\n"),t=this.extractBlock(e,0);if(t)for(;t;){var i=this.getShaderName(t.header),s=this.getShaderType(t.header),n=this.getShaderUniforms(t.header),a=t.shader;if(this.cache.has(i)){var r=this.cache.get(i);"fragment"===s?r.fragmentSrc=a:r.vertexSrc=a,r.uniforms||(r.uniforms=n)}else"fragment"===s?this.cache.add(i,new h(i,a,"",n)):this.cache.add(i,new h(i,"",a,n));t=this.extractBlock(e,t.offset)}else"fragment"===this.config.shaderType?this.cache.add(this.key,new h(this.key,this.data)):this.cache.add(this.key,new h(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(e){for(var t=0;t<e.length;t++){var i=e[t].trim();if("name:"===i.substring(0,5))return i.substring(5).trim()}return this.key},getShaderType:function(e){for(var t=0;t<e.length;t++){var i=e[t].trim();if("type:"===i.substring(0,5))return i.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(e){for(var t={},i=0;i<e.length;i++){var s=e[i].trim();if("uniform."===s.substring(0,8)){var n=s.indexOf(":");if(n){var a=s.substring(8,n);try{t[a]=JSON.parse(s.substring(n+1))}catch(e){console.warn("Invalid uniform JSON: "+a)}}}}return t},extractBlock:function(e,t){for(var i=-1,s=-1,n=-1,a=!1,r=!1,o=[],c=[],h=t;h<e.length;h++){var l=e[h].trim();if("---"===l)if(-1===i)i=h,a=!0;else{if(!a){r=!1;break}s=h,a=!1,r=!0}else a?o.push(l):r&&(c.push(l),n=h)}return a||-1===s?null:{header:o,shader:c.join("\n"),offset:n}}});r.register("glsl",(function(e,t,i,s){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new l(this,e[n]));else this.addFile(new l(this,e,t,i,s));return this})),e.exports=l},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=new s({Extends:a,initialize:function(e,t,i,s){var n="html";if(c(t)){var r=t;t=o(r,"key"),i=o(r,"url"),s=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"text",cache:e.cacheManager.html,extension:n,responseType:"text",key:t,url:i,xhrSettings:s};a.call(this,e,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",(function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new h(this,e[s]));else this.addFile(new h(this,e,t,i));return this})),e.exports=h},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=new s({Extends:a,initialize:function(e,t,i,s,n,r){void 0===s&&(s=512),void 0===n&&(n=512);var h="html";if(c(t)){var l=t;t=o(l,"key"),i=o(l,"url"),r=o(l,"xhrSettings"),h=o(l,"extension",h),s=o(l,"width",s),n=o(l,"height",n)}var d={type:"html",cache:e.textureManager,extension:h,responseType:"text",key:t,url:i,xhrSettings:r,config:{width:s,height:n}};a.call(this,e,d)},onProcess:function(){this.state=n.FILE_PROCESSING;var e=this.config.width,t=this.config.height,i=[];i.push('<svg width="'+e+'px" height="'+t+'px" viewBox="0 0 '+e+" "+t+'" xmlns="http://www.w3.org/2000/svg">'),i.push('<foreignObject width="100%" height="100%">'),i.push('<body xmlns="http://www.w3.org/1999/xhtml">'),i.push(this.xhrLoader.responseText),i.push("</body>"),i.push("</foreignObject>"),i.push("</svg>");var s=[i.join("\n")],r=this;try{var o=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch(e){return r.state=n.FILE_ERRORED,void r.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(r.data),r.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(r.data),r.onProcessError()},a.createObjectURL(this.data,o,"image/svg+xml")},addToCache:function(){var e=this.cache.addImage(this.key,this.data);this.pendingDestroy(e)}});r.register("htmlTexture",(function(e,t,i,s,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new h(this,e[a]));else this.addFile(new h(this,e,t,i,s,n));return this})),e.exports=h},function(e,t,i){var s=i(0),n=i(8),a=i(2),r=i(72),o=i(7),c=i(60),h=i(61),l=new s({Extends:h,initialize:function(e,t,i,s,n,r,l){if(o(t)){var d=t;t=a(d,"key"),i=a(d,"url",!1)?a(d,"url"):a(d,"atlasURL"),r=a(d,"xhrSettings"),s=a(d,"path"),n=a(d,"baseURL"),l=a(d,"textureXhrSettings")}var u=new c(e,t,i,r);h.call(this,e,"multiatlas",t,[u]),this.config.path=s,this.config.baseURL=n,this.config.textureXhrSettings=l},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,"json"===e.type&&e.data.hasOwnProperty("textures"))){var t=e.data.textures,i=this.config,s=this.loader,n=s.baseURL,o=s.path,c=s.prefix,h=a(i,"baseURL",this.baseURL),l=a(i,"path",this.path),d=a(i,"prefix",this.prefix),u=a(i,"textureXhrSettings");s.setBaseURL(h),s.setPath(l),s.setPrefix(d);for(var p=0;p<t.length;p++){var f=t[p].image,m="MA"+this.multiKeyIndex+"_"+f,g=new r(s,m,f,u);if(this.addToMultiFile(g),s.addFile(g),t[p].normalMap){var y=new r(s,m,t[p].normalMap,u);y.type="normalMap",g.setLink(y),this.addToMultiFile(y),s.addFile(y)}}s.setBaseURL(n),s.setPath(o),s.setPrefix(c)}},addToCache:function(){if(this.isReadyToProcess()){for(var e=this.files[0],t=[],i=[],s=[],n=1;n<this.files.length;n++){var a=this.files[n];if("normalMap"!==a.type)for(var r=a.key.indexOf("_"),o=a.key.substr(r+1),c=a.data,h=0;h<e.data.textures.length;h++){var l=e.data.textures[h];if(l.image===o){i.push(c),t.push(l),a.linkFile&&s.push(a.linkFile.data);break}}}for(0===s.length&&(s=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,i,t,s),this.complete=!0,n=0;n<this.files.length;n++)this.files[n].pendingDestroy()}}});n.register("multiatlas",(function(e,t,i,s,n){var a;if(Array.isArray(e))for(var r=0;r<e.length;r++)a=new l(this,e[r]),this.addFile(a.files);else a=new l(this,e,t,i,s,n),this.addFile(a.files);return this})),e.exports=l},function(e,t,i){var s=i(0),n=i(8),a=i(2),r=i(7),o=i(61),c=i(458),h=new s({Extends:o,initialize:function(e,t,i,s){var n="js",h=[];if(r(t)){var l=t;t=a(l,"key"),i=a(l,"url"),s=a(l,"xhrSettings"),n=a(l,"extension",n)}Array.isArray(i)||(i=[i]);for(var d=0;d<i.length;d++){var u=new c(e,{key:t+"_"+d.toString(),url:i[d],extension:n,xhrSettings:s});u.onProcess=function(){this.onProcessComplete()},h.push(u)}o.call(this,e,"scripts",t,h)},addToCache:function(){if(this.isReadyToProcess()){for(var e=0;e<this.files.length;e++){var t=this.files[e];t.data=document.createElement("script"),t.data.language="javascript",t.data.type="text/javascript",t.data.defer=!1,t.data.text=t.xhrLoader.responseText,document.head.appendChild(t.data)}this.complete=!0}}});n.register("scripts",(function(e,t,i){var s;if(Array.isArray(e))for(var n=0;n<e.length;n++)s=new h(this,e[n]),this.addFile(s.files);else s=new h(this,e,t,i),this.addFile(s.files);return this})),e.exports=h},function(e,t,i){var s=i(0),n=i(17),a=i(8),r=i(60),o=new s({Extends:r,initialize:function(e,t,i,s,n){r.call(this,e,t,i,s,n),this.type="packfile"},onProcess:function(){this.state!==n.FILE_POPULATED&&(this.state=n.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",(function(e,t,i,s){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new o(this,e[n]));else this.addFile(new o(this,e,t,s,i));return this})),e.exports=o},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=new s({Extends:a,initialize:function(e,t,i,s,r,h){var l="js";if(c(t)){var d=t;t=o(d,"key"),i=o(d,"url"),h=o(d,"xhrSettings"),l=o(d,"extension",l),s=o(d,"start"),r=o(d,"mapping")}var u={type:"plugin",cache:!1,extension:l,responseType:"text",key:t,url:i,xhrSettings:h,config:{start:s,mapping:r}};a.call(this,e,u),"function"==typeof i&&(this.data=i,this.state=n.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,t=this.config,i=o(t,"start",!1),s=o(t,"mapping",null);if(this.state===n.FILE_POPULATED)e.install(this.key,this.data,i,s);else{this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var a=e.install(this.key,window[this.key],i,s);(i||s)&&(this.loader.systems[s]=a,this.loader.scene[s]=a)}this.onProcessComplete()}});r.register("plugin",(function(e,t,i,s,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new h(this,e[a]));else this.addFile(new h(this,e,t,i,s,n));return this})),e.exports=h},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=new s({Extends:a,initialize:function(e,t,i,s){var n="js";if(c(t)){var r=t;t=o(r,"key"),i=o(r,"url"),s=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"text",cache:e.cacheManager.text,extension:n,responseType:"text",key:t,url:i,xhrSettings:s};a.call(this,e,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),t=eval;this.loader.sceneManager.add(this.key,t(e)),this.complete=!0}});r.register("sceneFile",(function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new h(this,e[s]));else this.addFile(new h(this,e,t,i));return this})),e.exports=h},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=new s({Extends:a,initialize:function(e,t,i,s,r,h){var l="js";if(c(t)){var d=t;t=o(d,"key"),i=o(d,"url"),h=o(d,"xhrSettings"),l=o(d,"extension",l),s=o(d,"systemKey"),r=o(d,"sceneKey")}var u={type:"scenePlugin",cache:!1,extension:l,responseType:"text",key:t,url:i,xhrSettings:h,config:{systemKey:s,sceneKey:r}};a.call(this,e,u),"function"==typeof i&&(this.data=i,this.state=n.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,t=this.config,i=this.key,s=o(t,"systemKey",i),a=o(t,"sceneKey",i);this.state===n.FILE_POPULATED?e.installScenePlugin(s,this.data,a,this.loader.scene,!0):(this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),e.installScenePlugin(s,window[this.key],a,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",(function(e,t,i,s,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new h(this,e[a]));else this.addFile(new h(this,e,t,i,s,n));return this})),e.exports=h},function(e,t,i){var s=i(0),n=i(8),a=i(72),r=new s({Extends:a,initialize:function(e,t,i,s,n){a.call(this,e,t,i,n,s),this.type="spritesheet"},addToCache:function(){var e=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(e)}});n.register("spritesheet",(function(e,t,i,s){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new r(this,e[n]));else this.addFile(new r(this,e,t,i,s));return this})),e.exports=r},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=new s({Extends:a,initialize:function(e,t,i,s,n){var r="svg";if(c(t)){var h=t;t=o(h,"key"),i=o(h,"url"),s=o(h,"svgConfig",{}),n=o(h,"xhrSettings"),r=o(h,"extension",r)}var l={type:"svg",cache:e.textureManager,extension:r,responseType:"text",key:t,url:i,xhrSettings:n,config:{width:o(s,"width"),height:o(s,"height"),scale:o(s,"scale")}};a.call(this,e,l)},onProcess:function(){this.state=n.FILE_PROCESSING;var e=this.xhrLoader.responseText,t=[e],i=this.config.width,s=this.config.height,r=this.config.scale;e:if(i&&s||r){var o=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("svg")[0],c=o.hasAttribute("viewBox"),h=parseFloat(o.getAttribute("width")),l=parseFloat(o.getAttribute("height"));if(!c&&h&&l)o.setAttribute("viewBox","0  0 "+h+" "+l);else if(c&&!h&&!l){var d=o.getAttribute("viewBox").split(/\s+|,/);h=d[2],l=d[3]}if(r){if(!h||!l)break e;i=h*r,s=l*r}o.setAttribute("width",i.toString()+"px"),o.setAttribute("height",s.toString()+"px"),t=[(new XMLSerializer).serializeToString(o)]}try{var u=new window.Blob(t,{type:"image/svg+xml;charset=utf-8"})}catch(e){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var p=this,f=!1;this.data.onload=function(){f||a.revokeObjectURL(p.data),p.onProcessComplete()},this.data.onerror=function(){f?p.onProcessError():(f=!0,a.revokeObjectURL(p.data),p.data.src="data:image/svg+xml,"+encodeURIComponent(t.join("")))},a.createObjectURL(this.data,u,"image/svg+xml")},addToCache:function(){var e=this.cache.addImage(this.key,this.data);this.pendingDestroy(e)}});r.register("svg",(function(e,t,i,s){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new h(this,e[n]));else this.addFile(new h(this,e,t,i,s));return this})),e.exports=h},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(2),c=i(7),h=i(32),l=new s({Extends:a,initialize:function(e,t,i,s){var n="csv";if(c(t)){var r=t;t=o(r,"key"),i=o(r,"url"),s=o(r,"xhrSettings"),n=o(r,"extension",n)}var l={type:"tilemapCSV",cache:e.cacheManager.tilemap,extension:n,responseType:"text",key:t,url:i,xhrSettings:s};a.call(this,e,l),this.tilemapFormat=h.CSV},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});r.register("tilemapCSV",(function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new l(this,e[s]));else this.addFile(new l(this,e,t,i));return this})),e.exports=l},function(e,t,i){var s=i(0),n=i(8),a=i(60),r=i(32),o=new s({Extends:a,initialize:function(e,t,i,s){a.call(this,e,t,i,s),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});n.register("tilemapImpact",(function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new o(this,e[s]));else this.addFile(new o(this,e,t,i));return this})),e.exports=o},function(e,t,i){var s=i(0),n=i(8),a=i(60),r=i(32),o=new s({Extends:a,initialize:function(e,t,i,s){a.call(this,e,t,i,s),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});n.register("tilemapTiledJSON",(function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new o(this,e[s]));else this.addFile(new o(this,e,t,i));return this})),e.exports=o},function(e,t,i){var s=i(0),n=i(8),a=i(2),r=i(72),o=i(7),c=i(61),h=i(459),l=new s({Extends:c,initialize:function(e,t,i,s,n,l){var d,u;if(o(t)){var p=t;t=a(p,"key"),d=new r(e,{key:t,url:a(p,"textureURL"),extension:a(p,"textureExtension","png"),normalMap:a(p,"normalMap"),xhrSettings:a(p,"textureXhrSettings")}),u=new h(e,{key:t,url:a(p,"atlasURL"),extension:a(p,"atlasExtension","txt"),xhrSettings:a(p,"atlasXhrSettings")})}else d=new r(e,t,i,n),u=new h(e,t,s,l);d.linkFile?c.call(this,e,"unityatlas",t,[d,u,d.linkFile]):c.call(this,e,"unityatlas",t,[d,u])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(e.key,e.data,t.data,i),t.addToCache(),this.complete=!0}}});n.register("unityAtlas",(function(e,t,i,s,n){var a;if(Array.isArray(e))for(var r=0;r<e.length;r++)a=new l(this,e[r]),this.addFile(a.files);else a=new l(this,e,t,i,s,n),this.addFile(a.files);return this})),e.exports=l},function(e,t,i){var s=i(0),n=i(17),a=i(21),r=i(8),o=i(138),c=i(2),h=i(7),l=new s({Extends:a,initialize:function(e,t,i,s,n,r,o){void 0===s&&(s="loadeddata"),void 0===n&&(n=!1),void 0===r&&(r=!1),"loadeddata"!==s&&"canplay"!==s&&"canplaythrough"!==s&&(s="loadeddata");var c={type:"video",cache:e.cacheManager.video,extension:i.type,responseType:"blob",key:t,url:i.url,xhrSettings:o,config:{loadEvent:s,asBlob:n,noAudio:r}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),a.call(this,e,c)},onProcess:function(){if(this.state=n.FILE_PROCESSING,this.config.asBlob){var e=this.createVideoElement();this.data=e;var t=this;this.data.onloadeddata=function(){t.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(t.data),t.onProcessError()},a.createObjectURL(e,this.xhrLoader.response,""),e.load()}else this.onProcessComplete()},createVideoElement:function(){var e=document.createElement("video");return e.controls=!1,e.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(e.muted=!0,e.defaultMuted=!0,e.setAttribute("autoplay","autoplay")),e.setAttribute("playsinline","playsinline"),e.setAttribute("preload","auto"),e},onVideoLoadHandler:function(e){var t=e.target;t.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),t.removeEventListener("error",this.onErrorCallback,!0),this.data=t,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(e){var t=e.target;t&&(t.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),t.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var e=this.config.loadEvent;if(this.config.asBlob)a.prototype.load.call(this);else{this.percentComplete=0;var t=this.createVideoElement();t.addEventListener(e,this.onLoadCallback,!0),t.addEventListener("error",this.onErrorCallback,!0),t.src=o(this,this.loader.baseURL),t.load()}}});l.create=function(e,t,i,s,n,a,r){var o=e.systems.game;h(t)&&(i=c(t,"url",[]),s=c(t,"loadEvent","loadeddata"),n=c(t,"asBlob",!1),a=c(t,"noAudio",!1),r=c(t,"xhrSettings"));var d=l.getVideoURL(o,i);if(d)return new l(e,t,d,s,n,a,r)},l.getVideoURL=function(e,t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var s,n=c(t[i],"url",t[i]);if(0===n.indexOf("blob:"))return{url:n,type:""};if(s=0===n.indexOf("data:")?n.split(",")[0].match(/\/(.*?);/):n.match(/\.([a-zA-Z0-9]+)($|\?)/),s=c(t[i],"type",s?s[1]:"").toLowerCase(),e.device.video[s])return{url:n,type:s}}return null},r.register("video",(function(e,t,i,s,n,a){var r;if(Array.isArray(e))for(var o=0;o<e.length;o++)(r=l.create(this,e[o]))&&this.addFile(r);else(r=l.create(this,e,t,i,s,n,a))&&this.addFile(r);return this})),e.exports=l},function(e,t,i){var s=i(0),n=i(17),a=i(133),r=i(10),o=i(82),c=i(8),h=i(2),l=i(23),d=i(22),u=i(139),p=new s({Extends:r,initialize:function(e){r.call(this);var t=e.sys.game.config,i=e.sys.settings.loader;this.scene=e,this.systems=e.sys,this.cacheManager=e.sys.cache,this.textureManager=e.sys.textures,this.sceneManager=e.sys.game.scene,c.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(h(i,"baseURL",t.loaderBaseURL)),this.setPath(h(i,"path",t.loaderPath)),this.setPrefix(h(i,"prefix",t.loaderPrefix)),this.maxParallelDownloads=h(i,"maxParallelDownloads",t.loaderMaxParallelDownloads),this.xhr=u(h(i,"responseType",t.loaderResponseType),h(i,"async",t.loaderAsync),h(i,"user",t.loaderUser),h(i,"password",t.loaderPassword),h(i,"timeout",t.loaderTimeout),h(i,"withCredentials",t.loaderWithCredentials)),this.crossOrigin=h(i,"crossOrigin",t.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=n.LOADER_IDLE,this.multiKeyIndex=0,e.sys.events.once(d.BOOT,this.boot,this),e.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},setBaseURL:function(e){return void 0===e&&(e=""),""!==e&&"/"!==e.substr(-1)&&(e=e.concat("/")),this.baseURL=e,this},setPath:function(e){return void 0===e&&(e=""),""!==e&&"/"!==e.substr(-1)&&(e=e.concat("/")),this.path=e,this},setPrefix:function(e){return void 0===e&&(e=""),this.prefix=e,this},setCORS:function(e){return this.crossOrigin=e,this},addFile:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];this.keyExists(i)||(this.list.set(i),this.emit(o.ADD,i.key,i.type,this,i),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(e){var t=e.hasCacheConflict();return t||this.list.iterate((function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1})),!t&&this.isLoading()&&(this.inflight.iterate((function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1})),this.queue.iterate((function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1}))),t},addPack:function(e,t){t&&e.hasOwnProperty(t)&&(e={packKey:e[t]});var i=0,s=this.baseURL,n=this.path,a=this.prefix;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r],c=h(o,"baseURL",s),l=h(o,"path",n),d=h(o,"prefix",a),u=h(o,"files",null),p=h(o,"defaultType","void");if(Array.isArray(u)){this.setBaseURL(c),this.setPath(l),this.setPrefix(d);for(var f=0;f<u.length;f++){var m=u[f],g=m.hasOwnProperty("type")?m.type:p;this[g]&&(this[g](m),i++)}}}return this.setBaseURL(s),this.setPath(n),this.setPrefix(a),i>0},isLoading:function(){return this.state===n.LOADER_LOADING||this.state===n.LOADER_PROCESSING},isReady:function(){return this.state===n.LOADER_IDLE||this.state===n.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(o.START,this),0===this.list.size?this.loadComplete():(this.state=n.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(d.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(o.PROGRESS,this.progress)},update:function(){this.state===n.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each((function(e){if((e.state===n.FILE_POPULATED||e.state===n.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(e),this.list.delete(e),e.crossOrigin||(e.crossOrigin=this.crossOrigin),e.load()),this.inflight.size===this.maxParallelDownloads)return!1}),this)},nextFile:function(e,t){this.inflight&&(this.inflight.delete(e),this.updateProgress(),t?(this.totalComplete++,this.queue.set(e),this.emit(o.FILE_LOAD,e),e.onProcess()):(this.totalFailed++,this._deleteQueue.set(e),this.emit(o.FILE_LOAD_ERROR,e),this.fileProcessComplete(e)))},fileProcessComplete:function(e){this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy&&(e.state===n.FILE_ERRORED?e.multiFile&&e.multiFile.onFileFailed(e):e.state===n.FILE_COMPLETE&&(e.multiFile?e.multiFile.isReadyToProcess()&&e.multiFile.addToCache():e.addToCache()),this.queue.delete(e),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(o.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=n.LOADER_COMPLETE,this.systems.events.off(d.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(o.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(e){this._deleteQueue.set(e)},saveJSON:function(e,t){return this.save(JSON.stringify(e),t)},save:function(e,t,i){void 0===t&&(t="file.json"),void 0===i&&(i="application/json");var s=new Blob([e],{type:i}),n=URL.createObjectURL(s),a=document.createElement("a");return a.download=t,a.textContent="Download "+t,a.href=n,a.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var e=this.systems.game.config,t=this.systems.settings.loader;this.setBaseURL(h(t,"baseURL",e.loaderBaseURL)),this.setPath(h(t,"path",e.loaderPath)),this.setPrefix(h(t,"prefix",e.loaderPrefix)),this.state=n.LOADER_IDLE},shutdown:function(){this.reset(),this.state=n.LOADER_SHUTDOWN,this.systems.events.off(d.UPDATE,this.update,this),this.systems.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=n.LOADER_DESTROYED,this.systems.events.off(d.UPDATE,this.update,this),this.systems.events.off(d.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});l.register("Loader",p,"load"),e.exports=p},function(e,t,i){var s=i(50),n=i(18),a={ArcadePhysics:i(1262),Body:i(466),Collider:i(467),Components:i(217),Events:i(218),Factory:i(460),Group:i(462),Image:i(461),Sprite:i(140),StaticBody:i(472),StaticGroup:i(463),World:i(465)};a=n(!1,a,s),e.exports=a},function(e,t,i){var s=i(0),n=i(39),a=i(53),r=i(321),o=i(460),c=i(2),h=i(126),l=i(1275),d=i(464),u=i(23),p=i(22),f=i(3),m=i(465),g=new s({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,e.sys.events.once(p.BOOT,this.boot,this),e.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new m(this.scene,this.config),this.add=new o(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new m(this.scene,this.config),this.add=new o(this.world));var e=this.systems.events;e.on(p.UPDATE,this.world.update,this.world),e.on(p.POST_UPDATE,this.world.postUpdate,this.world),e.once(p.SHUTDOWN,this.shutdown,this)},getConfig:function(){var e=this.systems.game.config.physics,t=this.systems.settings.physics;return h(c(t,"arcade",{}),c(e,"arcade",{}))},overlap:function(e,t,i,s,n){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i),this.world.collideObjects(e,t,i,s,n,!0)},collide:function(e,t,i,s,n){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i),this.world.collideObjects(e,t,i,s,n,!1)},collideTiles:function(e,t,i,s,n){return this.world.collideTiles(e,t,i,s,n)},overlapTiles:function(e,t,i,s,n){return this.world.overlapTiles(e,t,i,s,n)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(e,t,i,s,n,a){void 0===s&&(s=60);var r=Math.atan2(i-e.y,t-e.x);return e.body.acceleration.setToPolar(r,s),void 0!==n&&void 0!==a&&e.body.maxVelocity.set(n,a),r},accelerateToObject:function(e,t,i,s,n){return this.accelerateTo(e,t.x,t.y,i,s,n)},closest:function(e,t){t||(t=this.world.bodies.entries);for(var i=Number.MAX_VALUE,s=null,n=e.x,a=e.y,o=t.length,c=0;c<o;c++){var h=t[c],l=h.body||h;if(e!==h&&e!==l&&e!==l.gameObject&&e!==l.center){var d=r(n,a,l.center.x,l.center.y);d<i&&(s=h,i=d)}}return s},furthest:function(e,t){t||(t=this.world.bodies.entries);for(var i=-1,s=null,n=e.x,a=e.y,o=t.length,c=0;c<o;c++){var h=t[c],l=h.body||h;if(e!==h&&e!==l&&e!==l.gameObject&&e!==l.center){var d=r(n,a,l.center.x,l.center.y);d>i&&(s=h,i=d)}}return s},moveTo:function(e,t,i,s,n){void 0===s&&(s=60),void 0===n&&(n=0);var r=Math.atan2(i-e.y,t-e.x);return n>0&&(s=a(e.x,e.y,t,i)/(n/1e3)),e.body.velocity.setToPolar(r,s),r},moveToObject:function(e,t,i,s){return this.moveTo(e,t.x,t.y,i,s)},velocityFromAngle:function(e,t,i){return void 0===t&&(t=60),void 0===i&&(i=new f),i.setToPolar(n(e),t)},velocityFromRotation:function(e,t,i){return void 0===t&&(t=60),void 0===i&&(i=new f),i.setToPolar(e,t)},overlapRect:function(e,t,i,s,n,a){return d(this.world,e,t,i,s,n,a)},overlapCirc:function(e,t,i,s,n){return l(this.world,e,t,i,s,n)},shutdown:function(){if(this.world){var e=this.systems.events;e.off(p.UPDATE,this.world.update,this.world),e.off(p.POST_UPDATE,this.world.postUpdate,this.world),e.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",g,"arcadePhysics"),e.exports=g},function(e,t){e.exports={setAcceleration:function(e,t){return this.body.acceleration.set(e,t),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}}},function(e,t){e.exports={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}}},function(e,t){e.exports={setBounce:function(e,t){return this.body.bounce.set(e,t),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,t,i){return this.body.setCollideWorldBounds(e,t,i),this}}},function(e,t){e.exports={setDebug:function(e,t,i){return this.debugShowBody=e,this.debugShowVelocity=t,this.debugBodyColor=i,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}}},function(e,t){e.exports={setDrag:function(e,t){return this.body.drag.set(e,t),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}}},function(e,t){var i={enableBody:function(e,t,i,s,n){return e&&this.body.reset(t,i),s&&(this.body.gameObject.active=!0),n&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),t&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};e.exports=i},function(e,t){e.exports={setFriction:function(e,t){return this.body.friction.set(e,t),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}}},function(e,t){e.exports={setGravity:function(e,t){return this.body.gravity.set(e,t),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}}},function(e,t){var i={setImmovable:function(e){return void 0===e&&(e=!0),this.body.immovable=e,this}};e.exports=i},function(e,t){e.exports={setMass:function(e){return this.body.mass=e,this}}},function(e,t){e.exports={setOffset:function(e,t){return this.body.setOffset(e,t),this},setSize:function(e,t,i){return this.body.setSize(e,t,i),this},setBodySize:function(e,t,i){return this.body.setSize(e,t,i),this},setCircle:function(e,t,i){return this.body.setCircle(e,t,i),this}}},function(e,t){e.exports={setVelocity:function(e,t){return this.body.setVelocity(e,t),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,t){return this.body.maxVelocity.set(e,t),this}}},function(e,t,i){var s=i(464),n=i(65),a=i(205),r=i(206);e.exports=function(e,t,i,o,c,h){var l=s(e,t-o,i-o,2*o,2*o,c,h);if(0===l.length)return l;for(var d=new n(t,i,o),u=new n,p=[],f=0;f<l.length;f++){var m=l[f];m.isCircle?(u.setTo(m.center.x,m.center.y,m.halfWidth),a(d,u)&&p.push(m)):r(d,m)&&p.push(m)}return p}},function(e,t){e.exports="collide"},function(e,t){e.exports="overlap"},function(e,t){e.exports="pause"},function(e,t){e.exports="resume"},function(e,t){e.exports="tilecollide"},function(e,t){e.exports="tileoverlap"},function(e,t){e.exports="worldbounds"},function(e,t){e.exports="worldstep"},function(e,t){e.exports=function(e,t){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,t,e):!e.layer.callbacks[e.index]||!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,t,e)}},function(e,t,i){var s=i(1286),n=i(1288),a=i(471);e.exports=function(e,t,i,r,o,c,h){var l=r.left,d=r.top,u=r.right,p=r.bottom,f=i.faceLeft||i.faceRight,m=i.faceTop||i.faceBottom;if(h||(f=!0,m=!0),!f&&!m)return!1;var g=0,y=0,v=0,w=1;if(t.deltaAbsX()>t.deltaAbsY()?v=-1:t.deltaAbsX()<t.deltaAbsY()&&(w=-1),0!==t.deltaX()&&0!==t.deltaY()&&f&&m&&(v=Math.min(Math.abs(t.position.x-u),Math.abs(t.right-l)),w=Math.min(Math.abs(t.position.y-p),Math.abs(t.bottom-d))),v<w){if(f&&0!==(g=s(t,i,l,u,c,h))&&!a(r,t))return!0;m&&(y=n(t,i,d,p,c,h))}else{if(m&&0!==(y=n(t,i,d,p,c,h))&&!a(r,t))return!0;f&&(g=s(t,i,l,u,c,h))}return 0!==g||0!==y}},function(e,t,i){var s=i(1287);e.exports=function(e,t,i,n,a,r){var o=0,c=t.faceLeft,h=t.faceRight,l=t.collideLeft,d=t.collideRight;return r||(c=!0,h=!0,l=!0,d=!0),e.deltaX()<0&&d&&e.checkCollision.left?h&&e.x<n&&(o=e.x-n)<-a&&(o=0):e.deltaX()>0&&l&&e.checkCollision.right&&c&&e.right>i&&(o=e.right-i)>a&&(o=0),0!==o&&(e.customSeparateX?e.overlapX=o:s(e,o)),o}},function(e,t){e.exports=function(e,t){t<0?(e.blocked.none=!1,e.blocked.left=!0):t>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=t,0===e.bounce.x?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x}},function(e,t,i){var s=i(1289);e.exports=function(e,t,i,n,a,r){var o=0,c=t.faceTop,h=t.faceBottom,l=t.collideUp,d=t.collideDown;return r||(c=!0,h=!0,l=!0,d=!0),e.deltaY()<0&&d&&e.checkCollision.up?h&&e.y<n&&(o=e.y-n)<-a&&(o=0):e.deltaY()>0&&l&&e.checkCollision.down&&c&&e.bottom>i&&(o=e.bottom-i)>a&&(o=0),0!==o&&(e.customSeparateY?e.overlapY=o:s(e,o)),o}},function(e,t){e.exports=function(e,t){t<0?(e.blocked.none=!1,e.blocked.up=!0):t>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=t,0===e.bounce.y?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y}},function(e,t,i){var s=i(468);e.exports=function(e,t,i,n){var a=s(e,t,i,n);if(i||0===a||e.immovable&&t.immovable||e.customSeparateX||t.customSeparateX)return 0!==a||e.embedded&&t.embedded;var r=e.velocity.x,o=t.velocity.x;if(e.immovable||t.immovable)e.immovable?(t.x+=a,t.velocity.x=r-o*t.bounce.x,e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y)):(e.x-=a,e.velocity.x=o-r*e.bounce.x,t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y));else{a*=.5,e.x-=a,t.x+=a;var c=Math.sqrt(o*o*t.mass/e.mass)*(o>0?1:-1),h=Math.sqrt(r*r*e.mass/t.mass)*(r>0?1:-1),l=.5*(c+h);c-=l,h-=l,e.velocity.x=l+c*e.bounce.x,t.velocity.x=l+h*t.bounce.x}return!0}},function(e,t,i){var s=i(469);e.exports=function(e,t,i,n){var a=s(e,t,i,n);if(i||0===a||e.immovable&&t.immovable||e.customSeparateY||t.customSeparateY)return 0!==a||e.embedded&&t.embedded;var r=e.velocity.y,o=t.velocity.y;if(e.immovable||t.immovable)e.immovable?(t.y+=a,t.velocity.y=r-o*t.bounce.y,e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x)):(e.y-=a,e.velocity.y=o-r*e.bounce.y,t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x));else{a*=.5,e.y-=a,t.y+=a;var c=Math.sqrt(o*o*t.mass/e.mass)*(o>0?1:-1),h=Math.sqrt(r*r*e.mass/t.mass)*(r>0?1:-1),l=.5*(c+h);c-=l,h-=l,e.velocity.y=l+c*e.bounce.y,t.velocity.y=l+h*t.bounce.y}return!0}},function(e,t,i){var s={};e.exports=s;var n=i(148),a=i(219),r=i(42),o=i(62),c=i(109);s.stack=function(e,t,i,s,a,r,c){for(var h,l=n.create({label:"Stack"}),d=e,u=t,p=0,f=0;f<s;f++){for(var m=0,g=0;g<i;g++){var y=c(d,u,g,f,h,p);if(y){var v=y.bounds.max.y-y.bounds.min.y,w=y.bounds.max.x-y.bounds.min.x;v>m&&(m=v),o.translate(y,{x:.5*w,y:.5*v}),d=y.bounds.max.x+a,n.addBody(l,y),h=y,p+=1}else d+=a}u+=m+r,d=e}return l},s.chain=function(e,t,i,s,o,c){for(var h=e.bodies,l=1;l<h.length;l++){var d=h[l-1],u=h[l],p=d.bounds.max.y-d.bounds.min.y,f=d.bounds.max.x-d.bounds.min.x,m=u.bounds.max.y-u.bounds.min.y,g={bodyA:d,pointA:{x:f*t,y:p*i},bodyB:u,pointB:{x:(u.bounds.max.x-u.bounds.min.x)*s,y:m*o}},y=r.extend(g,c);n.addConstraint(e,a.create(y))}return e.label+=" Chain",e},s.mesh=function(e,t,i,s,o){var c,h,l,d,u,p=e.bodies;for(c=0;c<i;c++){for(h=1;h<t;h++)l=p[h-1+c*t],d=p[h+c*t],n.addConstraint(e,a.create(r.extend({bodyA:l,bodyB:d},o)));if(c>0)for(h=0;h<t;h++)l=p[h+(c-1)*t],d=p[h+c*t],n.addConstraint(e,a.create(r.extend({bodyA:l,bodyB:d},o))),s&&h>0&&(u=p[h-1+(c-1)*t],n.addConstraint(e,a.create(r.extend({bodyA:u,bodyB:d},o)))),s&&h<t-1&&(u=p[h+1+(c-1)*t],n.addConstraint(e,a.create(r.extend({bodyA:u,bodyB:d},o))))}return e.label+=" Mesh",e},s.pyramid=function(e,t,i,n,a,r,c){return s.stack(e,t,i,n,a,r,(function(t,s,r,h,l,d){var u=Math.min(n,Math.ceil(i/2)),p=l?l.bounds.max.x-l.bounds.min.x:0;if(!(h>u||r<(h=u-h)||r>i-1-h))return 1===d&&o.translate(l,{x:(r+(i%2==1?1:-1))*p,y:0}),c(e+(l?r*p:0)+r*a,s,r,h,l,d)}))},s.newtonsCradle=function(e,t,i,s,r){for(var o=n.create({label:"Newtons Cradle"}),h=0;h<i;h++){var l=c.circle(e+h*(1.9*s),t+r,s,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=a.create({pointA:{x:e+h*(1.9*s),y:t},bodyB:l});n.addBody(o,l),n.addConstraint(o,d)}return o},s.car=function(e,t,i,s,r){var h=o.nextGroup(!0),l=.5*-i+20,d=.5*i-20,u=n.create({label:"Car"}),p=c.rectangle(e,t,i,s,{collisionFilter:{group:h},chamfer:{radius:.5*s},density:2e-4}),f=c.circle(e+l,t+0,r,{collisionFilter:{group:h},friction:.8}),m=c.circle(e+d,t+0,r,{collisionFilter:{group:h},friction:.8}),g=a.create({bodyB:p,pointB:{x:l,y:0},bodyA:f,stiffness:1,length:0}),y=a.create({bodyB:p,pointB:{x:d,y:0},bodyA:m,stiffness:1,length:0});return n.addBody(u,p),n.addBody(u,f),n.addBody(u,m),n.addConstraint(u,g),n.addConstraint(u,y),u},s.softBody=function(e,t,i,n,a,o,h,l,d,u){d=r.extend({inertia:1/0},d),u=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},u);var p=s.stack(e,t,i,n,a,o,(function(e,t){return c.circle(e,t,l,d)}));return s.mesh(p,i,n,h,u),p.label="Soft Body",p}},function(e,t,i){var s={};e.exports=s,i(100);var n=i(42);s.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,a,r,o,c,h,l,d,u,p,f,m=[],g=0,y=0,v=0;t=t||15;var w=function(e,t,i){var s=i%2==1&&i>1;if(!u||e!=u.x||t!=u.y){u&&s?(p=u.x,f=u.y):(p=0,f=0);var n={x:p+e,y:f+t};!s&&u||(u=n),m.push(n),y=p+e,v=f+t}},b=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":y=e.x,v=e.y;break;case"H":y=e.x;break;case"V":v=e.y}w(y,v,e.pathSegType)}};for(s._svgPathToAbsolute(e),r=e.getTotalLength(),h=[],i=0;i<e.pathSegList.numberOfItems;i+=1)h.push(e.pathSegList.getItem(i));for(l=h.concat();g<r;){if((c=h[e.getPathSegAtLength(g)])!=d){for(;l.length&&l[0]!=c;)b(l.shift());d=c}switch(c.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=e.getPointAtLength(g),w(o.x,o.y,0)}g+=t}for(i=0,a=l.length;i<a;++i)b(l[i]);return m},s._svgPathToAbsolute=function(e){for(var t,i,s,n,a,r,o=e.pathSegList,c=0,h=0,l=o.numberOfItems,d=0;d<l;++d){var u=o.getItem(d),p=u.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in u&&(c=u.x),"y"in u&&(h=u.y);else switch("x1"in u&&(s=c+u.x1),"x2"in u&&(a=c+u.x2),"y1"in u&&(n=h+u.y1),"y2"in u&&(r=h+u.y2),"x"in u&&(c+=u.x),"y"in u&&(h+=u.y),p){case"m":o.replaceItem(e.createSVGPathSegMovetoAbs(c,h),d);break;case"l":o.replaceItem(e.createSVGPathSegLinetoAbs(c,h),d);break;case"h":o.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(c),d);break;case"v":o.replaceItem(e.createSVGPathSegLinetoVerticalAbs(h),d);break;case"c":o.replaceItem(e.createSVGPathSegCurvetoCubicAbs(c,h,s,n,a,r),d);break;case"s":o.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(c,h,a,r),d);break;case"q":o.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(c,h,s,n),d);break;case"t":o.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(c,h),d);break;case"a":o.replaceItem(e.createSVGPathSegArcAbs(c,h,u.r1,u.r2,u.angle,u.largeArcFlag,u.sweepFlag),d);break;case"z":case"Z":c=t,h=i}"M"!=p&&"m"!=p||(t=c,i=h)}}},function(e,t,i){var s=i(109),n=i(62),a=i(42),r=i(2),o=i(86),c={parseBody:function(e,t,i,s){void 0===s&&(s={});for(var o=r(i,"fixtures",[]),c=[],h=0;h<o.length;h++)for(var l=this.parseFixture(o[h]),d=0;d<l.length;d++)c.push(l[d]);var u=a.clone(i,!0);a.extend(u,s,!0),delete u.fixtures,delete u.type;var p=n.create(u);return n.setParts(p,c),n.setPosition(p,{x:e,y:t}),p},parseFixture:function(e){var t,i=a.extend({},!1,e);if(delete i.circle,delete i.vertices,e.circle){var n=r(e.circle,"x"),o=r(e.circle,"y"),c=r(e.circle,"radius");t=[s.circle(n,o,c,i)]}else e.vertices&&(t=this.parseVertices(e.vertices,i));return t},parseVertices:function(e,t){void 0===t&&(t={});for(var i=[],r=0;r<e.length;r++)o.clockwiseSort(e[r]),i.push(n.create(a.extend({position:o.centre(e[r]),vertices:e[r]},t)));return s.flagCoincidentParts(i)}};e.exports=c},function(e,t,i){var s=i(109),n=i(62),a={parseBody:function(e,t,i,a){var r;void 0===a&&(a={});var o=i.vertices;if(1===o.length)a.vertices=o[0],r=n.create(a),s.flagCoincidentParts(r.parts);else{for(var c=[],h=0;h<o.length;h++){var l=n.create({vertices:o[h]});c.push(l)}s.flagCoincidentParts(c),a.parts=c,r=n.create(a)}return r.label=i.label,n.setPosition(r,{x:e,y:t}),r}};e.exports=a},function(e,t,i){e.exports={AFTER_ADD:i(1407),AFTER_REMOVE:i(1408),AFTER_UPDATE:i(1409),BEFORE_ADD:i(1410),BEFORE_REMOVE:i(1411),BEFORE_UPDATE:i(1412),COLLISION_ACTIVE:i(1413),COLLISION_END:i(1414),COLLISION_START:i(1415),DRAG_END:i(1416),DRAG:i(1417),DRAG_START:i(1418),PAUSE:i(1419),RESUME:i(1420),SLEEP_END:i(1421),SLEEP_START:i(1422)}},function(e,t,i){var s=i(109),n=i(62),a=i(0),r=i(514),o=i(10),c=i(2),h=i(108),l=i(86),d=new a({Extends:o,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(e,t,i){o.call(this),this.tile=t,this.world=e,t.physics.matterBody&&t.physics.matterBody.destroy(),t.physics.matterBody=this;var s=c(i,"body",null),n=c(i,"addToWorld",!0);if(s)this.setBody(s,n);else{var a=t.getCollisionGroup();c(a,"objects",[]).length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i)}},setFromTileRectangle:function(e){void 0===e&&(e={}),h(e,"isStatic")||(e.isStatic=!0),h(e,"addToWorld")||(e.addToWorld=!0);var t=this.tile.getBounds(),i=t.x+t.width/2,n=t.y+t.height/2,a=s.rectangle(i,n,t.width,t.height,e);return this.setBody(a,e.addToWorld),this},setFromTileCollision:function(e){void 0===e&&(e={}),h(e,"isStatic")||(e.isStatic=!0),h(e,"addToWorld")||(e.addToWorld=!0);for(var t=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,a=this.tile.getLeft(),r=this.tile.getTop(),o=this.tile.getCollisionGroup(),d=c(o,"objects",[]),u=[],p=0;p<d.length;p++){var f=d[p],m=a+f.x*t,g=r+f.y*i,y=f.width*t,v=f.height*i,w=null;if(f.rectangle)w=s.rectangle(m+y/2,g+v/2,y,v,e);else if(f.ellipse)w=s.circle(m+y/2,g+v/2,y/2,e);else if(f.polygon||f.polyline){var b=(f.polygon?f.polygon:f.polyline).map((function(e){return{x:e.x*t,y:e.y*i}})),x=l.create(b),k=l.centre(x);m+=k.x,g+=k.y,w=s.fromVertices(m,g,x,e)}w&&u.push(w)}return 1===u.length?this.setBody(u[0],e.addToWorld):u.length>1&&(e.parts=u,this.setBody(n.create(e),e.addToWorld)),this},setBody:function(e,t){return void 0===t&&(t=!0),this.body&&this.removeBody(),this.body=e,this.body.gameObject=this,t&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});e.exports=d},function(e,t,i){var s=i(1389);s.Body=i(62),s.Composite=i(148),s.World=i(1300),s.Detector=i(515),s.Grid=i(1301),s.Pairs=i(1302),s.Pair=i(473),s.Query=i(1390),s.Resolver=i(1303),s.SAT=i(516),s.Constraint=i(219),s.Common=i(42),s.Engine=i(1391),s.Events=i(240),s.Sleeping=i(239),s.Plugin=i(1299),s.Bodies=i(109),s.Composites=i(1292),s.Axes=i(513),s.Bounds=i(100),s.Svg=i(1293),s.Vector=i(99),s.Vertices=i(86),s.World.add=s.Composite.add,s.World.remove=s.Composite.remove,s.World.addComposite=s.Composite.addComposite,s.World.addBody=s.Composite.addBody,s.World.addConstraint=s.Composite.addConstraint,s.World.clear=s.Composite.clear,e.exports=s},function(e,t,i){var s={};e.exports=s;var n=i(42);s._registry={},s.register=function(e){if(s.isPlugin(e)||n.warn("Plugin.register:",s.toString(e),"does not implement all required fields."),e.name in s._registry){var t=s._registry[e.name],i=s.versionParse(e.version).number,a=s.versionParse(t.version).number;i>a?(n.warn("Plugin.register:",s.toString(t),"was upgraded to",s.toString(e)),s._registry[e.name]=e):i<a?n.warn("Plugin.register:",s.toString(t),"can not be downgraded to",s.toString(e)):e!==t&&n.warn("Plugin.register:",s.toString(e),"is already registered to different plugin object")}else s._registry[e.name]=e;return e},s.resolve=function(e){return s._registry[s.dependencyParse(e).name]},s.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},s.isPlugin=function(e){return e&&e.name&&e.version&&e.install},s.isUsed=function(e,t){return e.used.indexOf(t)>-1},s.isFor=function(e,t){var i=e.for&&s.dependencyParse(e.for);return!e.for||t.name===i.name&&s.versionSatisfies(t.version,i.range)},s.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var i=s.dependencies(e),a=n.topologicalSort(i),r=[],o=0;o<a.length;o+=1)if(a[o]!==e.name){var c=s.resolve(a[o]);c?s.isUsed(e,c.name)||(s.isFor(c,e)||(n.warn("Plugin.use:",s.toString(c),"is for",c.for,"but installed on",s.toString(e)+"."),c._warned=!0),c.install?c.install(e):(n.warn("Plugin.use:",s.toString(c),"does not specify an install function."),c._warned=!0),c._warned?(r.push("🔶 "+s.toString(c)),delete c._warned):r.push("✅ "+s.toString(c)),e.used.push(c.name)):r.push("❌ "+a[o])}r.length>0&&!c.silent&&n.info(r.join("  "))}else n.warn("Plugin.use:",s.toString(e),"does not specify any dependencies to install.")},s.dependencies=function(e,t){var i=s.dependencyParse(e),a=i.name;if(!(a in(t=t||{}))){e=s.resolve(e)||e,t[a]=n.map(e.uses||[],(function(t){s.isPlugin(t)&&s.register(t);var a=s.dependencyParse(t),r=s.resolve(t);return r&&!s.versionSatisfies(r.version,a.range)?(n.warn("Plugin.dependencies:",s.toString(r),"does not satisfy",s.toString(a),"used by",s.toString(i)+"."),r._warned=!0,e._warned=!0):r||(n.warn("Plugin.dependencies:",s.toString(t),"used by",s.toString(i),"could not be resolved."),e._warned=!0),a.name}));for(var r=0;r<t[a].length;r+=1)s.dependencies(t[a][r],t);return t}},s.dependencyParse=function(e){return n.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||n.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},s.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||n.warn("Plugin.versionParse:",e,"is not a valid version or range.");var t=e.split("-");e=t[0];var i=isNaN(Number(e[0])),s=i?e.substr(1):e,a=n.map(s.split("."),(function(e){return Number(e)}));return{isRange:i,version:s,range:e,operator:i?e[0]:"",parts:a,prerelease:t[1],number:1e8*a[0]+1e4*a[1]+a[2]}},s.versionSatisfies=function(e,t){t=t||"*";var i=s.versionParse(t),n=i.parts,a=s.versionParse(e),r=a.parts;if(i.isRange){if("*"===i.operator||"*"===e)return!0;if("~"===i.operator)return r[0]===n[0]&&r[1]===n[1]&&r[2]>=n[2];if("^"===i.operator)return n[0]>0?r[0]===n[0]&&a.number>=i.number:n[1]>0?r[1]===n[1]&&r[2]>=n[2]:r[2]===n[2]}return e===t||"*"===e}},function(e,t,i){var s={};e.exports=s;var n=i(148),a=(i(219),i(42));s.create=function(e){var t=n.create(),i={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return a.extend(t,i,e)}},function(e,t,i){var s={};e.exports=s;var n=i(473),a=i(515),r=i(42);s.create=function(e){var t={controller:s,detector:a.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(t,e)},s.update=function(e,t,i,n){var a,r,o,c,h,l=i.world,d=e.buckets,u=!1,p=i.metrics;for(p.broadphaseTests=0,a=0;a<t.length;a++){var f=t[a];if((!f.isSleeping||n)&&!(f.bounds.max.x<l.bounds.min.x||f.bounds.min.x>l.bounds.max.x||f.bounds.max.y<l.bounds.min.y||f.bounds.min.y>l.bounds.max.y)){var m=s._getRegion(e,f);if(!f.region||m.id!==f.region.id||n){p.broadphaseTests+=1,f.region&&!n||(f.region=m);var g=s._regionUnion(m,f.region);for(r=g.startCol;r<=g.endCol;r++)for(o=g.startRow;o<=g.endRow;o++){c=d[h=s._getBucketId(r,o)];var y=r>=m.startCol&&r<=m.endCol&&o>=m.startRow&&o<=m.endRow,v=r>=f.region.startCol&&r<=f.region.endCol&&o>=f.region.startRow&&o<=f.region.endRow;!y&&v&&v&&c&&s._bucketRemoveBody(e,c,f),(f.region===m||y&&!v||n)&&(c||(c=s._createBucket(d,h)),s._bucketAddBody(e,c,f))}f.region=m,u=!0}}}u&&(e.pairsList=s._createActivePairsList(e))},s.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},s._regionUnion=function(e,t){var i=Math.min(e.startCol,t.startCol),n=Math.max(e.endCol,t.endCol),a=Math.min(e.startRow,t.startRow),r=Math.max(e.endRow,t.endRow);return s._createRegion(i,n,a,r)},s._getRegion=function(e,t){var i=t.bounds,n=Math.floor(i.min.x/e.bucketWidth),a=Math.floor(i.max.x/e.bucketWidth),r=Math.floor(i.min.y/e.bucketHeight),o=Math.floor(i.max.y/e.bucketHeight);return s._createRegion(n,a,r,o)},s._createRegion=function(e,t,i,s){return{id:e+","+t+","+i+","+s,startCol:e,endCol:t,startRow:i,endRow:s}},s._getBucketId=function(e,t){return"C"+e+"R"+t},s._createBucket=function(e,t){return e[t]=[]},s._bucketAddBody=function(e,t,i){for(var s=0;s<t.length;s++){var a=t[s];if(!(i.id===a.id||i.isStatic&&a.isStatic)){var r=n.id(i,a),o=e.pairs[r];o?o[2]+=1:e.pairs[r]=[i,a,1]}}t.push(i)},s._bucketRemoveBody=function(e,t,i){t.splice(t.indexOf(i),1);for(var s=0;s<t.length;s++){var a=t[s],r=n.id(i,a),o=e.pairs[r];o&&(o[2]-=1)}},s._createActivePairsList=function(e){var t,i,s=[];t=r.keys(e.pairs);for(var n=0;n<t.length;n++)(i=e.pairs[t[n]])[2]>0?s.push(i):delete e.pairs[t[n]];return s}},function(e,t,i){var s={};e.exports=s;var n=i(473),a=i(42);s._pairMaxIdleLife=1e3,s.create=function(e){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},s.update=function(e,t,i){var s,a,r,o,c=e.list,h=e.table,l=e.collisionStart,d=e.collisionEnd,u=e.collisionActive;for(l.length=0,d.length=0,u.length=0,o=0;o<c.length;o++)c[o].confirmedActive=!1;for(o=0;o<t.length;o++)(s=t[o]).collided&&((r=h[a=n.id(s.bodyA,s.bodyB)])?(r.isActive?u.push(r):l.push(r),n.update(r,s,i),r.confirmedActive=!0):(r=n.create(s,i),h[a]=r,l.push(r),c.push(r)));for(o=0;o<c.length;o++)(r=c[o]).isActive&&!r.confirmedActive&&(n.setActive(r,!1,i),d.push(r))},s.removeOld=function(e,t){var i,n,a,r,o=e.list,c=e.table,h=[];for(r=0;r<o.length;r++)(n=(i=o[r]).collision).bodyA.isSleeping||n.bodyB.isSleeping?i.timeUpdated=t:t-i.timeUpdated>s._pairMaxIdleLife&&h.push(r);for(r=0;r<h.length;r++)delete c[(i=o[a=h[r]-r]).id],o.splice(a,1)},s.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,i){var s={};e.exports=s;var n=i(86),a=i(99),r=i(42),o=i(100);s._restingThresh=4,s._restingThreshTangent=6,s._positionDampen=.9,s._positionWarming=.8,s._frictionNormalMultiplier=5,s.preSolvePosition=function(e){var t,i,s;for(t=0;t<e.length;t++)(i=e[t]).isActive&&(s=i.activeContacts.length,i.collision.parentA.totalContacts+=s,i.collision.parentB.totalContacts+=s)},s.solvePosition=function(e,t,i){var n,a,r,o,c,h,l,d,u,p,f,m,g,y,v,w,b=i*s._positionDampen;for(n=0;n<t.length;n++){var x=t[n];x.previousPositionImpulse.x=x.positionImpulse.x,x.previousPositionImpulse.y=x.positionImpulse.y}for(n=0;n<e.length;n++)(o=e[n]).isActive&&!o.isSensor&&(h=(c=o.collision).parentA,l=c.parentB,d=c.normal,f=h.previousPositionImpulse,m=l.previousPositionImpulse,p=c.penetration,y=m.x-f.x+p.x,v=m.y-f.y+p.y,u=(a=d.x)*y+(r=d.y)*v,o.separation=u,w=(u-o.slop)*b,(h.isStatic||l.isStatic)&&(w*=2),h.isStatic||h.isSleeping||(g=w/h.totalContacts,h.positionImpulse.x+=a*g,h.positionImpulse.y+=r*g),l.isStatic||l.isSleeping||(g=w/l.totalContacts,l.positionImpulse.x-=a*g,l.positionImpulse.y-=r*g))},s.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.totalContacts=0,0!==i.positionImpulse.x||0!==i.positionImpulse.y){for(var r=0;r<i.parts.length;r++){var c=i.parts[r];n.translate(c.vertices,i.positionImpulse),o.update(c.bounds,c.vertices,i.velocity),c.position.x+=i.positionImpulse.x,c.position.y+=i.positionImpulse.y}i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,a.dot(i.positionImpulse,i.velocity)<0?(i.positionImpulse.x=0,i.positionImpulse.y=0):(i.positionImpulse.x*=s._positionWarming,i.positionImpulse.y*=s._positionWarming)}}},s.preSolveVelocity=function(e){var t,i,s,n,r,o,c,h,l,d,u,p,f,m,g=a._temp[0],y=a._temp[1];for(t=0;t<e.length;t++)if((s=e[t]).isActive&&!s.isSensor)for(n=s.activeContacts,o=(r=s.collision).parentA,c=r.parentB,h=r.normal,l=r.tangent,i=0;i<n.length;i++)u=(d=n[i]).vertex,p=d.normalImpulse,f=d.tangentImpulse,0===p&&0===f||(g.x=h.x*p+l.x*f,g.y=h.y*p+l.y*f,o.isStatic||o.isSleeping||(m=a.sub(u,o.position,y),o.positionPrev.x+=g.x*o.inverseMass,o.positionPrev.y+=g.y*o.inverseMass,o.anglePrev+=a.cross(m,g)*o.inverseInertia),c.isStatic||c.isSleeping||(m=a.sub(u,c.position,y),c.positionPrev.x-=g.x*c.inverseMass,c.positionPrev.y-=g.y*c.inverseMass,c.anglePrev-=a.cross(m,g)*c.inverseInertia))},s.solveVelocity=function(e,t){for(var i=t*t,n=a._temp[0],o=a._temp[1],c=a._temp[2],h=a._temp[3],l=a._temp[4],d=a._temp[5],u=0;u<e.length;u++){var p=e[u];if(p.isActive&&!p.isSensor){var f=p.collision,m=f.parentA,g=f.parentB,y=f.normal,v=f.tangent,w=p.activeContacts,b=1/w.length;m.velocity.x=m.position.x-m.positionPrev.x,m.velocity.y=m.position.y-m.positionPrev.y,g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,m.angularVelocity=m.angle-m.anglePrev,g.angularVelocity=g.angle-g.anglePrev;for(var x=0;x<w.length;x++){var k=w[x],T=k.vertex,_=a.sub(T,m.position,o),S=a.sub(T,g.position,c),C=a.add(m.velocity,a.mult(a.perp(_),m.angularVelocity),h),P=a.add(g.velocity,a.mult(a.perp(S),g.angularVelocity),l),B=a.sub(C,P,d),A=a.dot(y,B),E=a.dot(v,B),M=Math.abs(E),O=r.sign(E),I=(1+p.restitution)*A,R=r.clamp(p.separation+A,0,1)*s._frictionNormalMultiplier,D=E,N=1/0;M>p.friction*p.frictionStatic*R*i&&(N=M,D=r.clamp(p.friction*O*i,-N,N));var F=a.cross(_,y),L=a.cross(S,y),Y=b/(m.inverseMass+g.inverseMass+m.inverseInertia*F*F+g.inverseInertia*L*L);if(I*=Y,D*=Y,A<0&&A*A>s._restingThresh*i)k.normalImpulse=0;else{var U=k.normalImpulse;k.normalImpulse=Math.min(k.normalImpulse+I,0),I=k.normalImpulse-U}if(E*E>s._restingThreshTangent*i)k.tangentImpulse=0;else{var V=k.tangentImpulse;k.tangentImpulse=r.clamp(k.tangentImpulse+D,-N,N),D=k.tangentImpulse-V}n.x=y.x*I+v.x*D,n.y=y.y*I+v.y*D,m.isStatic||m.isSleeping||(m.positionPrev.x+=n.x*m.inverseMass,m.positionPrev.y+=n.y*m.inverseMass,m.anglePrev+=a.cross(_,n)*m.inverseInertia),g.isStatic||g.isSleeping||(g.positionPrev.x-=n.x*g.inverseMass,g.positionPrev.y-=n.y*g.inverseMass,g.anglePrev-=a.cross(S,n)*g.inverseInertia)}}}}},function(e,t,i){e.exports={BasePlugin:i(474),DefaultPlugins:i(175),PluginCache:i(23),PluginManager:i(370),ScenePlugin:i(1305)}},function(e,t,i){var s=i(474),n=i(0),a=i(22),r=new n({Extends:s,initialize:function(e,t){s.call(this,t),this.scene=e,this.systems=e.sys,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});e.exports=r},function(e,t,i){var s=i(18),n=i(177),a={Center:i(359),Events:i(92),Orientation:i(360),ScaleManager:i(371),ScaleModes:i(361),Zoom:i(362)};a=s(!1,a,n.CENTER),a=s(!1,a,n.ORIENTATION),a=s(!1,a,n.SCALE_MODE),a=s(!1,a,n.ZOOM),e.exports=a},function(e,t,i){var s=i(125),n=i(18),a={Events:i(22),SceneManager:i(373),ScenePlugin:i(1308),Settings:i(375),Systems:i(180)};a=n(!1,a,s),e.exports=a},function(e,t,i){var s=i(19),n=i(0),a=i(22),r=i(2),o=i(23),c=new n({initialize:function(e){this.scene=e,this.systems=e.sys,this.settings=e.sys.settings,this.key=e.sys.settings.key,this.manager=e.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,e.sys.events.once(a.BOOT,this.boot,this),e.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",e,t),this},restart:function(e){var t=this.key;return this.manager.queueOp("stop",t),this.manager.queueOp("start",t,e),this},transition:function(e){void 0===e&&(e={});var t=r(e,"target",!1),i=this.manager.getScene(t);if(!t||!this.checkValidTransition(i))return!1;var s=r(e,"duration",1e3);this._elapsed=0,this._target=i,this._duration=s,this._willSleep=r(e,"sleep",!1),this._willRemove=r(e,"remove",!1);var n=r(e,"onUpdate",null);n&&(this._onUpdate=n,this._onUpdateScope=r(e,"onUpdateScope",this.scene));var o=r(e,"allowInput",!1);this.settings.transitionAllowInput=o;var c=i.sys.settings;return c.isTransition=!0,c.transitionFrom=this.scene,c.transitionDuration=s,c.transitionAllowInput=o,r(e,"moveAbove",!1)?this.manager.moveAbove(this.key,t):r(e,"moveBelow",!1)&&this.manager.moveBelow(this.key,t),i.sys.isSleeping()?i.sys.wake(r(e,"data")):this.manager.start(t,r(e,"data")),this.systems.events.emit(a.TRANSITION_OUT,i,s),this.systems.events.on(a.UPDATE,this.step,this),!0},checkValidTransition:function(e){return!(!e||e.sys.isActive()||e.sys.isTransitioning()||e===this.scene||this.systems.isTransitioning())},step:function(e,t){this._elapsed+=t,this.transitionProgress=s(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var e=this._target.sys,t=this._target.sys.settings;this.systems.events.off(a.UPDATE,this.step,this),e.events.emit(a.TRANSITION_COMPLETE,this.scene),t.isTransition=!1,t.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(e,t,i,s){return this.manager.add(e,t,i,s)},launch:function(e,t){return e&&e!==this.key&&this.manager.queueOp("start",e,t),this},run:function(e,t){return e&&e!==this.key&&this.manager.queueOp("run",e,t),this},pause:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("pause",e,t),this},resume:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("resume",e,t),this},sleep:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("sleep",e,t),this},wake:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("wake",e,t),this},switch:function(e){return e!==this.key&&this.manager.queueOp("switch",this.key,e),this},stop:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("stop",e,t),this},setActive:function(e,t,i){void 0===t&&(t=this.key);var s=this.manager.getScene(t);return s&&s.sys.setActive(e,i),this},setVisible:function(e,t){void 0===t&&(t=this.key);var i=this.manager.getScene(t);return i&&i.sys.setVisible(e),this},isSleeping:function(e){return void 0===e&&(e=this.key),this.manager.isSleeping(e)},isActive:function(e){return void 0===e&&(e=this.key),this.manager.isActive(e)},isPaused:function(e){return void 0===e&&(e=this.key),this.manager.isPaused(e)},isVisible:function(e){return void 0===e&&(e=this.key),this.manager.isVisible(e)},swapPosition:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.swapPosition(e,t),this},moveAbove:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.moveAbove(e,t),this},moveBelow:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.moveBelow(e,t),this},remove:function(e){return void 0===e&&(e=this.key),this.manager.remove(e),this},moveUp:function(e){return void 0===e&&(e=this.key),this.manager.moveUp(e),this},moveDown:function(e){return void 0===e&&(e=this.key),this.manager.moveDown(e),this},bringToTop:function(e){return void 0===e&&(e=this.key),this.manager.bringToTop(e),this},sendToBack:function(e){return void 0===e&&(e=this.key),this.manager.sendToBack(e),this},get:function(e){return this.manager.getScene(e)},getIndex:function(e){return void 0===e&&(e=this.key),this.manager.getIndex(e)},shutdown:function(){var e=this.systems.events;e.off(a.SHUTDOWN,this.shutdown,this),e.off(a.POST_UPDATE,this.step,this),e.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});o.register("ScenePlugin",c,"scenePlugin"),e.exports=c},function(e,t,i){e.exports={List:i(129),Map:i(162),ProcessQueue:i(186),RTree:i(470),Set:i(133),Size:i(372)}},function(e,t,i){var s=i(18),n=i(1311),a={CanvasTexture:i(377),Events:i(121),FilterMode:n,Frame:i(94),Parsers:i(379),Texture:i(182),TextureManager:i(376),TextureSource:i(378)};a=s(!1,a,n),e.exports=a},function(e,t){e.exports={LINEAR:0,NEAREST:1}},function(e,t,i){e.exports={Components:i(141),Parsers:i(1342),Formats:i(32),ImageCollection:i(485),ParseToTilemap:i(227),Tile:i(74),Tilemap:i(494),TilemapCreator:i(1351),TilemapFactory:i(1352),Tileset:i(104),LayerData:i(102),MapData:i(103),ObjectLayer:i(488),DynamicTilemapLayer:i(495),StaticTilemapLayer:i(496)}},function(e,t,i){var s=i(24),n=i(51);e.exports=function(e,t,i,a,r,o,c,h){e<0&&(e=0),t<0&&(t=0),void 0===c&&(c=!0);for(var l=s(e,t,i,a,null,h),d=r-e,u=o-t,p=0;p<l.length;p++){var f=l[p].x+d,m=l[p].y+u;f>=0&&f<h.width&&m>=0&&m<h.height&&h.data[m][f]&&h.data[m][f].copy(l[p])}c&&n(r-1,o-1,i+2,a+2,h)}},function(e,t,i){var s=i(143),n=i(144),a=i(24),r=i(475);e.exports=function(e,t,i,o,c,h){void 0===i&&(i={}),Array.isArray(e)||(e=[e]);var l=h.tilemapLayer;void 0===o&&(o=l.scene),void 0===c&&(c=o.cameras.main);var d,u=a(0,0,h.width,h.height,null,h),p=[];for(d=0;d<u.length;d++){var f=u[d];if(-1!==e.indexOf(f.index)){i.x=s(f.x,c,h),i.y=n(f.y,c,h);var m=o.make.sprite(i);p.push(m)}}if("number"==typeof t)for(d=0;d<e.length;d++)r(e[d],t,0,0,h.width,h.height,h);else if(Array.isArray(t))for(d=0;d<e.length;d++)r(e[d],t[d],0,0,h.width,h.height,h);return p}},function(e,t,i){var s=i(93),n=i(330);e.exports=function(e,t,i,a){void 0===i&&(i=[]),void 0===a&&(a=0),i.length=0;var r,o,c,h=e.tilemapLayer.tilemap,l=e.tilemapLayer,d=e.data,u=e.width,p=e.height,f=Math.floor(h.tileWidth*l.scaleX),m=Math.floor(h.tileHeight*l.scaleY),g=0,y=u,v=0,w=p;if(!l.skipCull&&1===l.scrollFactorX&&1===l.scrollFactorY){var b=s(t.worldView.x-l.x,f,0,!0)-l.cullPaddingX,x=n(t.worldView.right-l.x,f,0,!0)+l.cullPaddingX,k=s(t.worldView.y-l.y,m,0,!0)-l.cullPaddingY,T=n(t.worldView.bottom-l.y,m,0,!0)+l.cullPaddingY;g=Math.max(0,b),y=Math.min(u,x),v=Math.max(0,k),w=Math.min(p,T)}if(0===a)for(o=v;o<w;o++)for(r=g;d[o]&&r<y;r++)(c=d[o][r])&&-1!==c.index&&c.visible&&0!==c.alpha&&i.push(c);else if(1===a)for(o=v;o<w;o++)for(r=y;d[o]&&r>=g;r--)(c=d[o][r])&&-1!==c.index&&c.visible&&0!==c.alpha&&i.push(c);else if(2===a)for(o=w;o>=v;o--)for(r=g;d[o]&&r<y;r++)(c=d[o][r])&&-1!==c.index&&c.visible&&0!==c.alpha&&i.push(c);else if(3===a)for(o=w;o>=v;o--)for(r=y;d[o]&&r>=g;r--)(c=d[o][r])&&-1!==c.index&&c.visible&&0!==c.alpha&&i.push(c);return l.tilesDrawn=i.length,l.tilesTotal=u*p,i}},function(e,t,i){var s=i(24),n=i(51),a=i(73);e.exports=function(e,t,i,r,o,c,h){for(var l=-1!==h.collideIndexes.indexOf(e),d=s(t,i,r,o,null,h),u=0;u<d.length;u++)d[u].index=e,a(d[u],l);c&&n(t-1,i-1,r+2,o+2,h)}},function(e,t,i){var s=i(24);e.exports=function(e,t,i,n,a,r,o,c){return s(i,n,a,r,o,c).filter(e,t)}},function(e,t){e.exports=function(e,t,i,s){void 0===t&&(t=0),void 0===i&&(i=!1);var n,a,r,o=0;if(i){for(a=s.height-1;a>=0;a--)for(n=s.width-1;n>=0;n--)if((r=s.data[a][n])&&r.index===e){if(o===t)return r;o+=1}}else for(a=0;a<s.height;a++)for(n=0;n<s.width;n++)if((r=s.data[a][n])&&r.index===e){if(o===t)return r;o+=1}return null}},function(e,t,i){var s=i(24);e.exports=function(e,t,i,n,a,r,o,c){return s(i,n,a,r,o,c).find(e,t)||null}},function(e,t,i){var s=i(24);e.exports=function(e,t,i,n,a,r,o,c){s(i,n,a,r,o,c).forEach(e,t)}},function(e,t,i){var s=i(142),n=i(63),a=i(64);e.exports=function(e,t,i,r,o){var c=n(e,!0,r,o),h=a(t,!0,r,o);return s(c,h,i,o)}},function(e,t,i){var s=i(430),n=i(24),a=i(431),r=i(1),o=i(143),c=i(144),h=i(63),l=i(64),d=function(e,t){return a.RectangleToTriangle(t,e)};e.exports=function(e,t,i,u){if(void 0===e)return[];var p=r;e instanceof s.Circle?p=a.CircleToRectangle:e instanceof s.Rectangle?p=a.RectangleToRectangle:e instanceof s.Triangle?p=d:e instanceof s.Line&&(p=a.LineToRectangle);var f=h(e.left,!0,i,u),m=l(e.top,!0,i,u),g=Math.ceil(h(e.right,!1,i,u)),y=Math.ceil(l(e.bottom,!1,i,u)),v=Math.max(g-f,1),w=Math.max(y-m,1),b=n(f,m,v,w,t,u),x=u.tileWidth,k=u.tileHeight;u.tilemapLayer&&(x*=u.tilemapLayer.scaleX,k*=u.tilemapLayer.scaleY);for(var T=[],_=new s.Rectangle(0,0,x,k),S=0;S<b.length;S++){var C=b[S];_.x=o(C.x,i,u),_.y=c(C.y,i,u),p(e,_)&&T.push(C)}return T}},function(e,t,i){var s=i(24),n=i(63),a=i(64);e.exports=function(e,t,i,r,o,c,h){var l=n(e,!0,c,h),d=a(t,!0,c,h),u=Math.ceil(n(e+i,!1,c,h)),p=Math.ceil(a(t+r,!1,c,h));return s(l,d,u-l,p-d,o,h)}},function(e,t,i){var s=i(476),n=i(63),a=i(64);e.exports=function(e,t,i,r){var o=n(e,!0,i,r),c=a(t,!0,i,r);return s(o,c,r)}},function(e,t,i){var s=i(221),n=i(63),a=i(64);e.exports=function(e,t,i,r,o,c){var h=n(t,!0,o,c),l=a(i,!0,o,c);return s(e,h,l,r,c)}},function(e,t,i){var s=i(51),n=i(221);e.exports=function(e,t,i,a,r){if(!Array.isArray(e))return null;void 0===a&&(a=!0),Array.isArray(e[0])||(e=[e]);for(var o=e.length,c=e[0].length,h=0;h<o;h++)for(var l=0;l<c;l++){var d=e[h][l];n(d,t+l,i+h,!1,r)}a&&s(t-1,i-1,c+2,o+2,r)}},function(e,t,i){var s=i(24),n=i(185);e.exports=function(e,t,i,a,r,o){var c,h=s(e,t,i,a,null,o);if(void 0===r)for(r=[],c=0;c<h.length;c++)-1===r.indexOf(h[c].index)&&r.push(h[c].index);for(c=0;c<h.length;c++)h[c].index=n(r)}},function(e,t,i){var s=i(477),n=i(63),a=i(64);e.exports=function(e,t,i,r,o,c){var h=n(e,!0,o,c),l=a(t,!0,o,c);return s(h,l,i,r,c)}},function(e,t,i){var s=i(24),n=i(354),a=new n(105,210,231,150),r=new n(243,134,48,200),o=new n(40,39,37,150);e.exports=function(e,t,i){void 0===t&&(t={});var n=void 0!==t.tileColor?t.tileColor:a,c=void 0!==t.collidingTileColor?t.collidingTileColor:r,h=void 0!==t.faceColor?t.faceColor:o,l=s(0,0,i.width,i.height,null,i);e.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),e.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var d=0;d<l.length;d++){var u=l[d],p=u.width,f=u.height,m=u.pixelX,g=u.pixelY,y=u.collides?c:n;null!==y&&(e.fillStyle(y.color,y.alpha/255),e.fillRect(m,g,p,f)),m+=1,g+=1,p-=2,f-=2,null!==h&&(e.lineStyle(1,h.color,h.alpha/255),u.faceTop&&e.lineBetween(m,g,m+p,g),u.faceRight&&e.lineBetween(m+p,g,m+p,g+f),u.faceBottom&&e.lineBetween(m,g+f,m+p,g+f),u.faceLeft&&e.lineBetween(m,g,m,g+f))}}},function(e,t,i){var s=i(73),n=i(51),a=i(222);e.exports=function(e,t,i,r,o){void 0===t&&(t=!0),void 0===i&&(i=!0),Array.isArray(e)||(e=[e]),void 0===o&&(o=!0);for(var c=0;c<e.length;c++)a(e[c],t,r);if(o)for(var h=0;h<r.height;h++)for(var l=0;l<r.width;l++){var d=r.data[h][l];d&&-1!==e.indexOf(d.index)&&s(d,t)}i&&n(0,0,r.width,r.height,r)}},function(e,t,i){var s=i(73),n=i(51),a=i(222);e.exports=function(e,t,i,r,o,c){if(void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===c&&(c=!0),!(e>t)){for(var h=e;h<=t;h++)a(h,i,o);if(c)for(var l=0;l<o.height;l++)for(var d=0;d<o.width;d++){var u=o.data[l][d];u&&u.index>=e&&u.index<=t&&s(u,i)}r&&n(0,0,o.width,o.height,o)}}},function(e,t,i){var s=i(73),n=i(51),a=i(222);e.exports=function(e,t,i,r){void 0===t&&(t=!0),void 0===i&&(i=!0),Array.isArray(e)||(e=[e]);for(var o=0;o<r.height;o++)for(var c=0;c<r.width;c++){var h=r.data[o][c];h&&-1===e.indexOf(h.index)&&(s(h,t),a(h.index,t,r))}i&&n(0,0,r.width,r.height,r)}},function(e,t,i){var s=i(73),n=i(51),a=i(108);e.exports=function(e,t,i,r){void 0===t&&(t=!0),void 0===i&&(i=!0);for(var o=0;o<r.height;o++)for(var c=0;c<r.width;c++){var h=r.data[o][c];if(h)for(var l in e)if(a(h.properties,l)){var d=e[l];Array.isArray(d)||(d=[d]);for(var u=0;u<d.length;u++)h.properties[l]===d[u]&&s(h,t)}}i&&n(0,0,r.width,r.height,r)}},function(e,t,i){var s=i(73),n=i(51);e.exports=function(e,t,i){void 0===e&&(e=!0),void 0===t&&(t=!0);for(var a=0;a<i.height;a++)for(var r=0;r<i.width;r++){var o=i.data[a][r];if(o){var c=o.getCollisionGroup();c&&c.objects&&c.objects.length>0&&s(o,e)}}t&&n(0,0,i.width,i.height,i)}},function(e,t){e.exports=function(e,t,i,s){if("number"==typeof e)s.callbacks[e]=null!==t?{callback:t,callbackContext:i}:void 0;else for(var n=0,a=e.length;n<a;n++)s.callbacks[e[n]]=null!==t?{callback:t,callbackContext:i}:void 0}},function(e,t,i){var s=i(24);e.exports=function(e,t,i,n,a,r,o){for(var c=s(e,t,i,n,null,o),h=0;h<c.length;h++)c[h].setCollisionCallback(a,r)}},function(e,t,i){var s=i(24),n=i(114);e.exports=function(e,t,i,a,r){var o=s(e,t,i,a,null,r),c=o.map((function(e){return e.index}));n(c);for(var h=0;h<o.length;h++)o[h].index=c[h]}},function(e,t,i){var s=i(24);e.exports=function(e,t,i,n,a,r,o){for(var c=s(i,n,a,r,null,o),h=0;h<c.length;h++)c[h]&&(c[h].index===e?c[h].index=t:c[h].index===t&&(c[h].index=e))}},function(e,t,i){var s=i(143),n=i(144),a=i(3);e.exports=function(e,t,i,r,o){return void 0===i&&(i=new a(0,0)),i.x=s(e,r,o),i.y=n(t,r,o),i}},function(e,t,i){var s=i(24);e.exports=function(e,t,i,n,a,r){if(void 0!==a){var o,c=s(e,t,i,n,null,r),h=0;for(o=0;o<a.length;o++)h+=a[o].weight;if(!(h<=0))for(o=0;o<c.length;o++){for(var l=Math.random()*h,d=0,u=-1,p=0;p<a.length;p++)if(l<=(d+=a[p].weight)){var f=a[p].index;u=Array.isArray(f)?f[Math.floor(Math.random()*f.length)]:f;break}c[o].index=u}}}},function(e,t,i){var s=i(63),n=i(64),a=i(3);e.exports=function(e,t,i,r,o,c){return void 0===r&&(r=new a(0,0)),r.x=s(e,i,o,c),r.y=n(t,i,o,c),r}},function(e,t,i){e.exports={Parse:i(478),Parse2DArray:i(223),ParseCSV:i(479),Impact:i(1343),Tiled:i(1344)}},function(e,t,i){e.exports={ParseTileLayers:i(492),ParseTilesets:i(493),ParseWeltmeister:i(491)}},function(e,t,i){e.exports={AssignTileProperties:i(490),Base64Decode:i(482),BuildTilesetIndex:i(489),ParseGID:i(224),ParseImageLayers:i(483),ParseJSONTiled:i(480),ParseObject:i(226),ParseObjectLayers:i(487),ParseTileLayers:i(481),ParseTilesets:i(484)}},function(e,t,i){var s=i(1),n=i(1);s=i(1346),n=i(1347),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t,i){var s=i(9);e.exports=function(e,t,i,n){t.cull(n);var a=t.culledTiles,r=a.length,o=n.alpha*t.alpha;if(!(0===r||o<=0))for(var c=t.gidMap,h=t.pipeline,l=s.getTintAppendFloatAlphaAndSwap,d=t.scrollFactorX,u=t.scrollFactorY,p=t.x,f=t.y,m=t.scaleX,g=t.scaleY,y=t.tileset,v=0;v<y.length;v++)for(var w=y[v],b=w.glTexture,x=0;x<r;x++){var k=a[x],T=c[k.index];if(T===w){var _=T.getTileTextureCoordinates(k.index);if(null!==_){var S=k.width,C=k.height,P=_.x,B=_.y,A=.5*k.width,E=.5*k.height,M=l(k.tint,o*k.alpha);h.batchTexture(t,b,b.width,b.height,p+(A+k.pixelX)*m,f+(E+k.pixelY)*g,k.width,k.height,m,g,k.rotation,k.flipX,k.flipY,d,u,A,E,P,B,S,C,M,M,M,M,!1,0,0,n,null,!0)}}}}},function(e,t){e.exports=function(e,t,i,s,n){t.cull(s);var a=t.culledTiles,r=a.length;if(0!==r){var o=e._tempMatrix1,c=e._tempMatrix2,h=e._tempMatrix3;c.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),o.copyFrom(s.matrix);var l=e.currentContext,d=t.gidMap;l.save(),n?(o.multiplyWithOffset(n,-s.scrollX*t.scrollFactorX,-s.scrollY*t.scrollFactorY),c.e=t.x,c.f=t.y,o.multiply(c,h),h.copyToContext(l)):(c.e-=s.scrollX*t.scrollFactorX,c.f-=s.scrollY*t.scrollFactorY,c.copyToContext(l));var u=s.alpha*t.alpha;(!e.antialias||t.scaleX>1||t.scaleY>1)&&(l.imageSmoothingEnabled=!1);for(var p=0;p<r;p++){var f=a[p],m=d[f.index];if(m){var g=m.image.getSourceImage(),y=m.getTileTextureCoordinates(f.index);if(y){var v=f.width/2,w=f.height/2;l.save(),l.translate(f.pixelX+v,f.pixelY+w),0!==f.rotation&&l.rotate(f.rotation),(f.flipX||f.flipY)&&l.scale(f.flipX?-1:1,f.flipY?-1:1),l.globalAlpha=u*f.alpha,l.drawImage(g,y.x,y.y,f.width,f.height,-v,-w,f.width,f.height),l.restore()}}}l.restore()}}},function(e,t,i){var s=i(1),n=i(1);s=i(1349),n=i(1350),e.exports={renderWebGL:s,renderCanvas:n}},function(e,t){e.exports=function(e,t,i,s){var n=t.tileset,a=t.pipeline,r=a.vertexBuffer;e.setPipeline(a),a.modelIdentity(),a.modelTranslate(t.x-s.scrollX*t.scrollFactorX,t.y-s.scrollY*t.scrollFactorY,0),a.modelScale(t.scaleX,t.scaleY,1),a.viewLoad2D(s.matrix.matrix);for(var o=0;o<n.length;o++)t.upload(s,o),t.vertexCount[o]>0&&(e.currentPipeline&&e.currentPipeline.vertexCount>0&&e.flush(),a.vertexBuffer=t.vertexBuffer[o],e.setPipeline(a),e.setTexture2D(n[o].glTexture,0),e.gl.drawArrays(a.topology,0,t.vertexCount[o]));a.vertexBuffer=r,a.viewIdentity(),a.modelIdentity()}},function(e,t){e.exports=function(e,t,i,s,n){t.cull(s);var a=t.culledTiles,r=a.length;if(0!==r){var o=e._tempMatrix1,c=e._tempMatrix2,h=e._tempMatrix3;c.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),o.copyFrom(s.matrix);var l=e.currentContext,d=t.gidMap;l.save(),n?(o.multiplyWithOffset(n,-s.scrollX*t.scrollFactorX,-s.scrollY*t.scrollFactorY),c.e=t.x,c.f=t.y,o.multiply(c,h),h.copyToContext(l)):(c.e-=s.scrollX*t.scrollFactorX,c.f-=s.scrollY*t.scrollFactorY,c.copyToContext(l));var u=s.alpha*t.alpha;(!e.antialias||t.scaleX>1||t.scaleY>1)&&(l.imageSmoothingEnabled=!1);for(var p=0;p<r;p++){var f=a[p],m=d[f.index];if(m){var g=m.image.getSourceImage(),y=m.getTileTextureCoordinates(f.index);if(y){var v=m.tileWidth,w=m.tileHeight,b=v/2,x=w/2;l.save(),l.translate(f.pixelX+b,f.pixelY+x),0!==f.rotation&&l.rotate(f.rotation),(f.flipX||f.flipY)&&l.scale(f.flipX?-1:1,f.flipY?-1:1),l.globalAlpha=u*f.alpha,l.drawImage(g,y.x,y.y,v,w,-b,-x,v,w),l.restore()}}}l.restore()}}},function(e,t,i){var s=i(16),n=i(227);s.register("tilemap",(function(e){var t=void 0!==e?e:{};return n(this.scene,t.key,t.tileWidth,t.tileHeight,t.width,t.height,t.data,t.insertNull)}))},function(e,t,i){var s=i(5),n=i(227);s.register("tilemap",(function(e,t,i,s,a,r,o){return null===e&&(e=void 0),null===t&&(t=void 0),null===i&&(i=void 0),null===s&&(s=void 0),null===a&&(a=void 0),n(this.scene,e,t,i,s,a,r,o)}))},function(e,t,i){e.exports={Clock:i(1354),TimerEvent:i(497)}},function(e,t,i){var s=i(0),n=i(23),a=i(22),r=i(497),o=new s({initialize:function(e){this.scene=e,this.systems=e.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],e.sys.events.once(a.BOOT,this.boot,this),e.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(a.PRE_UPDATE,this.preUpdate,this),e.on(a.UPDATE,this.update,this),e.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(e){var t=new r(e);return this._pendingInsertion.push(t),t},delayedCall:function(e,t,i,s){return this.addEvent({delay:e,callback:t,args:i,callbackScope:s})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var e=this._pendingRemoval.length,t=this._pendingInsertion.length;if(0!==e||0!==t){var i,s;for(i=0;i<e;i++){s=this._pendingRemoval[i];var n=this._active.indexOf(s);n>-1&&this._active.splice(n,1),s.destroy()}for(i=0;i<t;i++)s=this._pendingInsertion[i],this._active.push(s);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(e,t){if(this.now=e,!this.paused){t*=this.timeScale;for(var i=0;i<this._active.length;i++){var s=this._active[i];if(!s.paused&&(s.elapsed+=t*s.timeScale,s.elapsed>=s.delay)){var n=s.elapsed-s.delay;s.elapsed=s.delay,!s.hasDispatched&&s.callback&&(s.hasDispatched=!0,s.callback.apply(s.callbackScope,s.args)),s.repeatCount>0?(s.repeatCount--,s.elapsed=n,s.hasDispatched=!1):this._pendingRemoval.push(s)}}}},shutdown:function(){var e;for(e=0;e<this._pendingInsertion.length;e++)this._pendingInsertion[e].destroy();for(e=0;e<this._active.length;e++)this._active[e].destroy();for(e=0;e<this._pendingRemoval.length;e++)this._pendingRemoval[e].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var t=this.systems.events;t.off(a.PRE_UPDATE,this.preUpdate,this),t.off(a.UPDATE,this.update,this),t.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});n.register("Clock",o,"time"),e.exports=o},function(e,t,i){var s=i(89),n=i(18),a={Builders:i(1356),Events:i(232),TweenManager:i(1372),Tween:i(231),TweenData:i(233),Timeline:i(503)};a=n(!1,a,s),e.exports=a},function(e,t,i){e.exports={GetBoolean:i(88),GetEaseFunction:i(69),GetNewValue:i(145),GetProps:i(498),GetTargets:i(228),GetTweens:i(499),GetValueOp:i(229),NumberTweenBuilder:i(500),StaggerBuilder:i(501),TimelineBuilder:i(502),TweenBuilder:i(146)}},function(e,t){e.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(e,t){e.exports="complete"},function(e,t){e.exports="loop"},function(e,t){e.exports="pause"},function(e,t){e.exports="resume"},function(e,t){e.exports="start"},function(e,t){e.exports="update"},function(e,t){e.exports="active"},function(e,t){e.exports="complete"},function(e,t){e.exports="loop"},function(e,t){e.exports="repeat"},function(e,t){e.exports="start"},function(e,t){e.exports="stop"},function(e,t){e.exports="update"},function(e,t){e.exports="yoyo"},function(e,t,i){var s=i(123),n=i(0),a=i(500),r=i(23),o=i(22),c=i(501),h=i(502),l=i(89),d=i(146),u=new n({initialize:function(e){this.scene=e,this.systems=e.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,e.sys.events.once(o.BOOT,this.boot,this),e.sys.events.on(o.START,this.start,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(o.PRE_UPDATE,this.preUpdate,this),e.on(o.UPDATE,this.update,this),e.once(o.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(e){return h(this,e)},timeline:function(e){var t=h(this,e);return t.paused||(this._add.push(t),this._toProcess++),t},create:function(e){return d(this,e)},add:function(e){var t=d(this,e);return this._add.push(t),this._toProcess++,t},existing:function(e){return this._add.push(e),this._toProcess++,this},addCounter:function(e){var t=a(this,e);return this._add.push(t),this._toProcess++,t},stagger:function(e,t){return c(e,t)},preUpdate:function(){if(0!==this._toProcess){var e,t,i=this._destroy,s=this._active,n=this._pending;for(e=0;e<i.length;e++){t=i[e];var a=s.indexOf(t);-1===a?(a=n.indexOf(t))>-1&&(t.state=l.REMOVED,n.splice(a,1)):(t.state=l.REMOVED,s.splice(a,1))}for(i.length=0,i=this._add,e=0;e<i.length;e++)(t=i[e]).state===l.PENDING_ADD&&(t.init()?(t.play(),this._active.push(t)):this._pending.push(t));i.length=0,this._toProcess=0}},update:function(e,t){var i,s=this._active;t*=this.timeScale;for(var n=0;n<s.length;n++)(i=s[n]).update(e,t)&&(this._destroy.push(i),this._toProcess++)},remove:function(e){return s(this._add,e),s(this._pending,e),s(this._active,e),s(this._destroy,e),e.state=l.REMOVED,this},makeActive:function(e){if(-1!==this._add.indexOf(e)||-1!==this._active.indexOf(e))return this;var t=this._pending.indexOf(e);return-1!==t&&this._pending.splice(t,1),this._add.push(e),e.state=l.PENDING_ADD,this._toProcess++,this},each:function(e,t){for(var i=[null],s=1;s<arguments.length;s++)i.push(arguments[s]);for(var n in this.list)i[0]=this.list[n],e.apply(t,i)},getAllTweens:function(){for(var e=this._active,t=[],i=0;i<e.length;i++)t.push(e[i]);return t},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(e){var t,i,s=this._active,n=[];if(Array.isArray(e))for(i=0;i<s.length;i++){t=s[i];for(var a=0;a<e.length;a++)t.hasTarget(e[a])&&n.push(t)}else for(i=0;i<s.length;i++)(t=s[i]).hasTarget(e)&&n.push(t);return n},isTweening:function(e){for(var t,i=this._active,s=0;s<i.length;s++)if((t=i[s]).hasTarget(e)&&t.isPlaying())return!0;return!1},killAll:function(){for(var e=this.getAllTweens(),t=0;t<e.length;t++)e[t].stop();return this},killTweensOf:function(e){for(var t=this.getTweensOf(e),i=0;i<t.length;i++)t[i].stop();return this},pauseAll:function(){for(var e=this._active,t=0;t<e.length;t++)e[t].pause();return this},resumeAll:function(){for(var e=this._active,t=0;t<e.length;t++)e[t].resume();return this},setGlobalTimeScale:function(e){return this.timeScale=e,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var e=this.systems.events;e.off(o.PRE_UPDATE,this.preUpdate,this),e.off(o.UPDATE,this.update,this),e.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});r.register("TweenManager",u,"tweens"),e.exports=u},function(e,t,i){e.exports={Array:i(183),Base64:i(1374),Objects:i(1376),String:i(1380)}},function(e,t,i){e.exports={ArrayBufferToBase64:i(1375),Base64ToArrayBuffer:i(388)}},function(e,t){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports=function(e,t){for(var s=new Uint8Array(e),n=s.length,a=t?"data:"+t+";base64,":"",r=0;r<n;r+=3)a+=i[s[r]>>2],a+=i[(3&s[r])<<4|s[r+1]>>4],a+=i[(15&s[r+1])<<2|s[r+2]>>6],a+=i[63&s[r+2]];return n%3==2?a=a.substring(0,a.length-1)+"=":n%3==1&&(a=a.substring(0,a.length-2)+"=="),a}},function(e,t,i){e.exports={Clone:i(67),Extend:i(18),GetAdvancedValue:i(15),GetFastValue:i(2),GetMinMaxValue:i(1377),GetValue:i(6),HasAll:i(1378),HasAny:i(407),HasValue:i(108),IsPlainObject:i(7),Merge:i(126),MergeRight:i(1379),Pick:i(486),SetValue:i(427)}},function(e,t,i){var s=i(6),n=i(19);e.exports=function(e,t,i,a,r){void 0===r&&(r=i);var o=s(e,t,r);return n(o,i,a)}},function(e,t){e.exports=function(e,t){for(var i=0;i<t.length;i++)if(!e.hasOwnProperty(t[i]))return!1;return!0}},function(e,t,i){var s=i(67);e.exports=function(e,t){var i=s(e);for(var n in t)i.hasOwnProperty(n)&&(i[n]=t[n]);return i}},function(e,t,i){e.exports={Format:i(1381),Pad:i(163),Reverse:i(1382),UppercaseFirst:i(181),UUID:i(196)}},function(e,t){e.exports=function(e,t){return e.replace(/%([0-9]+)/g,(function(e,i){return t[Number(i)-1]}))}},function(e,t){e.exports=function(e){return e.split("").reverse().join("")}},function(e,t,i){e.exports={SoundManagerCreator:i(380),Events:i(59),BaseSound:i(128),BaseSoundManager:i(127),WebAudioSound:i(389),WebAudioSoundManager:i(387),HTML5AudioSound:i(384),HTML5AudioSoundManager:i(381),NoAudioSound:i(386),NoAudioSoundManager:i(385)}},function(e,t,i){var s=i(0),n=i(3),a=new s({initialize:function(){this.boundsCenter=new n,this.centerDiff=new n},parseBody:function(e){if(!(e=e.hasOwnProperty("body")?e.body:e).hasOwnProperty("bounds")||!e.hasOwnProperty("centerOfMass"))return!1;var t=this.boundsCenter,i=this.centerDiff,s=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,a=s*e.centerOfMass.x,r=n*e.centerOfMass.y;return t.set(s/2,n/2),i.set(a-t.x,r-t.y),!0},getTopLeft:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var s=this.boundsCenter,a=this.centerDiff;return new n(t+s.x+a.x,i+s.y+a.y)}return!1},getTopCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var s=this.boundsCenter,a=this.centerDiff;return new n(t+a.x,i+s.y+a.y)}return!1},getTopRight:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var s=this.boundsCenter,a=this.centerDiff;return new n(t-(s.x-a.x),i+s.y+a.y)}return!1},getLeftCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var s=this.boundsCenter,a=this.centerDiff;return new n(t+s.x+a.x,i+a.y)}return!1},getCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var s=this.centerDiff;return new n(t+s.x,i+s.y)}return!1},getRightCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var s=this.boundsCenter,a=this.centerDiff;return new n(t-(s.x-a.x),i+a.y)}return!1},getBottomLeft:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var s=this.boundsCenter,a=this.centerDiff;return new n(t+s.x+a.x,i-(s.y-a.y))}return!1},getBottomCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var s=this.boundsCenter,a=this.centerDiff;return new n(t+a.x,i-(s.y-a.y))}return!1},getBottomRight:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var s=this.boundsCenter,a=this.centerDiff;return new n(t-(s.x-a.x),i-(s.y-a.y))}return!1}});e.exports=a},function(e,t,i){var s=i(109),n=i(0),a=i(1292),r=i(219),o=i(1293),c=i(1396),h=i(1387),l=i(1388),d=i(1297),u=i(1294),p=i(1295),f=i(1425),m=i(86),g=new n({initialize:function(e){this.world=e,this.scene=e.scene,this.sys=e.scene.sys},rectangle:function(e,t,i,n,a){var r=s.rectangle(e,t,i,n,a);return this.world.add(r),r},trapezoid:function(e,t,i,n,a,r){var o=s.trapezoid(e,t,i,n,a,r);return this.world.add(o),o},circle:function(e,t,i,n,a){var r=s.circle(e,t,i,n,a);return this.world.add(r),r},polygon:function(e,t,i,n,a){var r=s.polygon(e,t,i,n,a);return this.world.add(r),r},fromVertices:function(e,t,i,n,a,r,o){"string"==typeof i&&(i=m.fromPath(i));var c=s.fromVertices(e,t,i,n,a,r,o);return this.world.add(c),c},fromPhysicsEditor:function(e,t,i,s,n){void 0===n&&(n=!0);var a=u.parseBody(e,t,i,s);return n&&!this.world.has(a)&&this.world.add(a),a},fromSVG:function(e,t,i,n,a,r){void 0===n&&(n=1),void 0===a&&(a={}),void 0===r&&(r=!0);for(var c=i.getElementsByTagName("path"),h=[],l=0;l<c.length;l++){var d=o.pathToVertices(c[l],30);1!==n&&m.scale(d,n,n),h.push(d)}var u=s.fromVertices(e,t,h,a);return r&&this.world.add(u),u},fromJSON:function(e,t,i,s,n){void 0===s&&(s={}),void 0===n&&(n=!0);var a=p.parseBody(e,t,i,s);return a&&n&&this.world.add(a),a},imageStack:function(e,t,i,s,n,r,o,c,l){void 0===o&&(o=0),void 0===c&&(c=0),void 0===l&&(l={});var d=this.world,u=this.sys.displayList;l.addToWorld=!1;var p=a.stack(i,s,n,r,o,c,(function(i,s){var n=new h(d,i,s,e,t,l);return u.add(n),n.body}));return d.add(p),p},stack:function(e,t,i,s,n,r,o){var c=a.stack(e,t,i,s,n,r,o);return this.world.add(c),c},pyramid:function(e,t,i,s,n,r,o){var c=a.pyramid(e,t,i,s,n,r,o);return this.world.add(c),c},chain:function(e,t,i,s,n,r){return a.chain(e,t,i,s,n,r)},mesh:function(e,t,i,s,n){return a.mesh(e,t,i,s,n)},newtonsCradle:function(e,t,i,s,n){var r=a.newtonsCradle(e,t,i,s,n);return this.world.add(r),r},car:function(e,t,i,s,n){var r=a.car(e,t,i,s,n);return this.world.add(r),r},softBody:function(e,t,i,s,n,r,o,c,h,l){var d=a.softBody(e,t,i,s,n,r,o,c,h,l);return this.world.add(d),d},joint:function(e,t,i,s,n){return this.constraint(e,t,i,s,n)},spring:function(e,t,i,s,n){return this.constraint(e,t,i,s,n)},constraint:function(e,t,i,s,n){void 0===s&&(s=1),void 0===n&&(n={}),n.bodyA="body"===e.type?e:e.body,n.bodyB="body"===t.type?t:t.body,isNaN(i)||(n.length=i),n.stiffness=s;var a=r.create(n);return this.world.add(a),a},worldConstraint:function(e,t,i,s){void 0===i&&(i=1),void 0===s&&(s={}),s.bodyB="body"===e.type?e:e.body,isNaN(t)||(s.length=t),s.stiffness=i;var n=r.create(s);return this.world.add(n),n},mouseSpring:function(e){return this.pointerConstraint(e)},pointerConstraint:function(e){void 0===e&&(e={}),e.hasOwnProperty("render")||(e.render={visible:!1});var t=new f(this.scene,this.world,e);return this.world.add(t.constraint),t},image:function(e,t,i,s,n){var a=new h(this.world,e,t,i,s,n);return this.sys.displayList.add(a),a},tileBody:function(e,t){return new d(this.world,e,t)},sprite:function(e,t,i,s,n){var a=new l(this.world,e,t,i,s,n);return this.sys.displayList.add(a),this.sys.updateList.add(a),a},gameObject:function(e,t,i){return c(this.world,e,t,i)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});e.exports=g},function(e,t){function i(e,t,i){i=i||0;var s,n,a,r,o,c,h,l=[0,0];return s=e[1][1]-e[0][1],n=e[0][0]-e[1][0],a=s*e[0][0]+n*e[0][1],r=t[1][1]-t[0][1],o=t[0][0]-t[1][0],c=r*t[0][0]+o*t[0][1],k(h=s*o-r*n,0,i)||(l[0]=(o*a-n*c)/h,l[1]=(s*c-r*a)/h),l}function s(e,t,i,s){var n=t[0]-e[0],a=t[1]-e[1],r=s[0]-i[0],o=s[1]-i[1];if(r*a-o*n==0)return!1;var c=(n*(i[1]-e[1])+a*(e[0]-i[0]))/(r*a-o*n),h=(r*(e[1]-i[1])+o*(i[0]-e[0]))/(o*n-r*a);return c>=0&&c<=1&&h>=0&&h<=1}function n(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])}function a(e,t,i){return n(e,t,i)>0}function r(e,t,i){return n(e,t,i)>=0}function o(e,t,i){return n(e,t,i)<0}function c(e,t,i){return n(e,t,i)<=0}e.exports={decomp:function(e){var t=function e(t){for(var i=[],s=[],n=[],a=[],r=Number.MAX_VALUE,o=0;o<t.length;++o)if(m(t,o))for(var c=0;c<t.length;++c)if(v(t,o,c)){s=e(b(t,o,c,a)),n=e(b(t,c,o,a));for(var h=0;h<n.length;h++)s.push(n[h]);s.length<r&&(i=s,r=s.length,i.push([p(t,o),p(t,c)]))}return i}(e);return t.length>0?function e(t,i){if(0===i.length)return[t];if(i instanceof Array&&i.length&&i[0]instanceof Array&&2===i[0].length&&i[0][0]instanceof Array){for(var s=[t],n=0;n<i.length;n++)for(var a=i[n],r=0;r<s.length;r++){var o=s[r],c=e(o,a);if(c){s.splice(r,1),s.push(c[0],c[1]);break}}return s}return a=i,n=t.indexOf(a[0]),r=t.indexOf(a[1]),-1!==n&&-1!==r&&[b(t,n,r),b(t,r,n)]}(e,t):[e]},quickDecomp:function e(t,i,s,n,h,l,d){l=l||100,d=d||0,h=h||25,i=void 0!==i?i:[],s=s||[],n=n||[];var g=[0,0],y=[0,0],v=[0,0],b=0,k=0,T=0,_=0,S=0,C=0,P=0,B=[],A=[],E=t,M=t;if(M.length<3)return i;if(++d>l)return console.warn("quickDecomp: max level ("+l+") reached."),i;for(var O=0;O<t.length;++O)if(m(E,O)){s.push(E[O]),b=k=Number.MAX_VALUE;for(var I=0;I<t.length;++I)a(p(E,O-1),p(E,O),p(E,I))&&c(p(E,O-1),p(E,O),p(E,I-1))&&(v=x(p(E,O-1),p(E,O),p(E,I),p(E,I-1)),o(p(E,O+1),p(E,O),v)&&(T=u(E[O],v))<k&&(k=T,y=v,C=I)),a(p(E,O+1),p(E,O),p(E,I+1))&&c(p(E,O+1),p(E,O),p(E,I))&&(v=x(p(E,O+1),p(E,O),p(E,I),p(E,I+1)),a(p(E,O-1),p(E,O),v)&&(T=u(E[O],v))<b&&(b=T,g=v,S=I));if(C===(S+1)%t.length)v[0]=(y[0]+g[0])/2,v[1]=(y[1]+g[1])/2,n.push(v),O<S?(f(B,E,O,S+1),B.push(v),A.push(v),0!==C&&f(A,E,C,E.length),f(A,E,0,O+1)):(0!==O&&f(B,E,O,E.length),f(B,E,0,S+1),B.push(v),A.push(v),f(A,E,C,O+1));else{if(C>S&&(S+=t.length),_=Number.MAX_VALUE,S<C)return i;for(I=C;I<=S;++I)r(p(E,O-1),p(E,O),p(E,I))&&c(p(E,O+1),p(E,O),p(E,I))&&(T=u(p(E,O),p(E,I)))<_&&w(E,O,I)&&(_=T,P=I%t.length);O<P?(f(B,E,O,P+1),0!==P&&f(A,E,P,M.length),f(A,E,0,O+1)):(0!==O&&f(B,E,O,M.length),f(B,E,0,P+1),f(A,E,P,O+1))}return B.length<A.length?(e(B,i,s,n,h,l,d),e(A,i,s,n,h,l,d)):(e(A,i,s,n,h,l,d),e(B,i,s,n,h,l,d)),i}return i.push(t),i},isSimple:function(e){var t,i=e;for(t=0;t<i.length-1;t++)for(var n=0;n<t-1;n++)if(s(i[t],i[t+1],i[n],i[n+1]))return!1;for(t=1;t<i.length-2;t++)if(s(i[0],i[i.length-1],i[t],i[t+1]))return!1;return!0},removeCollinearPoints:function(e,t){for(var i=0,s=e.length-1;e.length>3&&s>=0;--s)d(p(e,s-1),p(e,s),p(e,s+1),t)&&(e.splice(s%e.length,1),i++);return i},removeDuplicatePoints:function(e,t){for(var i=e.length-1;i>=1;--i)for(var s=e[i],n=i-1;n>=0;--n)T(s,e[n],t)&&e.splice(i,1)},makeCCW:function(e){for(var t=0,i=e,s=1;s<e.length;++s)(i[s][1]<i[t][1]||i[s][1]===i[t][1]&&i[s][0]>i[t][0])&&(t=s);return!a(p(e,t-1),p(e,t),p(e,t+1))&&(function(e){for(var t=[],i=e.length,s=0;s!==i;s++)t.push(e.pop());for(s=0;s!==i;s++)e[s]=t[s]}(e),!0)}};var h=[],l=[];function d(e,t,i,s){if(s){var a=h,r=l;a[0]=t[0]-e[0],a[1]=t[1]-e[1],r[0]=i[0]-t[0],r[1]=i[1]-t[1];var o=a[0]*r[0]+a[1]*r[1],c=Math.sqrt(a[0]*a[0]+a[1]*a[1]),d=Math.sqrt(r[0]*r[0]+r[1]*r[1]);return Math.acos(o/(c*d))<s}return 0===n(e,t,i)}function u(e,t){var i=t[0]-e[0],s=t[1]-e[1];return i*i+s*s}function p(e,t){var i=e.length;return e[t<0?t%i+i:t%i]}function f(e,t,i,s){for(var n=i;n<s;n++)e.push(t[n])}function m(e,t){return o(p(e,t-1),p(e,t),p(e,t+1))}var g=[],y=[];function v(e,t,s){var n,a,o=g,h=y;if(r(p(e,t+1),p(e,t),p(e,s))&&c(p(e,t-1),p(e,t),p(e,s)))return!1;a=u(p(e,t),p(e,s));for(var l=0;l!==e.length;++l)if((l+1)%e.length!==t&&l!==t&&r(p(e,t),p(e,s),p(e,l+1))&&c(p(e,t),p(e,s),p(e,l))&&(o[0]=p(e,t),o[1]=p(e,s),h[0]=p(e,l),h[1]=p(e,l+1),n=i(o,h),u(p(e,t),n)<a))return!1;return!0}function w(e,t,i){for(var n=0;n!==e.length;++n)if(n!==t&&n!==i&&(n+1)%e.length!==t&&(n+1)%e.length!==i&&s(p(e,t),p(e,i),p(e,n),p(e,n+1)))return!1;return!0}function b(e,t,i,s){var n=s||[];if(function(e){e.length=0}(n),t<i)for(var a=t;a<=i;a++)n.push(e[a]);else{for(a=0;a<=i;a++)n.push(e[a]);for(a=t;a<e.length;a++)n.push(e[a])}return n}function x(e,t,i,s,n){n=n||0;var a=t[1]-e[1],r=e[0]-t[0],o=a*e[0]+r*e[1],c=s[1]-i[1],h=i[0]-s[0],l=c*i[0]+h*i[1],d=a*h-c*r;return k(d,0,n)?[0,0]:[(h*o-r*l)/d,(a*l-c*o)/d]}function k(e,t,i){return i=i||0,Math.abs(e-t)<=i}function T(e,t,i){return k(e[0],t[0],i)&&k(e[1],t[1],i)}},function(e,t,i){var s=i(0),n=i(514),a=i(14),r=i(2),o=i(107),c=i(156),h=i(3),l=new s({Extends:o,Mixins:[n.Bounce,n.Collision,n.Force,n.Friction,n.Gravity,n.Mass,n.Sensor,n.SetBody,n.Sleep,n.Static,n.Transform,n.Velocity,c],initialize:function(e,t,i,s,n,o){a.call(this,e.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(s,n),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new h(t,i);var c=r(o,"shape",null);c?this.setBody(c,o):this.setRectangle(this.width,this.height,o),this.setPosition(t,i),this.initPipeline("TextureTintPipeline")}});e.exports=l},function(e,t,i){var s=i(504),n=i(0),a=i(514),r=i(14),o=i(2),c=i(156),h=i(75),l=i(3),d=new n({Extends:h,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,c],initialize:function(e,t,i,n,a,c){r.call(this,e.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new s(this),this.setTexture(n,a),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new l(t,i);var h=o(c,"shape",null);h?this.setBody(h,c):this.setRectangle(this.width,this.height,c),this.setPosition(t,i),this.initPipeline("TextureTintPipeline")}});e.exports=d},function(e,t,i){var s={};e.exports=s;var n=i(1299),a=i(42);s.name="matter-js",s.version="0.14.2",s.uses=[],s.used=[],s.use=function(){n.use(s,Array.prototype.slice.call(arguments))},s.before=function(e,t){return e=e.replace(/^Matter./,""),a.chainPathBefore(s,e,t)},s.after=function(e,t){return e=e.replace(/^Matter./,""),a.chainPathAfter(s,e,t)}},function(e,t,i){var s={};e.exports=s;var n=i(99),a=i(516),r=i(100),o=i(109),c=i(86);s.collides=function(e,t){for(var i=[],s=0;s<t.length;s++){var n=t[s];if(e!==n&&r.overlaps(n.bounds,e.bounds))for(var o=1===n.parts.length?0:1;o<n.parts.length;o++){var c=n.parts[o];if(r.overlaps(c.bounds,e.bounds)){var h=a.collides(c,e);if(h.collided){i.push(h);break}}}}return i},s.ray=function(e,t,i,a){a=a||1e-100;for(var r=n.angle(t,i),c=n.magnitude(n.sub(t,i)),h=.5*(i.x+t.x),l=.5*(i.y+t.y),d=o.rectangle(h,l,c,a,{angle:r}),u=s.collides(d,e),p=0;p<u.length;p+=1){var f=u[p];f.body=f.bodyB=f.bodyA}return u},s.region=function(e,t,i){for(var s=[],n=0;n<e.length;n++){var a=e[n],o=r.overlaps(a.bounds,t);(o&&!i||!o&&i)&&s.push(a)}return s},s.point=function(e,t){for(var i=[],s=0;s<e.length;s++){var n=e[s];if(r.contains(n.bounds,t))for(var a=1===n.parts.length?0:1;a<n.parts.length;a++){var o=n.parts[a];if(r.contains(o.bounds,t)&&c.contains(o.vertices,t)){i.push(n);break}}}return i}},function(e,t,i){var s={};e.exports=s;var n=i(1300),a=i(239),r=i(1303),o=i(1302),c=i(1426),h=i(1301),l=i(240),d=i(148),u=i(219),p=i(42),f=i(62);s.create=function(e,t){t=(t=p.isElement(e)?t:e)||{},((e=p.isElement(e)?e:null)||t.render)&&p.warn("Engine.create: engine.render is deprecated (see docs)");var i={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:h}},s=p.extend(i,t);return s.world=t.world||n.create(s.world),s.pairs=o.create(),s.broadphase=s.broadphase.controller.create(s.broadphase),s.metrics=s.metrics||{extended:!1},s.metrics=c.create(s.metrics),s},s.update=function(e,t,i){t=t||1e3/60,i=i||1;var n,h=e.world,p=e.timing,f=e.broadphase,m=[];p.timestamp+=t*p.timeScale;var g={timestamp:p.timestamp};l.trigger(e,"beforeUpdate",g);var y=d.allBodies(h),v=d.allConstraints(h);for(c.reset(e.metrics),e.enableSleeping&&a.update(y,p.timeScale),s._bodiesApplyGravity(y,h.gravity),s._bodiesUpdate(y,t,p.timeScale,i,h.bounds),u.preSolveAll(y),n=0;n<e.constraintIterations;n++)u.solveAll(v,p.timeScale);u.postSolveAll(y),f.controller?(h.isModified&&f.controller.clear(f),f.controller.update(f,y,e,h.isModified),m=f.pairsList):m=y,h.isModified&&d.setModified(h,!1,!1,!0);var w=f.detector(m,e),b=e.pairs,x=p.timestamp;for(o.update(b,w,x),o.removeOld(b,x),e.enableSleeping&&a.afterCollisions(b.list,p.timeScale),b.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:b.collisionStart}),r.preSolvePosition(b.list),n=0;n<e.positionIterations;n++)r.solvePosition(b.list,y,p.timeScale);for(r.postSolvePosition(y),u.preSolveAll(y),n=0;n<e.constraintIterations;n++)u.solveAll(v,p.timeScale);for(u.postSolveAll(y),r.preSolveVelocity(b.list),n=0;n<e.velocityIterations;n++)r.solveVelocity(b.list,p.timeScale);return b.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:b.collisionActive}),b.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:b.collisionEnd}),c.update(e.metrics,e),s._bodiesClearForces(y),l.trigger(e,"afterUpdate",g),e},s.merge=function(e,t){if(p.extend(e,t),t.world){e.world=t.world,s.clear(e);for(var i=d.allBodies(e.world),n=0;n<i.length;n++){var r=i[n];a.set(r,!1),r.id=p.nextId()}}},s.clear=function(e){var t=e.world;o.clear(e.pairs);var i=e.broadphase;if(i.controller){var s=d.allBodies(t);i.controller.clear(i),i.controller.update(i,s,e,!0)}},s._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var i=e[t];i.force.x=0,i.force.y=0,i.torque=0}},s._bodiesApplyGravity=function(e,t){var i=void 0!==t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==i)for(var s=0;s<e.length;s++){var n=e[s];n.ignoreGravity||n.isStatic||n.isSleeping||(n.force.x+=n.mass*t.x*i*n.gravityScale.x,n.force.y+=n.mass*t.y*i*n.gravityScale.y)}},s._bodiesUpdate=function(e,t,i,s,n){for(var a=0;a<e.length;a++){var r=e[a];r.isStatic||r.isSleeping||f.update(r,t,i,s)}}},function(e,t,i){var s=i(109),n=i(62),a=i(0),r=i(42),o=i(148),c=i(1391),h=i(10),l=i(1296),d=i(2),u=i(6),p=i(62),f=i(240),m=i(1297),g=i(1300),y=i(99),v=new a({Extends:h,initialize:function(e,t){h.call(this),this.scene=e,this.engine=c.create(t),this.localWorld=this.engine.world;var i=u(t,"gravity",null);i?this.setGravity(i.x,i.y,i.scale):!1===i&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(t,"enabled",!0),this.correction=u(t,"correction",1),this.getDelta=u(t,"getDelta",this.update60Hz);var s=d(t,"runner",{}),n=d(s,"fps",!1),a=d(s,"fps",60),r=d(s,"delta",1e3/a),o=d(s,"deltaMin",1e3/a),l=d(s,"deltaMax",1e3/(.5*a));n||(a=1e3/r),this.runner={fps:a,correction:d(s,"correction",1),deltaSampleSize:d(s,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:d(s,"isFixed",!1),delta:r,deltaMin:o,deltaMax:l},this.autoUpdate=u(t,"autoUpdate",!0);var p=u(t,"debug",!1);if(this.drawDebug="object"==typeof p||p,this.debugGraphic,this.debugConfig={showAxes:d(p,"showAxes",!1),showAngleIndicator:d(p,"showAngleIndicator",!1),angleColor:d(p,"angleColor",15208787),showBroadphase:d(p,"showBroadphase",!1),broadphaseColor:d(p,"broadphaseColor",16757760),showBounds:d(p,"showBounds",!1),boundsColor:d(p,"boundsColor",16777215),showVelocity:d(p,"showVelocity",!1),velocityColor:d(p,"velocityColor",44783),showCollisions:d(p,"showCollisions",!1),collisionColor:d(p,"collisionColor",16094476),showSeparations:d(p,"showSeparations",!1),separationColor:d(p,"separationColor",16753920),showBody:d(p,"showBody",!0),showStaticBody:d(p,"showStaticBody",!0),showInternalEdges:d(p,"showInternalEdges",!1),renderFill:d(p,"renderFill",!1),renderLine:d(p,"renderLine",!0),fillColor:d(p,"fillColor",1075465),fillOpacity:d(p,"fillOpacity",1),lineColor:d(p,"lineColor",2678297),lineOpacity:d(p,"lineOpacity",1),lineThickness:d(p,"lineThickness",1),staticFillColor:d(p,"staticFillColor",857979),staticLineColor:d(p,"staticLineColor",1255396),showSleeping:d(p,"showSleeping",!1),staticBodySleepOpacity:d(p,"staticBodySleepOpacity",.7),sleepFillColor:d(p,"sleepFillColor",4605510),sleepLineColor:d(p,"sleepLineColor",10066585),showSensors:d(p,"showSensors",!0),sensorFillColor:d(p,"sensorFillColor",857979),sensorLineColor:d(p,"sensorLineColor",1255396),showPositions:d(p,"showPositions",!0),positionSize:d(p,"positionSize",4),positionColor:d(p,"positionColor",14697178),showJoint:d(p,"showJoint",!0),jointColor:d(p,"jointColor",14737474),jointLineOpacity:d(p,"jointLineOpacity",1),jointLineThickness:d(p,"jointLineThickness",2),pinSize:d(p,"pinSize",4),pinColor:d(p,"pinColor",4382944),springColor:d(p,"springColor",14697184),anchorColor:d(p,"anchorColor",15724527),anchorSize:d(p,"anchorSize",4),showConvexHulls:d(p,"showConvexHulls",!1),hullColor:d(p,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),d(t,"setBounds",!1)){var f=t.setBounds;if("boolean"==typeof f)this.setBounds();else{var m=d(f,"x",0),g=d(f,"y",0),y=d(f,"width",e.sys.scale.width),v=d(f,"height",e.sys.scale.height),w=d(f,"thickness",64),b=d(f,"left",!0),x=d(f,"right",!0),k=d(f,"top",!0),T=d(f,"bottom",!0);this.setBounds(m,g,y,v,w,b,x,k,T)}}},setCompositeRenderStyle:function(e){var t,i,s,n=e.bodies,a=e.constraints,r=e.composites;for(t=0;t<n.length;t++)s=(i=n[t]).render,this.setBodyRenderStyle(i,s.lineColor,s.lineOpacity,s.lineThickness,s.fillColor,s.fillOpacity);for(t=0;t<a.length;t++)s=(i=a[t]).render,this.setConstraintRenderStyle(i,s.lineColor,s.lineOpacity,s.lineThickness,s.pinSize,s.anchorColor,s.anchorSize);for(t=0;t<r.length;t++)i=r[t],this.setCompositeRenderStyle(i);return this},setBodyRenderStyle:function(e,t,i,s,n,a){var r=e.render,o=this.debugConfig;return r?(null==t&&(t=e.isStatic?o.staticLineColor:o.lineColor),null==i&&(i=o.lineOpacity),null==s&&(s=o.lineThickness),null==n&&(n=e.isStatic?o.staticFillColor:o.fillColor),null==a&&(a=o.fillOpacity),!1!==t&&(r.lineColor=t),!1!==i&&(r.lineOpacity=i),!1!==s&&(r.lineThickness=s),!1!==n&&(r.fillColor=n),!1!==a&&(r.fillOpacity=a),this):this},setConstraintRenderStyle:function(e,t,i,s,n,a,r){var o=e.render,c=this.debugConfig;if(!o)return this;if(null==t){var h=o.type;"line"===h?t=c.jointColor:"pin"===h?t=c.pinColor:"spring"===h&&(t=c.springColor)}return null==i&&(i=c.jointLineOpacity),null==s&&(s=c.jointLineThickness),null==n&&(n=c.pinSize),null==a&&(a=c.anchorColor),null==r&&(r=c.anchorSize),!1!==t&&(o.lineColor=t),!1!==i&&(o.lineOpacity=i),!1!==s&&(o.lineThickness=s),!1!==n&&(o.pinSize=n),!1!==a&&(o.anchorColor=a),!1!==r&&(o.anchorSize=r),this},setEventsProxy:function(){var e=this,t=this.engine,i=this.localWorld;this.drawDebug&&(f.on(i,"compositeModified",(function(t){e.setCompositeRenderStyle(t)})),f.on(i,"beforeAdd",(function(t){for(var i=[].concat(t.object),s=0;s<i.length;s++){var n=i[s],a=n.render;"body"===n.type?e.setBodyRenderStyle(n,a.lineColor,a.lineOpacity,a.lineThickness,a.fillColor,a.fillOpacity):"composite"===n.type?e.setCompositeRenderStyle(n):"constraint"===n.type&&e.setConstraintRenderStyle(n,a.lineColor,a.lineOpacity,a.lineThickness,a.pinSize,a.anchorColor,a.anchorSize)}}))),f.on(i,"beforeAdd",(function(t){e.emit(l.BEFORE_ADD,t)})),f.on(i,"afterAdd",(function(t){e.emit(l.AFTER_ADD,t)})),f.on(i,"beforeRemove",(function(t){e.emit(l.BEFORE_REMOVE,t)})),f.on(i,"afterRemove",(function(t){e.emit(l.AFTER_REMOVE,t)})),f.on(t,"beforeUpdate",(function(t){e.emit(l.BEFORE_UPDATE,t)})),f.on(t,"afterUpdate",(function(t){e.emit(l.AFTER_UPDATE,t)})),f.on(t,"collisionStart",(function(t){var i,s,n=t.pairs;n.length>0&&(i=n[0].bodyA,s=n[0].bodyB),e.emit(l.COLLISION_START,t,i,s)})),f.on(t,"collisionActive",(function(t){var i,s,n=t.pairs;n.length>0&&(i=n[0].bodyA,s=n[0].bodyB),e.emit(l.COLLISION_ACTIVE,t,i,s)})),f.on(t,"collisionEnd",(function(t){var i,s,n=t.pairs;n.length>0&&(i=n[0].bodyA,s=n[0].bodyB),e.emit(l.COLLISION_END,t,i,s)}))},setBounds:function(e,t,i,s,n,a,r,o,c){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===s&&(s=this.scene.sys.scale.height),void 0===n&&(n=64),void 0===a&&(a=!0),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===c&&(c=!0),this.updateWall(a,"left",e-n,t-n,n,s+2*n),this.updateWall(r,"right",e+i,t-n,n,s+2*n),this.updateWall(o,"top",e,t-n,i,n),this.updateWall(c,"bottom",e,t+s,i,n),this},updateWall:function(e,t,i,s,n,a){var r=this.walls[t];e?(r&&g.remove(this.localWorld,r),i+=n/2,s+=a/2,this.walls[t]=this.create(i,s,n,a,{isStatic:!0,friction:0,frictionStatic:0})):(r&&g.remove(this.localWorld,r),this.walls[t]=null)},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=1),this.localWorld.gravity.x=e,this.localWorld.gravity.y=t,void 0!==i&&(this.localWorld.gravity.scale=i),this},create:function(e,t,i,n,a){var r=s.rectangle(e,t,i,n,a);return g.add(this.localWorld,r),r},add:function(e){return g.add(this.localWorld,e),this},remove:function(e,t){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var s=e[i],n=s.body?s.body:s;o.remove(this.localWorld,n,t)}return this},removeConstraint:function(e,t){return o.remove(this.localWorld,e,t),this},convertTilemapLayer:function(e,t){var i=e.layer,s=e.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(s,t),this},convertTiles:function(e,t){if(0===e.length)return this;for(var i=0;i<e.length;i++)new m(this,e[i],t);return this},nextGroup:function(e){return p.nextGroup(e)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(l.RESUME),this},update:function(e,t){if(this.enabled&&this.autoUpdate){var i=this.engine,s=this.runner,n=i.timing,a=this.correction;s.isFixed?t=this.getDelta(e,t):(t=e-s.timePrev||s.delta,s.timePrev=e,s.deltaHistory.push(t),s.deltaHistory=s.deltaHistory.slice(-s.deltaSampleSize),a=(t=(t=(t=Math.min.apply(null,s.deltaHistory))<s.deltaMin?s.deltaMin:t)>s.deltaMax?s.deltaMax:t)/s.delta,s.delta=t),0!==s.timeScalePrev&&(a*=n.timeScale/s.timeScalePrev),0===n.timeScale&&(a=0),s.timeScalePrev=n.timeScale,s.correction=a,s.frameCounter+=1,e-s.counterTimestamp>=1e3&&(s.fps=s.frameCounter*((e-s.counterTimestamp)/1e3),s.counterTimestamp=e,s.frameCounter=0),c.update(i,t,a)}},step:function(e,t){c.update(this.engine,e,t)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(e){var t=e.hasOwnProperty("body")?e.body:e;return null!==o.get(this.localWorld,t.id,t.type)},getAllBodies:function(){return o.allBodies(this.localWorld)},getAllConstraints:function(){return o.allConstraints(this.localWorld)},getAllComposites:function(){return o.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var e=this.debugConfig,t=this.engine,i=this.debugGraphic,s=o.allBodies(this.localWorld);this.debugGraphic.clear(),e.showBroadphase&&t.broadphase.controller&&this.renderGrid(t.broadphase,i,e.broadphaseColor,.5),e.showBounds&&this.renderBodyBounds(s,i,e.boundsColor,.5),(e.showBody||e.showStaticBody)&&this.renderBodies(s),e.showJoint&&this.renderJoints(),(e.showAxes||e.showAngleIndicator)&&this.renderBodyAxes(s,i,e.showAxes,e.angleColor,.5),e.showVelocity&&this.renderBodyVelocity(s,i,e.velocityColor,1,2),e.showSeparations&&this.renderSeparations(t.pairs.list,i,e.separationColor),e.showCollisions&&this.renderCollisions(t.pairs.list,i,e.collisionColor)}},renderGrid:function(e,t,i,s){t.lineStyle(1,i,s);for(var n=r.keys(e.buckets),a=0;a<n.length;a++){var o=n[a];if(!(e.buckets[o].length<2)){var c=o.split(/C|R/);t.strokeRect(parseInt(c[1],10)*e.bucketWidth,parseInt(c[2],10)*e.bucketHeight,e.bucketWidth,e.bucketHeight)}}return this},renderSeparations:function(e,t,i){t.lineStyle(1,i,1);for(var s=0;s<e.length;s++){var n=e[s];if(n.isActive){var a=n.collision,r=a.bodyA,o=a.bodyB,c=r.position,h=o.position,l=a.penetration,d=r.isStatic||o.isStatic?1:4;o.isStatic&&(d=0),t.lineBetween(h.x,h.y,h.x-l.x*d,h.y-l.y*d),d=r.isStatic||o.isStatic?1:4,r.isStatic&&(d=0),t.lineBetween(c.x,c.y,c.x-l.x*d,c.y-l.y*d)}}return this},renderCollisions:function(e,t,i){var s,n;for(t.lineStyle(1,i,.5),t.fillStyle(i,1),s=0;s<e.length;s++)if((n=e[s]).isActive)for(var a=0;a<n.activeContacts.length;a++){var r=n.activeContacts[a].vertex;t.fillRect(r.x-2,r.y-2,5,5)}for(s=0;s<e.length;s++)if((n=e[s]).isActive){var o=n.collision,c=n.activeContacts;if(c.length>0){var h=c[0].vertex.x,l=c[0].vertex.y;2===c.length&&(h=(c[0].vertex.x+c[1].vertex.x)/2,l=(c[0].vertex.y+c[1].vertex.y)/2),o.bodyB===o.supports[0].body||o.bodyA.isStatic?t.lineBetween(h-8*o.normal.x,l-8*o.normal.y,h,l):t.lineBetween(h+8*o.normal.x,l+8*o.normal.y,h,l)}}return this},renderBodyBounds:function(e,t,i,s){t.lineStyle(1,i,s);for(var n=0;n<e.length;n++){var a=e[n];if(a.render.visible){var r=a.bounds;if(r)t.strokeRect(r.min.x,r.min.y,r.max.x-r.min.x,r.max.y-r.min.y);else for(var o=a.parts,c=o.length>1?1:0;c<o.length;c++){var h=o[c];t.strokeRect(h.bounds.min.x,h.bounds.min.y,h.bounds.max.x-h.bounds.min.x,h.bounds.max.y-h.bounds.min.y)}}}return this},renderBodyAxes:function(e,t,i,s,n){t.lineStyle(1,s,n);for(var a=0;a<e.length;a++){var r,o,c,h=e[a],l=h.parts;if(h.render.visible)if(i)for(o=l.length>1?1:0;o<l.length;o++)for(r=l[o],c=0;c<r.axes.length;c++){var d=r.axes[c];t.lineBetween(r.position.x,r.position.y,r.position.x+20*d.x,r.position.y+20*d.y)}else for(o=l.length>1?1:0;o<l.length;o++)for(r=l[o],c=0;c<r.axes.length;c++)t.lineBetween(r.position.x,r.position.y,(r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(e,t,i,s,n){t.lineStyle(n,i,s);for(var a=0;a<e.length;a++){var r=e[a];r.render.visible&&t.lineBetween(r.position.x,r.position.y,r.position.x+2*(r.position.x-r.positionPrev.x),r.position.y+2*(r.position.y-r.positionPrev.y))}return this},renderBodies:function(e){for(var t=this.debugGraphic,i=this.debugConfig,s=i.showBody,n=i.showStaticBody,a=i.showSleeping,r=i.showInternalEdges,o=i.showConvexHulls,c=i.renderFill,h=i.renderLine,l=i.staticBodySleepOpacity,d=i.sleepFillColor,u=i.sleepLineColor,p=i.hullColor,f=0;f<e.length;f++){var m=e[f];if(m.render.visible&&(n||!m.isStatic)&&(s||m.isStatic)){var g=m.render.lineColor,y=m.render.lineOpacity,v=m.render.lineThickness,w=m.render.fillColor,b=m.render.fillOpacity;a&&m.isSleeping&&(m.isStatic?(y*=l,b*=l):(g=u,w=d)),c||(w=null),h||(g=null),this.renderBody(m,t,r,g,y,v,w,b);var x=m.parts.length;o&&x>1&&this.renderConvexHull(m,t,p,v)}}},renderBody:function(e,t,i,s,n,a,r,o){void 0===s&&(s=null),void 0===n&&(n=null),void 0===a&&(a=1),void 0===r&&(r=null),void 0===o&&(o=null);for(var c=this.debugConfig,h=c.sensorFillColor,l=c.sensorLineColor,d=e.parts,u=d.length,p=u>1?1:0;p<u;p++){var f=d[p],m=f.render,g=m.opacity;if(m.visible&&0!==g&&(!f.isSensor||c.showSensors)){var y=f.circleRadius;if(t.beginPath(),f.isSensor?(null!==r&&t.fillStyle(h,o*g),null!==s&&t.lineStyle(a,l,n*g)):(null!==r&&t.fillStyle(r,o*g),null!==s&&t.lineStyle(a,s,n*g)),y)t.arc(f.position.x,f.position.y,y,0,2*Math.PI);else{var v=f.vertices,w=v.length;t.moveTo(v[0].x,v[0].y);for(var b=1;b<w;b++){var x=v[b];if(!v[b-1].isInternal||i?t.lineTo(x.x,x.y):t.moveTo(x.x,x.y),b<w&&x.isInternal&&!i){var k=(b+1)%w;t.moveTo(v[k].x,v[k].y)}}t.closePath()}null!==r&&t.fillPath(),null!==s&&t.strokePath()}}if(c.showPositions&&!e.isStatic){var T=e.position.x,_=e.position.y,S=Math.ceil(c.positionSize/2);t.fillStyle(c.positionColor,1),t.fillRect(T-S,_-S,c.positionSize,c.positionSize)}return this},renderConvexHull:function(e,t,i,s){if(void 0===s&&(s=1),e.parts.length>1){var n=e.vertices;t.lineStyle(s,i),t.beginPath(),t.moveTo(n[0].x,n[0].y);for(var a=1;a<n.length;a++)t.lineTo(n[a].x,n[a].y);t.lineTo(n[0].x,n[0].y),t.strokePath()}return this},renderJoints:function(){for(var e=this.debugGraphic,t=o.allConstraints(this.localWorld),i=0;i<t.length;i++){var s=t[i].render,n=s.lineColor,a=s.lineOpacity,r=s.lineThickness,c=s.pinSize,h=s.anchorColor,l=s.anchorSize;this.renderConstraint(t[i],e,n,a,r,c,h,l)}},renderConstraint:function(e,t,i,s,n,a,o,c){var h=e.render;if(!h.visible||!e.pointA||!e.pointB)return this;t.lineStyle(n,i,s);var l,d,u=e.bodyA,p=e.bodyB;if(l=u?y.add(u.position,e.pointA):e.pointA,"pin"===h.type)t.strokeCircle(l.x,l.y,a);else{if(d=p?y.add(p.position,e.pointB):e.pointB,t.beginPath(),t.moveTo(l.x,l.y),"spring"===h.type)for(var f,m=y.sub(d,l),g=y.perp(y.normalise(m)),v=Math.ceil(r.clamp(e.length/5,12,20)),w=1;w<v;w+=1)f=w%2==0?1:-1,t.lineTo(l.x+m.x*(w/v)+g.x*f*4,l.y+m.y*(w/v)+g.y*f*4);t.lineTo(d.x,d.y)}return t.strokePath(),h.anchors&&c>0&&(t.fillStyle(o),t.fillCircle(l.x,l.y,c),t.fillCircle(d.x,d.y,c)),this},resetCollisionIDs:function(){return n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,this},shutdown:function(){f.off(this.engine),this.removeAllListeners(),g.clear(this.localWorld,!1),c.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});e.exports=v},function(e,t,i){(function(t){i(518);var s=i(33),n=i(18),a={Actions:i(241),Animations:i(638),BlendModes:i(52),Cache:i(639),Cameras:i(642),Core:i(728),Class:i(0),Create:i(789),Curves:i(795),Data:i(798),Display:i(800),DOM:i(818),Events:i(819),Game:i(821),GameObjects:i(914),Geom:i(430),Input:i(1201),Loader:i(1235),Math:i(170),Physics:i(1394),Plugins:i(1304),Renderer:i(1431),Scale:i(1306),ScaleModes:i(234),Scene:i(374),Scenes:i(1307),Structs:i(1309),Textures:i(1310),Tilemaps:i(1312),Time:i(1353),Tweens:i(1355),Utils:i(1373)};a.Sound=i(1383),a=n(!1,a,s),e.exports=a,t.Phaser=a}).call(this,i(517))},function(e,t,i){e.exports={Arcade:i(1261),Matter:i(1395)}},function(e,t,i){e.exports={BodyBounds:i(1384),Factory:i(1385),Image:i(1387),Matter:i(1298),MatterPhysics:i(1427),PolyDecomp:i(1386),Sprite:i(1388),TileBody:i(1297),PhysicsEditorParser:i(1294),PhysicsJSONParser:i(1295),World:i(1392)}},function(e,t,i){var s=i(514),n=i(2),a=i(3);e.exports=function(e,t,i,r){void 0===i&&(i={}),void 0===r&&(r=!0);var o=t.x,c=t.y;if(t.body={temp:!0,position:{x:o,y:c}},[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity].forEach((function(e){for(var i in e)(s=e[i]).get&&"function"==typeof s.get||s.set&&"function"==typeof s.set?Object.defineProperty(t,i,{get:e[i].get,set:e[i].set}):Object.defineProperty(t,i,{value:e[i]});var s})),t.world=e,t._tempVec2=new a(o,c),i.hasOwnProperty("type")&&"body"===i.type)t.setExistingBody(i,r);else{var h=n(i,"shape",null);h||(h="rectangle"),i.addToWorld=r,t.setBody(h,i)}return t}},function(e,t){e.exports={setBounce:function(e){return this.body.restitution=e,this}}},function(e,t){var i={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var t=0;if(Array.isArray(e))for(var i=0;i<e.length;i++)t|=e[i];else t=e;return this.body.collisionFilter.mask=t,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,t){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var s=e[i].hasOwnProperty("body")?e[i].body:e[i];this.body.setOnCollideWith(s,t)}return this}};e.exports=i},function(e,t,i){var s=i(62),n={applyForce:function(e){return this._tempVec2.set(this.body.position.x,this.body.position.y),s.applyForce(this.body,this._tempVec2,e),this},applyForceFrom:function(e,t){return s.applyForce(this.body,e,t),this},thrust:function(e){var t=this.body.angle;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(e){var t=this.body.angle-Math.PI/2;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(e){var t=this.body.angle+Math.PI/2;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(e){var t=this.body.angle-Math.PI;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};e.exports=n},function(e,t){var i={setFriction:function(e,t,i){return this.body.friction=e,void 0!==t&&(this.body.frictionAir=t),void 0!==i&&(this.body.frictionStatic=i),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};e.exports=i},function(e,t){e.exports={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}}},function(e,t,i){var s=i(62),n=i(3),a={setMass:function(e){return s.setMass(this.body,e),this},setDensity:function(e){return s.setDensity(this.body,e),this},centerOfMass:{get:function(){return new n(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};e.exports=a},function(e,t,i){var s=i(62),n={setStatic:function(e){return s.setStatic(this.body,e),this},isStatic:function(){return this.body.isStatic}};e.exports=n},function(e,t){e.exports={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}}},function(e,t,i){var s=i(109),n=i(62),a=i(106),r=i(2),o=i(1294),c=i(1295),h=i(86),l={setRectangle:function(e,t,i){return this.setBody({type:"rectangle",width:e,height:t},i)},setCircle:function(e,t){return this.setBody({type:"circle",radius:e},t)},setPolygon:function(e,t,i){return this.setBody({type:"polygon",sides:t,radius:e},i)},setTrapezoid:function(e,t,i,s){return this.setBody({type:"trapezoid",width:e,height:t,slope:i},s)},setExistingBody:function(e,t){void 0===t&&(t=!0),this.body&&this.world.remove(this.body,!0),this.body=e;for(var i=0;i<e.parts.length;i++)e.parts[i].gameObject=this;var s=this;if(e.destroy=function(){s.world.remove(s.body,!0),s.body.gameObject=null},t&&(this.world.has(e)&&this.world.remove(e,!0),this.world.add(e)),this._originComponent){var n=e.render.sprite.xOffset,r=e.render.sprite.yOffset,o=e.centerOfMass.x,c=e.centerOfMass.y;if(a(o,.5)&&a(c,.5))this.setOrigin(n+.5,r+.5);else{var h=e.centerOffset.x,l=e.centerOffset.y;this.setOrigin(n+h/this.displayWidth,r+l/this.displayHeight)}}return this},setBody:function(e,t){if(!e)return this;var i;"string"==typeof e&&(e={type:e});var a=r(e,"type","rectangle"),l=r(e,"x",this._tempVec2.x),d=r(e,"y",this._tempVec2.y),u=r(e,"width",this.width),p=r(e,"height",this.height);switch(a){case"rectangle":i=s.rectangle(l,d,u,p,t);break;case"circle":var f=r(e,"radius",Math.max(u,p)/2),m=r(e,"maxSides",25);i=s.circle(l,d,f,t,m);break;case"trapezoid":var g=r(e,"slope",.5);i=s.trapezoid(l,d,u,p,g,t);break;case"polygon":var y=r(e,"sides",5),v=r(e,"radius",Math.max(u,p)/2);i=s.polygon(l,d,y,v,t);break;case"fromVertices":case"fromVerts":var w=r(e,"verts",null);if(w)if("string"==typeof w&&(w=h.fromPath(w)),this.body&&!this.body.hasOwnProperty("temp"))n.setVertices(this.body,w),i=this.body;else{var b=r(e,"flagInternal",!1),x=r(e,"removeCollinear",.01),k=r(e,"minimumArea",10);i=s.fromVertices(l,d,w,t,b,x,k)}break;case"fromPhysicsEditor":i=o.parseBody(l,d,e,t);break;case"fromPhysicsTracer":i=c.parseBody(l,d,e,t)}return i&&this.setExistingBody(i,e.addToWorld),this}};e.exports=l},function(e,t,i){var s=i(1296),n=i(239),a=i(240),r={setToSleep:function(){n.set(this.body,!0)},setAwake:function(){n.set(this.body,!1)},setSleepThreshold:function(e){return void 0===e&&(e=60),this.body.sleepThreshold=e,this},setSleepEvents:function(e,t){return this.setSleepStartEvent(e),this.setSleepEndEvent(t),this},setSleepStartEvent:function(e){if(e){var t=this.world;a.on(this.body,"sleepStart",(function(e){t.emit(s.SLEEP_START,e,this)}))}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(e){if(e){var t=this.world;a.on(this.body,"sleepEnd",(function(e){t.emit(s.SLEEP_END,e,this)}))}else a.off(this.body,"sleepEnd");return this}};e.exports=r},function(e,t){e.exports="afteradd"},function(e,t){e.exports="afterremove"},function(e,t){e.exports="afterupdate"},function(e,t){e.exports="beforeadd"},function(e,t){e.exports="beforeremove"},function(e,t){e.exports="beforeupdate"},function(e,t){e.exports="collisionactive"},function(e,t){e.exports="collisionend"},function(e,t){e.exports="collisionstart"},function(e,t){e.exports="dragend"},function(e,t){e.exports="drag"},function(e,t){e.exports="dragstart"},function(e,t){e.exports="pause"},function(e,t){e.exports="resume"},function(e,t){e.exports="sleepend"},function(e,t){e.exports="sleepstart"},function(e,t,i){var s=i(62),n=i(13),a=i(235),r=i(236),o={x:{get:function(){return this.body.position.x},set:function(e){this._tempVec2.set(e,this.y),s.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(e){this._tempVec2.set(this.x,e),s.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(e){var t=1/this._scaleX,i=1/this._scaleY;this._scaleX=e,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,s.scale(this.body,t,i),s.scale(this.body,e,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(e){var t=1/this._scaleX,i=1/this._scaleY;this._scaleY=e,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,s.scale(this.body,t,i),s.scale(this.body,this._scaleX,e)}},angle:{get:function(){return r(this.body.angle*n.RAD_TO_DEG)},set:function(e){this.rotation=r(e)*n.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(e){this._rotation=a(e),s.setAngle(this.body,this._rotation)}},setPosition:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._tempVec2.set(e,t),s.setPosition(this.body,this._tempVec2),this},setRotation:function(e){return void 0===e&&(e=0),this._rotation=a(e),s.setAngle(this.body,e),this},setFixedRotation:function(){return s.setInertia(this.body,1/0),this},setAngle:function(e){return void 0===e&&(e=0),this.angle=e,s.setAngle(this.body,this.rotation),this},setScale:function(e,t,i){void 0===e&&(e=1),void 0===t&&(t=e);var n=1/this._scaleX,a=1/this._scaleY;return this._scaleX=e,this._scaleY=t,s.scale(this.body,n,a,i),s.scale(this.body,e,t,i),this}};e.exports=o},function(e,t,i){var s=i(62),n={setAngularVelocity:function(e){return s.setAngularVelocity(this.body,e),this},setVelocityX:function(e){return this._tempVec2.set(e,this.body.velocity.y),s.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(e){return this._tempVec2.set(this.body.velocity.x,e),s.setVelocity(this.body,this._tempVec2),this},setVelocity:function(e,t){return this._tempVec2.set(e,t),s.setVelocity(this.body,this._tempVec2),this}};e.exports=n},function(e,t,i){var s=i(100),n=i(0),a=i(148),r=i(219),o=i(515),c=i(1296),h=i(54),l=i(126),d=i(239),u=i(3),p=i(86),f=new n({initialize:function(e,t,i){void 0===i&&(i={}),this.scene=e,this.world=t,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=r.create(l(i,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(c.BEFORE_UPDATE,this.update,this),e.sys.input.on(h.POINTER_DOWN,this.onDown,this),e.sys.input.on(h.POINTER_UP,this.onUp,this)},onDown:function(e){this.pointer||(this.pointer=e,this.camera=e.camera)},onUp:function(e){e===this.pointer&&(this.pointer=null)},getBody:function(e){var t=this.position,i=this.constraint;this.camera.getWorldPoint(e.x,e.y,t);for(var n=a.allBodies(this.world.localWorld),r=0;r<n.length;r++){var h=n[r];if(!h.ignorePointer&&s.contains(h.bounds,t)&&o.canCollide(h.collisionFilter,i.collisionFilter)&&this.hitTestBody(h,t))return this.world.emit(c.DRAG_START,h,this.part,this),!0}return!1},hitTestBody:function(e,t){for(var i=this.constraint,s=e.parts.length,n=s>1?1:0;n<s;n++){var a=e.parts[n];if(p.contains(a.vertices,t))return i.pointA=t,i.pointB={x:t.x-e.position.x,y:t.y-e.position.y},i.bodyB=e,i.angleB=e.angle,d.set(e,!1),this.part=a,this.body=e,!0}return!1},update:function(){var e=this.pointer,t=this.body;if(this.active&&e)if(e.isDown||!t){if(e.isDown){if(!t&&!this.getBody(e))return;t=this.body;var i=this.position,s=this.constraint;this.camera.getWorldPoint(e.x,e.y,i),s.pointA.x=i.x,s.pointA.y=i.y,d.set(t,!1),this.world.emit(c.DRAG,t,this)}}else this.stopDrag();else t&&this.stopDrag()},stopDrag:function(){var e=this.body,t=this.constraint;t.bodyB=null,t.pointB=null,this.pointer=null,this.body=null,this.part=null,e&&this.world.emit(c.DRAG_END,e,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(c.BEFORE_UPDATE,this.update),this.scene.sys.input.off(h.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(h.POINTER_UP,this.onUp,this)}});e.exports=f},function(e,t,i){var s={};e.exports=s;var n=i(148),a=i(42);s.create=function(e){return a.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,e)},s.reset=function(e){e.extended&&(e.narrowDetections=0,e.narrowphaseTests=0,e.narrowReuse=0,e.narrowReuseCount=0,e.midphaseTests=0,e.broadphaseTests=0,e.narrowEff=0,e.midEff=0,e.broadEff=0,e.collisions=0,e.buckets=0,e.pairs=0,e.bodies=0)},s.update=function(e,t){if(e.extended){var i=t.world,s=n.allBodies(i);e.collisions=e.narrowDetections,e.pairs=t.pairs.list.length,e.bodies=s.length,e.midEff=(e.narrowDetections/(e.midphaseTests||1)).toFixed(2),e.narrowEff=(e.narrowDetections/(e.narrowphaseTests||1)).toFixed(2),e.broadEff=(1-e.broadphaseTests/(s.length||1)).toFixed(2),e.narrowReuse=(e.narrowReuseCount/(e.narrowphaseTests||1)).toFixed(2)}}},function(e,t,i){var s=i(105),n=i(513),a=i(109),r=i(62),o=i(1384),c=i(100),h=i(0),l=i(148),d=i(1292),u=i(219),p=i(515),f=i(53),m=i(1385),g=i(2),y=i(6),v=i(1301),w=i(1428),b=i(1429),x=i(1389),k=i(1430),T=i(126),_=i(473),S=i(1302),C=i(1299),P=i(23),B=i(1390),A=i(1303),E=i(516),M=i(22),O=i(1293),I=i(99),R=i(86),D=i(1392),N=new h({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=l,this.detector=p,this.grid=v,this.pair=_,this.pairs=S,this.query=B,this.resolver=A,this.sat=E,this.constraint=u,this.bodies=a,this.composites=d,this.axes=n,this.bounds=c,this.svg=O,this.vector=I,this.vertices=R,this.verts=R,this._tempVec2=I.create(),y(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),y(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),y(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),A._restingThresh=y(this.config,"restingThresh",4),A._restingThreshTangent=y(this.config,"restingThreshTangent",6),A._positionDampen=y(this.config,"positionDampen",.9),A._positionWarming=y(this.config,"positionWarming",.8),A._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),e.sys.events.once(M.BOOT,this.boot,this),e.sys.events.on(M.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new o,this.systems.events.once(M.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new m(this.world));var e=this.systems.events;e.on(M.UPDATE,this.world.update,this.world),e.on(M.POST_UPDATE,this.world.postUpdate,this.world),e.once(M.SHUTDOWN,this.shutdown,this)},getConfig:function(){var e=this.systems.game.config.physics,t=this.systems.settings.physics;return T(g(t,"matter",{}),g(e,"matter",{}))},enableAttractorPlugin:function(){return C.register(w),C.use(x,w),this},enableWrapPlugin:function(){return C.register(k),C.use(x,k),this},enableCollisionEventsPlugin:function(){return C.register(b),C.use(x,b),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(e,t){this.world.step(e,t)},containsPoint:function(e,t,i){e=this.getMatterBodies(e);var s=I.create(t,i);return B.point(e,s).length>0},intersectPoint:function(e,t,i){i=this.getMatterBodies(i);var s=I.create(e,t),n=[];return B.point(i,s).forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n},intersectRect:function(e,t,i,s,n,a){void 0===n&&(n=!1),a=this.getMatterBodies(a);var r={min:{x:e,y:t},max:{x:e+i,y:t+s}},o=[];return B.region(a,r,n).forEach((function(e){-1===o.indexOf(e)&&o.push(e)})),o},intersectRay:function(e,t,i,s,n,a){void 0===n&&(n=1),a=this.getMatterBodies(a);for(var r=[],o=B.ray(a,I.create(e,t),I.create(i,s),n),c=0;c<o.length;c++)r.push(o[c].body);return r},intersectBody:function(e,t){t=this.getMatterBodies(t);for(var i=[],s=B.collides(e,t),n=0;n<s.length;n++){var a=s[n];a.bodyA===e?i.push(a.bodyB):i.push(a.bodyA)}return i},overlap:function(e,t,i,s,n){void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i),Array.isArray(e)||(e=[e]),e=this.getMatterBodies(e),t=this.getMatterBodies(t);for(var a=!1,r=0;r<e.length;r++)for(var o=e[r],c=B.collides(o,t),h=0;h<c.length;h++){var l=c[h],d=l.bodyA.id===o.id?l.bodyB:l.bodyA;if(!s||s.call(n,o,d,l))if(a=!0,i)i.call(n,o,d,l);else if(!s)return!0}return a},setCollisionCategory:function(e,t){return(e=this.getMatterBodies(e)).forEach((function(e){e.collisionFilter.category=t})),this},setCollisionGroup:function(e,t){return(e=this.getMatterBodies(e)).forEach((function(e){e.collisionFilter.group=t})),this},setCollidesWith:function(e,t){e=this.getMatterBodies(e);var i=0;if(Array.isArray(t))for(var s=0;s<t.length;s++)i|=t[s];else i=t;return e.forEach((function(e){e.collisionFilter.mask=i})),this},getMatterBodies:function(e){if(!e)return this.world.getAllBodies();Array.isArray(e)||(e=[e]);for(var t=[],i=0;i<e.length;i++){var s=e[i].hasOwnProperty("body")?e[i].body:e[i];t.push(s)}return t},setVelocity:function(e,t,i){e=this.getMatterBodies(e);var s=this._tempVec2;return s.x=t,s.y=i,e.forEach((function(e){r.setVelocity(e,s)})),this},setVelocityX:function(e,t){e=this.getMatterBodies(e);var i=this._tempVec2;return i.x=t,e.forEach((function(e){i.y=e.velocity.y,r.setVelocity(e,i)})),this},setVelocityY:function(e,t){e=this.getMatterBodies(e);var i=this._tempVec2;return i.y=t,e.forEach((function(e){i.x=e.velocity.x,r.setVelocity(e,i)})),this},setAngularVelocity:function(e,t){return(e=this.getMatterBodies(e)).forEach((function(e){r.setAngularVelocity(e,t)})),this},applyForce:function(e,t){e=this.getMatterBodies(e);var i=this._tempVec2;return e.forEach((function(e){i.x=e.position.x,i.y=e.position.y,r.applyForce(e,i,t)})),this},applyForceFromPosition:function(e,t,i,s){e=this.getMatterBodies(e);var n=this._tempVec2;return e.forEach((function(e){void 0===s&&(s=e.angle),n.x=i*Math.cos(s),n.y=i*Math.sin(s),r.applyForce(e,t,n)})),this},applyForceFromAngle:function(e,t,i){e=this.getMatterBodies(e);var s=this._tempVec2;return e.forEach((function(e){void 0===i&&(i=e.angle),s.x=t*Math.cos(i),s.y=t*Math.sin(i),r.applyForce(e,{x:e.position.x,y:e.position.y},s)})),this},getConstraintLength:function(e){var t=e.pointA.x,i=e.pointA.y,s=e.pointB.x,n=e.pointB.y;return e.bodyA&&(t+=e.bodyA.position.x,i+=e.bodyA.position.y),e.bodyB&&(s+=e.bodyB.position.x,n+=e.bodyB.position.y),f(t,i,s,n)},alignBody:function(e,t,i,n){var a;switch(e=e.hasOwnProperty("body")?e.body:e,n){case s.TOP_LEFT:case s.LEFT_TOP:a=this.bodyBounds.getTopLeft(e,t,i);break;case s.TOP_CENTER:a=this.bodyBounds.getTopCenter(e,t,i);break;case s.TOP_RIGHT:case s.RIGHT_TOP:a=this.bodyBounds.getTopRight(e,t,i);break;case s.LEFT_CENTER:a=this.bodyBounds.getLeftCenter(e,t,i);break;case s.CENTER:a=this.bodyBounds.getCenter(e,t,i);break;case s.RIGHT_CENTER:a=this.bodyBounds.getRightCenter(e,t,i);break;case s.LEFT_BOTTOM:case s.BOTTOM_LEFT:a=this.bodyBounds.getBottomLeft(e,t,i);break;case s.BOTTOM_CENTER:a=this.bodyBounds.getBottomCenter(e,t,i);break;case s.BOTTOM_RIGHT:case s.RIGHT_BOTTOM:a=this.bodyBounds.getBottomRight(e,t,i)}return a&&r.setPosition(e,a),this},shutdown:function(){var e=this.systems.events;this.world&&(e.off(M.UPDATE,this.world.update,this.world),e.off(M.POST_UPDATE,this.world.postUpdate,this.world)),e.off(M.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(M.START,this.start,this),this.scene=null,this.systems=null}});P.register("MatterPhysics",N,"matterPhysics"),e.exports=N},function(e,t,i){var s=i(1298),n={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Body.create",(function(){n.Body.init(this)})),e.before("Engine.update",(function(e){n.Engine.update(e)}))},Body:{init:function(e){e.plugin.attractors=e.plugin.attractors||[]}},Engine:{update:function(e){for(var t=e.world,i=s.Composite.allBodies(t),n=0;n<i.length;n+=1){var a=i[n],r=a.plugin.attractors;if(r&&r.length>0)for(var o=n+1;o<i.length;o+=1)for(var c=i[o],h=0;h<r.length;h+=1){var l=r[h],d=l;s.Common.isFunction(l)&&(d=l(a,c)),d&&s.Body.applyForce(c,c.position,d)}}}},Attractors:{gravityConstant:.001,gravity:function(e,t){var i=s.Vector.sub(t.position,e.position),a=s.Vector.magnitudeSquared(i)||1e-4,r=s.Vector.normalise(i),o=-n.Attractors.gravityConstant*(e.mass*t.mass/a),c=s.Vector.mult(r,o);s.Body.applyForce(e,e.position,s.Vector.neg(c)),s.Body.applyForce(t,t.position,c)}}};e.exports=n},function(e,t){e.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.create",(function(){e.Events.on(this,"collisionStart",(function(t){t.pairs.map((function(t){var i=t.bodyA,s=t.bodyB;i.gameObject&&i.gameObject.emit("collide",i,s,t),s.gameObject&&s.gameObject.emit("collide",s,i,t),e.Events.trigger(i,"onCollide",{pair:t}),e.Events.trigger(s,"onCollide",{pair:t}),i.onCollideCallback&&i.onCollideCallback(t),s.onCollideCallback&&s.onCollideCallback(t),i.onCollideWith[s.id]&&i.onCollideWith[s.id](s,t),s.onCollideWith[i.id]&&s.onCollideWith[i.id](i,t)}))})),e.Events.on(this,"collisionActive",(function(t){t.pairs.map((function(t){var i=t.bodyA,s=t.bodyB;i.gameObject&&i.gameObject.emit("collideActive",i,s,t),s.gameObject&&s.gameObject.emit("collideActive",s,i,t),e.Events.trigger(i,"onCollideActive",{pair:t}),e.Events.trigger(s,"onCollideActive",{pair:t}),i.onCollideActiveCallback&&i.onCollideActiveCallback(t),s.onCollideActiveCallback&&s.onCollideActiveCallback(t)}))})),e.Events.on(this,"collisionEnd",(function(t){t.pairs.map((function(t){var i=t.bodyA,s=t.bodyB;i.gameObject&&i.gameObject.emit("collideEnd",i,s,t),s.gameObject&&s.gameObject.emit("collideEnd",s,i,t),e.Events.trigger(i,"onCollideEnd",{pair:t}),e.Events.trigger(s,"onCollideEnd",{pair:t}),i.onCollideEndCallback&&i.onCollideEndCallback(t),s.onCollideEndCallback&&s.onCollideEndCallback(t)}))}))}))}}},function(e,t,i){var s=i(1298),n={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.update",(function(){n.Engine.update(this)}))},Engine:{update:function(e){for(var t=e.world,i=s.Composite.allBodies(t),a=s.Composite.allComposites(t),r=0;r<i.length;r+=1){var o=i[r];o.plugin.wrap&&n.Body.wrap(o,o.plugin.wrap)}for(r=0;r<a.length;r+=1){var c=a[r];c.plugin.wrap&&n.Composite.wrap(c,c.plugin.wrap)}}},Bounds:{wrap:function(e,t){var i=null,s=null;if(void 0!==t.min.x&&void 0!==t.max.x&&(e.min.x>t.max.x?i=t.min.x-e.max.x:e.max.x<t.min.x&&(i=t.max.x-e.min.x)),void 0!==t.min.y&&void 0!==t.max.y&&(e.min.y>t.max.y?s=t.min.y-e.max.y:e.max.y<t.min.y&&(s=t.max.y-e.min.y)),null!==i||null!==s)return{x:i||0,y:s||0}}},Body:{wrap:function(e,t){var i=n.Bounds.wrap(e.bounds,t);return i&&s.Body.translate(e,i),i}},Composite:{bounds:function(e){for(var t=s.Composite.allBodies(e),i=[],n=0;n<t.length;n+=1){var a=t[n];i.push(a.bounds.min,a.bounds.max)}return s.Bounds.create(i)},wrap:function(e,t){var i=n.Bounds.wrap(n.Composite.bounds(e),t);return i&&s.Composite.translate(e,i),i}}};e.exports=n},function(e,t,i){e.exports={Canvas:i(1432),Snapshot:i(1433),WebGL:i(1434)}},function(e,t,i){e.exports={CanvasRenderer:i(505),GetBlendModes:i(507),SetTransform:i(28)}},function(e,t,i){e.exports={Canvas:i(506),WebGL:i(509)}},function(e,t,i){e.exports={Utils:i(9),WebGLPipeline:i(147),WebGLRenderer:i(508),Pipelines:i(1435),BYTE:0,SHORT:1,UNSIGNED_BYTE:2,UNSIGNED_SHORT:3,FLOAT:4}},function(e,t,i){e.exports={BitmapMaskPipeline:i(510),ForwardDiffuseLightPipeline:i(511),TextureTintPipeline:i(237),TextureTintStripPipeline:i(512),ModelViewProjection:i(238)}}])},e.exports=s()},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(e){a(e)}}function o(e){try{c(s.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,o)}c((s=s.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,s,n,a,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,s&&(n=2&a[0]?s.return:a[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,a[1])).done)return n;switch(s=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,s=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(n=r.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){r.label=a[1];break}if(6===a[0]&&r.label<n[1]){r.label=n[1],n=a;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(a);break}n[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],s=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(127),c=i(22),h=i(2),l=i(146),d=i(147),u=i(38),p=i(148),f=i(5),m=i(149),g=i(154),y=i(155),v=i(23),w=i(4),b=i(58),x=i(0),k=i(158),T=i(159),_=i(40),S=i(11);m.default.init();var C=function(e){function t(){var t=e.call(this,"Boot")||this;return t.okCallback=p.okCallback.bind(t),t.createnLanding=!0,t.doubleSave=!1,t.pushToken="",t.shopButton=b.shopButton.bind(t),t.bigButton=b.bigButton.bind(t),t.clickShopBtn=w.clickShopBtn.bind(t),t.clickModalBtn=w.clickModalBtn.bind(t),t.click=w.click.bind(t),t.setPlatformStorage=x.setPlatformStorage.bind(t),t.getPlatformStorage=x.getPlatformStorage.bind(t),t}return n(t,e),t.prototype.init=function(){this.build=4.4,this.state=l.default,this.fontsReady=!1,this.userReady=!1,this.play=!1,this.name="",this.avatar="",this.setAutosaveListener(),this.checkAbBlock(),this.setPlatform(),this.setLangs(),this.initAmplitude(),this.loadFonts(),this.checkUser(),this.switchingMusic(),this.addNewGameObjectsInFactory()},t.prototype.setAutosaveListener=function(){var e=this;window.addEventListener("beforeunload",(function(){("Sheep"===e.state.farm&&e.scene.isActive("Sheep")||"Chicken"===e.state.farm&&e.scene.isActive("Chicken")||"Cow"===e.state.farm&&e.scene.isActive("Cow")||"Unicorn"===e.state.farm&&e.scene.isActive("Unicorn"))&&e.game.scene.keys[e.state.farm].autosave()}),!1)},t.prototype.preload=function(){this.load.image("header-syst",S.default.headerSyst),this.load.image("mid-syst",S.default.midSyst),this.load.image("bottom-syst",S.default.bottomSyst),this.load.image("pb-empty-corner",S.default.pbEmptyCorner),this.load.image("pb-empty-mid",S.default.pbEmptyMid),this.load.image("pb-full-corner",S.default.pbFullCorner),this.load.image("pb-full-mid",S.default.pbFullMid),this.load.image("modal",S.default.modal),this.load.image("diamond-lil",S.default.diamondLil),this.load.image("shop-btn",S.default.landingBtn),this.load.image("big-btn-green",S.default.loginBtnGreen),this.load.image("big-btn-red",S.default.loginBtnRed),this.load.image("big-btn-yellow",S.default.loginBtnYellow),this.load.image("pixel-landing",S.default.pixelForLanding)},t.prototype.update=function(){this.userReady&&this.fontsReady&&(this.userReady=!1,this.fontsReady=!1,this.setStartState(),this.initVolume()),!this.createnLanding&&this.fontsReady&&this.createLanding(),this.fontsReady&&this.doubleSave&&(new T.default(this),this.doubleSave=!1),this.fontsReady&&this.serverError&&(this.serverError=!1,this.children.destroy(),new v.default(this,this.state.lang.checkYourInternet))},t.prototype.initVolume=function(){var e=this;"ya"!==this.state.platform?this.getPlatformStorage("musicVolume").then((function(t){t&&(e.state.musicVolume=Number(t)),e.getPlatformStorage("soundVolume").then((function(t){t&&(e.state.soundVolume=Number(t))})).catch((function(){e.state.soundVolume=1,e.state.musicVolume=1,e.setPlatformStorage("soundVolume",String(e.state.soundVolume))}))})).catch((function(){e.state.musicVolume=1,e.setPlatformStorage("musicVolume",String(e.state.musicVolume))})):this.getPlatformStorage("volume").then((function(t){t.music&&t.sound?(e.state.musicVolume=Number(t.music),e.state.soundVolume=Number(t.sound)):(e.state.musicVolume=1,e.state.soundVolume=1,e.setPlatformStorage("volume",{music:e.state.musicVolume,sound:e.state.soundVolume}))}))},t.prototype.setPlatform=function(){this.platform="web",this.hash="";var e=window.location.search;this.params=new URLSearchParams(e);var t=this.params.get("api_url"),i=this.params.get("api_server"),s=Object.fromEntries(this.params.entries());console.log("params",s),console.log("1.0.13"),"https://api.vk.com/api.php"===t?this.platform="vk":"https://api.ok.ru/"===i?this.platform="ok":s.hasOwnProperty("lang")&&(this.platform="vkplay"),console.log("Platform",this.platform)},t.prototype.loadFonts=function(){var e=this;o.load({custom:{families:["Shadow","Bip"]},active:function(){e.fontsReady=!0}})},t.prototype.setLangs=function(e){if(e)return"ru"!==e&&(e="en"),this.lang=e,void(this.state.lang=d.default[this.lang]);if("vk"!==this.platform&&"ok"!==this.platform){var t=window.navigator.language,i=(t=t.toLowerCase()).indexOf("ru");this.lang=-1!==i?"ru":"en"}else this.lang="ru";if("vkplay"===this.platform){var s=window.location.search;this.params=new URLSearchParams(s);var n=Object.fromEntries(this.params.entries());this.lang="ru_RU"===n.lang?"ru":"en"}this.state.lang=d.default[this.lang],console.log(this.lang,"lang")},t.prototype.initAmplitude=function(){this.state.amplitude=new m.default(this),this.state.amplitude.startIdentify()},t.prototype.setStartState=function(){if(this.state.user={takeFreeDiamondTime:0,fortuneTimeAd:10800,achievements:_.default,diamonds:0,avatar:"",boughtAvatars:[],id:"",clanId:"",xp:0,hash:this.hash,login:"",counter:0,mail:"",level:0,additionalTutorial:{balance:!1,cave:!1,collector:!1,herdBoost:!1,feedBoost:!1,eventTutorial:!1},takenReward:!0,status:" ",statuses:[],starterpack:!1,clanTasks:[],boosts:{sheep:{collector4:0,collector12:0,herd:0,feed:0},chicken:{collector4:0,collector12:0,herd:0,feed:0},cow:{collector4:0,collector12:0,herd:0,feed:0,factory:0},fortune:0},test:"",takenFreeDiamonds:!1,takenSocialAward:!1,messages:[],personalMessages:[]},this.state.platform=this.platform,this.state.build=this.build,this.state.name=this.name,this.state.avatar=this.avatar,this.scene.stop(),"android"===this.platform)try{window.Adjust.trackEvent(this.state.adjust.firstOpenEvent)}catch(e){console.log("ADJUST",e)}"Sheep"===f.default.get("farm")||"Chicken"===f.default.get("farm")||"Cow"===f.default.get("farm")?this.scene.start(f.default.get("farm")+"Preload",this.state):this.scene.start("SheepPreload",this.state)},t.prototype.getCookieHash=function(){for(var e,t,i=document.cookie.split(";"),s="",n=0;n<i.length;n++){if(i[n]=null===(e=i[n])||void 0===e?void 0:e.replace(/(\s*)\B(\s*)/g,""),0===(null===(t=i[n])||void 0===t?void 0:t.indexOf("farmHASH"))){s=i[n].slice(9);break}}return s},t.prototype.setCookieHash=function(e,t){this.hash=e,document.cookie="farmHASH="+e+"; expires="+t+"; path=/;",this.userReady=!0},t.prototype.checkUser=function(){"vk"===this.platform?this.checkVkUser():"ok"===this.platform?this.checkOkUser():"web"===this.platform?this.checkWebUser():"ya"===this.platform?this.checkYandexUser():"android"===this.platform?this.initAndroidPlatform():"gd"===this.platform?this.checkGDUser():"vkplay"===this.platform&&this.checkVkPlayUser()},t.prototype.checkVkPlayUser=function(){return a(this,void 0,void 0,(function(){return r(this,(function(e){var t,i;return t=window.iframeApi,i=this.state,void 0!==t?t({appid:["21121"],getLoginStatusCallback:function(e){if("ok"!=e.status)console.log(e),console.log("Ошибка авторизации...");else switch(e.loginStatus){case 2:i.vkplayApi.userProfile()}},userProfileCallback:function(e){console.log("info",e)},registerUserCallback:function(e){i.vkplayApi.reloadWindow()},adsCallback:function(e){}}).then((function(e){i.vkplayApi=e,i.vkplayApi.getLoginStatus()}),(function(e){throw new Error("Could not init external api "+e)})):console.log("Cannot find iframeApi function, are we inside an iframe?"),this.checkWebUser(),[2]}))}))},t.prototype.checkVkUser=function(){return a(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return u.default.send("VKWebAppInit",{}),[4,u.default.send("VKWebAppGetUserInfo",{})];case 1:return e=t.sent(),this.postCheckUser(e.id),this.state.vkId=e.id,this.name=e.first_name+" "+e.last_name,this.avatar=e.photo_200,this.checkVkTask(),[2]}}))}))},t.prototype.checkOkUser=function(){var e=this,t=c.FAPI.Util.getRequestParameters();c.FAPI.init(t.api_server,t.apiconnection,(function(){e.okCallback()})),this.postCheckUser(Number(t.logged_user_id)),this.name=t.user_name,this.avatar=t.user_image,this.checkOkTask({id:t.logged_user_id,sessionKey:t.session_key,sessionSecretKey:t.session_secret_key})},t.prototype.checkWebUser=function(){this.hash=f.default.get("hash"),this.postCheckUser(this.hash)},t.prototype.checkGDUser=function(){var e,t,i,s,n,a=this;window.GD_OPTIONS={gameId:{PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.GD_ID,onEvent:function(e){switch(e.name){case"SDK_GAME_START":console.log("SDK_GAME_START"),a.state.musicVolume=a.game.scene.keys[a.state.farm].ads.musicVolume,a.state.soundVolume=a.game.scene.keys[a.state.farm].ads.soundVolume,a.sound.get("music").volume=a.state.musicVolume;break;case"SDK_GAME_PAUSE":console.log("SDK_GAME_PAUSE"),a.state.musicVolume=0,a.state.soundVolume=0,a.scene.sound.get("music").volume=0;break;case"SDK_REWARDED_WATCH_COMPLETE":console.log("SDK_REWARDED_WATCH_COMPLETE"),a.state.musicVolume=a.game.scene.keys[a.state.farm].ads.musicVolume,a.state.soundVolume=a.game.scene.keys[a.state.farm].ads.soundVolume,a.game.scene.keys[a.state.farm].ads.adReward()}}},e=document,t="script",i="gamedistribution-jssdk",n=e.getElementsByTagName(t)[0],e.getElementById(i)||((s=e.createElement(t)).id=i,s.src="https://html5.api.gamedistribution.com/main.min.js",n.parentNode.insertBefore(s,n)),this.checkWebUser()},t.prototype.checkYandexUser=function(){var e=this,t=document,i=t.getElementsByTagName("script")[0],s=t.createElement("script");s.src="https://yandex.ru/games/sdk/v2",s.async=!0,i.parentNode.insertBefore(s,i),s.onload=function(){window.YaGames.init().then((function(t){e.state.ysdk=t,e.setLangs(t.environment.i18n.lang),e.initYandexUser().catch((function(t){e.hash=f.default.get("hash"),e.postCheckUser(e.hash)}))}))}},t.prototype.initYandexUser=function(){return a(this,void 0,void 0,(function(){var e=this;return r(this,(function(t){return[2,this.state.ysdk.getPlayer().then((function(t){var i=t.getUniqueID();e.name=t.getName(),e.name||(e.name="yandex_"+i.substr(0,4)),e.state.yandexName=e.name,e.avatar=t.getPhoto("large"),e.state.yaPlayer=t,e.postCheckUser(i,!0)}))]}))}))},t.prototype.initAndroidPlatform=function(){var e=this,t=document.createElement("script");t.setAttribute("src","cordova.js"),t&&(document.body.appendChild(t),document.addEventListener("deviceready",(function(){e.hash=f.default.get("hash"),e.initAndroidAdjust(),window.screen.orientation.lock("portrait-primary"),window.admob.start().then((function(){e.initAndroidRewardedAd(),e.initAndroidInterstitialAd()})),e.pushToken="";var t=e.hash,i=!1,s=!1,n=function(){if(i&&s)if(t!==e.hash){var n=t;e.checkAuthAndroidUser(n)}else e.postCheckUser(t)};window.pushNotification.registration((function(t){i=!0,e.pushToken=t,n()}),(function(){i=!0,n()})),document.addEventListener("play.SILENT_SIGNED_IN_FAILED",(function(){s||(s=!0,n())})),document.addEventListener("play.SIGN_IN_FAILED",(function(){s||(s=!0,n())})),document.addEventListener("play.PLAYER_INFO",(function(e){s||(s=!0,t=e,n())})),window.cordova.plugins.playGamesServices.initialize()})))},t.prototype.checkAuthAndroidUser=function(e){var t=this;this.state.playId=e.playerId,this.hash?this.checkOldUser().then((function(i){var s=i.data,n=s.hashUser,a=s.servicesUser;n&&!a?t.updateAndroidUser(e).then((function(){f.default.set("hash",""),t.postCheckUser(e.playerId,!0)})).catch((function(e){t.serverError=!0})):n&&a?(t.androidData={servicesData:e,hashUser:n,servicesUser:a},t.doubleSave=!0):(t.postCheckUser(e.playerId,!0,e.displayName),f.default.set("hash",""))})).catch((function(e){t.serverError=!0})):this.checkOldUser().then((function(i){i.data.servicesUser?t.postCheckUser(e.playerId,!0):t.postCheckUser(e.playerId,!0,e.displayName)})).catch((function(e){t.serverError=!0}))},t.prototype.checkOldUser=function(){return h.default.post("https://ferma.games:4000/checkAndroidUser",{hash:this.hash,id:this.state.playId})},t.prototype.updateAndroidUser=function(e){return h.default.post("https://ferma.games:4000/updateAndroidUser",{hash:this.hash,playId:e.playerId,login:e.displayName})},t.prototype.initAndroidAdjust=function(){var e=new AdjustConfig({PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.ADJUST,AdjustConfig.EnvironmentProduction);window.Adjust.create(e),this.state.adjust={firstOpenEvent:new AdjustEvent("odowuy"),tutorialDoneEvent:new AdjustEvent("nalk5e"),shopPurchaseEvent:new AdjustEvent("s1xl3a"),adEvent:new AdjustEvent("2zs7zu")}},t.prototype.initAndroidRewardedAd=function(){var e=this,t=window.admob;this.state.admob.rewarded=new t.RewardedAd({adUnitId:{PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.ADMOB_REWARDED_ID}),this.state.admob.rewarded.on("loadfail",(function(){e.state.readyAd=!1,e.state.admob.rewarded.load()})),this.state.admob.rewarded.on("load",(function(){e.state.readyAd=!0})),this.state.admob.rewarded.on("show",(function(){e.state.admob.rewarded.load()})),this.state.admob.rewarded.on("showfail",(function(){e.state.admob.rewarded.load()})),this.state.admob.rewarded.on("dismiss",(function(){e.state.musicVolume=e.game.scene.keys[e.state.farm].ads.musicVolume,e.state.soundVolume=e.game.scene.keys[e.state.farm].ads.soundVolume,e.sound.get("music").volume=e.state.musicVolume})),this.state.admob.rewarded.on("reward",(function(){if(e.game.scene.keys[e.state.farm].ads.adReward(),"android"===e.platform)try{window.Adjust.trackEvent(e.state.adjust.adEvent)}catch(e){console.log(e)}})),this.state.admob.rewarded.load()},t.prototype.initAndroidInterstitialAd=function(){var e=this,t=window.admob;this.state.admob.interstitial=new t.InterstitialAd({adUnitId:{PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.ADMOB_INTERSTITIAL_ID}),this.state.admob.interstitial.on("load",(function(){e.state.admob.interstitial.show()})),this.state.admob.interstitial.on("show",(function(){e.state.amplitude.logAmplitudeRevenue("interstitial",0,"interstitial",{})}))},t.prototype.postCheckUser=function(e,t,i){var s=this;h.default.post("https://ferma.games:4000/checkUser",{platform:this.platform,data:e,auth:t,pushToken:this.pushToken,login:i}).then((function(e){var i=e.data,n=i.hash,a=i.error,r=(i.expires,i.status);!1===a?"web"===s.platform&&"new"===r?s.createnLanding=!1:"web"!==s.platform&&("android"!==s.platform&&"ya"!==s.platform&&"gd"!==s.platform||t)?(s.userReady=!0,s.hash=n):s.setLocalStorageHash(n):s.createErrorWindow()})).catch((function(){s.serverError=!0}))},t.prototype.setLocalStorageHash=function(e){this.userReady=!0,this.hash=e,f.default.set("hash",e)},t.prototype.createLanding=function(){this.createnLanding=!0,this.authorizationWindow?this.landing=new g.default(this):(this.landing=new g.default(this),this.state.amplitude.logAmplitudeEvent("landing_view",{})),this.destroyAuthorizationWindow()},t.prototype.destroyLanding=function(){var e;null===(e=this.landing)||void 0===e||e.destroy()},t.prototype.createAuthorizationWindow=function(){"vkplay"===this.platform?this.state.vkplayApi.authUser():(this.destroyLanding(),this.authorizationWindow=new y.default(this))},t.prototype.destroyAuthorizationWindow=function(){var e;null===(e=this.authorizationWindow)||void 0===e||e.destroy()},t.prototype.playBtnHandler=function(){var e=this;"vkplay"===this.platform?this.state.vkplayApi.registerUser():this.play||h.default.post("https://ferma.games:4000/checkUser",{platform:"webNew"}).then((function(t){!1===t.data.error?(e.setLocalStorageHash(t.data.hash),e.state.amplitude.logAmplitudeEvent("landing_login",{})):e.createErrorWindow()})).catch((function(){e.serverError=!0}))},t.prototype.createErrorWindow=function(){this.destroyLanding(),this.destroyAuthorizationWindow(),new v.default(this)},t.prototype.checkAbBlock=function(){this.state.adBlock=!0;var e=document.querySelector("#adblock");e&&e.clientHeight>1&&(this.state.adBlock=!1)},t.prototype.checkVkTask=function(){var e=this;this.state.vkTask={joinGroup:!1,subGroup:!1,subNotification:!1,addFavorites:!1};var t={id:this.state.vkId};h.default.post("https://ferma.games:4000/checkVkTask",t).then((function(t){e.state.vkTask.joinGroup=t.data.data.joinGroup,e.state.vkTask.subGroup=t.data.data.subGroup})).catch((function(e){return console.log(e)})),u.default.send("VKWebAppCheckAllowedScopes",{scopes:"menu, notify"}).then((function(t){t.result.forEach((function(t){"notify"===t.scope&&(e.state.vkTask.subNotification=t.allowed),"menu"===t.scope&&(e.state.vkTask.addFavorites=t.allowed)}))})).catch((function(e){return console.log(e)}))},t.prototype.checkOkTask=function(e){var t=this;this.state.okTask={joinGroup:!1,subGroup:!1,addFavorites:!1,sendPost:!1},h.default.post("https://ferma.games:4000/checkOkTask",e).then((function(e){t.state.okTask.joinGroup=e.data.data.joinGroup,t.state.okTask.subGroup=e.data.data.subGroup})),c.FAPI.Client.call({method:"storage.get",keys:"addFavourites, sendPost"},(function(e,i,s){i&&(t.state.okTask.addFavorites=JSON.parse(i.data.addFavourites),t.state.okTask.sendPost=JSON.parse(i.data.sendPost))}))},t.prototype.switchingMusic=function(){var e=this;document.addEventListener("visibilitychange",(function(){if("visible"===document.visibilityState)setTimeout((function(){var t=e.sound.get("music");null==t||t.resume()}),10);else{var t=e.sound.get("music");null==t||t.pause()}}),!1)},t.prototype.addNewGameObjectsInFactory=function(){Phaser.GameObjects.GameObjectFactory.register("roundedField",(function(e,t,i,s,n){return new k.default(this.scene,e,t,i,s,n)}))},t}(Phaser.Scene);t.default=C},function(e,t,i){var s;!function(){function n(e,t,i){return e.call.apply(e.bind,arguments)}function a(e,t,i){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,s),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function r(e,t,i){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:a).apply(null,arguments)}var o=Date.now||function(){return+new Date};function c(e,t){this.a=e,this.m=t||e,this.c=this.m.document}var h=!!window.FontFace;function l(e,t,i,s){if(t=e.c.createElement(t),i)for(var n in i)i.hasOwnProperty(n)&&("style"==n?t.style.cssText=i[n]:t.setAttribute(n,i[n]));return s&&t.appendChild(e.c.createTextNode(s)),t}function d(e,t,i){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(i,e.lastChild)}function u(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e,t,i){t=t||[],i=i||[];for(var s=e.className.split(/\s+/),n=0;n<t.length;n+=1){for(var a=!1,r=0;r<s.length;r+=1)if(t[n]===s[r]){a=!0;break}a||s.push(t[n])}for(t=[],n=0;n<s.length;n+=1){for(a=!1,r=0;r<i.length;r+=1)if(s[n]===i[r]){a=!0;break}a||t.push(s[n])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function f(e,t){for(var i=e.className.split(/\s+/),s=0,n=i.length;s<n;s++)if(i[s]==t)return!0;return!1}function m(e){if("string"==typeof e.f)return e.f;var t=e.m.location.protocol;return"about:"==t&&(t=e.a.location.protocol),"https:"==t?"https:":"http:"}function g(e,t,i){function s(){o&&n&&a&&(o(r),o=null)}t=l(e,"link",{rel:"stylesheet",href:t,media:"all"});var n=!1,a=!0,r=null,o=i||null;h?(t.onload=function(){n=!0,s()},t.onerror=function(){n=!0,r=Error("Stylesheet failed to load"),s()}):setTimeout((function(){n=!0,s()}),0),d(e,"head",t)}function y(e,t,i,s){var n=e.c.getElementsByTagName("head")[0];if(n){var a=l(e,"script",{src:t}),r=!1;return a.onload=a.onreadystatechange=function(){r||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(r=!0,i&&i(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&n.removeChild(a))},n.appendChild(a),setTimeout((function(){r||(r=!0,i&&i(Error("Script load timeout")))}),s||5e3),a}return null}function v(){this.a=0,this.c=null}function w(e){return e.a++,function(){e.a--,x(e)}}function b(e,t){e.c=t,x(e)}function x(e){0==e.a&&e.c&&(e.c(),e.c=null)}function k(e){this.a=e||"-"}function T(e,t){this.c=e,this.f=4,this.a="n";var i=(t||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function _(e){var t=[];e=e.split(/,\s*/);for(var i=0;i<e.length;i++){var s=e[i].replace(/['"]/g,"");-1!=s.indexOf(" ")||/^\d/.test(s)?t.push("'"+s+"'"):t.push(s)}return t.join(",")}function S(e){return e.a+e.f}function C(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function P(e){var t=4,i="n",s=null;return e&&((s=e.match(/(normal|oblique|italic)/i))&&s[1]&&(i=s[1].substr(0,1).toLowerCase()),(s=e.match(/([1-9]00|normal|bold)/i))&&s[1]&&(/bold/i.test(s[1])?t=7:/[1-9]00/.test(s[1])&&(t=parseInt(s[1].substr(0,1),10)))),i+t}function B(e,t){this.c=e,this.f=e.m.document.documentElement,this.h=t,this.a=new k("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function A(e){if(e.g){var t=f(e.f,e.a.c("wf","active")),i=[],s=[e.a.c("wf","loading")];t||i.push(e.a.c("wf","inactive")),p(e.f,i,s)}E(e,"inactive")}function E(e,t,i){e.j&&e.h[t]&&(i?e.h[t](i.c,S(i)):e.h[t]())}function M(){this.c={}}function O(e,t){this.c=e,this.f=t,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function I(e){d(e.c,"body",e.a)}function R(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+_(e.c)+";font-style:"+C(e)+";font-weight:"+e.f+"00;"}function D(e,t,i,s,n,a){this.g=e,this.j=t,this.a=s,this.c=i,this.f=n||3e3,this.h=a||void 0}function N(e,t,i,s,n,a,r){this.v=e,this.B=t,this.c=i,this.a=s,this.s=r||"BESbswy",this.f={},this.w=n||3e3,this.u=a||null,this.o=this.j=this.h=this.g=null,this.g=new O(this.c,this.s),this.h=new O(this.c,this.s),this.j=new O(this.c,this.s),this.o=new O(this.c,this.s),e=R(e=new T(this.a.c+",serif",S(this.a))),this.g.a.style.cssText=e,e=R(e=new T(this.a.c+",sans-serif",S(this.a))),this.h.a.style.cssText=e,e=R(e=new T("serif",S(this.a))),this.j.a.style.cssText=e,e=R(e=new T("sans-serif",S(this.a))),this.o.a.style.cssText=e,I(this.g),I(this.h),I(this.j),I(this.o)}k.prototype.c=function(e){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},D.prototype.start=function(){var e=this.c.m.document,t=this,i=o(),s=new Promise((function(s,n){!function a(){o()-i>=t.f?n():e.fonts.load(function(e){return C(e)+" "+e.f+"00 300px "+_(e.c)}(t.a),t.h).then((function(e){1<=e.length?s():setTimeout(a,25)}),(function(){n()}))}()})),n=new Promise((function(e,i){setTimeout(i,t.f)}));Promise.race([n,s]).then((function(){t.g(t.a)}),(function(){t.j(t.a)}))};var F={D:"serif",C:"sans-serif"},L=null;function Y(){if(null===L){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);L=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return L}function U(e,t,i){for(var s in F)if(F.hasOwnProperty(s)&&t===e.f[F[s]]&&i===e.f[F[s]])return!0;return!1}function V(e){var t,i=e.g.a.offsetWidth,s=e.h.a.offsetWidth;(t=i===e.f.serif&&s===e.f["sans-serif"])||(t=Y()&&U(e,i,s)),t?o()-e.A>=e.w?Y()&&U(e,i,s)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?W(e,e.v):W(e,e.B):function(e){setTimeout(r((function(){V(this)}),e),50)}(e):W(e,e.v)}function W(e,t){setTimeout(r((function(){u(this.g.a),u(this.h.a),u(this.j.a),u(this.o.a),t(this.a)}),e),0)}function z(e,t,i){this.c=e,this.a=t,this.f=0,this.o=this.j=!1,this.s=i}N.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=o(),V(this)};var H=null;function X(e){0==--e.f&&e.j&&(e.o?((e=e.a).g&&p(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),E(e,"active")):A(e.a))}function G(e){this.j=e,this.a=new M,this.h=0,this.f=this.g=!0}function j(e,t,i,s,n){var a=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=n||null,o=s||{};if(0===i.length&&a)A(t.a);else{t.f+=i.length,a&&(t.j=a);var c,h=[];for(c=0;c<i.length;c++){var l=i[c],d=o[l.c],u=t.a,f=l;u.g&&p(u.f,[u.a.c("wf",f.c,S(f).toString(),"loading")]),E(u,"fontloading",f),u=null,null===H&&(H=!!window.FontFace&&(!(f=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))||42<parseInt(f[1],10))),u=H?new D(r(t.g,t),r(t.h,t),t.c,l,t.s,d):new N(r(t.g,t),r(t.h,t),t.c,l,t.s,e,d),h.push(u)}for(c=0;c<h.length;c++)h[c].start()}}),0)}function $(e,t){this.c=e,this.a=t}function K(e,t){this.c=e,this.a=t}function q(e,t,i){this.c=e||t+J,this.a=[],this.f=[],this.g=i||""}z.prototype.g=function(e){var t=this.a;t.g&&p(t.f,[t.a.c("wf",e.c,S(e).toString(),"active")],[t.a.c("wf",e.c,S(e).toString(),"loading"),t.a.c("wf",e.c,S(e).toString(),"inactive")]),E(t,"fontactive",e),this.o=!0,X(this)},z.prototype.h=function(e){var t=this.a;if(t.g){var i=f(t.f,t.a.c("wf",e.c,S(e).toString(),"active")),s=[],n=[t.a.c("wf",e.c,S(e).toString(),"loading")];i||s.push(t.a.c("wf",e.c,S(e).toString(),"inactive")),p(t.f,s,n)}E(t,"fontinactive",e),X(this)},G.prototype.load=function(e){this.c=new c(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,i){var s=[],n=i.timeout;!function(e){e.g&&p(e.f,[e.a.c("wf","loading")]),E(e,"loading")}(t);s=function(e,t,i){var s,n=[];for(s in t)if(t.hasOwnProperty(s)){var a=e.c[s];a&&n.push(a(t[s],i))}return n}(e.a,i,e.c);var a=new z(e.c,t,n);for(e.h=s.length,t=0,i=s.length;t<i;t++)s[t].load((function(t,i,s){j(e,a,t,i,s)}))}(this,new B(this.c,e),e)},$.prototype.load=function(e){var t=this,i=t.a.projectId,s=t.a.version;if(i){var n=t.c.m;y(this.c,function(e,t,i){return m(e.c)+"//"+(e=(e.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""))+"/"+t+".js"+(i?"?v="+i:"")}(t,i,s),(function(s){s?e([]):(n["__MonotypeConfiguration__"+i]=function(){return t.a},function t(){if(n["__mti_fntLst"+i]){var s,a=n["__mti_fntLst"+i](),r=[];if(a)for(var o=0;o<a.length;o++){var c=a[o].fontfamily;null!=a[o].fontStyle&&null!=a[o].fontWeight?(s=a[o].fontStyle+a[o].fontWeight,r.push(new T(c,s))):r.push(new T(c))}e(r)}else setTimeout((function(){t()}),50)}())})).id="__MonotypeAPIScript__"+i}else e([])},K.prototype.load=function(e){var t,i,s=this.a.urls||[],n=this.a.families||[],a=this.a.testStrings||{},r=new v;for(t=0,i=s.length;t<i;t++)g(this.c,s[t],w(r));var o=[];for(t=0,i=n.length;t<i;t++)if((s=n[t].split(":"))[1])for(var c=s[1].split(","),h=0;h<c.length;h+=1)o.push(new T(s[0],c[h]));else o.push(new T(s[0]));b(r,(function(){e(o,a)}))};var J="//fonts.googleapis.com/css";function Q(e){this.f=e,this.a=[],this.c={}}var Z={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},ee={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},te={i:"i",italic:"i",n:"n",normal:"n"},ie=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function se(e,t){this.c=e,this.a=t}var ne={Arimo:!0,Cousine:!0,Tinos:!0};function ae(e,t){this.c=e,this.a=t}function re(e,t){this.c=e,this.f=t,this.a=[]}se.prototype.load=function(e){var t=new v,i=this.c,s=new q(this.a.api,m(i),this.a.text),n=this.a.families;!function(e,t){for(var i=t.length,s=0;s<i;s++){var n=t[s].split(":");3==n.length&&e.f.push(n.pop());var a="";2==n.length&&""!=n[1]&&(a=":"),e.a.push(n.join(a))}}(s,n);var a=new Q(n);!function(e){for(var t=e.f.length,i=0;i<t;i++){var s=e.f[i].split(":"),n=s[0].replace(/\+/g," "),a=["n4"];if(2<=s.length){var r;if(r=[],o=s[1])for(var o,c=(o=o.split(",")).length,h=0;h<c;h++){var l;if((l=o[h]).match(/^[\w-]+$/))if(null==(u=ie.exec(l.toLowerCase())))l="";else{if(l=null==(l=u[2])||""==l?"n":te[l],null==(u=u[1])||""==u)u="4";else var d=ee[u],u=d||(isNaN(u)?"4":u.substr(0,1));l=[l,u].join("")}else l="";l&&r.push(l)}0<r.length&&(a=r),3==s.length&&(r=[],0<(s=(s=s[2])?s.split(","):r).length&&(s=Z[s[0]])&&(e.c[n]=s))}for(e.c[n]||(s=Z[n])&&(e.c[n]=s),s=0;s<a.length;s+=1)e.a.push(new T(n,a[s]))}}(a),g(i,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,i=[],s=0;s<t;s++)i.push(e.a[s].replace(/ /g,"+"));return t=e.c+"?family="+i.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(s),w(t)),b(t,(function(){e(a.a,a.c,ne)}))},ae.prototype.load=function(e){var t=this.a.id,i=this.c.m;t?y(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){t=i.Typekit.config.fn;for(var s=[],n=0;n<t.length;n+=2)for(var a=t[n],r=t[n+1],o=0;o<r.length;o++)s.push(new T(a,r[o]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}e(s)}}),2e3):e([])},re.prototype.load=function(e){var t=this.f.id,i=this.c.m,s=this;t?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[t]=function(t,i){for(var n=0,a=i.fonts.length;n<a;++n){var r=i.fonts[n];s.a.push(new T(r.name,P("font-weight:"+r.weight+";font-style:"+r.style)))}e(s.a)},y(this.c,m(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+function(e){return e.m.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var oe=new G(window);oe.a.c.custom=function(e,t){return new K(t,e)},oe.a.c.fontdeck=function(e,t){return new re(t,e)},oe.a.c.monotype=function(e,t){return new $(t,e)},oe.a.c.typekit=function(e,t){return new ae(t,e)},oe.a.c.google=function(e,t){return new se(t,e)};var ce={load:r(oe.load,oe)};void 0===(s=function(){return ce}.call(t,i,t,e))||(e.exports=s)}()},function(e,t,i){"use strict";var s=i(7),n=i(77),a=i(129),r=i(83);function o(e){var t=new a(e),i=n(a.prototype.request,t);return s.extend(i,a.prototype,t),s.extend(i,t),i}var c=o(i(56));c.Axios=a,c.create=function(e){return o(r(c.defaults,e))},c.Cancel=i(84),c.CancelToken=i(143),c.isCancel=i(82),c.all=function(e){return Promise.all(e)},c.spread=i(144),c.isAxiosError=i(145),e.exports=c,e.exports.default=c},function(e,t,i){"use strict";var s=i(7),n=i(78),a=i(130),r=i(131),o=i(83),c=i(141),h=c.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:h.transitional(h.boolean,"1.0.0"),forcedJSONParsing:h.transitional(h.boolean,"1.0.0"),clarifyTimeoutError:h.transitional(h.boolean,"1.0.0")},!1);var i=[],s=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,i.unshift(t.fulfilled,t.rejected))}));var n,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!s){var l=[r,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(a),n=Promise.resolve(e);l.length;)n=n.then(l.shift(),l.shift());return n}for(var d=e;i.length;){var u=i.shift(),p=i.shift();try{d=u(d)}catch(e){p(e);break}}try{n=r(d)}catch(e){return Promise.reject(e)}for(;a.length;)n=n.then(a.shift(),a.shift());return n},l.prototype.getUri=function(e){return e=o(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},s.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,i){return this.request(o(i||{},{method:e,url:t,data:(i||{}).data}))}})),s.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,i,s){return this.request(o(s||{},{method:e,url:t,data:i}))}})),e.exports=l},function(e,t,i){"use strict";var s=i(7);function n(){this.handlers=[]}n.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){s.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=n},function(e,t,i){"use strict";var s=i(7),n=i(132),a=i(82),r=i(56);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=s.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),s.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||r.adapter)(e).then((function(t){return o(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(o(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,i){"use strict";var s=i(7),n=i(56);e.exports=function(e,t,i){var a=this||n;return s.forEach(i,(function(i){e=i.call(a,e,t)})),e}},function(e,t,i){"use strict";var s=i(7);e.exports=function(e,t){s.forEach(e,(function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])}))}},function(e,t,i){"use strict";var s=i(81);e.exports=function(e,t,i){var n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(s("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},function(e,t,i){"use strict";var s=i(7);e.exports=s.isStandardBrowserEnv()?{write:function(e,t,i,n,a,r){var o=[];o.push(e+"="+encodeURIComponent(t)),s.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),s.isString(n)&&o.push("path="+n),s.isString(a)&&o.push("domain="+a),!0===r&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,i){"use strict";var s=i(137),n=i(138);e.exports=function(e,t){return e&&!s(t)?n(e,t):t}},function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,i){"use strict";var s=i(7),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,a,r={};return e?(s.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=s.trim(e.substr(0,a)).toLowerCase(),i=s.trim(e.substr(a+1)),t){if(r[t]&&n.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([i]):r[t]?r[t]+", "+i:i}})),r):r}},function(e,t,i){"use strict";var s=i(7);e.exports=s.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(e){var s=e;return t&&(i.setAttribute("href",s),s=i.href),i.setAttribute("href",s),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=n(window.location.href),function(t){var i=s.isString(t)?n(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},function(e,t,i){"use strict";var s=i(142),n={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){n[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}}));var a={},r=s.version.split(".");function o(e,t){for(var i=t?t.split("."):r,s=e.split("."),n=0;n<3;n++){if(i[n]>s[n])return!0;if(i[n]<s[n])return!1}return!1}n.transitional=function(e,t,i){var n=t&&o(t);function r(e,t){return"[Axios v"+s.version+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return function(i,s,o){if(!1===e)throw new Error(r(s," has been removed in "+t));return n&&!a[s]&&(a[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,s,o)}},e.exports={isOlderVersion:o,assertOptions:function(e,t,i){if("object"!=typeof e)throw new TypeError("options must be an object");for(var s=Object.keys(e),n=s.length;n-- >0;){var a=s[n],r=t[a];if(r){var o=e[a],c=void 0===o||r(o,a,e);if(!0!==c)throw new TypeError("option "+a+" must be "+c)}else if(!0!==i)throw Error("Unknown option "+a)}},validators:n}},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,t,i){"use strict";var s=i(84);function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;e((function(e){i.reason||(i.reason=new s(e),t(i.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n((function(t){e=t})),cancel:e}},e.exports=n},function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,i){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={autoSaveSpeed:void 0,maxMerginTime:void 0,herdBoostSpeedAnimal:void 0,herdBoostPrice:void 0,herdBoostTime:void 0,herdBoostDelay:void 0,herdBoostAnimals:[],timeToNewDay:void 0,sheepSettings:void 0,chickenSettings:void 0,cowSettings:void 0,unicornSettings:void 0,farm:void 0,chickenTerritories:void 0,cowTerritories:void 0,sheepTerritories:void 0,unicornTerritories:void 0,sheep:void 0,chicken:void 0,cow:void 0,unicorn:void 0,chickenEggs:void 0,cowMilk:void 0,unicornResources:void 0,user:void 0,userSheep:void 0,userChicken:void 0,userCow:void 0,userUnicorn:void 0,sheepTasks:void 0,chickenTasks:void 0,cowTasks:void 0,dailyAwards:[!1,!1,!1,!1,!1,!1,!1,!1],vkplayApi:null,badBalanceWindowShown:!1,clanChatNotificationCount:0,shopNotificationCount:void 0,lang:void 0,modal:void 0,animal:void 0,territory:void 0,convertor:void 0,exchangeTerritory:void 0,packages:void 0,platform:void 0,name:void 0,avatar:void 0,socket:void 0,tutorial:void 0,progress:void 0,offlineTime:void 0,daily:void 0,payDiamonds:void 0,payId:void 0,payPrice:void 0,amplitude:void 0,online:!0,newbieTime:void 0,readyAd:void 0,adRewardedType:void 0,adTimeout:void 0,vkId:void 0,sheepCollectorSettings:void 0,chickenCollectorSettings:void 0,cowCollectorSettings:void 0,unicornCollectorSettings:void 0,adBlock:void 0,donate:void 0,boughtFeedBoost:!1,chat:[],starterpack:!1,stock:"",boughtFactoryBoost:!1,fortuneData:void 0,sheepNotificationCount:[0,0,0,0],chickenNotificationCount:[0,0,0,0],cowNotificationCount:[0,0,0,0,0],unicornNotificationCount:[0],storageMultiply:2,vkTask:{},okTask:{},shownSocialTaskWindow:!1,build:0,yandexName:"",musicVolume:1,soundVolume:1,clanEventTakenAward:!0,sales:[],dataIsLoaded:!1,playId:void 0,interstitialTimer:0,admob:{interstitial:null,rewarded:null},prerollInterstitial:!1};t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ru:{index:"ru",loading:"Загрузка",chicken:"Курочка",sheep:"Овечка",cow:"Коровка",cowBreed0:"Кристаллическая",cowBreed1:"Белая",cowBreed2:"Пятнистая",cowBreed3:"Бурая",cowBreed4:"Шотландская",cowBreed5:"Степная",cowBreed6:"Индийская",cowBreed7:"Фермерская",cowBreed8:"Северная",cowBreed9:"Греческая",cowBreed10:"Февральская",cowBreed11:"Племенная",cowBreed12:"Сказочная",chickenBreed0:"Кристаллическая",chickenBreed1:"Белая",chickenBreed2:"Бурая",chickenBreed3:"Дымчатая",chickenBreed4:"Сапфировая",chickenBreed5:"Викинг",chickenBreed6:"Панк",chickenBreed7:"Ковбойская",chickenBreed8:"Элегантная",chickenBreed9:"Благородная",chickenBreed10:"Курочка",chickenBreed11:"Вампирская",chickenBreed12:"Королевская",sheepBreed0:"Кристаллическая",sheepBreed1:"Белая",sheepBreed2:"Чёрная",sheepBreed3:"Бурая",sheepBreed4:"Винторогая",sheepBreed5:"Ирландская",sheepBreed6:"Кавказская",sheepBreed7:"Лунная",sheepBreed8:"Гламурная",sheepBreed9:"Рыжая",sheepBreed10:"Крылатая",sheepBreed11:"Шведская",sheepBreed12:"Волшебная",buyTerritory:"Купить территорию",boughtLand:"Купленная земля",pasture:"Пастбище $1 cорт",water:"Поилка $1 сорт",fair:"Ярмарка $1 уровня",mergingMessageBreed:"Нельзя улучшить разные породы!",mergingMessageBreedMax:"Нельзя улучшить максимальную породу!",needImproveFair:"Необходимо улучшить ярмарку!",improveCowFair:"Улучши ярмарку, чтобы обменивать коров более высокого ранга",improveChickenFair:"Улучши ярмарку, чтобы обменивать кур более высокого ранга",improveSheepFair:"Улучши ярмарку, чтобы обменивать овец более высокого ранга",maxFairLevel:"Вы достигли максимального уровня ярмарки!",improveFair:"Улучшить до $1 ур.",shortPart:"Гл.",improveToLevel:"Улучшить до $1 ур.",exchangeWater:"Сменить на поилку",exchangeGrass:"Сменить на пастбище",installWater:"Поставить поилку",sowPasture:"Засеять пастбище",message:"Сообщение",maxCowCount:"Достигнуто максимальное число коров!",maxChickenCount:"Достигнуто максимальное число кур!",maxSheepCount:"Достигнуто максимальное число овец!",maxEventCount:"Не осталось пустых ячеек!",exchange:"Обмен",cancel:"Отмена",surcharge:"Доплатить",notEnoughForYou:"Тебе не хватает:",buy:"Купить",exchangeTerritory:"Обменять территорию",sureExchange:"Вы действительно хотите сменить территорию? Новая территория будет 1 уровня!",part:"Глава",buildRepository:"Построить хранилище",buildFactory:"Построить фабрику",repository:"Хранилище $1 уровня",factory:"Фабрика $1 уровня",milkWillBeSold:"Все молоко в хранилище будет продано!",eggsWillBeSold:"Все яйца в хранилище будут проданы!",woolWillBeSold:"Вся шерсть в хранилище будет продана!",exchangeRepository:"Сменить на хранилище",repCloseToFair:"Нельзя ставить хранилище возле выхода ярмарки!",sellMilk:"Продать молоко",sellEggs:"Продать яйца",sellWool:"Продать шерсть",countMilk:"Литров молока",countEggs:"Количество яиц",countWool:"Килограмм шерсти",shortWheek:"н",shortDays:"д",shortHours:"ч",shortMinutes:"м",minutes:"мин.",seconds:"сек.",ruble:"руб",voices:"глс",free:"бесплатно",milkPrice:"Молока:",eggPrice:"Цена яйца:",woolPrice:"Цена шерсти:",price:"Цена:",milkCollector:"Собиратель",eggCollector:"Собиратель яиц",woolCollector:"Подстригатель",resourceCollector:"Собиратель радуги",take:"Взять",cowProfileName:"Животновод",chickenProfileName:"Птицевод",sheepProfileName:"Пастух-овцевод",unicornProfileName:"Друг единорогов",cowNamePart1:"Первые шаги",cowNamePart2:"Ярмарка",cowNamePart3:"Коровник мечты",cowNamePart4:"Ярмарочный день",cowNamePart5:"Новые технологии",cowNamePart6:"Вместе веселее",cowNamePart7:"Долгий путь к славе",cowNamePart8:"Больше коров",cowNamePart9:"Серьезные суммы",cowNamePart10:"Новые горизонты",cowNamePart11:"Главное - вовремя пить",cowNamePart12:"Коровий магнат",cowNamePart13:"Бескрайние поля",cowNamePart14:"Ярмарочный магнат",cowNamePart15:"Последний рывок",cowNamePart16:"Глаз радуется",chickenNamePart1:"Первые шаги",chickenNamePart2:"Ярмарка",chickenNamePart3:"Курятник мечты",chickenNamePart4:"Ярмарочный день",chickenNamePart5:"Новые технологии",chickenNamePart6:"Вместе веселее",chickenNamePart7:"Долгий путь к славе",chickenNamePart8:"Больше кур",chickenNamePart9:"Серьезные суммы",chickenNamePart10:"Новые горизонты",chickenNamePart11:"Главное - вовремя пить",chickenNamePart12:"Куриный магнат",chickenNamePart13:"Бескрайние поля",chickenNamePart14:"Ярмарочный магнат",chickenNamePart15:"Последний рывок",chickenNamePart16:"Глаз радуется",sheepNamePart1:"Первые шаги",sheepNamePart2:"Ярмарка",sheepNamePart3:"Пастбище мечты",sheepNamePart4:"Ярмарочный день",sheepNamePart5:"Новые технологии",sheepNamePart6:"Вместе веселее",sheepNamePart7:"Долгий путь к славе",sheepNamePart8:"Большое стадо",sheepNamePart9:"Серьезные суммы",sheepNamePart10:"Новые горизонты",sheepNamePart11:"Главное - вовремя пить",sheepNamePart12:"Овечий магнат",sheepNamePart13:"Бескрайние поля",sheepNamePart14:"Ярмарочный магнат",sheepNamePart15:"Последний рывок",sheepNamePart16:"Глаз радуется",cowPartAward1:"Пройди все задания и открой Ярмарку 2 уровня!",cowPartAward2:"Пройди все задания и открой волшебную пещеру и новые земли!",cowPartAward3:"Пройди все задания и открой Ярмарку 3 уровня!",cowPartAward4:"Пройди все задания и открой Пастбище и Поилку 3 уровня!",cowPartAward5:"Пройди все задания и открой улучшенного Собирателя молока!",cowPartAward6:"Пройди все задания и открой Ярмарку 4 уровня!",cowPartAward7:"Пройди все задания и открой Пастбище и Поилку 4 уровня!",cowPartAward8:"Пройди все задания и открой Ярмарку 5 уровня и улучшенного Собирателя молока!",cowPartAward9:"Пройди все задания и открой Ярмарку 6 уровня!",cowPartAward10:"Пройди все задания и открой Ярмарку 7 уровня!",cowPartAward11:"Пройди все задания и открой Ярмарку 8 уровня!",cowPartAward12:"Пройди все задания и открой Ярмарку 9 уровня!",cowPartAward13:"Пройди все задания и открой Ярмарку 10 уровня!",cowPartAward14:"Пройди все задания и открой Ярмарку 11 уровня!",cowPartAward15:"Пройди все задания и открой Ярмарку 12 уровня!",cowPartAward16:"Пройди все задания и открой максимальное количество полей!",chickenPartAward1:"Пройди все задания и открой Ярмарку 2 уровня!",chickenPartAward2:"Пройди все задания и открой волшебную пещеру и новые земли!",chickenPartAward3:"Пройди все задания и открой Ярмарку 3 уровня!",chickenPartAward4:"Пройди все задания и открой Пастбище и Поилку 3 уровня!",chickenPartAward5:"Пройди все задания и открой улучшенного Собирателя яиц!",chickenPartAward6:"Пройди все задания и открой Ярмарку 4 уровня!",chickenPartAward7:"Пройди все задания и открой Пастбище и Поилку 4 уровня!",chickenPartAward8:"Пройди все задания и открой Ярмарку 5 уровня и улучшенного Собирателя яиц!",chickenPartAward9:"Пройди все задания и открой Ярмарку 6 уровня!",chickenPartAward10:"Пройди все задания и открой Ярмарку 7 уровня!",chickenPartAward11:"Пройди все задания и открой Ярмарку 8 уровня!",chickenPartAward12:"Пройди все задания и открой Ярмарку 9 уровня!",chickenPartAward13:"Пройди все задания и открой Ярмарку 10 уровня!",chickenPartAward14:"Пройди все задания и открой Ярмарку 11 уровня!",chickenPartAward15:"Пройди все задания и открой Ярмарку 12 уровня!",chickenPartAward16:"Пройди все задания и открой максимальное количество полей!",sheepPartAward1:"Пройди все задания и открой Ярмарку 2 уровня!",sheepPartAward2:"Пройди все задания и открой волшебную пещеру и новые земли!",sheepPartAward3:"Пройди все задания и открой Ярмарку 3 уровня!",sheepPartAward4:"Пройди все задания и открой Пастбище и Поилку 3 уровня!",sheepPartAward5:"Пройди все задания и открой улучшение Автоподстригателя!",sheepPartAward6:"Пройди все задания и открой Ярмарку 4 уровня!",sheepPartAward7:"Пройди все задания и открой Пастбище и Поилку 4 уровня!",sheepPartAward8:"Пройди все задания и открой Ярмарку 5 уровня и улучшение Автоподстригателя!",sheepPartAward9:"Пройди все задания и открой Ярмарку 6 уровня!",sheepPartAward10:"Пройди все задания и открой Ярмарку 7 уровня!",sheepPartAward11:"Пройди все задания и открой Ярмарку 8 уровня!",sheepPartAward12:"Пройди все задания и открой Ярмарку 9 уровня!",sheepPartAward13:"Пройди все задания и открой Ярмарку 10 уровня!",sheepPartAward14:"Пройди все задания и открой Ярмарку 11 уровня!",sheepPartAward15:"Пройди все задания и открой Ярмарку 12 уровня!",sheepPartAward16:"Пройди все задания и открой максимальное количество полей!",cowPartDone1:"Ты открыл новые улучшения! Теперь тебе доступна фабрика!",cowPartDone2:"Ты открыл пещеру с волшебными коровами и новые земли!",cowPartDone3:"Ты открыл Ярмарку 3 уровня! Теперь ты можешь выводить новых коров!",cowPartDone4:"Ты открыл новые улучшения! Доступен собиратель на 4 часа. Бустер Коровий переполох открыт!",cowPartDone5:"Ты открыл новые земли и бустер Комбикорм!",cowPartDone6:"Ты открыл Ярмарку 4 уровня и новые улучшения! Выводи новых коров!",cowPartDone7:"Ты открыл новые улучшения! Доступен собиратель на 12 часов.",cowPartDone8:"Ты открыл Ярмарку 5 уровня и новые улучшения!",cowPartDone9:"Ты открыл Ярмарку 6 уровня и новые улучшения!",cowPartDone10:"Ты открыл Ярмарку 7 уровня и новые улучшения!",cowPartDone11:"Ты открыл Ярмарку 8 уровня и новые улучшения!",cowPartDone12:"Ты открыл Ярмарку 9 уровня и новые улучшения!",cowPartDone13:"Ты открыл Ярмарку 10 уровня и новые улучшения!",cowPartDone14:"Ты открыл Ярмарку 11 уровня и новые улучшения!",cowPartDone15:"Ты вывел лучшую породу коров и открыл все земли! Остался последний рывок!",cowPartDone16:"",chickenPartDone1:"Ты открыл Ярмарку, Пастбище и Поилку 2 уровня! Теперь ты можешь выводить новых кур!",chickenPartDone2:"Ты открыл пещеру с волшебными курами и новые земли!",chickenPartDone3:"Ты открыл Ярмарку 3 уровня! Теперь ты можешь выводить новых кур!",chickenPartDone4:"Ты открыл Пастбище и Поилку 3 уровня! Бустер Куриный переполох открыт!",chickenPartDone5:"Ты открыл новые земли и бустер Комбикорм!",chickenPartDone6:"Ты открыл Ярмарку 4 уровня! Теперь ты можешь выводить новых кур!",chickenPartDone7:"Ты открыл Пастбище и Поилку 4 уровня! Теперь ты можешь выводить новых кур!",chickenPartDone8:"Ты открыл Ярмарку 5 уровня!",chickenPartDone9:"Ты открыл Ярмарку 6 уровня! Теперь ты можешь выводить новых кур!",chickenPartDone10:"Ты открыл Ярмарку 7 уровня! Теперь ты можешь выводить новых кур!",chickenPartDone11:"Ты открыл Ярмарку 8 уровня! Теперь ты можешь выводить новых кур!",chickenPartDone12:"Ты открыл Ярмарку 9 уровня! Теперь ты можешь выводить новых кур!",chickenPartDone13:"Ты открыл Ярмарку 10 уровня! Теперь ты можешь выводить новых кур!",chickenPartDone14:"Ты открыл Ярмарку 11 уровня! Теперь ты можешь выводить новых кур!",chickenPartDone15:"Ты открыл Ярмарку 12 уровня! Теперь ты можешь выводить новых кур!",chickenPartDone16:"Ты вывел лучшую породу кур и открыл максимальное количество полей! Поздравляем!",sheepPartDone1:"Ты открыл Ярмарку, Пастбище и Поилку 2 уровня! Теперь ты можешь выводить новых овечек!",sheepPartDone2:"Ты открыл пещеру с волшебными овцами и новые земли!",sheepPartDone3:"Ты открыл Ярмарку 3 уровня!",sheepPartDone4:"Ты открыл Пастбище и Поилку 3 уровня! Бустер Овечий переполох открыт!",sheepPartDone5:"Ты открыл новые земли и бустер Комбикорм!",sheepPartDone6:"Ты открыл Ярмарку 4 уровня! Теперь ты можешь выводить новых овечек!",sheepPartDone7:"Ты открыл Пастбище и Поилку 4 уровня!",sheepPartDone8:"Ты открыл Ярмарку 5 уровня!",sheepPartDone9:"Ты открыл Ярмарку 6 уровня! Теперь ты можешь выводить новых овечек!",sheepPartDone10:"Ты открыл Ярмарку 7 уровня! Теперь ты можешь выводить новых овечек!",sheepPartDone11:"Ты открыл Ярмарку 8 уровня! Теперь ты можешь выводить новых овечек!",sheepPartDone12:"Ты открыл Ярмарку 9 уровня! Теперь ты можешь выводить новых овечек!",sheepPartDone13:"Ты открыл Ярмарку 10 уровня!",sheepPartDone14:"Ты открыл Ярмарку 11 уровня! Теперь ты можешь выводить новых овечек!",sheepPartDone15:"Ты открыл Ярмарку 12 уровня! Теперь ты можешь выводить новых овечек!",sheepPartDone16:"Ты вывел лучшую породу овец и открыл максимальное количество полей! Поздравляем!",partDone:"Пройдена!",yourAward:"Твоя награда",taskReward:"НАГРАДА",nextPart:"Следующая глава",donePart:"Завершить главу",sheepCompanyDone:"Овечья компания завершена!",chickenCompanyDone:"Куриная компания завершена!",cowCompanyDone:"Коровья компания завершена!",pickUp:"Забрать",performed:"Выполнено",cowCaveMessage:"Кристаллическая коровка будет доступна через указанное время",chickenCaveMessage:"Кристаллическая курочка будет доступна через указанное время",sheepCaveMessage:"Кристаллическая овечка будет доступна через указанное время",mergingDiamondCow:"Нельзя улучшить кристаллическую коровку",mergingDiamondChicken:"Нельзя улучшить кристаллическую курочку",mergingDiamondSheep:"Нельзя улучшить кристаллическую овечку",expel:"Изгнать",milkSpeed:"Скорость вырабоки молока:",eggSpeed:"Скорость несения яйца:",woolSpeed:"Скорость роста шерсти:",diamondSpeed:"Появление кристалла:",expelCow:"Изгнать коровку",expelChicken:"Изгнать курочку",expelSheep:"Изгнать овечку",expelUnicorn:"Изгнать единорога",confirmExpelCow:"Вы действительно хотите изгнать эту коровку?",confirmExpelChicken:"Вы действительно хотите изгнать эту курочку?",confirmExpelSheep:"Вы действительно хотите изгнать эту овечку?",confirmExpelUnicorn:"Вы действительно хотите изгнать этого единорога?",confirmBuyCooldownForest:"Хотите ускорить вырубку леса?",speedUpForest:"Ускорить вырубку",confirmBuyCooldownBuild:"Хотите ускорить постройку?",speedUpBuild:"Ускорить постройку",farmSheep:"Ферма овец",farmChicken:"Ферма кур",farmCow:"Ферма коров",cutWool:"Срезать шерсть",collectDiamond:"Собрать кристалл",haveNotSpaceRepository:"Нет мест в хранилищах! Улучшите хранилище или купите новое.",wrongLoginPass:"Неверный логин или пароль",enter:"Войти",authorize:"Авторизируйтесь",agreement:"Соглашение и контакты",enterTo:"Войдите",yourAccaunt:"в свой аккаунт, если уже играли ранее",play:"Играть",welcomeToFarm:"Добро пожаловать на ферму!",unknownError:"Произошла неизвестная ошибка :(",reload:"Перезагрузить",saving:"Сохранение",loginSixSymbols:"Логин (не менее 6 символов)",passSixSymbols:"Пароль (не менее 6 символов)",login:"Логин",password:"Пароль",save:"Сохраниться",profileExit:"Выйти из профиля",haveAccaunt:"Аккаунт с таким логином уже существует",validLoginPass:"Введите логин и пароль, которые будут содержать не менее 6 символов, а также состоять только из латинских букв или цифр",validNickname:"Введите никнейм, который будет содержать не менее 6 символов, а также состоять только из латинских букв или цифр",profile:"Профиль игрока",changeNick:"Сменить ник",support:"Поддержка",enterNickname:"Введите новый никнейм",changeNickname:"Сменить никнейм",nickname:"Никнейм",help:"Помощь",needHelp:"Вам нужна помощь по игре? Оставьте свое сообщение и мы обязательно ответим на него",yourMail:"Ваша почта",enterYourEmail:"Введите почту",sendEmail:"Добавить Email",emailError:"Неправильный формат почты",yourMessage:"Ваше сообщение",messageError:"Введите сообщение",send:"Отправить",yourMessageIsSent:"Ваще сообщение отправлено! Агент техподдержки обязательно ответит вам на почту.",chat:"Чат",tutorialFail:"Что же я хотел сказать...",sheepTutorial_0:"Добро пожаловать на ферму! Тебе предстоит разводить овечек.",sheepTutorial_10:"У тебя есть немного монет. Давай купим первую овцу.",sheepTutorial_20:"Овечка кушает траву, кликни на землю и засей пастбище",sheepTutorial_30:"Овечке нужна еще и вода. Поставь поилку.",sheepTutorial_40:"Теперь овечка довольна! Скоро можно будет собрать шерсть. Попробуй!",sheepTutorial_50:"Срезанная шерсть приносит тебе деньги. Купи вторую овечку.",sheepTutorial_60:"Смотри, ты выполнил задание! Забери награду",sheepTutorial_70:"Перетащи двух овечек на Ярмарку и смотри что будет!",sheepTutorial_75:"Эта овечка более породистая и её шерсть стоит дороже.",sheepTutorial_80:"Поставь на этой земле Хранилище для шерсти!",sheepTutorial_90:"Прекрасно! Чтобы автоматически собирать шерсть, запусти подстригатель!",sheepTutorial_100:"Мне пора бежать, дальше ты справишься самостоятельно! Выводи новых овечек и не забывай про задания.",cowTutorial_0:"Добро пожаловать на коровью ферму! Коровки требуют немного терпения, так что не убегай далеко",cowTutorial_10:"На заводе можно производить молочные продукты, которые приносят больше прибыли, но нужно молоко для их производства!",cowTutorial_20:"Здесь указано, сколько молока должно быть в хранилищах, для запуска производства!",cowTutorial_30:"К счастью, у нас достаточно молока для производства!",cowTutorial_40:"Молочный завод - полезная штука! Удачи!",addTutorialBalance:"У тебя не хватает ресурсов! Твой доход стал меньше. Следи, чтобы всегда было достаточно воды и травы для овец.",addTutorialCave1:"Теперь тебе доступна волшебная пещера. Нажми на нее и посмотри что произойдет.",addTutorialCave2:"Это уникальная овечка, на которой растут кристаллы. Собирай их вручную, чтобы не повредить!",addTutorialCave3:"Ты собрал все кристаллы с овечки. Следи за временем на пещере, чтобы получить ее вновь.",addTutorialCollector:"Не забывай включать подстригателя, чтобы он смог собирать шерсть в хранилища",addTutorialHerdBoost1:"Зайди в магазин, тебя ждет кое-что новенькое",addTutorialHerdBoost2:"Попробуй поймать всех овец!",addTutorialFeedBoost1:"Зайди в магазин, тебя ждет кое-что новенькое",addTutorialFeedBoost2:"Накорми овечек комбикормом и их шерсть какое-то время будет вдвое дороже!",chickenTutorial_0:"Поздравляю с покупкой куриной фермы! Что же будет дальше?",skipTutorial:"Пропустить обучение",day:"День",dailyAwards:"Ежедневные награды",dailyDescr:"Заходи каждый день, чтобы получать новые награды!",diamonds:"кристаллов",okPayDescr:"Кристаллы позволяет покупать полезные вещи в игре",stopSession:"Сессия игры была завершена!",taskName:"Сходи туда, не знаю куда. Принеси то, не знаю что...",taskName_1:"Купи $1 овцы",taskName_2:"Обменяй овец на Ярмарке",taskName_3:"Включи автоподстригателя",taskName_4:"Обменяй овец на ярмарке и получи серую овечку",taskName_5:"Купи участок леса и засей пастбище",taskName_6:"Купи $1 белых овечки",taskName_7:"Накопи 5000 монет и улучши ярмарку",taskName_8:"Улучши пастбище до $2 уровня",taskName_9:"Улучши поилку до $2 уровня",taskName_10:"Получи $1 бурых овец через обмен на Ярмарке",taskName_11:"Улучши Ярмарку до $2 уровня",taskName_12:"Получи $1 винторогих овец",taskName_13:"Получи еще одну новую землю",taskName_14:"Сохрани свой прогрес",taskName_15:"Улучши пастбище до $2 уровня",taskName_16:"Улучши поилку до $2 уровня",taskName_17:"Обменяй овец на ярмарке $1 раз",taskName_18:"Собери шерсть вручную $1 раз",taskName_19:"Включи автоподстригателя суммарно на 30 минут",taskName_20:"Обменяй овец на ярмарке $1 раз",taskName_21:"Накопи $1 монет",taskName_22:"Вступи в колхоз или создай свой",taskName_23:"Улучши Ярмарку до $2 уровня",taskName_24:"Получи ещё одну новую землю",taskName_25:"Получи $1 Ирландских овец ($2 уровня)",taskName_26:"Посмотри свой рейтинг",taskName_27:"Улучши $1 пастбища до $2 уровня",taskName_28:"Улучши поилку до $2 уровня",taskName_29:"Начни переполох $1 раза",taskName_30:"Выпусти на поле $1 овечек",taskName_31:"Улучши Ярмарку до $2 уровня",taskName_32:"Получи $1 Кавказских овец ($2 уровня)",taskName_33:"Включи автоподстригателя суммарно на 60 минут",taskName_34:"Улучши подстригателя до $1 уровня",taskName_35:"Улучши Ярмарку до $2 уровня",taskName_36:"Получи ещё одну территорию",taskName_37:"Получи $1 Лунных овец ($2 уровня)",taskName_38:"Улучши $1 пастбищ до $2 уровня",taskName_39:"Улучши Ярмарку до $2 уровня",taskName_40:"Получи $1 Гламурных овец ($2 уровня)",taskName_41:"Выдай овечкам комбикорма на $1 часа",taskName_42:"Улучши $1 поилки до $2 уровня",taskName_43:"Улучши Ярмарку до $2 уровня",taskName_44:"Получи $1 Рыжих овец ($2 уровня)",taskName_45:"Начни переполох $1 раза",taskName_46:"Выпусти на поле $1 овечек одновременно",taskName_47:"Улучши Ярмарку до $2 уровня",taskName_48:"Получи $1 Крылатых овец ($2 уровня)",taskName_49:"Улучши подстригателя до $1 уровня",taskName_50:"Получи еще $1 территории",taskName_51:"Улучши Ярмарку до $2 уровня",taskName_52:"Получи $1 Шведскую овцу ($2 уровня)",taskName_53:"Обменяй овец на ярмарке $1 раз",taskName_54:"Начни переполох $1 раз",taskName_55:"Улучши Ярмарку до $2 уровня",taskName_56:"Получи $1 Волшебных овцы ($2 уровня)",taskName_57:"Улучши $1 пастбищ до $2 уровня",taskName_58:"Улучши $1 поилки до $2 уровня",taskName_59:"Улучши Ярмарку до $2 уровня",taskName_60:"Получи еще $1 Волшебных овцы ($2 уровня)",taskName_61:"Выпусти на поле по одной овечке каждого вида",taskName_62:"Накопи $1 монет",taskName_63:"Начни овечий переполох",taskName_64:"Купи $1 куры",taskName_65:"Обменяй кур на ярмарке $1 раз",taskName_66:"Включи собирателя яиц",taskName_67:"Поставь хранилище",taskName_68:"Получи $1 куры ($2 уровня)",taskName_69:"Купи участок леса и засей пастбище",taskName_70:"Накопи $1 монет",taskName_71:"Улучши ярмарку",taskName_72:"Улучши пастбище до $2 уровня",taskName_73:"Улучши поилку до $2 уровня",taskName_74:"Получи $1 кур ($2 уровня)",taskName_75:"Улучши хранилище до $2 уровня",taskName_76:"Улучши ярмарку до $2 уровня",taskName_77:"Получи $1 кур ($2 уровня)",taskName_78:"Засей $1 пастбище",taskName_79:"Улучши собиратель до $1 уровня",taskName_80:"Собери яйца вручную $1 раз",taskName_81:"Улучши пастище до $2 уровня",taskName_82:"Улучши поилку до $2 уровня",taskName_83:"Обменяй кур на ярмарке $1 раз",taskName_84:"Включи собирателя яиц суммарно на 3 часа",taskName_85:"Запусти куриный переполох $1 раз",taskName_86:"Выдай курочкам комбикорм",taskName_87:"Улучши хранилище до $2 уровня",taskName_88:"Улучши ярмарку до $2 уровня",taskName_89:"Получи еще одну территорию",taskName_90:"Получи $1 кур ($2 уровня)",taskName_91:"Улучши собиратель до $1 уровня",taskName_92:"Улучши пастбище до $2 уровня",taskName_93:"Улучши поилку до $2 уровня",taskName_94:"Выдай курочкам комбикорм на $1 часа",taskName_95:"Выпусти на поля $1 кур одновременно",taskName_96:"Улучши ярмарку до $2 уровня",taskName_97:"Получи $1 кур ($2 уровня)",taskName_98:"Включи собирателя яиц суммарно на 8 часов",taskName_99:"Улучши собиратель до $1 уровня",taskName_100:"Улучши ярмарку до $2 уровня",taskName_101:"Получи еще одну новую землю",taskName_102:"Получи $1 кур ($2 уровня)",taskName_103:"Улучши $1 пастбищ до $2 уровня",taskName_104:"Улучши ярмарку до $2 уровня",taskName_105:"Получи $1 кур ($2 уровня)",taskName_106:"Поймай $1 кур при помощи куриных переполохов",taskName_107:"Улучши $1 поилки до $2 уровня",taskName_108:"Улучши ярмарку до $2 уровня",taskName_109:"Получи $1 кур ($2 уровня)",taskName_110:"Обменяй кур на ярмарке $1 раз",taskName_111:"Выпусти на поля $1 кур одновременно",taskName_112:"Улучши ярмарку до $2 уровня",taskName_113:"Получи $1 кур ($2 уровня)",taskName_114:"Улучши собиратель до $1 уровня",taskName_115:"Купи две новые земли",taskName_116:"Улучши ярмарку до $2 уровня",taskName_117:"Получи $1 куру ($2 уровня)",taskName_118:"Обменяй кур на ярмарке $1 раз",taskName_119:"Потрать $1 кристаллов",taskName_120:"Улучши ярмарку до $2 уровня",taskName_121:"Получи $1 куры ($2 уровня)",taskName_122:"Улучши $1 пастбища до $2 уровня",taskName_123:"Улучши $1 поилки до $2 уровня",taskName_124:"Получи еще $1 кур ($2 уровня)",taskName_125:"Выпусти на поле по одной курочки каждого вида",taskName_126:"Накопи $1 монет",taskName_127:"Зайди в Хранилище и продай шерсть",taskName_128:"Улучши подстригателя до $1 уровня",taskName_129:"Выдай овечкам комбикорм",taskName_130:"Улучши подстригателя до $1 уровня",taskName_131:"Купи $1 коровки",taskName_132:"Обменяй коровок на ярмарке $1 раз",taskName_133:"Включи собиратель молока",taskName_134:"Построй хранилище молока",taskName_135:"Улучши собиратель до $1 уровня",taskName_136:"Улучши ярмарку до $2 уровня",taskName_137:"Построй фабрику для переработки молока",taskName_138:"Накопи $1 литров молока",taskName_139:"Улучши пастбище до $2 уровня",taskName_140:"Улучши фабрику до $2 уровня",taskName_141:"Улучши поилку до $2 уровня",taskName_142:"Получи $1 коровок ($2 уровня)",taskName_143:"Улучши собиратель до $1 уровня",taskName_144:"Улучши ярмарку до $2 уровня",taskName_145:"Улучши фабрику до $2 уровня",taskName_146:"Получи $1 коровок ($2 уровня)",taskName_147:"Включи собирателя молока суммарно на 3 часа",taskName_148:"Улучши пастбище до $2 уровня",taskName_149:"Улучши поилку до $2 уровня",taskName_150:"Возьми кристаллическую коровку",taskName_151:"Улучши собиратель молока до $1 уровня",taskName_152:"Потрать $1 кристаллов",taskName_153:"Выдай коровкам комбикорм",taskName_154:"Собери молоко вручную $1 раз",taskName_155:"Улучши собиратель до $1 уровня",taskName_156:"Улучши фабрику до $2 уровня",taskName_157:"Улучши ярмарку до $2 уровня",taskName_158:"Получи $1 коровок ($2 уровня)",taskName_159:"Улучши поле до $2 уровня",taskName_160:"Улучши поилку до $2 уровня",taskName_161:"Продай продукцию из фабрики $1 раз",taskName_162:"Поймай $1 коровок при помощи коровьих переполохов",taskName_163:"Улучши собиратель до $1 уровня",taskName_164:"Улучши фабрику до $2 уровня",taskName_165:"Улучши ярмарку до $2 уровня",taskName_166:"Получи $1 коровок ($2 уровня)",taskName_167:"Улучши ярмарку до $2 уровня",taskName_168:"Собери $1 кристалла с кристаллической коровки",taskName_169:"Улучши фабрику до $2 уровня",taskName_170:"Получи $1 коровок ($2 уровня)",taskName_171:"Улучши собиратель до $1 уровня",taskName_172:"Улучши ярмарку до $2 уровня",taskName_173:"Улучши фабрику до $2 уровня",taskName_174:"Получи $1 коровок ($2 уровня)",taskName_175:"Улучши собиратель до $1 уровня",taskName_176:"Улучши фабрику до $2 уровня",taskName_177:"Улучши ярмарку до $2 уровня",taskName_178:"Получи $1 коровок ($2 уровня)",taskName_179:"Улучши собиратель до $1 уровня",taskName_180:"Улучши фабрику до $2 уровня",taskName_181:"Улучши ярмарку до $2 уровня",taskName_182:"Получи $1 коровку ($2 уровня)",taskName_183:"Улучши собиратель до $1 уровня",taskName_184:"Улучши ярмарку до $2 уровня",taskName_185:"Улучши фабрику до $2 уровня",taskName_186:"Получи $1 коровки ($2 уровня)",taskName_187:"Улучши ярмарку до $2 уровня",taskName_188:"Улучши $1 поилки до $2 уровня",taskName_189:"Улучши $1 пастбища до $2 уровня",taskName_190:"Получи $1 коровок ($2 уровня)",taskName_191:"Улучши фабрику до $2 уровня",taskName_192:"Выпусти на поле по одной коровке каждого вида",taskName_193:"Улучши собиратель до $1 уровня",taskName_194:"Получи еще $1 коровок ($2 уровня)",taskName_195:"Запусти куриный переполох $1 раз",next:"Далее",rememberSellWool:"Не забывай продавать шерсть из хранилища! Также ты можешь обменять кристаллы на монеты",rememberSellEggs:"Не забывай продавать яйца из хранилища! Также ты можешь обменять кристаллы на монеты",rememberSellMilk:"Не забывай продавать молоко из хранилища! Также ты можешь обменять кристаллы на монеты",rememberSellRainbow:"Не забывай выпускать единорогов на поле! Также ты можешь обменять кристаллы на радугу",openFarm:"Доступно после $1 главы",newbieTimer:"Осталось $1 дней $2 часов",close:"Закрыть",addCoins:"Добавить монет",summonSheep:"Призвать овечку",summonChicken:"Призвать курочку",summonCow:"Призвать коровку",summonTime:"До бесплатного призыва осталось:",wantAdSummon:"Хотите призвать за просмотр рекламы?",summon:"Призвать",excellent:"Отлично",crystalsCredited:"Кристаллы начислены на счет.",enjoy:"Приятной игры!",shortLevel:"ур",still:"Осталось",improve:"Улучшить",speed:"Скорость",power:"Мощность",duration:"Длительность",herdBoostStartTimoutSheep_1:"Стадо овечек будет у тебя недолго!",herdBoostStartTimoutSheep_2:"Успевай загонять одинаковых овечек на ярмарку!",herdBoostTimerSheep_1:"Овечки уйдут через",herdBoostTimerSheep_2:"Загоняй пары на ярмарку",herdBoostStartTimoutChicken_1:"Стая птиц будет у тебя недолго!",herdBoostStartTimoutChicken_2:"Успевай загонять одинаковых птиц на ярмарку!",herdBoostStartTimoutCow_1:"Стадо коров будет у тебя недолго!",herdBoostStartTimoutCow_2:"Успевай загонять одинаковых коров на ярмарку!",herdBoostStartTimoutUnicorn_1:"Стадо единорогов будет у тебя недолго!",herdBoostStartTimoutUnicorn_2:"Успевай загонять одинаковых единорогов на ярмарку!",herdBoostTimerUnicorn_1:"Единороги уйдут через",herdBoostTimerUnicorn_2:"Загоняй пары на ярмарку",herdBoostTimerChicken_1:"Птицы уйдут через",herdBoostTimerChicken_2:"Загоняй пары на ярмарку",herdBoostTimerCow_1:"Коровы уйдут через",herdBoostTimerCow_2:"Загоняй пары на ярмарку",herdBoostScoreSheep:"Количество пойманных овец:",herdBoostScoreChicken:"Количество пойманных птиц:",herdBoostScoreCow:"Количество пойманных коров:",herdBoostScoreUnicorn:"Количество пойманных единорогов:",herdBoostNext:"Нажми для продолжения",stillForBoost:"До бесплатного осталось",herdBoostTitleSheep:"Овечий переполох",herdBoostTitleChicken:"Куриный переполох",herdBoostTitleCow:"Коровий переполох",herdBoostTitleUnicorn:"Единорожий переполох",herdBoostBadMerge:"Упс!",feedBoostCounterText:"Комбикорма хватит еще на",factoryBoostCounterText:"Какао-бобов хватит еще на",exchangeRepositoryBtn:"Сменить хранилище на ...",exchangeRepositoryTitle:"Ты можешь сменить Хранилище $1 уровня на другую постройку",feedBoostTitle:"Комбикорм",feedBoostSubtitleSheep:"Удваивает стоимость шерсти",feedBoostSubtitleChicken:"Удваивает стоимость яиц",feedBoostSubtitleCow:"Удваивает количество молока",feedBoostSubtitleUnicorn:"Удваивает стоимость радуги",feedBoostSpeechBubbleSheep:"Выдай овечкам комбикорм и их шерсть будет стоить в 2 раза дороже!",feedBoostSpeechBubbleChicken:"Выдай курам комбикорм и их яйца будут стоить в 2 раза дороже!",feedBoostSpeechBubbleCow:"Выдай коровкам комбикорм и они принесут тебе в 2 раза больше молока!",benefit:"Выгода",helpGeneral_1:"В каждой ферме - свои особенности. Не заскучаешь!",helpGeneral_2:"Соседи говорят, будто иногда здесь происходят удивительные события, но они ограничены по времени",helpGeneral_3:"Переполох доступен бесплатно каждый день, но только один раз",helpGeneral_4:"Следи за новостями и участвуй в конкурсах в официальной группе!",helpGeneral_5:"Общаясь в чате, не забывай о приличиях!",helpGeneral_6:"Игра постоянно развивается. Скоро появятся новые фермы!",helpGeneral_7:"Свои вопросы об игре ты можешь задать в официальной группе!",helpGeneral_8:"Есть идеи о развитии игры? Делись ими в официальной группе!",helpGeneral_9:"Ты не забываешь получать ежедневные подарки?",helpGeneral_10:"Рады тебя видеть!",helpGeneral_11:"На каждой ферме - свои монеты",helpGeneral_12:"Загляни на карту и осмотри свои владения!",helpGeneral_13:"Выполняй задания и открывай новые возможности с каждой главой!",helpSheep_1:"Не забывай продавать шерсть из хранилищ",helpSheep_2:"Чем лучше порода овечки, тем дороже её шерсть",helpSheep_3:"Кристаллические овечки доступны каждые 4 часа",helpSheep_4:"Ты можешь соединять одинаковых овечек прямо на поле",helpSheep_5:"Подстригатель работает, даже когда ты не в игре!",helpSheep_6:"Улучшай подстригатель, чтобы он работал дольше",helpSheep_7:"Если хочешь больше монет - используй Комбикорм! Он увеличивает стоимость шерсти твоих овечек вдвое",helpChicken_1:"Не забывай продавать яйца из хранилищ",helpChicken_2:"Кристаллические курицы доступны каждые 4 часа",helpChicken_3:"Ты можешь соединять одинаковых куриц прямо на поле",helpChicken_4:"Максимальный уровень курицы - 12ый. Ее яйца стоят огромных денег!",helpChicken_5:"Автосборщик яиц работает, даже когда ты не в игре!",helpChicken_6:"Улучшай  автосборщик яиц, чтобы он работал дольше",helpChicken_7:"Если хочешь больше монет - используй Комбикорм! Он увеличивает стоимость яиц твоих куриц вдвое",helpCow_1:"Не забывай продавать молоко из хранилищ",helpCow_2:"Кристаллические коровы доступны каждые 4 часа",helpCow_3:"Ты можешь соединять одинаковых коров прямо на поле",helpCow_4:"Максимальный уровень коровы - 12ый. Ее молоко стоит огромных денег!",helpCow_5:"Автосборщик молока работает, даже когда ты не в игре!",helpCow_6:"Улучшай автосборщик молока, чтобы он работал дольше",helpCow_7:"Если хочешь больше монет - используй Комбикорм! Он увеличивает стоимость молока твоих коров вдвое",helpEvent_1:"Остров единорогов доступен ограниченное время. Это особое место!",helpEvent_2:"Единороги приносят доход, только находясь на общей площади",helpEvent_3:"Каждому единорогу нужна личная полянка, даже пока он на общей площади",helpEvent_4:"Соединяй одинаковых единорогов и повышай их уровень. Ярмарки тут нет!",feedBoostMax:"Достигнуто максимальное количество времени буста",factoryBoostMaxTime:"Достигнуто максимальное количество времени буста",feedBoostNotification:"Комбикорма хватит на",factoryBoostNotification:"Какао-бобов хватит на",hour:"час",hours:"часа",goExchanger:"Перейти в обменник",eventBreed1:"розовенькая",eventBreed2:"ромашковая",eventBreed3:"лунная",eventBreed4:"сахарная",eventBreed5:"карамельная",eventBreed6:"сияющая",eventBreed7:"смышлёная",eventBreed8:"шоколадная",eventBreed9:"опасная",eventBreed10:"звёздная",eventBreed11:"волшебная",eventBreed12:"свободная",eventBreed13:"зимняя",eventBreed14:"розовая",eventBreed15:"зеленая",eventBreed16:"красная",eventBreed17:"холодная",eventBreed18:"фиолетовая",eventBreed19:"юрская",eventBreed20:"дикая",eventBreed21:"желтая",eventBreed22:"милая",eventBreed23:"голубая",eventBreed24:"лимонная",eventBreed25:"добрая",eventBreed26:"африканская",eventBreed27:"кокетливая",eventBreed28:"хитрая",eventBreed29:"леопардовая",eventBreed30:"коварная",eventBreed31:"любовная",eventBreed32:"французская",eventBreed33:"плюшевая",eventBreed34:"латинская",eventBreed35:"проворная",eventBreed36:"пионерская",eventBreed37:"успешная",eventBreed38:"печальная",eventBreed39:"горная",eventBreed40:"сказочная",eventBreed41:"бережливая",eventBreed42:"знатная",eventBreed43:"магическая",eventBreed44:"секретная",eventBreed45:"русская",eventBreed46:"пиратская",eventBreed47:"восточная",eventBreed48:"избранная",eventBreed49:"полицейская",eventBreed50:"авантюрная",eventBreed51:"вульгарная",eventBreed52:"храбрая",eventBreed53:"тропическая",eventBreed54:"мерцающая",eventBreed55:"модная",eventBreed56:"египетская",eventBreed57:"утончённая",eventBreed58:"морская",eventBreed59:"жуткая",eventBreed60:"рокерская",eventBreed61:"ковбойская",eventBreed62:"медовая",eventBreed63:"летняя",eventBreed64:"боевая",eventBreed65:"японская",eventBreed66:"блестящая",eventBreed67:"огненная",eventBreed68:"романтичная",eventBreed69:"индейская",eventBreed70:"космическая",eventBreed71:"талантливая",eventBreed72:"фермерская",eventBreed73:"пасхальная",eventBreed74:"гавайская",eventBreed75:"гусарская",eventBreed76:"геройская",eventBreed77:"индийская",eventBreed78:"капитанская",eventBreed79:"радужная",eventBreed80:"пряничная",eventBreed81:"музыкальная",eventBreed82:"сонная",eventBreed83:"жемчужная",eventBreed84:"брутальная",eventBreed85:"лунная",eventBreed86:"отважная",eventBreed87:"праздничная",eventBreed88:"мифическая",eventBreed89:"капитанская",eventBreed90:"колдовская",eventBreed91:"лесная",eventBreed92:"пылкая",eventBreed93:"подводная",eventBreed94:"коварная",eventBreed95:"королевская",eventBreed96:"полковая",eventBreed97:"диснейская",eventBreed98:"кельтская",eventBreed99:"авраамская",eventBreed100:"тибетская",resourcePrice:"Доход в сек:",offlineTime:"Вас не было на ферме",offlineCollectorTime:"Собиратель радуги работал",doubleProfit:"Хочешь удвоить доход?",eventScores:"очков",eventPlace:"место",eventLastTime:"до конца ивента:",lastTime:"до конца",eventStart:"До начала события",unicornField:"полянка единорогов",eventRules:"Условия",eventPrice:"Призы",eventRating:"Рейтинг","eventRulesTеxt":"Выводи новые породы единорогов и расти в рейтинге!","eventRulesTеxt2":"Первые трое игроков получат особое звание ДРУГ ЕДИНОРОГОВ и огромную награду, а остальные - утешительные призы!",eventRulesLeft:"Событие закончится через",eventRulesAfter:"Событие завершено! Поздравляем победителей!",eventEndText:"Событие завершено!",eventTutorial_10:"Это особенная ферма, где ты будешь разводить единорогов",eventTutorial_20:"Единороги пробудут тут еще",eventTutorial_30:"Купи два единорога",eventTutorial_40:"Каждый единорог занимает одну полянку. Соедини их!",eventTutorial_50:"Единороги приносят радуги только находясь на общей поляне. Перенеси единорога сюда!",eventTutorial_60:"Выводи новые породы единорогов, зарабатывай очки рейтинга и получай награды в конце временного события! Удачи!",eventTutorial_70:"P.S. И не забывай включать автосборщик!",eventWelcome:"Заходи на ферму единорогов!",eventFarm:"Ферма единорогов",eventRulesAfterStatus:"Топ 3 игрока получают статус",unitSheep:"овец",unitChicken:"яиц",unitCow:"к.",unitEvent:"р.",income:"Доход",unicornStatus:"Друг единорогов",buyFrom:"Купи от",getGift:"Получи в подарок",more:"ещё",dontMissChanse:"Не упусти шанс!",maxLevelCollector:"Вы достигли масимального уровня собирателя",taskHelp_2:"Соединяй животных, чтобы получить нужную породу",taskHelp_4:"Соединяй животных, чтобы получить нужную или покупай в магазине!",taskHelp_8:"Нет нужных пастбищ для улучшения. Поставь новые пастбища или обменяй другие земли!",taskHelp_9:"Нет нужных поилок для улучшения. Поставь новые поилки или обменяй другие земли!",taskHelp_17:"Нет нужных хранилищ для улучшения. Поставь новые хранилища или обменяй другие земли!",taskHelpSheep_11:"Нажимай на овечек, когда шерсть готова!",taskHelpChicken_11:"Нажимай на яйца, когда они лежат на поле!",taskHelpCow_11:"Нажимай на коров, когда они готовы к дойке!",taskHelpSheep_14:"Получи необходимое количество овечек на поле",taskHelpChicken_14:"Получи необходимое количество кур на поле",taskHelpCow_14:"Получи необходимое количество коров на поле",taskHelp_6:"Продавай ресурсы, чтобы получить монеты! Не забывай включать собирателя!",taskHelp_20:"Покупай хранилища, чтобы собирать ресурсы!",taskHelpSheep_19:"Нажимай на кристаллических овечек, когда на ней вырос кристалл!",taskHelpChicken_19:"Нажимай на кристаллы на поле!",taskHelpCow_19:"Нажимай на кристаллических коров, когда она готова предоставить кристалл!",taskHelp_5:"Дождись вырубки леса, или ускорь её за кристаллы!",taskHelp_5_2:"Дождись вырубки леса или обменяй любую свою территорию на пастбище",taskHelp_5_5:"Дождись вырубки леса или обменяй любую свою территорию на хранилище",taskHelp_5_8:"Дождись вырубки леса или ускорь её за кристаллы!",taskHelp_26:"Подожди пока в хранилище накопиться нужное количество молока! Не забывай включать собирателя!",newbieAwards:"Награды новичка",stillTimeAward:"Награды будут доступны",toNextAward:"До следующей награды",dailyNewbieHint0:"Вы получили $1 монет",dailyNewbieHint1:"Награда новичка 5 кристаллических овец",dailyNewbieHint2:"Получены три овечки $1 породы",dailyNewbieHint4:"Получен бесплатный подстригатель на 3 часа",dailyNewbieHint5:"Получены три курочки $1 породы",dailyNewbieHint6:"Получен бесплатный собиратель яиц на 3 часа",dailyNewbieHint7:"Награда новичка 10 кристаллических овец",dailyNewbieHint0testB:"Вы получили $1 монет",dailyNewbieHint1testB:"Награда новичка 3 кристаллические овцы",dailyNewbieHint2testB:"Получены три овечки $1 породы",dailyNewbieHint3testB:"Награда новичка 5 кристаллических овец",dailyNewbieHint4testB:"Получен бесплатный подстригатель на 3 часа",dailyNewbieHint5testB:"Получены 5 овечек $1 породы",dailyNewbieHint6testB:"Получен бесплатный подстригатель на 5 часов",dailyNewbieHint7testB:"Награда новичка 10 кристаллических овец",unknownFarmer:"Неопознанный фермер",unlockNextUpdate:"Скоро в игре",remainderBalance:"Следи, чтобы всегда было достаточно воды и травы для животных, иначе твой доход упадет.",lotSize:"Размер партии",efficiency:"Эффективность",efficiencyProduction:"Эффективность производства",produced:"Производится",production1:"Пастеризованное молоко",production2:"Йогурт",production3:"Сыр",production4:"Шоколад",sellProduct:"Продать товар",litres:"л.",processingTime:"Время переработки",showCase:"Витрина",showCaseText:"Ты можешь купить какао-бобы, чтобы временно производить шоколад.",buyCocoaBeans:"Купить какао на $1 ч.",fortuneHint_1:"Вы выйграли джекпот!",fortuneHint_2:"Получено кристаллов: $1!",fortuneHint_3:"Вы выйграли $1 монет!",fortuneHint_4_Sheep:"Вы выйграли Комбикорм для овец!",fortuneHint_4_Chicken:"Вы выйграли Комбикорм для куриц!",fortuneHint_4_Cow:"Вы выйграли Комбикорм для коровок!",fortuneHint_5_Sheep:"Вы выйграли Овечий переполох!",fortuneHint_5_Chicken:"Вы выйграли Куриный переполох!",fortuneHint_5_Cow:"Вы выйграли Коровий переполох!",fortuneHint_6:"Получено билетов: $1 шт.",fortuneHint_7_Sheep:"Вы выйграли подстригатель на 4 часа!",fortuneHint_7_Chicken:"Вы выйграли собиратель яиц на 4 часа!",fortuneHint_7_Cow:"Вы выйграли собиратель молока на 4 часа!",dailyHint_1:"Получено кристаллов: $1!",dailyHint_2:"Получено кристаллов: $1!",dailyHint_3_Sheep:"Вы получили Комбикорм для овец!",dailyHint_3_Chicken:"Вы получили Комбикорм для куриц!",dailyHint_3_Cow:"Вы получили Комбикорм для коровок!",dailyHint_4_Sheep:"Вы получили Переполох для овец!",dailyHint_4_Chicken:"Вы получили Переполох для куриц!",dailyHint_4_Cow:"Вы получили Переполох для коровок!",dailyHint_5_Sheep:"Вы получили подстригатель на 4 часа!",dailyHint_5_Chicken:"Вы получили собиратель яиц на 4 часа!",dailyHint_5_Cow:"Вы получили собиратель молока на 4 часа!",mainPrize:"Главный приз",buyTicket:"Купить билет",scroll:"Крутить",fairClose:"Ярмарка закроется через",fortuneWheel:"Колесо Фортуны",latestWinners:"Последние победители",lastTimePrize:"Последний раз выйграл главный приз ($1)",back:"Назад",taken:"Получает",now:"Сейчас",jackpotCongratulations:"Поздравляем! вы выйграли",fortuneWelcome:"Испытай колесо фортуны! Попробуй выйграть главный приз!",maxCollectorLevel:"Достигнут максимальный уровень собирателя",probabilityOfProduction:"Вероятность производства",milkInStorage:"Молока в хранилищах",slotSize:"Размер партии производства",haveNotMilk:"Не хватает молока для старта",newProduct:"Новая продукция",nextFactory:"Улучшение фабрики до $1 уровня",confirmSellMilk:"Вы уверены, что хотите продать сырое молоко? Молоко переработанное на фабрике будет стоить дороже",dontSellMilk:"Не продавать молоко",accessSheepFarmDone:"Доступно после завершения овечьей фермы",accessSecondFarmDone:"Доступно после завершения второй фермы",accessChickenFarmDone:"Доступно после завершения куриной фермы",notEnoughCoins:"Не хватает куриных монет для покупки коровьей фермы. Заработайте их, либо купите за кристаллы.",notEnoughSheepCoins:"Не хватает овечьих монет для покупки куриной фермы. Заработайте их, либо купите за кристаллы.",openChickenFarm:"Доступно после открытия куриной фермы",chickenFarmPurchaseAvailable:"Доступна покупка куриной фермы!",cowFarmPurchaseAvailable:"Доступна покупка коровьей фермы!",openProductionOnLevel:"Продукт станет доступен на $1 уровне фабрики",doneNextTask:"Сначала выполни следующее задание...",doneFirstTask:"Сначала выполни первое задание...",socialEvents2:"Я уже на куриной ферме! Что же будет дальше?",socialEvents3:"Я уже на коровьей ферме! Что же будет дальше?",prizes:"Подарки",authorizationRequired:"Необходима авторизация",saveProgress:"Сохранить прогресс",findSavedProgress:"Найден прогресс для текущего пользователя. Выберите действие",loadOldSave:"Загрузить старое сохранение",repeatSave:"Перезаписать прогресс",level:"Уровень",onlineStatus:"В сети",offlineStatus:"Не в сети",writing:"Написать",goToFarm:"Зайти на ферму",blocking:"Блокировать",generalChat:"Общий чат",personalChat:"Личный чат",settingsHeader:"Настройки игры",validClanName:"Введите название, которое будет содержать от 6 до 20 символов. Недопустимо использование спецсимволов",createClan:"Создать клан",changeClanName:"Сменить название",changeClanAvatar:"Сменить эмблему",clan:"Клан",dailyTasks:"Ежедневные задания",taskClan_1:"Купи $1 животных",taskClan_2:"Продай товар из хранилища $1 раз",taskClan_3:"Запусти переполох $1 раза",taskClan_4:"Собери товар с животных вручную $1 раз",taskClan_5:"Соедини животных $1 раз",taskClan_6:"Улучши что-либо $1 раз",taskClan_7:"Купи любой собиратель суммарно на $1 минут",taskClan_8:"Забери кристаллическое животное $1 раза",taskClan_9:"Купи комбикорм суммарно на $1 часа",taskClan_10:"Обменяй $1 кристаллов на монеты",taskClan_11:"Пополни казну клана $1 раз",taskClan_12:"Поймай $1 животных на переполохах",taskClan_13:"Поймай $2 животных за один переполох $1 раза",taskClan_14:"Купи новую территорию $1 раза",taskClan_15:"Собери кристаллы с животных $1 раз",taskClan_16:"Выполни $1 заданий на любой ферме",taskClan_17:"Завершите $1 главы в компании",taskClan_18:"Проведите на ферме суммарно $1 минут",taskClan_19:"Напиши сообщение в клановый чат",quantityBonus:"Бонус к количеству:",priceBonus:"Бонус к цене:",fromClanFarm:"от клановой фермы",openCowFarm:"Доступно после открытия коровьей фермы",inviteClan:"Пригласить в клан",excludeClan:"Исключить из клана",clanChat:"Чат клана",clanMap:"Карта клана",inviteYouClan:"приглашает вас в клан",excludeYouClan:"исключил вас из клана",clans:"Кланы",accept:"Принять",declain:"Отклонить",youAcceptInvite:"Вы приняли приглашение",youDeclainInvite:"Вы отклонили приглашение",clanIsFull:"Клан переполнен",youAreInClan:"Вы состоите в клане",youAreNotInClan:"Вы не состоите в клане",yes:"Да",no:"Нет",delete:"Удалить?",nowInClan:"вступил в клан",leaveOnClan:"вышел из клана",excludeOnClan:"исключен из клана",askToJoinInClan:"хочет вступить в ваш клан",youAcceptAsk:"Вы приняли запрос",youDeclainAsk:"Вы отклонили запрос",userInClan:"Пользователь уже в клане",clanIsOpen:"Открытый клан",clanIsClose:"Закрытый клан",clansLiderboard:"Клановая таблица лидеров",scores:"Очки",inputClanName:"Введите название клана",join:"Вступить",sendInvite:"Отправить заявку",leaveClan:"Выйти из клана",search:"Найти",clansNotFound:"По данному запросу кланы не найдены",atYou:"У вас:",exclude:"Исключить",confirmExcludeUser:"Вы действительно хотите исключить $1 из клана?","clanСreation":"Создание клана",flagSettings:"Настройки флага",userHasNotInClan:"Пользователь не состоит в клане",joinClanBanner:"Вступите в клан и получите: - помощь в игре от других участников - участие в клановых турнирах - возможность развивать клановую ферму",clanTreasury:"Казна клана",nowInTreasury:"В казне:",players:"Игроков",improveClan:"Улучшить штаб",clanImprovement:"Улучшение штаба",sheepClanFarm:"Клановая ферма овец",chickenClanFarm:"Клановая ферма кур",cowClanFarm:"Клановая ферма коров",mainClanFarm:"Штаб клана",wantGoTreasury:"Хотите перейти в казну?",goToTreasury:"Перейти в казну",notEnoughForClan:"В казне не хватает:",headquarters:"штаб",lvl:"ур.",emblem:"эмблема",clanName:"название клана",changeEmblem:"сменить эмблему",forThisPlayerClanIsNotAccepted:"Игроку $1 пока недоступны кланы",maxLimitBeforeImprove:"Максимальное количество игроков сейчас:",maxLimitAfterImprove:"Максимальное количество игроков при улучшении:",increasingFarmIncomeNow:"Увеличение дохода фермы сейчас:",increasingFarmIncome:"Увеличение дохода фермы:",increasingSheepFarmIncomeNow:"Увеличение стоимости шерсти сейчас:",increasingChickenFarmIncomeNow:"Увеличение стоимости яиц сейчас:",increasingCowFarmIncomeNow:"Увеличение получаемого молока сейчас:",maxLevelFarm:"Достигнут максимальный уровень фермы",increasingFarmIncomeAfterImprove:"Увеличение дохода фермы при улучшении:",increasingSheepFarmIncomeAfterImprove:"Увеличение стоимости шерсти при улучшении:",increasingChickenFarmIncomeAfterImprove:"Увеличение стоимости яиц при улучшении:",increasingCowFarmIncomeAfterImprove:"Увеличение получаемого молока при улучшении:",reachChapterOfSheepFarm:"Дойдите до $1 главы овечьей фермы",clanTutor:"Теперь тебе доступны кланы. Ты можешь подыскать себе по нраву, либо создать свой",improveFarm:"Улучшить ферму",clanFarmImproveNote:"Чем выше уровень клановой фермы, тем выше доход на твоей собственной ферме",left:"Осталось:",needRegistration:"Сперва сохрани свой прогресс",goToSheepFarm:"Перейти на ферму овец",goToChickenFarm:"Перейти на ферму кур",goToCowFarm:"Перейти на ферму коров",goToNoteSheep:"Перейдите на овечью ферму, чтобы купить монеты.",goToNoteChicken:"Перейдите на куриную ферму, чтобы купить монеты.",goToNoteCow:"Перейдите на коровью ферму, чтобы купить монеты.",youJoinedClan:"Поздравляем! Вы вступили в клан: $1",youCreatedClan:"Поздравляем! Вы создали клан: $1",goToClanFarm:"Перейти на клановую ферму",buyingCoins:"Покупка монет",updatingTasksThrough:"Обновление заданий через:",actionIsAvailableHead:"Доступно только для главы клана",yourContribution:"Ваш вклад",clanAnimals:"Животных у клана",clanPlace:"Место клана",clanTournamentClanReceived:"Ваш клан получает в казну",clanTournamentInYourClanPlace:"В своем клане вы заняли",clanTournamentYourAward:"Ваша награда",clanTournamentAwards:"Награды",awardsForClans:"Награды для кланов",awardsForUsersInClan:"Награды внутри клана",clanLeaders:"Лидеры вашего клана",clanTournamentTakeAwards:"Забрать награду",inviteToJoin:"Заявка на вступление",inviteToJoinClanSend:"Заявка отправлена в клан:",haveClan:"Клан с таким именем уже существует",speedUpImprovment:"Ускорить улучшение",confirmBuyCooldownImprovmentFarm:"Хотите ускорить улучшение фермы?",change:"изменить",random:"случайно",saveAvatar:"сохранить",chickenFarm:"Куриная ферма",cowFarm:"Коровья ферма",confirmBuyChickenFarm:"Хотите купить куриную ферму?",confirmBuyCowFarm:"Хотите купить коровью ферму?",exchangePastureBtn:"Сменить пастбище на ...",exchangePastureTitle:"Ты можешь сменить пастбище $1 уровня на другую постройку",exchangeWaterBtn:"Сменить поилку на ...",exchangeWaterTitle:"Ты можешь сменить Поилку $1 уровня на другую постройку",confirmImproveCollectorSheepHeader:"Подстригатель",confirmImproveCollectorChickenHeader:"Собиратель яиц",confirmImproveCollectorCowHeader:"Собиратель",confirmImproveCollectorSheepText:"Хотите улучшить Подстригатель шерсти до $1 уровня?",confirmImproveCollectorChickenText:"Хотите улучшить Собирателя яиц до $1 уровня?",confirmImproveCollectorCowText:"Хотите улучшить Собирателя молока до $1 уровня?",confirmImproveRepositoryHeader:"Хранилище",confirmImproveRepositoryText:"Хотите улучшить Хранилище до $1 уровня?",confirmImproveFactoryHeader:"Фабрика",confirmImproveFactoryText:"Хотите улучшить Фабрику до $1 уровня?",skipHerdBoost:"Завершить переполох",inClan:"В клане",exitGame:"Выйти из игры",newNickname:"Новый никнейм",chickenCollectorImproveSale:"Цена на улучшение собирателя яиц снижена в ДВА раза! Не упусти возможность повысить эффективность фермы!",chickenCollectorPriceSale:"Цена на собиратель яиц курочек снижена в ДВА раза! Не упусти возможность собирать прибыль даже не присутствуя на ферме!",chickenFeedSale:"Цена на куриный комбикорм снижена в ДВА раза! Не упусти возможность удвоить прибыль на ферме!",chickenHerdSale:"Куриный переполох теперь стоит в ДВА раза дешевле! Отличная возможность пополнить свою ферму новыми курочками!",chickenMoneySale:"Получай в ДВА раза больше куриных монет по старым ценам! Время акции ограничено!",chickenPriceSale:"Цены на курочек снижены в ДВА раза! Не упусти шанс как следует прокачать куриную ферму!",chickenRepositoryImproveSale:"Цена на улучшение хранилищ на куриной ферме снижена в ДВА раза! Не упусти шанс, время акции ограничено!",clanSale:"Обладать собственным кланом теперь может каждый, ведь цена на его создание и персонализацию снижена в ДВА раза.",cowCollectorImproveSale:"Цена на улучшение собирателя молока снижена в ДВА раза! Не упусти возможность повысить эффективность фермы!",cowCollectorPriceSale:"Цена на собиратель молока снижена в ДВА раза! Не упусти возможность собирать прибыль даже не присутствуя на ферме!",cowFactoryImproveSale:"Цена на улучшение фабрики на коровьей ферме снижена в ДВА раза! Не упусти шанс, время акции ограничено!",cowFeedSale:"Цена на коровий комбикорм снижена в ДВА раза! Не упусти возможность удвоить прибыль на ферме!",cowHerdSale:"Коровий переполох теперь стоит в ДВА раза дешевле! Отличная возможность пополнить свою ферму новыми коровками!",cowMoneySale:"Получай в ДВА раза больше коровьих монет по старым ценам! Время акции ограничено!",cowPriceSale:"Цены на коровок снижены в ДВА раза! Не упусти шанс как следует прокачать коровью ферму!",cowRepositoryImproveSale:"Цена на улучшение хранилищ на коровьей ферме снижена в ДВА раза! Не упусти шанс, время акции ограничено!",diamondCountSale:"Получай в ДВА раза больше кристаллов за те же деньги! Время акции ограничено!",packagePriceSale:"Цены на кристаллы в магазине в ДВА раза ниже ! Не упусти шанс, время акции ограничено!",sheepCollectorImproveSale:"Цена на улучшение подстригателя снижена в ДВА раза! Не упусти возможность повысить эффективность фермы!",sheepCollectorPriceSale:"Цена на подстригатель овечек снижена в ДВА раза! Не упусти возможность собирать прибыль даже не присутствуя на ферме!",sheepFeedSale:"Цена на овечий комбикорм снижена в ДВА раза! Не упусти возможность удвоить прибыль на ферме!",sheepHerdSale:"Овечий переполох теперь стоит в ДВА раза дешевле! Отличная возможность пополнить свою ферму новыми овечками!",sheepMoneySale:"Получай в ДВА раза больше овечьих монет по старым ценам! Время акции ограничено!",sheepPriceSale:"Цены на овечек снижены в ДВА раза, время акции ограничено! Не упусти шанс как следует прокачать овечью ферму!",sheepRepositoryImproveSale:"Цена на улучшение хранилищ на овечьей ферме снижена в ДВА раза! Не упусти шанс, время акции ограничено!",saleLastTime:"До конца осталось",goTo:"Перейти",checkYourInternet:"проверьте ваше интернет соединение",error:"Ошибка",repeat:"Повторить",androidFoundUser:"$1 глава овечьей фермы - $2",foundManySave:"Найдено два сохранения:",setAction:"выберите действие",saveAndroidProgress:"Сохранить",recallText:"Ваше мнение важно для нас!\\n Оставьте ваш отзыв, чтобы мы смогли сделать игру лучше!",recallBtn:"Оставить отзыв",yourRecall:"Ваш отзыв",yourRecallIsSent:"Ваш отзыв отправлен!",recall:"Отзыв",likeGame:"Нравится игра?",speedCollectorNotificationSheep:"У вас много животных, улучшите скорость подстригателя для сохранения эффективности.",speedCollectorNotificationChicken:"У вас много животных, улучшите скорость собирателя для сохранения эффективности.",speedCollectorNotificationCow:"У вас много животных, улучшите скорость собирателя для сохранения эффективности.",forNextAd:"До следующей рекламы",confirmCleanUpText:"Хотите привести ферму в порядок?",confirmCleanUpHeader:"Уборка",cleanUp:"Убраться",noInterstitial:"отключение автовоспр. рекламы навсегда!",turnOnFeedBoost:"Включите комбикорм, чтобы вдвое увеличить доход",avatarSettings:"Выбор аватара",select:"выбрать",selected:"выбрано",buyingAvatar:"Покупка аватара",confirmBuyAvatar:"Хотите купить этот аватар?",multiplyIcomeHeader:"Увелить доход",multiplyIcomeText:"Хотите утроить доход с продажи?",triple:"утроить",achievementText1:"Пройди туториал овец",achievementText2:"Забери награду за социальные задания",achievementText3:"Забери бесплатный кристалл из магазина",achievementText4:"Поймай 5 или более животных за 1 переполох",achievementText5:"Поймай 10 или более животных за 1 переполох",achievementText6:"Поймай 12 или более животных за 1 переполох",achievementText7:"Добиться баланса воды и травы 75% или более",achievementText8:"Забить поле животными до отказа",achievementText9:"Выпустить 5 кристаллических животных на поле одновременно",achievementText10:"Выполнить 10 любых заданий",achievementText11:"Выполнить 25 любых заданий",achievementText12:"Выполнить 75 любых заданий",achievementText13:"Выполнить 150 любых заданий",achievementText14:"Выполнить все 192 задания",achievementText15:"Изгони животное",achievementText16:"Улучши хранилище шерсти до максимального уровня",achievementText17:"Улучши пастбище до максимального уровня",achievementText18:"Улучши поилку до максимального уровня",achievementText19:"Улучши овечью ярмарку до максимального уровня",achievementText20:"Улучши хранилище яиц до максимального уровня",achievementText21:"Улучши куриную ярмарку до максимального уровня",achievementText22:"Улучши хранилище молока до максимального уровня",achievementText23:"Улучши коровью ярмарку до максимального уровня",achievementText24:"Улучши завод до максимального уровня",achievementText25:"Улучши подстригатель шерсти до 25 уровня",achievementText26:"Улучши подстригатель шерсти до 50 уровня",achievementText27:"Улучши подстригатель шерсти до максимального уровня",achievementText28:"Улучши собиратель яиц до 25 уровня",achievementText29:"Улучши собиратель яиц до 50 уровня",achievementText30:"Улучши собиратель яиц до максимального уровня",achievementText31:"Улучши собиратель молока до 25 уровня",achievementText32:"Улучши собиратель молока до 50 уровня",achievementText33:"Улучши собиратель молока до максимального уровня",achievementText34:"Забрать бесплатный кристалл из магазина",achievementText35:"Купить все территории на овечьей ферме",achievementText36:"Купить все территории на куриной ферме",achievementText37:"Купить все территории на коровьей ферме",achievementText38:"Продать молоко из хранилища на коровьей ферме",achievementText39:"Обменять кристаллы на монеты в магазине",achievementText40:"Завершить 16 главу на трех фермах",achievementText41:"Занять 1-3 место в рейтинге единорогов",achievementText42:"Принять участие в событии “Единороги”.",achievementText43:"Получить единорога 10 уровня.",achievementText44:"Прокрутить колесо фортуны",achievementText45:"Выиграть джекпот в колесе фортуны",achievementText46:"Выиграть переполох в колесе фортуны",achievementText47:"Выиграть комбикорм в колесе фортуны",achievementText48:"Выиграть монеты в колесе фортуны",achievementText49:"Выйграть кристаллы в колесе фортуны",achievementText50:"Выиграть билетики в колесе фортуны",achievementText51:"Заверши 1 главу овец",achievementText52:"Заверши 2 главу овец",achievementText53:"Заверши 3 главу овец",achievementText54:"Заверши 4 главу овец",achievementText55:"Заверши 5 главу овец",achievementText56:"Заверши 6 главу овец",achievementText57:"Заверши 7 главу овец",achievementText58:"Заверши 8 главу овец",achievementText59:"Заверши 9 главу овец",achievementText60:"Заверши 10 главу овец",achievementText61:"Заверши 11 главу овец",achievementText62:"Заверши 12 главу овец",achievementText63:"Заверши 13 главу овец",achievementText64:"Заверши 14 главу овец",achievementText65:"Заверши 15 главу овец",achievementText66:"Заверши 16 главу овец",achievementText67:"Заверши 1 главу кур",achievementText68:"Заверши 2 главу кур",achievementText69:"Заверши 3 главу кур",achievementText70:"Заверши 4 главу кур",achievementText71:"Заверши 5 главу кур",achievementText72:"Заверши 6 главу кур",achievementText73:"Заверши 7 главу кур",achievementText74:"Заверши 8 главу кур",achievementText75:"Заверши 9 главу кур",achievementText76:"Заверши 10 главу кур",achievementText77:"Заверши 11 главу кур",achievementText78:"Заверши 12 главу кур",achievementText79:"Заверши 13 главу кур",achievementText80:"Заверши 14 главу кур",achievementText81:"Заверши 15 главу кур",achievementText82:"Заверши 16 главу кур",achievementText83:"Заверши 1 главу коров",achievementText84:"Заверши 2 главу коров",achievementText85:"Заверши 3 главу коров",achievementText86:"Заверши 4 главу коров",achievementText87:"Заверши 5 главу коров",achievementText88:"Заверши 6 главу коров",achievementText89:"Заверши 7 главу коров",achievementText90:"Заверши 8 главу коров",achievementText91:"Заверши 9 главу коров",achievementText92:"Заверши 10 главу коров",achievementText93:"Заверши 11 главу коров",achievementText94:"Заверши 12 главу коров",achievementText95:"Заверши 13 главу коров",achievementText96:"Заверши 14 главу коров",achievementText97:"Заверши 15 главу коров",achievementText98:"Заверши 16 главу коров",achievementText99:"Продай товар из хранилища 1 раз",achievementText100:"Продай товар из хранилища 10 раз",achievementText101:"Продай товар из хранилища 25 раз",achievementText102:"Продай товар из хранилища 100 раз",achievementText103:"Продай товар из хранилища 250 раз",achievementText104:"Продай товар из хранилища 500 раз",achievementText105:"Продай товар из хранилища 1000 раз",achievementText106:"Запусти переполох 1 раз",achievementText107:"Запусти переполох 5 раз",achievementText108:"Запусти переполох 15 раз",achievementText109:"Запусти переполох 30 раз",achievementText110:"Запусти переполох 50 раз",achievementText111:"Запусти переполох 100 раз",achievementText112:"Запусти переполох 250 раз",achievementText113:"Запусти переполох 1000 раз",achievementText114:"Улучши любое здание или территорию 3 раза",achievementText115:"Улучши любое здание или территорию 10 раза",achievementText116:"Улучши любое здание или территорию 25 раза",achievementText117:"Улучши любое здание или территорию 50 раза",achievementText118:"Улучши любое здание или территорию 100 раз",achievementText119:"Улучши любое здание или территорию 250 раз",achievementText120:"Улучши любое здание или территорию 500 раз",achievementText121:"Улучши любое здание или территорию 1000 раз",achievementText122:"Выполни все 4 клановых задания за 1 день",achievementText123:"Выполни 1 клановое задание",achievementText124:"Выполни 5 клановых заданий",achievementText125:"Выполни 25 клановых заданий",achievementText126:"Выполни 50 клановых заданий",achievementText127:"Выполни 100 клановых заданий",achievementText128:"Выполни 250 клановых заданий",achievementText129:"Выполни 500 клановых заданий",achievementText130:"Выполни 1000 клановых заданий",achievementText131:"Выполни 1 клановое задание на покупку животных",achievementText132:"Выполни 3 клановых заданий на покупку животных",achievementText133:"Выполни 5 клановых заданий на покупку животных",achievementText134:"Выполни 10 клановых заданий на покупку животных",achievementText135:"Выполни 25 клановых заданий на покупку животных",achievementText136:"Выполни 50 клановых заданий на покупку животных",achievementText137:"Выполни 75 клановых заданий на покупку животных",achievementText138:"Выполни 100 клановых заданий на покупку животных",achievementText139:"Выполни 1 клановое задание на продажу товара из хранилища",achievementText140:"Выполни 3 клановых заданий на продажу товара из хранилища",achievementText141:"Выполни 5 клановых заданий на продажу товара из хранилища",achievementText142:"Выполни 10 клановых заданий на продажу товара из хранилища",achievementText143:"Выполни 25 клановых заданий на продажу товара из хранилища",achievementText144:"Выполни 50 клановых заданий на продажу товара из хранилища",achievementText145:"Выполни 75 клановых заданий на продажу товара из хранилища",achievementText146:"Выполни 100 клановых заданий на продажу товара из хранилища",achievementText147:"Выполни 1 клановое задание на запуск переполоха",achievementText148:"Выполни 3 клановых заданий на запуск переполоха",achievementText149:"Выполни 5 клановых заданий на запуск переполоха",achievementText150:"Выполни 10 клановых заданий на запуск переполоха",achievementText151:"Выполни 25 клановых заданий на запуск переполоха",achievementText152:"Выполни 50 клановых заданий на запуск переполоха",achievementText153:"Выполни 75 клановых заданий на запуск переполоха",achievementText154:"Выполни 100 клановых заданий на запуск переполоха",achievementText155:"Выполни 1 клановое задание на сбор товара вручную",achievementText156:"Выполни 3 клановых задания на сбор товара вручную",achievementText157:"Выполни 5 клановых задания на сбор товара вручную",achievementText158:"Выполни 10 клановых задания на сбор товара вручную",achievementText159:"Выполни 25 клановых задания на сбор товара вручную",achievementText160:"Выполни 50 клановых задания на сбор товара вручную",achievementText161:"Выполни 75 клановых задания на сбор товара вручную",achievementText162:"Выполни 100 клановых задания на сбор товара вручную",achievementText163:"Выполни 1 клановое задание на соединение животных",achievementText164:"Выполни 3 клановых задания на соединение животных",achievementText165:"Выполни 5 клановых задания на соединение животных",achievementText166:"Выполни 10 клановых задания на соединение животных",achievementText167:"Выполни 25 клановых задания на соединение животных",achievementText168:"Выполни 50 клановых задания на соединение животных",achievementText169:"Выполни 75 клановых задания на соединение животных",achievementText170:"Выполни 100 клановых задания на соединение животных",achievementText171:"Выполни 1 клановое задание на улучшение чего-либо.",achievementText172:"Выполни 3 клановых заданий на улучшение чего-либо.",achievementText173:"Выполни 5 клановых заданий на улучшение чего-либо.",achievementText174:"Выполни 10 клановых заданий на улучшение чего-либо.",achievementText175:"Выполни 25 клановых заданий на улучшение чего-либо.",achievementText176:"Выполни 50 клановых заданий на улучшение чего-либо.",achievementText177:"Выполни 75 клановых заданий на улучшение чего-либо.",achievementText178:"Выполни 100 клановых заданий на улучшение чего-либо.",achievementText179:"Выполни 1 клановое задание на покупку собирателя.",achievementText180:"Выполни 3 клановых задания на покупку собирателя.",achievementText181:"Выполни 5 клановых заданий на покупку собирателя.",achievementText182:"Выполни 10 клановых заданий на покупку собирателя.",achievementText183:"Выполни 25 клановых заданий на покупку собирателя.",achievementText184:"Выполни 50 клановых заданий на покупку собирателя.",achievementText185:"Выполни 75 клановых заданий на покупку собирателя.",achievementText186:"Выполни 100 клановых заданий на покупку собирателя.",achievementText187:"Выполни 1 клановое задание на сбор кристального животного.",achievementText188:"Выполни 3 клановых задания на сбор кристального животного.",achievementText189:"Выполни 5 клановых заданий на сбор кристального животного.",achievementText190:"Выполни 10 клановых заданий на сбор кристального животного.",achievementText191:"Выполни 25 клановых заданий на сбор кристального животного.",achievementText192:"Выполни 50 клановых заданий на сбор кристального животного.",achievementText193:"Выполни 75 клановых заданий на сбор кристального животного.",achievementText194:"Выполни 100 клановых заданий на сбор кристального животного.",achievementText195:"Выполни 1 клановое задание на покупку комбикорма",achievementText196:"Выполни 3 клановых задания на покупку комбикорма",achievementText197:"Выполни 5 клановых заданий на покупку комбикорма",achievementText198:"Выполни 10 клановых заданий на покупку комбикорма",achievementText199:"Выполни 25 клановых заданий на покупку комбикорма",achievementText200:"Выполни 50 клановых заданий на покупку комбикорма",achievementText201:"Выполни 75 клановых заданий на покупку комбикорма",achievementText202:"Выполни 100 клановых заданий на покупку комбикорма",achievementText203:"Выполни 1 клановое задание на обмен кристаллов на монеты",achievementText204:"Выполни 3 клановых задания на обмен кристаллов на монеты",achievementText205:"Выполни 5 клановых заданий на обмен кристаллов на монеты",achievementText206:"Выполни 10 клановых заданий на обмен кристаллов на монеты",achievementText207:"Выполни 25 клановых заданий на обмен кристаллов на монеты",achievementText208:"Выполни 50 клановых заданий на обмен кристаллов на монеты",achievementText209:"Выполни 75 клановых заданий на обмен кристаллов на монеты",achievementText210:"Выполни 100 клановых заданий на обмен кристаллов на монеты",achievementText211:"Выполни 1 клановое задание на пополнение казны клана",achievementText212:"Выполни 3 клановых заданий на пополнение казны клана",achievementText213:"Выполни 5 клановых заданий на пополнение казны клана",achievementText214:"Выполни 10 клановых заданий на пополнение казны клана",achievementText215:"Выполни 25 клановых заданий на пополнение казны клана",achievementText216:"Выполни 50 клановых заданий на пополнение казны клана",achievementText217:"Выполни 75 клановых заданий на пополнение казны клана",achievementText218:"Выполни 100 клановых заданий на пополнение казны клана",achievementText219:"Выполни 1 клановое задание на ловлю животных на переполохах",achievementText220:"Выполни 3 клановых задания на ловлю животных на переполохах",achievementText221:"Выполни 5 клановых задания на ловлю животных на переполохах",achievementText222:"Выполни 10 клановых задания на ловлю животных на переполохах",achievementText223:"Выполни 25 клановых задания на ловлю животных на переполохах",achievementText224:"Выполни 50 клановых задания на ловлю животных на переполохах",achievementText225:"Выполни 75 клановых задания на ловлю животных на переполохах",achievementText226:"Выполни 100 клановых задания на ловлю животных на переполохах",achievementText227:"Выполни 1 клановое задание на ловлю определенного количества животных за один переполох.",achievementText228:"Выполни 3 клановых задания на ловлю определенного количества животных за один переполох.",achievementText229:"Выполни 5 клановых заданий на ловлю определенного количества животных за один переполох.",achievementText230:"Выполни 10 клановых заданий на ловлю определенного количества животных за один переполох.",achievementText231:"Выполни 25 клановых заданий на ловлю определенного количества животных за один переполох.",achievementText232:"Выполни 50 клановых заданий на ловлю определенного количества животных за один переполох.",achievementText233:"Выполни 75 клановых заданий на ловлю определенного количества животных за один переполох.",achievementText234:"Выполни 100 клановых заданий на ловлю определенного количества животных за один переполох.",achievementText235:"Выполни 1 клановое задание на покупку новой территории",achievementText236:"Выполни 3 клановых задания на покупку новой территории",achievementText237:"Выполни 5 клановых заданий на покупку новой территории",achievementText238:"Выполни 10 клановых заданий на покупку новой территории",achievementText239:"Выполни 25 клановых заданий на покупку новой территории",achievementText240:"Выполни 50 клановых заданий на покупку новой территории",achievementText241:"Выполни 75 клановых заданий на покупку новой территории",achievementText242:"Выполни 100 клановых заданий на покупку новой территории",achievementText243:"Выполни 1 клановое задание на сбор кристаллов с животных",achievementText244:"Выполни 3 клановых задания на сбор кристаллов с животных",achievementText245:"Выполни 5 клановых заданий на сбор кристаллов с животных",achievementText246:"Выполни 10 клановых заданий на сбор кристаллов с животных",achievementText247:"Выполни 25 клановых заданий на сбор кристаллов с животных",achievementText248:"Выполни 50 клановых заданий на сбор кристаллов с животных",achievementText249:"Выполни 75 клановых заданий на сбор кристаллов с животных",achievementText250:"Выполни 100 клановых заданий на сбор кристаллов с животных",achievementText251:"Выполни 1 клановое задание на выполнение заданий кампании",achievementText252:"Выполни 3 клановых задания на выполнение заданий кампании",achievementText253:"Выполни 5 клановых заданий на выполнение заданий кампании",achievementText254:"Выполни 10 клановых заданий на выполнение заданий кампании",achievementText255:"Выполни 25 клановых заданий на выполнение заданий кампании",achievementText256:"Выполни 50 клановых заданий на выполнение заданий кампании",achievementText257:"Выполни 75 клановых заданий на выполнение заданий кампании",achievementText258:"Выполни 100 клановых заданий на выполнение заданий кампании",achievementText259:"Выполни 1 клановое задание на завершение главы",achievementText260:"Выполни 2 клановых задания на завершение главы",achievementText261:"Выполни 3 клановых заданий на завершение главы",achievementText262:"Выполни 5 клановых заданий на завершение главы",achievementText263:"Выполни 7 клановых заданий на завершение главы",achievementText264:"Выполни 10 клановых заданий на завершение главы",achievementText265:"Выполни 15 клановых заданий на завершение главы",achievementText266:"Выполни 30 клановых заданий на завершение главы",achievementText267:"Выполни 1 клановое задание на пребывание на ферме определенного количества минут.",achievementText268:"Выполни 3 клановых задания на пребывание на ферме определенного количества минут.",achievementText269:"Выполни 5 клановых заданий на пребывание на ферме определенного количества минут.",achievementText270:"Выполни 10 клановых заданий на пребывание на ферме определенного количества минут.",achievementText271:"Выполни 25 клановых заданий на пребывание на ферме определенного количества минут.",achievementText272:"Выполни 50 клановых заданий на пребывание на ферме определенного количества минут.",achievementText273:"Выполни 75 клановых заданий на пребывание на ферме определенного количества минут.",achievementText274:"Выполни 100 клановых заданий на пребывание на ферме определенного количества минут.",achievementText275:"Напишите сообщение в клановый чат.",achievements:"достижения",ach1Status:"начинающий",ach2Status:"социализированный",ach3Status:"экономный",ach4Status:"пастух",ach5Status:"ловкач",ach6Status:"ковбой",ach7Status:"",ach8Status:"магнат",ach9Status:"кристалльный",ach10Status:"целеустремленный",ach11Status:"ученик фермера",ach12Status:"уверенный",ach13Status:"бывалый пастух",ach14Status:"",ach15Status:"бессердечный",ach16Status:"хранитель",ach17Status:"хозяйственный",ach18Status:"заботливый",ach19Status:"овцевод",ach20Status:"бережливый",ach21Status:"куровод",ach22Status:"запасливый",ach23Status:"защитник коров",ach24Status:"рабочий завода",ach25Status:"",ach26Status:"",ach27Status:"подстригатель",ach28Status:"",ach29Status:"",ach30Status:"собиратель яиц",ach31Status:"",ach32Status:"",ach33Status:"собиратель молока",ach34Status:"",ach35Status:"герой овец",ach36Status:"герой кур",ach37Status:"герой коров",ach38Status:"экспериментатор",ach39Status:"обменщик",ach40Status:"живая легенда",ach41Status:"друг единорогов",ach42Status:"волшебный",ach43Status:"чудесный",ach44Status:"фортуна",ach45Status:"счастливчик",ach46Status:"удачливый",ach47Status:"везучий",ach48Status:"удача сопутствует",ach49Status:"победитель",ach50Status:"удачливый",ach51Status:"новоприбывший",ach52Status:"неофит",ach53Status:"новенький",ach54Status:"ученик",ach55Status:"студент",ach56Status:"земледелец",ach57Status:"скотовод",ach58Status:"знающий",ach59Status:"умелый",ach60Status:"обученный",ach61Status:"подготовленный",ach62Status:"опытный",ach63Status:"приверженец",ach64Status:"искушенный",ach65Status:"бывалый",ach66Status:"мудрец",ach67Status:"дебютант",ach68Status:"деловой",ach69Status:"находчивый",ach70Status:"смышленный",ach71Status:"умный",ach72Status:"сведущий",ach73Status:"дотошный",ach74Status:"квалифицированный",ach75Status:"предприимчивый",ach76Status:"компетентный",ach77Status:"осведомлённый",ach78Status:"специалист",ach79Status:"талантливый",ach80Status:"знаток",ach81Status:"мастер",ach82Status:"магистр",ach83Status:"подающий надежды",ach84Status:"разборчивый",ach85Status:"мыслящий",ach86Status:"здравый",ach87Status:"крестьянин",ach88Status:"высокомудрый",ach89Status:"глаз наметан",ach90Status:"грамотный",ach91Status:"искусный",ach92Status:"глаз наметан",ach93Status:"виртуоз",ach94Status:"стреляная птица",ach95Status:"умудреный опытом",ach96Status:"тертый калач",ach97Status:"матерый фермер",ach98Status:"ветеран животноводства",ach99Status:"торговец",ach100Status:"продавец",ach101Status:"дилер",ach102Status:"купец",ach103Status:"коммерсант",ach104Status:"торговый агент",ach105Status:"бизнесмен",ach106Status:"безудержный фермер",ach107Status:"неистовый фермер",ach108Status:"необузданный фермер",ach109Status:"бурный фермер",ach110Status:"яростный фермер",ach111Status:"фермер в суматохе",ach112Status:"фермер в переполохе",ach113Status:"хозяин хаоса",ach114Status:"улучшенный",ach115Status:"усиленный",ach116Status:"усовершенствованный",ach117Status:"развитый",ach118Status:"риционализированный",ach119Status:"ремонтник",ach120Status:"строитель",ach121Status:"прораб",ach122Status:"работник дня",ach123Status:"социальный",ach124Status:"общественный",ach125Status:"коллектевистский",ach126Status:"участник клана",ach127Status:"помощник клана",ach128Status:"исполнитель клана",ach129Status:"завсегдатай клана",ach130Status:"король клана",ach131Status:"гость",ach132Status:"посетитель",ach133Status:"покупатель",ach134Status:"клиент",ach135Status:"купец",ach136Status:"закупщик",ach137Status:"заказчик",ach138Status:"король закупок",ach139Status:"дебютирующий продавец",ach140Status:"начинающий продавец",ach141Status:"опытный продавец",ach142Status:"бывалый продавец",ach143Status:"компетентный продавец",ach144Status:"искусный продавец",ach145Status:"умудреный продавец",ach146Status:"король продаж",ach147Status:"безудержный пастух",ach148Status:"неистовый пастух",ach149Status:"необузданный пастух",ach150Status:"бурный пастух",ach151Status:"яростный пастух",ach152Status:"пастух в суматохе",ach153Status:"пастух в переполохе",ach154Status:"хозяин переполоха",ach155Status:"начинающий сборщик",ach156Status:"обученный сборщик",ach157Status:"подготовленный сборщик",ach158Status:"опытный сборщик",ach159Status:"искушенный сборщик",ach160Status:"находчивый сборщик",ach161Status:"компетентный сборщик",ach162Status:"бывалый сборщик",ach163Status:"начинающий ученый",ach164Status:"обученный ученый",ach165Status:"подготовленный ученый",ach166Status:"опытный ученый",ach167Status:"искушенный ученый",ach168Status:"нахочивый ученый",ach169Status:"компетентный ученый",ach170Status:"гениальный ученый",ach171Status:"начинающий ремотник",ach172Status:"обученный ремонтник",ach173Status:"умелый ремонтник",ach174Status:"опытный ремонтник",ach175Status:"искушенный ремонтник",ach176Status:"находчивый ремонтник",ach177Status:"компетентный ремонтник",ach178Status:"гениальный ремонтник",ach179Status:"начинающий покупатель",ach180Status:"деловой покупатель",ach181Status:"умелый покупатель",ach182Status:"опытный покупатель",ach183Status:"искушенный покупатель",ach184Status:"находчивый покупатель",ach185Status:"постоянный покупатель",ach186Status:"гениальный покупатель",ach187Status:"начинающий бизнесмен",ach188Status:"обученный бизнесмен",ach189Status:"умелый бизнесмен",ach190Status:"опытный бизнесмен",ach191Status:"искушенный бизнесмен",ach192Status:"находчивый бизнесмен",ach193Status:"компетентный бизнесмен",ach194Status:"гениальный бизнесмен",ach195Status:"начинающий кормилец",ach196Status:"обученный кормилец",ach197Status:"умелый кормилец",ach198Status:"опытный кормилец",ach199Status:"искушенный кормилец",ach200Status:"находчивый кормилец",ach201Status:"компетентный кормилец",ach202Status:"гениальный кормилец",ach203Status:"начинающий коммерсант",ach204Status:"деловой коммерсант",ach205Status:"умелый коммерсант",ach206Status:"опытный коммерсант",ach207Status:"искушенный коммерсант",ach208Status:"находчивый коммерсант",ach209Status:"умный коммерсант",ach210Status:"гениальный коммерсант",ach211Status:"начинающий вкладчик",ach212Status:"деловой вкладчик",ach213Status:"зедрый вкладчик",ach214Status:"оптынй вкладчик",ach215Status:"изобильный вкладчик",ach216Status:"находчивый вкладчик",ach217Status:"богатый вкладчик",ach218Status:"гениальный вкладчик",ach219Status:"начинающий ловец",ach220Status:"обученный ловец",ach221Status:"умелый ловец",ach222Status:"опытный ловец",ach223Status:"искушенный ловец",ach224Status:"находчивый ловец",ach225Status:"ловкий ловец",ach226Status:"гениальный ловец",ach227Status:"начинающий охотник",ach228Status:"обученный охотник",ach229Status:"умелый охотник",ach230Status:"опытный охотник",ach231Status:"искушенный охотник",ach232Status:"находчивый охотник",ach233Status:"ловкий охотник",ach234Status:"гениальный охотник",ach235Status:"начинающий феодал",ach236Status:"деловой феодал",ach237Status:"умелый феодал",ach238Status:"опытный феодал",ach239Status:"искушенный феодал",ach240Status:"находчивый феодал",ach241Status:"умный феодал",ach242Status:"гениальный феодал",ach243Status:"начинающий накопитель",ach244Status:"деловой накопитель",ach245Status:"умелый накопитель",ach246Status:"опытный накопитель",ach247Status:"искушенный накопитель",ach248Status:"находчивый накопитель",ach249Status:"умный накопитель",ach250Status:"гениальный накоитель",ach251Status:"начинающий работник",ach252Status:"деловой работник",ach253Status:"умелый работник",ach254Status:"опытный работник",ach255Status:"искушенный работник",ach256Status:"находчивый работник",ach257Status:"умный работник",ach258Status:"гениальный работник",ach259Status:"начинающий труженик",ach260Status:"деловой труженик",ach261Status:"умелый труженик",ach262Status:"опытный труженик",ach263Status:"искушенный труженик",ach264Status:"находчивый труженик",ach265Status:"умный труженик",ach266Status:"гениальный труженик",ach267Status:"начинающий смотритель",ach268Status:"обученный смотритель",ach269Status:"умелый смотритель",ach270Status:"опытный смотритель",ach271Status:"искушенный смотритель",ach272Status:"находчивый смотритель",ach273Status:"умный смотритель",ach274Status:"гениальный смотритель",ach275Status:"писатель",achievementUnlock:"достижение получено",achievementsPoints:"Очков достижений",achievementsDone:"Завершено на",maxCollectortTimeLevel:"Достигнут максимальный уровень времени собирателя",maxCollectorSpeedLevel:"Достигнут максимальный уровень мощности собирателя",taskNameSheep_1_1:"Купи две Белые овечки",taskNameSheep_1_2:"Обменяй овечек на ярмарке и получи серую овечку",taskNameSheep_1_3:"Включи подстригатель",taskNameSheep_1_4:"Зайди в Хранилище и продай шерсть",taskNameSheep_2_1:"Получи еще одну новую землю",taskNameSheep_2_2:"Засей пастбище на новой земле",taskNameSheep_2_3:"Улучши все территории до $2 уровня",taskNameSheep_2_4:"Купи две Белые овечки",taskNameSheep_2_5:"Получи ещё одну Чёрную овечку через обмен на Ярмарке",taskNameSheep_2_6:"Улучши длительность подстригателя до 2 уровня",taskNameSheep_2_7:"Улучши скорость подстригателя до 2 уровня",taskNameSheep_3_1:"Получи еще одну новую землю",taskNameSheep_3_2:"Засей пастбище на новой земле",taskNameSheep_3_3:"Улучши все территории до $2 уровня",taskNameSheep_3_4:"Улучши Ярмарку до $2 уровня",taskNameSheep_3_5:"Улучши длительность подстригателя до 3 уровня",taskNameSheep_3_6:"Получи две Бурые овечки через обмен на Ярмарке",taskNameSheep_3_7:"Возьми кристаллическую овечку",taskNameSheep_3_8:"Улучши скорость подстригателя до 3 уровня",taskNameSheep_4_1:"Получи еще одну новую землю",taskNameSheep_4_2:"Засей пастбище на новой земле",taskNameSheep_4_3:"Улучши все территории до $2 уровня",taskNameSheep_4_4:"Улучши Ярмарку до $2 уровня",taskNameSheep_4_5:"Накопи $1 монет",taskNameSheep_4_6:"Улучши длительность подстригателя до 4 уровня",taskNameSheep_4_7:"Получи $1 Винторогие овечки $2 уровня",taskNameSheep_4_8:"Улучши скорость подстригателя до 4 уровня",taskNameSheep_5_1:"Получи еще одну новую землю",taskNameSheep_5_2:"Засей пастбище на новой земле",taskNameSheep_5_3:"Улучши все территории до $2 уровня",taskNameSheep_5_4:"Улучши Ярмарку до $2 уровня",taskNameSheep_5_5:"Начни овечий переполох",taskNameSheep_5_6:"Улучши длительность подстригателя до 5 уровня",taskNameSheep_5_7:"Получи $1 Ирландские овечки $2 уровня",taskNameSheep_5_8:"Улучши скорость подстригателя до 5 уровня",taskNameSheep_6_1:"Получи еще одну новую землю",taskNameSheep_6_2:"Засей пастбище на новой земле",taskNameSheep_6_3:"Улучши все территории до $2 уровня",taskNameSheep_6_4:"Улучши Ярмарку до $2 уровня",taskNameSheep_6_5:"Выдай овечкам комбикорм",taskNameSheep_6_6:"Улучши длительность подстригателя до 6 уровня",taskNameSheep_6_7:"Получи $1 Кавказские овечки $2 уровня",taskNameSheep_6_8:"Улучши скорость подстригателя до 6 уровня",taskNameSheep_7_1:"Получи еще одну новую землю",taskNameSheep_7_2:"Засей пастбище на новой земле",taskNameSheep_7_3:"Улучши все территории до $2 уровня",taskNameSheep_7_4:"Собери шерсть вручную $1 раз",taskNameSheep_7_5:"Улучши длительность подстригателя до 7 уровня",taskNameSheep_7_6:"Включи подстригатель суммарно на 30 минут",taskNameSheep_7_7:"Получи еще две Кавказские овечки $2 уровня",taskNameSheep_7_8:"Улучши скорость подстригателя до 7 уровня",taskNameSheep_8_1:"Получи еще одну новую землю",taskNameSheep_8_2:"Засей пастбище на новой земле",taskNameSheep_8_3:"Улучши все территории до $2 уровня",taskNameSheep_8_4:"Улучши Ярмарку до $2 уровня",taskNameSheep_8_5:"Купи $1 монет",taskNameSheep_8_6:"Улучши длительность подстригателя до 8 уровня",taskNameSheep_8_7:"Получи $1 Лунные овечки $2 уровня",taskNameSheep_8_8:"Улучши скорость подстригателя до 8 уровня",taskNameSheep_9_1:"Получи еще одну новую землю",taskNameSheep_9_2:"Построй поилку на новой земле",taskNameSheep_9_3:"Улучши все территории до $2 уровня",taskNameSheep_9_4:"Накопи $1 монет",taskNameSheep_9_5:"Улучши длительность подстригателя до 9 уровня",taskNameSheep_9_6:"Потрать $1 кристаллов",taskNameSheep_9_7:"Получи еще две Лунные овечки $2 уровня",taskNameSheep_9_8:"Улучши скорость подстригателя до 9 уровня",taskNameSheep_10_1:"Получи еще одну новую землю",taskNameSheep_10_2:"Засей пастбище на новой земле",taskNameSheep_10_3:"Улучши все территории до $2 уровня",taskNameSheep_10_4:"Улучши Ярмарку до $2 уровня",taskNameSheep_10_5:"Получи $1 овечки при помощи переполоха",taskNameSheep_10_6:"Улучши длительность подстригателя до 10 уровня",taskNameSheep_10_7:"Получи $1 Гламурные овечки $2 уровня",taskNameSheep_10_8:"Улучши скорость подстригателя до 10 уровня",taskNameSheep_11_1:"Получи еще одну новую землю",taskNameSheep_11_2:"Засей пастбище на новой земле",taskNameSheep_11_3:"Улучши все территории до $2 уровня",taskNameSheep_11_4:"Получи одну кристаллическую овечку",taskNameSheep_11_5:"Улучши длительность подстригателя до 11 уровня",taskNameSheep_11_6:"Зайди в Хранилище и продай $1 киллограмм шерсти",taskNameSheep_11_7:"Получи еще две Гламурные овечки $2 уровня",taskNameSheep_11_8:"Улучши скорость подстригателя до 11 уровня",taskNameSheep_12_1:"Получи еще одну новую землю",taskNameSheep_12_2:"Засей пастбище на новой земле",taskNameSheep_12_3:"Улучши все территории до $2 уровня",taskNameSheep_12_4:"Улучши Ярмарку до $2 уровня",taskNameSheep_12_5:"Собери $1 кристалла с кристаллической овечки",taskNameSheep_12_6:"Улучши длительность подстригателя до 12 уровня",taskNameSheep_12_7:"Получи $1 Рыжие овечки $2 уровня",taskNameSheep_12_8:"Улучши скорость подстригателя до 12 уровня",taskNameSheep_13_1:"Получи еще одну новую землю",taskNameSheep_13_2:"Засей пастбище на новой земле",taskNameSheep_13_3:"Улучши все территории до $2 уровня",taskNameSheep_13_4:"Начни овечий переполох",taskNameSheep_13_5:"Улучши длительность подстригателя до 13 уровня",taskNameSheep_13_6:"Выдай овечкам комбикорм",taskNameSheep_13_7:"Получи еще две Рыжие овечки $2 уровня",taskNameSheep_13_8:"Улучши скорость подстригателя до 13 уровня",taskNameSheep_14_1:"Получи еще одну новую землю",taskNameSheep_14_2:"Засей пастбище на новой земле",taskNameSheep_14_3:"Улучши все территории до $2 уровня",taskNameSheep_14_4:"Улучши Ярмарку до $2 уровня",taskNameSheep_14_5:"Собери шерсть вручную $1 раз",taskNameSheep_14_6:"Улучши длительность подстригателя до 14 уровня",taskNameSheep_14_7:"Получи $1 Крылатые овечки $2 уровня",taskNameSheep_14_8:"Улучши скорость подстригателя до 14 уровня",taskNameSheep_15_1:"Получи еще одну новую землю",taskNameSheep_15_2:"Установи хранилище на новой земле",taskNameSheep_15_3:"Улучши все территории до $2 уровня",taskNameSheep_15_4:"Потрать $1 кристаллов",taskNameSheep_15_5:"Улучши длительность подстригателя до 15 уровня",taskNameSheep_15_6:"Накопи $1 монет",taskNameSheep_15_7:"Получи еще две Крылатые овечки $2 уровня",taskNameSheep_15_8:"Улучши скорость подстригателя до 15 уровня",taskNameSheep_16_1:"Получи еще одну новую землю",taskNameSheep_16_2:"Засей пастбище на новой земле",taskNameSheep_16_3:"Улучши все территории до $2 уровня",taskNameSheep_16_4:"Улучши Ярмарку до $2 уровня",taskNameSheep_16_5:"Получи $1 овечек при помощи переполоха",taskNameSheep_16_6:"Улучши длительность подстригателя до 16 уровня",taskNameSheep_16_7:"Получи $1 Шведские овечки $2 уровня",taskNameSheep_16_8:"Улучши скорость подстригателя до 16 уровня",taskNameSheep_17_1:"Получи еще одну новую землю",taskNameSheep_17_2:"Засей пастбище на новой земле",taskNameSheep_17_3:"Улучши все территории до $2 уровня",taskNameSheep_17_4:"Купи $1 монет",taskNameSheep_17_5:"Улучши длительность подстригателя до 17 уровня",taskNameSheep_17_6:"Получи две кристаллические овечки",taskNameSheep_17_7:"Получи еще две Шведские овечки $2 уровня",taskNameSheep_17_8:"Улучши скорость подстригателя до 17 уровня",taskNameSheep_18_1:"Получи еще одну новую землю",taskNameSheep_18_2:"Засей пастбище на новой земле",taskNameSheep_18_3:"Улучши все территории до $2 уровня",taskNameSheep_18_4:"Улучши Ярмарку до $2 уровня",taskNameSheep_18_5:"Собери $1 кристалла с кристаллической овечки",taskNameSheep_18_6:"Улучши длительность подстригателя до 18 уровня",taskNameSheep_18_7:"Получи $1 Волшебные овечки $2 уровня",taskNameSheep_18_8:"Улучши скорость подстригателя до 18 уровня",taskNameSheep_19_1:"Получи еще одну новую землю",taskNameSheep_19_2:"Засей пастбище на новой земле",taskNameSheep_19_3:"Улучши все территории до $2 уровня",taskNameSheep_19_4:"Начни овечий переполох $1 раза",taskNameSheep_19_5:"Улучши длительность подстригателя до 19 уровня",taskNameSheep_19_6:"Выдай овечкам комбикорм на $1 часа",taskNameSheep_19_7:"Получи еще две Волшебные овечки $2 уровня",taskNameSheep_19_8:"Улучши скорость подстригателя до 19 уровня",taskNameSheep_20_1:"Улучши все территории до $2 уровня",taskNameSheep_20_2:"Улучши длительность подстригателя до 20 уровня",taskNameSheep_20_3:"Получи еще $1 Волшебные овечки $2 уровня",taskNameSheep_20_4:"Получи $1 овечек при помощи переполоха",taskNameSheep_20_5:"Выпусти на поле по одной овечке каждого вида",taskNameSheep_20_6:"Улучши скорость подстригателя до 20 уровня",taskNameChicken_1_1:"Купи две Белые курочки",taskNameChicken_1_2:"Обменяй курочек на ярмарке и получи бурую курочку",taskNameChicken_1_3:"Включи собиратель яиц",taskNameChicken_1_4:"Построй хранилище для яиц",taskNameChicken_2_1:"Получи еще одну новую землю",taskNameChicken_2_2:"Засей пастбище на новой земле",taskNameChicken_2_3:"Улучши все территории до $2 уровня",taskNameChicken_2_4:"Купи две Белые курочки",taskNameChicken_2_5:"Получи еще одну Бурую курочку через обмен на Ярмарке",taskNameChicken_2_6:"Улучши длительность собирателя яиц до 2 уровня",taskNameChicken_2_7:"Улучши скорость собирателя яиц до 2 уровня",taskNameChicken_3_1:"Получи еще одну новую землю",taskNameChicken_3_2:"Засей пастбище на новой земле",taskNameChicken_3_3:"Улучши все территории до $2 уровня",taskNameChicken_3_4:"Улучши Ярмарку до $2 уровня",taskNameChicken_3_5:"Улучши длительность собирателя яиц до 3 уровня",taskNameChicken_3_6:"Получи две Дымчатые курочки через обмен на Ярмарке",taskNameChicken_3_7:"Возьми кристаллическую курочку",taskNameChicken_3_8:"Улучши скорость собирателя яиц до 3 уровня",taskNameChicken_4_1:"Получи еще одну новую землю",taskNameChicken_4_2:"Засей пастбище на новой земле",taskNameChicken_4_3:"Улучши все территории до $2 уровня",taskNameChicken_4_4:"Улучши Ярмарку до $2 уровня",taskNameChicken_4_5:"Накопи $1 монет",taskNameChicken_4_6:"Улучши длительность собирателя яиц до 4 уровня",taskNameChicken_4_7:"Получи $1 Сапфровые курочки",taskNameChicken_4_8:"Улучши скорость собирателя яиц до 4 уровня",taskNameChicken_5_1:"Получи еще одну новую землю",taskNameChicken_5_2:"Засей пастбище на новой земле",taskNameChicken_5_3:"Улучши все территории до $2 уровня",taskNameChicken_5_4:"Улучши Ярмарку до $2 уровня",taskNameChicken_5_5:"Начни куриный переполох",taskNameChicken_5_6:"Улучши длительность собирателя яиц до 5 уровня",taskNameChicken_5_7:"Получи $1 Курочки-викинги $2 уровня",taskNameChicken_5_8:"Улучши скорость собирателя яиц до 5 уровня",taskNameChicken_6_1:"Получи еще одну новую землю",taskNameChicken_6_2:"Засей пастбище на новой земле",taskNameChicken_6_3:"Улучши все территории до $2 уровня",taskNameChicken_6_4:"Улучши Ярмарку до $2 уровня",taskNameChicken_6_5:"Выдай курочкам комбикорм",taskNameChicken_6_6:"Улучши длительность собирателя яиц до 6 уровня",taskNameChicken_6_7:"Получи $1 Курочки-панки $2 уровня",taskNameChicken_6_8:"Улучши скорость собирателя яиц до 6 уровня",taskNameChicken_7_1:"Получи еще одну новую землю",taskNameChicken_7_2:"Засей пастбище на новой земле",taskNameChicken_7_3:"Улучши все территории до $2 уровня",taskNameChicken_7_4:"Собери яйца вручную $1 раз",taskNameChicken_7_5:"Улучши длительность собирателя яиц до 7 уровня",taskNameChicken_7_6:"Включи собиратель яиц суммарно на 30 минут",taskNameChicken_7_7:"Получи еще две Курочки-панки $2 уровня",taskNameChicken_7_8:"Улучши скорость собирателя яиц до 7 уровня",taskNameChicken_8_1:"Получи еще одну новую землю",taskNameChicken_8_2:"Засей пастбище на новой земле",taskNameChicken_8_3:"Улучши все территории до $2 уровня",taskNameChicken_8_4:"Улучши Ярмарку до $2 уровня",taskNameChicken_8_5:"Купи $1 монет",taskNameChicken_8_6:"Улучши длительность собирателя яиц до 8 уровня",taskNameChicken_8_7:"Получи $1 Ковбойские курочки $2 уровня",taskNameChicken_8_8:"Улучши скорость собирателя яиц до 8 уровня",taskNameChicken_9_1:"Получи еще одну новую землю",taskNameChicken_9_2:"Построй поилку на новой земле",taskNameChicken_9_3:"Улучши все территории до $2 уровня",taskNameChicken_9_4:"Накопи $1 монет",taskNameChicken_9_5:"Улучши длительность собирателя яиц до 9 уровня",taskNameChicken_9_6:"Потрать $1 кристаллов",taskNameChicken_9_7:"Получи еще две Ковбойские курочки $2 уровня",taskNameChicken_9_8:"Улучши скорость собирателя яиц до 9 уровня",taskNameChicken_10_1:"Получи еще одну новую землю",taskNameChicken_10_2:"Засей пастбище на новой земле",taskNameChicken_10_3:"Улучши все территории до $2 уровня",taskNameChicken_10_4:"Улучши Ярмарку до $2 уровня",taskNameChicken_10_5:"Получи $1 курочки при помощи переполоха",taskNameChicken_10_6:"Улучши длительность собирателя яиц до 10 уровня",taskNameChicken_10_7:"Получи $1 Элегантные курочки $2 уровня",taskNameChicken_10_8:"Улучши скорость собирателя яиц до 10 уровня",taskNameChicken_11_1:"Получи еще одну новую землю",taskNameChicken_11_2:"Засей пастбище на новой земле",taskNameChicken_11_3:"Улучши все территории до $2 уровня",taskNameChicken_11_4:"Получи одну кристаллическую курочку",taskNameChicken_11_5:"Улучши длительность собирателя яиц до 11 уровня",taskNameChicken_11_6:"Зайди в Хранилище и продай $1 яиц",taskNameChicken_11_7:"Получи еще две Элегантные курочки $2 уровня",taskNameChicken_11_8:"Улучши скорость собирателя яиц до 11 уровня",taskNameChicken_12_1:"Получи еще одну новую землю",taskNameChicken_12_2:"Засей пастбище на новой земле",taskNameChicken_12_3:"Улучши все территории до $2 уровня",taskNameChicken_12_4:"Улучши Ярмарку до $2 уровня",taskNameChicken_12_5:"Собери $1 кристалла с кристаллической курочки",taskNameChicken_12_6:"Улучши длительность собирателя яиц до 12 уровня",taskNameChicken_12_7:"Получи $1 Благородные курочки $2 уровня",taskNameChicken_12_8:"Улучши скорость собирателя яиц до 12 уровня",taskNameChicken_13_1:"Получи еще одну новую землю",taskNameChicken_13_2:"Засей пастбище на новой земле",taskNameChicken_13_3:"Улучши все территории до $2 уровня",taskNameChicken_13_4:"Начни переполох $1 раза",taskNameChicken_13_5:"Улучши длительность собирателя яиц до 13 уровня",taskNameChicken_13_6:"Выдай курочкам комбикорм на $1 часа",taskNameChicken_13_7:"Получи еще две Благородные курочки $2 уровня",taskNameChicken_13_8:"Улучши скорость собирателя яиц до 13 уровня",taskNameChicken_14_1:"Получи еще одну новую землю",taskNameChicken_14_2:"Засей пастбище на новой земле",taskNameChicken_14_3:"Улучши все территории до $2 уровня",taskNameChicken_14_4:"Улучши Ярмарку до $2 уровня",taskNameChicken_14_5:"Собери яйца вручную $1 раз",taskNameChicken_14_6:"Улучши длительность собирателя яиц до 14 уровня",taskNameChicken_14_7:"Получи $1 Свободные курочки $2 уровня",taskNameChicken_14_8:"Улучши скорость собирателя яиц до 14 уровня",taskNameChicken_15_1:"Получи еще одну новую землю",taskNameChicken_15_2:"Установи хранилище на новой земле",taskNameChicken_15_3:"Улучши все территории до $2 уровня",taskNameChicken_15_4:"Потрать $1 кристаллов",taskNameChicken_15_5:"Улучши длительность собирателя яиц до 15 уровня",taskNameChicken_15_6:"Накопи $1 монет",taskNameChicken_15_7:"Получи еще две Свободные курочки $2 уровня",taskNameChicken_15_8:"Улучши скорость собирателя яиц до 15 уровня",taskNameChicken_16_1:"Получи еще одну новую землю",taskNameChicken_16_2:"Засей пастбище на новой земле",taskNameChicken_16_3:"Улучши все территории до $2 уровня",taskNameChicken_16_4:"Улучши Ярмарку до $2 уровня",taskNameChicken_16_5:"Получи $1 курочек при помощи переполоха",taskNameChicken_16_6:"Улучши длительность собирателя яиц до 16 уровня",taskNameChicken_16_7:"Получи $1 Вампирские курочки $2 уровня",taskNameChicken_16_8:"Улучши скорость собирателя яиц до 16 уровня",taskNameChicken_17_1:"Получи еще одну новую землю",taskNameChicken_17_2:"Засей пастбище на новой земле",taskNameChicken_17_3:"Улучши все территории до $2 уровня",taskNameChicken_17_4:"Купи $1 монет",taskNameChicken_17_5:"Улучши длительность собирателя яиц до 17 уровня",taskNameChicken_17_6:"Получи две кристаллические курочки",taskNameChicken_17_7:"Получи еще две Вампирские курочки $2 уровня",taskNameChicken_17_8:"Улучши скорость собирателя яиц до 17 уровня",taskNameChicken_18_1:"Получи еще одну новую землю",taskNameChicken_18_2:"Засей пастбище на новой земле",taskNameChicken_18_3:"Улучши все территории до $2 уровня",taskNameChicken_18_4:"Улучши Ярмарку до $2 уровня",taskNameChicken_18_5:"Собери $1 кристалла с кристаллической курочки",taskNameChicken_18_6:"Улучши длительность собирателя яиц до 18 уровня",taskNameChicken_18_7:"Получи $1 Королевские корочки $2 уровня",taskNameChicken_18_8:"Улучши скорость собирателя яиц до 18 уровня",taskNameChicken_19_1:"Получи еще одну новую землю",taskNameChicken_19_2:"Засей пастбище на новой земле",taskNameChicken_19_3:"Улучши все территории до $2 уровня",taskNameChicken_19_4:"Начни переполох $1 раза $1 раза",taskNameChicken_19_5:"Улучши длительность собирателя яиц до 19 уровня",taskNameChicken_19_6:"Выдай курочкам комбикорма на $1 часа",taskNameChicken_19_7:"Получи еще две Королевские курочки $2 уровня",taskNameChicken_19_8:"Улучши скорость собирателя яиц до 19 уровня",taskNameChicken_20_1:"Улучши все территории до $2 уровня",taskNameChicken_20_2:"Улучши длительность собирателя яиц до 20 уровня",taskNameChicken_20_3:"Получи еще $1 Королевские курочки $2 уровня",taskNameChicken_20_4:"Получи $1 курочек при помощи переполоха",taskNameChicken_20_5:"Выпусти на поле по одной курочке каждого вида",taskNameChicken_20_6:"Улучши скорость собирателя яиц до 20 уровня",taskNameCow_1_1:"Купи две Белые коровки",taskNameCow_1_2:"Обменяй коровок на ярмарке и получи пятнистую коровку",taskNameCow_1_3:"Включи собиратель",taskNameCow_1_4:"Построй хранилище для молока",taskNameCow_2_1:"Накопи $1 литров молока",taskNameCow_2_2:"Получи еще одну новую землю",taskNameCow_2_3:"Построй фабрику",taskNameCow_2_4:"Улучши все территории до $2 уровня",taskNameCow_2_5:"Купи две Белые коровки",taskNameCow_2_6:"Получи еще одну Пятнистую коровок через обмен на Ярмарке",taskNameCow_2_7:"Улучши длительность собирателя до 2 уровня",taskNameCow_2_8:"Улучши скорость собирателя до 2 уровня",taskNameCow_3_1:"Улучши все территории до $2 уровня",taskNameCow_3_2:"Улучши Ярмарку до $2 уровня",taskNameCow_3_3:"Улучши длительность собирателя до 3 уровня",taskNameCow_3_4:"Получи две Бурые коровки через обмен на Ярмарке",taskNameCow_3_5:"Возьми кристаллическую коровку",taskNameCow_3_6:"Улучши скорость собирателя до 3 уровня",taskNameCow_4_1:"Улучши все территории до $2 уровня",taskNameCow_4_2:"Улучши Ярмарку до $2 уровня",taskNameCow_4_3:"Накопи $1 монет",taskNameCow_4_4:"Улучши длительность собирателя до 4 уровня",taskNameCow_4_5:"Получи $1 Шотландские коровки $2 уровня",taskNameCow_4_6:"Улучши скорость собирателя до 4 уровня",taskNameCow_5_1:"Получи еще одну новую землю",taskNameCow_5_2:"Засей пастбище на новой земле",taskNameCow_5_3:"Улучши все территории до $2 уровня",taskNameCow_5_4:"Улучши Ярмарку до $2 уровня",taskNameCow_5_5:"Начни коровий переполох",taskNameCow_5_6:"Улучши длительность собирателя до 5 уровня",taskNameCow_5_7:"Получи $1 Степные коровки $2 уровня",taskNameCow_5_8:"Улучши скорость собирателя до 5 уровня",taskNameCow_6_1:"Получи еще одну новую землю",taskNameCow_6_2:"Засей пастбище на новой земле",taskNameCow_6_3:"Улучши все клетки до $2 уровня",taskNameCow_6_4:"Улучши Ярмарку до $2 уровня",taskNameCow_6_5:"Выдай коровкам комбикорм",taskNameCow_6_6:"Улучши длительность собирателя до 6 уровня",taskNameCow_6_7:"Получи $1 Индийские коровки $2 уровня",taskNameCow_6_8:"Улучши скорость собирателя до 6 уровня",taskNameCow_7_1:"Получи еще одну новую землю",taskNameCow_7_2:"Засей пастбище на новой земле",taskNameCow_7_3:"Улучши все территории до $2 уровня",taskNameCow_7_4:"Собери молоко вручную $1 раз",taskNameCow_7_5:"Улучши длительность собирателя до 7 уровня",taskNameCow_7_6:"Включи собиратель суммарно на 30 минут",taskNameCow_7_7:"Получи еще две Индийские коровки $2 уровня",taskNameCow_7_8:"Улучши скорость собирателя до 7 уровня",taskNameCow_8_1:"Получи еще одну новую землю",taskNameCow_8_2:"Засей пастбище на новой земле",taskNameCow_8_3:"Улучши все территории до $2 уровня",taskNameCow_8_4:"Улучши Ярмарку до $2 уровня",taskNameCow_8_5:"Купи $1 монет",taskNameCow_8_6:"Улучши длительность собирателя до 8 уровня",taskNameCow_8_7:"Получи $1 Фермерские коровки $2 уровня",taskNameCow_8_8:"Улучши скорость собирателя до 8 уровня",taskNameCow_9_1:"Получи еще одну новую землю",taskNameCow_9_2:"Построй поилку на новой земле",taskNameCow_9_3:"Улучши все территории до $2 уровня",taskNameCow_9_4:"Накопи $1 монет",taskNameCow_9_5:"Улучши длительность собирателя до 9 уровня",taskNameCow_9_6:"Потрать $1 кристаллов",taskNameCow_9_7:"Получи еще две Фермерские коровки $2 уровня",taskNameCow_9_8:"Улучши скорость собирателя до 9 уровня",taskNameCow_10_1:"Получи еще одну новую землю",taskNameCow_10_2:"Засей пастбище на новой земле",taskNameCow_10_3:"Улучши все территории до $2 уровня",taskNameCow_10_4:"Улучши Ярмарку до $2 уровня",taskNameCow_10_5:"Получи $1 коровки при помощи переполоха",taskNameCow_10_6:"Улучши длительность собирателя до 10 уровня",taskNameCow_10_7:"Получи $1 Северные коровки $2 уровня",taskNameCow_10_8:"Улучши скорость собирателя до 10 уровня",taskNameCow_11_1:"Получи еще одну новую землю",taskNameCow_11_2:"Засей пастбище на новой земле",taskNameCow_11_3:"Улучши все территории до $2 уровня",taskNameCow_11_4:"Получи одну кристаллическую коровку",taskNameCow_11_5:"Улучши длительность собирателя до 11 уровня",taskNameCow_11_6:"Продай продукции на 10М монет",taskNameCow_11_7:"Получи еще две Северные коровки $2 уровня",taskNameCow_11_8:"Улучши скорость собирателя до 11 уровня",taskNameCow_12_1:"Получи еще одну новую землю",taskNameCow_12_2:"Засей пастбище на новой земле",taskNameCow_12_3:"Улучши все территории до $2 уровня",taskNameCow_12_4:"Улучши Ярмарку до $2 уровня",taskNameCow_12_5:"Собери $1 кристалла с кристаллической коровки",taskNameCow_12_6:"Улучши длительность собирателя до 12 уровня",taskNameCow_12_7:"Получи $1 Греческие коровки $2 уровня",taskNameCow_12_8:"Улучши скорость собирателя до 12 уровня",taskNameCow_13_1:"Получи еще одну новую землю",taskNameCow_13_2:"Засей пастбище на новой земле",taskNameCow_13_3:"Улучши все территории до $2 уровня",taskNameCow_13_4:"Начни коровий переполох $1 раза",taskNameCow_13_5:"Улучши длительность собирателя до 13 уровня",taskNameCow_13_6:"Выдай коровкам комбикорм на $1 часа",taskNameCow_13_7:"Получи еще две Греческие коровки $2 уровня",taskNameCow_13_8:"Улучши скорость собирателя до 13 уровня",taskNameCow_14_1:"Получи еще одну новую землю",taskNameCow_14_2:"Засей пастбище на новой земле",taskNameCow_14_3:"Улучши все территории до $2 уровня",taskNameCow_14_4:"Улучши Ярмарку до $2 уровня",taskNameCow_14_5:"Собери молоко вручную $1 раз",taskNameCow_14_6:"Улучши длительность собирателя до 14 уровня",taskNameCow_14_7:"Получи $1 Февралькие коровки $2 уровня",taskNameCow_14_8:"Улучши скорость собирателя до 14 уровня",taskNameCow_15_1:"Получи еще одну новую землю",taskNameCow_15_2:"Построй поилку на новой земле",taskNameCow_15_3:"Улучши все территории до $2 уровня",taskNameCow_15_4:"Потрать $1 кристаллов",taskNameCow_15_5:"Улучши длительность собирателя до 15 уровня",taskNameCow_15_6:"Накопи $1 монет",taskNameCow_15_7:"Получи еще две Февральские коровки $2 уровня",taskNameCow_15_8:"Улучши скорость собирателя до 15 уровня",taskNameCow_16_1:"Получи еще одну новую землю",taskNameCow_16_2:"Засей пастбище на новой земле",taskNameCow_16_3:"Улучши все территории до $2 уровня",taskNameCow_16_4:"Улучши Ярмарку до $2 уровня",taskNameCow_16_5:"Получи $1 коровок при помощи переполоха",taskNameCow_16_6:"Улучши длительность собирателя до 16 уровня",taskNameCow_16_7:"Получи $1 Племенные коровки $2 уровня",taskNameCow_16_8:"Улучши скорость собирателя до 16 уровня",taskNameCow_17_1:"Получи еще одну новую землю",taskNameCow_17_2:"Засей пастбище на новой земле",taskNameCow_17_3:"Улучши все территории до $2 уровня",taskNameCow_17_4:"Купи $1 монет",taskNameCow_17_5:"Улучши длительность собирателя до 17 уровня",taskNameCow_17_6:"Получи две кристаллические коровки",taskNameCow_17_7:"Получи еще две Племенные коровки $2 уровня",taskNameCow_17_8:"Улучши скорость собирателя до 17 уровня",taskNameCow_18_1:"Получи еще одну новую землю",taskNameCow_18_2:"Засей пастбище на новой земле",taskNameCow_18_3:"Улучши все территории до $2 уровня",taskNameCow_18_4:"Улучши Ярмарку до $2 уровня",taskNameCow_18_5:"Собери $1 кристалла с кристаллической коровки",taskNameCow_18_6:"Улучши длительность собирателя до 18 уровня",taskNameCow_18_7:"Получи $1 Сказочные коровки $2 уровня",taskNameCow_18_8:"Улучши скорость собирателя до 18 уровня",taskNameCow_19_1:"Получи еще одну новую землю",taskNameCow_19_2:"Засей пастбище на новой земле",taskNameCow_19_3:"Улучши все территории до $2 уровня",taskNameCow_19_4:"Начни коровий переполох $1 раза",taskNameCow_19_5:"Улучши длительность собирателя до 19 уровня",taskNameCow_19_6:"Выдай коровкам комбикорм на $1 часа",taskNameCow_19_7:"Получи еще две Сказочные коровки $2 уровня",taskNameCow_19_8:"Улучши скорость собирателя до 19 уровня",taskNameCow_20_1:"Улучши все территории до $2 уровня",taskNameCow_20_2:"Улучши длительность собирателя до 20 уровня",taskNameCow_20_3:"Получи еще $1 Сказочные коровки $2 уровня",taskNameCow_20_4:"Получи $1 коровок при помощи переполоха",taskNameCow_20_5:"Выпусти на поле по одной коровке каждого вида",taskNameCow_20_6:"Улучши скорость собирателя до 20 уровня",cowNamePart1testB:"Первые шаги",cowNamePart2testB:"Ярмарка",cowNamePart3testB:"Коровник мечты",cowNamePart4testB:"Ярмарочный день",cowNamePart5testB:"Новые технологии",cowNamePart6testB:"Вместе веселее",cowNamePart7testB:"Долгий путь к славе",cowNamePart8testB:"Больше коров",cowNamePart9testB:"Серьезные суммы",cowNamePart10testB:"Новые горизонты",cowNamePart11testB:"Главное - вовремя пить",cowNamePart12testB:"Коровий магнат",cowNamePart13testB:"Бескрайние поля",cowNamePart14testB:"Ярмарочный магнат",cowNamePart15testB:"Последний рывок",cowNamePart16testB:"Глаз радуется",cowNamePart17testB:"Бесстрашный фермер",cowNamePart18testB:"Бодрые коровки",cowNamePart19testB:"Вкусное молоко",cowNamePart20testB:"Восторженные покупатели",chickenNamePart1testB:"Первые шаги",chickenNamePart2testB:"Ярмарка",chickenNamePart3testB:"Курятник мечты",chickenNamePart4testB:"Ярмарочный день",chickenNamePart5testB:"Новые технологии",chickenNamePart6testB:"Вместе веселее",chickenNamePart7testB:"Долгий путь к славе",chickenNamePart8testB:"Больше кур",chickenNamePart9testB:"Серьезные суммы",chickenNamePart10testB:"Новые горизонты",chickenNamePart11testB:"Главное - вовремя пить",chickenNamePart12testB:"Куриный магнат",chickenNamePart13testB:"Бескрайние поля",chickenNamePart14testB:"Ярмарочный магнат",chickenNamePart15testB:"Последний рывок",chickenNamePart16testB:"Глаз радуется",chickenNamePart17testB:"Бесстрашный фермер",chickenNamePart18testB:"Бодрые курочки",chickenNamePart19testB:"Вкусные яйца",chickenNamePart20testB:"Восторженные покупатели",sheepNamePart1testB:"Первые шаги",sheepNamePart2testB:"Ярмарка",sheepNamePart3testB:"Пастбище мечты",sheepNamePart4testB:"Ярмарочный день",sheepNamePart5testB:"Новые технологии",sheepNamePart6testB:"Вместе веселее",sheepNamePart7testB:"Долгий путь к славе",sheepNamePart8testB:"Большое стадо",sheepNamePart9testB:"Серьезные суммы",sheepNamePart10testB:"Новые горизонты",sheepNamePart11testB:"Главное - вовремя пить",sheepNamePart12testB:"Овечий магнат",sheepNamePart13testB:"Бескрайние поля",sheepNamePart14testB:"Ярмарочный магнат",sheepNamePart15testB:"Последний рывок",sheepNamePart16testB:"Глаз радуется",sheepNamePart17testB:"Бесстрашный фермер",sheepNamePart18testB:"Бодрые овечки",sheepNamePart19testB:"Густая шерсть",sheepNamePart20testB:"Восторженные покупатели",cowPartAward1testB:"Пройди все задания и открой новые территории и новые улучшения!",cowPartAward2testB:"Пройди все задания и открой Ярмарку 2 уровня и кристалльную пещеру!",cowPartAward3testB:"Пройди все задания и открой Ярмарку 3 уровня!",cowPartAward4testB:"Пройди все задания и открой Ярмарку 4 уровня, переполох и собиратель!",cowPartAward5testB:"Пройди все задания и открой Ярмарку 5 уровня и комбикорм!",cowPartAward6testB:"Пройди все задания и открой новые территории и новые улучшения!",cowPartAward7testB:"Пройди все задания и открой Ярмарку 6 уровня, новые территории и улучшения!",cowPartAward8testB:"Пройди все задания и открой новые территории и новые улучшения!",cowPartAward9testB:"Пройди все задания и открой Ярмарку 7 уровня, новые территории и улучшения!",cowPartAward10testB:"Пройди все задания и открой новые территории и новые улучшения!",cowPartAward11testB:"Пройди все задания и открой Ярмарку 8 уровня, новые территории и улучшения!",cowPartAward12testB:"Пройди все задания и открой новые территории и новые улучшения!",cowPartAward13testB:"Пройди все задания и открой Ярмарку 9 уровня, новые территории и улучшения!",cowPartAward14testB:"Пройди все задания и открой новые территории и новые улучшения!",cowPartAward15testB:"Пройди все задания и открой Ярмарку 10 уровня, новые территории и улучшения!",cowPartAward16testB:"Пройди все задания и открой новые территории и новые улучшения!",cowPartAward17testB:"Пройди все задания и открой Ярмарку 11 уровня, новые территории и улучшения!",cowPartAward18testB:"Пройди все задания и открой новые территории и новые улучшения!",cowPartAward19testB:"Пройди все задания и открой Ярмарку 12 уровня, новые территории и улучшения!",cowPartAward20testB:"Пройди все задания и открой новые территории и новые улучшения!",chickenPartAward1testB:"Пройди все задания и открой новые территории и новые улучшения!",chickenPartAward2testB:"Пройди все задания и открой Ярмарку 2 уровня и кристалльную пещеру!",chickenPartAward3testB:"Пройди все задания и открой Ярмарку 3 уровня!",chickenPartAward4testB:"Пройди все задания и открой Ярмарку 4 уровня, переполох и собиратель!",chickenPartAward5testB:"Пройди все задания и открой Ярмарку 5 уровня и комбикорм!",chickenPartAward6testB:"Пройди все задания и открой новые территории и новые улучшения!",chickenPartAward7testB:"Пройди все задания и открой Ярмарку 6 уровня, новые территории и улучшения!",chickenPartAward8testB:"Пройди все задания и открой новые территории и новые улучшения!",chickenPartAward9testB:"Пройди все задания и открой Ярмарку 7 уровня, новые территории и улучшения!",chickenPartAward10testB:"Пройди все задания и открой новые территории и новые улучшения!",chickenPartAward11testB:"Пройди все задания и открой Ярмарку 8 уровня, новые территории и улучшения!",chickenPartAward12testB:"Пройди все задания и открой новые территории и новые улучшения!",chickenPartAward13testB:"Пройди все задания и открой Ярмарку 9 уровня, новые территории и улучшения!",chickenPartAward14testB:"Пройди все задания и открой новые территории и новые улучшения!",chickenPartAward15testB:"Пройди все задания и открой Ярмарку 10 уровня, новые территории и улучшения!",chickenPartAward16testB:"Пройди все задания и открой новые территории и новые улучшения!",chickenPartAward17testB:"Пройди все задания и открой Ярмарку 11 уровня, новые территории и улучшения!",chickenPartAward18testB:"Пройди все задания и открой новые территории и новые улучшения!",chickenPartAward19testB:"Пройди все задания и открой Ярмарку 12 уровня, новые территории и улучшения!",chickenPartAward20testB:"Пройди все задания и открой новые территории и новые улучшения!",sheepPartAward1testB:"Пройди все задания и открой новые территории и новые улучшения!",sheepPartAward2testB:"Пройди все задания и открой Ярмарку 2 уровня и кристалльную пещеру!",sheepPartAward3testB:"Пройди все задания и открой Ярмарку 3 уровня!",sheepPartAward4testB:"Пройди все задания и открой Ярмарку 4 уровня, переполох и собиратель!",sheepPartAward5testB:"Пройди все задания и открой Ярмарку 5 уровня и комбикорм!",sheepPartAward6testB:"Пройди все задания и открой новые территории и новые улучшения!",sheepPartAward7testB:"Пройди все задания и открой Ярмарку 6 уровня, новые территории и улучшения!",sheepPartAward8testB:"Пройди все задания и открой новые территории и новые улучшения!",sheepPartAward9testB:"Пройди все задания и открой Ярмарку 7 уровня, новые территории и улучшения!",sheepPartAward10testB:"Пройди все задания и открой новые территории и новые улучшения!",sheepPartAward11testB:"Пройди все задания и открой Ярмарку 8 уровня, новые территории и улучшения!",sheepPartAward12testB:"Пройди все задания и открой новые территории и новые улучшения!",sheepPartAward13testB:"Пройди все задания и открой Ярмарку 9 уровня, новые территории и улучшения!",sheepPartAward14testB:"Пройди все задания и открой новые территории и новые улучшения!",sheepPartAward15testB:"Пройди все задания и открой Ярмарку 10 уровня, новые территории и улучшения!",sheepPartAward16testB:"Пройди все задания и открой новые территории и новые улучшения!",sheepPartAward17testB:"Пройди все задания и открой Ярмарку 11 уровня, новые территории и улучшения!",sheepPartAward18testB:"Пройди все задания и открой новые территории и новые улучшения!",sheepPartAward19testB:"Пройди все задания и открой Ярмарку 12 уровня, новые территории и улучшения!",sheepPartAward20testB:"Пройди все задания и открой новые территории и новые улучшения!",cowPartDone1testB:"Ты открыл новые улучшения! Теперь тебе доступна фабрика!",cowPartDone2testB:"Ты открыл пещеру с кристаллическими коровами и новые земли!",cowPartDone3testB:"Ты открыл Ярмарку 3 уровня! Теперь ты можешь выводить новых коров!",cowPartDone4testB:"Ты открыл новые улучшения! Доступен собиратель на 4 часа. Бустер Коровий переполох открыт!",cowPartDone5testB:"Ты открыл новые земли и бустер Комбикорм!",cowPartDone6testB:"Ты открыл новые улучшения и новые территории!",cowPartDone7testB:"Ты открыл Ярмарку 6 уровня и новые улучшения! Доступен собиратель на 12 часов.",cowPartDone8testB:"Ты открыл новые улучшения и новые территории!",cowPartDone9testB:"Ты открыл Ярмарку 7 уровня, новые улучшения и новые территории!",cowPartDone10testB:"Ты открыл новые улучшения и новые территории!",cowPartDone11testB:"Ты открыл Ярмарку 8 уровня, новые улучшения и новые территории!",cowPartDone12testB:"Ты открыл новые улучшения и новые территории!",cowPartDone13testB:"Ты открыл Ярмарку 9 уровня, новые улучшения и новые территории!",cowPartDone14testB:"Ты открыл новые улучшения и новые территории!",cowPartDone15testB:"Ты открыл Ярмарку 10 уровня, новые улучшения и новые территории!",cowPartDone16testB:"Ты открыл новые улучшения и новые территории!",cowPartDone17testB:"Ты открыл Ярмарку 11 уровня, новые улучшения и новые территории!",cowPartDone18testB:"Ты открыл новые улучшения и новые территории!",cowPartDone19testB:"Ты открыл Ярмарку 12 уровня, новые улучшения и новые территории!",cowPartDone20testB:"Ты открыл новые улучшения и новые территории!",chickenPartDone1testB:"Ты открыл новые улучшения!",chickenPartDone2testB:"Ты открыл пещеру с кристаллическими курочками и новые земли!",chickenPartDone3testB:"Ты открыл Ярмарку 3 уровня! Теперь ты можешь выводить новых курочек!",chickenPartDone4testB:"Ты открыл новые улучшения! Доступен собиратель на 4 часа. Бустер Куриный переполох открыт!",chickenPartDone5testB:"Ты открыл новые земли и бустер Комбикорм!",chickenPartDone6testB:"Ты открыл новые улучшения и новые территории!",chickenPartDone7testB:"Ты открыл Ярмарку 6 уровня и новые улучшения! Доступен собиратель на 12 часов.",chickenPartDone8testB:"Ты открыл новые улучшения и новые территории!",chickenPartDone9testB:"Ты открыл Ярмарку 7 уровня, новые улучшения и новые территории!",chickenPartDone10testB:"Ты открыл новые улучшения и новые территории!",chickenPartDone11testB:"Ты открыл Ярмарку 8 уровня, новые улучшения и новые территории!",chickenPartDone12testB:"Ты открыл новые улучшения и новые территории!",chickenPartDone13testB:"Ты открыл Ярмарку 9 уровня, новые улучшения и новые территории!",chickenPartDone14testB:"Ты открыл новые улучшения и новые территории!",chickenPartDone15testB:"Ты открыл Ярмарку 10 уровня, новые улучшения и новые территории!",chickenPartDone16testB:"Ты открыл новые улучшения и новые территории!",chickenPartDone17testB:"Ты открыл Ярмарку 11 уровня, новые улучшения и новые территории!",chickenPartDone18testB:"Ты открыл новые улучшения и новые территории!",chickenPartDone19testB:"Ты открыл Ярмарку 12 уровня, новые улучшения и новые территории!",chickenPartDone20testB:"Ты открыл новые улучшения и новые территории!",sheepPartDone1testB:"Ты открыл новые улучшения!",sheepPartDone2testB:"Ты открыл пещеру с кристаллическими овечками и новые земли!",sheepPartDone3testB:"Ты открыл Ярмарку 3 уровня! Теперь ты можешь выводить новых овечек!",sheepPartDone4testB:"Ты открыл новые улучшения! Доступен собиратель на 4 часа. Бустер Овечий переполох открыт!",sheepPartDone5testB:"Ты открыл новые земли и бустер Комбикорм!",sheepPartDone6testB:"Ты открыл новые улучшения и новые территории!",sheepPartDone7testB:"Ты открыл Ярмарку 6 уровня и новые улучшения! Доступен собиратель на 12 часов.",sheepPartDone8testB:"Ты открыл новые улучшения и новые территории!",sheepPartDone9testB:"Ты открыл Ярмарку 7 уровня, новые улучшения и новые территории!",sheepPartDone10testB:"Ты открыл новые улучшения и новые территории!",sheepPartDone11testB:"Ты открыл Ярмарку 8 уровня, новые улучшения и новые территории!",sheepPartDone12testB:"Ты открыл новые улучшения и новые территории!",sheepPartDone13testB:"Ты открыл Ярмарку 9 уровня, новые улучшения и новые территории!",sheepPartDone14testB:"Ты открыл новые улучшения и новые территории!",sheepPartDone15testB:"Ты открыл Ярмарку 10 уровня, новые улучшения и новые территории!",sheepPartDone16testB:"Ты открыл новые улучшения и новые территории!",sheepPartDone17testB:"Ты открыл Ярмарку 11 уровня, новые улучшения и новые территории!",sheepPartDone18testB:"Ты открыл новые улучшения и новые территории!",sheepPartDone19testB:"Ты открыл Ярмарку 12 уровня, новые улучшения и новые территории!",sheepPartDone20testB:"Ты открыл новые улучшения и новые территории!",confirmImproveCollectorSpeedSheepHeader:"Подстригатель",confirmImproveCollectorSpeedChickenHeader:"Собиратель яиц",confirmImproveCollectorSpeedCowHeader:"Собиратель",confirmImproveCollectorSpeedSheepText:"Хотите улучшить Скорость подстригателя до $1 уровня?",confirmImproveCollectorSpeedChickenText:"Хотите улучшить Скорость собирателя до $1 уровня?",confirmImproveCollectorSpeedCowText:"Хотите улучшить Скорость собирателя до $1 уровня?",taskHelp_5_1:"Дождись установки территории или ускорь ее за кристаллы",taskHelp_5_2_1:"Нет доступных новых территорий, обменяй свою территорию на пастбище",taskHelp_5_3_1:"Нет доступных новых территорий, обменяй свою территорию на поилку",taskHelp_5_5_1:"Нет доступных новых территорий, обменяй свою территорию на хранилище",sellWithoutMultiply:"Продать без утроения",badBalancePasture:"Следующая покупка овечки приведет к нехватки травы. Ваш доход упадет. Хотите купить овечку?",badBalanceWater:"Следующая покупка овечки приведет к нехватки воды. Ваш доход упадет. Хотите купить овечку?",buySheep:"Купить овечку",yan:"YAN",ok:"ОК",sale:"Акция",bonus:"Бонус",notEnoughtWaterAndGrass:"У тебя не хватает ресурсов для такого количества животных. Cледи, чтобы всем твоим животным хватало травы и воды",freeCrystal:"Бесплатный кристалл"},en:{index:"en",loading:"Loading",chicken:"Hen",sheep:"Sheep",cow:"Cow",cowBreed0:"Crystal cow",cowBreed1:"White cow",cowBreed2:"Spotty cow",cowBreed3:"Brown cow",cowBreed4:"Scottish cow",cowBreed5:"Prairie cow",cowBreed6:"Indian cow",cowBreed7:"Farmer cow",cowBreed8:"Northern cow",cowBreed9:"Greek cow",cowBreed10:"February cow",cowBreed11:"Tribal cow",cowBreed12:"Fairy cow",chickenBreed0:"Crystal hen",chickenBreed1:"White hen",chickenBreed2:"Brown hen",chickenBreed3:"Smoky hen",chickenBreed4:"Sapphire hen",chickenBreed5:"Viking hen",chickenBreed6:"Punk hen",chickenBreed7:"Cowboy hen",chickenBreed8:"Elegant hen",chickenBreed9:"Noble hen",chickenBreed10:"Freedom hen",chickenBreed11:"Vampire hen",chickenBreed12:"Royal hen",sheepBreed0:"Crystal",sheepBreed1:"White",sheepBreed2:"Black",sheepBreed3:"Brown",sheepBreed4:"Spiral-horned",sheepBreed5:"Irish",sheepBreed6:"Caucasian",sheepBreed7:"Moon",sheepBreed8:"Glamour",sheepBreed9:"Red",sheepBreed10:"Winged",sheepBreed11:"Swedish",sheepBreed12:"Magic",buyTerritory:"Buy the territory",boughtLand:"Purchased land",pasture:"Pasture $1 level",water:"Waterer $1 level",fair:"Fair $1 level",mergingMessageBreed:"Can't upgrade different breeds!",mergingMessageBreedMax:"Can't upgrade a maxed out breed!",needImproveFair:"Fair upgrade needed!",improveCowFair:"Upgrade your Fair to trade cows of a higher rank",improveChickenFair:"Upgrade your Fair to trade hens of a higher rank",improveSheepFair:"Upgrade your Fair to trade sheep of a higher rank",maxFairLevel:"You've reached the max Fair level!",improveFair:"Upgrade to $1 level",shortPart:"Ch.",improveToLevel:"Upgrade to $1 level",exchangeWater:"Swap for a Waterer",exchangeGrass:"Swap for a Pasture",installWater:"Place a Waterer",sowPasture:"Plant a Pasture",message:"Message",maxCowCount:"Maximum number of cows reached!",maxChickenCount:"Maximum number of hens reached!",maxSheepCount:"Maximum number of sheep reached!",maxEventCount:"No empty slots left!",exchange:"Trade",cancel:"Cancel",surcharge:"Pay more",notEnoughForYou:"You need:",buy:"Buy",exchangeTerritory:"Swap the territory",sureExchange:"Do you really want to change the territory? The new territory will be 1 level!",part:"Chapter",buildRepository:"Build a Storage",buildFactory:"Build a Factory",repository:"Storage $1 level",factory:"Factory $1 level",milkWillBeSold:"All milk in the Storage will be sold!",eggsWillBeSold:"All eggs in the Storage will be sold!",woolWillBeSold:"All wool in the Storage will be sold!",exchangeRepository:"Swap for Storage",repCloseToFair:"You can't place Storage near the Fair exit!",sellMilk:"Sell milk",sellEggs:"Sell eggs",sellWool:"Sell wool",countMilk:"Liters of milk",countEggs:"Number of eggs",countWool:"Kg of wool",shortWheek:"w",shortDays:"d",shortHours:"h",shortMinutes:"m",minutes:"min",seconds:"sec",ruble:"rub",voices:"vts",free:"free",milkPrice:"Milk:",eggPrice:"Egg cost:",woolPrice:"Wool cost:",price:"Cost:",milkCollector:"Collector",eggCollector:"Egg Collector",woolCollector:"Trimmer",resourceCollector:"Rainbow Collector",take:"Take",cowProfileName:"Stockbreeder",chickenProfileName:"Poultryman",sheepProfileName:"Sheepman",unicornProfileName:"Unicorn friend",cowNamePart1:"First steps",cowNamePart2:"Fair",cowNamePart3:"Dream cowshed",cowNamePart4:"Fair day",cowNamePart5:"New technologies",cowNamePart6:"Happy together",cowNamePart7:"Long way to fame",cowNamePart8:"More cows",cowNamePart9:"Serious sums",cowNamePart10:"New horizons",cowNamePart11:"Remember to drink",cowNamePart12:"Cow tycoon",cowNamePart13:"Endless fields",cowNamePart14:"Fair tycoon",cowNamePart15:"The final push",cowNamePart16:"Eye candy",chickenNamePart1:"First steps",chickenNamePart2:"Fair",chickenNamePart3:"Dream henhouse",chickenNamePart4:"Fair day",chickenNamePart5:"New technologies",chickenNamePart6:"Happy together",chickenNamePart7:"Long way to fame",chickenNamePart8:"More hens",chickenNamePart9:"Serious sums",chickenNamePart10:"New horizons",chickenNamePart11:"Remember to drink",chickenNamePart12:"Hen tycoon",chickenNamePart13:"Endless fields",chickenNamePart14:"Fair tycoon",chickenNamePart15:"The final push",chickenNamePart16:"Eye candy",sheepNamePart1:"First steps",sheepNamePart2:"Fair",sheepNamePart3:"Dream Pasture",sheepNamePart4:"Fair day",sheepNamePart5:"New technologies",sheepNamePart6:"Happy together",sheepNamePart7:"Long way to fame",sheepNamePart8:"Big herd",sheepNamePart9:"Serious sums",sheepNamePart10:"New horizons",sheepNamePart11:"Remember to drink",sheepNamePart12:"Sheep tycoon",sheepNamePart13:"Endless fields",sheepNamePart14:"Fair tycoon",sheepNamePart15:"The final push",sheepNamePart16:"Eye candy",cowPartAward1:"Complete all tasks for level 2 Fair!",cowPartAward2:"Complete all tasks for the Magic Cave and new lands!",cowPartAward3:"Complete all tasks for level 3 Fair!",cowPartAward4:"Complete all tasks for level 3 Pasture and Waterer!",cowPartAward5:"Complete all tasks for an upgraded Milk Collector!",cowPartAward6:"Complete all tasks for level 4 Fair!",cowPartAward7:"Complete all tasks for level 4 Pasture and Waterer!",cowPartAward8:"Complete all tasks for level 5 Fair and an upgraded Milk Collector!",cowPartAward9:"Complete all tasks for level 6 Fair!",cowPartAward10:"Complete all tasks for level 7 Fair!",cowPartAward11:"Complete all tasks for level 8 Fair!",cowPartAward12:"Complete all tasks for level 9 Fair!",cowPartAward13:"Complete all tasks for level 10 Fair!",cowPartAward14:"Complete all tasks for level 11 Fair!",cowPartAward15:"Complete all tasks for level 12 Fair!",cowPartAward16:"Complete all tasks for the maximum number of fields!",chickenPartAward1:"Complete all tasks for level 2 Fair!",chickenPartAward2:"Complete all tasks for the Magic Cave and new lands!",chickenPartAward3:"Complete all tasks for level 3 Fair!",chickenPartAward4:"Complete all tasks for level 3 Pasture and Waterer!",chickenPartAward5:"Complete all tasks for an upgraded Eggs Collector!",chickenPartAward6:"Complete all tasks for level 4 Fair!",chickenPartAward7:"Complete all tasks for level 4 Pasture and Waterer!",chickenPartAward8:"Complete all tasks for level 5 Fair and an upgraded Eggs Collector!",chickenPartAward9:"Complete all tasks for level 6 Fair!",chickenPartAward10:"Complete all tasks for level 7 Fair!",chickenPartAward11:"Complete all tasks for level 8 Fair!",chickenPartAward12:"Complete all tasks for level 9 Fair!",chickenPartAward13:"Complete all tasks for level 10 Fair!",chickenPartAward14:"Complete all tasks for level 11 Fair!",chickenPartAward15:"Complete all tasks for level 12 Fair!",chickenPartAward16:"Complete all tasks for the maximum number of fields!",sheepPartAward1:"Complete all tasks for level 2 Fair!",sheepPartAward2:"Complete all tasks for the Magic Cave and new lands!",sheepPartAward3:"Complete all tasks for level 3 Fair!",sheepPartAward4:"Complete all tasks for level 3 Pasture and Waterer!",sheepPartAward5:"Complete all tasks for the Autotrimmer upgrade!",sheepPartAward6:"Complete all tasks for level 4 Fair!",sheepPartAward7:"Complete all tasks for level 4 Pasture and Waterer!",sheepPartAward8:"Complete all tasks for level 5 Fair and the Autotrimmer upgrade",sheepPartAward9:"Complete all tasks for level 6 Fair!",sheepPartAward10:"Complete all tasks for level 7 Fair!",sheepPartAward11:"Complete all tasks for level 8 Fair!",sheepPartAward12:"Complete all tasks for level 9 Fair!",sheepPartAward13:"Complete all tasks for level 10 Fair!",sheepPartAward14:"Complete all tasks for level 11 Fair!",sheepPartAward15:"Complete all tasks for level 12 Fair!",sheepPartAward16:"Complete all tasks for the maximum number of fields!",cowPartDone1:"You unlocked new upgrades! Factory is now available!",cowPartDone2:"You unlocked a cave with Magic Cows and new lands!",cowPartDone3:"You unlocked level 3 Fair! Now you can breed new cows!",cowPartDone4:"You unlocked new upgrades! Collector is available for 4 hours. Cow Ruckus booster unlocked!",cowPartDone5:"You unlocked new lands and Feed Mix booster!",cowPartDone6:"You unlocked level 4 Fair and new upgrades! Breed new cows!",cowPartDone7:"You unlocked new upgrades! Collector is available for 12 hours.",cowPartDone8:"You unlocked level 5 Fair and new upgrades!",cowPartDone9:"You unlocked level 6 Fair and new upgrades!",cowPartDone10:"You unlocked level 7 Fair and new upgrades!",cowPartDone11:"You unlocked level 8 Fair and new upgrades!",cowPartDone12:"You unlocked level 9 Fair and new upgrades!",cowPartDone13:"You unlocked level 10 Fair and new upgrades!",cowPartDone14:"You unlocked level 11 Fair and new upgrades!",cowPartDone15:"You developed the best cow breed and unlocked all lands! It’s the final push!",cowPartDone16:"",chickenPartDone1:"You unlocked level 2 Fair, Pasture and Waterer! Now you can breed new hens!",chickenPartDone2:"You unlocked a cave with Magic Hens and new lands!",chickenPartDone3:"You unlocked level 3 Fair! Now you can breed new hens!",chickenPartDone4:"You unlocked level 3 Pasture and Waterer! Chicken Ruckus booster unlocked!",chickenPartDone5:"You unlocked new lands and Feed Mix booster!",chickenPartDone6:"You unlocked level 4 Fair! Now you can breed new hens!",chickenPartDone7:"You unlocked level 4 Pasture and Waterer! Now you can breed new hens!",chickenPartDone8:"You unlocked level 5 Fair!",chickenPartDone9:"You unlocked level 6 Fair! Now you can breed new hens!",chickenPartDone10:"You unlocked level 7 Fair! Now you can breed new hens!",chickenPartDone11:"You unlocked level 8 Fair! Now you can breed new hens!",chickenPartDone12:"You unlocked level 9 Fair! Now you can breed new hens!",chickenPartDone13:"You unlocked level 10 Fair! Now you can breed new hens!",chickenPartDone14:"You unlocked level 11 Fair! Now you can breed new hens!",chickenPartDone15:"You unlocked level 12 Fair! Now you can breed new hens!",chickenPartDone16:"You developed the best hen breed and unlocked all lands! Congratulations!",sheepPartDone1:"You unlocked level 2 Fair, Pasture and Waterer! Now you can breed new sheep!",sheepPartDone2:"You unlocked a cave with Magic Sheep and new lands!",sheepPartDone3:"You unlocked level 3 Fair!",sheepPartDone4:"You unlocked level 3 Pasture and Waterer! Sheep Ruckus booster unlocked!",sheepPartDone5:"You unlocked new lands and Feed Mix booster!",sheepPartDone6:"You unlocked level 4 Fair! Now you can breed new sheep!",sheepPartDone7:"You unlocked level 4 Pasture and Waterer!",sheepPartDone8:"You unlocked level 5 Fair!",sheepPartDone9:"You unlocked level 6 Fair! Now you can breed new sheep!",sheepPartDone10:"You unlocked level 7 Fair! Now you can breed new sheep!",sheepPartDone11:"You unlocked level 8 Fair! Now you can breed new sheep!",sheepPartDone12:"You unlocked level 9 Fair! Now you can breed new sheep!",sheepPartDone13:"You unlocked level 10 Fair!",sheepPartDone14:"You unlocked level 11 Fair! Now you can breed new sheep!",sheepPartDone15:"You unlocked level 12 Fair! Now you can breed new sheep!",sheepPartDone16:"You developed the best sheep breed and unlocked all lands! Congratulations!",partDone:"Complete!",yourAward:"Your reward",taskReward:"REWARD",nextPart:"Next chapter",donePart:"Finish chapter",sheepCompanyDone:"You completed the sheep campaign!",chickenCompanyDone:"You completed the hen campaign!",cowCompanyDone:"You completed the cow campaign!",pickUp:"Take",performed:"Done",cowCaveMessage:"Crystal cow will be available after the indicated time",chickenCaveMessage:"Crystal hen will be available after the indicated time",sheepCaveMessage:"Crystal sheep will be available after the indicated time",mergingDiamondCow:"You can't upgrade crystal cow",mergingDiamondChicken:"You can't upgrade crystal hen",mergingDiamondSheep:"You can't upgrade crystal sheep",expel:"Expel",milkSpeed:"Milk production speed:",eggSpeed:"Egg production speed:",woolSpeed:"Wool production speed:",diamondSpeed:"Crystal appearance:",expelCow:"Expel cow",expelChicken:"Expel hen",expelSheep:"Expel sheep",expelUnicorn:"Expel unicorn",confirmExpelCow:"Are you sure you want to expel this cow?",confirmExpelChicken:"Are you sure you want to expel this hen?",confirmExpelSheep:"Are you sure you want to expel this sheep?",confirmExpelUnicorn:"Are you sure you want to expel this unicorn?",confirmBuyCooldownForest:"Speed up logging?",speedUpForest:"Speed up logging",confirmBuyCooldownBuild:"Speed up building?",speedUpBuild:"Speed up building",farmSheep:"Sheep farm",farmChicken:"Hen farm",farmCow:"Cow farm",cutWool:"Trim wool",collectDiamond:"Collect crystal",haveNotSpaceRepository:"No free space in Storage! Upgrade your Storage or buy a new one.",wrongLoginPass:"Wrong login or password",enter:"Sign in",authorize:"Authorize first",agreement:"Terms & contacts",enterTo:"Log in",yourAccaunt:"to your account if you already played before",play:"Play",welcomeToFarm:"Welcome to the farm",unknownError:"An unknown error occured :(",reload:"Reload",saving:"Save",loginSixSymbols:"Login (6 characters min)",passSixSymbols:"Password (6 characters min)",login:"Login",password:"Password",save:"Save",profileExit:"Log out",haveAccaunt:"This login is already taken",validLoginPass:"Enter login and password that will contain no less than 6 characters and consist of only Latin characters or numbers",validNickname:"Enter a username that will contain no less than 6 characters and consist of only Latin characters or numbers",profile:"Player profile",changeNick:"Change name",support:"Support",enterNickname:"Enter new username",changeNickname:"Change username",nickname:"Username",help:"Help",needHelp:"Need help with the game? Leave your message here and we'll answer ASAP",yourMail:"Your email",enterYourEmail:"Enter email",sendEmail:"Add email",emailError:"Incorrect email",yourMessage:"Your message",messageError:"Enter message",send:"Send",yourMessageIsSent:"Your message has been sent! Our tech support will answer you by email shortly.",chat:"Chat",tutorialFail:"What was I saying...",sheepTutorial_0:"Welcome to the farm! You'll be breeding sheep.",sheepTutorial_10:"You have some money. Let's buy your first sheep.",sheepTutorial_20:"Sheep eat grass, click the ground to plant a Pasture.",sheepTutorial_30:"Sheep need water, too. Place a Waterer.",sheepTutorial_40:"The sheep is happy! You'll be able to collect wool soon. Try it!",sheepTutorial_50:"Wool brings you money. Buy a second sheep.",sheepTutorial_60:"Look, a task is completed! Get your reward",sheepTutorial_70:"Drag two sheep to the Fair and see what happens!",sheepTutorial_75:"This sheep is more thoroughbred, and its wool costs more.",sheepTutorial_80:"Place Wool Storage on this land!",sheepTutorial_90:"Perfect! To collect the wool automatically, start the Trimmer!",sheepTutorial_100:"I’ve got to run, you can take it from here! Breed new sheep and don't forget about the tasks.",cowTutorial_0:"Welcome to the cow farm! Cows require some patience, so stick around",cowTutorial_10:"Factory can produce dairy products that are more valuable, but you still need milk for the production!",cowTutorial_20:"Here you can see how much milk should be in Storage to start production!",cowTutorial_30:"Luckily, we have just enough milk!",cowTutorial_40:"Diary Factory is a useful thing! Good luck!",addTutorialBalance:"Not enough resources! Your income dropped. Make sure you always have enough grass and water for the sheep.",addTutorialCave1:"Now you have access to the Magic Cave. Click it to see what happens.",addTutorialCave2:"This is a unique sheep that grows crystals. Collect them by hand so they don't get damaged!",addTutorialCave3:"You've collected all crystals from this sheep. Watch the cave time to get it again.",addTutorialCollector:"Remember to start the Trimmer to fill the Storage with wool",addTutorialHerdBoost1:"Check the store, there's something new.",addTutorialHerdBoost2:"Try to catch all the sheep!",addTutorialFeedBoost1:"Check the store, there's something new.",addTutorialFeedBoost2:"Feed your sheep with Feed Mix and their wool will be twice as expensive!",chickenTutorial_0:"Congratulations on buying a hen farm! What comes next?",skipTutorial:"Skip tutorial",day:"Day",dailyAwards:"Daily rewards",dailyDescr:"Visit every day to get new rewards!",diamonds:"crystals",okPayDescr:"Crystals can get you useful things in-game",stopSession:"Game session was closed!",taskName:"Go I know not whither. Fetch I know not what...",taskName_1:"Buy $1 sheep",taskName_2:"Trade sheep at the Fair",taskName_3:"Start the Autotrimmer",taskName_4:"Trade sheep at the Fair and get a gray sheep",taskName_5:"Buy a forest plot and plant a Pasture",taskName_6:"Buy $1 white sheep",taskName_7:"Save 5000 coins to upgrade Fair",taskName_8:"Upgrade the Pasture to $2 level",taskName_9:"Upgrade the Waterer to $2 level",taskName_10:"Get $1 brown sheep by trading on the Fair",taskName_11:"Upgrade the Fair to $2 level",taskName_12:"Get $1 spiral-horned sheep",taskName_13:"Get one more new land",taskName_14:"Save your progress",taskName_15:"Upgrade the Pasture to $2 level",taskName_16:"Upgrade the Waterer to $2 level",taskName_17:"Trade sheep at the Fair $1 times",taskName_18:"Collect wool by hand $1 time",taskName_19:"Run Autotrimmer for 30 min in total",taskName_20:"Trade sheep at the Fair $1 times",taskName_21:"Save $1 coins",taskName_22:"Join a collective farm or create one",taskName_23:"Upgrade the Fair to $2 level",taskName_24:"Get one more new land",taskName_25:"Get $1 Irish sheep ($2 level)",taskName_26:"Check your rating",taskName_27:"Upgrade $1 Pastures to $2 level",taskName_28:"Upgrade the Waterer to $2 level",taskName_29:"Start a Ruckus $1 times",taskName_30:"Let $1 sheep in the field",taskName_31:"Upgrade the Fair to $2 level",taskName_32:"Get $1 Caucasian sheep ($2 level)",taskName_33:"Run Autotrimmer for 60 min in total",taskName_34:"Upgrade the Trimmer to $1 level",taskName_35:"Upgrade the Fair to $2 level",taskName_36:"Get one more territory",taskName_37:"Get $1 moon sheep ($2 level)",taskName_38:"Upgrade $1 Pastures to $2 level",taskName_39:"Upgrade the Fair to $2 level",taskName_40:"Get $1 glamour sheep ($2 level)",taskName_41:"Feed sheep with Feed Mix for $1 hours",taskName_42:"Upgrade $1 Waterers to $2 level",taskName_43:"Upgrade the Fair to $2 level",taskName_44:"Get $1 red sheep ($2 level)",taskName_45:"Start a Ruckus $1 times",taskName_46:"Let $1 sheep in the field together",taskName_47:"Upgrade the Fair to $2 level",taskName_48:"Get $1 winged sheep ($2 level)",taskName_49:"Upgrade the Trimmer to $1 level",taskName_50:"Get $1 more territory",taskName_51:"Upgrade the Fair to $2 level",taskName_52:"Get $1 Swedish sheep ($2 level)",taskName_53:"Trade sheep at the Fair $1 times",taskName_54:"Start a Ruckus $1 times",taskName_55:"Upgrade the Fair to $2 level",taskName_56:"Get $1 Magic Sheep ($2 level)",taskName_57:"Upgrade $1 Pastures to $2 level",taskName_58:"Upgrade $1 Waterers to $2 level",taskName_59:"Upgrade the Fair to $2 level",taskName_60:"Get $1 more Magic Sheep ($2 level)",taskName_61:"Let one sheep of each breed into the field",taskName_62:"Save $1 coins",taskName_63:"Start a Sheep Ruckus",taskName_64:"Buy $1 hens",taskName_65:"Trade hens at the Fair $1 times",taskName_66:"Turn on Egg Collector",taskName_67:"Place a Storage",taskName_68:"Get $1 hens ($2 level)",taskName_69:"Buy a forest plot and plant a Pasture",taskName_70:"Save $1 coins",taskName_71:"Upgrade the Fair",taskName_72:"Upgrade the Pasture to $2 level",taskName_73:"Upgrade the Waterer to $2 level",taskName_74:"Get $1 hens ($2 level)",taskName_75:"Upgrade the Storage to $2 level",taskName_76:"Upgrade the Fair to $2 level",taskName_77:"Get $1 hens ($2 level)",taskName_78:"Plant $1 Pasture",taskName_79:"Upgrade the Collector to $1 level",taskName_80:"Collect eggs by hand $1 time",taskName_81:"Upgrade the Pasture to $2 level",taskName_82:"Upgrade the Waterer to $2 level",taskName_83:"Trade hens at the Fair $1 times",taskName_84:"Turn on Egg Collector for 3 hours in total",taskName_85:"Start Chicken Ruckus $1 time(s)",taskName_86:"Feed hens with Feed Mix",taskName_87:"Upgrade the Storage to $2 level",taskName_88:"Upgrade the Fair to $2 level",taskName_89:"Get one more territory",taskName_90:"Get $1 hens ($2 level)",taskName_91:"Upgrade the Collector to $1 level",taskName_92:"Upgrade the Pasture to $2 level",taskName_93:"Upgrade the Waterer to $2 level",taskName_94:"Feed hens with Feed Mix for $1 hours",taskName_95:"Let $1 hens in the field together",taskName_96:"Upgrade the Fair to $2 level",taskName_97:"Get $1 hens ($2 level)",taskName_98:"Turn on Egg Collector for 8 hours in total",taskName_99:"Upgrade the Collector to $1 level",taskName_100:"Upgrade the Fair to $2 level",taskName_101:"Get one more new land",taskName_102:"Get $1 hens ($2 level)",taskName_103:"Upgrade $1 Pastures to $2 level",taskName_104:"Upgrade the Fair to $2 level",taskName_105:"Get $1 hens ($2 level)",taskName_106:"Catch $1 hens using Chicken Ruckus",taskName_107:"Upgrade $1 Waterers to $2 level",taskName_108:"Upgrade the Fair to $2 level",taskName_109:"Get $1 hens ($2 level)",taskName_110:"Trade hens at the Fair $1 times",taskName_111:"Let $1 hens in the field together",taskName_112:"Upgrade the Fair to $2 level",taskName_113:"Get $1 hens ($2 level)",taskName_114:"Upgrade the Collector to $1 level",taskName_115:"Buy two new lands",taskName_116:"Upgrade the Fair to $2 level",taskName_117:"Get $1 hens ($2 level)",taskName_118:"Trade hens at the Fair $1 times",taskName_119:"Spend $1 crystals",taskName_120:"Upgrade the Fair to $2 level",taskName_121:"Get $1 hens ($2 level)",taskName_122:"Upgrade $1 Pastures to $2 level",taskName_123:"Upgrade $1 Waterers to $2 level",taskName_124:"Get $1 hens ($2 level)",taskName_125:"Let one hen of each breed into the field",taskName_126:"Save $1 coins",taskName_127:"Go to the Storage and sell wool",taskName_128:"Upgrade the Trimmer to $1 level",taskName_129:"Feed sheep with Feed Mix",taskName_130:"Upgrade the Trimmer to $1 level",taskName_131:"Buy $1 cows",taskName_132:"Trade cows on the Fair $1 times",taskName_133:"Turn on Milk Collector",taskName_134:"Build a Storage for milk",taskName_135:"Upgrade the Collector to $1 level",taskName_136:"Upgrade the Fair to $2 level",taskName_137:"Build a Factory to process milk",taskName_138:"Get $1 liters of milk",taskName_139:"Upgrade the Pasture to $2 level",taskName_140:"Upgrade the Factory to $2 level",taskName_141:"Upgrade the Waterer to $2 level",taskName_142:"Get $1 cows ($2 level)",taskName_143:"Upgrade the Collector to $1 level",taskName_144:"Upgrade the Fair to $2 level",taskName_145:"Upgrade the Factory to $2 level",taskName_146:"Get $1 cows ($2 level)",taskName_147:"Run Milk Collector for 3 hours in total",taskName_148:"Upgrade the Pasture to $2 level",taskName_149:"Upgrade the Waterer to $2 level",taskName_150:"Take a crystal cow",taskName_151:"Upgrade the Milk Collector to $1 level",taskName_152:"Spend $1 crystals",taskName_153:"Feed cows with Feed Mix",taskName_154:"Collect milk by hand $1 times",taskName_155:"Upgrade the Collector to $1 level",taskName_156:"Upgrade the Factory to $2 level",taskName_157:"Upgrade the Fair to $2 level",taskName_158:"Get $1 cows ($2 level)",taskName_159:"Upgrade the Field to $2 level",taskName_160:"Upgrade the Waterer to $2 level",taskName_161:"Sell Factory products $1 time(s)",taskName_162:"Catch $1 cows using Cow Ruckus",taskName_163:"Upgrade the Collector to $1 level",taskName_164:"Upgrade the Factory to $2 level",taskName_165:"Upgrade the Fair to $2 level",taskName_166:"Get $1 cows ($2 level)",taskName_167:"Upgrade the Fair to $2 level",taskName_168:"Collect $1 crystal off a crystal cow",taskName_169:"Upgrade the Factory to $2 level",taskName_170:"Get $1 cows ($2 level)",taskName_171:"Upgrade the Collector to $1 level",taskName_172:"Upgrade the Fair to $2 level",taskName_173:"Upgrade the Factory to $2 level",taskName_174:"Get $1 cows ($2 level)",taskName_175:"Upgrade the Collector to $1 level",taskName_176:"Upgrade the Factory to $2 level",taskName_177:"Upgrade the Fair to $2 level",taskName_178:"Get $1 cows ($2 level)",taskName_179:"Upgrade the Collector to $1 level",taskName_180:"Upgrade the Factory to $2 level",taskName_181:"Upgrade the Fair to $2 level",taskName_182:"Get $1 cows ($2 level)",taskName_183:"Upgrade the Collector to $1 level",taskName_184:"Upgrade the Fair to $2 level",taskName_185:"Upgrade the Factory to $2 level",taskName_186:"Get $1 cows ($2 level)",taskName_187:"Upgrade the Fair to $2 level",taskName_188:"Upgrade $1 Waterers to $2 level",taskName_189:"Upgrade $1 Pastures to $2 level",taskName_190:"Get $1 cows ($2 level)",taskName_191:"Upgrade the Factory to $2 level",taskName_192:"Let out one cow of every breed into the field",taskName_193:"Upgrade the Collector to $1 level",taskName_194:"Get $1 more cows ($2 level)",taskName_195:"Start Chicken Ruckus $1 time(s)",next:"Next",rememberSellWool:"Don't forget to sell the wool from Storage! You can also trade your crystals for coins",rememberSellEggs:"Don't forget to sell eggs from Storage! You can also trade your crystals for coins",rememberSellMilk:"Don't forget to sell the milk from Storage! You can also trade your crystals for coins",rememberSellRainbow:"Remember to let the unicorns in the field! You can also trade crystals for rainbow",openFarm:"Available after chapter $1",newbieTimer:"$1 days $2 hours left",close:"Close",addCoins:"Add more coins",summonSheep:"Call on a sheep",summonChicken:"Call on a hen",summonCow:"Call on a cow",summonTime:"Time left until a free call:",wantAdSummon:"Get a free call for watching an ad",summon:"Call on",excellent:"Great",crystalsCredited:"Crystals added.",enjoy:"Have fun!",shortLevel:"lvl",still:"Left",improve:"Upgrade",speed:"Speed",power:"Power",duration:"Duration",herdBoostStartTimoutSheep_1:"Sheep flock won't stay for long!",herdBoostStartTimoutSheep_2:"Get identical sheep to the Fair in time!",herdBoostTimerSheep_1:"Sheep leaving in",herdBoostTimerSheep_2:"Get pairs to the Fair",herdBoostStartTimoutChicken_1:"Birds won't stay for long!",herdBoostStartTimoutChicken_2:"Get identical birds to the Fair in time!",herdBoostStartTimoutCow_1:"Cows won't stay for long!",herdBoostStartTimoutCow_2:"Get identical cows to the Fair in time!",herdBoostStartTimoutUnicorn_1:"The unicorn herd won't stay for long!",herdBoostStartTimoutUnicorn_2:"Get identical unicorns to the Fair in time!",herdBoostTimerUnicorn_1:"Unicorns leaving in",herdBoostTimerUnicorn_2:"Get pairs to the Fair",herdBoostTimerChicken_1:"Birds leaving in",herdBoostTimerChicken_2:"Get pairs to the Fair",herdBoostTimerCow_1:"Cows leaving in",herdBoostTimerCow_2:"Get pairs to the Fair",herdBoostScoreSheep:"Sheep caught:",herdBoostScoreChicken:"Birds caught:",herdBoostScoreCow:"Cows caught:",herdBoostScoreUnicorn:"Unicorns caught:",herdBoostNext:"Click to continue",stillForBoost:"Left until free:",herdBoostTitleSheep:"Sheep Ruckus",herdBoostTitleChicken:"Chicken Ruckus",herdBoostTitleCow:"Cow Ruckus",herdBoostTitleUnicorn:"Unicorn Ruckus",herdBoostBadMerge:"Oops!",feedBoostCounterText:"Feed Mix will last for:",factoryBoostCounterText:"Enough cocoa left for:",exchangeRepositoryBtn:"Swap the Storage for ...",exchangeRepositoryTitle:"You can swap the level $1 Storage for another building",feedBoostTitle:"Feed Mix",feedBoostSubtitleSheep:"Doubles wool price",feedBoostSubtitleChicken:"Doubles eggs price",feedBoostSubtitleCow:"Doubles amount of milk",feedBoostSubtitleUnicorn:"Doubles rainbow price",feedBoostSpeechBubbleSheep:"Feed sheep with Feed Mix and their wool will cost twice as much!",feedBoostSpeechBubbleChicken:"Feed hens with Feed Mix and their eggs will cost twice as much!",feedBoostSpeechBubbleCow:"Feed cows with Feed Mix and they will give you twice as much milk!",benefit:"Profit",helpGeneral_1:"Every farm is unique. Don't get bored!",helpGeneral_2:"Neighbors say that wonderful events happen here sometimes, but they are time limited",helpGeneral_3:"You get one Ruckus for free every day",helpGeneral_4:"Watch the news and take part in the official group's contests!",helpGeneral_5:"Don't forget your manners in the chat!",helpGeneral_6:"The game is evolving. New farms coming soon!",helpGeneral_7:"You can ask your questions in the official group!",helpGeneral_8:"Have some ideas about the game? Share them at the official group!",helpGeneral_9:"Remember about your daily presents?",helpGeneral_10:"Good to see you!",helpGeneral_11:"Every farm has its own coins",helpGeneral_12:"Look at the map and check your possessions!",helpGeneral_13:"Complete the tasks and unlock new opportunities in every chapter!",helpSheep_1:"Remember to sell the wool from Storage",helpSheep_2:"Wool price depends on the breed",helpSheep_3:"Crystal sheep available every 4 hours",helpSheep_4:"You can merge identical sheep right in the field",helpSheep_5:"The Trimmer works even when you're offline!",helpSheep_6:"Upgrade the Trimmer and it will work longer!",helpSheep_7:"Want more coins? Use the Feed Mix! It makes your sheep's wool cost double!",helpChicken_1:"Remember to sell eggs from Storage",helpChicken_2:"Crystal hens available every 4 hours",helpChicken_3:"You can merge identical hens right in the field",helpChicken_4:"Max level of a hen - 12. Its eggs cost a fortune!",helpChicken_5:"The Egg Collector works even when you're offline!",helpChicken_6:"Upgrade the Eggs Autocollector and it will work longer!",helpChicken_7:"Want more coins? Use the Feed Mix! It makes your hens' eggs cost double!",helpCow_1:"Remember to sell the milk from Storage",helpCow_2:"Crystal cows available every 4 hours",helpCow_3:"You can merge identical cows right in the field",helpCow_4:"Max level of a cow - 12. Its milk cost a fortune!",helpCow_5:"The Milk Collector works even when you're offline!",helpCow_6:"Upgrade the Milk Autocollector and it will work longer!",helpCow_7:"Want more coins? Use the Feed Mix! It makes your cows' milk cost double!",helpEvent_1:"Unicorn Island is available for a short time. It’s a special place!",helpEvent_2:"Unicorns bring you profit only on the common ground",helpEvent_3:"Every unicorn needs a personal clearing while on the common ground",helpEvent_4:"Merge identical unicorns and up their level. There's no Fair here!",feedBoostMax:"Maximum amount of boost time reached.",factoryBoostMaxTime:"Maximum amount of boost time reached.",feedBoostNotification:"Feed Mix will last for:",factoryBoostNotification:"Enough cocoa for:",hour:"hour",hours:"hours",goExchanger:"Visit exchanger",eventBreed1:"pinky",eventBreed2:"daisy",eventBreed3:"moon",eventBreed4:"sugary",eventBreed5:"caramel",eventBreed6:"shiny",eventBreed7:"clever",eventBreed8:"chocolate",eventBreed9:"dicey",eventBreed10:"starry",eventBreed11:"magic",eventBreed12:"free",eventBreed13:"winter",eventBreed14:"pink",eventBreed15:"green",eventBreed16:"red",eventBreed17:"cold",eventBreed18:"violet",eventBreed19:"Jurassic",eventBreed20:"wild",eventBreed21:"yellow",eventBreed22:"cute",eventBreed23:"blue",eventBreed24:"lemony",eventBreed25:"kind",eventBreed26:"African",eventBreed27:"cocky",eventBreed28:"sly",eventBreed29:"leopard",eventBreed30:"cunning",eventBreed31:"lovely",eventBreed32:"french",eventBreed33:"plush",eventBreed34:"Latin",eventBreed35:"nimble",eventBreed36:"pioneer",eventBreed37:"success",eventBreed38:"sad",eventBreed39:"rock",eventBreed40:"fairy",eventBreed41:"careful",eventBreed42:"noble",eventBreed43:"magic",eventBreed44:"secret",eventBreed45:"Russian",eventBreed46:"pirate",eventBreed47:"eastern",eventBreed48:"chosen",eventBreed49:"police",eventBreed50:"risky",eventBreed51:"vulgar",eventBreed52:"brave",eventBreed53:"tropical",eventBreed54:"glimmery",eventBreed55:"fancy",eventBreed56:"Egyptian",eventBreed57:"delicate",eventBreed58:"sea",eventBreed59:"spooky",eventBreed60:"rocker",eventBreed61:"cowboy",eventBreed62:"honey",eventBreed63:"summer",eventBreed64:"fighty",eventBreed65:"Japanese",eventBreed66:"sparkly",eventBreed67:"fiery",eventBreed68:"romantic",eventBreed69:"native",eventBreed70:"cosmic",eventBreed71:"talented",eventBreed72:"farmer",eventBreed73:"Easter",eventBreed74:"Hawaian",eventBreed75:"hussar",eventBreed76:"heroic",eventBreed77:"Indian",eventBreed78:"captain",eventBreed79:"rainbow",eventBreed80:"gingerbread",eventBreed81:"musical",eventBreed82:"sleepy",eventBreed83:"pearly",eventBreed84:"brutal",eventBreed85:"moon",eventBreed86:"valiant",eventBreed87:"festive",eventBreed88:"myth",eventBreed89:"captain",eventBreed90:"witchy",eventBreed91:"forest",eventBreed92:"spunky",eventBreed93:"undersea",eventBreed94:"cunning",eventBreed95:"royal",eventBreed96:"regiment",eventBreed97:"Disney",eventBreed98:"Celtic",eventBreed99:"Abrahamic",eventBreed100:"Tibetan",resourcePrice:"Profit/sec:",offlineTime:"You've been offline",offlineCollectorTime:"Rainbow Collector worked",doubleProfit:"Double your profit?",eventScores:"points",eventPlace:"space",eventLastTime:"Event ends in:",lastTime:"ends in",eventStart:"Event starts in",unicornField:"unicorn clearing",eventRules:"Terms",eventPrice:"Prizes",eventRating:"Rating","eventRulesTеxt":"Produce new unicorn breeds and up your rating","eventRulesTеxt2":"First 3 players will get a special UNICORN FRIEND title and a huge reward, the rest - consolation prizes!",eventRulesLeft:"Event ends in",eventRulesAfter:"Event closed! Congratulations to the winners!",eventEndText:"Event closed!",eventTutorial_10:"This is a special farm where you will breed unicorns",eventTutorial_20:"Unicorns leave in",eventTutorial_30:"Buy two unicorns",eventTutorial_40:"Each unicorn takes up one clearing. Merge them!",eventTutorial_50:"Unicorns bring you rainbow only when on the common clearing. Drag a unicorn here!",eventTutorial_60:"Produce new unicorn breeds, earn rating points and get rewards at the end of the event! Good luck!",eventTutorial_70:"P.S. Remember to turn the Autocollector on!",eventWelcome:"Enter the unicorn farm!",eventFarm:"Unicorn farm",eventRulesAfterStatus:"Top 3 players get the title",unitSheep:"sheep",unitChicken:"eggs",unitCow:".",unitEvent:".",income:"Profit",unicornStatus:"Unicorn friend",buyFrom:"Buy",getGift:"Get as a gift",more:"more",dontMissChanse:"Don't miss out!",maxLevelCollector:"You maxed out the Collector's level",taskHelp_2:"Merge animals to get the desired breed",taskHelp_4:"Merge animals to get the desired breed or buy at the store!",taskHelp_8:"No Pastures to upgrade. Place new Pastures or trade other lands!",taskHelp_9:"No Waterers to upgrade. Place new Waterers or trade other lands!",taskHelp_17:"No Storages to upgrade. Place new Storages or trade other lands!",taskHelpSheep_11:"Click sheep when the wool is ready!",taskHelpChicken_11:"Click the eggs laying in the field!",taskHelpCow_11:"Click cows when they are ready for milking!",taskHelpSheep_14:"Get the right amount of sheep on the field",taskHelpChicken_14:"Get the right amount of hens on the field",taskHelpCow_14:"Get the right amount of cows on the field",taskHelp_6:"Sell resources to receive coins! Remember to turn the Collector on!",taskHelp_20:"Buy Storages to collect your resources!",taskHelpSheep_19:"Click the crystal sheep when a crystal grew on it!",taskHelpChicken_19:"Click crystals in the field!",taskHelpCow_19:"Click the crystal cow when a crystal is ready!",taskHelp_5:"Wait for the logging to end or speed it up with crystals!",taskHelp_5_2:"Wait for the logging to end or trade a territory for a Pasture",taskHelp_5_5:"Wait for the logging to end or trade a territory for a Storage",taskHelp_5_8:"Wait for the logging to end or speed it up with crystals!",taskHelp_26:"Wait till milk stores up in the Storage! Remember to turn the Collector on!",newbieAwards:"Novice rewards",stillTimeAward:"Rewards available in",toNextAward:"Till next reward",dailyNewbieHint0:"Received $1 coins",dailyNewbieHint1:"Novice reward: 5 crystal sheep",dailyNewbieHint2:"Received 3 sheep of $1 breed",dailyNewbieHint4:"Received free Trimmer for 3 hours",dailyNewbieHint5:"Received 3 hens of $1 breed",dailyNewbieHint6:"Received free Egg Collector for 3 hours",dailyNewbieHint7:"Novice reward: 10 crystal sheep",dailyNewbieHint0testB:"Received $1 coins",dailyNewbieHint1testB:"Novice reward: 3 crystal sheep",dailyNewbieHint2testB:"Received 3 sheep of $1 breed",dailyNewbieHint3testB:"Novice reward: 5 crystal sheep",dailyNewbieHint4testB:"Received free Trimmer for 3 hours",dailyNewbieHint5testB:"Received 5 sheep of $1 breed",dailyNewbieHint6testB:"Received free Trimmer for 5 hours",dailyNewbieHint7testB:"Novice reward: 10 crystal sheep",unknownFarmer:"Unknown farmer",unlockNextUpdate:"Coming soon",remainderBalance:"Make sure your animals have enough grass and water, or your profit will drop",lotSize:"Batch size",efficiency:"Efficiency",efficiencyProduction:"Production efficiency",produced:"Producing",production1:"Pasteurized milk",production2:"Yogurt",production3:"Cheese",production4:"Chocolate",sellProduct:"Sell products",litres:"l",processingTime:"Processing time",showCase:"Window",showCaseText:"You can buy cocoa beans to temporarily produce chocolate",buyCocoaBeans:"Buy cocoa for $1 h",fortuneHint_1:"Jackpot!",fortuneHint_2:"Received $1 crystal(s)!",fortuneHint_3:"You've won $1 coins!",fortuneHint_4_Sheep:"You've won Feed Mix for sheep!",fortuneHint_4_Chicken:"You've won Feed Mix for hens!",fortuneHint_4_Cow:"You've won Feed Mix for cows!",fortuneHint_5_Sheep:"You've won Sheep Ruckus!",fortuneHint_5_Chicken:"You've won Chicken Ruckus!",fortuneHint_5_Cow:"You've won Cow Ruckus!",fortuneHint_6:"Tickets received: $1",fortuneHint_7_Sheep:"You've won Trimmer for 4 hours!",fortuneHint_7_Chicken:"You've won Egg Collector for 4 hours!",fortuneHint_7_Cow:"You've won Milk Collector for 4 hours!",dailyHint_1:"Received $1 crystal(s)!",dailyHint_2:"Received $1 crystal(s)!",dailyHint_3_Sheep:"You've won Feed Mix for sheep!",dailyHint_3_Chicken:"You've won Feed Mix for hens!",dailyHint_3_Cow:"You've won Feed Mix for cows!",dailyHint_4_Sheep:"You've won Ruckus for sheep!",dailyHint_4_Chicken:"You've won Ruckus for hens!",dailyHint_4_Cow:"You've won Ruckus for cows!",dailyHint_5_Sheep:"You've received Trimmer for 4 hours!",dailyHint_5_Chicken:"You've won Egg Collector for 4 hours!",dailyHint_5_Cow:"You've won Milk Collector for 4 hours!",mainPrize:"Grand prize",buyTicket:"Buy a ticket",scroll:"Spin",fairClose:"Fair closes in",fortuneWheel:"Wheel of Fortune",latestWinners:"Recent winners",lastTimePrize:"Last one to win the grand prize ($1)",back:"Back",taken:"Receives",now:"Now",jackpotCongratulations:"Congratulations! You win",fortuneWelcome:"Try the Wheel of Fortune! Try to win the grand prize!",maxCollectorLevel:"Max Collector level reached",probabilityOfProduction:"Production probability",milkInStorage:"Milk in Storage",slotSize:"Production batch size",haveNotMilk:"Not enough milk to start",newProduct:"New produce",nextFactory:"Factory upgrade to $1 level",confirmSellMilk:"Do you really want to sell raw milk? Milk processed on the Factory costs more.",dontSellMilk:"Don't sell the milk",accessSheepFarmDone:"Available after sheep farm completion",accessSecondFarmDone:"Available after second farm completion",accessChickenFarmDone:"Available after hen farm completion",notEnoughCoins:"Not enough hen coins to buy a cow farm. Earn them or buy with crystals.",notEnoughSheepCoins:"Not enough sheep coins to buy a hen farm. Earn them or buy with crystals.",openChickenFarm:"Available after hen farm is unlocked",chickenFarmPurchaseAvailable:"Hen farm purchase available!",cowFarmPurchaseAvailable:"Cow farm purchase available!",openProductionOnLevel:"Available at the $1 Factory level",doneNextTask:"Complete the next task first...",doneFirstTask:"Complete the first task first...",socialEvents2:"Hen farm already! Whatever comes next?",socialEvents3:"Cow farm already! Whatever comes next?",prizes:"Gifts",authorizationRequired:"Authorization needed",saveProgress:"Save your progress",findSavedProgress:"Existing progress found for this user. Choose an action",loadOldSave:"Upload an old save",repeatSave:"Overwrite progress",level:"Level",onlineStatus:"Online",offlineStatus:"Offline",writing:"Message",goToFarm:"Visit farm",blocking:"Block",generalChat:"Common room",personalChat:"Private room",settingsHeader:"Game settings",validClanName:"Enter a name from 6 to 20 symbols long. No special characters allowed.",createClan:"Create clan",changeClanName:"Change name",changeClanAvatar:"Change emblem",clan:"Clan",dailyTasks:"Daily tasks",taskClan_1:"Buy $1 animals",taskClan_2:"Sell storaged goods $1 times",taskClan_3:"Start a ruckus $1 times",taskClan_4:"Pick up goods by hand $1 times",taskClan_5:"Merge animals $1 times",taskClan_6:"Upgrade smth $1 time",taskClan_7:"Buy any gatherer for $1 minutes total",taskClan_8:"Take a crystal animal $1 times",taskClan_9:"Buy feed mix for $1 hours total",taskClan_10:"Trade $1 crystals for coins",taskClan_11:"Enrich clan treasury $1 times",taskClan_12:"Catch $1 animals during ruckus",taskClan_13:"Catch $2 animals in one ruckus $1 times",taskClan_14:"Buy a new territory $1 times",taskClan_15:"Gather crystals $1 times",taskClan_16:"Complete $1 tasks on any farm",taskClan_17:"Complete $1 chapters together",taskClan_18:"Spend $1 mins total on your farm",taskClan_19:"Send a message to the clan chat",quantityBonus:"Quantity bonus:",priceBonus:"Price bonus:",fromClanFarm:"from clan farm",openCowFarm:"Unlock cow farm first",inviteClan:"Invite to clan",excludeClan:"Expell from clan",clanChat:"Clan chat",clanMap:"Clan map",inviteYouClan:"invites you to a clan",excludeYouClan:"expelled you from clan",clans:"Clans",accept:"Accept",declain:"Decline",youAcceptInvite:"You accepted the invite",youDeclainInvite:"You declined the invite",clanIsFull:"Clan is full",youAreInClan:"You're in the clan",youAreNotInClan:"You don't have a clan",yes:"Yes",no:"No",delete:"Delete?",nowInClan:"joined clan",leaveOnClan:"left clan",excludeOnClan:"expelled from clan",askToJoinInClan:"wants to join your clan",youAcceptAsk:"Request accepted",youDeclainAsk:"Request denied",userInClan:"User has a clan",clanIsOpen:"Open clan",clanIsClose:"Closed clan",clansLiderboard:"Clan's leaderboard",scores:"Pnts",inputClanName:"Enter clan's name",join:"Join",sendInvite:"Send request",leaveClan:"Leave the clan",search:"Find",clansNotFound:"No clans like that found",atYou:"You:",exclude:"Expell",confirmExcludeUser:"You sure you want to expell $1 from the clan?","clanСreation":"Clan creation",flagSettings:"Flag settings",userHasNotInClan:"User has no clan",joinClanBanner:"Join a clan and get: - other members helping you in the game - clan tournaments to take part in - opportunity to raise a clan farm",clanTreasury:"Treasury",nowInTreasury:"Money:",players:"Players",improveClan:"Upgrade base",clanImprovement:"Base upgrades",sheepClanFarm:"Clan's sheep farm",chickenClanFarm:"Clan's hen farm",cowClanFarm:"Clan's cow farm",mainClanFarm:"Clan base",wantGoTreasury:"Visit treasury?",goToTreasury:"To treasury",notEnoughForClan:"Finances needed:",headquarters:"base",lvl:"lvl.",emblem:"emblem",clanName:"clan name",changeEmblem:"change emblem",forThisPlayerClanIsNotAccepted:"Clans not yet available for $1",maxLimitBeforeImprove:"Current max number of players:",maxLimitAfterImprove:"Upgraded max number of players:",increasingFarmIncomeNow:"Rise in farm profits now:",increasingFarmIncome:"Rise in farm profits:",increasingSheepFarmIncomeNow:"Rise in wool prices now:",increasingChickenFarmIncomeNow:"Rise in egg prices now:",increasingCowFarmIncomeNow:"Rise in milk amounts now:",maxLevelFarm:"Max farm level reached",increasingFarmIncomeAfterImprove:"Upgraded rise in farm profits:",increasingSheepFarmIncomeAfterImprove:"Upgraded rise in wool prices:",increasingChickenFarmIncomeAfterImprove:"Upgraded rise in egg prices:",increasingCowFarmIncomeAfterImprove:"Upgraded rise in milk amounts:",reachChapterOfSheepFarm:"Reach chapter $1 of sheep farm",clanTutor:"Clans are now available. Find the one you like or create your own",improveFarm:"Upgrade farm",clanFarmImproveNote:"The higher clan farm's level, the higher your own farm's profits",left:"Left:",needRegistration:"Save your progress first",goToSheepFarm:"Go to the sheep farm",goToChickenFarm:"Go to the hen farm",goToCowFarm:"Go to the cow farm",goToNoteSheep:"Go to the sheep farm to buy coins",goToNoteChicken:"Go to the hen farm to buy coins",goToNoteCow:"Go to the cow farm to buy coins",youJoinedClan:"Congrats! You're now in $1 clan!",youCreatedClan:"Congrats! $1 clan created!",goToClanFarm:"Go to the clan's farm",buyingCoins:"Buy coins",updatingTasksThrough:"Tasks updated in:",actionIsAvailableHead:"Only for the clan's head",yourContribution:"Your input",clanAnimals:"Clan animals",clanPlace:"Clan's turf",clanTournamentClanReceived:"Your clan gains",clanTournamentInYourClanPlace:"In your clan you're on",clanTournamentYourAward:"Your reward",clanTournamentAwards:"Rewards",awardsForClans:"Clan rewards",awardsForUsersInClan:"In-clan rewards",clanLeaders:"Your clan leaders",clanTournamentTakeAwards:"Take reward",inviteToJoin:"Membership request",inviteToJoinClanSend:"Request sent to clan:",haveClan:"This clan name is taken",speedUpImprovment:"Speed up upgrade",confirmBuyCooldownImprovmentFarm:"Want to speed up upgrade?",change:"change",random:"accidentaly",saveAvatar:"save",chickenFarm:"Hen farm",cowFarm:"Cow farm",confirmBuyChickenFarm:"Do you want to buy a hen farm?",confirmBuyCowFarm:"Do you want to buy a cow farm?",exchangePastureBtn:"Swap the Pasture for...",exchangePastureTitle:"You can swap the level $1 Pasture for another building",exchangeWaterBtn:"Swap the Waterer for...",exchangeWaterTitle:"You can swap the level $1 Waterer for another building",confirmImproveCollectorSheepHeader:"Trimmer",confirmImproveCollectorChickenHeader:"Egg Collector",confirmImproveCollectorCowHeader:"Collector",confirmImproveCollectorSheepText:"Do you want to upgrade the Trimmer to level $1?",confirmImproveCollectorChickenText:"Do you want to upgrade the Egg Collector to level $1?",confirmImproveCollectorCowText:"Do you want to upgrade the Milk Collector to level $1?",confirmImproveRepositoryHeader:"Storage",confirmImproveRepositoryText:"Do you want to upgrade the Storage to level $1?",confirmImproveFactoryHeader:"Factory",confirmImproveFactoryText:"Do you want to upgrade the Factory to level $1?",skipHerdBoost:"Complete the Ruckus",inClan:"In a clan",exitGame:"Quit the game",newNickname:"New nickname",chickenCollectorImproveSale:"Upgrade the Egg Collector at HALF the usual price! Don't miss the opportunity to make your farm more efficient!",chickenCollectorPriceSale:"Buy the Egg Collector at HALF the usual price! Don't miss the opportunity to receive income even when you're away!",chickenFeedSale:"Buy the Feed Mix for Hens at HALF the usual price! Don't miss the opportunity to double your farm's income!",chickenHerdSale:"Start a Hen Ruckus at HALF the usual price! It's a great opportunity to add some more hens to your farm!",chickenMoneySale:"Get TWICE as many hen coins at the old prices! It's a limited offer, so hurry!",chickenPriceSale:"Buy hens at HALF the price! Don't miss the opportunity to make your Hen Farm even greater!",chickenRepositoryImproveSale:"Upgrade Storages on the Hen Farm at HALF the usual price! It's a limited offer, so hurry!",clanSale:"Everyone can now own a clan! Buy and customize one at HALF the usual price!",cowCollectorImproveSale:"Upgrade the Milk Collector at HALF the usual price! Don't miss the opportunity to make your farm more efficient!",cowCollectorPriceSale:"Buy the Milk Collector at HALF the usual price! Don't miss the opportunity to receive income even when you're away!",cowFactoryImproveSale:"Upgrade the Factory on the Cow Farm at HALF the usual price! It's a limited offer, so hurry!",cowFeedSale:"Buy the Feed Mix for Cows at HALF the usual price! Don't miss the opportunity to double your farm's income!",cowHerdSale:"Start a Cow Ruckus at HALF the usual price! It's a great opportunity to add some more hens to your farm!",cowMoneySale:"Get TWICE as many cow coins at the old prices! It's a limited offer, so hurry!",cowPriceSale:"Buy cows at HALF the price! Don't miss the opportunity to make your Hen Farm even greater!",cowRepositoryImproveSale:"Upgrade Storages on the Cow Farm at HALF the usual price! It's a limited offer, so hurry!",diamondCountSale:"Buy TWICE as many crystals at the old prices! It's a limited offer, so hurry!",packagePriceSale:"Buy crystals from the shop at HALF the usual price! It's a limited offer, so hurry!",sheepCollectorImproveSale:"Upgrade the Trimmer at HALF the usual price! Don't miss the opportunity to make your farm more efficient!",sheepCollectorPriceSale:"Buy the Trimmer at HALF the usual price! Don't miss the opportunity to receive income even when you're away!",sheepFeedSale:"Buy the Feed Mix for Sheep at HALF the usual price! Don't miss the opportunity to double your farm's income!",sheepHerdSale:"Start a Sheep Ruckus at HALF the usual price! It's a great opportunity to add some more hens to your farm!",sheepMoneySale:"Get TWICE as many sheep coins at the old prices! It's a limited offer, so hurry!",sheepPriceSale:"Buy sheep at HALF the price! Don't miss the opportunity to make your Hen Farm even greater!",sheepRepositoryImproveSale:"Upgrade Storages on the Sheep Farm at HALF the usual price! It's a limited offer, so hurry!",saleLastTime:"Till the end:",goTo:"Go",checkYourInternet:"check your Internet connection",error:"Error",repeat:"Retry",androidFoundUser:"Sheep Farm Chapter $1 – $2",foundManySave:"Two saves have been found:",setAction:"what will you do",saveAndroidProgress:"Save",recallText:"Your feedback is very important to us!\\n Leave your comments so that we could make the game even better!",recallBtn:"Leave feedback",yourRecall:"Your comments",yourRecallIsSent:"Your feedback has been sent!",recall:"Feedback",likeGame:"Do you like the game?",speedCollectorNotificationSheep:"You have too many animals. Improve the Trimmer speed not to lose efficiency.",speedCollectorNotificationChicken:"You have too many animals. Improve the Collector speed not to lose efficiency.",speedCollectorNotificationCow:"You have too many animals. Improve the Collector speed not to lose efficiency.",forNextAd:"Till next ad",confirmCleanUpText:"Do you want to clean up your farm?",confirmCleanUpHeader:"Cleaning up",cleanUp:"Clean up",noInterstitial:"Turn off autoplaying ads for good!",turnOnFeedBoost:"Turn on the Feed Mix to double your income",avatarSettings:"Select the avatar",select:"select",selected:"selected",buyingAvatar:"Buy an avatar",confirmBuyAvatar:"Do you want to buy this avatar?",multiplyIcomeHeader:"Raise your income",multiplyIcomeText:"Do you want to earn thrice as much when selling?",triple:"triple",achievementText1:"Complete the sheep tutorial",achievementText2:"Collect your social task reward",achievementText3:"Get a free crystal from the shop",achievementText4:"Catch 5 or more animals during a single Ruckus",achievementText5:"Catch 10 or more animals during a single Ruckus",achievementText6:"Catch 12 or more animals during a single Ruckus",achievementText7:"Reach the water and grass ratio of 75% or more",achievementText8:"Fill up the entire field with animals",achievementText9:"Let 5 crystal animals out onto the field at once",achievementText10:"Complete any 10 tasks",achievementText11:"Complete any 25 tasks",achievementText12:"Complete any 75 tasks",achievementText13:"Complete any 150 tasks",achievementText14:"Complete all 192 tasks",achievementText15:"Expel an animal",achievementText16:"Upgrade the Wool Storage to the max level",achievementText17:"Upgrade the Pasture to the max level",achievementText18:"Upgrade the Waterer to the max level",achievementText19:"Upgrade the Sheep Fair to the max level",achievementText20:"Upgrade the Egg Storage to the max level",achievementText21:"Upgrade the Hen Fair to the max level",achievementText22:"Upgrade the Milk Storage to the max level",achievementText23:"Upgrade the Cow Fair to the max level",achievementText24:"Upgrade the Factory to the max level",achievementText25:"Upgrade the Trimmer to level 25",achievementText26:"Upgrade the Trimmer to level 50",achievementText27:"Upgrade the Trimmer to the max level",achievementText28:"Upgrade the Egg Collector to level 25",achievementText29:"Upgrade the Egg Collector to level 50",achievementText30:"Upgrade the Egg Collector to the max level",achievementText31:"Upgrade the Milk Collector to level 25",achievementText32:"Upgrade the Milk Collector to level 50",achievementText33:"Upgrade the Milk Collector to the max level",achievementText34:"Get a free crystal from the shop",achievementText35:"Buy all territories on the Sheep Farm",achievementText36:"Buy all territories on the Hen Farm",achievementText37:"Buy all territories on the Cow Farm",achievementText38:"Sell the milk from the Storage on the Cow Farm",achievementText39:"Exchange crystals for coins at the shop",achievementText40:"Complete Chapter 16 on three Farms",achievementText41:"Rank 1st–3rd in the unicorn rating",achievementText42:'Take part in the "Unicorns" event',achievementText43:"Get a level 10 unicorn",achievementText44:"Spin the wheel of fortune",achievementText45:"Win a jackpot from the wheel of fortune",achievementText46:"Win a ruckus from the wheel of fortune",achievementText47:"Win a Feed Mix from the wheel of fortune",achievementText48:"Win coins from the wheel of fortune",achievementText49:"Win crystals from the wheel of fortune",achievementText50:"Win tickets from the wheel of fortune",achievementText51:"Complete Chapter 1 of sheep",achievementText52:"Complete Chapter 2 of sheep",achievementText53:"Complete Chapter 3 of sheep",achievementText54:"Complete Chapter 4 of sheep",achievementText55:"Complete Chapter 5 of sheep",achievementText56:"Complete Chapter 6 of sheep",achievementText57:"Complete Chapter 7 of sheep",achievementText58:"Complete Chapter 8 of sheep",achievementText59:"Complete Chapter 9 of sheep",achievementText60:"Complete Chapter 10 of sheep",achievementText61:"Complete Chapter 11 of sheep",achievementText62:"Complete Chapter 12 of sheep",achievementText63:"Complete Chapter 13 of sheep",achievementText64:"Complete Chapter 14 of sheep",achievementText65:"Complete Chapter 15 of sheep",achievementText66:"Complete Chapter 16 of sheep",achievementText67:"Complete Chapter 1 of hens",achievementText68:"Complete Chapter 2 of hens",achievementText69:"Complete Chapter 3 of hens",achievementText70:"Complete Chapter 4 of hens",achievementText71:"Complete Chapter 5 of hens",achievementText72:"Complete Chapter 6 of hens",achievementText73:"Complete Chapter 7 of hens",achievementText74:"Complete Chapter 8 of hens",achievementText75:"Complete Chapter 9 of hens",achievementText76:"Complete Chapter 10 of hens",achievementText77:"Complete Chapter 11 of hens",achievementText78:"Complete Chapter 12 of hens",achievementText79:"Complete Chapter 13 of hens",achievementText80:"Complete Chapter 14 of hens",achievementText81:"Complete Chapter 15 of hens",achievementText82:"Complete Chapter 16 of hens",achievementText83:"Complete Chapter 1 of cows",achievementText84:"Complete Chapter 2 of cows",achievementText85:"Complete Chapter 3 of cows",achievementText86:"Complete Chapter 4 of cows",achievementText87:"Complete Chapter 5 of cows",achievementText88:"Complete Chapter 6 of cows",achievementText89:"Complete Chapter 7 of cows",achievementText90:"Complete Chapter 8 of cows",achievementText91:"Complete Chapter 9 of cows",achievementText92:"Complete Chapter 10 of cows",achievementText93:"Complete Chapter 11 of cows",achievementText94:"Complete Chapter 12 of cows",achievementText95:"Complete Chapter 13 of cows",achievementText96:"Complete Chapter 14 of cows",achievementText97:"Complete Chapter 15 of cows",achievementText98:"Complete Chapter 16 of cows",achievementText99:"Sell storaged goods 1 time",achievementText100:"Sell storaged goods 10 times",achievementText101:"Sell storaged goods 25 times",achievementText102:"Sell storaged goods 100 times",achievementText103:"Sell storaged goods 250 times",achievementText104:"Sell storaged goods 500 times",achievementText105:"Sell storaged goods 1000 times",achievementText106:"Start a ruckus 1 time",achievementText107:"Start a ruckus 5 times",achievementText108:"Start a ruckus 15 times",achievementText109:"Start a ruckus 30 times",achievementText110:"Start a ruckus 50 times",achievementText111:"Start a ruckus 100 times",achievementText112:"Start a ruckus 250 times",achievementText113:"Start a ruckus 1000 times",achievementText114:"Upgrade a building or a territory 3 times",achievementText115:"Upgrade a building or a territory 10 times",achievementText116:"Upgrade a building or a territory 25 times",achievementText117:"Upgrade a building or a territory 50 times",achievementText118:"Upgrade a building or a territory 100 times",achievementText119:"Upgrade a building or a territory 250 times",achievementText120:"Upgrade a building or a territory 500 times",achievementText121:"Upgrade a building or a territory 1000 times",achievementText122:"Complete all 4 clan tasks within 1 day",achievementText123:"Complete 1 clan task",achievementText124:"Complete 5 clan tasks",achievementText125:"Complete 25 clan tasks",achievementText126:"Complete 50 clan tasks",achievementText127:"Complete 100 clan tasks",achievementText128:"Complete 250 clan tasks",achievementText129:"Complete 500 clan tasks",achievementText130:"Complete 1000 clan tasks",achievementText131:"Complete 1 clan task to buy animals",achievementText132:"Complete 3 clan tasks to buy animals",achievementText133:"Complete 5 clan tasks to buy animals",achievementText134:"Complete 10 clan tasks to buy animals",achievementText135:"Complete 25 clan tasks to buy animals",achievementText136:"Complete 50 clan tasks to buy animals",achievementText137:"Complete 75 clan tasks to buy animals",achievementText138:"Complete 100 clan tasks to buy animals",achievementText139:"Complete 1 clan task to sell storaged goods",achievementText140:"Complete 3 clan tasks to sell storaged goods",achievementText141:"Complete 5 clan tasks to sell storaged goods",achievementText142:"Complete 10 clan tasks to sell storaged goods",achievementText143:"Complete 25 clan tasks to sell storaged goods",achievementText144:"Complete 50 clan tasks to sell storaged goods",achievementText145:"Complete 75 clan tasks to sell storaged goods",achievementText146:"Complete 100 clan tasks to sell storaged goods",achievementText147:"Complete 1 clan task to start a ruckus",achievementText148:"Complete 3 clan tasks to start a ruckus",achievementText149:"Complete 5 clan tasks to start a ruckus",achievementText150:"Complete 10 clan tasks to start a ruckus",achievementText151:"Complete 25 clan tasks to start a ruckus",achievementText152:"Complete 50 clan tasks to start a ruckus",achievementText153:"Complete 75 clan tasks to start a ruckus",achievementText154:"Complete 100 clan tasks to start a ruckus",achievementText155:"Complete 1 clan task to collect goods by hand",achievementText156:"Complete 3 clan tasks to collect goods by hand",achievementText157:"Complete 5 clan tasks to collect goods by hand",achievementText158:"Complete 10 clan tasks to collect goods by hand",achievementText159:"Complete 25 clan tasks to collect goods by hand",achievementText160:"Complete 50 clan tasks to collect goods by hand",achievementText161:"Complete 75 clan tasks to collect goods by hand",achievementText162:"Complete 100 clan tasks to collect goods by hand",achievementText163:"Complete 1 clan task to merge animals",achievementText164:"Complete 3 clan tasks to merge animals",achievementText165:"Complete 5 clan tasks to merge animals",achievementText166:"Complete 10 clan tasks to merge animals",achievementText167:"Complete 25 clan tasks to merge animals",achievementText168:"Complete 50 clan tasks to merge animals",achievementText169:"Complete 75 clan tasks to merge animals",achievementText170:"Complete 100 clan tasks to merge animals",achievementText171:"Complete 1 clan task to upgrade anything",achievementText172:"Complete 3 clan tasks to upgrade anything",achievementText173:"Complete 5 clan tasks to upgrade anything",achievementText174:"Complete 10 clan tasks to upgrade anything",achievementText175:"Complete 25 clan tasks to upgrade anything",achievementText176:"Complete 50 clan tasks to upgrade anything",achievementText177:"Complete 75 clan tasks to upgrade anything",achievementText178:"Complete 100 clan tasks to upgrade anything",achievementText179:"Complete 1 clan task to buy a Collector",achievementText180:"Complete 3 clan tasks to buy a Collector",achievementText181:"Complete 5 clan tasks to buy a Collector",achievementText182:"Complete 10 clan tasks to buy a Collector",achievementText183:"Complete 25 clan tasks to buy a Collector",achievementText184:"Complete 50 clan tasks to buy a Collector",achievementText185:"Complete 75 clan tasks to buy a Collector",achievementText186:"Complete 100 clan tasks to buy a Collector",achievementText187:"Complete 1 clan task to get a crystal animal",achievementText188:"Complete 3 clan tasks to get a crystal animal",achievementText189:"Complete 5 clan tasks to get a crystal animal",achievementText190:"Complete 10 clan tasks to get a crystal animal",achievementText191:"Complete 25 clan tasks to get a crystal animal",achievementText192:"Complete 50 clan tasks to get a crystal animal",achievementText193:"Complete 75 clan tasks to get a crystal animal",achievementText194:"Complete 100 clan tasks to get a crystal animal",achievementText195:"Complete 1 clan task to buy a Feed Mix",achievementText196:"Complete 3 clan tasks to buy a Feed Mix",achievementText197:"Complete 5 clan tasks to buy a Feed Mix",achievementText198:"Complete 10 clan tasks to buy a Feed Mix",achievementText199:"Complete 25 clan tasks to buy a Feed Mix",achievementText200:"Complete 50 clan tasks to buy a Feed Mix",achievementText201:"Complete 75 clan tasks to buy a Feed Mix",achievementText202:"Complete 100 clan tasks to buy a Feed Mix",achievementText203:"Complete 1 clan task to exchange crystals for coins",achievementText204:"Complete 3 clan tasks to exchange crystals for coins",achievementText205:"Complete 5 clan tasks to exchange crystals for coins",achievementText206:"Complete 10 clan tasks to exchange crystals for coins",achievementText207:"Complete 25 clan tasks to exchange crystals for coins",achievementText208:"Complete 50 clan tasks to exchange crystals for coins",achievementText209:"Complete 75 clan tasks to exchange crystals for coins",achievementText210:"Complete 100 clan tasks to exchange crystals for coins",achievementText211:"Complete 1 clan task to enrich the clan treasury",achievementText212:"Complete 3 clan tasks to enrich the clan treasury",achievementText213:"Complete 5 clan tasks to enrich the clan treasury",achievementText214:"Complete 10 clan tasks to enrich the clan treasury",achievementText215:"Complete 25 clan tasks to enrich the clan treasury",achievementText216:"Complete 50 clan tasks to enrich the clan treasury",achievementText217:"Complete 75 clan tasks to enrich the clan treasury",achievementText218:"Complete 100 clan tasks to enrich the clan treasury",achievementText219:"Complete 1 clan task to catch animals during ruckus",achievementText220:"Complete 3 clan tasks to catch animals during ruckus",achievementText221:"Complete 5 clan tasks to catch animals during ruckus",achievementText222:"Complete 10 clan tasks to catch animals during ruckus",achievementText223:"Complete 25 clan tasks to catch animals during ruckus",achievementText224:"Complete 50 clan tasks to catch animals during ruckus",achievementText225:"Complete 75 clan tasks to catch animals during ruckus",achievementText226:"Complete 100 clan tasks to catch animals during ruckus",achievementText227:"Complete 1 clan task to catch a specific number of animals during a single ruckus",achievementText228:"Complete 3 clan tasks to catch a specific number of animals during a single ruckus",achievementText229:"Complete 5 clan tasks to catch a specific number of animals during a single ruckus",achievementText230:"Complete 10 clan tasks to catch a specific number of animals during a single ruckus",achievementText231:"Complete 25 clan tasks to catch a specific number of animals during a single ruckus",achievementText232:"Complete 50 clan tasks to catch a specific number of animals during a single ruckus",achievementText233:"Complete 75 clan tasks to catch a specific number of animals during a single ruckus",achievementText234:"Complete 100 clan tasks to catch a specific number of animals during a single ruckus",achievementText235:"Complete 1 clan task to buy a territory",achievementText236:"Complete 3 clan tasks to buy a territory",achievementText237:"Complete 5 clan tasks to buy a territory",achievementText238:"Complete 10 clan tasks to buy a territory",achievementText239:"Complete 25 clan tasks to buy a territory",achievementText240:"Complete 50 clan tasks to buy a territory",achievementText241:"Complete 75 clan tasks to buy a territory",achievementText242:"Complete 100 clan tasks to buy a territory",achievementText243:"Complete 1 clan task to collect crystals from animals",achievementText244:"Complete 3 clan tasks to collect crystals from animals",achievementText245:"Complete 5 clan tasks to collect crystals from animals",achievementText246:"Complete 10 clan tasks to collect crystals from animals",achievementText247:"Complete 25 clan tasks to collect crystals from animals",achievementText248:"Complete 50 clan tasks to collect crystals from animals",achievementText249:"Complete 75 clan tasks to collect crystals from animals",achievementText250:"Complete 100 clan tasks to collect crystals from animals",achievementText251:"Complete 1 clan task to complete campaign missions",achievementText252:"Complete 3 clan tasks to complete campaign missions",achievementText253:"Complete 5 clan tasks to complete campaign missions",achievementText254:"Complete 10 clan tasks to complete campaign missions",achievementText255:"Complete 25 clan tasks to complete campaign missions",achievementText256:"Complete 50 clan tasks to complete campaign missions",achievementText257:"Complete 75 clan tasks to complete campaign missions",achievementText258:"Complete 100 clan tasks to complete campaign missions",achievementText259:"Complete 1 clan task to complete a chapter",achievementText260:"Complete 2 clan tasks to complete a chapter",achievementText261:"Complete 3 clan tasks to complete a chapter",achievementText262:"Complete 5 clan tasks to complete a chapter",achievementText263:"Complete 7 clan tasks to complete a chapter",achievementText264:"Complete 10 clan tasks to complete a chapter",achievementText265:"Complete 15 clan tasks to complete a chapter",achievementText266:"Complete 30 clan tasks to complete a chapter",achievementText267:"Complete 1 clan task to spend a specific number of minutes on the farm",achievementText268:"Complete 3 clan tasks to spend a specific number of minutes on the farm",achievementText269:"Complete 5 clan tasks to spend a specific number of minutes on the farm",achievementText270:"Complete 10 clan tasks to spend a specific number of minutes on the farm",achievementText271:"Complete 25 clan tasks to spend a specific number of minutes on the farm",achievementText272:"Complete 50 clan tasks to spend a specific number of minutes on the farm",achievementText273:"Complete 75 clan tasks to spend a specific number of minutes on the farm",achievementText274:"Complete 100 clan tasks to spend a specific number of minutes on the farm",achievementText275:"Send a message to the clan chat.",achievements:"achievements",ach1Status:"greenhorn",ach2Status:"well-known",ach3Status:"thrifty",ach4Status:"shepherd",ach5Status:"dodger",ach6Status:"cowboy",ach7Status:"",ach8Status:"tycoon",ach9Status:"crystal",ach10Status:"aspiring",ach11Status:"farmer's apprentice",ach12Status:"confident",ach13Status:"seasoned shepherd",ach14Status:"",ach15Status:"heartless",ach16Status:"keeper",ach17Status:"practical",ach18Status:"caring",ach19Status:"sheep breeder",ach20Status:"careful",ach21Status:"hen breeder",ach22Status:"provident",ach23Status:"cow protector",ach24Status:"factory worker",ach25Status:"",ach26Status:"",ach27Status:"trimmer",ach28Status:"",ach29Status:"",ach30Status:"egg Collector",ach31Status:"",ach32Status:"",ach33Status:"milk collector",ach34Status:"",ach35Status:"sheep hero",ach36Status:"hen hero",ach37Status:"cow hero",ach38Status:"experimenter",ach39Status:"swapper",ach40Status:"living legend",ach41Status:"unicorn friend",ach42Status:"magic",ach43Status:"wonderful",ach44Status:"fortune",ach45Status:"blessed",ach46Status:"lucky",ach47Status:"fortunate",ach48Status:"in luck",ach49Status:"winner",ach50Status:"lucky",ach51Status:"newcomer",ach52Status:"neophyte",ach53Status:"novice",ach54Status:"learner",ach55Status:"student",ach56Status:"agriculturalist",ach57Status:"grazier",ach58Status:"knowing",ach59Status:"handy",ach60Status:"trained",ach61Status:"learned",ach62Status:"experienced",ach63Status:"adherent",ach64Status:"worldly",ach65Status:"seasoned",ach66Status:"wise",ach67Status:"debutant",ach68Status:"industrious",ach69Status:"inventive",ach70Status:"smart",ach71Status:"cunning",ach72Status:"informed",ach73Status:"thorough",ach74Status:"qualified",ach75Status:"enterprising",ach76Status:"competent",ach77Status:"knowledgeable",ach78Status:"expert",ach79Status:"talented",ach80Status:"adept",ach81Status:"master",ach82Status:"grandmaster",ach83Status:"promising",ach84Status:"critical",ach85Status:"thinking",ach86Status:"sober-minded",ach87Status:"peasant",ach88Status:"sagacious",ach89Status:"trained eye",ach90Status:"literate",ach91Status:"skillful",ach92Status:"trained eye",ach93Status:"adroit",ach94Status:"old bird",ach95Status:"veteran",ach96Status:"old hand",ach97Status:"hardened farmer",ach98Status:"animal breeding veteran",ach99Status:"trader",ach100Status:"seller",ach101Status:"dealer",ach102Status:"merchant",ach103Status:"businessman",ach104Status:"sales agent",ach105Status:"entrepreneur",ach106Status:"hyperactive farmer",ach107Status:"manic farmer",ach108Status:"frenetic farmer",ach109Status:"frenzied farmer",ach110Status:"fierce farmer",ach111Status:"tumultuous farmer",ach112Status:"turbulent farmer",ach113Status:"master of the chaos",ach114Status:"upgraded",ach115Status:"enhanced",ach116Status:"improved",ach117Status:"developed",ach118Status:"rationalized",ach119Status:"repairman",ach120Status:"constructor",ach121Status:"foreman",ach122Status:"worker of the day",ach123Status:"social",ach124Status:"societal",ach125Status:"collectivist",ach126Status:"clan member",ach127Status:"clan helper",ach128Status:"clan performer",ach129Status:"clan patron",ach130Status:"king of the clan",ach131Status:"guest",ach132Status:"visitor",ach133Status:"customer",ach134Status:"client",ach135Status:"merchant",ach136Status:"marketer",ach137Status:"buyer",ach138Status:"king of procurement",ach139Status:"debuting seller",ach140Status:"greenhorn seller",ach141Status:"experienced seller",ach142Status:"seasoned seller",ach143Status:"competent seller",ach144Status:"skillful seller",ach145Status:"veteran seller",ach146Status:"king of sales",ach147Status:"hyperactive shepherd",ach148Status:"manic shepherd",ach149Status:"frenetic shepherd",ach150Status:"frenzied shepherd",ach151Status:"fierce shepherd",ach152Status:"tumultuous shepherd",ach153Status:"turbulent shepherd",ach154Status:"master of the ruckus",ach155Status:"greenhorn collector",ach156Status:"trained collector",ach157Status:"learned collector",ach158Status:"experienced collector",ach159Status:"worldly collector",ach160Status:"inventive collector",ach161Status:"competent collector",ach162Status:"seasoned collector",ach163Status:"greenhorn scholar",ach164Status:"trained scholar",ach165Status:"learned scholar",ach166Status:"experienced scholar",ach167Status:"worldly scholar",ach168Status:"inventive scholar",ach169Status:"competent scholar",ach170Status:"genius scholar",ach171Status:"greenhorn repairman",ach172Status:"trained repairman",ach173Status:"handy repairman",ach174Status:"experienced repairman",ach175Status:"worldly repairman",ach176Status:"inventive repairman",ach177Status:"competent repairman",ach178Status:"genius repairman",ach179Status:"greenhorn customer",ach180Status:"industrious customer",ach181Status:"handy customer",ach182Status:"experienced customer",ach183Status:"worldly customer",ach184Status:"inventive customer",ach185Status:"repeat customer",ach186Status:"genius customer",ach187Status:"greenhorn entrepreneur",ach188Status:"trained entrepreneur",ach189Status:"handy entrepreneur",ach190Status:"experienced entrepreneur",ach191Status:"worldly entrepreneur",ach192Status:"inventive entrepreneur",ach193Status:"competent entrepreneur",ach194Status:"genius entrepreneur",ach195Status:"greenhorn breadwinner",ach196Status:"trained breadwinner",ach197Status:"handy breadwinner",ach198Status:"experienced breadwinner",ach199Status:"worldly breadwinner",ach200Status:"inventive breadwinner",ach201Status:"competent breadwinner",ach202Status:"genius breadwinner",ach203Status:"greenhorn businessman",ach204Status:"industrious businessman",ach205Status:"handy businessman",ach206Status:"experienced businessman",ach207Status:"worldly businessman",ach208Status:"inventive businessman",ach209Status:"cunning businessman",ach210Status:"genius businessman",ach211Status:"greenhorn investor",ach212Status:"industrious investor",ach213Status:"generous investor",ach214Status:"experienced investor",ach215Status:"opulent investor",ach216Status:"inventive investor",ach217Status:"rich investor",ach218Status:"genius investor",ach219Status:"greenhorn catcher",ach220Status:"trained catcher",ach221Status:"handy catcher",ach222Status:"experienced catcher",ach223Status:"worldly catcher",ach224Status:"inventive catcher",ach225Status:"agile catcher",ach226Status:"genius catcher",ach227Status:"greenhorn hunter",ach228Status:"trained hunter",ach229Status:"handy hunter",ach230Status:"experienced hunter",ach231Status:"worldly hunter",ach232Status:"inventive hunter",ach233Status:"agile hunter",ach234Status:"genius hunter",ach235Status:"greenhorn warden",ach236Status:"industrious warden",ach237Status:"handy warden",ach238Status:"experienced warden",ach239Status:"worldly warden",ach240Status:"inventive warden",ach241Status:"cunning warden",ach242Status:"genius warden",ach243Status:"greenhorn gatherer",ach244Status:"industrious gatherer",ach245Status:"handy gatherer",ach246Status:"experienced gatherer",ach247Status:"worldly gatherer",ach248Status:"inventive gatherer",ach249Status:"cunning gatherer",ach250Status:"genius gatherer",ach251Status:"greenhorn worker",ach252Status:"industrious worker",ach253Status:"handy worker",ach254Status:"experienced worker",ach255Status:"worldly worker",ach256Status:"inventive worker",ach257Status:"cunning worker",ach258Status:"genius worker",ach259Status:"greenhorn laborer",ach260Status:"industrious laborer",ach261Status:"handy laborer",ach262Status:"experienced laborer",ach263Status:"worldly laborer",ach264Status:"inventive laborer",ach265Status:"cunning laborer",ach266Status:"genius laborer",ach267Status:"greenhorn custodian",ach268Status:"trained custodian",ach269Status:"handy custodian",ach270Status:"experienced custodian",ach271Status:"worldly custodian",ach272Status:"inventive custodian",ach273Status:"cunning custodian",ach274Status:"genius custodian",ach275Status:"writer",achievementUnlock:"achievement unlocked",achievementsPoints:"Achievement points",achievementsDone:"Completed at",maxCollectortTimeLevel:"Max Collector time level reached",maxCollectorSpeedLevel:"Max Collector power level reached",taskNameSheep_1_1:"Buy two white sheep",taskNameSheep_1_2:"Trade sheep at the Fair and get a gray sheep",taskNameSheep_1_3:"Turn on the Trimmer",taskNameSheep_1_4:"Go to the Storage and sell wool",taskNameSheep_2_1:"Get one more new land",taskNameSheep_2_2:"Plant a Pasture on a new land",taskNameSheep_2_3:"Upgrade all territories to level $2",taskNameSheep_2_4:"Buy two white sheep",taskNameSheep_2_5:"Get one more Black sheep by trading on the Fair",taskNameSheep_2_6:"Improve the Trimmer duration to level 2",taskNameSheep_2_7:"Improve the Trimmer speed to level 2",taskNameSheep_3_1:"Get one more new land",taskNameSheep_3_2:"Plant a Pasture on a new land",taskNameSheep_3_3:"Upgrade all territories to level $2",taskNameSheep_3_4:"Upgrade the Fair to $2 level",taskNameSheep_3_5:"Improve the Trimmer duration to level 3",taskNameSheep_3_6:"Get two Brown sheep by trading on the Fair",taskNameSheep_3_7:"Take a crystal sheep",taskNameSheep_3_8:"Improve the Trimmer speed to level 3",taskNameSheep_4_1:"Get one more new land",taskNameSheep_4_2:"Plant a Pasture on a new land",taskNameSheep_4_3:"Upgrade all territories to level $2",taskNameSheep_4_4:"Upgrade the Fair to $2 level",taskNameSheep_4_5:"Save $1 coins",taskNameSheep_4_6:"Improve the Trimmer duration to level 4",taskNameSheep_4_7:"Get $1 level $2 Spiral-horned sheep",taskNameSheep_4_8:"Improve the Trimmer speed to level 4",taskNameSheep_5_1:"Get one more new land",taskNameSheep_5_2:"Plant a Pasture on a new land",taskNameSheep_5_3:"Upgrade all territories to level $2",taskNameSheep_5_4:"Upgrade the Fair to $2 level",taskNameSheep_5_5:"Start a Sheep Ruckus",taskNameSheep_5_6:"Improve the Trimmer duration to level 5",taskNameSheep_5_7:"Get $1 level $2 Irish sheep",taskNameSheep_5_8:"Improve the Trimmer speed to level 5",taskNameSheep_6_1:"Get one more new land",taskNameSheep_6_2:"Plant a Pasture on a new land",taskNameSheep_6_3:"Upgrade all territories to level $2",taskNameSheep_6_4:"Upgrade the Fair to $2 level",taskNameSheep_6_5:"Feed sheep with Feed Mix",taskNameSheep_6_6:"Improve the Trimmer duration to level 6",taskNameSheep_6_7:"Get $1 level $2 Caucasian sheep",taskNameSheep_6_8:"Improve the Trimmer speed to level 6",taskNameSheep_7_1:"Get one more new land",taskNameSheep_7_2:"Plant a Pasture on a new land",taskNameSheep_7_3:"Upgrade all territories to level $2",taskNameSheep_7_4:"Collect wool by hand $1 time",taskNameSheep_7_5:"Improve the Trimmer duration to level 7",taskNameSheep_7_6:"Run the Trimmer for 30 min in total",taskNameSheep_7_7:"Get two more level $2 Caucasian sheep",taskNameSheep_7_8:"Improve the Trimmer speed to level 7",taskNameSheep_8_1:"Get one more new land",taskNameSheep_8_2:"Plant a Pasture on a new land",taskNameSheep_8_3:"Upgrade all territories to level $2",taskNameSheep_8_4:"Upgrade the Fair to $2 level",taskNameSheep_8_5:"Buy $1 coins",taskNameSheep_8_6:"Improve the Trimmer duration to level 8",taskNameSheep_8_7:"Get $1 level $2 Moon sheep",taskNameSheep_8_8:"Improve the Trimmer speed to level 8",taskNameSheep_9_1:"Get one more new land",taskNameSheep_9_2:"Build a Waterer on the new land",taskNameSheep_9_3:"Upgrade all territories to level $2",taskNameSheep_9_4:"Save $1 coins",taskNameSheep_9_5:"Improve the Trimmer duration to level 9",taskNameSheep_9_6:"Spend $1 crystals",taskNameSheep_9_7:"Get two more level $2 Moon sheep",taskNameSheep_9_8:"Improve the Trimmer speed to level 9",taskNameSheep_10_1:"Get one more new land",taskNameSheep_10_2:"Plant a Pasture on a new land",taskNameSheep_10_3:"Upgrade all territories to level $2",taskNameSheep_10_4:"Upgrade the Fair to $2 level",taskNameSheep_10_5:"Get $1 sheep from the ruckus",taskNameSheep_10_6:"Improve the Trimmer duration to level 10",taskNameSheep_10_7:"Get $1 level $2 Glamour sheep",taskNameSheep_10_8:"Improve the Trimmer speed to level 10",taskNameSheep_11_1:"Get one more new land",taskNameSheep_11_2:"Plant a Pasture on a new land",taskNameSheep_11_3:"Upgrade all territories to level $2",taskNameSheep_11_4:"Get one crystal sheep",taskNameSheep_11_5:"Improve the Trimmer duration to level 11",taskNameSheep_11_6:"Go to the Storage and sell $1 kg wool",taskNameSheep_11_7:"Get two more level $2 Glamour sheep",taskNameSheep_11_8:"Improve the Trimmer speed to level 11",taskNameSheep_12_1:"Get one more new land",taskNameSheep_12_2:"Plant a Pasture on a new land",taskNameSheep_12_3:"Upgrade all territories to level $2",taskNameSheep_12_4:"Upgrade the Fair to $2 level",taskNameSheep_12_5:"Collect $1 crystal off a crystal sheep",taskNameSheep_12_6:"Improve the Trimmer duration to level 12",taskNameSheep_12_7:"Get $1 level $2 Red sheep",taskNameSheep_12_8:"Improve the Trimmer speed to level 12",taskNameSheep_13_1:"Get one more new land",taskNameSheep_13_2:"Plant a Pasture on a new land",taskNameSheep_13_3:"Upgrade all territories to level $2",taskNameSheep_13_4:"Start a Sheep Ruckus",taskNameSheep_13_5:"Improve the Trimmer duration to level 13",taskNameSheep_13_6:"Feed sheep with Feed Mix",taskNameSheep_13_7:"Get two more level $2 Red sheep",taskNameSheep_13_8:"Improve the Trimmer speed to level 13",taskNameSheep_14_1:"Get one more new land",taskNameSheep_14_2:"Plant a Pasture on a new land",taskNameSheep_14_3:"Upgrade all territories to level $2",taskNameSheep_14_4:"Upgrade the Fair to $2 level",taskNameSheep_14_5:"Collect wool by hand $1 time",taskNameSheep_14_6:"Improve the Trimmer duration to level 14",taskNameSheep_14_7:"Get $1 level $2 Winged sheep",taskNameSheep_14_8:"Improve the Trimmer speed to level 14",taskNameSheep_15_1:"Get one more new land",taskNameSheep_15_2:"Build a Storage on the new land",taskNameSheep_15_3:"Upgrade all territories to level $2",taskNameSheep_15_4:"Spend $1 crystals",taskNameSheep_15_5:"Improve the Trimmer duration to level 15",taskNameSheep_15_6:"Save $1 coins",taskNameSheep_15_7:"Get two more level $2 Winged sheep",taskNameSheep_15_8:"Improve the Trimmer speed to level 15",taskNameSheep_16_1:"Get one more new land",taskNameSheep_16_2:"Plant a Pasture on a new land",taskNameSheep_16_3:"Upgrade all territories to level $2",taskNameSheep_16_4:"Upgrade the Fair to $2 level",taskNameSheep_16_5:"Get $1 sheep from the ruckus",taskNameSheep_16_6:"Improve the Trimmer duration to level 16",taskNameSheep_16_7:"Get $1 level $2 Swedish sheep",taskNameSheep_16_8:"Improve the Trimmer speed to level 16",taskNameSheep_17_1:"Get one more new land",taskNameSheep_17_2:"Plant a Pasture on a new land",taskNameSheep_17_3:"Upgrade all territories to level $2",taskNameSheep_17_4:"Buy $1 coins",taskNameSheep_17_5:"Improve the Trimmer duration to level 17",taskNameSheep_17_6:"Get two crystal sheep",taskNameSheep_17_7:"Get two more level $2 Swedish sheep",taskNameSheep_17_8:"Improve the Trimmer speed to level 17",taskNameSheep_18_1:"Get one more new land",taskNameSheep_18_2:"Plant a Pasture on a new land",taskNameSheep_18_3:"Upgrade all territories to level $2",taskNameSheep_18_4:"Upgrade the Fair to $2 level",taskNameSheep_18_5:"Collect $1 crystal off a crystal sheep",taskNameSheep_18_6:"Improve the Trimmer duration to level 18",taskNameSheep_18_7:"Get $1 level $2 Magic sheep",taskNameSheep_18_8:"Improve the Trimmer speed to level 18",taskNameSheep_19_1:"Get one more new land",taskNameSheep_19_2:"Plant a Pasture on a new land",taskNameSheep_19_3:"Upgrade all territories to level $2",taskNameSheep_19_4:"Start a Sheep Ruckus $1 times",taskNameSheep_19_5:"Improve the Trimmer duration to level 19",taskNameSheep_19_6:"Feed sheep with Feed Mix for $1 hours",taskNameSheep_19_7:"Get two more level $2 Magic sheep",taskNameSheep_19_8:"Improve the Trimmer speed to level 19",taskNameSheep_20_1:"Upgrade all territories to level $2",taskNameSheep_20_2:"Improve the Trimmer duration to level 20",taskNameSheep_20_3:"Get $1 more level $2 Magic sheep",taskNameSheep_20_4:"Get $1 sheep from the ruckus",taskNameSheep_20_5:"Let one sheep of each breed into the field",taskNameSheep_20_6:"Improve the Trimmer speed to level 20",taskNameChicken_1_1:"Buy two White hens",taskNameChicken_1_2:"Trade hens at the Fair and get a Brown hen",taskNameChicken_1_3:"Turn on the Egg Collector",taskNameChicken_1_4:"Build an Egg Storage",taskNameChicken_2_1:"Get one more new land",taskNameChicken_2_2:"Plant a Pasture on a new land",taskNameChicken_2_3:"Upgrade all territories to level $2",taskNameChicken_2_4:"Buy two White hens",taskNameChicken_2_5:"Get one more Brown hen by trading at the Fair",taskNameChicken_2_6:"Improve the Egg Collector duration to level 2",taskNameChicken_2_7:"Improve the Egg Collector speed to level 2",taskNameChicken_3_1:"Get one more new land",taskNameChicken_3_2:"Plant a Pasture on a new land",taskNameChicken_3_3:"Upgrade all territories to level $2",taskNameChicken_3_4:"Upgrade the Fair to $2 level",taskNameChicken_3_5:"Improve the Egg Collector duration to level 3",taskNameChicken_3_6:"Get two Smoky hens by trading at the Fair",taskNameChicken_3_7:"Take a crystal hen",taskNameChicken_3_8:"Improve the Egg Collector speed to level 3",taskNameChicken_4_1:"Get one more new land",taskNameChicken_4_2:"Plant a Pasture on a new land",taskNameChicken_4_3:"Upgrade all territories to level $2",taskNameChicken_4_4:"Upgrade the Fair to $2 level",taskNameChicken_4_5:"Save $1 coins",taskNameChicken_4_6:"Improve the Egg Collector duration to level 4",taskNameChicken_4_7:"Get $1 Sapphire hens",taskNameChicken_4_8:"Improve the Egg Collector speed to level 4",taskNameChicken_5_1:"Get one more new land",taskNameChicken_5_2:"Plant a Pasture on a new land",taskNameChicken_5_3:"Upgrade all territories to level $2",taskNameChicken_5_4:"Upgrade the Fair to $2 level",taskNameChicken_5_5:"Start a Hen Ruckus",taskNameChicken_5_6:"Improve the Egg Collector duration to level 5",taskNameChicken_5_7:"Get $1 level $2 Viking hens",taskNameChicken_5_8:"Improve the Egg Collector speed to level 5",taskNameChicken_6_1:"Get one more new land",taskNameChicken_6_2:"Plant a Pasture on a new land",taskNameChicken_6_3:"Upgrade all territories to level $2",taskNameChicken_6_4:"Upgrade the Fair to $2 level",taskNameChicken_6_5:"Feed hens with Feed Mix",taskNameChicken_6_6:"Improve the Egg Collector duration to level 6",taskNameChicken_6_7:"Get $1 level $2 Punk hens",taskNameChicken_6_8:"Improve the Egg Collector speed to level 6",taskNameChicken_7_1:"Get one more new land",taskNameChicken_7_2:"Plant a Pasture on a new land",taskNameChicken_7_3:"Upgrade all territories to level $2",taskNameChicken_7_4:"Collect eggs by hand $1 time",taskNameChicken_7_5:"Improve the Egg Collector duration to level 7",taskNameChicken_7_6:"Turn on the Egg Collector for 30 min in total",taskNameChicken_7_7:"Get two more level $2 Punk hens",taskNameChicken_7_8:"Improve the Egg Collector speed to level 7",taskNameChicken_8_1:"Get one more new land",taskNameChicken_8_2:"Plant a Pasture on a new land",taskNameChicken_8_3:"Upgrade all territories to level $2",taskNameChicken_8_4:"Upgrade the Fair to $2 level",taskNameChicken_8_5:"Buy $1 coins",taskNameChicken_8_6:"Improve the Egg Collector duration to level 8",taskNameChicken_8_7:"Get $1 level $2 Cowboy hens",taskNameChicken_8_8:"Improve the Egg Collector speed to level 8",taskNameChicken_9_1:"Get one more new land",taskNameChicken_9_2:"Build a Waterer on the new land",taskNameChicken_9_3:"Upgrade all territories to level $2",taskNameChicken_9_4:"Save $1 coins",taskNameChicken_9_5:"Improve the Egg Collector duration to level 9",taskNameChicken_9_6:"Spend $1 crystals",taskNameChicken_9_7:"Get two more level $2 Cowboy hens",taskNameChicken_9_8:"Improve the Egg Collector speed to level 9",taskNameChicken_10_1:"Get one more new land",taskNameChicken_10_2:"Plant a Pasture on a new land",taskNameChicken_10_3:"Upgrade all territories to level $2",taskNameChicken_10_4:"Upgrade the Fair to $2 level",taskNameChicken_10_5:"Get $1 hens from the ruckus",taskNameChicken_10_6:"Improve the Egg Collector duration to level 10",taskNameChicken_10_7:"Get $1 level $2 Elegant hens",taskNameChicken_10_8:"Improve the Egg Collector speed to level 10",taskNameChicken_11_1:"Get one more new land",taskNameChicken_11_2:"Plant a Pasture on a new land",taskNameChicken_11_3:"Upgrade all territories to level $2",taskNameChicken_11_4:"Get one crystal hen",taskNameChicken_11_5:"Improve the Egg Collector duration to level 11",taskNameChicken_11_6:"Go to the Storage and sell $1 eggs",taskNameChicken_11_7:"Get two more level $2 Elegant hens",taskNameChicken_11_8:"Improve the Egg Collector speed to level 11",taskNameChicken_12_1:"Get one more new land",taskNameChicken_12_2:"Plant a Pasture on a new land",taskNameChicken_12_3:"Upgrade all territories to level $2",taskNameChicken_12_4:"Upgrade the Fair to $2 level",taskNameChicken_12_5:"Collect $1 crystal off a crystal hen",taskNameChicken_12_6:"Improve the Egg Collector duration to level 12",taskNameChicken_12_7:"Get $1 level $2 Noble hens",taskNameChicken_12_8:"Improve the Egg Collector speed to level 12",taskNameChicken_13_1:"Get one more new land",taskNameChicken_13_2:"Plant a Pasture on a new land",taskNameChicken_13_3:"Upgrade all territories to level $2",taskNameChicken_13_4:"Start a Ruckus $1 times",taskNameChicken_13_5:"Improve the Egg Collector duration to level 13",taskNameChicken_13_6:"Feed hens with Feed Mix for $1 hours",taskNameChicken_13_7:"Get two more level $2 Noble hens",taskNameChicken_13_8:"Improve the Egg Collector speed to level 13",taskNameChicken_14_1:"Get one more new land",taskNameChicken_14_2:"Plant a Pasture on a new land",taskNameChicken_14_3:"Upgrade all territories to level $2",taskNameChicken_14_4:"Upgrade the Fair to $2 level",taskNameChicken_14_5:"Collect eggs by hand $1 time",taskNameChicken_14_6:"Improve the Egg Collector duration to level 14",taskNameChicken_14_7:"Get $1 level $2 Free hens",taskNameChicken_14_8:"Improve the Egg Collector speed to level 14",taskNameChicken_15_1:"Get one more new land",taskNameChicken_15_2:"Build a Storage on the new land",taskNameChicken_15_3:"Upgrade all territories to level $2",taskNameChicken_15_4:"Spend $1 crystals",taskNameChicken_15_5:"Improve the Egg Collector duration to level 15",taskNameChicken_15_6:"Save $1 coins",taskNameChicken_15_7:"Get two more level $2 Free hens",taskNameChicken_15_8:"Improve the Egg Collector speed to level 15",taskNameChicken_16_1:"Get one more new land",taskNameChicken_16_2:"Plant a Pasture on a new land",taskNameChicken_16_3:"Upgrade all territories to level $2",taskNameChicken_16_4:"Upgrade the Fair to $2 level",taskNameChicken_16_5:"Get $1 hens from the ruckus",taskNameChicken_16_6:"Improve the Egg Collector duration to level 16",taskNameChicken_16_7:"Get $1 level $2 Vampire hens",taskNameChicken_16_8:"Improve the Egg Collector speed to level 16",taskNameChicken_17_1:"Get one more new land",taskNameChicken_17_2:"Plant a Pasture on a new land",taskNameChicken_17_3:"Upgrade all territories to level $2",taskNameChicken_17_4:"Buy $1 coins",taskNameChicken_17_5:"Improve the Egg Collector duration to level 17",taskNameChicken_17_6:"Get two crystal hens",taskNameChicken_17_7:"Get two more level $2 Vampire hens",taskNameChicken_17_8:"Improve the Egg Collector speed to level 17",taskNameChicken_18_1:"Get one more new land",taskNameChicken_18_2:"Plant a Pasture on a new land",taskNameChicken_18_3:"Upgrade all territories to level $2",taskNameChicken_18_4:"Upgrade the Fair to $2 level",taskNameChicken_18_5:"Collect $1 crystal off a crystal hen",taskNameChicken_18_6:"Improve the Egg Collector duration to level 18",taskNameChicken_18_7:"Get $1 level $2 Royal hens",taskNameChicken_18_8:"Improve the Egg Collector speed to level 18",taskNameChicken_19_1:"Get one more new land",taskNameChicken_19_2:"Plant a Pasture on a new land",taskNameChicken_19_3:"Upgrade all territories to level $2",taskNameChicken_19_4:"Start a Ruckus $1 times $1 times",taskNameChicken_19_5:"Improve the Egg Collector duration to level 19",taskNameChicken_19_6:"Feed hens with Feed Mix for $1 hours",taskNameChicken_19_7:"Get two more level $2 Royal hens",taskNameChicken_19_8:"Improve the Egg Collector speed to level 19",taskNameChicken_20_1:"Upgrade all territories to level $2",taskNameChicken_20_2:"Improve the Egg Collector duration to level 20",taskNameChicken_20_3:"Get $1 more level $2 Royal hens",taskNameChicken_20_4:"Get $1 hens from the ruckus",taskNameChicken_20_5:"Let one hen of each breed into the field",taskNameChicken_20_6:"Improve the Egg Collector speed to level 20",taskNameCow_1_1:"Buy two White cows",taskNameCow_1_2:"Trade cows on the Fair and get a Spotty cow",taskNameCow_1_3:"Turn on the Milk Collector",taskNameCow_1_4:"Build a Milk Storage",taskNameCow_2_1:"Get $1 liters of milk",taskNameCow_2_2:"Get one more new land",taskNameCow_2_3:"Build a Factory",taskNameCow_2_4:"Upgrade all territories to level $2",taskNameCow_2_5:"Buy two White cows",taskNameCow_2_6:"Get one more Spotty cow by trading at the Fair",taskNameCow_2_7:"Improve the Milk Collector duration to level 2",taskNameCow_2_8:"Improve the Milk Collector speed to level 2",taskNameCow_3_1:"Upgrade all territories to level $2",taskNameCow_3_2:"Upgrade the Fair to $2 level",taskNameCow_3_3:"Improve the Milk Collector duration to level 3",taskNameCow_3_4:"Get two Brown cows by trading on the Fair",taskNameCow_3_5:"Take a crystal cow",taskNameCow_3_6:"Improve the Milk Collector speed to level 3",taskNameCow_4_1:"Upgrade all territories to level $2",taskNameCow_4_2:"Upgrade the Fair to $2 level",taskNameCow_4_3:"Save $1 coins",taskNameCow_4_4:"Improve the Milk Collector duration to level 4",taskNameCow_4_5:"Get $1 level $2 Scottish cows",taskNameCow_4_6:"Improve the Milk Collector speed to level 4",taskNameCow_5_1:"Get one more new land",taskNameCow_5_2:"Plant a Pasture on a new land",taskNameCow_5_3:"Upgrade all territories to level $2",taskNameCow_5_4:"Upgrade the Fair to $2 level",taskNameCow_5_5:"Start a cow ruckus",taskNameCow_5_6:"Improve the Milk Collector duration to level 5",taskNameCow_5_7:"Get $1 level $2 Prairie cows",taskNameCow_5_8:"Improve the Milk Collector speed to level 5",taskNameCow_6_1:"Get one more new land",taskNameCow_6_2:"Plant a Pasture on a new land",taskNameCow_6_3:"Upgrade all tiles to level $2",taskNameCow_6_4:"Upgrade the Fair to $2 level",taskNameCow_6_5:"Feed cows with Feed Mix",taskNameCow_6_6:"Improve the Milk Collector duration to level 6",taskNameCow_6_7:"Get $1 level $2 Indian cows",taskNameCow_6_8:"Improve the Milk Collector speed to level 6",taskNameCow_7_1:"Get one more new land",taskNameCow_7_2:"Plant a Pasture on a new land",taskNameCow_7_3:"Upgrade all territories to level $2",taskNameCow_7_4:"Collect milk by hand $1 times",taskNameCow_7_5:"Improve the Milk Collector duration to level 7",taskNameCow_7_6:"Turn on the Milk Collector for 30 min in total",taskNameCow_7_7:"Get two more level $2 Indian cows",taskNameCow_7_8:"Improve the Milk Collector speed to level 7",taskNameCow_8_1:"Get one more new land",taskNameCow_8_2:"Plant a Pasture on a new land",taskNameCow_8_3:"Upgrade all territories to level $2",taskNameCow_8_4:"Upgrade the Fair to $2 level",taskNameCow_8_5:"Buy $1 coins",taskNameCow_8_6:"Improve the Milk Collector duration to level 8",taskNameCow_8_7:"Get $1 level $2 Farmer cows",taskNameCow_8_8:"Improve the Milk Collector speed to level 8",taskNameCow_9_1:"Get one more new land",taskNameCow_9_2:"Build a Waterer on the new land",taskNameCow_9_3:"Upgrade all territories to level $2",taskNameCow_9_4:"Save $1 coins",taskNameCow_9_5:"Improve the Milk Collector duration to level 9",taskNameCow_9_6:"Spend $1 crystals",taskNameCow_9_7:"Get two more level $2 Farmer cows",taskNameCow_9_8:"Improve the Milk Collector speed to level 20",taskNameCow_10_1:"Get one more new land",taskNameCow_10_2:"Plant a Pasture on a new land",taskNameCow_10_3:"Upgrade all territories to level $2",taskNameCow_10_4:"Upgrade the Fair to $2 level",taskNameCow_10_5:"Get $1 cows from the ruckus",taskNameCow_10_6:"Improve the Milk Collector duration to level 10",taskNameCow_10_7:"Get $1 level $2 Northern cows",taskNameCow_10_8:"Improve the Milk Collector speed to level 10",taskNameCow_11_1:"Get one more new land",taskNameCow_11_2:"Plant a Pasture on a new land",taskNameCow_11_3:"Upgrade all territories to level $2",taskNameCow_11_4:"Get one crystal cow",taskNameCow_11_5:"Improve the Milk Collector duration to level 11",taskNameCow_11_6:"Sell produce for 10M coins",taskNameCow_11_7:"Get two more level $2 Northern cows",taskNameCow_11_8:"Improve the Milk Collector speed to level 11",taskNameCow_12_1:"Get one more new land",taskNameCow_12_2:"Plant a Pasture on a new land",taskNameCow_12_3:"Upgrade all territories to level $2",taskNameCow_12_4:"Upgrade the Fair to $2 level",taskNameCow_12_5:"Collect $1 crystal off a crystal cow",taskNameCow_12_6:"Improve the Milk Collector duration to level 12",taskNameCow_12_7:"Get $1 level $2 Greek cows",taskNameCow_12_8:"Improve the Milk Collector speed to level 12",taskNameCow_13_1:"Get one more new land",taskNameCow_13_2:"Plant a Pasture on a new land",taskNameCow_13_3:"Upgrade all territories to level $2",taskNameCow_13_4:"Start a Cow Ruckus $1 times",taskNameCow_13_5:"Improve the Milk Collector duration to level 13",taskNameCow_13_6:"Feed cows with Feed Mix for $1 hours",taskNameCow_13_7:"Get two more level $2 Greek cows",taskNameCow_13_8:"Improve the Milk Collector speed to level 13",taskNameCow_14_1:"Get one more new land",taskNameCow_14_2:"Plant a Pasture on a new land",taskNameCow_14_3:"Upgrade all territories to level $2",taskNameCow_14_4:"Upgrade the Fair to $2 level",taskNameCow_14_5:"Collect milk by hand $1 times",taskNameCow_14_6:"Improve the Milk Collector duration to level 14",taskNameCow_14_7:"Get $1 level $2 February cows",taskNameCow_14_8:"Improve the Milk Collector speed to level 14",taskNameCow_15_1:"Get one more new land",taskNameCow_15_2:"Build a Waterer on the new land",taskNameCow_15_3:"Upgrade all territories to level $2",taskNameCow_15_4:"Spend $1 crystals",taskNameCow_15_5:"Improve the Milk Collector duration to level 15",taskNameCow_15_6:"Save $1 coins",taskNameCow_15_7:"Get two more level $2 February cows",taskNameCow_15_8:"Improve the Milk Collector speed to level 15",taskNameCow_16_1:"Get one more new land",taskNameCow_16_2:"Plant a Pasture on a new land",taskNameCow_16_3:"Upgrade all territories to level $2",taskNameCow_16_4:"Upgrade the Fair to $2 level",taskNameCow_16_5:"Get $1 cows from the ruckus",taskNameCow_16_6:"Improve the Milk Collector duration to level 16",taskNameCow_16_7:"Get $1 level $2 Tribal cows",taskNameCow_16_8:"Improve the Milk Collector speed to level 16",taskNameCow_17_1:"Get one more new land",taskNameCow_17_2:"Plant a Pasture on a new land",taskNameCow_17_3:"Upgrade all territories to level $2",taskNameCow_17_4:"Buy $1 coins",taskNameCow_17_5:"Improve the Milk Collector duration to level 17",taskNameCow_17_6:"Get two crystal cows",taskNameCow_17_7:"Get two more level $2 Tribal cows",taskNameCow_17_8:"Improve the Milk Collector speed to level 17",taskNameCow_18_1:"Get one more new land",taskNameCow_18_2:"Plant a Pasture on a new land",taskNameCow_18_3:"Upgrade all territories to level $2",taskNameCow_18_4:"Upgrade the Fair to $2 level",taskNameCow_18_5:"Collect $1 crystal off a crystal cow",taskNameCow_18_6:"Improve the Milk Collector duration to level 18",taskNameCow_18_7:"Get $1 level $2 Fairy cows",taskNameCow_18_8:"Improve the Milk Collector speed to level 18",taskNameCow_19_1:"Get one more new land",taskNameCow_19_2:"Plant a Pasture on a new land",taskNameCow_19_3:"Upgrade all territories to level $2",taskNameCow_19_4:"Start a Cow Ruckus $1 times",taskNameCow_19_5:"Improve the Milk Collector duration to level 19",taskNameCow_19_6:"Feed cows with Feed Mix for $1 hours",taskNameCow_19_7:"Get two more level $2 Fairy cows",taskNameCow_19_8:"Improve the Milk Collector speed to level 19",taskNameCow_20_1:"Upgrade all territories to level $2",taskNameCow_20_2:"Improve the Milk Collector duration to level 20",taskNameCow_20_3:"Get $1 more level $2 Fairy cows",taskNameCow_20_4:"Get $1 cows from the ruckus",taskNameCow_20_5:"Let out one cow of every breed into the field",taskNameCow_20_6:"Improve the Milk Collector speed to level 20",cowNamePart1testB:"First steps",cowNamePart2testB:"Fair",cowNamePart3testB:"Dream cowshed",cowNamePart4testB:"Fair day",cowNamePart5testB:"New technologies",cowNamePart6testB:"Happy together",cowNamePart7testB:"Long way to fame",cowNamePart8testB:"More cows",cowNamePart9testB:"Serious sums",cowNamePart10testB:"New horizons",cowNamePart11testB:"Remember to drink",cowNamePart12testB:"Cow tycoon",cowNamePart13testB:"Endless fields",cowNamePart14testB:"Fair tycoon",cowNamePart15testB:"The final push",cowNamePart16testB:"Eye candy",cowNamePart17testB:"Fearless farmer",cowNamePart18testB:"Perky cows",cowNamePart19testB:"Tasty milk",cowNamePart20testB:"Grateful customers",chickenNamePart1testB:"First steps",chickenNamePart2testB:"Fair",chickenNamePart3testB:"Dream henhouse",chickenNamePart4testB:"Fair day",chickenNamePart5testB:"New technologies",chickenNamePart6testB:"Happy together",chickenNamePart7testB:"Long way to fame",chickenNamePart8testB:"More hens",chickenNamePart9testB:"Serious sums",chickenNamePart10testB:"New horizons",chickenNamePart11testB:"Remember to drink",chickenNamePart12testB:"Hen tycoon",chickenNamePart13testB:"Endless fields",chickenNamePart14testB:"Fair tycoon",chickenNamePart15testB:"The final push",chickenNamePart16testB:"Eye candy",chickenNamePart17testB:"Fearless farmer",chickenNamePart18testB:"Perky hens",chickenNamePart19testB:"Yummy eggs",chickenNamePart20testB:"Grateful customers",sheepNamePart1testB:"First steps",sheepNamePart2testB:"Fair",sheepNamePart3testB:"Dream Pasture",sheepNamePart4testB:"Fair day",sheepNamePart5testB:"New technologies",sheepNamePart6testB:"Happy together",sheepNamePart7testB:"Long way to fame",sheepNamePart8testB:"Big herd",sheepNamePart9testB:"Serious sums",sheepNamePart10testB:"New horizons",sheepNamePart11testB:"Remember to drink",sheepNamePart12testB:"Sheep tycoon",sheepNamePart13testB:"Endless fields",sheepNamePart14testB:"Fair tycoon",sheepNamePart15testB:"The final push",sheepNamePart16testB:"Eye candy",sheepNamePart17testB:"Fearless farmer",sheepNamePart18testB:"Perky sheep",sheepNamePart19testB:"Thick wool",sheepNamePart20testB:"Grateful customers",cowPartAward1testB:"Complete all tasks to unlock new territories and new upgrades!",cowPartAward2testB:"Complete all tasks for level 2 Fair and the Crystal Cave!",cowPartAward3testB:"Complete all tasks for level 3 Fair!",cowPartAward4testB:"Complete all tasks for level 4 Fair, Ruckus and Collector!",cowPartAward5testB:"Complete all tasks for level 5 Fair and Feed Mix!",cowPartAward6testB:"Complete all tasks to unlock new territories and new upgrades!",cowPartAward7testB:"Complete all tasks for level 6 Fair, new territories and upgrades!",cowPartAward8testB:"Complete all tasks to unlock new territories and new upgrades!",cowPartAward9testB:"Complete all tasks for level 7 Fair, new territories and upgrades!",cowPartAward10testB:"Complete all tasks to unlock new territories and new upgrades!",cowPartAward11testB:"Complete all tasks for level 8 Fair, new territories and upgrades!",cowPartAward12testB:"Complete all tasks to unlock new territories and new upgrades!",cowPartAward13testB:"Complete all tasks for level 9 Fair, new territories and upgrades!",cowPartAward14testB:"Complete all tasks to unlock new territories and new upgrades!",cowPartAward15testB:"Complete all tasks for level 10 Fair, new territories and upgrades!",cowPartAward16testB:"Complete all tasks to unlock new territories and new upgrades!",cowPartAward17testB:"Complete all tasks for level 11 Fair, new territories and upgrades!",cowPartAward18testB:"Complete all tasks to unlock new territories and new upgrades!",cowPartAward19testB:"Complete all tasks for level 12 Fair, new territories and upgrades!",cowPartAward20testB:"Complete all tasks to unlock new territories and new upgrades!",chickenPartAward1testB:"Complete all tasks to unlock new territories and new upgrades!",chickenPartAward2testB:"Complete all tasks for level 2 Fair, and the Crystal Cave!",chickenPartAward3testB:"Complete all tasks for level 3 Fair!",chickenPartAward4testB:"Complete all tasks for level 4 Fair, Ruckus and Collector!",chickenPartAward5testB:"Complete all tasks for level 5 Fair and Feed Mix!",chickenPartAward6testB:"Complete all tasks to unlock new territories and new upgrades!",chickenPartAward7testB:"Complete all tasks for level 6 Fair, new territories and upgrades!",chickenPartAward8testB:"Complete all tasks to unlock new territories and new upgrades!",chickenPartAward9testB:"Complete all tasks for level 7 Fair, new territories and upgrades!",chickenPartAward10testB:"Complete all tasks to unlock new territories and new upgrades!",chickenPartAward11testB:"Complete all tasks for level 8 Fair, new territories and upgrades!",chickenPartAward12testB:"Complete all tasks to unlock new territories and new upgrades!",chickenPartAward13testB:"Complete all tasks for level 9 Fair, new territories and upgrades!",chickenPartAward14testB:"Complete all tasks to unlock new territories and new upgrades!",chickenPartAward15testB:"Complete all tasks for level 10 Fair, new territories and upgrades!",chickenPartAward16testB:"Complete all tasks to unlock new territories and new upgrades!",chickenPartAward17testB:"Complete all tasks for level 11 Fair, new territories and upgrades!",chickenPartAward18testB:"Complete all tasks to unlock new territories and new upgrades!",chickenPartAward19testB:"Complete all tasks for level 12 Fair, new territories and upgrades!",chickenPartAward20testB:"Complete all tasks to unlock new territories and new upgrades!",sheepPartAward1testB:"Complete all tasks to unlock new territories and new upgrades!",sheepPartAward2testB:"Complete all tasks for level 2 Fair and the Crystal Cave!",sheepPartAward3testB:"Complete all tasks for level 3 Fair!",sheepPartAward4testB:"Complete all tasks for level 4 Fair, Ruckus and Collector!",sheepPartAward5testB:"Complete all tasks for level 5 Fair and Feed Mix!",sheepPartAward6testB:"Complete all tasks to unlock new territories and new upgrades!",sheepPartAward7testB:"Complete all tasks for level 6 Fair, new territories and upgrades!",sheepPartAward8testB:"Complete all tasks to unlock new territories and new upgrades!",sheepPartAward9testB:"Complete all tasks for level 7 Fair, new territories and upgrades!",sheepPartAward10testB:"Complete all tasks to unlock new territories and new upgrades!",sheepPartAward11testB:"Complete all tasks for level 8 Fair, new territories and upgrades!",sheepPartAward12testB:"Complete all tasks to unlock new territories and new upgrades!",sheepPartAward13testB:"Complete all tasks for level 9 Fair, new territories and upgrades!",sheepPartAward14testB:"Complete all tasks to unlock new territories and new upgrades!",sheepPartAward15testB:"Complete all tasks for level 10 Fair, new territories and upgrades!",sheepPartAward16testB:"Complete all tasks to unlock new territories and new upgrades!",sheepPartAward17testB:"Complete all tasks for level 11 Fair, new territories and upgrades!",sheepPartAward18testB:"Complete all tasks to unlock new territories and new upgrades!",sheepPartAward19testB:"Complete all tasks for level 12 Fair, new territories and upgrades!",sheepPartAward20testB:"Complete all tasks to unlock new territories and new upgrades!",cowPartDone1testB:"You unlocked new upgrades! Factory is now available!",cowPartDone2testB:"You unlocked a cave with crystal cows and new lands!",cowPartDone3testB:"You unlocked level 3 Fair! Now you can breed new cows!",cowPartDone4testB:"You unlocked new upgrades! Collector is available for 4 hours. Cow Ruckus booster unlocked!",cowPartDone5testB:"You unlocked new lands and Feed Mix booster!",cowPartDone6testB:"You've unlocked new upgrades and new territories!",cowPartDone7testB:"You unlocked level 6 Fair and new upgrades! A Collector is available for 12 hours.",cowPartDone8testB:"You've unlocked new upgrades and new territories!",cowPartDone9testB:"You unlocked level 7 Fair, new upgrades and new territories!",cowPartDone10testB:"You've unlocked new upgrades and new territories!",cowPartDone11testB:"You unlocked level 8 Fair, new upgrades and new territories!",cowPartDone12testB:"You've unlocked new upgrades and new territories!",cowPartDone13testB:"You unlocked level 9 Fair, new upgrades and new territories!",cowPartDone14testB:"You've unlocked new upgrades and new territories!",cowPartDone15testB:"You unlocked level 10 Fair, new upgrades and new territories!",cowPartDone16testB:"You've unlocked new upgrades and new territories!",cowPartDone17testB:"You unlocked level 11 Fair, new upgrades and new territories!",cowPartDone18testB:"You've unlocked new upgrades and new territories!",cowPartDone19testB:"You unlocked level 12 Fair, new upgrades and new territories!",cowPartDone20testB:"You've unlocked new upgrades and new territories!",chickenPartDone1testB:"You unlocked new upgrades!",chickenPartDone2testB:"You unlocked a cave with crystal hens and new lands!",chickenPartDone3testB:"You unlocked level 3 Fair! Now you can breed new hens!",chickenPartDone4testB:"You unlocked new upgrades! A Collector is available for 4 hours. A Cow Ruckus booster is unlocked!",chickenPartDone5testB:"You unlocked new lands and Feed Mix booster!",chickenPartDone6testB:"You've unlocked new upgrades and new territories!",chickenPartDone7testB:"You unlocked level 6 Fair and new upgrades! A Collector is available for 12 hours.",chickenPartDone8testB:"You've unlocked new upgrades and new territories!",chickenPartDone9testB:"You unlocked level 7 Fair, new upgrades and new territories!",chickenPartDone10testB:"You've unlocked new upgrades and new territories!",chickenPartDone11testB:"You unlocked level 8 Fair, new upgrades and new territories!",chickenPartDone12testB:"You've unlocked new upgrades and new territories!",chickenPartDone13testB:"You unlocked level 9 Fair, new upgrades and new territories!",chickenPartDone14testB:"You've unlocked new upgrades and new territories!",chickenPartDone15testB:"You unlocked level 10 Fair, new upgrades and new territories!",chickenPartDone16testB:"You've unlocked new upgrades and new territories!",chickenPartDone17testB:"You unlocked level 11 Fair, new upgrades and new territories!",chickenPartDone18testB:"You've unlocked new upgrades and new territories!",chickenPartDone19testB:"You unlocked level 12 Fair, new upgrades and new territories!",chickenPartDone20testB:"You've unlocked new upgrades and new territories!",sheepPartDone1testB:"You unlocked new upgrades!",sheepPartDone2testB:"You unlocked a cave with crystal sheep and new lands!",sheepPartDone3testB:"You unlocked level 3 Fair, Now you can breed new sheep!",sheepPartDone4testB:"You unlocked new upgrades! A Collector is available for 4 hours. A Sheep Ruckus booster is unlocked!",sheepPartDone5testB:"You unlocked new lands and Feed Mix booster!",sheepPartDone6testB:"You've unlocked new upgrades and new territories!",sheepPartDone7testB:"You unlocked level 6 Fair and new upgrades! A Collector is available for 12 hours.",sheepPartDone8testB:"You've unlocked new upgrades and new territories!",sheepPartDone9testB:"You unlocked level 7 Fair, new upgrades and new territories!",sheepPartDone10testB:"You've unlocked new upgrades and new territories!",sheepPartDone11testB:"You unlocked level 8 Fair, new upgrades and new territories!",sheepPartDone12testB:"You've unlocked new upgrades and new territories!",sheepPartDone13testB:"You unlocked level 9 Fair, new upgrades and new territories!",sheepPartDone14testB:"You've unlocked new upgrades and new territories!",sheepPartDone15testB:"You unlocked level 10 Fair, new upgrades and new territories!",sheepPartDone16testB:"You've unlocked new upgrades and new territories!",sheepPartDone17testB:"You unlocked level 11 Fair, new upgrades and new territories!",sheepPartDone18testB:"You've unlocked new upgrades and new territories!",sheepPartDone19testB:"You unlocked level 12 Fair, new upgrades and new territories!",sheepPartDone20testB:"You've unlocked new upgrades and new territories!",confirmImproveCollectorSpeedSheepHeader:"Trimmer",confirmImproveCollectorSpeedChickenHeader:"Egg Collector",confirmImproveCollectorSpeedCowHeader:"Collector",confirmImproveCollectorSpeedSheepText:"Do you want to improve the Trimmer speed to level $1?",confirmImproveCollectorSpeedChickenText:"Do you want to improve the Collector speed to level $1?",confirmImproveCollectorSpeedCowText:"Do you want to improve the Collector speed to level $1?",taskHelp_5_1:"Wait till the territory is added or speed it up with crystals",taskHelp_5_2_1:"No new territories available, but you can exchange a territory for a Pasture.",taskHelp_5_3_1:"No new territories available, but you can exchange a territory for a Waterer.",taskHelp_5_5_1:"No new territories available, but you can exchange a territory for a Storage.",sellWithoutMultiply:"Sell without tripling",badBalancePasture:"If you buy another sheep, you'll face grass shortage, and your income will fall. Do you still want to buy a sheep?",badBalanceWater:"If you buy another sheep, you'll face water shortage, and your income will fall. Do you still want to buy a sheep?",buySheep:"Buy a sheep",yan:"YAN",ok:"ОК",sale:"Sale",bonus:"Bonus",notEnoughtWaterAndGrass:"You don't have enough resources for so many animals. Make sure that all your animals have enough grass and water",freeCrystal:"Free crystal"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.okCallback=void 0;var s=i(22);t.okCallback=function(){var e=this;window.API_callback=function(t,i,n){"showPayment"===t&&"ok"===i&&e.game.scene.keys[e.state.farm].autosave(),"loadAd"===t&&("ok"===i?setTimeout((function(){e.state.readyAd=!0}),5e3):e.state.adTimeout=!1),"showLoadedAd"===t&&(e.state.adTimeout=!1,"ok"!==i||"complete"!==n&&"ad_shown"!==n||e.game.scene.keys[e.state.farm].ads.adReward(),e.scene.state.musicVolume=e.musicVolume,e.scene.state.soundVolume=e.soundVolume,e.scene.sound.get("music").volume=e.scene.state.musicVolume),"postMediatopic"===t&&"ok"===i&&(e.state.amplitude.logAmplitudeEvent("wall_post",{}),e.state.okTask.sendPost=!0,e.scene.isActive("Modal")&&14===e.state.modal.type&&(e.game.scene.keys.Modal.socialTakskWindow.socialTasks.sendPost=!0,e.game.scene.keys.Modal.socialTakskWindow.sendPostTask.setState(!0),e.game.scene.keys.Modal.socialTakskWindow.setTakeBtnState()),s.FAPI.Client.call({method:"storage.set",key:"sendPost",value:JSON.stringify(!0)})),"showAd"===t&&e.state.amplitude.logAmplitudeRevenue("interstitial",0,"interstitial",{})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(150),n=[41285968,191781124,164603032,23755036,60373258,3922194],a=function(){function e(e){this.active=!1,this.scene=e,this.state=e.state,this.amplitude=s}return e.init=function(){s.getInstance().init("b54f0da08a6fdc5c20dc517579b7c508")},e.prototype.startIdentify=function(){try{var e=(new this.amplitude.Identify).setOnce("start_version",this.scene.build);this.amplitude.getInstance().identify(e),this.setRevenue(),this.active=!0}catch(e){console.log(e),this.active=!1}},e.prototype.setFarmIdentify=function(){var e,t=this;if(this.active){var i=(new this.amplitude.Identify).set("diamond_balance",this.state.user.diamonds).set("user_id",this.state.user.id).set("browser",navigator.userAgent).set("partner",this.state.platform).set("test",this.state.user.test).set("Catcher"+this.state.farm,(null===(e=this.state["user"+this.state.farm])||void 0===e?void 0:e.collectorLevel)||0);if("ok"===this.state.platform||"vk"===this.state.platform){var s="";location.search.substr(1).split("&").forEach((function(e){var i=e.split("="),n=i[0],a=i[1];("vk"===t.state.platform&&"referrer"===n||"ok"===t.state.platform&&"refplace"===n)&&(s=a)})),i.set("referrer",s)}this.amplitude.getInstance().identify(i)}},e.prototype.setRevenue=function(){var e=this.scene.params.get("OutSum"),t=this.scene.params.get("InvId");if(e&&t){var i=(new this.amplitude.Revenue).setProductId("Product #"+t).setPrice(e);this.amplitude.logRevenueV2(i)}},e.prototype.logAmplitudeEvent=function(e,t){var i=this;if(this.active&&!n.some((function(e){return e===i.state.vkId}))){var s=this.getEventData(t);this.amplitude.getInstance().logEvent(e,s)}else console.log("Исключение",e)},e.prototype.logAmplitudeRevenue=function(e,t,i,s){var a=this;if(void 0===i&&(i=""),this.active&&!n.some((function(e){return e===a.state.vkId}))){var r=this.getEventData(s),o=(new this.amplitude.Revenue).setProductId(e).setPrice(t).setEventProperties(r);i&&o.setRevenueType(i),this.amplitude.logRevenueV2(o)}else console.log("Исключение ревеню",e)},e.prototype.getEventData=function(e){var t,i,s,n,a,r,o;this.scene.game.scene.getScene(this.state.farm),this.scene.game.scene.getScene("Cow"),this.scene.game.scene.getScene("Unicorn");for(var c in o="Unicorn"!==this.state.farm&&"Unicorn"!==e.farm_id?{test:null===(t=this.state.user)||void 0===t?void 0:t.test,farm_id:this.state.farm,chapter:null===(i=this.state["user"+this.state.farm])||void 0===i?void 0:i.part,diamonds:null===(s=this.state.user)||void 0===s?void 0:s.diamonds,money:null===(n=this.state["user"+this.state.farm])||void 0===n?void 0:n.money,fairLevel:null===(a=this.state["user"+this.state.farm])||void 0===a?void 0:a.fair,collector:null===(r=this.state["user"+this.state.farm])||void 0===r?void 0:r.collector}:{test:this.state.user.test,farm_id:this.state.farm,chapter:this.state["user"+this.state.farm].points,diamonds:this.state.user.diamonds,money:this.state["user"+this.state.farm].money,collector:this.state["user"+this.state.farm].collector},e)o[c]=e[c];return o},e}();t.default=a},function(e,t,i){(function(t,i,s){var n;n=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function n(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){a(e,t,i[t])}))}return e}var o,c,h,l;function d(){return"object"==typeof window&&void 0!==(null===window||void 0===window?void 0:window.document)}!function(e){e.IDENTIFY="$identify"}(o||(o={})),function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preinsert",e.POSTINSERT="$postinsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(c||(c={})),function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose"}(h||(h={})),function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed"}(l||(l={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:413===t?e.PayloadTooLarge:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(l||(l={})),l.Skipped;var u={},p=function(){return"object"==typeof t&&void 0!==(null===(e=null==t?void 0:t.versions)||void 0===e?void 0:e.node)?i:"undefined"!=typeof window?window:"undefined"!=typeof self?self:u;var e},f=function(){var e=p();return e.__AMPLITUDE__=e.__AMPLITUDE__||{},e.__AMPLITUDE__}(),m="Amplitude Logger ",g=function(){function e(){this._logLevel=0}return e.prototype.disable=function(){this._logLevel=0},e.prototype.enable=function(e){void 0===e&&(e=h.Warn),this._logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel<h.Verbose||i.console.log(m+"[Log]: "+e.join(" "))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel<h.Warn||i.console.warn(m+"[Warn]: "+e.join(" "))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel<h.Error||i.console.error(m+"[Error]: "+e.join(" "))},e}(),y=(f.logger||(f.logger=new g),"$default_instance"),v=2,w=4096,b=1e3,x="$identify",k="$groupidentify",T="amp_cookie_test",_="amp",S="",C="cookies",P="none",B="localStorage",A="sessionStorage",E="revenue_amount",M="$productId",O="$quantity",I="$price",R="$revenueType",D="amp_device_id",N="referrer",F="utm_source",L="utm_medium",Y="utm_campaign",U="utm_term",V="utm_content",W="[Amplitude] Attribution Captured",z=function(e){for(var t="",i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?t+=String.fromCharCode(s):s>127&&s<2048?(t+=String.fromCharCode(s>>6|192),t+=String.fromCharCode(63&s|128)):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128),t+=String.fromCharCode(63&s|128))}return t},H=function(e){for(var t="",i=0,s=0,n=0,a=0;i<e.length;)(s=e.charCodeAt(i))<128?(t+=String.fromCharCode(s),i++):s>191&&s<224?(n=e.charCodeAt(i+1),t+=String.fromCharCode((31&s)<<6|63&n),i+=2):(n=e.charCodeAt(i+1),a=e.charCodeAt(i+2),t+=String.fromCharCode((15&s)<<12|(63&n)<<6|63&a),i+=3);return t},X={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){try{if(window.btoa&&window.atob)return window.btoa(unescape(encodeURIComponent(e)))}catch(e){}return X._encode(e)},_encode:function(e){var t,i,s,n,a,r,o,c="",h=0;for(e=z(e);h<e.length;)n=(t=e.charCodeAt(h++))>>2,a=(3&t)<<4|(i=e.charCodeAt(h++))>>4,r=(15&i)<<2|(s=e.charCodeAt(h++))>>6,o=63&s,isNaN(i)?r=o=64:isNaN(s)&&(o=64),c=c+X._keyStr.charAt(n)+X._keyStr.charAt(a)+X._keyStr.charAt(r)+X._keyStr.charAt(o);return c},decode:function(e){try{if(window.btoa&&window.atob)return decodeURIComponent(escape(window.atob(e)))}catch(e){}return X._decode(e)},_decode:function(e){var t,i,s,n,a,r,o="",c=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");c<e.length;)t=X._keyStr.indexOf(e.charAt(c++))<<2|(n=X._keyStr.indexOf(e.charAt(c++)))>>4,i=(15&n)<<4|(a=X._keyStr.indexOf(e.charAt(c++)))>>2,s=(3&a)<<6|(r=X._keyStr.indexOf(e.charAt(c++))),o+=String.fromCharCode(t),64!==a&&(o+=String.fromCharCode(i)),64!==r&&(o+=String.fromCharCode(s));return o=H(o)}},G=Object.prototype.toString;function j(t){switch(G.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!=t?"nan":t&&1===t.nodeType?"element":void 0!==s&&"function"==typeof s.isBuffer&&s.isBuffer(t)?"buffer":e(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t))}var $,K={DISABLE:0,ERROR:1,WARN:2,INFO:3},q=K.WARN,J={error:function(e){q>=K.ERROR&&Q(e)},warn:function(e){q>=K.WARN&&Q(e)},info:function(e){q>=K.INFO&&Q(e)}},Q=function(e){try{console.log("[Amplitude] "+e)}catch(e){}},Z=function(e){return"string"===j(e)&&e.length>w?e.substring(0,w):e},ee=function(e){var t=j(e);if("object"!==t)return J.error("Error: invalid properties format. Expecting Javascript object, received "+t+", ignoring"),{};if(Object.keys(e).length>b)return J.error("Error: too many properties (more than 1000), ignoring"),{};var i={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var n=s,a=j(n);"string"!==a&&(n=String(n),J.warn("WARNING: Non-string property key, received type "+a+', coercing to string "'+n+'"'));var r=ie(n,e[s]);null!==r&&(i[n]=r)}return i},te=["nan","function","arguments","regexp","element"],ie=function e(t,i){var s=j(i);if(-1!==te.indexOf(s))J.warn('WARNING: Property key "'+t+'" with invalid value type '+s+", ignoring"),i=null;else if("undefined"===s)i=null;else if("error"===s)i=String(i),J.warn('WARNING: Property key "'+t+'" with value type error, coercing to '+i);else if("array"===s){for(var n=[],a=0;a<i.length;a++){var r=i[a],o=j(r);"array"!==o?"object"===o?n.push(ee(r)):n.push(e(t,r)):J.warn("WARNING: Cannot have "+o+" nested in an array property value, skipping")}i=n}else"object"===s&&(i=ee(i));return i},se=function(e,t){var i=j(t);if("string"===i)return t;if("date"===i||"number"===i||"boolean"===i)return t=String(t),J.warn("WARNING: Non-string groupName, received type "+i+', coercing to string "'+t+'"'),t;if("array"===i){for(var s=[],n=0;n<t.length;n++){var a=t[n],r=j(a);"array"!==r&&"object"!==r?"string"===r?s.push(a):"date"!==r&&"number"!==r&&"boolean"!==r||(a=String(a),J.warn("WARNING: Non-string groupName, received type "+r+', coercing to string "'+a+'"'),s.push(a)):J.warn("WARNING: Skipping nested "+r+" in array groupName")}return s}J.warn("WARNING: Non-string groupName, received type "+i+". Please use strings or array of strings for groupName")},ne=function(e){Object.prototype.hasOwnProperty.call(K,e)&&(q=K[e])},ae=J,re=function(e){return!e||0===e.length},oe=function(e,t){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===i?void 0:decodeURIComponent(i[1].replace(/\+/g," "))},ce=function e(t){if("array"===j(t))for(var i=0;i<t.length;i++)t[i]=e(t[i]);else if("object"===j(t))for(var s in t)s in t&&(t[s]=e(t[s]));else t=Z(t);return t},he=function(e){var t=j(e);if("object"!==t)return J.error("Error: invalid groups format. Expecting Javascript object, received "+t+", ignoring"),{};var i={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var n=s,a=j(n);"string"!==a&&(n=String(n),J.warn("WARNING: Non-string groupType, received type "+a+', coercing to string "'+n+'"'));var r=se(n,e[s]);null!==r&&(i[n]=r)}return i},le=function(e,t,i){return j(e)===i||(J.error("Invalid "+t+" input type. Expected "+i+" but received "+j(e)),!1)},de=ee,ue=function(){return window.location},pe=function(){for(var e="",t=0;t<22;++t)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(Math.floor(64*Math.random()));return e},fe=function(e){try{for(var t=document.cookie.split(";"),i=null,s=0;s<t.length;s++){for(var n=t[s];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e)){i=n.substring(e.length,n.length);break}}return i}catch(e){return null}},me=function(e,t,i){var s=null!==t?i.expirationDays:-1;if(s){var n=new Date;n.setTime(n.getTime()+24*s*60*60*1e3),s=n}var a=e+"="+t;s&&(a+="; expires="+s.toUTCString()),a+="; path=/",i.domain&&(a+="; domain="+i.domain),i.secure&&(a+="; Secure"),i.sameSite&&(a+="; SameSite="+i.sameSite),document.cookie=a},ge=me,ye=fe,ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=String(new Date);try{var i=T+pe();me(i,t,e);var s=fe(i+"=")===t;return me(i,null,e),s}catch(e){}return!1},we=function(e){var t=document.createElement("a");return t.href=e,t.hostname||location.hostname},be=function(e){for(var t=we(e).split("."),i=[],s="_tldtest_"+pe(),n=t.length-2;n>=0;--n)i.push(t.slice(n).join("."));for(var a=0;a<i.length;++a){var r=i[a],o={domain:"."+r};if(ge(s,1,o),ye(s))return ge(s,null,o),r}return""},xe={expirationDays:void 0,domain:void 0},ke=function(e){var t="";return xe.domain&&(t="."===xe.domain.charAt(0)?xe.domain.substring(1):xe.domain),e+t},Te=function(e){var t=ke(e)+"=",i=ye(t);try{if(i)return JSON.parse(X.decode(i))}catch(e){return null}return null},_e=function(e,t){try{return ge(ke(e),X.encode(JSON.stringify(t)),xe),!0}catch(e){return!1}},Se=function(e){try{return ge(ke(e),null,xe),!0}catch(e){return!1}},Ce={reset:function(){xe={expirationDays:void 0,domain:void 0}},options:function(e){if(0===arguments.length)return xe;e=e||{},xe.expirationDays=e.expirationDays,xe.secure=e.secure,xe.sameSite=e.sameSite;var t=re(e.domain)?"."+be(ue().href):e.domain,i=Math.random();xe.domain=t,_e("amplitude_test",i);var s=Te("amplitude_test");return s&&s===i||(t=null),Se("amplitude_test"),xe.domain=t,xe},get:Te,set:_e,remove:Se,setRaw:function(e,t){try{return ge(ke(e),t,xe),!0}catch(e){return!1}},getRaw:function(e){var t=ke(e)+"=";return ye(t)}};if(function(){var e,t=new Date;try{return window.localStorage.setItem(t,t),e=window.localStorage.getItem(t)===String(t),window.localStorage.removeItem(t),e}catch(e){}return!1}())$=window.localStorage;else if(window.globalStorage)try{$=window.globalStorage[window.location.hostname]}catch(e){}else if("undefined"!=typeof document){var Pe=document.createElement("div"),Be="localStorage";Pe.style.display="none",document.getElementsByTagName("head")[0].appendChild(Pe),Pe.addBehavior&&(Pe.addBehavior("#default#userdata"),$={length:0,setItem:function(e,t){Pe.load(Be),Pe.getAttribute(e)||this.length++,Pe.setAttribute(e,t),Pe.save(Be)},getItem:function(e){return Pe.load(Be),Pe.getAttribute(e)},removeItem:function(e){Pe.load(Be),Pe.getAttribute(e)&&this.length--,Pe.removeAttribute(e),Pe.save(Be)},clear:function(){Pe.load(Be);for(var e,t=0;e=Pe.XMLDocument.documentElement.attributes[t++];)Pe.removeAttribute(e.name);Pe.save(Be),this.length=0},key:function(e){return Pe.load(Be),Pe.XMLDocument.documentElement.attributes[e]}},Pe.load(Be),$.length=Pe.XMLDocument.documentElement.attributes.length)}$||($={length:0,setItem:function(e,t){},getItem:function(e){},removeItem:function(e){},clear:function(){},key:function(e){}});var Ae,Ee=$,Me=function(){this.storage=null};Me.prototype.getStorage=function(){return null!==this.storage||(ve()?this.storage=Ce:this.storage={_options:{expirationDays:void 0,domain:void 0,secure:!1},reset:function(){this._options={expirationDays:void 0,domain:void 0,secure:!1}},options:function(e){return 0===arguments.length?this._options:(e=e||{},this._options.expirationDays=e.expirationDays||this._options.expirationDays,this._options.domain=e.domain||this._options.domain||window&&window.location&&window.location.hostname,this._options.secure=e.secure||!1)},get:function(e){try{return JSON.parse(Ee.getItem("amp_cookiestore_"+e))}catch(e){}return null},set:function(e,t){try{return Ee.setItem("amp_cookiestore_"+e,JSON.stringify(t)),!0}catch(e){}return!1},remove:function(e){try{Ee.removeItem("amp_cookiestore_"+e)}catch(e){return!1}}}),this.storage};var Oe=(a(Ae={},C,!0),a(Ae,P,!0),a(Ae,B,!0),a(Ae,A,!0),Ae),Ie=function(){function e(t){var i=t.storageKey,s=t.disableCookies,n=t.domain,a=t.secure,r=t.sameSite,o=t.expirationDays,c=t.storage;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageKey=i,this.domain=n,this.secure=a,this.sameSite=r,this.expirationDays=o,this.cookieDomain="";var h=be(ue().href);if(this.cookieDomain=n||(h?"."+h:null),Oe[c])this.storage=c;else{var l=s||!ve({domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays});this.storage=l?B:C}}var t,i,s;return t=e,(i=[{key:"getCookieStorageKey",value:function(){if(!this.domain)return this.storageKey;var e="."===this.domain.charAt(0)?this.domain.substring(1):this.domain;return"".concat(this.storageKey).concat(e?"_".concat(e):"")}},{key:"save",value:function(e){var t=e.deviceId,i=e.userId,s=e.optOut,n=e.sessionId,a=e.lastEventTime,r=e.eventId,o=e.identifyId,c=e.sequenceNumber;if(this.storage!==P){var h=[t,X.encode(i||""),s?"1":"",n?n.toString(32):"0",a?a.toString(32):"0",r?r.toString(32):"0",o?o.toString(32):"0",c?c.toString(32):"0"].join(".");switch(this.storage){case A:window.sessionStorage&&window.sessionStorage.setItem(this.storageKey,h);break;case B:Ee.setItem(this.storageKey,h);break;case C:ge(this.getCookieStorageKey(),h,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays})}}}},{key:"load",value:function(){var e;if(this.storage===C&&(e=ye(this.getCookieStorageKey()+"=")),e||(e=Ee.getItem(this.storageKey)),!e)try{e=window.sessionStorage&&window.sessionStorage.getItem(this.storageKey)}catch(e){ae.info('window.sessionStorage unavailable. Reason: "'.concat(e,'"'))}if(!e)return null;var t=e.split("."),i=null;if(t[1])try{i=X.decode(t[1])}catch(e){i=null}return{deviceId:t[0],userId:i,optOut:"1"===t[2],sessionId:parseInt(t[3],32),lastEventTime:parseInt(t[4],32),eventId:parseInt(t[5],32),identifyId:parseInt(t[6],32),sequenceNumber:parseInt(t[7],32)}}}])&&n(t.prototype,i),s&&n(t,s),e}(),Re=function(){this.userPropertiesOperations={},this.properties=[]};Re.prototype.add=function(e,t){return"number"===j(t)||"string"===j(t)?this._addOperation("$add",e,t):ae.error("Unsupported type for value: "+j(t)+", expecting number or string"),this},Re.prototype.append=function(e,t){return this._addOperation("$append",e,t),this},Re.prototype.clearAll=function(){return Object.keys(this.userPropertiesOperations).length>0?(Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,"$clearAll")||ae.error("Need to send $clearAll on its own Identify object without any other operations, skipping $clearAll"),this):(this.userPropertiesOperations.$clearAll="-",this)},Re.prototype.prepend=function(e,t){return this._addOperation("$prepend",e,t),this},Re.prototype.set=function(e,t){return this._addOperation("$set",e,t),this},Re.prototype.setOnce=function(e,t){return this._addOperation("$setOnce",e,t),this},Re.prototype.unset=function(e){return this._addOperation("$unset",e,"-"),this},Re.prototype._addOperation=function(e,t,i){Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,"$clearAll")?ae.error("This identify already contains a $clearAll operation, skipping operation "+e):-1===this.properties.indexOf(t)?(Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,e)||(this.userPropertiesOperations[e]={}),this.userPropertiesOperations[e][t]=i,this.properties.push(t)):ae.error('User property "'+t+'" already used in this identify, skipping operation '+e)};var De="undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:{};function Ne(e,t){return e(t={exports:{}},t.exports),t.exports}var Fe=Ne((function(e){!function(t){function i(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function s(e,t,s,n,a,r){return i((o=i(i(t,e),i(n,r)))<<(c=a)|o>>>32-c,s);var o,c}function n(e,t,i,n,a,r,o){return s(t&i|~t&n,e,t,a,r,o)}function a(e,t,i,n,a,r,o){return s(t&n|i&~n,e,t,a,r,o)}function r(e,t,i,n,a,r,o){return s(t^i^n,e,t,a,r,o)}function o(e,t,i,n,a,r,o){return s(i^(t|~n),e,t,a,r,o)}function c(e,t){var s,c,h,l,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var u=1732584193,p=-271733879,f=-1732584194,m=271733878;for(s=0;s<e.length;s+=16)c=u,h=p,l=f,d=m,u=n(u,p,f,m,e[s],7,-680876936),m=n(m,u,p,f,e[s+1],12,-389564586),f=n(f,m,u,p,e[s+2],17,606105819),p=n(p,f,m,u,e[s+3],22,-1044525330),u=n(u,p,f,m,e[s+4],7,-176418897),m=n(m,u,p,f,e[s+5],12,1200080426),f=n(f,m,u,p,e[s+6],17,-1473231341),p=n(p,f,m,u,e[s+7],22,-45705983),u=n(u,p,f,m,e[s+8],7,1770035416),m=n(m,u,p,f,e[s+9],12,-1958414417),f=n(f,m,u,p,e[s+10],17,-42063),p=n(p,f,m,u,e[s+11],22,-1990404162),u=n(u,p,f,m,e[s+12],7,1804603682),m=n(m,u,p,f,e[s+13],12,-40341101),f=n(f,m,u,p,e[s+14],17,-1502002290),u=a(u,p=n(p,f,m,u,e[s+15],22,1236535329),f,m,e[s+1],5,-165796510),m=a(m,u,p,f,e[s+6],9,-1069501632),f=a(f,m,u,p,e[s+11],14,643717713),p=a(p,f,m,u,e[s],20,-373897302),u=a(u,p,f,m,e[s+5],5,-701558691),m=a(m,u,p,f,e[s+10],9,38016083),f=a(f,m,u,p,e[s+15],14,-660478335),p=a(p,f,m,u,e[s+4],20,-405537848),u=a(u,p,f,m,e[s+9],5,568446438),m=a(m,u,p,f,e[s+14],9,-1019803690),f=a(f,m,u,p,e[s+3],14,-187363961),p=a(p,f,m,u,e[s+8],20,1163531501),u=a(u,p,f,m,e[s+13],5,-1444681467),m=a(m,u,p,f,e[s+2],9,-51403784),f=a(f,m,u,p,e[s+7],14,1735328473),u=r(u,p=a(p,f,m,u,e[s+12],20,-1926607734),f,m,e[s+5],4,-378558),m=r(m,u,p,f,e[s+8],11,-2022574463),f=r(f,m,u,p,e[s+11],16,1839030562),p=r(p,f,m,u,e[s+14],23,-35309556),u=r(u,p,f,m,e[s+1],4,-1530992060),m=r(m,u,p,f,e[s+4],11,1272893353),f=r(f,m,u,p,e[s+7],16,-155497632),p=r(p,f,m,u,e[s+10],23,-1094730640),u=r(u,p,f,m,e[s+13],4,681279174),m=r(m,u,p,f,e[s],11,-358537222),f=r(f,m,u,p,e[s+3],16,-722521979),p=r(p,f,m,u,e[s+6],23,76029189),u=r(u,p,f,m,e[s+9],4,-640364487),m=r(m,u,p,f,e[s+12],11,-421815835),f=r(f,m,u,p,e[s+15],16,530742520),u=o(u,p=r(p,f,m,u,e[s+2],23,-995338651),f,m,e[s],6,-198630844),m=o(m,u,p,f,e[s+7],10,1126891415),f=o(f,m,u,p,e[s+14],15,-1416354905),p=o(p,f,m,u,e[s+5],21,-57434055),u=o(u,p,f,m,e[s+12],6,1700485571),m=o(m,u,p,f,e[s+3],10,-1894986606),f=o(f,m,u,p,e[s+10],15,-1051523),p=o(p,f,m,u,e[s+1],21,-2054922799),u=o(u,p,f,m,e[s+8],6,1873313359),m=o(m,u,p,f,e[s+15],10,-30611744),f=o(f,m,u,p,e[s+6],15,-1560198380),p=o(p,f,m,u,e[s+13],21,1309151649),u=o(u,p,f,m,e[s+4],6,-145523070),m=o(m,u,p,f,e[s+11],10,-1120210379),f=o(f,m,u,p,e[s+2],15,718787259),p=o(p,f,m,u,e[s+9],21,-343485551),u=i(u,c),p=i(p,h),f=i(f,l),m=i(m,d);return[u,p,f,m]}function h(e){var t,i="",s=32*e.length;for(t=0;t<s;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function l(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;var s=8*e.length;for(t=0;t<s;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function d(e){var t,i,s="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),s+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return s}function u(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return h(c(l(e),8*e.length))}(u(e))}function f(e,t){return function(e,t){var i,s,n=l(e),a=[],r=[];for(a[15]=r[15]=void 0,n.length>16&&(n=c(n,8*e.length)),i=0;i<16;i+=1)a[i]=909522486^n[i],r[i]=1549556828^n[i];return s=c(a.concat(l(t)),512+8*t.length),h(c(r.concat(s),640))}(u(e),u(t))}function m(e,t,i){return t?i?f(t,e):d(f(t,e)):i?p(e):d(p(e))}e.exports?e.exports=m:t.md5=m}(De)})),Le=Object.getOwnPropertySymbols,Ye=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;function Ve(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var We=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(e){s[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,s,n=Ve(e),a=1;a<arguments.length;a++){for(var r in i=Object(arguments[a]))Ye.call(i,r)&&(n[r]=i[r]);if(Le){s=Le(i);for(var o=0;o<s.length;o++)Ue.call(i,s[o])&&(n[s[o]]=i[s[o]])}}return n};function ze(e,t){return t.encode?t.strict?encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):encodeURIComponent(e):e}new RegExp("%[a-f0-9]{2}","gi"),new RegExp("(%[a-f0-9]{2})+","gi");var He=function(e,t){!1===(t=We({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var i=function(e){switch(e.arrayFormat){case"index":return function(t,i,s){return null===i?[ze(t,e),"[",s,"]"].join(""):[ze(t,e),"[",ze(s,e),"]=",ze(i,e)].join("")};case"bracket":return function(t,i){return null===i?ze(t,e):[ze(t,e),"[]=",ze(i,e)].join("")};default:return function(t,i){return null===i?ze(t,e):[ze(t,e),"=",ze(i,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(s){var n=e[s];if(void 0===n)return"";if(null===n)return ze(s,t);if(Array.isArray(n)){var a=[];return n.slice().forEach((function(e){void 0!==e&&a.push(i(s,e,a.length))})),a.join("&")}return ze(s,t)+"="+ze(n,t)})).filter((function(e){return e.length>0})).join("&"):""},Xe=function(e,t){this.url=e,this.data=t||{}};Xe.prototype.send=function(e){if(window.XDomainRequest){var t=new window.XDomainRequest;t.open("POST",this.url,!0),t.onload=function(){e(200,t.responseText)},t.onerror=function(){"Request Entity Too Large"===t.responseText?e(413,t.responseText):e(500,t.responseText)},t.ontimeout=function(){},t.onprogress=function(){},t.send(He(this.data))}else{var i=new XMLHttpRequest;i.open("POST",this.url,!0),i.onreadystatechange=function(){4===i.readyState&&e(i.status,i.responseText)},i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(He(this.data))}};var Ge=function(){this._price=null,this._productId=null,this._quantity=1,this._revenueType=null,this._properties=null};Ge.prototype.setProductId=function(e){return"string"!==j(e)?ae.error("Unsupported type for productId: "+j(e)+", expecting string"):re(e)?ae.error("Invalid empty productId"):this._productId=e,this},Ge.prototype.setQuantity=function(e){return"number"!==j(e)?ae.error("Unsupported type for quantity: "+j(e)+", expecting number"):this._quantity=parseInt(e),this},Ge.prototype.setPrice=function(e){return"number"!==j(e)?ae.error("Unsupported type for price: "+j(e)+", expecting number"):this._price=e,this},Ge.prototype.setRevenueType=function(e){return"string"!==j(e)?ae.error("Unsupported type for revenueType: "+j(e)+", expecting string"):this._revenueType=e,this},Ge.prototype.setEventProperties=function(e){return"object"!==j(e)?ae.error("Unsupported type for eventProperties: "+j(e)+", expecting object"):this._properties=de(e),this},Ge.prototype._isValidRevenue=function(){return"number"===j(this._price)||(ae.error("Invalid revenue, need to set price field"),!1)},Ge.prototype._toJSONObject=function(){var e="object"===j(this._properties)?this._properties:{};return null!==this._productId&&(e[M]=this._productId),null!==this._quantity&&(e[O]=this._quantity),null!==this._price&&(e[I]=this._price),null!==this._revenueType&&(e[R]=this._revenueType),e};var je=Ne((function(e,t){!function(i,s){var n="model",a="name",r="type",o="vendor",c="version",h="mobile",l="tablet",d="smarttv",u={extend:function(e,t){var i={};for(var s in e)t[s]&&t[s].length%2==0?i[s]=t[s].concat(e[s]):i[s]=e[s];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},p={rgx:function(e,t){for(var i,s,n,a,r,o,c=0;c<t.length&&!r;){var h=t[c],l=t[c+1];for(i=s=0;i<h.length&&!r;)if(r=h[i++].exec(e))for(n=0;n<l.length;n++)o=r[++s],"object"==typeof(a=l[n])&&a.length>0?2==a.length?"function"==typeof a[1]?this[a[0]]=a[1].call(this,o):this[a[0]]=a[1]:3==a.length?"function"!=typeof a[1]||a[1].exec&&a[1].test?this[a[0]]=o?o.replace(a[1],a[2]):void 0:this[a[0]]=o?a[1].call(this,o,a[2]):void 0:4==a.length&&(this[a[0]]=o?a[3].call(this,o.replace(a[1],a[2])):void 0):this[a]=o||void 0;c+=2}},str:function(e,t){for(var i in t)if("object"==typeof t[i]&&t[i].length>0){for(var s=0;s<t[i].length;s++)if(u.has(t[i][s],e))return"?"===i?void 0:i}else if(u.has(t[i],e))return"?"===i?void 0:i;return e}},f={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,c],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[a,c],[/(konqueror)\/([\w\.]+)/i],[[a,"Konqueror"],c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],c],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],c],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],c],[/(Avast)\/([\w\.]+)/i],[[a,"Avast Secure Browser"],c],[/(AVG)\/([\w\.]+)/i],[[a,"AVG Secure Browser"],c],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],c],[/(focus)\/([\w\.]+)/i],[[a,"Firefox Focus"],c],[/(opt)\/([\w\.]+)/i],[[a,"Opera Touch"],c],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],c],[/(windowswechat qbcore)\/([\w\.]+)/i],[[a,"WeChat(Win) Desktop"],c],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],c],[/(brave)\/([\w\.]+)/i],[[a,"Brave"],c],[/(qqbrowserlite)\/([\w\.]+)/i],[a,c],[/(QQ)\/([\d\.]+)/i],[a,c],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,c],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[a,c],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,c],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[c,[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[a,c],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[c,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],c],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i,/android.+(chrome)\/([\w\.]+)\s+(?:mobile\s?safari)/i],[[a,"Chrome Mobile"],c],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[c,[a,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[a,"Sailfish Browser"],c],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,c],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],c],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[a,"360 Browser"]],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],c],[/fxios\/([\w\.-]+)/i],[c,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[c,p.str,f.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[a,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",u.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",u.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",u.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[n,o,[r,l]],[/applecoremedia\/[\w\.]+ \((ipad)/],[n,[o,"Apple"],[r,l]],[/(apple\s{0,1}tv)/i],[[n,"Apple TV"],[o,"Apple"],[r,d]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[o,n,[r,l]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[n,[o,"Amazon"],[r,l]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[n,p.str,f.device.amazon.model],[o,"Amazon"],[r,h]],[/android.+aft([bms])\sbuild/i],[n,[o,"Amazon"],[r,d]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[n,o,[r,h]],[/\((ip[honed|\s\w*]+);/i],[n,[o,"Apple"],[r,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[o,n,[r,h]],[/\(bb10;\s(\w+)/i],[n,[o,"BlackBerry"],[r,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[n,[o,"Asus"],[r,l]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[o,"Sony"],[n,"Xperia Tablet"],[r,l]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[n,[o,"Sony"],[r,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[o,n,[r,"console"]],[/android.+;\s(shield)\sbuild/i],[n,[o,"Nvidia"],[r,"console"]],[/(playstation\s[34portablevi]+)/i],[n,[o,"Sony"],[r,"console"]],[/(sprint\s(\w+))/i],[[o,p.str,f.device.sprint.vendor],[n,p.str,f.device.sprint.model],[r,h]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[o,[n,/_/g," "],[r,h]],[/(nexus\s9)/i],[n,[o,"HTC"],[r,l]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[n,[o,"Huawei"],[r,h]],[/android.+(bah2?-a?[lw]\d{2})/i],[n,[o,"Huawei"],[r,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[o,n,[r,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[n,[o,"Microsoft"],[r,"console"]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[o,"Microsoft"],[r,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[n,[o,"Motorola"],[r,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[n,[o,"Motorola"],[r,l]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[o,u.trim],[n,u.trim],[r,d]],[/hbbtv.+maple;(\d+)/i],[[n,/^/,"SmartTV"],[o,"Samsung"],[r,d]],[/\(dtv[\);].+(aquos)/i],[n,[o,"Sharp"],[r,d]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[o,"Samsung"],n,[r,l]],[/smart-tv.+(samsung)/i],[o,[r,d],n],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[o,"Samsung"],n,[r,h]],[/sie-(\w*)/i],[n,[o,"Siemens"],[r,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[o,"Nokia"],n,[r,h]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[n,[o,"Acer"],[r,l]],[/android.+([vl]k\-?\d{3})\s+build/i],[n,[o,"LG"],[r,l]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[o,"LG"],n,[r,l]],[/(lg) netcast\.tv/i],[o,n,[r,d]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[n,[o,"LG"],[r,h]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[o,n,[r,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[n,[o,"Lenovo"],[r,l]],[/(lenovo)[_\s-]?([\w-]+)/i],[o,n,[r,h]],[/linux;.+((jolla));/i],[o,n,[r,h]],[/((pebble))app\/[\d\.]+\s/i],[o,n,[r,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[o,n,[r,h]],[/crkey/i],[[n,"Chromecast"],[o,"Google"],[r,d]],[/android.+;\s(glass)\s\d/i],[n,[o,"Google"],[r,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[n,[o,"Google"],[r,l]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[n,[o,"Google"],[r,h]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[n,/_/g," "],[o,"Xiaomi"],[r,h]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[n,/_/g," "],[o,"Xiaomi"],[r,l]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[n,[o,"Meizu"],[r,h]],[/(mz)-([\w-]{2,})/i],[[o,"Meizu"],n,[r,h]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[n,[o,"OnePlus"],[r,h]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[n,[o,"RCA"],[r,l]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[n,[o,"Dell"],[r,l]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[n,[o,"Verizon"],[r,l]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[o,"Barnes & Noble"],n,[r,l]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[n,[o,"NuVision"],[r,l]],[/android.+;\s(k88)\sbuild/i],[n,[o,"ZTE"],[r,l]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[n,[o,"Swiss"],[r,h]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[n,[o,"Swiss"],[r,l]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[n,[o,"Zeki"],[r,l]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[o,"Dragon Touch"],n,[r,l]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[n,[o,"Insignia"],[r,l]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[n,[o,"NextBook"],[r,l]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[o,"Voice"],n,[r,h]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[o,"LvTel"],n,[r,h]],[/android.+;\s(PH-1)\s/i],[n,[o,"Essential"],[r,h]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[n,[o,"Envizen"],[r,l]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[o,n,[r,l]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[n,[o,"MachSpeed"],[r,l]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[o,n,[r,l]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[n,[o,"Rotor"],[r,l]],[/android.+(KS(.+))\s+build/i],[n,[o,"Amazon"],[r,l]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[o,n,[r,l]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[r,u.lowerize],o,n],[/[\s\/\(](smart-?tv)[;\)]/i],[[r,d]],[/(android[\w\.\s\-]{0,9});.+build/i],[n,[o,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[c,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,c],[/rv\:([\w\.]{1,9}).+(gecko)/i],[c,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[[a,p.str,f.os.windows.name],[c,p.str,f.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[c,p.str,f.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[a,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],c],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[[a,"Linux"],c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],c],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[[a,"Linux"],c],[/(iphone)(?:.*os\s*([\w]*)\slike\smac|;\sopera)/i],[[a,"iPhone"],[c,/_/g,"."]],[/(ipad)(?:.*os\s*([\w]*)\slike\smac|;\sopera)/i],[[a,"iPad"],[c,/_/g,"."]],[/(haiku)\s(\w+)/i],[a,c],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[c,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,c]]},g=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof g))return new g(e,t).getResult();var s=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=t?u.extend(m,t):m;return this.getBrowser=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,s,n.browser),e.major=u.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return p.rgx.call(e,s,n.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return p.rgx.call(e,s,n.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,s,n.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,s,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return s},this.setUA=function(e){return s=e,this},this};g.VERSION="0.7.21",g.BROWSER={NAME:a,MAJOR:"major",VERSION:c},g.CPU={ARCHITECTURE:"architecture"},g.DEVICE={MODEL:n,VENDOR:o,TYPE:r,CONSOLE:"console",MOBILE:h,SMARTTV:d,TABLET:l,WEARABLE:"wearable",EMBEDDED:"embedded"},g.ENGINE={NAME:a,VERSION:c},g.OS={NAME:a,VERSION:c},e.exports&&(t=e.exports=g),t.UAParser=g;var y=i&&(i.jQuery||i.Zepto);if(y&&!y.ua){var v=new g;y.ua=v.getResult(),y.ua.get=function(){return v.getUA()},y.ua.set=function(e){v.setUA(e);var t=v.getResult();for(var i in t)y.ua[i]=t[i]}}}("object"==typeof window?window:De)})),$e=(je.UAParser,{apiEndpoint:"api.amplitude.com",batchEvents:!1,cookieExpiration:365,cookieName:"amplitude_id",sameSiteCookie:"Lax",cookieForceUpgrade:!1,deferInitialization:!1,disableCookies:!1,deviceIdFromUrlParam:!1,domain:"",eventUploadPeriodMillis:3e4,eventUploadThreshold:30,forceHttps:!0,includeFbclid:!1,includeGclid:!1,includeReferrer:!1,includeUtm:!1,language:navigator&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||"",logLevel:"WARN",logAttributionCapturedEvent:!1,optOut:!1,onError:function(){},platform:"Web",savedMaxCount:1e3,saveEvents:!0,saveParamsReferrerOncePerSession:!0,secureCookie:!1,sessionTimeout:18e5,storage:S,trackingOptions:{city:!0,country:!0,carrier:!0,device_manufacturer:!0,device_model:!0,dma:!0,ip_address:!0,language:!0,os_name:!0,os_version:!0,platform:!0,region:!0,version_name:!0},unsetParamsReferrerOnNewSession:!1,unsentKey:"amplitude_unsent",unsentIdentifyKey:"amplitude_unsent_identify",uploadBatchSize:100}),Ke=function(e){d()||ae.warn("amplitude-js will not work in a non-browser environment. If you are planning to add Amplitude to a node environment, please use @amplitude/node"),this._instanceName=re(e)?y:e.toLowerCase(),this._unsentEvents=[],this._unsentIdentifys=[],this._ua=new je(navigator.userAgent).getResult(),this.options=r({},$e,{trackingOptions:r({},$e.trackingOptions)}),this.cookieStorage=(new Me).getStorage(),this._q=[],this._sending=!1,this._updateScheduled=!1,this._onInit=[],this._eventId=0,this._identifyId=0,this._lastEventTime=null,this._newSession=!1,this._sequenceNumber=0,this._sessionId=null,this._isInitialized=!1,this._userAgent=navigator&&navigator.userAgent||null};Ke.prototype.Identify=Re,Ke.prototype.Revenue=Ge,Ke.prototype.init=function(e,t,i,s){var n=this;if("string"!==j(e)||re(e))ae.error("Invalid apiKey. Please re-initialize with a valid apiKey");else try{Je(this.options,i),d()&&void 0!==window.Prototype&&Array.prototype.toJSON&&(function(){var e;if(d()){var t=window,i=Array;if(void 0!==t.Prototype&&void 0!==(null===(e=i.prototype)||void 0===e?void 0:e.toJSON))delete i.prototype.toJSON}}(),ae.warn("Prototype.js injected Array.prototype.toJSON. Deleting Array.prototype.toJSON to prevent double-stringify")),this.options.cookieName!==$e.cookieName&&ae.warn("The cookieName option is deprecated. We will be ignoring it for newer cookies"),this.options.apiKey=e,this._storageSuffix="_"+e+(this._instanceName===y?"":"_"+this._instanceName),this._storageSuffixV5=e.slice(0,6),this._oldCookiename=this.options.cookieName+this._storageSuffix,this._unsentKey=this.options.unsentKey+this._storageSuffix,this._unsentIdentifyKey=this.options.unsentIdentifyKey+this._storageSuffix,this._cookieName=_+"_"+this._storageSuffixV5,this.cookieStorage.options({expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie}),this._metadataStorage=new Ie({storageKey:this._cookieName,disableCookies:this.options.disableCookies,expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie,storage:this.options.storage});var a=!!this.cookieStorage.get(this._oldCookiename),r=!!this._metadataStorage.load();this._useOldCookie=!r&&a&&!this.options.cookieForceUpgrade;var o=r||a;if(this.options.domain=this.cookieStorage.options().domain,this.options.deferInitialization&&!o)return void this._deferInitialization(e,t,i,s);"string"===j(this.options.logLevel)&&ne(this.options.logLevel);var c=at(this);this._apiPropertiesTrackingOptions=Object.keys(c).length>0?{tracking_options:c}:{},this.options.cookieForceUpgrade&&a&&(r||Ze(this),this.cookieStorage.remove(this._oldCookiename)),Qe(this),this._pendingReadStorage=!0;var h=function(e){n.options.deviceId=n._getInitialDeviceId(i&&i.deviceId,e),n.options.userId="string"===j(t)&&!re(t)&&t||"number"===j(t)&&t.toString()||n.options.userId||null;var s=(new Date).getTime();(!n._sessionId||!n._lastEventTime||s-n._lastEventTime>n.options.sessionTimeout)&&(n.options.unsetParamsReferrerOnNewSession&&n._unsetUTMParams(),n._newSession=!0,n._sessionId=s,n.options.saveParamsReferrerOncePerSession&&n._trackParamsAndReferrer()),n.options.saveParamsReferrerOncePerSession||n._trackParamsAndReferrer(),n.options.saveEvents&&(qe(n._unsentEvents),qe(n._unsentIdentifys)),n._lastEventTime=s,tt(n),n._pendingReadStorage=!1,n._sendEventsIfReady();for(var a=0;a<n._onInit.length;a++)n._onInit[a](n);n._onInit=[],n._isInitialized=!0};this.options.saveEvents&&(this._unsentEvents=this._loadSavedUnsentEvents(this.options.unsentKey).map((function(e){return{event:e}})).concat(this._unsentEvents),this._unsentIdentifys=this._loadSavedUnsentEvents(this.options.unsentIdentifyKey).map((function(e){return{event:e}})).concat(this._unsentIdentifys)),h(),this.runQueuedFunctions(),"function"===j(s)&&s(this)}catch(e){ae.error(e),this.options.onError(e)}},Ke.prototype.deleteLowerLevelDomainCookies=function(){var e=we(),t=this.options.domain&&"."===this.options.domain[0]?this.options.domain.slice(1):this.options.domain;if(t&&e!==t&&new RegExp(t+"$").test(e)){for(var i=e.split("."),s=t.split("."),n=i.length;n>s.length;--n){var a=i.slice(i.length-n).join(".");ge(this._cookieName,null,{domain:"."+a})}ge(this._cookieName,null,{})}},Ke.prototype._getInitialDeviceId=function(e,t){if(e)return e;if(this.options.deviceIdFromUrlParam){var i=this._getDeviceIdFromUrlParam(this._getUrlParams());if(i)return i}return this.options.deviceId?this.options.deviceId:t||pe()};var qe=function(e){for(var t=0;t<e.length;t++){var i=e[t].event.user_properties,s=e[t].event.event_properties,n=e[t].event.groups;e[t].event.user_properties=de(i),e[t].event.event_properties=de(s),e[t].event.groups=he(n)}};Ke.prototype._migrateUnsentEvents=function(e){var t=this;Promise.all([(void 0).getItem(this.options.unsentKey),(void 0).getItem(this.options.unsentIdentifyKey)]).then((function(e){if(t.options.saveEvents){var i=e[0],s=e[1],n=[],a=[];i&&(n.push((void 0).setItem(t.options.unsentKey+t._storageSuffix,JSON.stringify(i))),a.push((void 0).removeItem(t.options.unsentKey))),s&&(n.push((void 0).setItem(t.options.unsentIdentifyKey+t._storageSuffix,JSON.stringify(s))),a.push((void 0).removeItem(t.options.unsentIdentifyKey))),n.length>0&&Promise.all(n).then((function(){})).catch((function(e){t.options.onError(e)}))}})).then(e).catch((function(e){t.options.onError(e)}))},Ke.prototype._trackParamsAndReferrer=function(){var e,t,i,s;if(this.options.includeUtm&&(e=this._initUtmData()),this.options.includeReferrer&&(t=this._saveReferrer(this._getReferrer())),this.options.includeGclid&&(i=this._saveGclid(this._getUrlParams())),this.options.includeFbclid&&(s=this._saveFbclid(this._getUrlParams())),this.options.logAttributionCapturedEvent){var n=r({},e,t,i,s);Object.keys(n).length>0&&this.logEvent(W,n)}};var Je=function e(t,i){if("object"===j(i)){var s=function(s){if(Object.prototype.hasOwnProperty.call(t,s)){var n=i[s],a=j(t[s]);le(n,s+" option",a)&&("boolean"===a?t[s]=!!n:"string"===a&&!re(n)||"number"===a&&n>0?t[s]=n:"object"===a&&e(t[s],n))}};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&s(n)}};Ke.prototype.runQueuedFunctions=function(){var e=this._q;this._q=[];for(var t=0;t<e.length;t++){var i=this[e[t][0]];"function"===j(i)&&i.apply(this,e[t].slice(1))}},Ke.prototype._apiKeySet=function(e){return!re(this.options.apiKey)||(ae.error("Invalid apiKey. Please set a valid apiKey with init() before calling "+e),!1)},Ke.prototype._loadSavedUnsentEvents=function(e){var t=this._getFromStorage(Ee,e),i=this._parseSavedUnsentEventsString(t,e);return this._setInStorage(Ee,e,JSON.stringify(i)),i},Ke.prototype._parseSavedUnsentEventsString=function(e,t){if(re(e))return[];if("string"===j(e))try{var i=JSON.parse(e);if("array"===j(i))return i}catch(e){}return ae.error("Unable to load "+t+" events. Restart with a new empty queue."),[]},Ke.prototype.isNewSession=function(){return this._newSession},Ke.prototype.onInit=function(e){this._isInitialized?e(this):this._onInit.push(e)},Ke.prototype.getSessionId=function(){return this._sessionId},Ke.prototype.nextEventId=function(){return this._eventId++,this._eventId},Ke.prototype.nextIdentifyId=function(){return this._identifyId++,this._identifyId},Ke.prototype.nextSequenceNumber=function(){return this._sequenceNumber++,this._sequenceNumber},Ke.prototype._unsentCount=function(){return this._unsentEvents.length+this._unsentIdentifys.length},Ke.prototype._sendEventsIfReady=function(){return 0!==this._unsentCount()&&(this.options.batchEvents?this._unsentCount()>=this.options.eventUploadThreshold?(this.sendEvents(),!0):(this._updateScheduled||(this._updateScheduled=!0,setTimeout(function(){this._updateScheduled=!1,this.sendEvents()}.bind(this),this.options.eventUploadPeriodMillis)),!1):(this.sendEvents(),!0))},Ke.prototype._getFromStorage=function(e,t){return e.getItem(t+this._storageSuffix)},Ke.prototype._setInStorage=function(e,t,i){e.setItem(t+this._storageSuffix,i)};var Qe=function(e){if(e._useOldCookie){var t=e.cookieStorage.get(e._oldCookiename);"object"!==j(t)||et(e,t)}else{var i=e._metadataStorage.load();"object"===j(i)&&et(e,i)}},Ze=function(e){var t=e.cookieStorage.get(e._oldCookiename);"object"===j(t)&&(et(e,t),tt(e))},et=function(e,t){t.deviceId&&(e.options.deviceId=t.deviceId),t.userId&&(e.options.userId=t.userId),null!==t.optOut&&void 0!==t.optOut&&!1!==t.optOut&&(e.options.optOut=t.optOut),t.sessionId&&(e._sessionId=parseInt(t.sessionId,10)),t.lastEventTime&&(e._lastEventTime=parseInt(t.lastEventTime,10)),t.eventId&&(e._eventId=parseInt(t.eventId,10)),t.identifyId&&(e._identifyId=parseInt(t.identifyId,10)),t.sequenceNumber&&(e._sequenceNumber=parseInt(t.sequenceNumber,10))},tt=function(e){var t={deviceId:e.options.deviceId,userId:e.options.userId,optOut:e.options.optOut,sessionId:e._sessionId,lastEventTime:e._lastEventTime,eventId:e._eventId,identifyId:e._identifyId,sequenceNumber:e._sequenceNumber};e._useOldCookie?e.cookieStorage.set(e.options.cookieName+e._storageSuffix,t):e._metadataStorage.save(t)};Ke.prototype._initUtmData=function(e,t){e=e||this._getUrlParams(),t=t||this.cookieStorage.get("__utmz");var i,s,n,a,r,o,c,h,l,d,u,p=(s=e,n=(i=t)?"?"+i.split(".").slice(-1)[0].replace(/\|/g,"&"):"",r=(a=function(e,t,i,s){return oe(e,t)||oe(i,s)})(F,s,"utmcsr",n),o=a(L,s,"utmcmd",n),c=a(Y,s,"utmccn",n),h=a(U,s,"utmctr",n),l=a(V,s,"utmcct",n),d={},(u=function(e,t){re(t)||(d[e]=t)})(F,r),u(L,o),u(Y,c),u(U,h),u(V,l),d);return it(this,p),p},Ke.prototype._unsetUTMParams=function(){var e=new Re;e.unset(N),e.unset(F),e.unset(L),e.unset(Y),e.unset(U),e.unset(V),this.identify(e)};var it=function(e,t){if("object"===j(t)&&0!==Object.keys(t).length){var i=new Re;for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i.setOnce("initial_"+s,t[s]),i.set(s,t[s]));e.identify(i)}};Ke.prototype._getReferrer=function(){return document.referrer},Ke.prototype._getUrlParams=function(){return location.search},Ke.prototype._saveGclid=function(e){var t=oe("gclid",e);if(!re(t)){var i={gclid:t};return it(this,i),i}},Ke.prototype._saveFbclid=function(e){var t=oe("fbclid",e);if(!re(t)){var i={fbclid:t};return it(this,i),i}},Ke.prototype._getDeviceIdFromUrlParam=function(e){return oe(D,e)},Ke.prototype._getReferringDomain=function(e){if(re(e))return null;var t=e.split("/");return t.length>=3?t[2]:null},Ke.prototype._saveReferrer=function(e){if(!re(e)){var t={referrer:e,referring_domain:this._getReferringDomain(e)};return it(this,t),t}},Ke.prototype.saveEvents=function(){try{var e=JSON.stringify(this._unsentEvents.map((function(e){return e.event})));this._setInStorage(Ee,this.options.unsentKey,e)}catch(e){}try{var t=JSON.stringify(this._unsentIdentifys.map((function(e){return e.event})));this._setInStorage(Ee,this.options.unsentIdentifyKey,t)}catch(e){}},Ke.prototype.setDomain=function(e){if(this._shouldDeferCall())return this._q.push(["setDomain"].concat(Array.prototype.slice.call(arguments,0)));if(le(e,"domain","string"))try{this.cookieStorage.options({expirationDays:this.options.cookieExpiration,secure:this.options.secureCookie,domain:e,sameSite:this.options.sameSiteCookie}),this.options.domain=this.cookieStorage.options().domain,Qe(this),tt(this)}catch(e){ae.error(e)}},Ke.prototype.setUserId=function(e){if(this._shouldDeferCall())return this._q.push(["setUserId"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.userId=null!=e&&""+e||null,tt(this)}catch(e){ae.error(e)}},Ke.prototype.setGroup=function(e,t){if(this._shouldDeferCall())return this._q.push(["setGroup"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("setGroup()")&&le(e,"groupType","string")&&!re(e)){var i={};i[e]=t;var s=(new Re).set(e,t);this._logEvent(x,null,null,s.userPropertiesOperations,i,null,null,null)}},Ke.prototype.setOptOut=function(e){if(this._shouldDeferCall())return this._q.push(["setOptOut"].concat(Array.prototype.slice.call(arguments,0)));if(le(e,"enable","boolean"))try{this.options.optOut=e,tt(this)}catch(e){ae.error(e)}},Ke.prototype.setSessionId=function(e){if(le(e,"sessionId","number"))try{this._sessionId=e,tt(this)}catch(e){ae.error(e)}},Ke.prototype.resetSessionId=function(){this.setSessionId((new Date).getTime())},Ke.prototype.regenerateDeviceId=function(){if(this._shouldDeferCall())return this._q.push(["regenerateDeviceId"].concat(Array.prototype.slice.call(arguments,0)));this.setDeviceId(pe())},Ke.prototype.setDeviceId=function(e){if(this._shouldDeferCall())return this._q.push(["setDeviceId"].concat(Array.prototype.slice.call(arguments,0)));if(le(e,"deviceId","string"))try{re(e)||(this.options.deviceId=""+e,tt(this))}catch(e){ae.error(e)}},Ke.prototype.setUserProperties=function(e){if(this._shouldDeferCall())return this._q.push(["setUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("setUserProperties()")&&le(e,"userProperties","object")){var t=ce(de(e));if(0!==Object.keys(t).length){var i=new Re;for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.set(s,t[s]);this.identify(i)}}},Ke.prototype.clearUserProperties=function(){if(this._shouldDeferCall())return this._q.push(["clearUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("clearUserProperties()")){var e=new Re;e.clearAll(),this.identify(e)}};var st=function(e,t){for(var i=0;i<t._q.length;i++){var s=e[t._q[i][0]];"function"===j(s)&&s.apply(e,t._q[i].slice(1))}return e};Ke.prototype.identify=function(e,t){if(this._shouldDeferCall())return this._q.push(["identify"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("identify()"))if("object"===j(e)&&Object.prototype.hasOwnProperty.call(e,"_q")&&(e=st(new Re,e)),e instanceof Re){if(Object.keys(e.userPropertiesOperations).length>0)return this._logEvent(x,null,null,e.userPropertiesOperations,null,null,null,t);"function"===j(t)&&t(0,"No request sent",{reason:"No user property operations"})}else ae.error("Invalid identify input type. Expected Identify object but saw "+j(e)),"function"===j(t)&&t(0,"No request sent",{reason:"Invalid identify input type"});else"function"===j(t)&&t(0,"No request sent",{reason:"API key is not set"})},Ke.prototype.groupIdentify=function(e,t,i,s){if(this._shouldDeferCall())return this._q.push(["groupIdentify"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("groupIdentify()"))if(le(e,"group_type","string")&&!re(e))if(null!=t)if("object"===j(i)&&Object.prototype.hasOwnProperty.call(i,"_q")&&(i=st(new Re,i)),i instanceof Re){if(Object.keys(i.userPropertiesOperations).length>0)return this._logEvent(k,null,null,null,a({},e,t),i.userPropertiesOperations,null,s);"function"===j(s)&&s(0,"No request sent",{reason:"No group property operations"})}else ae.error("Invalid identify input type. Expected Identify object but saw "+j(i)),"function"===j(s)&&s(0,"No request sent",{reason:"Invalid identify input type"});else"function"===j(s)&&s(0,"No request sent",{reason:"Invalid group name"});else"function"===j(s)&&s(0,"No request sent",{reason:"Invalid group type"});else"function"===j(s)&&s(0,"No request sent",{reason:"API key is not set"})},Ke.prototype.setVersionName=function(e){if(this._shouldDeferCall())return this._q.push(["setVersionName"].concat(Array.prototype.slice.call(arguments,0)));le(e,"versionName","string")&&(this.options.versionName=e)},Ke.prototype._logEvent=function(e,t,i,s,n,a,o,c){if(Qe(this),e)if(this.options.optOut)"function"===j(c)&&c(0,"No request sent",{reason:"optOut is set to true"});else try{var h;h=e===x||e===k?this.nextIdentifyId():this.nextEventId();var l=this.nextSequenceNumber(),d="number"===j(o)?o:(new Date).getTime();(!this._sessionId||!this._lastEventTime||d-this._lastEventTime>this.options.sessionTimeout)&&(this._sessionId=d),this._lastEventTime=d,tt(this);var u=this._ua.browser.name,p=this._ua.browser.major,f=this._ua.os.name;s=s||{};var m=r({},this._apiPropertiesTrackingOptions);i=r({},i||{},m),t=t||{},n=n||{},a=a||{};var g={device_id:this.options.deviceId,user_id:this.options.userId,timestamp:d,event_id:h,session_id:this._sessionId||-1,event_type:e,version_name:nt(this,"version_name")&&this.options.versionName||null,platform:nt(this,"platform")?this.options.platform:null,os_name:nt(this,"os_name")&&u||null,os_version:nt(this,"os_version")&&p||null,device_model:nt(this,"device_model")&&f||null,device_manufacturer:(nt(this,"device_manufacturer"),null),language:nt(this,"language")?this.options.language:null,carrier:(nt(this,"carrier"),null),api_properties:i,event_properties:ce(de(t)),user_properties:ce(de(s)),uuid:(je.UAParser,function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)})(),library:{name:"amplitude-js",version:"7.4.4"},sequence_number:l,groups:ce(he(n)),group_properties:ce(de(a)),user_agent:this._userAgent};return e===x||e===k?(this._unsentIdentifys.push({event:g,callback:c}),this._limitEventsQueued(this._unsentIdentifys)):(this._unsentEvents.push({event:g,callback:c}),this._limitEventsQueued(this._unsentEvents)),this.options.saveEvents&&this.saveEvents(),this._sendEventsIfReady(c),h}catch(e){ae.error(e)}else"function"===j(c)&&c(0,"No request sent",{reason:"Missing eventType"})};var nt=function(e,t){return!!e.options.trackingOptions[t]},at=function(e){for(var t=["city","country","dma","ip_address","region"],i={},s=0;s<t.length;s++){var n=t[s];nt(e,n)||(i[n]=!1)}return i};Ke.prototype._limitEventsQueued=function(e){e.length>this.options.savedMaxCount&&e.splice(0,e.length-this.options.savedMaxCount).forEach((function(e){"function"===j(e.callback)&&e.callback(0,"No request sent",{reason:"Event dropped because options.savedMaxCount exceeded. User may be offline or have a content blocker"})}))},Ke.prototype.logEvent=function(e,t,i){return this._shouldDeferCall()?this._q.push(["logEvent"].concat(Array.prototype.slice.call(arguments,0))):this.logEventWithTimestamp(e,t,null,i)},Ke.prototype.logEventWithTimestamp=function(e,t,i,s){return this._shouldDeferCall()?this._q.push(["logEventWithTimestamp"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEvent()")?le(e,"eventType","string")?re(e)?("function"===j(s)&&s(0,"No request sent",{reason:"Missing eventType"}),-1):this._logEvent(e,t,null,null,null,null,i,s):("function"===j(s)&&s(0,"No request sent",{reason:"Invalid type for eventType"}),-1):("function"===j(s)&&s(0,"No request sent",{reason:"API key not set"}),-1)},Ke.prototype.logEventWithGroups=function(e,t,i,s){return this._shouldDeferCall()?this._q.push(["logEventWithGroups"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEventWithGroups()")?le(e,"eventType","string")?this._logEvent(e,t,null,null,i,null,null,s):("function"===j(s)&&s(0,"No request sent",{reason:"Invalid type for eventType"}),-1):("function"===j(s)&&s(0,"No request sent",{reason:"API key not set"}),-1)};var rt=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};Ke.prototype.logRevenueV2=function(e){if(this._shouldDeferCall())return this._q.push(["logRevenueV2"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("logRevenueV2()"))if("object"===j(e)&&Object.prototype.hasOwnProperty.call(e,"_q")&&(e=st(new Ge,e)),e instanceof Ge){if(e&&e._isValidRevenue())return this.logEvent(E,e._toJSONObject())}else ae.error("Invalid revenue input type. Expected Revenue object but saw "+j(e))},Ke.prototype.logRevenue=function(e,t,i){return this._shouldDeferCall()?this._q.push(["logRevenue"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logRevenue()")&&rt(e)&&(void 0===t||rt(t))?this._logEvent(E,{},{productId:i,special:"revenue_amount",quantity:t||1,price:e},null,null,null,null,null):-1},Ke.prototype.removeEvents=function(e,t,i,s){ot(this,"_unsentEvents",e,i,s),ot(this,"_unsentIdentifys",t,i,s)};var ot=function(e,t,i,s,n){if(!(i<0)){for(var a=[],r=0;r<e[t].length;r++){var o=e[t][r];o.event.event_id>i?a.push(o):o.callback&&o.callback(s,n)}e[t]=a}};Ke.prototype.sendEvents=function(){if(this._apiKeySet("sendEvents()")){if(this.options.optOut)this.removeEvents(1/0,1/0,0,"No request sent",{reason:"Opt out is set to true"});else if(0!==this._unsentCount()&&!this._sending){this._sending=!0;var e=(this.options.forceHttps||"https:"===window.location.protocol?"https":"http")+"://"+this.options.apiEndpoint,t=Math.min(this._unsentCount(),this.options.uploadBatchSize),i=this._mergeEventsAndIdentifys(t),s=i.maxEventId,n=i.maxIdentifyId,a=JSON.stringify(i.eventsToSend.map((function(e){return e.event}))),r=(new Date).getTime(),o={client:this.options.apiKey,e:a,v:v,upload_time:r,checksum:Fe(v+this.options.apiKey+a+r)},c=this;new Xe(e,o).send((function(e,i){c._sending=!1;try{200===e&&"success"===i?(c.removeEvents(s,n,e,i),c.options.saveEvents&&c.saveEvents(),c._sendEventsIfReady()):413===e&&(1===c.options.uploadBatchSize&&c.removeEvents(s,n,e,i),c.options.uploadBatchSize=Math.ceil(t/2),c.sendEvents())}catch(e){}}))}}else this.removeEvents(1/0,1/0,0,"No request sent",{reason:"API key not set"})},Ke.prototype._mergeEventsAndIdentifys=function(e){for(var t=[],i=0,s=-1,n=0,a=-1;t.length<e;){var r=void 0,o=n>=this._unsentIdentifys.length,c=i>=this._unsentEvents.length;if(c&&o){ae.error("Merging Events and Identifys, less events and identifys than expected");break}o?s=(r=this._unsentEvents[i++]).event.event_id:c?a=(r=this._unsentIdentifys[n++]).event.event_id:!("sequence_number"in this._unsentEvents[i].event)||this._unsentEvents[i].event.sequence_number<this._unsentIdentifys[n].event.sequence_number?s=(r=this._unsentEvents[i++]).event.event_id:a=(r=this._unsentIdentifys[n++]).event.event_id,t.push(r)}return{eventsToSend:t,maxEventId:s,maxIdentifyId:a}},Ke.prototype.setGlobalUserProperties=function(e){this.setUserProperties(e)},Ke.prototype.__VERSION__="7.4.4",Ke.prototype._shouldDeferCall=function(){return this._pendingReadStorage||this._initializationDeferred},Ke.prototype._deferInitialization=function(){this._initializationDeferred=!0,this._q.push(["init"].concat(Array.prototype.slice.call(arguments,0)))},Ke.prototype.enableTracking=function(){this._initializationDeferred=!1,tt(this),this.runQueuedFunctions()};var ct=function(){this.options=r({},$e),this._q=[],this._instances={}};ct.prototype.Identify=Re,ct.prototype.Revenue=Ge,ct.prototype.getInstance=function(e){e=re(e)?y:e.toLowerCase();var t=this._instances[e];return void 0===t&&(t=new Ke(e),this._instances[e]=t),t},ct.prototype.runQueuedFunctions=function(){for(var e=0;e<this._q.length;e++){var t=this[this._q[e][0]];"function"===j(t)&&t.apply(this,this._q[e].slice(1))}for(var i in this._q=[],this._instances)Object.prototype.hasOwnProperty.call(this._instances,i)&&this._instances[i].runQueuedFunctions()},ct.prototype.init=function(e,t,i,s){this.getInstance().init(e,t,i,function(e){this.options=e.options,"function"===j(s)&&s(e)}.bind(this))},ct.prototype.isNewSession=function(){return this.getInstance().isNewSession()},ct.prototype.getSessionId=function(){return this.getInstance().getSessionId()},ct.prototype.nextEventId=function(){return this.getInstance().nextEventId()},ct.prototype.nextIdentifyId=function(){return this.getInstance().nextIdentifyId()},ct.prototype.nextSequenceNumber=function(){return this.getInstance().nextSequenceNumber()},ct.prototype.saveEvents=function(){this.getInstance().saveEvents()},ct.prototype.setDomain=function(e){this.getInstance().setDomain(e)},ct.prototype.setUserId=function(e){this.getInstance().setUserId(e)},ct.prototype.setGroup=function(e,t){this.getInstance().setGroup(e,t)},ct.prototype.setOptOut=function(e){this.getInstance().setOptOut(e)},ct.prototype.regenerateDeviceId=function(){this.getInstance().regenerateDeviceId()},ct.prototype.setDeviceId=function(e){this.getInstance().setDeviceId(e)},ct.prototype.setUserProperties=function(e){this.getInstance().setUserProperties(e)},ct.prototype.clearUserProperties=function(){this.getInstance().clearUserProperties()},ct.prototype.identify=function(e,t){this.getInstance().identify(e,t)},ct.prototype.setVersionName=function(e){this.getInstance().setVersionName(e)},ct.prototype.logEvent=function(e,t,i){return this.getInstance().logEvent(e,t,i)},ct.prototype.logEventWithGroups=function(e,t,i,s){return this.getInstance().logEventWithGroups(e,t,i,s)},ct.prototype.logRevenueV2=function(e){return this.getInstance().logRevenueV2(e)},ct.prototype.logRevenue=function(e,t,i){return this.getInstance().logRevenue(e,t,i)},ct.prototype.removeEvents=function(e,t){this.getInstance().removeEvents(e,t)},ct.prototype.sendEvents=function(e){this.getInstance().sendEvents(e)},ct.prototype.setGlobalUserProperties=function(e){this.getInstance().setUserProperties(e)},ct.prototype.__VERSION__="7.4.4";var ht=window.amplitude||{},lt=new ct;for(var dt in lt._q=ht._q||[],ht._iq)Object.prototype.hasOwnProperty.call(ht._iq,dt)&&(lt.getInstance(dt)._q=ht._iq[dt]._q||[]);return lt.runQueuedFunctions(),lt},e.exports=n()}).call(this,i(31),i(57),i(39).Buffer)},function(e,t,i){"use strict";t.byteLength=function(e){var t=h(e),i=t[0],s=t[1];return 3*(i+s)/4-s},t.toByteArray=function(e){var t,i,s=h(e),r=s[0],o=s[1],c=new a(function(e,t,i){return 3*(t+i)/4-i}(0,r,o)),l=0,d=o>0?r-4:r;for(i=0;i<d;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===o&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,c[l++]=255&t);1===o&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,a=[],r=0,o=i-n;r<o;r+=16383)a.push(l(e,r,r+16383>o?o:r+16383));1===n?(t=e[i-1],a.push(s[t>>2]+s[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],a.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return a.join("")};for(var s=[],n=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=r.length;o<c;++o)s[o]=r[o],n[r.charCodeAt(o)]=o;function h(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function l(e,t,i){for(var n,a,r=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(s[(a=n)>>18&63]+s[a>>12&63]+s[a>>6&63]+s[63&a]);return r.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,s,n){var a,r,o=8*n-s-1,c=(1<<o)-1,h=c>>1,l=-7,d=i?n-1:0,u=i?-1:1,p=e[t+d];for(d+=u,a=p&(1<<-l)-1,p>>=-l,l+=o;l>0;a=256*a+e[t+d],d+=u,l-=8);for(r=a&(1<<-l)-1,a>>=-l,l+=s;l>0;r=256*r+e[t+d],d+=u,l-=8);if(0===a)a=1-h;else{if(a===c)return r?NaN:1/0*(p?-1:1);r+=Math.pow(2,s),a-=h}return(p?-1:1)*r*Math.pow(2,a-s)},t.write=function(e,t,i,s,n,a){var r,o,c,h=8*a-n-1,l=(1<<h)-1,d=l>>1,u=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=s?0:a-1,f=s?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,r=l):(r=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-r))<1&&(r--,c*=2),(t+=r+d>=1?u/c:u*Math.pow(2,1-d))*c>=2&&(r++,c/=2),r+d>=l?(o=0,r=l):r+d>=1?(o=(t*c-1)*Math.pow(2,n),r+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,n),r=0));n>=8;e[i+p]=255&o,p+=f,o/=256,n-=8);for(r=r<<n|o,h+=n;h>0;e[i+p]=255&r,p+=f,r/=256,h-=8);e[i+p-f]|=128*m}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.scene=e,this.create()}return e.prototype.create=function(){var e=this;this.bg=this.scene.add.tileSprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-20,614,420,"mid-syst"),this.btn=this.scene.shopButton(this.bg.x,this.bg.y-30,this.scene.state.lang.play),this.btn.btn.setScale(1.5),this.btn.title.setFontSize(38),this.scene.clickShopBtn(this.btn,(function(){e.scene.playBtnHandler()})),this.wellcomeText(),this.enterYourAccountText(),this.agreementText(),this.topAndBottomBgSides(),this.elements=[this.bg,this.bgTop,this.bgBot,this.btn.btn,this.btn.title,this.wellcome,this.yourAcc,this.enterAcc,this.underline,this.clickZone,this.agreement,this.agreementUnderline,this.agreementClickZone]},e.prototype.wellcomeText=function(){this.wellcome=this.scene.add.text(this.bg.x,this.bg.y-100,this.scene.state.lang.welcomeToFarm,{font:"Bold 40px Shadow",color:"#925C28",align:"center",wordWrap:{width:500}}).setOrigin(.5,1).setDepth(this.bg.depth+1)},e.prototype.enterYourAccountText=function(){var e=this,t={fontFamily:"Shadow",fontSize:"30px",fontStyle:"Bold",color:"#925C28",align:"center",wordWrap:{width:500}};this.enterAcc=this.scene.add.text(this.bg.x,this.bg.y+30,this.scene.state.lang.enterTo,t).setOrigin(.5,0).setColor("#05b23f").setDepth(this.bg.depth+1),this.yourAcc=this.scene.add.text(this.bg.x,this.enterAcc.getBounds().bottom+10,this.scene.state.lang.yourAccaunt,t).setOrigin(.5,0).setDepth(this.bg.depth+1),this.underline=this.scene.add.tileSprite(this.enterAcc.x-2,this.enterAcc.y+this.enterAcc.getBounds().height-3,this.enterAcc.width-2,2,"pixel-landing").setOrigin(.5,0).setTint(373311).setDepth(this.bg.depth+1),this.clickZone=this.scene.add.tileSprite(this.enterAcc.x+5,this.enterAcc.y-5,this.enterAcc.width+10,this.enterAcc.height+10,"pixel-landing").setAlpha(1e-4).setOrigin(1,0).setDepth(this.bg.depth+2).setInteractive(),this.clickZone.on("pointerover",(function(){e.enterAcc.setColor("#85AF7C"),e.underline.setTint(8761212)})),this.clickZone.on("pointerout",(function(){e.enterAcc.setColor("#05b23f"),e.underline.setTint(373311)})),this.scene.click(this.clickZone,(function(){e.scene.createAuthorizationWindow()}))},e.prototype.agreementText=function(){var e=this,t=this.scene.state.lang.agreement.replace("\n"," ");this.agreement=this.scene.add.text(this.bg.x,this.bg.getBottomCenter().y+10,t,{font:"24px Shadow",color:"#777777"}).setOrigin(.5,0).setDepth(this.bg.depth+1),this.agreementUnderline=this.scene.add.tileSprite(this.agreement.x-1,this.agreement.y+this.agreement.getBounds().height-2,this.agreement.width,2,"pixel-landing").setOrigin(.5,0).setTint(7829367).setDepth(this.bg.depth+1),this.agreementClickZone=this.scene.add.tileSprite(this.agreement.x,this.agreement.y-5,this.agreement.width+10,this.agreement.height+10,"pixel-landing").setAlpha(1e-4).setOrigin(.5,0).setDepth(this.bg.depth+2).setInteractive(),this.agreementClickZone.on("pointerover",(function(){e.agreement.setColor("#999999"),e.agreementUnderline.setTint(10066329)})),this.agreementClickZone.on("pointerout",(function(){e.agreement.setColor("#777777"),e.agreementUnderline.setTint(7829367)})),this.scene.click(this.agreementClickZone,(function(){window.open("https://"+location.hostname+"/agreement","_blank")}))},e.prototype.topAndBottomBgSides=function(){this.bgTop=this.scene.add.sprite(this.bg.getTopCenter().x-2,this.bg.getTopCenter().y+13,"header-syst").setOrigin(.5,1).setScale(this.bg.scale),this.bgBot=this.scene.add.sprite(this.bg.getBottomCenter().x-2,this.bg.getBottomCenter().y-1,"bottom-syst").setOrigin(.5,0).setScale(this.bg.scale)},e.prototype.destroy=function(){this.elements.forEach((function(e){e.destroy()}))},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=function(){function e(e){this.scene=e,this.init(),this.create()}return e.prototype.init=function(){this.centered=!0,this.elements=[],this.errorType="",this.currentHeight=0,this.re=/^[a-zA-Z0-9]+$/,this.isLoginTouched=!1,this.isPassTouched=!1,this.authorization=!1},e.prototype.create=function(){var e=this;this.bg=this.scene.add.tileSprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-20,614,440,"mid-syst").setDepth(2),this.bgOriginY=this.bg.y,this.bgOriginHeight=this.bg.height,this.bgTop=this.scene.add.sprite(this.bg.getTopCenter().x-1,this.bg.getTopCenter().y+13,"header-syst").setOrigin(.5,1).setDepth(this.bg.depth+1);var t=this.scene.add.sprite(this.bg.getBottomCenter().x-2,this.bg.getBottomCenter().y-1,"bottom-syst").setOrigin(.5,0).setDepth(this.bg.depth+1);this.title=this.scene.add.text(this.bg.x,this.bg.getTopCenter().y+26,this.scene.state.lang.authorize,{font:"Bold 32px Shadow",color:"#925C28"}).setOrigin(.5,0).setDepth(this.bg.depth+1);var i=document.querySelector("#root");this.mainInput=document.createElement("input"),this.secondInput=document.createElement("input"),i.append(this.mainInput),i.append(this.secondInput),this.mainInput.setAttribute("id","reg-login"),this.mainInput.setAttribute("autocomplete","off"),this.secondInput.setAttribute("id","reg-pass"),this.secondInput.setAttribute("autocomplete","off"),this.secondInput.setAttribute("type","password");var s=this.scene.cameras.main.height/100*22,n=window.innerHeight,a=window.innerHeight;this.bgOriginYNonCentered=this.bgOriginY+s;var r=this.scene.add.text(this.scene.cameras.main.centerX-220,this.scene.cameras.main.centerY-113,this.scene.state.lang.login,{font:"24px Bip",color:"#974f00"}).setOrigin(0,.5).setDepth(this.bg.depth+2).setCrop(0,0,434,100),o=this.scene.add.text(this.scene.cameras.main.centerX-220,this.scene.cameras.main.centerY-18,this.scene.state.lang.password,{font:"24px Bip",color:"#974f00"}).setOrigin(0,.5).setDepth(this.bg.depth+2).setCrop(0,0,434,100);this.regModalZone=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,710,1200).setDropZone(void 0,(function(){})).setInteractive();var c=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-113,460,70).setDropZone(void 0,(function(){})).setInteractive(),h=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-18,460,70).setDropZone(void 0,(function(){})).setInteractive(),l=this.scene.add.graphics({x:this.scene.cameras.main.centerX-230,y:this.scene.cameras.main.centerY-149}).setDepth(this.bg.depth+1).fillStyle(16777215,1).fillRoundedRect(0,0,460,70,16),d=this.scene.add.graphics({x:this.scene.cameras.main.centerX-230,y:this.scene.cameras.main.centerY-53}).setDepth(this.bg.depth+1).fillStyle(16777215,1).fillRoundedRect(0,0,460,70,16),u=this.scene.bigButton("green","center",130,this.scene.state.lang.enter);u.btn.setY(this.scene.cameras.main.centerY+106).setDepth(this.bg.depth+1).setScale(.95),u.title.setY(this.scene.cameras.main.centerY+100).setDepth(this.bg.depth+1);var p=this.scene.bigButton("red","center",130,this.scene.state.lang.cancel);p.btn.setY(this.scene.cameras.main.centerY+192).setDepth(this.bg.depth+1).setScale(.95),p.title.setY(this.scene.cameras.main.centerY+186).setDepth(this.bg.depth+1),this.result=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-164,"",{font:"19px Shadow",color:"#FF0000",align:"center",wordWrap:{width:500}}).setOrigin(.5,1).setDepth(this.bg.depth+2).setAlpha(0),this.elements.push(this.bg,this.bgTop,t,this.title,r,o,c,h,l,d,u.btn,u.title,p.btn,p.title,this.result),window.onresize=function(){n=window.innerHeight,a!==n&&e.centered?(i.scrollIntoView(!1),e.elements.forEach((function(e){return e.setY(e.y+s)})),e.mainInput.style.top="59.5%",e.mainInput.style.bottom="34.5%",e.secondInput.style.top="67.5%",e.secondInput.style.bottom="26.5%",e.centered=!1):a!==n||e.centered||(e.elements.forEach((function(e){return e.setY(e.y-s)})),e.mainInput.style.top="37.5%",e.mainInput.style.bottom="56.5%",e.secondInput.style.top="45.5%",e.secondInput.style.bottom="48.5%",e.centered=!0)},c.on("pointerdown",(function(){e.secondInput.style.display="none",e.mainInput.style.display="block",e.mainInput.focus(),""===e.secondInput.value?o.setText(e.scene.state.lang.password).setDepth(4).setCrop(0,0,434,100):o.setText(e.hidePass()).setDepth(4).setCrop(0,0,434,100),e.isLoginTouched||(e.isLoginTouched=!0),e.validate()})),h.on("pointerdown",(function(){e.mainInput.style.display="none",e.secondInput.style.display="block",e.secondInput.focus(),""===e.mainInput.value?r.setText(e.scene.state.lang.login).setDepth(4).setCrop(0,0,434,100):r.setText(e.mainInput.value).setDepth(4).setCrop(0,0,434,100),e.isPassTouched||(e.isPassTouched=!0),e.validate()})),this.regModalZone.on("pointerdown",(function(){e.mainInput.style.display="none",e.secondInput.style.display="none",e.mainInput.blur(),e.secondInput.blur(),""===e.mainInput.value?r.setText(e.scene.state.lang.login).setDepth(4).setCrop(0,0,434,100):r.setText(e.mainInput.value).setDepth(4).setCrop(0,0,434,100),""===e.secondInput.value?o.setText(e.scene.state.lang.password).setDepth(4).setCrop(0,0,434,100):o.setText(e.hidePass()).setDepth(4).setCrop(0,0,434,100),e.validate()})),this.scene.clickModalBtn(u,(function(){e.mainInput.blur(),e.secondInput.blur(),e.login()})),this.enterKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER),this.enterKey.on("down",(function(){e.mainInput.blur(),e.secondInput.blur(),e.login()})),this.scene.clickModalBtn(p,(function(){e.scene.createLanding()}))},e.prototype.hidePass=function(){for(var e="",t=0;t<this.secondInput.value.length;)e+="*",t++;return e},e.prototype.validate=function(){("validLoginPass"===this.errorType&&this.re.test(this.mainInput.value)&&this.re.test(this.secondInput.value)&&this.mainInput.value.length>=6&&this.secondInput.value.length>=6&&this.isLoginTouched&&this.isPassTouched||"wrongLoginPass"===this.errorType)&&(this.resizeWindow(0),this.result.setAlpha(0),this.errorType="")},e.prototype.login=function(){var e=this;if(!this.authorization){var t=!0,i=!0;t=this.re.test(this.mainInput.value),i=this.re.test(this.secondInput.value),this.mainInput.value.length<6&&(t=!1),this.secondInput.value.length<6&&(i=!1),t&&i?(this.authorization=!0,s.default.post("https://ferma.games:4000/authorization",{login:this.mainInput.value,pass:this.secondInput.value}).then((function(t){e.authorization=!1,t.data.success?(e.enterKey.destroy(),e.secondInput.remove(),e.mainInput.remove(),e.scene.setLocalStorageHash(t.data.hash)):(e.result.setText(e.scene.state.lang.wrongLoginPass).setAlpha(1),e.resizeWindow(16),e.errorType="wrongLoginPass")})).catch((function(){e.scene.createErrorWindow()}))):(this.result.setText(this.scene.state.lang.validLoginPass).setAlpha(1),this.resizeWindow(68),this.errorType="validLoginPass")}},e.prototype.resizeWindow=function(e){if(this.currentHeight!==e){this.currentHeight=e;var t=this.centered?this.bgOriginY:this.bgOriginYNonCentered;this.bg.setY(t-e/2).setSize(this.bg.width,this.bgOriginHeight+e+6),this.bgTop.setY(this.bg.getTopCenter().y+15),this.title.setY(this.bg.getTopCenter().y+20)}},e.prototype.destroy=function(){this.secondInput.remove(),this.mainInput.remove(),this.regModalZone.destroy(),this.elements.forEach((function(e){e.destroy()}))},e}();t.default=n},function(e,t,i){e.exports=function(){"use strict";var e=Math.imul,t=Math.clz32,i=Math.abs,s=Math.max,n=Math.floor;class a extends Array{constructor(e,t){if(super(e),this.sign=t,e>a.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return a.__zero();if(a.__isOneDigitInt(e))return 0>e?a.__oneDigit(-e,!0):a.__oneDigit(e,!1);if(!t(e)||n(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return a.__fromDouble(e)}if("string"==typeof e){const t=a.__fromString(e);if(null===t)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return t}if("boolean"==typeof e)return!0===e?a.__oneDigit(1,!1):a.__zero();if("object"==typeof e){if(e.constructor===a)return e;const t=a.__toPrimitive(e);return a.BigInt(t)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t?(t>>>0).toString(16):t)+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?a.__toStringBasePowerOfTwo(this,e):a.__toStringGeneric(this,e,!1)}static toNumber(e){const t=e.length;if(0===t)return 0;if(1===t){const t=e.__unsignedDigit(0);return e.sign?-t:t}const i=e.__digit(t-1),s=a.__clz30(i),n=30*t-s;if(1024<n)return e.sign?-1/0:1/0;let r=n-1,o=i,c=t-1;const h=s+3;let l=32===h?0:o<<h;l>>>=12;const d=h-12;let u=12<=h?0:o<<20+h,p=20+h;for(0<d&&0<c&&(c--,o=e.__digit(c),l|=o>>>30-d,u=o<<d+2,p=d+2);0<p&&0<c;)c--,o=e.__digit(c),u|=30<=p?o<<p-30:o>>>30-p,p-=30;const f=a.__decideRounding(e,p,c,o);if((1===f||0===f&&1==(1&u))&&(u=u+1>>>0,0===u&&(l++,0!=l>>>20&&(l=0,r++,1023<r))))return e.sign?-1/0:1/0;const m=e.sign?-2147483648:0;return r=r+1023<<20,a.__kBitConversionInts[1]=m|r|l,a.__kBitConversionInts[0]=u,a.__kBitConversionDouble[0]}static unaryMinus(e){if(0===e.length)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?a.__absoluteSubOne(e).__trim():a.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return a.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?a.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let i=t.__unsignedDigit(0);if(1===i)return e;if(i>=a.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){const t=1+(0|i/30),s=e.sign&&0!=(1&i),n=new a(t,s);n.__initializeDigits();const r=1<<i%30;return n.__setDigit(t-1,r),n}let s=null,n=e;for(0!=(1&i)&&(s=e),i>>=1;0!==i;i>>=1)n=a.multiply(n,n),0!=(1&i)&&(s=null===s?n:a.multiply(s,n));return s}static multiply(e,t){if(0===e.length)return e;if(0===t.length)return t;let i=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&i--;const s=new a(i,e.sign!==t.sign);s.__initializeDigits();for(let i=0;i<e.length;i++)a.__multiplyAccumulate(t,e.__digit(i),s,i);return s.__trim()}static divide(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return a.__zero();const i=e.sign!==t.sign,s=t.__unsignedDigit(0);let n;if(1===t.length&&32767>=s){if(1===s)return i===e.sign?e:a.unaryMinus(e);n=a.__absoluteDivSmall(e,s,null)}else n=a.__absoluteDivLarge(e,t,!0,!1);return n.sign=i,n.__trim()}static remainder(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return e;const i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i)return a.__zero();const t=a.__absoluteModSmall(e,i);return 0===t?a.__zero():a.__oneDigit(t,e.sign)}const s=a.__absoluteDivLarge(e,t,!1,!0);return s.sign=e.sign,s.__trim()}static add(e,t){const i=e.sign;return i===t.sign?a.__absoluteAdd(e,t,i):0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,i):a.__absoluteSub(t,e,!i)}static subtract(e,t){const i=e.sign;return i===t.sign?0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,i):a.__absoluteSub(t,e,!i):a.__absoluteAdd(e,t,i)}static leftShift(e,t){return 0===t.length||0===e.length?e:t.sign?a.__rightShiftByAbsolute(e,t):a.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return 0===t.length||0===e.length?e:t.sign?a.__leftShiftByAbsolute(e,t):a.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>a.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=a.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<a.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=a.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e.__digit(i)!==t.__digit(i))return!1;return!0}static notEqual(e,t){return!a.equal(e,t)}static bitwiseAnd(e,t){if(!e.sign&&!t.sign)return a.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const i=s(e.length,t.length)+1;let n=a.__absoluteSubOne(e,i);const r=a.__absoluteSubOne(t);return n=a.__absoluteOr(n,r,n),a.__absoluteAddOne(n,!0,n).__trim()}return e.sign&&([e,t]=[t,e]),a.__absoluteAndNot(e,a.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){if(!e.sign&&!t.sign)return a.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const i=s(e.length,t.length),n=a.__absoluteSubOne(e,i),r=a.__absoluteSubOne(t);return a.__absoluteXor(n,r,n).__trim()}const i=s(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let n=a.__absoluteSubOne(t,i);return n=a.__absoluteXor(n,e,n),a.__absoluteAddOne(n,!0,n).__trim()}static bitwiseOr(e,t){const i=s(e.length,t.length);if(!e.sign&&!t.sign)return a.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let s=a.__absoluteSubOne(e,i);const n=a.__absoluteSubOne(t);return s=a.__absoluteAnd(s,n,s),a.__absoluteAddOne(s,!0,s).__trim()}e.sign&&([e,t]=[t,e]);let n=a.__absoluteSubOne(t,i);return n=a.__absoluteAndNot(n,e,n),a.__absoluteAddOne(n,!0,n).__trim()}static asIntN(e,t){if(0===t.length)return t;if(0>(e=n(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(e>=a.__kMaxLengthBits)return t;const i=0|(e+29)/30;if(t.length<i)return t;const s=t.__unsignedDigit(i-1),r=1<<(e-1)%30;if(t.length===i&&s<r)return t;if((s&r)!==r)return a.__truncateToNBits(e,t);if(!t.sign)return a.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(s&r-1)){for(let s=i-2;0<=s;s--)if(0!==t.__digit(s))return a.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===i&&s===r?t:a.__truncateToNBits(e,t)}return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){if(0===t.length)return t;if(0>(e=n(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(t.sign){if(e>a.__kMaxLengthBits)throw new RangeError("BigInt too big");return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=a.__kMaxLengthBits)return t;const i=0|(e+29)/30;if(t.length<i)return t;const s=e%30;if(t.length==i){if(0===s)return t;if(0==t.__digit(i-1)>>>s)return t}return a.__truncateToNBits(e,t)}static ADD(e,t){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)&&a.__isBigInt(t))return a.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return a.__compare(e,t,0)}static LE(e,t){return a.__compare(e,t,1)}static GT(e,t){return a.__compare(e,t,2)}static GE(e,t){return a.__compare(e,t,3)}static EQ(e,t){for(;;){if(a.__isBigInt(e))return a.__isBigInt(t)?a.equal(e,t):a.EQ(t,e);if("number"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,e);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("string"==typeof e){if(a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.equal(e,t);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("boolean"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,+e);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("symbol"==typeof e){if(a.__isBigInt(t))return!1;if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else{if("object"!=typeof e)return e==t;if("object"==typeof t&&t.constructor!==a)return e==t;e=a.__toPrimitive(e)}}}static NE(e,t){return!a.EQ(e,t)}static __zero(){return new a(0,!1)}static __oneDigit(e,t){const i=new a(1,t);return i.__setDigit(0,e),i}__copy(){const e=new a(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;0===t;)e--,t=this[e-1],this.pop();return 0===e&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,i,s){if(0<t)return-1;let n;if(0>t)n=-t-1;else{if(0===i)return-1;i--,s=e.__digit(i),n=29}let a=1<<n;if(0==(s&a))return-1;if(a-=1,0!=(s&a))return 1;for(;0<i;)if(i--,0!==e.__digit(i))return 1;return 0}static __fromDouble(e){a.__kBitConversionDouble[0]=e;const t=(2047&a.__kBitConversionInts[1]>>>20)-1023,i=1+(0|t/30),s=new a(i,0>e);let n=1048575&a.__kBitConversionInts[1]|1048576,r=a.__kBitConversionInts[0];const o=t%30;let c,h=0;if(20>o){const e=20-o;h=e+32,c=n>>>e,n=n<<32-e|r>>>e,r<<=32-e}else if(20===o)h=32,c=n,n=r,r=0;else{const e=o-20;h=32-e,c=n<<e|r>>>32-e,n=r<<e,r=0}s.__setDigit(i-1,c);for(let e=i-2;0<=e;e--)0<h?(h-=30,c=n>>>2,n=n<<30|r>>>2,r<<=30):c=0,s.__setDigit(e,c);return s.__trim()}static __isWhitespace(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}static __fromString(e,t=0){let i=0;const s=e.length;let n=0;if(n===s)return a.__zero();let r=e.charCodeAt(n);for(;a.__isWhitespace(r);){if(++n===s)return a.__zero();r=e.charCodeAt(n)}if(43===r){if(++n===s)return null;r=e.charCodeAt(n),i=1}else if(45===r){if(++n===s)return null;r=e.charCodeAt(n),i=-1}if(0===t){if(t=10,48===r){if(++n===s)return a.__zero();if(r=e.charCodeAt(n),88===r||120===r){if(t=16,++n===s)return null;r=e.charCodeAt(n)}else if(79===r||111===r){if(t=8,++n===s)return null;r=e.charCodeAt(n)}else if(66===r||98===r){if(t=2,++n===s)return null;r=e.charCodeAt(n)}}}else if(16===t&&48===r){if(++n===s)return a.__zero();if(r=e.charCodeAt(n),88===r||120===r){if(++n===s)return null;r=e.charCodeAt(n)}}if(0!=i&&10!==t)return null;for(;48===r;){if(++n===s)return a.__zero();r=e.charCodeAt(n)}const o=s-n;let c=a.__kMaxBitsPerChar[t],h=a.__kBitsPerCharTableMultiplier-1;if(o>1073741824/c)return null;const l=c*o+h>>>a.__kBitsPerCharTableShift,d=new a(0|(l+29)/30,!1),u=10>t?t:10,p=10<t?t-10:0;if(0==(t&t-1)){c>>=a.__kBitsPerCharTableShift;const t=[],i=[];let o=!1;do{let a=0,h=0;for(;;){let t;if(r-48>>>0<u)t=r-48;else{if(!((32|r)-97>>>0<p)){o=!0;break}t=(32|r)-87}if(h+=c,a=a<<c|t,++n===s){o=!0;break}if(r=e.charCodeAt(n),30<h+c)break}t.push(a),i.push(h)}while(!o);a.__fillFromParts(d,t,i)}else{d.__initializeDigits();let i=!1,o=0;do{let l=0,f=1;for(;;){let a;if(r-48>>>0<u)a=r-48;else{if(!((32|r)-97>>>0<p)){i=!0;break}a=(32|r)-87}const c=f*t;if(1073741823<c)break;if(f=c,l=l*t+a,o++,++n===s){i=!0;break}r=e.charCodeAt(n)}h=30*a.__kBitsPerCharTableMultiplier-1;const m=0|(c*o+h>>>a.__kBitsPerCharTableShift)/30;d.__inplaceMultiplyAdd(f,l,m)}while(!i)}if(n!==s){if(!a.__isWhitespace(r))return null;for(n++;n<s;n++)if(r=e.charCodeAt(n),!a.__isWhitespace(r))return null}return d.sign=-1==i,d.__trim()}static __fillFromParts(e,t,i){let s=0,n=0,a=0;for(let r=t.length-1;0<=r;r--){const o=t[r],c=i[r];n|=o<<a,a+=c,30===a?(e.__setDigit(s++,n),a=0,n=0):30<a&&(e.__setDigit(s++,1073741823&n),a-=30,n=o>>>c-a)}if(0!==n){if(s>=e.length)throw new Error("implementation bug");e.__setDigit(s++,n)}for(;s<e.length;s++)e.__setDigit(s,0)}static __toStringBasePowerOfTwo(e,t){const i=e.length;let s=t-1;s=(85&s>>>1)+(85&s),s=(51&s>>>2)+(51&s),s=(15&s>>>4)+(15&s);const n=s,r=t-1,o=e.__digit(i-1);let c=0|(30*i-a.__clz30(o)+n-1)/n;if(e.sign&&c++,268435456<c)throw new Error("string too long");const h=Array(c);let l=c-1,d=0,u=0;for(let t=0;t<i-1;t++){const i=e.__digit(t),s=(d|i<<u)&r;h[l--]=a.__kConversionChars[s];const o=n-u;for(d=i>>>o,u=30-o;u>=n;)h[l--]=a.__kConversionChars[d&r],d>>>=n,u-=n}const p=(d|o<<u)&r;for(h[l--]=a.__kConversionChars[p],d=o>>>n-u;0!==d;)h[l--]=a.__kConversionChars[d&r],d>>>=n;if(e.sign&&(h[l--]="-"),-1!=l)throw new Error("implementation bug");return h.join("")}static __toStringGeneric(e,t,i){const s=e.length;if(0===s)return"";if(1===s){let s=e.__unsignedDigit(0).toString(t);return!1===i&&e.sign&&(s="-"+s),s}const n=30*s-a.__clz30(e.__digit(s-1)),r=a.__kMaxBitsPerChar[t]-1;let o=n*a.__kBitsPerCharTableMultiplier;o+=r-1,o=0|o/r;const c=o+1>>1,h=a.exponentiate(a.__oneDigit(t,!1),a.__oneDigit(c,!1));let l,d;const u=h.__unsignedDigit(0);if(1===h.length&&32767>=u){l=new a(e.length,!1),l.__initializeDigits();let i=0;for(let t=2*e.length-1;0<=t;t--){const s=i<<15|e.__halfDigit(t);l.__setHalfDigit(t,0|s/u),i=0|s%u}d=i.toString(t)}else{const i=a.__absoluteDivLarge(e,h,!0,!0);l=i.quotient;const s=i.remainder.__trim();d=a.__toStringGeneric(s,t,!0)}l.__trim();let p=a.__toStringGeneric(l,t,!0);for(;d.length<c;)d="0"+d;return!1===i&&e.sign&&(p="-"+p),p+d}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const i=e.sign;if(i!==t.sign)return a.__unequalSign(i);const s=a.__absoluteCompare(e,t);return 0<s?a.__absoluteGreater(i):0>s?a.__absoluteLess(i):0}static __compareToNumber(e,t){if(a.__isOneDigitInt(t)){const s=e.sign,n=0>t;if(s!==n)return a.__unequalSign(s);if(0===e.length){if(n)throw new Error("implementation bug");return 0===t?0:-1}if(1<e.length)return a.__absoluteGreater(s);const r=i(t),o=e.__unsignedDigit(0);return o>r?a.__absoluteGreater(s):o<r?a.__absoluteLess(s):0}return a.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const i=e.sign;if(i!==0>t)return a.__unequalSign(i);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;a.__kBitConversionDouble[0]=t;const s=2047&a.__kBitConversionInts[1]>>>20;if(2047==s)throw new Error("implementation bug: handled elsewhere");const n=s-1023;if(0>n)return a.__absoluteGreater(i);const r=e.length;let o=e.__digit(r-1);const c=a.__clz30(o),h=30*r-c,l=n+1;if(h<l)return a.__absoluteLess(i);if(h>l)return a.__absoluteGreater(i);let d=1048576|1048575&a.__kBitConversionInts[1],u=a.__kBitConversionInts[0];const p=29-c;if(p!==(0|(h-1)%30))throw new Error("implementation bug");let f,m=0;if(20>p){const e=20-p;m=e+32,f=d>>>e,d=d<<32-e|u>>>e,u<<=32-e}else if(20===p)m=32,f=d,d=u,u=0;else{const e=p-20;m=32-e,f=d<<e|u>>>32-e,d=u<<e,u=0}if(o>>>=0,f>>>=0,o>f)return a.__absoluteGreater(i);if(o<f)return a.__absoluteLess(i);for(let t=r-2;0<=t;t--){0<m?(m-=30,f=d>>>2,d=d<<30|u>>>2,u<<=30):f=0;const s=e.__unsignedDigit(t);if(s>f)return a.__absoluteGreater(i);if(s<f)return a.__absoluteLess(i)}if(0!==d||0!==u){if(0===m)throw new Error("implementation bug");return a.__absoluteLess(i)}return 0}static __equalToNumber(e,t){return a.__isOneDigitInt(t)?0===t?0===e.length:1===e.length&&e.sign===0>t&&e.__unsignedDigit(0)===i(t):0===a.__compareToDouble(e,t)}static __comparisonResultToBool(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}static __compare(e,t,i){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(i){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(a.__isBigInt(e)&&"string"==typeof t)return null!==(t=a.__fromString(t))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),i);if("string"==typeof e&&a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),i);if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)){if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToBigInt(e,t),i);if("number"!=typeof t)throw new Error("implementation bug");return a.__comparisonResultToBool(a.__compareToNumber(e,t),i)}if("number"!=typeof e)throw new Error("implementation bug");if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToNumber(t,e),2^i);if("number"!=typeof t)throw new Error("implementation bug");return 0===i?e<t:1===i?e<=t:2===i?e>t:3===i?e>=t:void 0}__clzmsd(){return a.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,i){if(e.length<t.length)return a.__absoluteAdd(t,e,i);if(0===e.length)return e;if(0===t.length)return e.sign===i?e:a.unaryMinus(e);let s=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&s++;const n=new a(s,i);let r=0,o=0;for(;o<t.length;o++){const i=e.__digit(o)+t.__digit(o)+r;r=i>>>30,n.__setDigit(o,1073741823&i)}for(;o<e.length;o++){const t=e.__digit(o)+r;r=t>>>30,n.__setDigit(o,1073741823&t)}return o<n.length&&n.__setDigit(o,r),n.__trim()}static __absoluteSub(e,t,i){if(0===e.length)return e;if(0===t.length)return e.sign===i?e:a.unaryMinus(e);const s=new a(e.length,i);let n=0,r=0;for(;r<t.length;r++){const i=e.__digit(r)-t.__digit(r)-n;n=1&i>>>30,s.__setDigit(r,1073741823&i)}for(;r<e.length;r++){const t=e.__digit(r)-n;n=1&t>>>30,s.__setDigit(r,1073741823&t)}return s.__trim()}static __absoluteAddOne(e,t,i=null){const s=e.length;null===i?i=new a(s,t):i.sign=t;let n=1;for(let t=0;t<s;t++){const s=e.__digit(t)+n;n=s>>>30,i.__setDigit(t,1073741823&s)}return 0!=n&&i.__setDigitGrow(s,1),i}static __absoluteSubOne(e,t){const i=e.length,s=new a(t=t||i,!1);let n=1;for(let t=0;t<i;t++){const i=e.__digit(t)-n;n=1&i>>>30,s.__setDigit(t,1073741823&i)}if(0!=n)throw new Error("implementation bug");for(let e=i;e<t;e++)s.__setDigit(e,0);return s}static __absoluteAnd(e,t,i=null){let s=e.length,n=t.length,r=n;if(s<n){r=s;const i=e,a=s;e=t,s=n,t=i,n=a}let o=r;null===i?i=new a(o,!1):o=i.length;let c=0;for(;c<r;c++)i.__setDigit(c,e.__digit(c)&t.__digit(c));for(;c<o;c++)i.__setDigit(c,0);return i}static __absoluteAndNot(e,t,i=null){const s=e.length,n=t.length;let r=n;s<n&&(r=s);let o=s;null===i?i=new a(o,!1):o=i.length;let c=0;for(;c<r;c++)i.__setDigit(c,e.__digit(c)&~t.__digit(c));for(;c<s;c++)i.__setDigit(c,e.__digit(c));for(;c<o;c++)i.__setDigit(c,0);return i}static __absoluteOr(e,t,i=null){let s=e.length,n=t.length,r=n;if(s<n){r=s;const i=e,a=s;e=t,s=n,t=i,n=a}let o=s;null===i?i=new a(o,!1):o=i.length;let c=0;for(;c<r;c++)i.__setDigit(c,e.__digit(c)|t.__digit(c));for(;c<s;c++)i.__setDigit(c,e.__digit(c));for(;c<o;c++)i.__setDigit(c,0);return i}static __absoluteXor(e,t,i=null){let s=e.length,n=t.length,r=n;if(s<n){r=s;const i=e,a=s;e=t,s=n,t=i,n=a}let o=s;null===i?i=new a(o,!1):o=i.length;let c=0;for(;c<r;c++)i.__setDigit(c,e.__digit(c)^t.__digit(c));for(;c<s;c++)i.__setDigit(c,e.__digit(c));for(;c<o;c++)i.__setDigit(c,0);return i}static __absoluteCompare(e,t){const i=e.length-t.length;if(0!=i)return i;let s=e.length-1;for(;0<=s&&e.__digit(s)===t.__digit(s);)s--;return 0>s?0:e.__unsignedDigit(s)>t.__unsignedDigit(s)?1:-1}static __multiplyAccumulate(e,t,i,s){if(0===t)return;const n=32767&t,r=t>>>15;let o=0,c=0;for(let t,h=0;h<e.length;h++,s++){t=i.__digit(s);const l=e.__digit(h),d=32767&l,u=l>>>15,p=a.__imul(d,n),f=a.__imul(d,r),m=a.__imul(u,n),g=a.__imul(u,r);t+=c+p+o,o=t>>>30,t&=1073741823,t+=((32767&f)<<15)+((32767&m)<<15),o+=t>>>30,c=g+(f>>>15)+(m>>>15),i.__setDigit(s,1073741823&t)}for(;0!=o||0!==c;s++){let e=i.__digit(s);e+=o+c,c=0,o=e>>>30,i.__setDigit(s,1073741823&e)}}static __internalMultiplyAdd(e,t,i,s,n){let r=i,o=0;for(let i=0;i<s;i++){const s=e.__digit(i),c=a.__imul(32767&s,t),h=a.__imul(s>>>15,t),l=c+((32767&h)<<15)+o+r;r=l>>>30,o=h>>>15,n.__setDigit(i,1073741823&l)}if(n.length>s)for(n.__setDigit(s++,r+o);s<n.length;)n.__setDigit(s++,0);else if(0!==r+o)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,i){i>this.length&&(i=this.length);const s=32767&e,n=e>>>15;let r=0,o=t;for(let e=0;e<i;e++){const t=this.__digit(e),i=32767&t,c=t>>>15,h=a.__imul(i,s),l=a.__imul(i,n),d=a.__imul(c,s),u=a.__imul(c,n);let p=o+h+r;r=p>>>30,p&=1073741823,p+=((32767&l)<<15)+((32767&d)<<15),r+=p>>>30,o=u+(l>>>15)+(d>>>15),this.__setDigit(e,1073741823&p)}if(0!=r||0!==o)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,i=null){null===i&&(i=new a(e.length,!1));let s=0;for(let n,a=2*e.length-1;0<=a;a-=2){n=(s<<15|e.__halfDigit(a))>>>0;const r=0|n/t;s=0|n%t,n=(s<<15|e.__halfDigit(a-1))>>>0;const o=0|n/t;s=0|n%t,i.__setDigit(a>>>1,r<<15|o)}return i}static __absoluteModSmall(e,t){let i=0;for(let s=2*e.length-1;0<=s;s--)i=0|((i<<15|e.__halfDigit(s))>>>0)%t;return i}static __absoluteDivLarge(e,t,i,s){const n=t.__halfDigitLength(),r=t.length,o=e.__halfDigitLength()-n;let c=null;i&&(c=new a(o+2>>>1,!1),c.__initializeDigits());const h=new a(n+2>>>1,!1);h.__initializeDigits();const l=a.__clz15(t.__halfDigit(n-1));0<l&&(t=a.__specialLeftShift(t,l,0));const d=a.__specialLeftShift(e,l,1),u=t.__halfDigit(n-1);let p=0;for(let e,s=o;0<=s;s--){e=32767;const o=d.__halfDigit(s+n);if(o!==u){const i=(o<<15|d.__halfDigit(s+n-1))>>>0;e=0|i/u;let r=0|i%u;const c=t.__halfDigit(n-2),h=d.__halfDigit(s+n-2);for(;a.__imul(e,c)>>>0>(r<<16|h)>>>0&&(e--,r+=u,!(32767<r)););}a.__internalMultiplyAdd(t,e,0,r,h);let l=d.__inplaceSub(h,s,n+1);0!==l&&(l=d.__inplaceAdd(t,s,n),d.__setHalfDigit(s+n,32767&d.__halfDigit(s+n)+l),e--),i&&(1&s?p=e<<15:c.__setDigit(s>>>1,p|e))}if(s)return d.__inplaceRightShift(l),i?{quotient:c,remainder:d}:d;if(i)return c;throw new Error("unreachable")}static __clz15(e){return a.__clz30(e)-15}__inplaceAdd(e,t,i){let s=0;for(let n=0;n<i;n++){const i=this.__halfDigit(t+n)+e.__halfDigit(n)+s;s=i>>>15,this.__setHalfDigit(t+n,32767&i)}return s}__inplaceSub(e,t,i){let s=0;if(1&t){t>>=1;let n=this.__digit(t),a=32767&n,r=0;for(;r<i-1>>>1;r++){const i=e.__digit(r),o=(n>>>15)-(32767&i)-s;s=1&o>>>15,this.__setDigit(t+r,(32767&o)<<15|32767&a),n=this.__digit(t+r+1),a=(32767&n)-(i>>>15)-s,s=1&a>>>15}const o=e.__digit(r),c=(n>>>15)-(32767&o)-s;if(s=1&c>>>15,this.__setDigit(t+r,(32767&c)<<15|32767&a),t+r+1>=this.length)throw new RangeError("out of bounds");0==(1&i)&&(n=this.__digit(t+r+1),a=(32767&n)-(o>>>15)-s,s=1&a>>>15,this.__setDigit(t+e.length,1073709056&n|32767&a))}else{t>>=1;let n=0;for(;n<e.length-1;n++){const i=this.__digit(t+n),a=e.__digit(n),r=(32767&i)-(32767&a)-s;s=1&r>>>15;const o=(i>>>15)-(a>>>15)-s;s=1&o>>>15,this.__setDigit(t+n,(32767&o)<<15|32767&r)}const a=this.__digit(t+n),r=e.__digit(n),o=(32767&a)-(32767&r)-s;s=1&o>>>15;let c=0;0==(1&i)&&(c=(a>>>15)-(r>>>15)-s,s=1&c>>>15),this.__setDigit(t+n,(32767&c)<<15|32767&o)}return s}__inplaceRightShift(e){if(0===e)return;let t=this.__digit(0)>>>e;const i=this.length-1;for(let s=0;s<i;s++){const i=this.__digit(s+1);this.__setDigit(s,1073741823&i<<30-e|t),t=i>>>e}this.__setDigit(i,t)}static __specialLeftShift(e,t,i){const s=e.length,n=new a(s+i,!1);if(0===t){for(let t=0;t<s;t++)n.__setDigit(t,e.__digit(t));return 0<i&&n.__setDigit(s,0),n}let r=0;for(let i=0;i<s;i++){const s=e.__digit(i);n.__setDigit(i,1073741823&s<<t|r),r=s>>>30-t}return 0<i&&n.__setDigit(s,r),n}static __leftShiftByAbsolute(e,t){const i=a.__toShiftAmount(t);if(0>i)throw new RangeError("BigInt too big");const s=0|i/30,n=i%30,r=e.length,o=0!==n&&0!=e.__digit(r-1)>>>30-n,c=r+s+(o?1:0),h=new a(c,e.sign);if(0===n){let t=0;for(;t<s;t++)h.__setDigit(t,0);for(;t<c;t++)h.__setDigit(t,e.__digit(t-s))}else{let t=0;for(let e=0;e<s;e++)h.__setDigit(e,0);for(let i=0;i<r;i++){const a=e.__digit(i);h.__setDigit(i+s,1073741823&a<<n|t),t=a>>>30-n}if(o)h.__setDigit(r+s,t);else if(0!==t)throw new Error("implementation bug")}return h.__trim()}static __rightShiftByAbsolute(e,t){const i=e.length,s=e.sign,n=a.__toShiftAmount(t);if(0>n)return a.__rightShiftByMaximum(s);const r=0|n/30,o=n%30;let c=i-r;if(0>=c)return a.__rightShiftByMaximum(s);let h=!1;if(s)if(0!=(e.__digit(r)&(1<<o)-1))h=!0;else for(let t=0;t<r;t++)if(0!==e.__digit(t)){h=!0;break}h&&0===o&&0==~e.__digit(i-1)&&c++;let l=new a(c,s);if(0===o){l.__setDigit(c-1,0);for(let t=r;t<i;t++)l.__setDigit(t-r,e.__digit(t))}else{let t=e.__digit(r)>>>o;const s=i-r-1;for(let i=0;i<s;i++){const s=e.__digit(i+r+1);l.__setDigit(i,1073741823&s<<30-o|t),t=s>>>o}l.__setDigit(s,t)}return h&&(l=a.__absoluteAddOne(l,!0,l)),l.__trim()}static __rightShiftByMaximum(e){return e?a.__oneDigit(1,!0):a.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>a.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if("object"!=typeof e)return e;if(e.constructor===a)return e;if("undefined"!=typeof Symbol&&"symbol"==typeof Symbol.toPrimitive){const i=e[Symbol.toPrimitive];if(i){const e=i(t);if("object"!=typeof e)return e;throw new TypeError("Cannot convert object to primitive value")}}const i=e.valueOf;if(i){const t=i.call(e);if("object"!=typeof t)return t}const s=e.toString;if(s){const t=s.call(e);if("object"!=typeof t)return t}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return a.__isBigInt(e)?e:+e}static __isBigInt(e){return"object"==typeof e&&null!==e&&e.constructor===a}static __truncateToNBits(e,t){const i=0|(e+29)/30,s=new a(i,t.sign),n=i-1;for(let e=0;e<n;e++)s.__setDigit(e,t.__digit(e));let r=t.__digit(n);if(0!=e%30){const t=32-e%30;r=r<<t>>>t}return s.__setDigit(n,r),s.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,i){var s=Math.min;const n=0|(e+29)/30,r=new a(n,i);let o=0;const c=n-1;let h=0;for(const e=s(c,t.length);o<e;o++){const e=0-t.__digit(o)-h;h=1&e>>>30,r.__setDigit(o,1073741823&e)}for(;o<c;o++)r.__setDigit(o,0|1073741823&-h);let l=c<t.length?t.__digit(c):0;const d=e%30;let u;if(0==d)u=0-l-h,u&=1073741823;else{const e=32-d;l=l<<e>>>e;const t=1<<32-e;u=t-l-h,u&=t-1}return r.__setDigit(c,u),r.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){const i=e>>>1,s=this.__digit(i),n=1&e?32767&s|t<<15:1073709056&s|32767&t;this.__setDigit(i,n)}static __digitPow(e,t){let i=1;for(;0<t;)1&t&&(i*=e),t>>>=1,e*=e;return i}static __isOneDigitInt(e){return(1073741823&e)===e}}return a.__kMaxLength=33554432,a.__kMaxLengthBits=a.__kMaxLength<<5,a.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],a.__kBitsPerCharTableShift=5,a.__kBitsPerCharTableMultiplier=1<<a.__kBitsPerCharTableShift,a.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a.__kBitConversionBuffer=new ArrayBuffer(8),a.__kBitConversionDouble=new Float64Array(a.__kBitConversionBuffer),a.__kBitConversionInts=new Int32Array(a.__kBitConversionBuffer),a.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,i=Math.log;return 0===e?30:0|29-(0|i(e>>>0)/t)},a.__imul=e||function(e,t){return 0|e*t},a}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{id:1,type:1,state:0,count:Phaser.Math.Between(5,20),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:2,type:2,state:0,count:Phaser.Math.Between(5,20),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:3,type:3,state:0,count:Phaser.Math.Between(2,3),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:4,type:4,state:0,count:Phaser.Math.Between(5,20),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:5,type:5,state:0,count:Phaser.Math.Between(5,20),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:6,type:6,state:0,count:Phaser.Math.Between(5,20),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:7,type:7,state:0,count:10*Phaser.Math.Between(5,20),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:8,type:8,state:0,count:Phaser.Math.Between(2,4),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:9,type:9,state:0,count:Phaser.Math.Between(2,4),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:10,type:10,state:0,count:Phaser.Math.Between(5,20),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:11,type:11,state:0,count:Phaser.Math.Between(5,20),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:12,type:12,state:0,count:Phaser.Math.Between(5,20),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:13,type:13,state:Phaser.Math.Between(5,10),count:Phaser.Math.Between(2,4),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:14,type:14,state:0,count:Phaser.Math.Between(2,4),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:15,type:15,state:0,count:Phaser.Math.Between(5,20),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:16,type:16,state:0,count:Phaser.Math.Between(5,10),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:17,type:17,state:0,count:Phaser.Math.Between(2,4),done:!1,got_awarded:!1,progress:0,diamonds:1},{id:18,type:18,state:0,count:10*Phaser.Math.Between(2,10)*60,done:!1,got_awarded:!1,progress:0,diamonds:1},{id:19,type:19,state:0,count:1,done:!1,got_awarded:!1,progress:0,diamonds:1}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i,s,n,a){this.scene=e,this.x=t,this.y=i,this.width=s,this.height=n,this.atlasTexture=a,this.init()}return e.prototype.init=function(){this.depth=0,this.depth=1,this.originY=.5,this.create()},e.prototype.create=function(){this.leftTop=this.scene.add.sprite(this.x-this.width/2,this.y-this.height/2,this.atlasTexture,"left-top").setOrigin(0),this.rightTop=this.scene.add.sprite(this.x+this.width/2,this.y-this.height/2,this.atlasTexture,"right-top").setOrigin(1,0),this.leftBottom=this.scene.add.sprite(this.x-this.width/2,this.y+this.height/2,this.atlasTexture,"left-bottom").setOrigin(0,1),this.rightBottom=this.scene.add.sprite(this.x+this.width/2,this.y+this.height/2,this.atlasTexture,"right-bottom").setOrigin(1),this.setSizes(),this.middle=this.scene.add.sprite(0,0,this.atlasTexture,"middle").setDisplaySize(this.sideWidth,this.sideHeight).setOrigin(0),this.leftBorder=this.scene.add.sprite(0,0,this.atlasTexture,"left-side").setDisplaySize(this.angleWidth,this.sideHeight).setOrigin(0,.5),this.topBorder=this.scene.add.sprite(0,0,this.atlasTexture,"top-side").setDisplaySize(this.sideWidth,this.angleHeight).setOrigin(.5,0),this.rigthBorder=this.scene.add.sprite(0,0,this.atlasTexture,"right-side").setDisplaySize(this.angleWidth,this.sideHeight).setOrigin(1,.5),this.bottomBorder=this.scene.add.sprite(0,0,this.atlasTexture,"bottom-side").setDisplaySize(this.sideWidth,this.angleHeight).setOrigin(.5,1),this.setMiddleAndBordersPosition(),this.elements=[this.leftTop,this.rightTop,this.leftBottom,this.rightBottom,this.middle,this.leftBorder,this.topBorder,this.rigthBorder,this.bottomBorder]},e.prototype.setSizes=function(){this.sideWidth=this.rightTop.getLeftCenter().x-this.leftTop.getRightCenter().x,this.sideHeight=this.leftBottom.getTopCenter().y-this.leftTop.getBottomCenter().y,this.angleWidth=this.leftTop.width,this.angleHeight=this.leftTop.height,this.width=this.sideWidth+2*this.angleWidth,this.height=this.sideHeight+2*this.angleHeight},e.prototype.setMiddleAndBordersPosition=function(){this.middle.setPosition(this.leftTop.getBottomRight().x,this.leftTop.getBottomRight().y),this.leftBorder.setPosition(this.leftTop.getBottomLeft().x,this.leftTop.getBottomLeft().y+this.sideHeight/2),this.topBorder.setPosition(this.leftTop.getTopRight().x+this.sideWidth/2,this.leftTop.getTopRight().y),this.rigthBorder.setPosition(this.rightTop.getBottomRight().x,this.rightTop.getBottomRight().y+this.sideHeight/2),this.bottomBorder.setPosition(this.leftBottom.getBottomRight().x+this.sideWidth/2,this.leftBottom.getBottomRight().y)},e.prototype.expand=function(e){var t=this;this.expandAni=this.scene.tweens.add({targets:[this.leftTop,this.topBorder,this.rightTop],y:"-="+e,duration:2e3,delay:1e3,ease:"Power2",onUpdate:function(){t.setSizes(),t.setMiddleAndBordersPosition(),t.leftBorder.setDisplaySize(t.angleWidth,t.sideHeight),t.middle.setDisplaySize(t.sideWidth,t.sideHeight),t.rigthBorder.setDisplaySize(t.angleWidth,t.sideHeight)},onComplete:function(){t.cutDown(t.topBorder.y)},completeDelay:1e3})},e.prototype.cutDown=function(e){var t,i=this;null===(t=this.expandAni)||void 0===t||t.remove(),e=this.height-e>100?e:this.height-100,this.cutDownAni=this.scene.tweens.add({targets:[this.leftTop,this.topBorder,this.rightTop],y:"+="+e,duration:2e3,ease:"Power2",onUpdate:function(){i.setSizes(),i.setMiddleAndBordersPosition(),i.leftBorder.setDisplaySize(i.angleWidth,i.sideHeight),i.middle.setDisplaySize(i.sideWidth,i.sideHeight),i.rigthBorder.setDisplaySize(i.angleWidth,i.sideHeight)}})},e.prototype.setOriginY=function(e){return e!==this.originY&&(0===e||1===e?this.originY=e:e=.5,this.setPosition()),this},e.prototype.setPosition=function(e,t){switch(this.x=e||this.x,this.y=t||this.y,this.originY){case 0:this.leftTop.setPosition(this.leftTop.x,this.y),this.rightTop.setPosition(this.rightTop.x,this.y),this.leftBottom.setPosition(this.leftBottom.x,this.y+this.height),this.rightBottom.setPosition(this.rightBottom.x,this.y+this.height);break;case 1:this.leftTop.setPosition(this.leftTop.x,this.y-this.height),this.rightTop.setPosition(this.rightTop.x,this.y-this.height),this.leftBottom.setPosition(this.leftBottom.x,this.y),this.rightBottom.setPosition(this.rightBottom.x,this.y);break;default:this.leftTop.setPosition(this.x-this.width/2,this.y-this.height/2),this.rightTop.setPosition(this.x+this.width/2,this.y-this.height/2),this.leftBottom.setPosition(this.x-this.width/2,this.y+this.height/2),this.rightBottom.setPosition(this.x+this.width/2,this.y+this.height/2)}return this.setMiddleAndBordersPosition(),this},e.prototype.setX=function(e){return this.setPosition(e),this},e.prototype.setY=function(e){return this.setPosition(this.x,e),this},e.prototype.setTint=function(e){return this.elements.forEach((function(t){return t.setTint(e)})),this},e.prototype.clearTint=function(){return this.elements.forEach((function(e){return e.clearTint()})),this},e.prototype.setDepth=function(e){return this.depth=e,this.elements.forEach((function(t){return null==t?void 0:t.setDepth(e)})),this},e.prototype.setAlpha=function(e){return this.alpha=e,this.elements.forEach((function(t){return null==t?void 0:t.setAlpha(e)})),this},e.prototype.setInteractive=function(){return this.elements.forEach((function(e){return null==e?void 0:e.setInteractive()})),this},e.prototype.on=function(e,t){return this.elements.forEach((function(i){return i.on(e,t)})),this},e.prototype.getCenter=function(){return{x:this.middle.getCenter().x,y:this.middle.getCenter().y}},e.prototype.getTopCenter=function(){return{x:this.topBorder.getTopCenter().x,y:this.topBorder.getTopCenter().y}},e.prototype.getLeftCenter=function(){return{x:this.leftBorder.getLeftCenter().x,y:this.leftBorder.getLeftCenter().y}},e.prototype.getRightCenter=function(){return{x:this.rigthBorder.getRightCenter().x,y:this.rigthBorder.getRightCenter().y}},e.prototype.getBottomCenter=function(){return{x:this.bottomBorder.getBottomCenter().x,y:this.bottomBorder.getBottomCenter().y}},e.prototype.destroy=function(){var e,t;null===(e=this.expandAni)||void 0===e||e.remove(),null===(t=this.cutDownAni)||void 0===t||t.remove(),this.elements.forEach((function(e){return null==e?void 0:e.destroy()}))},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(5),n=function(){function e(e){this.scene=e,this.hashUser=this.scene.androidData.hashUser,this.servicesData=this.scene.androidData.servicesData,this.servicesUser=this.scene.androidData.servicesUser,this.create()}return e.prototype.create=function(){var e=this,t={fontSize:"25px",fontFamily:"Bip",color:"#925C28",align:"left",wordWrap:{width:450}},i=this.scene.add.tileSprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-20,614,320,"mid-syst").getBounds(),s=this.scene.add.sprite(i.centerX-1,i.top+14,"header-syst").setOrigin(.5,1);this.scene.add.sprite(i.centerX-1,i.bottom-1,"bottom-syst").setOrigin(.5,0);this.scene.add.text(i.centerX,s.getBounds().centerY-6,this.scene.state.lang.saveProgress,{fontSize:"37px",fontFamily:"Shadow",color:"#F9D48D"}).setOrigin(.5);var n=this.scene.add.text(i.centerX,s.getBounds().bottom+15,this.scene.state.lang.foundManySave,t).setOrigin(.5,0),a=this.scene.state.lang.androidFoundUser.replace("$1",String(this.hashUser.sheepPart)).replace("$2",String(this.hashUser.diamonds)),r=this.scene.state.lang.androidFoundUser.replace("$1",String(this.servicesUser.sheepPart)).replace("$2",String(this.servicesUser.diamonds)),o=this.scene.add.text(i.centerX-15,n.getBounds().bottom+5,a,t).setOrigin(.5,0),c=this.scene.add.text(i.centerX-15,o.getBounds().bottom+5,r,t).setOrigin(.5,0),h=(this.scene.add.sprite(o.getBounds().right+5,o.getBounds().centerY,"diamond-lil").setOrigin(0,.5),this.scene.add.sprite(c.getBounds().right+5,c.getBounds().centerY,"diamond-lil").setOrigin(0,.5),this.scene.add.text(i.centerX,c.getBounds().bottom+15,this.scene.state.lang.setAction,t).setFontFamily("Shadow").setOrigin(.5,0),this.scene.state.lang.saveAndroidProgress+" - "+this.hashUser.sheepPart+" "+this.scene.state.lang.part+", "+this.hashUser.diamonds),l=this.scene.state.lang.saveAndroidProgress+" - "+this.servicesUser.sheepPart+" "+this.scene.state.lang.part+", "+this.servicesUser.diamonds,d=this.scene.bigButton("green","center",60,h),u=this.scene.bigButton("yellow","center",140,l),p=d.title.getBounds(),f=u.title.getBounds(),m=this.scene.add.sprite(p.right+5,p.centerY,"diamond-lil").setOrigin(0,.5),g=this.scene.add.sprite(f.right+5,f.centerY,"diamond-lil").setOrigin(0,.5);d.img1=m,u.img1=g,this.scene.clickModalBtn(d,(function(){e.updateUser()})),this.scene.clickModalBtn(u,(function(){e.clearHash()}))},e.prototype.updateUser=function(){var e=this;this.scene.updateAndroidUser(this.servicesData).then((function(){s.default.clear(),e.scene.postCheckUser(e.servicesData.playerId,!0),e.scene.children.destroy()}))},e.prototype.clearHash=function(){s.default.clear(),this.scene.children.destroy(),this.scene.postCheckUser(this.servicesData.playerId,!0)},e}();t.default=n},function(e,t,i){e.exports=i.p+"32d772c464ce368e98c0df58cd64d007.png"},function(e,t,i){e.exports=i.p+"718d31dbe7fbe639dc7fb44150a38e08.png"},function(e,t,i){e.exports=i.p+"fe283d20c9f92642089375d54a4c78ba.png"},function(e,t,i){e.exports=i.p+"44babf16a4b7a8f1b1a8a1436ce8207a.png"},function(e,t,i){e.exports=i.p+"13f7d7967248ed61f312bce65fac49f0.png"},function(e,t,i){e.exports=i.p+"d4992fbfa2944662eac225de2ee6fdd9.png"},function(e,t,i){e.exports=i.p+"02db7edc2af32a299f17fd79d4c2eaf6.png"},function(e,t,i){e.exports=i.p+"0e3a6096212efdffd9be6c2dbea24b1e.png"},function(e,t,i){e.exports=i.p+"c4caf8db7143ea91dc501fd5c62479c5.png"},function(e,t,i){e.exports=i.p+"6c4056a603bdca62c6e6e9aa479e4122.png"},function(e,t,i){e.exports=i.p+"3247cbc6499ff634f942a95115b322cc.png"},function(e,t,i){e.exports=i.p+"0f95d8136d6f26e75e71f443e1589083.png"},function(e,t,i){e.exports=i.p+"4d1cbecd1d6c7d0a42cd9b649baacd78.png"},function(e,t,i){e.exports=i.p+"ac581e396e11aeccd89ca4b5d0239dc9.png"},function(e,t,i){e.exports=i.p+"2f622fd612fd217439f0c6a04dc73eb8.png"},function(e,t,i){e.exports=i.p+"cdebecacdf0b7277fae7e3a20514e5ee.png"},function(e,t,i){e.exports=i.p+"e788d22d92412f12f21a7d53b36732ea.png"},function(e,t,i){e.exports=i.p+"2e79ff5d7444110faf208d91f527b166.png"},function(e,t,i){e.exports=i.p+"8ebf0f2e49d7f3e0e48a34cf7a1ca895.png"},function(e,t,i){e.exports=i.p+"dd2d6a87a775d04e964568d0887f59ac.png"},function(e,t,i){e.exports=i.p+"120be8d3321e82dcf3576793a6133b89.png"},function(e,t,i){e.exports=i.p+"399dc9c4369bda550c2619b4b5858395.png"},function(e,t,i){e.exports=i.p+"cfa353054f8a6545d2649d8ca9db9e55.png"},function(e,t,i){e.exports=i.p+"0fdff247c63fb7c9a0163cfab91e9464.png"},function(e,t,i){e.exports=i.p+"94e64a0803a29c9eef20d3159c9da530.png"},function(e,t,i){e.exports=i.p+"9cee19ff4123b485c5c4f24185eed31f.png"},function(e,t,i){e.exports=i.p+"b88c52fb7db56e1cc53d7d07c27fb592.png"},function(e,t,i){e.exports=i.p+"a24b4a8b141e80870a8334a949b13092.png"},function(e,t,i){e.exports=i.p+"64ef8d03008fa03de9d813fcd4886adc.png"},function(e,t,i){e.exports=i.p+"27f7c26a69d6dd546e1e54b5a3f7d541.png"},function(e,t,i){e.exports=i.p+"c47982242eae01da06fd1564a6d0a70a.png"},function(e,t,i){e.exports=i.p+"c81465623d06157d64ef42a1733a5865.png"},function(e,t,i){e.exports=i.p+"3d12c729dc235e6480b047bec257fa2e.png"},function(e,t,i){e.exports=i.p+"83b4e35b19ac1a4ee1298ada7327b7cd.png"},function(e,t,i){e.exports=i.p+"7740a55ba66c7659674fd93618aea292.png"},function(e,t,i){e.exports=i.p+"6aac304f1e2d5f39d50ec02807478c77.png"},function(e,t,i){e.exports=i.p+"aaf4b56877557f7c37b8db7d46777f83.png"},function(e,t,i){e.exports=i.p+"f998a6cb7088f1545e6a710b959671a8.png"},function(e,t,i){e.exports=i.p+"5f1b83c49decaf428024ecc0f6cf51c5.png"},function(e,t,i){e.exports=i.p+"1c3099cdfd585671ee888ad680006557.png"},function(e,t,i){e.exports=i.p+"73b735a7360c564c62055a89ef93ac8e.png"},function(e,t,i){e.exports=i.p+"a5ad4a4e50fa10da86d23d3d0e71d34f.png"},function(e,t,i){e.exports=i.p+"15ee94d4ae5652ea4036d73a750d889d.png"},function(e,t,i){e.exports=i.p+"d8541888dafd33ff3240c57ecd7a7783.png"},function(e,t,i){e.exports=i.p+"627d12640004eddf1faaf126171a6064.png"},function(e,t,i){e.exports=i.p+"c6c57459d9878d83b073b31b3e5a9321.png"},function(e,t,i){e.exports=i.p+"d9343e9c50f1176fa2b3969191d1fd84.png"},function(e,t,i){e.exports=i.p+"b87aed74876b6d0fd6696cc285277f90.png"},function(e,t,i){e.exports=i.p+"03dc8742b57ae439a005aa91ea4bab2e.png"},function(e,t,i){e.exports=i.p+"28bda334f9422e4d63ecebc495f0ef02.png"},function(e,t,i){e.exports=i.p+"0c5c0c05856f671fbe4ed980764f31ae.png"},function(e,t,i){e.exports=i.p+"b5de42e6b47752bb9113b59dffa40af3.png"},function(e,t,i){e.exports=i.p+"d62c351e2bc0e26b8f197966cc30c7c0.png"},function(e,t,i){e.exports=i.p+"4536f7bc95cd71bc1214fae19fc49660.png"},function(e,t,i){e.exports=i.p+"f57f4f94d4381549dee99a15266a2aad.png"},function(e,t,i){e.exports=i.p+"1236fbdbe0a26015609dc1477cc031fa.png"},function(e,t,i){e.exports=i.p+"a47d98e88aaa9be42076e3d51d6646a7.png"},function(e,t,i){e.exports=i.p+"48e556207bb98b139903ca71b75a645f.png"},function(e,t,i){e.exports=i.p+"62d971a7302fb2dd21f85ed0fe70210e.png"},function(e,t,i){e.exports=i.p+"7fe1e663bbbc362bab5d51977c6a91c5.png"},function(e,t,i){e.exports=i.p+"68f0071c5016b95004fd31d36e334d01.png"},function(e,t,i){e.exports=i.p+"5973023192377646934088348b8376fe.png"},function(e,t,i){e.exports=i.p+"07751e87ed2ff3329f6e88fb3cec1ad2.png"},function(e,t,i){e.exports=i.p+"1674241ea1ee8ca5c93cf61e05f991f8.png"},function(e,t,i){e.exports=i.p+"7d27f43b5151c47724e80c0368788221.png"},function(e,t,i){e.exports=i.p+"d960525de97efdb103c33fe63d75af7a.png"},function(e,t,i){e.exports=i.p+"13775e81dbe3ae6fd1bde41a9746df47.png"},function(e,t,i){e.exports=i.p+"fd152d724a0b1a306bf0b7a5150b5823.png"},function(e,t,i){e.exports=i.p+"031655156cce734f74d08faf6bbc33be.png"},function(e,t,i){e.exports=i.p+"0f62583492213915755791396a14a07f.png"},function(e,t,i){e.exports=i.p+"db68da86af61a5241f7f45d3bd2dc8ab.png"},function(e,t,i){e.exports=i.p+"674630c845835c21aaee5d987b455554.png"},function(e,t,i){e.exports=i.p+"d25d5287b97008d08bfff6285b479571.png"},function(e,t,i){e.exports=i.p+"2f5494571ac1bdf2499313e152f163a6.png"},function(e,t,i){e.exports=i.p+"fd07189f7bf5fada1c87888589e6aecf.png"},function(e,t,i){e.exports=i.p+"21d2e7e8f69eef5606c19a785c7b87bb.png"},function(e,t,i){e.exports=i.p+"b1c1e3df4027a4c6261d0c816ba53789.png"},function(e,t,i){e.exports=i.p+"72ca63ae64ab7fea78b4655bb25bb751.png"},function(e,t,i){e.exports=i.p+"2a36db87d1f611086698c1b3b877e902.png"},function(e,t,i){e.exports=i.p+"19d75db9ae23cdde72d4fa56a6126187.png"},function(e,t,i){e.exports=i.p+"e39d0e5480c487670f3aaf3767ac7a67.png"},function(e,t,i){e.exports=i.p+"f0ca0073b87f83e2751a9074079bc6c8.png"},function(e,t,i){e.exports=i.p+"21359f924d97d3fd4ddd4c8013b39986.png"},function(e,t,i){e.exports=i.p+"b68c8e3db66ce44c8ec4b81409ec36c1.png"},function(e,t,i){e.exports=i.p+"b98968b8339ab984df6d3044e7712a9d.png"},function(e,t,i){e.exports=i.p+"1c9dd6b86122cb2e25bbc95ca1a4a841.png"},function(e,t,i){e.exports=i.p+"40a7553486d677f797403af4e577b531.png"},function(e,t,i){e.exports=i.p+"d3361d129ec12380b241ceb394a929f1.png"},function(e,t,i){e.exports=i.p+"106d2b7b126a89215b776f6b974d38f3.png"},function(e,t,i){e.exports=i.p+"f3ed0f35ca487f259644581153232d4d.png"},function(e,t,i){e.exports=i.p+"1b9b4493ed7888594aef93fa1fc5c972.png"},function(e,t,i){e.exports=i.p+"23007958ce8eea1535ac02cac1d4a4c6.png"},function(e,t,i){e.exports=i.p+"9d7f8199a5024e50c288bb9e8ed9dfde.png"},function(e,t,i){e.exports=i.p+"36e22ef56ad75923fa94110a90b1c3ab.png"},function(e,t,i){e.exports=i.p+"5e659f7ed75d2400b355fc6d5e78907f.png"},function(e,t,i){e.exports=i.p+"fde47a62e7d65bcbe8b88c910ea56993.png"},function(e,t,i){e.exports=i.p+"f3032ce1ee317a199f29a36a626b902d.png"},function(e,t,i){e.exports=i.p+"1a88a473f6e285cdcf8d51f0baaddd5c.png"},function(e,t,i){e.exports=i.p+"ec19bd0f39f4988d4b17f077298e2f5e.png"},function(e,t,i){e.exports=i.p+"e765e0a770fa0c1ad40c5b48946b147e.png"},function(e,t,i){e.exports=i.p+"de6e27caae0afe9949d6bce49af57f7e.png"},function(e,t,i){e.exports=i.p+"6bd1e4a67111a9d3f63e743aec092629.png"},function(e,t,i){e.exports=i.p+"b2eb5bfe1c4ddec126a4db5ffb08f879.png"},function(e,t,i){e.exports=i.p+"6c838f97aad440c0152aa9d634ffb6c3.png"},function(e,t,i){e.exports=i.p+"9f54e905b4b75a16d6606eeb79a00160.png"},function(e,t,i){e.exports=i.p+"b8a025e68ca43b798df1ad0fba655683.png"},function(e,t,i){e.exports=i.p+"7dd036e9c9137785279beead07eea984.png"},function(e,t,i){e.exports=i.p+"3b0a4fcc8a8519e5d41d28cdb182b667.png"},function(e,t,i){e.exports=i.p+"bef3c51bb1f1ccf1ca0cb3bccef863a6.png"},function(e,t,i){e.exports=i.p+"b2e62f49b739f5272035766f8df7984b.png"},function(e,t,i){e.exports=i.p+"484c1077647b4e9e529d837e9b98a2de.png"},function(e,t,i){e.exports=i.p+"f5dffcd8746f3cbffb945c31aa40339e.png"},function(e,t,i){e.exports=i.p+"6b98b33da35736c72c2398c8c2925ee8.png"},function(e,t,i){e.exports=i.p+"25182f58d0e64b6e46b31bab5de3f3a4.png"},function(e,t,i){e.exports=i.p+"d95007da7bcf6f3b7581fa7ead447483.png"},function(e,t,i){e.exports=i.p+"7df48b5b769a6c8620a8673fac312d84.png"},function(e,t,i){e.exports=i.p+"01024762e9a626f7ccc2accc28702eb6.png"},function(e,t,i){e.exports=i.p+"db7329e78d85eadb29ed093d64e983a8.png"},function(e,t,i){e.exports=i.p+"04557fc69d92ae780d484b02a303e1a4.png"},function(e,t,i){e.exports=i.p+"f7162ff48dc1497a7c3ebccc03a71a82.png"},function(e,t,i){e.exports=i.p+"b987595b6b8364501fae3e022068f8ef.png"},function(e,t,i){e.exports=i.p+"20313072205d7980739cc7f1feeef3f3.jpg"},function(e,t,i){e.exports=i.p+"af54f16e192addb9a8d11bf374c6059e.png"},function(e,t,i){e.exports=i.p+"2847def9e3c5983172f74e3bf52bd827.png"},function(e,t,i){e.exports=i.p+"56132a88c32c710c0701cad38a3790b6.png"},function(e,t,i){e.exports=i.p+"b4f97c3545a1e1bfb4c9671544465bb6.png"},function(e,t,i){e.exports=i.p+"7df4b9710fa9ffae1fbed217eb4d2fce.png"},function(e,t,i){e.exports=i.p+"a177b224baef460478fa6aab4fc29e0e.png"},function(e,t,i){e.exports=i.p+"54b8d66d0b57721e30eb5960c6b34084.png"},function(e,t,i){e.exports=i.p+"41a8ed1172b525cd405f069a4bca5028.png"},function(e,t,i){e.exports=i.p+"a9e38635fa3181534363ffe6eccfabbc.png"},function(e,t,i){e.exports=i.p+"3fc62f48ee5fd5101111b62f01f4fa30.png"},function(e,t,i){e.exports=i.p+"d21886637d36358fce377bf37cfcfe35.png"},function(e,t,i){e.exports=i.p+"1a26c497fce9bb6b44a0f4ea6705dfc4.png"},function(e,t,i){e.exports=i.p+"7e3518fdaa5210cc9a8150b1fd78afe9.png"},function(e,t,i){e.exports=i.p+"033a39258f2265ae93d74485686b16d3.png"},function(e,t,i){e.exports=i.p+"bfe9de4486bf5f3583487370223c519e.png"},function(e,t,i){e.exports=i.p+"df8af3064d8c8d278dad10d50d14fbf5.png"},function(e,t,i){e.exports=i.p+"8e5810358f65928fec8d368e009c3b4e.mp3"},function(e,t,i){e.exports=i.p+"90b8f382825c7a5d198ede3dcf6c10bb.mp3"},function(e,t,i){e.exports=i.p+"e8803ae89c88f3ed9aa6b49512e244dd.mp3"},function(e,t,i){e.exports=i.p+"e2cd2d1ce252311919c46951d98bdc6e.mp3"},function(e,t,i){e.exports=i.p+"47f984f53077cdbdf17083a61b4d1711.mp3"},function(e,t,i){e.exports=i.p+"82dd6d16134107fcaa515c3412d7fc8e.mp3"},function(e,t,i){e.exports=i.p+"bb332dd715c152562a7b13af52f72dc1.mp3"},function(e,t,i){e.exports=i.p+"19f3f3ebb8652353b3d3fed17f4adf7e.mp3"},function(e,t,i){e.exports=i.p+"c49e67053140f938cdf9554dcf8211c4.mp3"},function(e,t,i){e.exports=i.p+"419494143adf79196db5af79f0e93025.mp3"},function(e,t,i){e.exports=i.p+"b1d7d07415dfea509a932ed6ffeb5dc7.mp3"},function(e,t,i){e.exports=i.p+"6bfd15a57e36c30c7b1fc1fdf04a2f7b.mp3"},function(e,t,i){e.exports=i.p+"61072dc1454a36d2515ac59631fc70ca.mp3"},function(e,t,i){e.exports=i.p+"d7fb671da57bd910fc84ab80eeb03fb4.mp3"},function(e,t,i){e.exports=i.p+"e51b3a90d9a0044f73065c6ba136c6e4.mp3"},function(e,t,i){e.exports=i.p+"5cec85d4085d64c79ee488635abed90a.mp3"},function(e,t,i){e.exports=i.p+"c2962619740d43514143b2198a3c536a.mp3"},function(e,t,i){e.exports=i.p+"865c8ae95a3c74748b7c45b2c5516fcb.mp3"},function(e,t,i){e.exports=i.p+"ded9c768d77d738e41556ce9a312e20d.mp3"},function(e,t,i){e.exports=i.p+"a1772781d292ca97f0ec4df40b43d573.mp3"},function(e,t,i){e.exports=i.p+"cd0885bd24f33dab508bef99eb88e32c.png"},function(e,t,i){e.exports=i.p+"d89b3b43a70b4562ec5e5bad669ffe74.png"},function(e,t,i){e.exports=i.p+"ef2a17dc6d8192ae2a459f3b608fada7.png"},function(e,t,i){e.exports=i.p+"3f64317d9a507387ab004e99a1e3741c.png"},function(e,t,i){e.exports=i.p+"36cf86f6fe57603aedd9d23ad14d37ea.png"},function(e,t,i){e.exports=i.p+"0c7c0f861ce6c470b502279dc4dca95e.png"},function(e,t,i){e.exports=i.p+"9fdbef5fe004d0ead5881597c45d1e14.png"},function(e,t,i){e.exports=i.p+"3a391297723cee05e7fa49b5d5a68b17.png"},function(e,t,i){e.exports=i.p+"cd06f351d28e410fff3f58829c603e43.png"},function(e,t,i){e.exports=i.p+"531fd1f4ad3dbb0c94ba7c9a810902ba.png"},function(e,t,i){e.exports=i.p+"3e529705c69a9dd343a53a2e5750da4c.png"},function(e,t,i){e.exports=i.p+"f3e63d98d9f7c0d6c192b4b785a06e2e.png"},function(e,t,i){e.exports=i.p+"5def9bc288bf690f637e4df30833b837.png"},function(e,t,i){e.exports=i.p+"07c6c86989f2282d46e6d964db076523.png"},function(e,t,i){e.exports=i.p+"6bbdee2ebe098a8fc6ff2e88ce4e06ac.png"},function(e,t,i){e.exports=i.p+"56e28f3e7091a89e24989d8a7c6f5aca.png"},function(e,t,i){e.exports=i.p+"e344ee5f7f8f22da20aadb9b6886cc96.png"},function(e,t,i){e.exports=i.p+"e3d0f8d745217a3d9eb1ab0a2d49961a.png"},function(e,t,i){e.exports=i.p+"a55144b863d4bb2926feb6962b037e41.png"},function(e,t,i){e.exports=i.p+"28d368c1d7f1454436c78743938cba29.png"},function(e,t,i){e.exports=i.p+"509b25577cec540a975a08c1dad57c73.png"},function(e,t,i){e.exports=i.p+"24a69e439a2be88ac88f60d43ac102f4.png"},function(e,t,i){e.exports=i.p+"5982690e836e4ac168b1fceb41e8eefd.png"},function(e,t,i){e.exports=i.p+"c166b245ff0e619ae10f1d410fada8c1.png"},function(e,t,i){e.exports=i.p+"f3b16cb946a895d07649e00c0e82fc3a.png"},function(e,t,i){e.exports=i.p+"f0098014bf30f55461db720f95d8e22b.png"},function(e,t,i){e.exports=i.p+"dc91393b9981667b92f1e750d28e830d.png"},function(e,t,i){e.exports=i.p+"c5d4da89b7fb8fff7488995390637cea.png"},function(e,t,i){e.exports=i.p+"722435a9d9adf853f323031f35affc4c.png"},function(e,t,i){e.exports=i.p+"2bf437ed61339d15d9e81e906af9df3e.png"},function(e,t,i){e.exports=i.p+"a3d8e026bcb92ca862da9aef2ecb02bb.png"},function(e,t,i){e.exports=i.p+"a44064e1e13edb1c94f9861950570db9.png"},function(e,t,i){e.exports=i.p+"82074b56332df13210a0be118a22d7c7.png"},function(e,t,i){e.exports=i.p+"5739ad0eae3d7e6fc9f6a2ed83883825.png"},function(e,t,i){e.exports=i.p+"06fbef7f185ed5af0c9510c58356eba9.png"},function(e,t,i){e.exports=i.p+"c6ab61422fc899ceb4076ecd6db81f02.png"},function(e,t,i){e.exports=i.p+"04731ad09f32aae5ad1c94303877dc2e.png"},function(e,t,i){e.exports=i.p+"cf34bf87ec1471c2ed3b29dfa104cb7e.png"},function(e,t,i){e.exports=i.p+"decbec8e993cea9bba333110002af5e7.png"},function(e,t,i){e.exports=i.p+"ee343bcff5d44b52b7dfda9b7e890fbc.png"},function(e,t,i){e.exports=i.p+"a9a0e82da10f09683d01755320de2494.png"},function(e,t,i){e.exports=i.p+"57d1b34b3a9d34b279e16a02d5fc93b8.png"},function(e,t,i){e.exports=i.p+"e55555da17974da43bea9f2ee06a1139.png"},function(e,t,i){e.exports=i.p+"d461273b1f13f43073ab0f30a98f822b.png"},function(e,t,i){e.exports=i.p+"cd26f5a67b8b796c7787b46daf255797.png"},function(e,t,i){e.exports=i.p+"26b8b9acfb7691e7b6b6a485dc6c122f.png"},function(e,t,i){e.exports=i.p+"eae4103776609087909e4a04c02a2bd5.png"},function(e,t,i){e.exports=i.p+"de4bde5a692981f12e2cb8130e5de5b6.png"},function(e,t,i){e.exports=i.p+"6657ec5f3776fb1f384def3051aaea2c.png"},function(e,t,i){e.exports=i.p+"71b527bed99dca775532b26ee6d88cf3.png"},function(e,t,i){e.exports=i.p+"9f0dc159f64f847231e6ae4b9b9c643a.png"},function(e,t,i){e.exports=i.p+"ee09ae756c1b49f024c7523ddb3e48b9.png"},function(e,t,i){e.exports=i.p+"161c411c83afcceb8940e2b5750acb64.png"},function(e,t,i){e.exports=i.p+"8c96c5fe761b3d9d1651c78fc0b09110.png"},function(e,t,i){e.exports=i.p+"4f0f6e84490ac8050424fae40dcf7ef5.png"},function(e,t,i){e.exports=i.p+"dbcbddc01822dd7d568eebc18af4fd35.png"},function(e,t,i){e.exports=i.p+"880900a89cbe4bcf19307d30fa50f6f2.png"},function(e,t,i){e.exports=i.p+"4eaf67024dded6aa59c4ffb6147dbf55.png"},function(e,t,i){e.exports=i.p+"c60339c01e8935bfe7a8fc9c547007a9.png"},function(e,t,i){e.exports=i.p+"e47ab8fe6a0b971b95f8a634d3cfc736.png"},function(e,t,i){e.exports=i.p+"7037773150345ab4fd63d13ba1b7ef40.png"},function(e,t,i){e.exports=i.p+"36072ec1cf66ff2238846f5ac03e53bf.png"},function(e,t,i){e.exports=i.p+"a69d4cacd7c047a0c60c65ae19a36daf.png"},function(e,t,i){e.exports=i.p+"79958b86806bfb6d4d873c60e5184933.png"},function(e,t,i){e.exports=i.p+"cb5a184cf4cf107479273211caf5d31b.png"},function(e,t,i){e.exports=i.p+"58b207393965d861d0460d1c0786da76.png"},function(e,t,i){e.exports=i.p+"fe76dad1a1a28f74c4cc4e088c562087.png"},function(e,t,i){e.exports=i.p+"0e2c9f011ba17f0b9c0ed9ea8bd2af2a.png"},function(e,t,i){e.exports=i.p+"3ccf3aee0da0ec711879c976b087e915.png"},function(e,t,i){e.exports=i.p+"f7ff9d6bbd9eae4e0e9b15799e9ff8b9.png"},function(e,t,i){e.exports=i.p+"44f6496adf50a31533fb80d80186ec90.png"},function(e,t,i){e.exports=i.p+"9f33309bcd3da2576db47c2beff92a78.png"},function(e,t,i){e.exports=i.p+"9821222b012da757043c0893a54ce969.png"},function(e,t,i){e.exports=i.p+"bf000c6e84a41b72c6cb8f694b39a33e.png"},function(e,t,i){e.exports=i.p+"877ccee55c493799f5aa7022af8b3104.png"},function(e,t,i){e.exports=i.p+"11c7b93ef3a4a76283bfb4db8e4064d4.png"},function(e,t,i){e.exports=i.p+"df537824d7d2e4bc0d6f697def4a552c.png"},function(e,t,i){e.exports=i.p+"64ca475934322d2e9f5d332fdec97933.png"},function(e,t,i){e.exports=i.p+"26bdd7538df3b748f21f2aa4d88c9d09.png"},function(e,t,i){e.exports=i.p+"995338bc8c8fdc6485e84b3222292366.png"},function(e,t,i){e.exports=i.p+"b15f8f07c92c3d90e86b6913d705be6f.png"},function(e,t,i){e.exports=i.p+"8253bca15eb5695911119f9c2ccaa92c.png"},function(e,t,i){e.exports=i.p+"5c7a537df544cc66eb30fc5c8263e7ca.png"},function(e,t,i){e.exports=i.p+"471f3f143cee99edd8a8164a4e3e8e00.png"},function(e,t,i){e.exports=i.p+"a20b51020ad478dbfa7492244d9d42ee.png"},function(e,t,i){e.exports=i.p+"8610399d3eb6fefc9500c1fa09520a58.png"},function(e,t,i){e.exports=i.p+"16f11ddf632c195b491c1715fd82294f.png"},function(e,t,i){e.exports=i.p+"5d3e1d622f928963bde25e1060c65490.png"},function(e,t,i){e.exports=i.p+"910f8b667c2d692240b3701bd9f756b6.png"},function(e,t,i){e.exports=i.p+"75ea1d79178d3393bd26d0d669306ea4.png"},function(e,t,i){e.exports=i.p+"f36f6c764b153bbdfdc16ff64b868111.png"},function(e,t,i){e.exports=i.p+"f9b393f359c6e629677ecf472af3e984.png"},function(e,t,i){e.exports=i.p+"d3b9a7b00bcc54b17624ac005b419160.png"},function(e,t,i){e.exports=i.p+"7e78ba54e4df3720f84a85b4b92d9f99.png"},function(e,t,i){e.exports=i.p+"863bb417b64869d1647521933bbd61b5.png"},function(e,t,i){e.exports=i.p+"5d27f33ae06c87b876248417a50cea7a.png"},function(e,t,i){e.exports=i.p+"90137860ffa2ec270d2d18385c45640d.png"},function(e,t,i){e.exports=i.p+"b81e2b41641d64998c923d912482ead0.png"},function(e,t,i){e.exports=i.p+"008ddbfff7d387e3003a8a6e004a21e7.png"},function(e,t,i){e.exports=i.p+"47db36859e40618ad2302a560226e669.png"},function(e,t,i){e.exports=i.p+"733d0dd6b593d296d1403c5002c69b1d.png"},function(e,t,i){e.exports=i.p+"1cf218d2859aae90ee80227c5dca2321.png"},function(e,t,i){e.exports=i.p+"b6322c8dd4521a2fcea6ccbdb1c2e980.png"},function(e,t,i){e.exports=i.p+"9bd5bc3baafd6c0054ab129221829f18.png"},function(e,t,i){e.exports=i.p+"f9eae74df620cba446146a3c2cba5fad.png"},function(e,t,i){e.exports=i.p+"089aec19c615324d2210e574d111228b.png"},function(e,t,i){e.exports=i.p+"26f97c31b023b003bbf822cb0596fdde.png"},function(e,t,i){e.exports=i.p+"536a0a6ffc3e02ba24a4bfc857fe84ab.png"},function(e,t,i){e.exports=i.p+"712b4ca240757c0053b3ff2d6cf72514.png"},function(e,t,i){e.exports=i.p+"c72f5087c5140957898f954db3c813e4.png"},function(e,t,i){e.exports=i.p+"3b22da1a89a949fbd4f330981ea54f37.png"},function(e,t,i){e.exports=i.p+"3d431b067704cb68b1c04c31e51a417e.png"},function(e,t,i){e.exports=i.p+"625e022e05a51b1eda3f7ea71bf02651.png"},function(e,t,i){e.exports=i.p+"50fbada2a982686b55990c298b9e7b7f.png"},function(e,t,i){e.exports=i.p+"0654686df9e34edc679e967a693d0e63.png"},function(e,t,i){e.exports=i.p+"381dad4a5bf3ce32430939d50731bf8d.jpg"},function(e,t,i){e.exports=i.p+"b9170ff90d4df3a565d5b0c2c0f45a98.png"},function(e,t,i){e.exports=i.p+"b9b40f7a595d520da2c385082f59c2c2.png"},function(e,t,i){e.exports=i.p+"5f76cd0aa571b88059dac806f70c28bc.png"},function(e,t,i){e.exports=i.p+"cdc98b896d963a1221941e05c3b984c1.png"},function(e,t,i){e.exports=i.p+"bb56ba8650393bdd6f6d3bcf22378e69.png"},function(e,t,i){e.exports=i.p+"69e2bd7f2f22ce93c3e37501225889e9.png"},function(e,t,i){e.exports=i.p+"29c2e3e149979a41d9c323adff19e438.png"},function(e,t,i){e.exports=i.p+"4950542f27ad43caae3bda572d674bae.png"},function(e,t,i){e.exports=i.p+"452bd588ff0f8e7476235afb12f7c2f7.png"},function(e,t,i){e.exports=i.p+"4bf275a29ca04b301ddda28b6433231c.png"},function(e,t,i){e.exports=i.p+"ed281f23abda6c820c903249a41ae1c3.png"},function(e,t,i){e.exports=i.p+"18c3bfab04821fd1e24da8cf3e9b78e1.png"},function(e,t,i){e.exports=i.p+"c08e65fe2e20f480ca4af005b40e809c.png"},function(e,t,i){e.exports=i.p+"1784ff7a4adad03fc28c03d85234d131.png"},function(e,t,i){e.exports=i.p+"94bebaf07eac7a3025502d58067af99f.png"},function(e,t,i){e.exports=i.p+"8bc63c0dbeace7295f7d615af3a699ac.png"},function(e,t,i){e.exports=i.p+"32e022604deb7b1fd99713eb5bf57918.png"},function(e,t,i){e.exports=i.p+"03b34de6e64f0d066e2ce32014b44aaa.png"},function(e,t,i){e.exports=i.p+"15e94d522fb3353e8667f29127310b68.png"},function(e,t,i){e.exports=i.p+"f2bf531a088d264ea25dee2461202df7.png"},function(e,t,i){e.exports=i.p+"cb6ecb4d1cdb26b46263c6f6b3404bf9.png"},function(e,t,i){e.exports=i.p+"d3f776e08702c37b5c2401b77acbdffc.png"},function(e,t,i){e.exports=i.p+"7cbc4d8397279ccf72c38b002ac85e0d.png"},function(e,t,i){e.exports=i.p+"55f8a0ee22def48b762b79b6c438da4f.png"},function(e,t,i){e.exports=i.p+"17c31c707cafc1eb46f296769f851d49.png"},function(e,t,i){e.exports=i.p+"67023154418f43aa266924a35ec378ee.png"},function(e,t,i){e.exports=i.p+"5b4697cdc66e0dfdb112b4a149ce2bca.png"},function(e,t,i){e.exports=i.p+"4e32de08243ba48ca0857cc60e000d1c.png"},function(e,t,i){e.exports=i.p+"cd4d35f1ccb6d1a0273498562087751e.png"},function(e,t,i){e.exports=i.p+"cbc33d1deb0c342bddb873e48758ad44.png"},function(e,t,i){e.exports=i.p+"456f4eea90056029a107e0e47be00ab4.png"},function(e,t,i){e.exports=i.p+"39ce0c8271a72e345a41059f48a9cef9.png"},function(e,t,i){e.exports=i.p+"9d0a9ad796fad3d0c6a5c8f467cb9d73.png"},function(e,t,i){e.exports=i.p+"9a52440e640042b0eb8735a91c7aae4f.png"},function(e,t,i){e.exports=i.p+"3e43bb12335af12796d63a7dbcec5aab.png"},function(e,t,i){e.exports=i.p+"f5ade9f8c2ef688ed7deefe197009a71.png"},function(e,t,i){e.exports=i.p+"9b0798f0ce40771faae5c7f613b7e19b.png"},function(e,t,i){e.exports=i.p+"2baaf410300f1efe1063051408fc815e.png"},function(e,t,i){e.exports=i.p+"5da0ec4156b8d47c0104d36233d7df9d.png"},function(e,t,i){e.exports=i.p+"cc9b8721116ec22c012529ea16dc2df5.png"},function(e,t,i){e.exports=i.p+"50e252abd919b702de66114c1b1f4838.png"},function(e,t,i){e.exports=i.p+"90a5a232feb3d53afab19641d89f57a5.png"},function(e,t,i){e.exports=i.p+"5bf1cecec34e2295ce7105e90a1378e0.png"},function(e,t,i){e.exports=i.p+"777e48cd2ea49a4ea0b00236ab6704aa.png"},function(e,t,i){e.exports=i.p+"25c5cde24510c7df85c889295d87cb09.png"},function(e,t,i){e.exports=i.p+"36c1a1d3e91f50a7f1f8cb22f35b7b39.png"},function(e,t,i){e.exports=i.p+"8a4327818888fa4378464eb1bb07c700.png"},function(e,t,i){e.exports=i.p+"3159a645e999f3512c9382c79f3952b4.png"},function(e,t,i){e.exports=i.p+"348bd7ace886d44fda7db7c88725f367.png"},function(e,t,i){e.exports=i.p+"8617f778f089ecf852c7f1904975c7a4.png"},function(e,t,i){e.exports=i.p+"aaca1918fb3c24c50b911e8e992f4a84.png"},function(e,t,i){e.exports=i.p+"11e22262dc09b7fd31e440dea738af6a.png"},function(e,t,i){e.exports=i.p+"e6a5572c1ac808a6c57179710caf8545.png"},function(e,t,i){e.exports=i.p+"4a5643c4ee8d609a5090ce0f15349a2d.png"},function(e,t,i){e.exports=i.p+"4ff2238802cfbc5a6db3bb0538444803.png"},function(e,t,i){e.exports=i.p+"a75283bace6e5e90dd13901365b24b60.png"},function(e,t,i){e.exports=i.p+"46b87ba27517bd6092cfba083d4e8df0.png"},function(e,t,i){e.exports=i.p+"27462fe036377248880e928ddddca0e7.png"},function(e,t,i){e.exports=i.p+"8792285f51edec823b9eb78fd149635e.png"},function(e,t,i){e.exports=i.p+"832c38d019c7637745a743a745610047.png"},function(e,t,i){e.exports=i.p+"6b4d10cfb82bda0f8270e1853bfa4dc7.png"},function(e,t,i){e.exports=i.p+"2ee2c4032db4c751b300a9580616efd1.png"},function(e,t,i){e.exports=i.p+"3b230138142d4e8601a2ab5327187dc9.png"},function(e,t,i){e.exports=i.p+"7d86091c2fd1e1e40e1e4429ced764c9.png"},function(e,t,i){e.exports=i.p+"b1ef335a92d5bee463fd55ce6b73acd1.png"},function(e,t,i){e.exports=i.p+"493a89493fbcdb3f5774fb70a16ba4c4.png"},function(e,t,i){e.exports=i.p+"62ca41344fce9d490c9c27e2aa2e5a45.png"},function(e,t,i){e.exports=i.p+"6c685acac9b99aa9df172979c40f90ac.png"},function(e,t,i){e.exports=i.p+"c501743f8dd917a1848ffc4220be9119.png"},function(e,t,i){e.exports=i.p+"6802ec8226cf363b4e555835b746c2c4.png"},function(e,t,i){e.exports=i.p+"898b2aa584da2660a1898600f441d4e6.png"},function(e,t,i){e.exports=i.p+"37e37433439089494acf7dd61cac07ab.png"},function(e,t,i){e.exports=i.p+"649c46ecbf8db68fccbd2758190571a8.png"},function(e,t,i){e.exports=i.p+"52659264fed5a538316ffd5be4acbbcd.png"},function(e,t,i){e.exports=i.p+"4968f0dde3a5f571a92fcbe2e0590e5f.png"},function(e,t,i){e.exports=i.p+"ad509c274000748dec042f6b7fa28669.png"},function(e,t,i){e.exports=i.p+"e1f01c73f554c5b1574242f4477da213.png"},function(e,t,i){e.exports=i.p+"6ca7f6a03acf135c337988ec9ed3925e.png"},function(e,t,i){e.exports=i.p+"50736fa3b2810628f4cb303131471c82.png"},function(e,t,i){e.exports=i.p+"2a9001e0e717cae55bf0a03b273e29e7.png"},function(e,t,i){e.exports=i.p+"3d4e347478cd33341e276be79b99b06f.png"},function(e,t,i){e.exports=i.p+"0e42c6a97e2adfa7489825f5f03d7003.png"},function(e,t,i){e.exports=i.p+"799092047197ff99d8cde94a7515aefa.png"},function(e,t,i){e.exports=i.p+"5c6ece20450599d30bfd72f7ddf64e75.png"},function(e,t,i){e.exports=i.p+"fdc87fe8a0449cf6524c636223cf0534.png"},function(e,t,i){e.exports=i.p+"7af540d03111b07e33af4369b8b5857a.png"},function(e,t,i){e.exports=i.p+"08450d60ca0a75580799d64f74012896.png"},function(e,t,i){e.exports=i.p+"dcff18708981cda5e38142c9163c98b4.png"},function(e,t,i){e.exports=i.p+"635e039b6fffe78e9304e1045b89cfa6.png"},function(e,t,i){e.exports=i.p+"76a53575942d40fc23120d6781467633.png"},function(e,t,i){e.exports=i.p+"db18951393ebace7af0362aeba4ecbd7.png"},function(e,t,i){e.exports=i.p+"6a825a218f5c849b175abacf7f0fc4a1.png"},function(e,t,i){e.exports=i.p+"ff57c16ec754b30c212d957dd5447b7d.png"},function(e,t,i){e.exports=i.p+"5ae23533f4777ce0e28bf6291826352a.png"},function(e,t,i){e.exports=i.p+"c8ad38fb4eb680c7fcdfdac7412a0652.png"},function(e,t,i){e.exports=i.p+"ac6b466916a86cef2d67f0cd6d0d53e4.png"},function(e,t,i){e.exports=i.p+"c3b0617819f5e5f463a51ea2e5ec57f2.png"},function(e,t,i){e.exports=i.p+"2b39d0abd7429ed97b579d4d3c2efa7a.png"},function(e,t,i){e.exports=i.p+"43e4a8ce3a32bff31283c83f0e1b54c6.png"},function(e,t,i){e.exports=i.p+"eac6a2b4aa2dcecd14216d087a684279.png"},function(e,t,i){e.exports=i.p+"98c630328e27ef08945bdfb7b551848b.png"},function(e,t,i){e.exports=i.p+"196ac4e64eb15653b64933ed8748f678.png"},function(e,t,i){e.exports=i.p+"a44674c3ab431c22a6d3f55910e70abb.png"},function(e,t,i){e.exports=i.p+"30680e3d0a57f5f99b3a585c85a823e7.png"},function(e,t,i){e.exports=i.p+"99b12ee6f90f071651416fd9349d68f7.png"},function(e,t,i){e.exports=i.p+"84222c38668c27d4f111980ffb56560a.png"},function(e,t,i){e.exports=i.p+"df00c130467cce9fd2a9170b57102fbc.png"},function(e,t,i){e.exports=i.p+"ece2c13c01961956ea2cdb62bde9254b.png"},function(e,t,i){e.exports=i.p+"e4e8a34cbdb970e0d672ee0f65c24891.png"},function(e,t,i){e.exports=i.p+"16ec89b9f28e50eeeaeb1e42ec5e19aa.png"},function(e,t,i){e.exports=i.p+"bcc9bea2ce9442a51a862cd66148f2ec.png"},function(e,t,i){e.exports=i.p+"beafcc85fe10d634faa377a8d466ca19.png"},function(e,t,i){e.exports=i.p+"a9bc2bb12c6b28bbaa5950035d3600fc.png"},function(e,t,i){e.exports=i.p+"b5ca17c95e48ddd1030d5ef0f0111f65.png"},function(e,t,i){e.exports=i.p+"7f3f23b4b2448e16de0db3dab82e0cc9.png"},function(e,t,i){e.exports=i.p+"b8b5d50450f85d1ef3ef2e0eb96b5fe7.png"},function(e,t,i){e.exports=i.p+"3b19455078849e3d0c59c9ced18899f8.png"},function(e,t,i){e.exports=i.p+"976a91fcd394de7d7eb719bde51ff15d.png"},function(e,t,i){e.exports=i.p+"c22373a7049e28790ddc889794d485ee.png"},function(e,t,i){e.exports=i.p+"791e753945b965c2a54a8ceb7375738a.png"},function(e,t,i){e.exports=i.p+"d5089d7a40898162d093a6f366f60443.png"},function(e,t,i){e.exports=i.p+"a58d8c3fd7c2520a1d01f07a94f4fb9f.png"},function(e,t,i){e.exports=i.p+"7367d8827b426a9afc393a72b5199ec9.png"},function(e,t,i){e.exports=i.p+"b27523e5f9689720e49230b43e057694.png"},function(e,t,i){e.exports=i.p+"94b2d6371cb109ac85f8132993368927.png"},function(e,t,i){e.exports=i.p+"c964fbe396e1621a0d839a0c1aa0a994.png"},function(e,t,i){e.exports=i.p+"1946a7615ee2d3f5867947e4b00173d4.png"},function(e,t,i){e.exports=i.p+"91e4c47f3ce833f5faa2a7a8462439d5.png"},function(e,t,i){e.exports=i.p+"898fe526480503682a2eaae7e34c10a5.png"},function(e,t,i){e.exports=i.p+"95ef214cdc816da14f373b35fc89564d.png"},function(e,t,i){e.exports=i.p+"a927bdab50c5b900e81be22ec7acd7b1.png"},function(e,t,i){e.exports=i.p+"dadf9c757c4d29d3a61246cfd6501fc9.png"},function(e,t,i){e.exports=i.p+"d91b04640134e016887f5940e51de43b.png"},function(e,t,i){e.exports=i.p+"4f8e3a29718ef0d769cdb4e48f153803.png"},function(e,t,i){e.exports=i.p+"d1805227442f48538fcdb9722d5b6972.png"},function(e,t,i){e.exports=i.p+"30129af95202f154b0e7d143e1da8d64.png"},function(e,t,i){e.exports=i.p+"1dc1419f4e93d6ae01dad6d581da881b.png"},function(e,t,i){e.exports=i.p+"1a03066b79f282443d2daecb81a05844.png"},function(e,t,i){e.exports=i.p+"f0d2f0e8b32fa718baf13d8444867462.png"},function(e,t,i){e.exports=i.p+"7d8d52d06c66afbc9403a70eb8e72f9c.png"},function(e,t,i){e.exports=i.p+"57a6965961bf412c1d266d9ad3890813.png"},function(e,t,i){e.exports=i.p+"a36e0441262677f9de89705c68c558be.png"},function(e,t,i){e.exports=i.p+"960cd1e27f33470c237ca94c14957df6.png"},function(e,t,i){e.exports=i.p+"44d23795783e94d1c95c31954588d41d.png"},function(e,t,i){e.exports=i.p+"3621719346e84fad450c3caa400c5867.png"},function(e,t,i){e.exports=i.p+"3e59853bcfe9d740eebb180f3b19c8b8.png"},function(e,t,i){e.exports=i.p+"e55d69ae12a1aad8b75b798f3c3e4405.png"},function(e,t,i){e.exports=i.p+"84ddbd5f7ac8f1d7fadf4d73f492ea89.png"},function(e,t,i){e.exports=i.p+"e0b94ad664c4d293f1334fe010356937.png"},function(e,t,i){e.exports=i.p+"2bd2c280acd671d9adf069c8f542b0cf.png"},function(e,t,i){e.exports=i.p+"fba365bfa88e4f34064a06907e3b30f9.png"},function(e,t,i){e.exports=i.p+"204efd444f52da9329c01a1533170b58.png"},function(e,t,i){e.exports=i.p+"69d3ffb8e79c6f5cfa8aea06ff388cab.png"},function(e,t,i){e.exports=i.p+"b309a11b37fe26b464d79375acfab0de.png"},function(e,t,i){e.exports=i.p+"98cd73bb2a318adec63c21b8210a5dcc.png"},function(e,t,i){e.exports=i.p+"ff1ce987f1a973783e37c638179ec3f1.png"},function(e,t,i){e.exports=i.p+"c8750208fd24249e3d5837e8128689d1.png"},function(e,t,i){e.exports=i.p+"40942ce3cf09f6c6b80410f37ed62137.png"},function(e,t,i){e.exports=i.p+"58c4efbc8b2d37bb0ac6c279dff8b3f3.png"},function(e,t,i){e.exports=i.p+"1ebb95e5fa079c3f6dfb8e0b52e34008.png"},function(e,t,i){e.exports=i.p+"09cc27cc6ef722d0f0d247d7368b5d2d.png"},function(e,t,i){e.exports=i.p+"8bbf942e1a8a6dd5238441f8f9a9044a.png"},function(e,t,i){e.exports=i.p+"3c98dfc6005406e0fbd27308c282f0c2.png"},function(e,t,i){e.exports=i.p+"c25583b9e8dc60192040862d6261fbf1.png"},function(e,t,i){e.exports=i.p+"d1414b8bcb9dbe5bfbb0582f6bec0756.png"},function(e,t,i){e.exports=i.p+"8f384b4cf1d31477360f77c95c0fd652.png"},function(e,t,i){e.exports=i.p+"89af5112518ee7f2ce48a0fb0bdea1b6.png"},function(e,t,i){e.exports=i.p+"ae4501a15af473fa81c39994f0a2453f.png"},function(e,t,i){e.exports=i.p+"8c4edf60be682c8556f7c7971f520203.png"},function(e,t,i){e.exports=i.p+"80269478bd8c23b6a43610027e4c25ac.png"},function(e,t,i){e.exports=i.p+"658e34f1064309684eb6ccb7f36db37c.png"},function(e,t,i){e.exports=i.p+"6ab330b646690f3b907d11e160f7bec8.png"},function(e,t,i){e.exports=i.p+"ccc772497c807f9da5923b23bce582f1.png"},function(e,t,i){e.exports=i.p+"0b7342717cc1f8baa868cff859dd5454.png"},function(e,t,i){e.exports=i.p+"54d7d4c8cac08328c150a0f2a83a58c8.png"},function(e,t,i){e.exports=i.p+"079ff85fc6478bf5893b51572ed8b59a.png"},function(e,t,i){e.exports=i.p+"b242b71ed0c604aa9e0f72204e369534.png"},function(e,t,i){e.exports=i.p+"5327e8a6e5a09568d35f1ebda6c6a2b0.png"},function(e,t,i){e.exports=i.p+"800c085f0dac13b3384b1b150154bd6e.png"},function(e,t,i){e.exports=i.p+"b22b0a5bf6b14d1a234adfcc75a07a2b.png"},function(e,t,i){e.exports=i.p+"34f64326b71694e24f3211618252ebac.png"},function(e,t,i){e.exports=i.p+"19a1f57b83be5c4e9821b251245a050d.png"},function(e,t,i){e.exports=i.p+"f9c1f74c1b6f71cabc82bdb83d443f5c.png"},function(e,t,i){e.exports=i.p+"0edd24e795b65151c4c60158dceff877.png"},function(e,t,i){e.exports=i.p+"1b3d7a8a40f4ca587cfb3014b2503d2e.png"},function(e,t,i){e.exports=i.p+"2b19a2a99bd8d70fb448e7d0cc4de466.png"},function(e,t,i){e.exports=i.p+"047f36706ca104a3c3b81390743bd107.png"},function(e,t,i){e.exports=i.p+"e7f039abc3b06a0a2f398b6abce56d2f.png"},function(e,t,i){e.exports=i.p+"a56d0870985e98eeb1987f8979710739.png"},function(e,t,i){e.exports=i.p+"af3cab58ed710c014bed9614dbd17f5b.png"},function(e,t,i){e.exports=i.p+"08464c1cd82f46eff85c924de82a00a8.png"},function(e,t,i){e.exports=i.p+"cab33bc2b0c1b6c63d3e57408bf56c98.png"},function(e,t,i){e.exports=i.p+"7d71e8449f923b89c3ddf5001b28f0c7.png"},function(e,t,i){e.exports=i.p+"f56e443ecaf237f79ce25c588732e7f3.png"},function(e,t,i){e.exports=i.p+"10aa0229a3eda2fa29df8b77ef6f1160.png"},function(e,t,i){e.exports=i.p+"c2b6f392246aab11612d3f4c3978f189.png"},function(e,t,i){e.exports=i.p+"47b91f52d45efb678596a5b32dea9178.png"},function(e,t,i){e.exports=i.p+"61efd7e0c2e09bfbe42234a36eb4475e.png"},function(e,t,i){e.exports=i.p+"6e37825abc848b714fed6f60e2123313.png"},function(e,t,i){e.exports=i.p+"318dc9690a60ebeb7dc9aa738d9796e4.png"},function(e,t,i){e.exports=i.p+"62f6228ff4ecbc51c7ad52e046a69750.png"},function(e,t,i){e.exports=i.p+"253b05100a66737b3caa24755edbe8fc.png"},function(e,t,i){e.exports=i.p+"61c8a778423ef00ed7c5c721e5b5ea32.png"},function(e,t,i){e.exports=i.p+"c1c13b1f4f08221a92c9711e1efb2c7b.png"},function(e,t,i){e.exports=i.p+"3d926f75fe4a1f5b26f4759b31a001c1.png"},function(e,t,i){e.exports=i.p+"53567f7568263651c493e317e7963815.png"},function(e,t,i){e.exports=i.p+"b1fd4d4f26bc36f3cf1e975848591793.png"},function(e,t,i){e.exports=i.p+"3f9ff2dd59e127494275dc18e78dc2d3.png"},function(e,t,i){e.exports=i.p+"0e799d3a76e5750c922e4a5e46f5ac17.png"},function(e,t,i){e.exports=i.p+"2b7a1edfe8b7e8aa5dfbf8f70e963671.png"},function(e,t,i){e.exports=i.p+"61d12e82dde9723b016a21bbc9da75a7.png"},function(e,t,i){e.exports=i.p+"b0fc41b35f275fea6dd8f0dfb3fef01b.png"},function(e,t,i){e.exports=i.p+"83b6ee27b74c3668205632c2fcb13d8e.png"},function(e,t,i){e.exports=i.p+"97c277938ad90e7072ed8fd96c1d1d53.png"},function(e,t,i){e.exports=i.p+"ffd462fa1f278b789581ad49c5c86c9e.png"},function(e,t,i){e.exports=i.p+"30310afd41a3910ed73d99d46a499637.png"},function(e,t,i){e.exports=i.p+"b4c03cdd6a3e8e6a9e93c1cbcff3e7f3.png"},function(e,t,i){e.exports=i.p+"ddac7ec8794a723be13697ab00cffdd2.png"},function(e,t,i){e.exports=i.p+"588389f5033c51a1db37e33811b81e13.png"},function(e,t,i){e.exports=i.p+"36ce9cfe3ea065d48e71458e7a1df02d.png"},function(e,t,i){e.exports=i.p+"96345d6aa7d6509a508b4068478a859f.png"},function(e,t,i){e.exports=i.p+"48cfda912454179dedfe777342784645.png"},function(e,t,i){e.exports=i.p+"8f22428d6cf2270749d3abba84e3cd3a.png"},function(e,t,i){e.exports=i.p+"67008cc427efb97da69d6fa5d885e1cd.png"},function(e,t,i){e.exports=i.p+"7fdfab9f70e790e2fedb3439a97ba5d7.png"},function(e,t,i){e.exports=i.p+"b6c0ccf1ef92693cd7da2359f1c99933.png"},function(e,t,i){e.exports=i.p+"29c14c6e843c336379bc0aefd7edb8c4.png"},function(e,t,i){e.exports=i.p+"5d18a7ae1594004c64f92bd9f35e52fd.png"},function(e,t,i){e.exports=i.p+"e0f6f5f831a643525f2b7d87a30a21ec.png"},function(e,t,i){e.exports=i.p+"0afc336d5cb076f35938f61fa87f58b0.png"},function(e,t,i){e.exports=i.p+"69960c247ff9ac082033c18551b5f412.png"},function(e,t,i){e.exports=i.p+"21294a4daad470ee7234f004d6e13e0e.png"},function(e,t,i){e.exports=i.p+"3e393b656e6ff68c2f09cd015f68e4ad.png"},function(e,t,i){e.exports=i.p+"c7c0fa92b235f439638fc1295354f342.png"},function(e,t,i){e.exports=i.p+"d6ec7bebdfe366051f63fe645612b01f.png"},function(e,t,i){e.exports=i.p+"94fc77d84ca730bae8ea8e3e7dd277df.png"},function(e,t,i){e.exports=i.p+"71c152fc9aa3c9548c2d5c799ff38fa7.png"},function(e,t,i){e.exports=i.p+"54e01c4f0222ff5f1d21b03ca49fda74.png"},function(e,t,i){e.exports=i.p+"365652d0d9c8d92eeeeabe357a5d14fc.png"},function(e,t,i){e.exports=i.p+"85ae51d211bc114713389aaeb8740e73.png"},function(e,t,i){e.exports=i.p+"6849ea434935d29d1f689d5505551111.png"},function(e,t,i){e.exports=i.p+"04d0e681eba2c91d943dd3c4d59b4b76.png"},function(e,t,i){e.exports=i.p+"295bddecfa40bd8d8780b0ab4f9d8573.png"},function(e,t,i){e.exports=i.p+"47be90fc68ce646c37bf0818f713875e.png"},function(e,t,i){e.exports=i.p+"9d580df273b42185bde02269bbe699d5.png"},function(e,t,i){e.exports=i.p+"fe9eaf55a2a4ca51846ebb7c40f14b77.png"},function(e,t,i){e.exports=i.p+"b4bbf2b886d8193ae9d0d166bfdb211e.png"},function(e,t,i){e.exports=i.p+"75689a4884089add0c0ab111aabb5332.png"},function(e,t,i){e.exports=i.p+"2c08cd67efe4201bb71c692a1b188bf9.png"},function(e,t,i){e.exports=i.p+"4663a36cdfe35df03afae0ef751e3eb3.png"},function(e,t,i){e.exports=i.p+"4c3d646399b1fec6df977d4af087f097.png"},function(e,t,i){e.exports=i.p+"e83aedf4e2187ed0f36a3a2d7bdcf655.png"},function(e,t,i){e.exports=i.p+"9d4222f98104738a17b9449e9db70e96.png"},function(e,t,i){e.exports=i.p+"b384ce39e6a5c3cf62fffa1ab53061e2.png"},function(e,t,i){e.exports=i.p+"0509dce1cfc15eb760a4ceed54b500f5.png"},function(e,t,i){e.exports=i.p+"3b3b1e37657e76516ddd5b257bdefc2a.png"},function(e,t,i){e.exports=i.p+"0df678f76749e70362811c1e18c837cd.png"},function(e,t,i){e.exports=i.p+"e80a95dd3d3d09b0a826098ef1bd8267.png"},function(e,t,i){e.exports=i.p+"9186f27d2e289a618bd26dce757d017e.png"},function(e,t,i){e.exports=i.p+"7c143478bc9608b2b457a9333bd881a4.png"},function(e,t,i){e.exports=i.p+"cecc822798900e55dc4d18454401b1c5.png"},function(e,t,i){e.exports=i.p+"f832215111e245dd59340da5bd8986b5.png"},function(e,t,i){e.exports=i.p+"2a2baf0b32c2d406591513df8ea05826.png"},function(e,t,i){e.exports=i.p+"65f11da2fabe68302addb7974fd37d52.png"},function(e,t,i){e.exports=i.p+"9b9877b5f0f9e1fc5f86f58a9f82e00a.png"},function(e,t,i){e.exports=i.p+"289c4c1e147b595a6c932cd0f6382d83.png"},function(e,t,i){e.exports=i.p+"b079c0225a34b61a3faa9d204ab74a38.png"},function(e,t,i){e.exports=i.p+"67023154418f43aa266924a35ec378ee.png"},function(e,t,i){e.exports=i.p+"3e64b4f18c3ce4f4ec0568731e6eea5a.png"},function(e,t,i){e.exports=i.p+"94b5e39ae0a1c5d18564454f117463d4.png"},function(e,t,i){e.exports=i.p+"67023154418f43aa266924a35ec378ee.png"},function(e,t,i){e.exports=i.p+"3e315141b2b4f92b020dcd9a732366ac.png"},function(e,t,i){e.exports=i.p+"ebc49361834cee5d1089a75ae1bd6169.png"},function(e,t,i){e.exports=i.p+"1492be4ac3c93caf20345574af165f13.png"},function(e,t,i){e.exports=i.p+"fbd196a37c477e34a0c173d51db9c679.png"},function(e,t,i){e.exports=i.p+"35ec2881fc7291a2538bd0c550164f62.png"},function(e,t,i){e.exports=i.p+"d0d62a8552c3958b58749930d4ca09dc.png"},function(e,t,i){e.exports=i.p+"5a31a2b81ec17dea2d1301886acffbbb.png"},function(e,t,i){e.exports=i.p+"1d795ebddc8e79ad4cbddd694ef256f6.png"},function(e,t,i){e.exports=i.p+"148cecf357844eb78e5b3401408a805f.png"},function(e,t,i){e.exports=i.p+"eab5793cc04bcd2f762b48a29ac84463.png"},function(e,t,i){e.exports=i.p+"b2b21070adc638a6d9974a8f66d426f9.png"},function(e,t,i){e.exports=i.p+"0ce79ef0143cc943546b855d2c99c9aa.png"},function(e,t,i){e.exports=i.p+"49e3657bdb617645341ca272083bf533.png"},function(e,t,i){e.exports=i.p+"d663708787a8f6442bb7b8fd94b26da6.png"},function(e,t,i){e.exports=i.p+"475d7b63c548ce138e6fb8ce4ccc5160.png"},function(e,t,i){e.exports=i.p+"a15db7b39ba7102aba4960b84491b945.png"},function(e,t,i){e.exports=i.p+"54a0d6f76dcf6fb1b91fbca92af80fff.png"},function(e,t,i){e.exports=i.p+"b8b96dfe057ef8ed35b0327d13cf49cd.png"},function(e,t,i){e.exports=i.p+"20705eff6033ce45e47d8062d57cb619.png"},function(e,t,i){e.exports=i.p+"60b7c62355ce624acf9c596d00ad070c.png"},function(e,t,i){e.exports=i.p+"4b66c7af961f8788c809dda8674b5ef5.png"},function(e,t,i){e.exports=i.p+"df30b7777441b301c65e86e87cbc723c.png"},function(e,t,i){e.exports=i.p+"4be772d9fb168a1b5042af1e6ddcda39.png"},function(e,t,i){e.exports=i.p+"cc5a4d8bff455f534bacd26b6a98f1f4.png"},function(e,t,i){e.exports=i.p+"61dc16405dbf397ea1447bf732c5848a.png"},function(e,t,i){e.exports=i.p+"5d156f4e48927de28144d388c5ae71ac.png"},function(e,t,i){e.exports=i.p+"0068510383c3e5bee48100788632d874.png"},function(e,t,i){e.exports=i.p+"b5541396c5631162cec8599158f569f5.png"},function(e,t,i){e.exports=i.p+"52ec259495826071126ddbee81af1865.png"},function(e,t,i){e.exports=i.p+"1409638c732e8c5c737136427d8cbb82.png"},function(e,t,i){e.exports=i.p+"50c85072b429d18d4b3cab348e49bc60.png"},function(e,t,i){e.exports=i.p+"37abd83de32231ec46168f3c0dd11d9d.png"},function(e,t,i){e.exports=i.p+"4b6588ff75171f6bf4a12aef53df2ce4.png"},function(e,t,i){e.exports=i.p+"24d337fbae17960ebedac8a50ae5533c.png"},function(e,t,i){e.exports=i.p+"51991a91c4912856d6786ffa08ec20ee.png"},function(e,t,i){e.exports=i.p+"a3fe403757c89407ed77ce09a3ea3e0f.png"},function(e,t,i){e.exports=i.p+"29cc4866358b36d675b59a7b04528fe9.png"},function(e,t,i){e.exports=i.p+"e0d351d9c767860ad0659643eb8b1e2e.png"},function(e,t,i){e.exports=i.p+"f1b7b4d86d4a5aadefea1b7bca64477d.png"},function(e,t,i){e.exports=i.p+"e1b1c8a7f09f490bd32c24da426d98cd.png"},function(e,t,i){e.exports=i.p+"9ddb7006eef521c622922d0e93dd3746.png"},function(e,t,i){e.exports=i.p+"6d6130630047e081df9c11d4826e2f3b.png"},function(e,t,i){e.exports=i.p+"ab06789e7d5ac755baae32805087feb2.png"},function(e,t,i){e.exports=i.p+"31b7923c823210411c79cd0750341e70.png"},function(e,t,i){e.exports=i.p+"df94f34bd15577a0abdca7f570553761.png"},function(e,t,i){e.exports=i.p+"70351a187f625236c092490b5f46ac71.png"},function(e,t,i){e.exports=i.p+"afdb4cfd6ddb27f2331e565dacc75dca.png"},function(e,t,i){e.exports=i.p+"ee822d6a1d83d457787706ff1fc98b91.png"},function(e,t,i){e.exports=i.p+"473ed74a98adc766972b8f2edce9bef6.png"},function(e,t,i){e.exports=i.p+"2cf488b50027e2fc719b42e18a83331f.png"},function(e,t,i){e.exports=i.p+"48e5c3ae6adc518f0b82a29570edd0f2.png"},function(e,t,i){e.exports=i.p+"6eefa61809658c7fb64bca67a9fa0985.png"},function(e,t,i){e.exports=i.p+"000323af2a91225db7382d00163e7b69.png"},function(e,t,i){e.exports=i.p+"13e44b3ad4e4009fd3694406c945a1b2.png"},function(e,t,i){e.exports=i.p+"fe3388373eb01712d299759ecd2b16be.png"},function(e,t,i){e.exports=i.p+"22d271179d7a9dc7ca8595687b1cfb65.png"},function(e,t,i){e.exports=i.p+"d53113abb001ae1315cdeabfb8d0dd27.png"},function(e,t,i){e.exports=i.p+"3887ab628ee00b7df0696bdbc346ce07.png"},function(e,t,i){e.exports=i.p+"f2f8aea85ce5ef4dd9e61a83e53d7d44.png"},function(e,t,i){e.exports=i.p+"3ffb373ddf86bb4374b32c9515695250.png"},function(e,t,i){e.exports=i.p+"0f0783b6c6866c4f1c751b4f2e3cea65.png"},function(e,t,i){e.exports=i.p+"ad2b51fdd05861ac75931818c60d8d2f.png"},function(e,t,i){e.exports=i.p+"0f7d5e6e87ed7aac003ce7959dd565e2.png"},function(e,t,i){e.exports=i.p+"45e65380516e00f0c2012d47ccda859e.png"},function(e,t,i){e.exports=i.p+"132f689891e7abc8bc4dda64539d337f.png"},function(e,t,i){e.exports=i.p+"8a82ced21fe2133b7214fb89d0374a36.png"},function(e,t,i){e.exports=i.p+"5b3158b4b053942db873f5765396e312.png"},function(e,t,i){e.exports=i.p+"63b4c63f69690c2fd60a6e5516942331.png"},function(e,t,i){e.exports=i.p+"f587f23d6c5153157b3a70b57c04cfff.png"},function(e,t,i){e.exports=i.p+"7b565b87deaadc24a9283ed71b67fb66.png"},function(e,t,i){e.exports=i.p+"492d97917157b72841bbeb49ea822d8f.png"},function(e,t,i){e.exports=i.p+"e153f63a881f07b6b2e80c5241c397b1.png"},function(e,t,i){e.exports=i.p+"ccfdafac2911bc32c726486685e2cce9.png"},function(e,t,i){e.exports=i.p+"ead801c2298383a08831adcbab0a8412.png"},function(e,t,i){e.exports=i.p+"215bd491f70bf4d659588cd0c9a74794.png"},function(e,t,i){e.exports=i.p+"b6d568dcf2875c18f811b173d0f4b621.png"},function(e,t,i){e.exports=i.p+"300f8f01f7abf1d11129c8a96c9540b0.png"},function(e,t,i){e.exports=i.p+"7fa5dd0bd69f7eaff08ac6ab08081c46.png"},function(e,t,i){e.exports=i.p+"bd9e5eb68122dcb748b3cf926f614dc6.png"},function(e,t,i){e.exports=i.p+"3d88563c745681654c9854b16500248d.png"},function(e,t,i){e.exports=i.p+"dc0dd747ec5f98165af43920924f34aa.png"},function(e,t,i){e.exports=i.p+"585de1e52b9c31ca11c4925c6bd272e3.png"},function(e,t,i){e.exports=i.p+"46745a1faff7233c601610fca2710128.png"},function(e,t,i){e.exports=i.p+"353437246bf27c1f60fd0036c6a5675f.png"},function(e,t,i){e.exports=i.p+"67df616ee0d02b549e3d199ed6dc96b8.png"},function(e,t,i){e.exports=i.p+"a25f9d7d216bd15bb4507c8338219f5d.png"},function(e,t,i){e.exports=i.p+"2278ac72e1be8efee7fd6c44731a0809.png"},function(e,t,i){e.exports=i.p+"c607d6fbdf65e87e6478bbd4b4fc559b.png"},function(e,t,i){e.exports=i.p+"0882a058ce6f4a7babecf520d25a4e5e.png"},function(e,t,i){e.exports=i.p+"8025b79379f410422b9a8be4b3f65737.png"},function(e,t,i){e.exports=i.p+"c26c9020d4989978b139d811f68bebf4.png"},function(e,t,i){e.exports=i.p+"719a9c821e7398fc95310f24b7ed5bc2.png"},function(e,t,i){e.exports=i.p+"3130ff818676bdb8c151a815f65b56cb.png"},function(e,t,i){e.exports=i.p+"484b57b2a2011128db8b863a18a7d9ed.png"},function(e,t,i){e.exports=i.p+"efb1e82052470d07970f4c6996e253e4.png"},function(e,t,i){e.exports=i.p+"d911f18538773bde9109ae2c66831b6b.png"},function(e,t,i){e.exports=i.p+"bf8eccc61b3442dfc02a40aa42b2b2d8.png"},function(e,t,i){e.exports=i.p+"db89fb44a47ad21ed4bc4ec43315f87a.png"},function(e,t,i){e.exports=i.p+"fddb2fdc130f4775f518186ea16ab8f3.png"},function(e,t,i){e.exports=i.p+"525c60885ef5a1faa56bad80f6d58547.png"},function(e,t,i){e.exports=i.p+"e79d165615c5f82f25e0af99d9dde45d.png"},function(e,t,i){e.exports=i.p+"b3838652204c0132e90a80c5dd8ae278.png"},function(e,t,i){e.exports=i.p+"5a79be6fa2209b2dc8bc5193103986ff.png"},function(e,t,i){e.exports=i.p+"753fb56c772069b5d01b2ecd853dbd81.png"},function(e,t,i){e.exports=i.p+"ba875902c71bd0528131183d5086e69b.png"},function(e,t,i){e.exports=i.p+"c3bb7c254f291ba03ecb1e1526bb0457.png"},function(e,t,i){e.exports=i.p+"22f633ca4900ce901bb40adecb025b92.png"},function(e,t,i){e.exports=i.p+"da5b002ca65a246d6671ad662b8f45cb.png"},function(e,t,i){e.exports=i.p+"61a56ceadc779fcdbafa05df497465e5.png"},function(e,t,i){e.exports=i.p+"4394b23fedc82d6cf3d30b9321794f0e.png"},function(e,t,i){e.exports=i.p+"88be77331c33774f8fc7cdf4cdb6fd33.png"},function(e,t,i){e.exports=i.p+"bc63b30dabbbb1963e91b3d0be079fc5.png"},function(e,t,i){e.exports=i.p+"41e00b9c38752caf943dd74edc29376b.png"},function(e,t,i){e.exports=i.p+"93ff72af72d5a7d153dccb6a450a71c5.png"},function(e,t,i){e.exports=i.p+"a0cc374dc9b18e7161bf8795928d86b9.png"},function(e,t,i){e.exports=i.p+"60efccb336c56c854fca07a9b8f73e2b.png"},function(e,t,i){e.exports=i.p+"f8fae0bd26597a27e702231a4665e1ba.png"},function(e,t,i){e.exports=i.p+"bd265efeab3179311e0f18f0d711591f.png"},function(e,t,i){e.exports=i.p+"6cf5abaabf3bd43b64bf9157e6f8e6ea.png"},function(e,t,i){e.exports=i.p+"741c1b9d04f258881c81a63dc314a225.png"},function(e,t,i){e.exports=i.p+"0d100ff1c524c0cd196dc7a6aa636744.png"},function(e,t,i){e.exports=i.p+"9bc9199238b9ab91cc8353ec3b7c66e2.png"},function(e,t,i){e.exports=i.p+"eb9f6c10b0d18eba17ccb6a749be534c.png"},function(e,t,i){e.exports=i.p+"cb0f7eedd6b3fc70caf61d33d990d5c2.png"},function(e,t,i){e.exports=i.p+"e0f36a1ea6243c180eae6fc37227d1e5.png"},function(e,t,i){e.exports=i.p+"3279fb8d2fd93ddb7841940a4b626c73.png"},function(e,t,i){e.exports=i.p+"baa5984e69910ca38b8700cc0ffe3f71.png"},function(e,t,i){e.exports=i.p+"1158791fa2a1d9b6c5a91f848da1d6b8.png"},function(e,t,i){e.exports=i.p+"0cd9a20eae49997a63e1c415b5457c06.png"},function(e,t,i){e.exports=i.p+"2718cf3488a98155b26adebffec68e44.png"},function(e,t,i){e.exports=i.p+"8a0a35644e59c3f8b1eff92c1eb3aac5.png"},function(e,t,i){e.exports=i.p+"110f90b14f9724c0f777ed15a6084fe3.png"},function(e,t,i){e.exports=i.p+"ddef875a176c14c1827e275c6a85ee13.png"},function(e,t,i){e.exports=i.p+"dbff3a2d9f20caf4b402045d7247058c.png"},function(e,t,i){e.exports=i.p+"c1196ce3c2d40be04da980e4793d817d.png"},function(e,t,i){e.exports=i.p+"f9babf02e22ab14385e3efee42e3a628.png"},function(e,t,i){e.exports=i.p+"a04fed7741096af6a0de06bd5d81e587.png"},function(e,t,i){e.exports=i.p+"9b2436c1a9e59ddb7eb27bc4781fda67.png"},function(e,t,i){e.exports=i.p+"d74cc00e5b5b695256bd69ee782a0c48.png"},function(e,t,i){e.exports=i.p+"235d7dfcbd8d1a7210d71a5fd1854da3.png"},function(e,t,i){e.exports=i.p+"373b93f9827810428d86ce8c9f150d1d.png"},function(e,t,i){e.exports=i.p+"9fff7842a3a0ad2386a3d6ba30dfeecb.png"},function(e,t,i){e.exports=i.p+"a6af88104cb2387a82f80dedb75b0895.png"},function(e,t,i){e.exports=i.p+"3657b3676c1e67ecbf02603ad4ea0d1e.png"},function(e,t,i){e.exports=i.p+"abc84792272c1df2deb9cb49268758c2.png"},function(e,t,i){e.exports=i.p+"eb9e4148bc44a7c5c28ffbf53b041ce3.png"},function(e,t,i){e.exports=i.p+"82e476cd38dbc572e0d23faf08cf8dd0.png"},function(e,t,i){e.exports=i.p+"140c67b31f7eda8a26415c090529e4b8.png"},function(e,t,i){e.exports=i.p+"b6eee1ab8bf00aa181b6e6359d82af61.png"},function(e,t,i){e.exports=i.p+"abf2dcbdb3ca9f29ccf834cb9fdcacb7.png"},function(e,t,i){e.exports=i.p+"ccab5853eea1e60c55b9002f211cac07.png"},function(e,t,i){e.exports=i.p+"8c4efc78232e6a902b8ef2ff14bc98a8.png"},function(e,t,i){e.exports=i.p+"a7bcb6617bf61f2ee384c71ad50fa1bf.png"},function(e,t,i){e.exports=i.p+"543044f2db9c44ec6205a86f7e7651ad.png"},function(e,t,i){e.exports=i.p+"e984793deb176a3e9ddc6892bd784934.png"},function(e,t,i){e.exports=i.p+"d826656b1b30579d939e84b2bf60737c.png"},function(e,t,i){e.exports=i.p+"0aa51a54780102a6d1a4ece5f19efd4a.png"},function(e,t,i){e.exports=i.p+"8862bae869be1532b8406e945b17eec1.png"},function(e,t,i){e.exports=i.p+"29c0b4efe62d471a60f43f55c7c7f7df.png"},function(e,t,i){e.exports=i.p+"cc0868752b8a1b99f33fa9b328e1f888.png"},function(e,t,i){e.exports=i.p+"30c5f06140291b604bc513617e81c349.png"},function(e,t,i){e.exports=i.p+"ce049bad65b615ebe663c6472b824ee8.png"},function(e,t,i){e.exports=i.p+"a5b92fc2f62f1f60b391c60ff83e5432.png"},function(e,t,i){e.exports=i.p+"9769d51f164f96fb2f8cfb85cb0f50fd.png"},function(e,t,i){e.exports=i.p+"b7c1f0e0031d8ff524e1f51f4a8bf3f7.png"},function(e,t,i){e.exports=i.p+"74117ceda04d3adc9edbcc7726ad7ac2.png"},function(e,t,i){e.exports=i.p+"f222bf5bc61601ed7c593069b62eece4.png"},function(e,t,i){e.exports=i.p+"748a14fe588671cf71e56c9e1e416d3c.png"},function(e,t,i){e.exports=i.p+"573aedfba6db6e6c63bce57c965780bb.png"},function(e,t,i){e.exports=i.p+"1944ba6816b2f58aa42e8d32e4828d52.png"},function(e,t,i){e.exports=i.p+"a37d962408c69972baba2b0ae3b8efda.png"},function(e,t,i){e.exports=i.p+"abc4a311fb83d6390111cd4c89e5810b.png"},function(e,t,i){e.exports=i.p+"ce125eb90f48484bd38831c6aa14d15e.png"},function(e,t,i){e.exports=i.p+"ae5593cf453d978bffd5866076bf01ac.png"},function(e,t,i){e.exports=i.p+"1035455c7741284b35429dfeb94a9d6d.png"},function(e,t,i){e.exports=i.p+"a2bbcc84892b5ef3d755e5e78413cd1e.png"},function(e,t,i){e.exports=i.p+"7773de8062f892a632af9f1dfa542c50.png"},function(e,t,i){e.exports=i.p+"be4e4ed7269925a8e3bbe07c2157def6.png"},function(e,t,i){e.exports=i.p+"f9fb28af6060a3b9c05706d356117358.png"},function(e,t,i){e.exports=i.p+"d8c1967d211b5aa495a89f8325b7b076.png"},function(e,t,i){e.exports=i.p+"571169db3366fd9cc96a4778e0d61214.png"},function(e,t,i){e.exports=i.p+"0a798395d87b7a1c1626a88611ac3ce2.png"},function(e,t,i){e.exports=i.p+"f4d8f5056c7582252b4d9c872db0fd6d.png"},function(e,t,i){e.exports=i.p+"989bd5b073d95b3908d64a7dd4b45b70.png"},function(e,t,i){e.exports=i.p+"73ba6e1865dff4dec8688dfb158f3e4c.png"},function(e,t,i){e.exports=i.p+"05ef7552e13c29fba2e4faad9a3bc087.png"},function(e,t,i){e.exports=i.p+"834af5e38c6745f17335970961d609ab.png"},function(e,t,i){e.exports=i.p+"5f79a284c5a7c5e350efcceebbb9b36d.png"},function(e,t,i){e.exports=i.p+"b1ab05d8e960b53c979c934c6b39a535.png"},function(e,t,i){e.exports=i.p+"051d834151971dda1d098a55de8df5d2.png"},function(e,t,i){e.exports=i.p+"7c75e16ebcc426881813a69a99bc9739.png"},function(e,t,i){e.exports=i.p+"5906ce501beb116248a905f4cc19d1ce.png"},function(e,t,i){e.exports=i.p+"9fe8873076b293dcf39097b02689a024.png"},function(e,t,i){e.exports=i.p+"79b9dee68dcac33b8cf1d128ecd50121.png"},function(e,t,i){e.exports=i.p+"7376222aaf6312842e2753f69c7eb031.png"},function(e,t,i){e.exports=i.p+"4ef16b29d71425b194e395fc6c70a8bf.png"},function(e,t,i){e.exports=i.p+"a79e0b5f1ad35e6d807a9e9bc3538f56.png"},function(e,t,i){e.exports=i.p+"5aa379eee8ed0bacfcf72dcfeac813ec.png"},function(e,t,i){e.exports=i.p+"0192f93b0ead0676d89fc7f8258cb8b7.png"},function(e,t,i){e.exports=i.p+"6b1070b5033f2949e5eb00949899e9d2.png"},function(e,t,i){e.exports=i.p+"02513b3e9c9143e73bf1037b4178a748.png"},function(e,t,i){e.exports=i.p+"07b2d401a3bf007a2a239b56eb21ded9.png"},function(e,t,i){e.exports=i.p+"964bea1d7e2b97667efd33749fa1d415.png"},function(e,t,i){e.exports=i.p+"89c8f747398443affe96be318fe7db22.png"},function(e,t,i){e.exports=i.p+"b539a10f8de471d75b5468d20c19c684.png"},function(e,t,i){e.exports=i.p+"f0e919b9cf21500ea66c85de2164098c.png"},function(e,t,i){e.exports=i.p+"53377c43b3bda874d5a5d2937cc82bcb.png"},function(e,t,i){e.exports=i.p+"5e47c0b5595ffc765cb8544189f340f9.png"},function(e,t,i){e.exports=i.p+"dcc86ff9a9a7a0791e8e4d04fff92c01.png"},function(e,t,i){e.exports=i.p+"362c2704d6b45e60d274dd1235a10bb8.png"},function(e,t,i){e.exports=i.p+"b8da13acd457da3dc0bc1d742f9be081.png"},function(e,t,i){e.exports=i.p+"aff09a3e6d58ac7a08b8eabcfa8f2bd4.png"},function(e,t,i){e.exports=i.p+"716ff1067bb965f1264cf77eba7d2aba.png"},function(e,t,i){e.exports=i.p+"3c7b0e7a0393a5f5d8e32eecb70d79a6.png"},function(e,t,i){e.exports=i.p+"db7c2a707b004174397f8a74f74bc359.png"},function(e,t,i){e.exports=i.p+"c23b4d0ae531b3b86c75723b3fb2df1d.png"},function(e,t,i){e.exports=i.p+"78ff703f0d451954f6d0fdf8c1a363dc.png"},function(e,t,i){e.exports=i.p+"897d0af542bc53d3cb1bf683a04ac363.png"},function(e,t,i){e.exports=i.p+"c071c73577e20a4e3e87a7844091fe49.png"},function(e,t,i){e.exports=i.p+"dc2bd1f6140d3a9c6a76b2e29a0a9e33.png"},function(e,t,i){e.exports=i.p+"f44f2240cfd48d047e3c2490faf6f2d1.png"},function(e,t,i){e.exports=i.p+"ffb5166e7dc673b08a62143a8aed5954.png"},function(e,t,i){e.exports=i.p+"10bc314c7327a12ec8c1e309c8cabb58.png"},function(e,t,i){e.exports=i.p+"b6374eb6691d2bce59a03fff7b7f8484.png"},function(e,t,i){e.exports=i.p+"69d99b913c4b76a1b9cc1be487c818ac.png"},function(e,t,i){e.exports=i.p+"e106f721e667a7a7cd31054bd5d12c63.png"},function(e,t,i){e.exports=i.p+"4e575ebbfc70f73ecbac77d508082406.png"},function(e,t,i){e.exports=i.p+"b6f80f8ef3bbd88dc496ef35546272f8.png"},function(e,t,i){e.exports=i.p+"c2b3996a26a0a154c586065f1736182c.png"},function(e,t,i){e.exports=i.p+"b5911acfa8a0dec4b896042c12e96dd0.png"},function(e,t,i){e.exports=i.p+"701cc7a7e3f641d5ff0c1cc66bc881c7.png"},function(e,t,i){e.exports=i.p+"ea8f037f4e7d526b1262c3ddaae3f937.png"},function(e,t,i){e.exports=i.p+"cd50fcc0971b789e0c80ca58a9f5dff8.png"},function(e,t,i){e.exports=i.p+"7ab930ce05cbcf44a9d224aed6b49fa7.png"},function(e,t,i){e.exports=i.p+"669e00a53b2592bc6da59c988f074db3.png"},function(e,t,i){e.exports=i.p+"0509dce1cfc15eb760a4ceed54b500f5.png"},function(e,t,i){e.exports=i.p+"4b3737ae4a32d6453ee1b5906179386e.png"},function(e,t,i){e.exports=i.p+"bb62b8dff230b6c2d4975f8ebae548c0.png"},function(e,t,i){e.exports=i.p+"90aa173a082f1b7ab0b4c43475b46c1c.png"},function(e,t,i){e.exports=i.p+"70e31893d8e01fb0821037c34fd882e5.png"},function(e,t,i){e.exports=i.p+"2f94b12ba7390d690152d80d8dd8a6a7.png"},function(e,t,i){e.exports=i.p+"994a89263cc9253d45f1abdd76cc7ad9.png"},function(e,t,i){e.exports=i.p+"2a2baf0b32c2d406591513df8ea05826.png"},function(e,t,i){e.exports=i.p+"65f11da2fabe68302addb7974fd37d52.png"},function(e,t,i){e.exports=i.p+"affe6e4534430730fe80923624974838.png"},function(e,t,i){e.exports=i.p+"b6fe0833a38e6436261b934601f35c8e.png"},function(e,t,i){e.exports=i.p+"0c665ac379ad34a9eb9047b925a20917.png"},function(e,t,i){e.exports=i.p+"620dced6895b946d7b21e26cd62732cf.png"},function(e,t,i){e.exports=i.p+"4cb24c50f8bb4289cd558bed3cc5b73a.png"},function(e,t,i){e.exports=i.p+"77c8ec1daedc0abde507df42d277c985.png"},function(e,t,i){e.exports=i.p+"a18fd5aa374ee051b479e77d12e5ac7a.png"},function(e,t,i){e.exports=i.p+"6a4964d904073d56958b6ac9cb41502e.png"},function(e,t,i){e.exports=i.p+"971034b287d777e34f5faac5057873cd.png"},function(e,t,i){e.exports=i.p+"2f68272798a18611146463b19962040b.png"},function(e,t,i){e.exports=i.p+"8a0b36416169aea47b7ad8db573a02f3.png"},function(e,t,i){e.exports=i.p+"ed24f0821d510ab910ef585d8501b34b.png"},function(e,t,i){e.exports=i.p+"0e59827481961dd8faf67d6c779bb480.png"},function(e,t,i){e.exports=i.p+"df92be8a058036f34b895562a02daa1f.png"},function(e,t,i){e.exports=i.p+"a2b149edd80ad942e06546a9c39d5a85.png"},function(e,t,i){e.exports=i.p+"a75d099f983a64e6dce64f4691c5ee8b.png"},function(e,t,i){e.exports=i.p+"36a379dc132ee696921554524ec7d8ca.png"},function(e,t,i){e.exports=i.p+"a72c0f206de1dc19bce77d10d559e68e.png"},function(e,t,i){e.exports=i.p+"37c77621ea5b1b0fd9aec098e7137962.png"},function(e,t,i){e.exports=i.p+"d872440a8664676a619046d616175e60.png"},function(e,t,i){e.exports=i.p+"7147e32a6dcf3167e3db7ed9c612fa05.png"},function(e,t,i){e.exports=i.p+"687b5ca232eac34cfe1f06ddfa6eb52e.png"},function(e,t,i){e.exports=i.p+"60f0ceecaa9f650fa5158f5bc2dac4b8.png"},function(e,t,i){e.exports=i.p+"7e9ba0f3eb448cfdafc87dd69a065606.png"},function(e,t,i){e.exports=i.p+"676a47efdf5dfcc856bab016b4771b3e.png"},function(e,t,i){e.exports=i.p+"514495e3e1ae53e86496fea61e5b8465.png"},function(e,t,i){e.exports=i.p+"ed89661fa4ba4d76cb3afba931e8c32d.png"},function(e,t,i){e.exports=i.p+"54a3a7ea0922fcff8d49d273002ea488.png"},function(e,t,i){e.exports=i.p+"ba902316b2e81cd03b40ea5218cd99e0.png"},function(e,t,i){e.exports=i.p+"6c5eeac0ba858eb635a51bb989d75562.png"},function(e,t,i){e.exports=i.p+"072e3d832bfcc6292401c9d4eb6591b8.png"},function(e,t,i){e.exports=i.p+"74dda92d4d0ee16ced4f9a1e9f997969.png"},function(e,t,i){e.exports=i.p+"b3cc725c6ac90f673a31b422174519d6.png"},function(e,t,i){e.exports=i.p+"96684fe1fe4f195a253f61dd55e8ee5e.png"},function(e,t,i){e.exports=i.p+"53927a4f16859948137e20b09769ec0b.png"},function(e,t,i){e.exports=i.p+"db72db4e467d6441b4a6431afcdb3fe8.png"},function(e,t,i){e.exports=i.p+"459755b79ad98bf8430d8593ec9e4fbf.png"},function(e,t,i){e.exports=i.p+"ef975148e1157040bff27f320a1e4f41.png"},function(e,t,i){e.exports=i.p+"ce1df56c100f752217d6dcaebea70640.png"},function(e,t,i){e.exports=i.p+"f5a7b73fdf458d305346d41daa2f2371.png"},function(e,t,i){e.exports=i.p+"c8cd374390b80be6526d8c6a510b952d.png"},function(e,t,i){e.exports=i.p+"1853158838a1413041ea9a425d4b215a.png"},function(e,t,i){e.exports=i.p+"5dfe0205436b74b5238f81f35de7332f.png"},function(e,t,i){e.exports=i.p+"23d5f3fa5b999bd1b79a56da3cb71c60.png"},function(e,t,i){e.exports=i.p+"d8c8b781cfdf28989126d1ac4579f9d8.png"},function(e,t,i){e.exports=i.p+"44e92e064dfa72205301220b0023e19b.png"},function(e,t,i){e.exports=i.p+"513b31158aba506ee59237b5c2a80cba.png"},function(e,t,i){e.exports=i.p+"5018d24adfaeaa87c4c05f0d3c85be9e.png"},function(e,t,i){e.exports=i.p+"775425a7dc3d11cd56867f08d793becc.png"},function(e,t,i){e.exports=i.p+"e98287e417d9922768a28e9f56dedded.png"},function(e,t,i){e.exports=i.p+"a4a066267067dac1ddfb8187d4f04083.png"},function(e,t,i){e.exports=i.p+"a755008e92ce7dc629b8a39cf3c05986.png"},function(e,t,i){e.exports=i.p+"e1ca389066b819f072d36be9ec9e7187.png"},function(e,t,i){e.exports=i.p+"5967bef86f1835569aa2532a7a725155.png"},function(e,t,i){e.exports=i.p+"b1a497e73af873a9630b614bff3a06e4.png"},function(e,t,i){e.exports=i.p+"84d482083191ddf6ea51c21cf8cc77fe.png"},function(e,t,i){e.exports=i.p+"d3bb9eacf6517df535cb00d692031a03.png"},function(e,t,i){e.exports=i.p+"9a4807ee1a7ac4ca90e3fa01a90c65a6.png"},function(e,t,i){e.exports=i.p+"9eb0e6629b125557abdd1a19c7bd40e7.png"},function(e,t,i){e.exports=i.p+"9a06a5221badbd568baf98f504033944.png"},function(e,t,i){e.exports=i.p+"4af10df8244be8a8e05d5af0c8dc597b.png"},function(e,t,i){e.exports=i.p+"ca751c5a2e47f2f5edd91e1e52f51d0b.png"},function(e,t,i){e.exports=i.p+"0f556a3141e56d7bf91fec4145e1a223.png"},function(e,t,i){e.exports=i.p+"e2284addbc2f91c0380b769085ce629f.png"},function(e,t,i){e.exports=i.p+"29571630a89bd6a23b2141a71f1b3b60.png"},function(e,t,i){e.exports=i.p+"3975d5de8606534d75db934d35d569d1.png"},function(e,t,i){e.exports=i.p+"f29a19f26c6f74802c6007062d1be305.png"},function(e,t,i){e.exports=i.p+"f08dbe75ec9f863b4088ed934fd7f3d0.png"},function(e,t,i){e.exports=i.p+"60adf3ecd3c0ce10ddc40f1292683efb.png"},function(e,t,i){e.exports=i.p+"0e421c768adc5ca42bea9c2f1531c387.png"},function(e,t,i){e.exports=i.p+"205c1870b8f3926863e2cab6d3b8fb65.png"},function(e,t,i){e.exports=i.p+"d5b151460bcd9430fd6b24bc51c25331.png"},function(e,t,i){e.exports=i.p+"ab80cd14c91c9bd5536b890f07af7023.png"},function(e,t,i){e.exports=i.p+"3f1387f44bf0f0a147a3c6ea067accd8.png"},function(e,t,i){e.exports=i.p+"8d0ebda20cc6a528f3deb46baac57c63.png"},function(e,t,i){e.exports=i.p+"85d8df88ab7b2f5002b79bd838ec0fb1.png"},function(e,t,i){e.exports=i.p+"38cd114811ce3db4d6484d40c0ce3074.png"},function(e,t,i){e.exports=i.p+"183c0c3ae20d3ded7e80c8763c510a1b.png"},function(e,t,i){e.exports=i.p+"a8a06ea016ec9bac9a1baa18e6c84ef7.png"},function(e,t,i){e.exports=i.p+"4a60f383f6b93db6dc1d444845f40a19.png"},function(e,t,i){e.exports=i.p+"d0b7027220590c602ee97d4772be94b2.png"},function(e,t,i){e.exports=i.p+"0698e35435d7491af7245bc0bd18cf1b.png"},function(e,t,i){e.exports=i.p+"d19ae17d82bb3ed11f3cc833e26e7d9d.png"},function(e,t,i){e.exports=i.p+"90434ef755b580aea16a9375a3e7bca1.png"},function(e,t,i){e.exports=i.p+"84ed08805f05bd845bebb950b2425bcc.png"},function(e,t,i){e.exports=i.p+"eabb37a38d91f68cebd2e100115fb1d3.png"},function(e,t,i){e.exports=i.p+"c35f856b67afa55a7c0a444f0ec6703f.png"},function(e,t,i){e.exports=i.p+"71b9508f90652f810217e278652a8063.png"},function(e,t,i){e.exports=i.p+"d31f2c4e6bae78ecefe47ab54e712424.png"},function(e,t,i){e.exports=i.p+"edccb5b342d641292f8986a581d27a7f.png"},function(e,t,i){e.exports=i.p+"752c39595e225ca4db1ccbdeedd9d608.png"},function(e,t,i){e.exports=i.p+"b881725e8e55755bc7aeb8eb9e4fe4e3.png"},function(e,t,i){e.exports=i.p+"5603fbc3c6c22a2f52a90902927dfc67.png"},function(e,t,i){e.exports=i.p+"7f5be68ca8f02ec91da3a4b1084a5b4e.png"},function(e,t,i){e.exports=i.p+"173c99f30881ce28c39d565c784d2ba7.png"},function(e,t,i){e.exports=i.p+"70bf9cb32185879a9c35fab69f4f37fd.png"},function(e,t,i){e.exports=i.p+"939f417a636e1a7114e69188d8b4c1b9.png"},function(e,t,i){e.exports=i.p+"2cb6e3251ccb47e0f6dfe8774f0d396e.png"},function(e,t,i){e.exports=i.p+"17efbafbe8f65b287ad2c44f9f61082e.png"},function(e,t,i){e.exports=i.p+"d3df89af58605892d5586495ed9a6b46.png"},function(e,t,i){e.exports=i.p+"2d524b513a92c91f79d6a48281207c16.png"},function(e,t,i){e.exports=i.p+"314947abdddc81c8d906a67d2534efc4.png"},function(e,t,i){e.exports=i.p+"99c81679918e513596af1612b3072a8d.png"},function(e,t,i){e.exports=i.p+"0aea31ed83da481bf6719f05265f2d96.png"},function(e,t,i){e.exports=i.p+"cf3b3bcf41deea1ef2429f3195de4fe3.png"},function(e,t,i){e.exports=i.p+"2f572c512562db01edf4d0da090baf91.png"},function(e,t,i){e.exports=i.p+"313f81a0bb44abaee01133392d24e42c.png"},function(e,t,i){e.exports=i.p+"3e387b6514479d6f1ed40d8d64ea1c17.png"},function(e,t,i){e.exports=i.p+"163407cbab9912e2b38580dafeb3eba5.png"},function(e,t,i){e.exports=i.p+"9a4f2901f0cc1d2b74f7aa3173873877.png"},function(e,t,i){e.exports=i.p+"63dc581fec8ccbb400bd138b519848d8.png"},function(e,t,i){e.exports=i.p+"76fd5c5819a4df4921513bc4a4c5351b.png"},function(e,t,i){e.exports=i.p+"f9f58e61d3809ee34f1ed8a54419e9f5.png"},function(e,t,i){e.exports=i.p+"b409ca63249e953b3d7e89d268109976.png"},function(e,t,i){e.exports=i.p+"d9f14e7816275cc6f86102fd03294fee.png"},function(e,t,i){e.exports=i.p+"433dc49cd2944511ab8bab4b0aab82a1.png"},function(e,t,i){e.exports=i.p+"bbeae1c99ca403e2660990eb41c1d769.png"},function(e,t,i){e.exports=i.p+"72593bda84b35105f6996ebcb0468e62.png"},function(e,t,i){e.exports=i.p+"b2a78f74333c4b5e8143b46e96a18c42.png"},function(e,t,i){e.exports=i.p+"d6486aba254ce42089c174bb8d123218.png"},function(e,t,i){e.exports=i.p+"bab19563f82f5da5d070508f931dbb7a.png"},function(e,t,i){e.exports=i.p+"bfc4417af0409a964d26a0cf36ed6514.png"},function(e,t,i){e.exports=i.p+"7f383b7a3aac13f9bf6ec219a7681265.png"},function(e,t,i){e.exports=i.p+"7192a7e13b86f6c948146d9ff044de5a.png"},function(e,t,i){e.exports=i.p+"01e9e43ca3e950e53fbf35cd812daed0.png"},function(e,t,i){e.exports=i.p+"fbf762bc8905e89015ec9ba1a3ce376b.png"},function(e,t,i){e.exports=i.p+"2f29c90328d666099430fc7d83bcb1c4.png"},function(e,t,i){e.exports=i.p+"85447f7eae65cfc00466d8ba6c667eb4.png"},function(e,t,i){e.exports=i.p+"d953e3c4dfe00a96aa8151602a53cc55.png"},function(e,t,i){e.exports=i.p+"8d523032ab5f440a978323b8204870dc.png"},function(e,t,i){e.exports=i.p+"efc9f5d1c737cfd5ce0d798543a97eb1.png"},function(e,t,i){e.exports=i.p+"0509dce1cfc15eb760a4ceed54b500f5.png"},function(e,t,i){e.exports=i.p+"f198a7fe79decfda26d729b71653c4ff.png"},function(e,t,i){e.exports=i.p+"2785c64c0de9162d9aad761b7571db27.png"},function(e,t,i){e.exports=i.p+"e8756b0a25e2231fdecaf1c1b3c42184.png"},function(e,t,i){e.exports=i.p+"6030c3d61f48332c54bfa9bf5f5eaca1.png"},function(e,t,i){e.exports=i.p+"3c8214184d6d45bc79e6f4a4437ff932.png"},function(e,t,i){e.exports=i.p+"3d9cf5cac853c1d95e6e4c42e7db8d2d.png"},function(e,t,i){e.exports=i.p+"2a2baf0b32c2d406591513df8ea05826.png"},function(e,t,i){e.exports=i.p+"65f11da2fabe68302addb7974fd37d52.png"},function(e,t,i){e.exports=i.p+"07cad812439fbddcaa747e465ca91032.png"},function(e,t,i){e.exports=i.p+"e42aacd1b423e986ec867c380e18baeb.png"},function(e,t,i){e.exports=i.p+"95bb3af93d2a5d6fb9757ce71ce67488.png"},function(e,t,i){e.exports=i.p+"554df261001c25d15e5dbb08b952eba0.png"},function(e,t,i){e.exports=i.p+"39e3f3b8f6d5c6ca8093321b796d618d.png"},function(e,t,i){e.exports=i.p+"997cc66ffdbaf278329a3ff98829991a.png"},function(e,t,i){e.exports=i.p+"da60b96af605c8b0aa0b62bd0155f7ff.png"},function(e,t,i){e.exports=i.p+"3bce03da0df98af9835e90b535d3784b.png"},function(e,t,i){e.exports=i.p+"fcc2dc846d2f5d32b0f757a266bd9e8d.png"},function(e,t,i){e.exports=i.p+"ed02d0cd6579703895e06d3999830f9c.png"},function(e,t,i){e.exports=i.p+"d5bc357738805eb8a179a3a2c9e64566.png"},function(e,t,i){e.exports=i.p+"e44814c4a6a86f879b27cfc8f3e94f2d.png"},function(e,t,i){e.exports=i.p+"42c76f91f54da6c7e7a2f0a3ae59518a.png"},function(e,t,i){e.exports=i.p+"aeb5935c4a6b9e8aafa93033926decf6.png"},function(e,t,i){e.exports=i.p+"ef62674730869e0a05aa7a3ec04694f2.png"},function(e,t,i){e.exports=i.p+"f8c82694b93bc8cde472a8f12c5f1383.png"},function(e,t,i){e.exports=i.p+"f24e059199a4dc4dda7b3a3bb25753c1.png"},function(e,t,i){e.exports=i.p+"0c5f7989890be2e0552516e3aa096fba.png"},function(e,t,i){e.exports=i.p+"3e905bdab7d2920beb0cb3602b09a581.png"},function(e,t,i){e.exports=i.p+"3888ef219802a7d0e8c42c494acd25cc.png"},function(e,t,i){e.exports=i.p+"78667f5b12bf6eb526abd714c235d6fc.png"},function(e,t,i){e.exports=i.p+"2df92168dc640a2f875e04a1cde6f72b.png"},function(e,t,i){e.exports=i.p+"734d1cf4df884435d8868df3ef764571.png"},function(e,t,i){e.exports=i.p+"4ed561d46ee12f3797731c828a5b0797.png"},function(e,t,i){e.exports=i.p+"7716aadc6b29af2c703d97498277823c.png"},function(e,t,i){e.exports=i.p+"d75f638b1929308a25deb47d98527200.png"},function(e,t,i){e.exports=i.p+"a2b833438766b7d0be331ee9987443cc.png"},function(e,t,i){e.exports=i.p+"8d570b1e9c72d56c1a439c0a646bc226.png"},function(e,t,i){e.exports=i.p+"26fc9752db60dbff21c5bf5185614624.png"},function(e,t,i){e.exports=i.p+"20ef84b166bebb04a87fa8399fcc24e9.png"},function(e,t,i){e.exports=i.p+"7e74c7eab0861666f3109c828fa2c7bb.png"},function(e,t,i){e.exports=i.p+"62e0502f6800cfd68be0eb86c4b0b1a2.png"},function(e,t,i){e.exports=i.p+"24b1a8a66c70df6ceac387a16d9ebea6.png"},function(e,t,i){e.exports=i.p+"006d818c989744ce5254c2fe719066da.png"},function(e,t,i){e.exports=i.p+"62e0502f6800cfd68be0eb86c4b0b1a2.png"},function(e,t,i){e.exports=i.p+"852b464b6db0ba7a09d919c88278626b.png"},function(e,t,i){e.exports=i.p+"68f317ec7a7e09b3cc820526233682ed.png"},function(e,t,i){e.exports=i.p+"bdcc7e5743d492bc7b0626564345f86c.png"},function(e,t,i){e.exports=i.p+"28d0d0bcfa24d4754f00bd788119f569.png"},function(e,t,i){e.exports=i.p+"4a6f8a9844a6d23e8694b378774d5a76.png"},function(e,t,i){e.exports=i.p+"72f46dc3c710bec26e3230d10fd53246.png"},function(e,t,i){e.exports=i.p+"a2b149edd80ad942e06546a9c39d5a85.png"},function(e,t,i){e.exports=i.p+"a75d099f983a64e6dce64f4691c5ee8b.png"},function(e,t,i){e.exports=i.p+"36a379dc132ee696921554524ec7d8ca.png"},function(e,t,i){e.exports=i.p+"a72c0f206de1dc19bce77d10d559e68e.png"},function(e,t,i){e.exports=i.p+"96d44046bfb1dad617a415f24456e4ce.png"},function(e,t,i){e.exports=i.p+"65e3d0cc0b0f027b252cb91d7f87860e.png"},function(e,t,i){e.exports=i.p+"7b0f0fe5dcc3d4952b0dfee720f553d0.png"},function(e,t,i){e.exports=i.p+"1a0b7111842e10644404a901cdf72a34.png"},function(e,t,i){e.exports=i.p+"d3655e986e84033de47bdee3f12f9556.png"},function(e,t,i){e.exports=i.p+"303be8b135828d631bea16b97c21f57e.png"},function(e,t,i){e.exports=i.p+"a1247143f2ae51f0fc9ec4e2d2f3e75d.png"},function(e,t,i){e.exports=i.p+"1ef6ee5d931e841b5b767f7227ce62d6.png"},function(e,t,i){e.exports=i.p+"7ef44144df8fb92eed49b67065f09ebd.png"},function(e,t,i){e.exports=i.p+"8b8667087604244f600984b5a6bcf4d6.png"},function(e,t,i){e.exports=i.p+"19da61d6e8b6e682d9632af0ece498a8.png"},function(e,t,i){e.exports=i.p+"fda06b3d8ec436e9ccc44d78560fe318.png"},function(e,t,i){e.exports=i.p+"5b7d4f06c96daf3971e759c21bcd8d1c.png"},function(e,t,i){e.exports=i.p+"dd2dc9c5adaa5ab04a01acd9f9822371.png"},function(e,t,i){e.exports=i.p+"0f320add649a0c2bd01e31888dd2629e.png"},function(e,t,i){e.exports=i.p+"adbce247dbad78c1d760749029e2fa2e.png"},function(e,t,i){e.exports=i.p+"fc2d98b2b61686b002281a8d9744e40e.png"},function(e,t,i){e.exports=i.p+"4168bf0153472d21577171137179e015.png"},function(e,t,i){e.exports=i.p+"e21c820efa17fd021a6793f2f81c5ffe.png"},function(e,t,i){e.exports=i.p+"f00b4858082820c5b88bbea68546de1d.png"},function(e,t,i){e.exports=i.p+"e59e968fce5b33390362174798fee74e.png"},function(e,t,i){e.exports=i.p+"58aabe475d54f1b3d36c722837820d06.png"},function(e,t,i){e.exports=i.p+"b15da5e7accaaab32107fb1304993540.png"},function(e,t,i){e.exports=i.p+"4506f6130138ab40866512b236da3469.png"},function(e,t,i){e.exports=i.p+"654581a0140b590cfdbeefe4942f069f.png"},function(e,t,i){e.exports=i.p+"80de89f865a0757c670441b16765827b.png"},function(e,t,i){e.exports=i.p+"19363c644274686f23d0557a1be2b572.png"},function(e,t,i){e.exports=i.p+"45cd57c148fa8e6022a5b3bdc6b8f5ec.png"},function(e,t,i){e.exports=i.p+"8f16235b08594def6667abbd90d73ad8.png"},function(e,t,i){e.exports=i.p+"1480bb35aa575a342a30d4af675fbc8c.png"},function(e,t,i){e.exports=i.p+"68d4099b08ac88b65dc400abea1b9dda.png"},function(e,t,i){e.exports=i.p+"7d1b82b6de565aeed728b799081d9ed4.png"},function(e,t,i){e.exports=i.p+"80bc5f58fe7e6cf21998a7cb930c0ac8.png"},function(e,t,i){e.exports=i.p+"1555f8156b855f3d863a1a3932532678.png"},function(e,t,i){e.exports=i.p+"304ab680db245cf315ad8f4d0a002b8a.png"},function(e,t,i){e.exports=i.p+"57abcc97455c9797338fc9cac1bfa3c4.png"},function(e,t,i){e.exports=i.p+"a3deac0e6080c915771bc6b377f68edc.png"},function(e,t,i){e.exports=i.p+"5f5aa5bcafb61ede6c4b61ca60a397fc.png"},function(e,t,i){e.exports=i.p+"4cf5bcbef1338a8d19b115920d03add2.png"},function(e,t,i){e.exports=i.p+"e4788c8878fb2bcf70a120d25a19ff8e.png"},function(e,t,i){e.exports=i.p+"bfbf3e22ee8d143c2dbf86d39c64c1d1.png"},function(e,t,i){e.exports=i.p+"62176a040f4221445f368b346d06fc94.png"},function(e,t,i){e.exports=i.p+"96126b8568cc9a062b8517a302aecbd3.png"},function(e,t,i){e.exports=i.p+"4552b29c9ac77650276b55267e06e84d.png"},function(e,t,i){e.exports=i.p+"50573881fdc8ed8934f609cd905f26f9.png"},function(e,t,i){e.exports=i.p+"764d4d0cd5d4fbed19f8c6b7215a9321.png"},function(e,t,i){e.exports=i.p+"8e566249fe6a2a463d85a906a646bbd7.png"},function(e,t,i){e.exports=i.p+"85cf73bf9656e33ffa91460cf17ab0ed.png"},function(e,t,i){e.exports=i.p+"4338d4285b45f0d227865e9ab149f71b.png"},function(e,t,i){e.exports=i.p+"3acd2062cf6beaf5dea01867cfaa4655.png"},function(e,t,i){e.exports=i.p+"dcc94cb00e11133c9527cf3599f2e126.png"},function(e,t,i){e.exports=i.p+"c0d53be74e319dbe1dfb8adcd0210c7a.png"},function(e,t,i){e.exports=i.p+"2c262c547c739fe617856346b90a543a.png"},function(e,t,i){e.exports=i.p+"1981f1f1931e76ac714af84fb71ef69d.png"},function(e,t,i){e.exports=i.p+"94702783feaef78c53230879cd610173.png"},function(e,t,i){e.exports=i.p+"c98f7d8f074839add00d456527e6efc5.png"},function(e,t,i){e.exports=i.p+"1baa5015c06e6d6af0852059206912da.png"},function(e,t,i){e.exports=i.p+"0da61e739d2b130eaab2759927f7c2bc.png"},function(e,t,i){e.exports=i.p+"f797627c195da58875a74ee3e5c3a3cb.png"},function(e,t,i){e.exports=i.p+"0dacb91470f8cb597f52fd44464bd325.png"},function(e,t,i){e.exports=i.p+"8921f901660f028a626c97fb9e478a12.png"},function(e,t,i){e.exports=i.p+"117e8f358c9be0147a518721109a93be.png"},function(e,t,i){e.exports=i.p+"5fdaa18ed79046e6fc79238318789e92.png"},function(e,t,i){e.exports=i.p+"ee1ec85ff0626bbdacb9666041eec352.png"},function(e,t,i){e.exports=i.p+"946d627addd995b3bb9de1775d1705df.png"},function(e,t,i){e.exports=i.p+"d6e16afcd51d9864e80fd8b506dfb4f3.png"},function(e,t,i){e.exports=i.p+"117bd05b79e6ffb70f9ff79c9579a544.png"},function(e,t,i){e.exports=i.p+"3ffec933221bed5b3c0b59aab5542109.png"},function(e,t,i){e.exports=i.p+"4c4ab58fa0f6220c7379ddf36a9b0a1f.png"},function(e,t,i){e.exports=i.p+"6de2dd459ad09d1e15a31b3ac097e08e.png"},function(e,t,i){e.exports=i.p+"4aabf1a82546857a845829838ea6bf78.png"},function(e,t,i){e.exports=i.p+"24af97e0155297204eca28062e8c4ab0.png"},function(e,t,i){e.exports=i.p+"9bdb8ebfaf5fda4486f57709639329ca.png"},function(e,t,i){e.exports=i.p+"01ddaf6cd9fb17505fd4e3cfed959680.png"},function(e,t,i){e.exports=i.p+"1bb781140702dd0e1b87b3e357985916.png"},function(e,t,i){e.exports=i.p+"d35916cf68c8eb667ba8ce10fc46ac07.png"},function(e,t,i){e.exports=i.p+"2315d559eb30aed3594e4e7e098707a9.png"},function(e,t,i){e.exports=i.p+"623e6cb588669615168daed4448720d6.png"},function(e,t,i){e.exports=i.p+"6db4889ab9e3599793175ca2622c047c.png"},function(e,t,i){e.exports=i.p+"d03586f23e588c35007a070b193a4d7c.png"},function(e,t,i){e.exports=i.p+"dc9dbb4b3ecf90a52831a981f2eadd36.png"},function(e,t,i){e.exports=i.p+"cff9bf8b882ba4597543f5264c599eae.png"},function(e,t,i){e.exports=i.p+"2fe63109d35e558ebf078d15eba5c791.png"},function(e,t,i){e.exports=i.p+"fa16a1b4eb064b002e6e1aea6159c5a2.png"},function(e,t,i){e.exports=i.p+"787a77819966678cb3118af13abbfe78.png"},function(e,t,i){e.exports=i.p+"e0f9ffebbe7ef6afddd60664b52ea445.png"},function(e,t,i){e.exports=i.p+"4b266944365d64bc0651b91314cb6932.png"},function(e,t,i){e.exports=i.p+"0d896257e06400aee35bc43b87f44523.png"},function(e,t,i){e.exports=i.p+"6986f5a06768647f46eb97c531480a34.png"},function(e,t,i){e.exports=i.p+"b8ef070b03291da1edb82e2eae780124.png"},function(e,t,i){e.exports=i.p+"faa7937f283ec5a40d8adbad64da0009.png"},function(e,t,i){e.exports=i.p+"234e33ac82c1a236ff000142ac38eda9.png"},function(e,t,i){e.exports=i.p+"5ee676ede306234f362397d1e2670a37.png"},function(e,t,i){e.exports=i.p+"69e0b9e7bede4681f5ed4bded95d300f.png"},function(e,t,i){e.exports=i.p+"163e615e83e1105ab76690c39c9e3d82.png"},function(e,t,i){e.exports=i.p+"04d44492453fcd2c7e82f4db1967866a.png"},function(e,t,i){e.exports=i.p+"3f8db183b43711f2a66841528da147f0.png"},function(e,t,i){e.exports=i.p+"b5c6015af356a47b21defe73c6b5a639.png"},function(e,t,i){e.exports=i.p+"dc5236c4c2430ed2f4819e791f93d1bc.png"},function(e,t,i){e.exports=i.p+"d09c660a07cfb4f7b0ee9d0af2f1fe35.png"},function(e,t,i){e.exports=i.p+"1cc039ac0b354471698f68a428adbb32.png"},function(e,t,i){e.exports=i.p+"165d7b7f14f6225dc81cb20f50067591.png"},function(e,t,i){e.exports=i.p+"bed689732e6f4e2589b20129a225830f.png"},function(e,t,i){e.exports=i.p+"22cabc9b43e1b58190e2b0d8d1c23357.png"},function(e,t,i){e.exports=i.p+"5d4d376113013fe027c402636df5b30f.png"},function(e,t,i){e.exports=i.p+"8022e53d578604cde9d64c8c1e1e6847.png"},function(e,t,i){e.exports=i.p+"41b82fe6b858ca6de1ffd56eb3c860d6.png"},function(e,t,i){e.exports=i.p+"5f52248875854f188f21cd4bd950422f.png"},function(e,t,i){e.exports=i.p+"d88769adbe0737707053c014215c952c.png"},function(e,t,i){e.exports=i.p+"15d3ef0184bc6638832bd5df4b7b5b71.png"},function(e,t,i){e.exports=i.p+"01ae6d45565eb84c064b39fcfb9956eb.png"},function(e,t,i){e.exports=i.p+"fdaa5d4927462c6b313b7069d310f0a3.png"},function(e,t,i){e.exports=i.p+"7a413f655ccec3dac475292a86f97bbc.png"},function(e,t,i){e.exports=i.p+"c0d47a7d88e4b775858d74742a7b7fc8.png"},function(e,t,i){e.exports=i.p+"e3e2702e37aebccc4ebc09d0efa0003e.png"},function(e,t,i){e.exports=i.p+"c0bb0c96c42e4ac5aab3f03d46b4f306.png"},function(e,t,i){e.exports=i.p+"f5c37dee06833453edd3f2ff6114103f.png"},function(e,t,i){e.exports=i.p+"32ace6168d0b74fefedf56928e9d03b4.png"},function(e,t,i){e.exports=i.p+"90612cbbbc290e07c30fa2c0be9d6105.png"},function(e,t,i){e.exports=i.p+"34d7da3e21fedf2dcc23af38a4a87e9d.png"},function(e,t,i){e.exports=i.p+"1153fb25b04d9c17c60b56aebea8c596.png"},function(e,t,i){e.exports=i.p+"831c7bf541a401b2a8b5e21d587a9841.png"},function(e,t,i){e.exports=i.p+"fa4db2c4b815aeb663f58304d291655b.png"},function(e,t,i){e.exports=i.p+"dba0f4d6910304c7eff98417edb13f2e.png"},function(e,t,i){e.exports=i.p+"270c4b3ca5369f4e3541bd40364a92a4.png"},function(e,t,i){e.exports=i.p+"5f8c69e0d4b9ec550826c446eeda20c8.png"},function(e,t,i){e.exports=i.p+"c4d6dcd4efe771893c198edb1f1b3a90.png"},function(e,t,i){e.exports=i.p+"c172865a4dd1b0bb5720521d7c1ed3ae.png"},function(e,t,i){e.exports=i.p+"828794b7deb00e565a910b9aae5651d7.png"},function(e,t,i){e.exports=i.p+"96c02988fec127d000528d1d2551d97d.png"},function(e,t,i){e.exports=i.p+"a025bfe3df5d53d818bab16c61c558ea.png"},function(e,t,i){e.exports=i.p+"e6164b9a10853f68cdd9eafd40a735bb.png"},function(e,t,i){e.exports=i.p+"1c6127c29c1498be9da99533e3d92cbd.png"},function(e,t,i){e.exports=i.p+"052a03a4464f80a32c7ed4ddfa52072b.png"},function(e,t,i){e.exports=i.p+"850274d8f4e50fbb57c5d4c4957d5be0.png"},function(e,t,i){e.exports=i.p+"24b58aec77a5cc3920c3ea81983e64ba.png"},function(e,t,i){e.exports=i.p+"f79eece6617cccff58930c9b6712fe1a.png"},function(e,t,i){e.exports=i.p+"02003458bbd634a04f256218ad9e7993.png"},function(e,t,i){e.exports=i.p+"d231fd9ddcb83630ba0d24a39ea85f00.png"},function(e,t,i){e.exports=i.p+"fce62b125a8134b041a4b8bdfc5b1448.png"},function(e,t,i){e.exports=i.p+"81a28631316c79b50ae37580f08b6c18.png"},function(e,t,i){e.exports=i.p+"f1e26f6b2b8b046e949a6d4c5fb819cb.png"},function(e,t,i){e.exports=i.p+"a9910358c3a2aeecef66652b0ec4eef9.png"},function(e,t,i){e.exports=i.p+"33bc8ad68ddff88fe28eba4a3560e723.png"},function(e,t,i){e.exports=i.p+"d53817ee463f4df728fa36ad224af350.png"},function(e,t,i){e.exports=i.p+"aaa6db4a9a7876138eca262ad7b401b2.png"},function(e,t,i){e.exports=i.p+"384236045181898522577afa0c50408a.png"},function(e,t,i){e.exports=i.p+"81b5fe2c66e05531f43fee7655f4c3b4.png"},function(e,t,i){e.exports=i.p+"00e373b330f7d73c5f9c54ac81eb4843.png"},function(e,t,i){e.exports=i.p+"e7b598ebec6e0842f0066c4ac6ae63cd.png"},function(e,t,i){e.exports=i.p+"8923f1b34ba7b77fd6064e7c1295f7b9.png"},function(e,t,i){e.exports=i.p+"3dc1f69c288955ae387916f941dbc849.png"},function(e,t,i){e.exports=i.p+"4a52850663d5185652c91e047373b823.png"},function(e,t,i){e.exports=i.p+"e0457628664a44a1c6e13bb3f3ecfe67.png"},function(e,t,i){e.exports=i.p+"3140b26c47bdd85e4f4e79c73662ebdd.png"},function(e,t,i){e.exports=i.p+"d7885354326796eb504bc61a346d9802.png"},function(e,t,i){e.exports=i.p+"f43ba02fa876f62585fceaa25bad24f9.png"},function(e,t,i){e.exports=i.p+"1d7a9a7e42b583ef9ec9f54d55c4cb62.png"},function(e,t,i){e.exports=i.p+"e612fe584eced0603797bbd63eccdfdc.png"},function(e,t,i){e.exports=i.p+"ec491d26eb4a35c637ec43c229d8b5a1.png"},function(e,t,i){e.exports=i.p+"755ae2143038b3ad8e4146a86da5b244.png"},function(e,t,i){e.exports=i.p+"81266216e73f4254e2b7e0311f59735b.png"},function(e,t,i){e.exports=i.p+"268b02b5d7796893640e91baea99ce35.png"},function(e,t,i){e.exports=i.p+"de75f063c4689de06827d4d76ac67958.png"},function(e,t,i){e.exports=i.p+"85d39a01afdfd6afd78892ec9830e860.png"},function(e,t,i){e.exports=i.p+"076a7d72744fd6d4d01eaecba4278384.png"},function(e,t,i){e.exports=i.p+"b3a48b58810efc018c48f47105564930.png"},function(e,t,i){e.exports=i.p+"1a58fd5b5b510a81a8746775a3899c23.png"},function(e,t,i){e.exports=i.p+"3c8aa37f141b688077826a911e981311.png"},function(e,t,i){e.exports=i.p+"474105f65bc3591d1f7ecdbf123acc07.png"},function(e,t,i){e.exports=i.p+"359235fac4dd27255f97bab2f4889759.png"},function(e,t,i){e.exports=i.p+"3ab8eb7bee45254cc641e0f98869485d.png"},function(e,t,i){e.exports=i.p+"ed24b7468e16f7c587a24cb545c3d006.png"},function(e,t,i){e.exports=i.p+"99a80c2888cdd431765340e132534d3e.png"},function(e,t,i){e.exports=i.p+"066992e9045706c39bb8f72de0b421dc.png"},function(e,t,i){e.exports=i.p+"df9dfe7d1ed47dadb76e04328d4aa057.png"},function(e,t,i){e.exports=i.p+"fd82f9fb299a0adf7e9a171f584970e3.png"},function(e,t,i){e.exports=i.p+"eb0cdd8fb1208c87dbe4ee53cbf2e08c.png"},function(e,t,i){e.exports=i.p+"f433026fc8db529ffe985a4a501c8761.png"},function(e,t,i){e.exports=i.p+"5541d11b2a3826e562110606c8d11b4f.png"},function(e,t,i){e.exports=i.p+"215e5784d0063e4c1742720dcc00a11f.png"},function(e,t,i){e.exports=i.p+"960c7ef0bd28d8aa906da9396f98adce.png"},function(e,t,i){e.exports=i.p+"3c746ad0e0e658d1183b88b0684fc3b6.png"},function(e,t,i){e.exports=i.p+"365d0ab4fac7d9f933776fb84870d44d.png"},function(e,t,i){e.exports=i.p+"e89d0da80a6907a2fd1cc212ec24e8fb.png"},function(e,t,i){e.exports=i.p+"8c6bb9bc9d78c3001483f4ca740f29a5.png"},function(e,t,i){e.exports=i.p+"d58d5a5c456f858be8e897fe43ec0143.png"},function(e,t,i){e.exports=i.p+"49f7684a47d08e7e64db0132f717da44.png"},function(e,t,i){e.exports=i.p+"3558c9bb874064a4a7ea5b0584783269.png"},function(e,t,i){e.exports=i.p+"e45bc0ae42c9c533e3ceb02e540bd3c7.png"},function(e,t,i){e.exports=i.p+"81dbf9ac9931d2aab572bf95b1c5c5f8.png"},function(e,t,i){e.exports=i.p+"4ea5f0618498a7382d7109c5f1e3108d.png"},function(e,t,i){e.exports=i.p+"d69b2f8f8b160b38d5f008a6f5d656f2.png"},function(e,t,i){e.exports=i.p+"f2465fb7bbd66b9862d7d812b3de7267.png"},function(e,t,i){e.exports=i.p+"52b981628a643f72289efba13e3fd6dd.png"},function(e,t,i){e.exports=i.p+"27121c0f4f3119b44f2bc6035fdff5a7.png"},function(e,t,i){e.exports=i.p+"7a9c4de02abecc28b08cd20ecb095be9.png"},function(e,t,i){e.exports=i.p+"f1dbc7a250cab4be99217392e59fcd95.png"},function(e,t,i){e.exports=i.p+"e5b123bb64b169052e94859d3bdfc519.png"},function(e,t,i){e.exports=i.p+"6f3c249848b5316d2dd98b3dfb00868e.png"},function(e,t,i){e.exports=i.p+"989aed6d53d2997e525a5fd73d135ac4.png"},function(e,t,i){e.exports=i.p+"abb2c24ea31475d0267610e675003295.png"},function(e,t,i){e.exports=i.p+"e2f3c9b1e75b954f4fe320ed0716a112.png"},function(e,t,i){e.exports=i.p+"4f340780901f817b2ff59ef3f2543860.png"},function(e,t,i){e.exports=i.p+"90f5b3d904a959ae01664df13fedff00.png"},function(e,t,i){e.exports=i.p+"4007ad68231c011ccfce0602c3d9d6ac.png"},function(e,t,i){e.exports=i.p+"f2cbd1c7ffc0f75b3f63afc773b535cb.png"},function(e,t,i){e.exports=i.p+"c58c56565fb81d671c23ec1ef8d1f15d.png"},function(e,t,i){e.exports=i.p+"2a4d77032707fa73afd47a3eaaf5a833.png"},function(e,t,i){e.exports=i.p+"1f64c02b8dde00fd7562af6e3aa24e98.png"},function(e,t,i){e.exports=i.p+"2a885bbf62061425ad96d42939b13220.png"},function(e,t,i){e.exports=i.p+"010dbb89fdcaa6c66fde9d8d80e1e373.png"},function(e,t,i){e.exports=i.p+"fe2ce83fbb350bd98104ab695ee943a3.png"},function(e,t,i){e.exports=i.p+"3e5a19b0230d226857572e44157c2501.png"},function(e,t,i){e.exports=i.p+"341150e69ec782c875d4e1ccd6818804.png"},function(e,t,i){e.exports=i.p+"f6fb01021b02df224789e9bb37f7e9c0.png"},function(e,t,i){e.exports=i.p+"113c30794f0bf2e5dc451ec05025b646.png"},function(e,t,i){e.exports=i.p+"d55d8fc5c71fd4555331ded4f4fe0881.png"},function(e,t,i){e.exports=i.p+"5da0daeb21424e8f40d97aac0a4d47a4.png"},function(e,t,i){e.exports=i.p+"e2cd6c5aa5e79aaa1337519796a1f480.png"},function(e,t,i){e.exports=i.p+"dd60ae93ea580475c8c437e1e5233335.png"},function(e,t,i){e.exports=i.p+"832e24a188f67577bdaf825023d4eb88.png"},function(e,t,i){e.exports=i.p+"8d375d4db57dedddebaab978fc860ccf.png"},function(e,t,i){e.exports=i.p+"59c6ac8bb0e43365c5820cb9421a4b97.png"},function(e,t,i){e.exports=i.p+"fc68ae3d21ac255bb13a41191f0bb4f6.png"},function(e,t,i){e.exports=i.p+"5f264c486e7ec75738fe004a5b290c93.png"},function(e,t,i){e.exports=i.p+"69fa91ee990f3fd46251d2a0831f7869.png"},function(e,t,i){e.exports=i.p+"54bb0867ad430cab9ab600f85828e634.png"},function(e,t,i){e.exports=i.p+"0dba5b898e7e2ecf9a336175f9f8e1fd.png"},function(e,t,i){e.exports=i.p+"a994c073af7ad89aa741cd8901c8f3b6.png"},function(e,t,i){e.exports=i.p+"2f6e612342d43467b45b076d0c0027e4.png"},function(e,t,i){e.exports=i.p+"305766c35a2c859c2a3e6a21982b4f29.png"},function(e,t,i){e.exports=i.p+"178b4dedc8851d05e7a02a4a46aeec3a.png"},function(e,t,i){e.exports=i.p+"e0bacc3c5983de8d3b6d7a7441a53c4a.png"},function(e,t,i){e.exports=i.p+"0d79cc990b501717fc472d3e48a18bee.png"},function(e,t,i){e.exports=i.p+"f7309d88cd3e5dbf012ead319ee10c81.png"},function(e,t,i){e.exports=i.p+"f033955b4894ece8ff37dcef264fc9c5.png"},function(e,t,i){e.exports=i.p+"94843256174d95aca0966a7fad371bba.png"},function(e,t,i){e.exports=i.p+"6d3337b542837a75c01eada4cbde2007.png"},function(e,t,i){e.exports=i.p+"2eecaa55edb985d62d82254320d5e25e.png"},function(e,t,i){e.exports=i.p+"c7ba230a537dd812f8c99d196122838b.png"},function(e,t,i){e.exports=i.p+"c3957b440a03eebf6e3e5604bc436f4c.png"},function(e,t,i){e.exports=i.p+"53e2a5e95306c67722cd6b10c39d4fbc.png"},function(e,t,i){e.exports=i.p+"721a01ab0ce4e7797ef1d8d045f543fe.png"},function(e,t,i){e.exports=i.p+"efdb872153a66319868b77a2b3ef4456.png"},function(e,t,i){e.exports=i.p+"3587d7914e75fe1515f45de3c4501c87.png"},function(e,t,i){e.exports=i.p+"df17043a6dee67bedcafdc4195c6bbd8.png"},function(e,t,i){e.exports=i.p+"b8bac3544de0f5ece056b00e97723119.png"},function(e,t,i){e.exports=i.p+"ea3a19b8298a7a8c1a39db7f9d4c32b3.png"},function(e,t,i){e.exports=i.p+"3853e87a2b21b1545b7513498783499c.png"},function(e,t,i){e.exports=i.p+"5d9614b573385bea861e9762ece66498.png"},function(e,t,i){e.exports=i.p+"0f2a16dd98fee6174ce05decee0bdc97.png"},function(e,t,i){e.exports=i.p+"5f5eb5eb7b7f34bf5854aaac3a7256fd.png"},function(e,t,i){e.exports=i.p+"2515f4f69da0a178678b827e8cce9d45.png"},function(e,t,i){e.exports=i.p+"a1f15a43c26b572dbfc62c13bb77d104.png"},function(e,t,i){e.exports=i.p+"faaaa9329d8a1450482170c3ee2dea04.png"},function(e,t,i){e.exports=i.p+"f2cee40ccf3de5a00a511c8fa8bd0667.png"},function(e,t,i){e.exports=i.p+"d596b2bdf98a2468c65c6c5a46e5bc38.png"},function(e,t,i){e.exports=i.p+"d4af37bb7a9e10d73086d1f198fe99fa.png"},function(e,t,i){e.exports=i.p+"9d4766ced955128f4e77b0a2fa87e4c1.png"},function(e,t,i){e.exports=i.p+"e3829536c473aa7f4a2047de00fab1ae.png"},function(e,t,i){e.exports=i.p+"3870a363f4f6a574829196cf637ff37b.png"},function(e,t,i){e.exports=i.p+"002be8f625777d5b62bf87e1c705c556.png"},function(e,t,i){e.exports=i.p+"b0b25860ee6ee8449916226eda4f734d.png"},function(e,t,i){e.exports=i.p+"13a4875c7d6b37b206ae1a265eecfeff.png"},function(e,t,i){e.exports=i.p+"12f85cc38e0a3e0c9e9ac4263a3a112b.png"},function(e,t,i){e.exports=i.p+"fa1f5305de5db0af141747e8b62f1d2f.png"},function(e,t,i){e.exports=i.p+"780875ae80c00ed18cbad2fe0fd4eebb.png"},function(e,t,i){e.exports=i.p+"39a5f00242dfcd9fd036b57f77d1db6c.png"},function(e,t,i){e.exports=i.p+"4aa2eaa9da2656da0ca6c47b6a0e8eef.png"},function(e,t,i){e.exports=i.p+"c4fdc6f8edc184fa43ecabc0ae88af8f.png"},function(e,t,i){e.exports=i.p+"aaf3ed79afd07ac4440eb5df3f4e7b4a.png"},function(e,t,i){e.exports=i.p+"2f5cbcd3090b12e5d01d723e4784dc7c.png"},function(e,t,i){e.exports=i.p+"6227c0f742883079bcea1bb6bf5e236f.png"},function(e,t,i){e.exports=i.p+"9714c6387738cfc08b903f66a70a93ad.png"},function(e,t,i){e.exports=i.p+"8f58392e59eabedd1e835d6d2d4018df.png"},function(e,t,i){e.exports=i.p+"aecd338cc98f773821f696e050ec30f3.png"},function(e,t,i){e.exports=i.p+"77a5d6925ff156ee058859bd2a590ac2.png"},function(e,t,i){e.exports=i.p+"dc8c84fef4682c29d139b6c27c8e8a73.png"},function(e,t,i){e.exports=i.p+"a5eaef6b719e7822aa397b59c1e560da.png"},function(e,t,i){e.exports=i.p+"710930d070dbbceaa22b7528d4039cd2.png"},function(e,t,i){e.exports=i.p+"d79f3030ffaf20d72772fc9c5bf56a18.png"},function(e,t,i){e.exports=i.p+"c3aa1dda4719e71aa9b3c471261a8e45.png"},function(e,t,i){e.exports=i.p+"6e9edb532338330cbc2b3e63a4119c6a.png"},function(e,t,i){e.exports=i.p+"e2b7db6c0fd1ff14ea130a23b0408fc4.png"},function(e,t,i){e.exports=i.p+"784597a51e1fb64d83fd2e4c19396cf7.png"},function(e,t,i){e.exports=i.p+"41c59a5800411561cf6261de78683967.png"},function(e,t,i){e.exports=i.p+"7eb5678d88439870dfca219961a29641.png"},function(e,t,i){e.exports=i.p+"25b51f38c388b92a7b0cf1466385effe.png"},function(e,t,i){e.exports=i.p+"10743f2ded2f0abdcfd4ae5668ef3fbc.png"},function(e,t,i){e.exports=i.p+"ed6d4097eec6203fb9d0f8a67bd8d5f5.png"},function(e,t,i){e.exports=i.p+"23bbf592120cfb2bdeead8841a7d91e3.png"},function(e,t,i){e.exports=i.p+"d543928f74447479980d44b891c4cc68.png"},function(e,t,i){e.exports=i.p+"762c26e8324503167448d40cd2af8179.png"},function(e,t,i){e.exports=i.p+"041bf5a771e2d221f9522d1794fd9fa6.png"},function(e,t,i){e.exports=i.p+"21a697a7ba55ed434842a76eae2f8b1f.png"},function(e,t,i){e.exports=i.p+"97087945759c8f23735770e19b24cedf.png"},function(e,t,i){e.exports=i.p+"1c4ccab398353bbc2b7d9c7983a811aa.png"},function(e,t,i){e.exports=i.p+"9745e142d24e165e6c4f0695910388cc.png"},function(e,t,i){e.exports=i.p+"2e61d0564b9e9548b1b8f25757432c76.png"},function(e,t,i){e.exports=i.p+"f33406907ff257ac8d156ee0c6a038d1.png"},function(e,t,i){e.exports=i.p+"325171fadb028c2d6b3a041b2e6e1bd9.png"},function(e,t,i){e.exports=i.p+"2f5063258034bfbcf3fe178fef8c1cf3.png"},function(e,t,i){e.exports=i.p+"8c0c5d369ccf35a19c91f2fc487022f8.png"},function(e,t,i){e.exports=i.p+"bbc56643f6d624bbd3e391fb0a67e29e.png"},function(e,t,i){e.exports=i.p+"88784fd2501527e36a0056057073c604.png"},function(e,t,i){e.exports=i.p+"955af56399d7aaddd4cff703b47a9713.png"},function(e,t,i){e.exports=i.p+"16ea7314b803224c13ab95d1e47a5d5e.png"},function(e,t,i){e.exports=i.p+"25021234636ffc8b159f67efd26c95f1.png"},function(e,t,i){e.exports=i.p+"58321b6bba3bb645e84e1076a0763500.png"},function(e,t,i){e.exports=i.p+"a19c9b5466ba0ad770d4a7296ebe859e.png"},function(e,t,i){e.exports=i.p+"fdf5bafa3797ef2429a0ac1269021909.png"},function(e,t,i){e.exports=i.p+"059ab9049a4bb385460a7c332ff210d8.png"},function(e,t,i){e.exports=i.p+"04fdf557c99016b31da3943b2edb102c.png"},function(e,t,i){e.exports=i.p+"ef4eee7003ebfd2a58428d9f956305cf.png"},function(e,t,i){e.exports=i.p+"516f7bf90749d242d8da3d89ebb6223f.png"},function(e,t,i){e.exports=i.p+"890e909cb60bf1fe7e99d4a81cf8254a.png"},function(e,t,i){e.exports=i.p+"76f3efca2d14a98f4053772524c812d8.png"},function(e,t,i){e.exports=i.p+"afc21b53fe99b5ded51b1085c055d71e.png"},function(e,t,i){e.exports=i.p+"53ea099534f5284c1727f8a1c7559292.png"},function(e,t,i){e.exports=i.p+"8505c3a9a8c87b6c5e3a0968e055f0f9.png"},function(e,t,i){e.exports=i.p+"df1b4e7ea789fce202510ba3489d034f.png"},function(e,t,i){e.exports=i.p+"41eff00d030ebfb6e5437b8c32629fae.png"},function(e,t,i){e.exports=i.p+"9d3208ac0c6cf0b17a367de69d386fa5.png"},function(e,t,i){e.exports=i.p+"20c96547bf6a59af86d67f9b4c4e4e2f.png"},function(e,t,i){e.exports=i.p+"6a146d66a0c5d346c41d0673c3a790a1.png"},function(e,t,i){e.exports=i.p+"8a3db8ef7737adff6b3f8a500e2f7a25.png"},function(e,t,i){e.exports=i.p+"9b433bbe5512fff03265e95f70b34397.png"},function(e,t,i){e.exports=i.p+"0e877ec455e2205c5417f7de79c1dfec.png"},function(e,t,i){e.exports=i.p+"faeaa1d0cb07511fa14015cf20844c32.png"},function(e,t,i){e.exports=i.p+"f0fb83a9a0edee2f20f90e815709aab3.png"},function(e,t,i){e.exports=i.p+"3758b114c2ab0a7fc6446d7450885a90.png"},function(e,t,i){e.exports=i.p+"125efda208e7a2f50ba8e571b17eabab.png"},function(e,t,i){e.exports=i.p+"51130fc13fd0fcf69791e5298c143708.png"},function(e,t,i){e.exports=i.p+"d1afa34b6121f5477dc1811718b01983.png"},function(e,t,i){e.exports=i.p+"701fc0c11441e50bdb4e828cf996d2cc.png"},function(e,t,i){e.exports=i.p+"a3de5c60ec8ce300cad27aae145bb98e.png"},function(e,t,i){e.exports=i.p+"f8f23053f1efc7115c6e8e7464738133.png"},function(e,t,i){e.exports=i.p+"6762931ee14e7c0d5a8a681ad56c8b08.png"},function(e,t,i){e.exports=i.p+"927b4099b018e8c52d0065c4dcf5376e.png"},function(e,t,i){e.exports=i.p+"dc77f65930dfa2a64e2c42e4394c449d.png"},function(e,t,i){e.exports=i.p+"e53b09186386b2f46bf982b8cf23bdb4.png"},function(e,t,i){e.exports=i.p+"d7a008cbed01e7e45d9c92a626785adf.png"},function(e,t,i){e.exports=i.p+"475e9e7de05a559610ecb9d6197b96e8.png"},function(e,t,i){e.exports=i.p+"cf22a437606359d1dc507c4889b971f6.png"},function(e,t,i){e.exports=i.p+"66b9385f3402a739e7073ca6c2e11aab.png"},function(e,t,i){e.exports=i.p+"4a30c0e90f870e4f4cd8ea32abf5b22f.png"},function(e,t,i){e.exports=i.p+"d9eeb35ab6848727ede190b01e69ef26.png"},function(e,t,i){e.exports=i.p+"ee9a4395c7201a23799779b2a7874964.png"},function(e,t,i){e.exports=i.p+"669036c415cecf2a53d19b4ad10cbc46.png"},function(e,t,i){e.exports=i.p+"b61f36f1ad80f74bfa3002867ea4bfd2.png"},function(e,t,i){e.exports=i.p+"25d76951086f1914c349ebf4d36b8fae.png"},function(e,t,i){e.exports=i.p+"63d830d779bfb3d499aa04b2052e36a9.png"},function(e,t,i){e.exports=i.p+"4d40756b0ba3b39e73e49df63c421a93.png"},function(e,t,i){e.exports=i.p+"7abdb8d262524d3deda514bdd5f55bab.png"},function(e,t,i){e.exports=i.p+"d5b7e6353ee4227be399c44ec66fc85d.png"},function(e,t,i){e.exports=i.p+"7fe98a595c6e5fea4a4d9fad929ef501.png"},function(e,t,i){e.exports=i.p+"edefa67cce27b9e0c74e804feae3b771.png"},function(e,t,i){e.exports=i.p+"ab59f0862775fc28b5a7b1126ff463c8.png"},function(e,t,i){e.exports=i.p+"a5dbadee6b77d6bd2a6b3227ca4b6bcb.png"},function(e,t,i){e.exports=i.p+"4e398bb526186f88f163bfcc57bbba6d.png"},function(e,t,i){e.exports=i.p+"c6c18c9e83571eb17f909a42f672422a.png"},function(e,t,i){e.exports=i.p+"97614dd3e2938d5dd59b23a552662d3b.png"},function(e,t,i){e.exports=i.p+"8d846471f27e1556adcfd7d878492949.png"},function(e,t,i){e.exports=i.p+"412bbb29debf0ad092af063d73d68501.png"},function(e,t,i){e.exports=i.p+"b38a5f0f1a216c8586e80dfee95335b2.png"},function(e,t,i){e.exports=i.p+"4fb8908a0c5a64425bd5ad02eec377a2.png"},function(e,t,i){e.exports=i.p+"fe184238804701e4e8e1239b5e65e817.png"},function(e,t,i){e.exports=i.p+"6feff2e6cd9964263f6c634f00c447b5.png"},function(e,t,i){e.exports=i.p+"8731fda85c86f067b2216b647af2a303.png"},function(e,t,i){e.exports=i.p+"0d0592f01ae754349706e018b114aba1.png"},function(e,t,i){e.exports=i.p+"cc8289b1f8c58aa3e29397263afc3ad9.png"},function(e,t,i){e.exports=i.p+"6ac692c6a72cc6a5978a855759e0b1ed.png"},function(e,t,i){e.exports=i.p+"11c23b4368187839fa7dc24ca125d160.png"},function(e,t,i){e.exports=i.p+"047063aa6abfd61d38c01dc9a71e554d.png"},function(e,t,i){e.exports=i.p+"09dd2e65d4eaeab90cf4a1876057fae9.png"},function(e,t,i){e.exports=i.p+"a210aba570f1173e4a5f2cd0f8a2f51d.png"},function(e,t,i){e.exports=i.p+"6a1d7a8d753b91de41658f8a8603cd13.png"},function(e,t,i){e.exports=i.p+"f876012c752865522ba8a8ec651debac.png"},function(e,t,i){e.exports=i.p+"d4a8310cd46c7239a05539769c80aed1.png"},function(e,t,i){e.exports=i.p+"6ca03895494146c7904e84fe3391292e.png"},function(e,t,i){e.exports=i.p+"fde8804fda1bfff3b718be54272b7d07.png"},function(e,t,i){e.exports=i.p+"9f5c2d600944851345769cb91788a149.png"},function(e,t,i){e.exports=i.p+"2874d97859cc6b32fc4d9995aaf2b37d.png"},function(e,t,i){e.exports=i.p+"3e9d4290a3c3df3c77459f5999aa7150.png"},function(e,t,i){e.exports=i.p+"2ead5b0e54e9a50549c0fd7345a24f15.png"},function(e,t,i){e.exports=i.p+"2ae3f342d524a5be7bada1e395975a06.png"},function(e,t,i){e.exports=i.p+"ace379982df711567e70f858e7eaf763.png"},function(e,t,i){e.exports=i.p+"dbdcbcc0dadf8511554afb9c16a86161.png"},function(e,t,i){e.exports=i.p+"930873fb3fd952319ea66ce392e96ebc.png"},function(e,t,i){e.exports=i.p+"4f26fd061bb834cff33e0da0292acb8a.png"},function(e,t,i){e.exports=i.p+"0c22ab58f3ab020b3e76bc7af5d6e3f7.png"},function(e,t,i){e.exports=i.p+"d49b2c772af39f8c0d8b2a86c664715d.png"},function(e,t,i){e.exports=i.p+"49f5c799e5a15a66fcb9ae061d2e527d.png"},function(e,t,i){e.exports=i.p+"105292021b2538d8d409655fea11eb0a.png"},function(e,t,i){e.exports=i.p+"560cc8f7cb673c7b06c6b2712881a1d3.png"},function(e,t,i){e.exports=i.p+"8228317e1db5e712fdf4ef6c238dbc6e.png"},function(e,t,i){e.exports=i.p+"fd6e1b04be23d813f807f29c5037cd71.png"},function(e,t,i){e.exports=i.p+"3cd81eff97f66bc18aed1b12c67b30a4.png"},function(e,t,i){e.exports=i.p+"75bd66c2a8ea1cfafe2fa431b4587126.png"},function(e,t,i){e.exports=i.p+"96b1b103300191dda4daf1836b0c5665.png"},function(e,t,i){e.exports=i.p+"7d765bee5ad983fd91b0beafe39c677d.png"},function(e,t,i){e.exports=i.p+"ed78f1f96d2399e8865b7644d95b4ec2.png"},function(e,t,i){e.exports=i.p+"1866e4e482ad864f644e0ae5ae097b44.png"},function(e,t,i){e.exports=i.p+"22dd3cc2a64a0f1005e2f5ed81fd9899.png"},function(e,t,i){e.exports=i.p+"f45e5b4d0d08620e0d455635f9443581.png"},function(e,t,i){e.exports=i.p+"8b9683c03bdea68a73f4fc9b46733bda.png"},function(e,t,i){e.exports=i.p+"827f1f9606c8e3e7d042271bf9235241.png"},function(e,t,i){e.exports=i.p+"40edab8c2697b53217edb34bc329553d.png"},function(e,t,i){e.exports=i.p+"bfaf60fbf0b8abab599863fdcb34fee5.png"},function(e,t,i){e.exports=i.p+"8551ed0155376c5e9cf8915b292a92e7.png"},function(e,t,i){e.exports=i.p+"2ae06f9e112b978f20fca9021d12d70e.png"},function(e,t,i){e.exports=i.p+"ffc72529137332e809af9710665a7426.png"},function(e,t,i){e.exports=i.p+"1426071d31d36678c3a0681e42cc09ab.png"},function(e,t,i){e.exports=i.p+"d486cdd5ce5427988646a78e6b6f9ed7.png"},function(e,t,i){e.exports=i.p+"dfee1ccace586f4031efe57f233ae7c2.png"},function(e,t,i){e.exports=i.p+"062d07828ec2568a32828e27b8069304.png"},function(e,t,i){e.exports=i.p+"57de65fafca5c3ea37d4e2002666d804.png"},function(e,t,i){e.exports=i.p+"78ec1a8aceb1558d2c1a0124e4579c73.png"},function(e,t,i){e.exports=i.p+"27986012359e9ea6603a397b41ebdb75.png"},function(e,t,i){e.exports=i.p+"c3a744b0ee16f6209c71a7a1d4d39364.png"},function(e,t,i){e.exports=i.p+"79ab8025595ce6c2e88254eec7e0bbb7.png"},function(e,t,i){e.exports=i.p+"a9dae1b0c92de6be28fc39159231789f.png"},function(e,t,i){e.exports=i.p+"94284128544654a824478db66880aea1.png"},function(e,t,i){e.exports=i.p+"838a0f295678ea0a84f50fc3d918db1a.png"},function(e,t,i){e.exports=i.p+"5d6b0a2d2fa247b60bfa1c259ccf028c.png"},function(e,t,i){e.exports=i.p+"06b66038cd575615cce6ab06b06d68ac.png"},function(e,t,i){e.exports=i.p+"b72a7be31ea27cb014792cedb3f62444.png"},function(e,t,i){e.exports=i.p+"f28f450a3768250d27025efdff3b1b62.png"},function(e,t,i){e.exports=i.p+"1797b28e16b661d25ade16cc737147ed.png"},function(e,t,i){e.exports=i.p+"547d5ad077991802cc39c57fac645ec2.png"},function(e,t,i){e.exports=i.p+"028d24a47dd55f0abee23f84e2414013.png"},function(e,t,i){e.exports=i.p+"1ed3632a0ac3ca3d9de5daf8a3945c90.png"},function(e,t,i){e.exports=i.p+"4ebf60cde8d0fdbe9294dd1107b4b50f.png"},function(e,t,i){e.exports=i.p+"73bbb7379593b482c675d76c29407b54.png"},function(e,t,i){e.exports=i.p+"6e88931804aa75cac7c7c7189bc0e8f7.png"},function(e,t,i){e.exports=i.p+"9c46a8f4e13a0f264b95ecc57c116c65.png"},function(e,t,i){e.exports=i.p+"91582720b29a5addfe908690c91b643c.png"},function(e,t,i){e.exports=i.p+"3178c164fd23a1bea0f92b02efbb3055.png"},function(e,t,i){e.exports=i.p+"8ce9251f4311ce09583b3f67931811b9.png"},function(e,t,i){e.exports=i.p+"5cb0411c959c2d2481f304d33061ed11.png"},function(e,t,i){e.exports=i.p+"007637a1248db8f1446f670b7d808d4e.png"},function(e,t,i){e.exports=i.p+"ad84e862885f655af552d472c2deca56.png"},function(e,t,i){e.exports=i.p+"890a20397635cdd930342253dc32b2e0.png"},function(e,t,i){e.exports=i.p+"2122b57f85169fdb3cca1f92bd45ddc2.png"},function(e,t,i){e.exports=i.p+"9ba44665fa77eb9badd861de4b8ad3b0.png"},function(e,t,i){e.exports=i.p+"9b600b01d75a0e085e6198badae896b0.png"},function(e,t,i){e.exports=i.p+"918bf67aeb264a3c6cd0d4a678ffe018.png"},function(e,t,i){e.exports=i.p+"93f2b745bd978531b35eaadea93f8ecf.png"},function(e,t,i){e.exports=i.p+"138dfd717fd7411a2945354bb05baaf9.png"},function(e,t,i){e.exports=i.p+"81119924bce7eb4c2b590b108af7c688.png"},function(e,t,i){e.exports=i.p+"9bfd159a483eb3245ac768b18809bf2b.png"},function(e,t,i){e.exports=i.p+"02a7f44e47e64ac38ad7570bb9661116.png"},function(e,t,i){e.exports=i.p+"e5f871eff1196951c22889c3db27061d.png"},function(e,t,i){e.exports=i.p+"0e357b9ab2663ae1aea69221092c2160.png"},function(e,t,i){e.exports=i.p+"55e1bc18750911fa1a13d002a0a717fb.png"},function(e,t,i){e.exports=i.p+"cbd2ebf17c1e167440ba5a0fcc19eb06.png"},function(e,t,i){e.exports=i.p+"625fdb967f31e48c1f17880d0ab0c0fa.png"},function(e,t,i){e.exports=i.p+"62745a7010abf195c9af7ec55397d9e3.png"},function(e,t,i){e.exports=i.p+"58ce5a2c0826630cf90f12bf446da7e2.png"},function(e,t,i){e.exports=i.p+"dd2d7cc1e5ea7235b7ecf8b07517664c.png"},function(e,t,i){e.exports=i.p+"cd2fc356b85f41305e57d0865e4d6b04.png"},function(e,t,i){e.exports=i.p+"38decade98f94317d183af2423cfc596.png"},function(e,t,i){e.exports=i.p+"7b50a0a05843403445c267cd9d9a79d6.png"},function(e,t,i){e.exports=i.p+"f82f19dc24aed02eabf040d80d7eb8e8.png"},function(e,t,i){e.exports=i.p+"e1dd6c22c1b018cd2b8a1bded41f51e5.png"},function(e,t,i){e.exports=i.p+"fa1c78c085f9b006f47fa7ab977c5aa4.png"},function(e,t,i){e.exports=i.p+"565e5ccc7f1538a58c5d55fa7e0b1de1.png"},function(e,t,i){e.exports=i.p+"6ddb307ba9178be7b24f0d375a8d727b.png"},function(e,t,i){e.exports=i.p+"34858b83112cd6a380db6113666c36c6.png"},function(e,t,i){e.exports=i.p+"7ffa8882ff14903583df50dc06bf3f30.png"},function(e,t,i){e.exports=i.p+"82ae6b01904daa8ea78253758662cf24.png"},function(e,t,i){e.exports=i.p+"17fd2631466c7b53e911a32b84986fe5.png"},function(e,t,i){e.exports=i.p+"e41916ff34389abaa61a498a57452b8b.png"},function(e,t,i){e.exports=i.p+"0d47e5f851b1995a01ca6c1c9daa1a96.png"},function(e,t,i){e.exports=i.p+"786df06ba773c134c59100ab87453354.png"},function(e,t,i){e.exports=i.p+"bd5312b1a1834bd031dd69d16c0745ca.png"},function(e,t,i){e.exports=i.p+"d8c5d17580fd735182ee4d60fba46b4b.png"},function(e,t,i){e.exports=i.p+"a3d3788916c01324f2d4bb3730ac39c5.png"},function(e,t,i){e.exports=i.p+"cf2d970c5d7fea2b25f6a98f6004191f.png"},function(e,t,i){e.exports=i.p+"4566408f54de85b46a640c8612d23711.png"},function(e,t,i){e.exports=i.p+"cb8e6ebd5e9f839bb22e365b7f162ac6.png"},function(e,t,i){e.exports=i.p+"c8242d34d9fa4f4df2b04b464d2041a3.png"},function(e,t,i){e.exports=i.p+"789f23423bbbaa19a598e58ba21e7a49.png"},function(e,t,i){e.exports=i.p+"f967ae9f10c2c4a4f61e125c4c223d0f.png"},function(e,t,i){e.exports=i.p+"7ec69eb3355c177551cb1330c33c3f6a.png"},function(e,t,i){e.exports=i.p+"63239df71fe7d697c7c95f0b62cfc39a.png"},function(e,t,i){e.exports=i.p+"f0987dccdc0aa7ce25a0b7a338a2864b.png"},function(e,t,i){e.exports=i.p+"3c1cbc1e5a686381e104b78830678c49.png"},function(e,t,i){e.exports=i.p+"85ebbb4733a126dc9c91e6bd1bd7b77c.png"},function(e,t,i){e.exports=i.p+"d9ebd86042b4f92f5f13a53fa711f1f3.png"},function(e,t,i){e.exports=i.p+"02af03c7da85feaf6aff8bf4be0410eb.png"},function(e,t,i){e.exports=i.p+"877bd6d311208f084e94c46131c4ddfc.png"},function(e,t,i){e.exports=i.p+"50758fb9053cf94348a321af91f10b6a.png"},function(e,t,i){e.exports=i.p+"3ece75fe8c215e19877a291a063780eb.png"},function(e,t,i){e.exports=i.p+"9f9d72a75c1819dc14654b9005b2979e.png"},function(e,t,i){e.exports=i.p+"76a7220e3c208c2ab860e28f4a23bcc2.png"},function(e,t,i){e.exports=i.p+"9e7be0451c12ff56706fcb5f15c8e747.png"},function(e,t,i){e.exports=i.p+"b3cb1a577c0699b7d966a672a481ca79.png"},function(e,t,i){e.exports=i.p+"885a91f2c6b778c6730baf5055b3292c.png"},function(e,t,i){e.exports=i.p+"db536ee2e2f7f93ffa8747e97707330e.png"},function(e,t,i){e.exports=i.p+"4ff21ed3af729f1f514a7a71150ba623.png"},function(e,t,i){e.exports=i.p+"e014aeb3dac13ff894e22a197b26ced0.png"},function(e,t,i){e.exports=i.p+"a856d4a78244f7510d3f9fffdfd1d2c1.png"},function(e,t,i){e.exports=i.p+"7e1eb52facf793fd94482604b82181a3.png"},function(e,t,i){e.exports=i.p+"0308df0ef4ecf7a8e98057aa3b9c5ba1.png"},function(e,t,i){e.exports=i.p+"cd0dc18c6fbbae0368c8d4779c3e1c4f.png"},function(e,t,i){e.exports=i.p+"1bfe0b5d4681cf01fd0f4a680b3296f1.png"},function(e,t,i){e.exports=i.p+"9280c3ae5d82f3780e6b0881a6b7dc1d.png"},function(e,t,i){e.exports=i.p+"52b78d5e8660044f775eb2924f4ee661.png"},function(e,t,i){e.exports=i.p+"d04c7a8d15d368093244d6b377acf1c8.png"},function(e,t,i){e.exports=i.p+"a40149d24d768767b1ec0bf9d9a52fc9.png"},function(e,t,i){e.exports=i.p+"47bde97c1c55a64affabdd88b945d9fb.png"},function(e,t,i){e.exports=i.p+"a5a9f8bdf2724f7a3fc69c702a70f475.png"},function(e,t,i){e.exports=i.p+"9429a34da92f90b36ac53e00ee6cb34b.png"},function(e,t,i){e.exports=i.p+"b34d508d91ae015df55ed602a4cd8827.png"},function(e,t,i){e.exports=i.p+"cfb0225b14fb611540e8957569c9edb5.png"},function(e,t,i){e.exports=i.p+"722a861d46206ff4632197f2901069db.png"},function(e,t,i){e.exports=i.p+"b857d7f2bf4b2d6dc59ccf8def635aa1.png"},function(e,t,i){e.exports=i.p+"1c3453b45a11ca854559ab7af162faaf.png"},function(e,t,i){e.exports=i.p+"0f77cb349c17b17a44cba650240d2ffe.png"},function(e,t,i){e.exports=i.p+"c5676e55f9a941590d93c78548904add.png"},function(e,t,i){e.exports=i.p+"89166ac462a53e5eb9071cc7355b2976.png"},function(e,t,i){e.exports=i.p+"41718cfdf77c4476eb3a98986c1970ce.png"},function(e,t,i){e.exports=i.p+"06781e9a483b867aa560ef4fcb2548ad.png"},function(e,t,i){e.exports=i.p+"d065758293643159439d9ceaab77313c.png"},function(e,t,i){e.exports=i.p+"b6d521a9c6f4c758c41ffc1ea237e63f.png"},function(e,t,i){e.exports=i.p+"fe92e2f6bf93778661c5f2b02520d6ea.png"},function(e,t,i){e.exports=i.p+"ef22684f045935dd2645cb59f8403c39.png"},function(e,t,i){e.exports=i.p+"46d2d7d61b01ecd0e1d6fef3490b9f77.png"},function(e,t,i){e.exports=i.p+"54254cb7a33c523af674e45bcb61f91d.png"},function(e,t,i){e.exports=i.p+"01289b4c05a902fde066b5eff67377b8.png"},function(e,t,i){e.exports=i.p+"e7ad45c408fe76785e0934e535df8bc8.png"},function(e,t,i){e.exports=i.p+"c142261e7c6686a8c379a31b564c34eb.png"},function(e,t,i){e.exports=i.p+"70b48e7f9ae9e645bb164bfeb79e5308.png"},function(e,t,i){e.exports=i.p+"0c12884aed882d27894dfff2c796d9c5.png"},function(e,t,i){e.exports=i.p+"e803597c621be963b8c0b164178ef877.png"},function(e,t,i){e.exports=i.p+"9680b364b5ac71681ca6cceb021ae149.png"},function(e,t,i){e.exports=i.p+"33b6c6344cef82fc34e928d5cff5f4c7.png"},function(e,t,i){e.exports=i.p+"fc47d80f6cc5828583a93a2c6a031583.png"},function(e,t,i){e.exports=i.p+"335ed2f09f614901eab6b6001947924a.png"},function(e,t,i){e.exports=i.p+"7d48fb07154f0749a74a8aa9af5c44fa.png"},function(e,t,i){e.exports=i.p+"9e2fb1b10a283d10d1cc183830ab4f1f.png"},function(e,t,i){e.exports=i.p+"57e03374afbad31fe25d0e871eef8f41.png"},function(e,t,i){e.exports=i.p+"5e59de947dc168176a840c921d3c602c.png"},function(e,t,i){e.exports=i.p+"de9e8c14fd1cf61900118f2d03ecd0a3.png"},function(e,t,i){e.exports=i.p+"1787f74e2823fe881388f46aacd76925.png"},function(e,t,i){e.exports=i.p+"880efc383c26078cc560ee6da3b77c12.png"},function(e,t,i){e.exports=i.p+"8fca8ed9382e2812665ced71b73ed186.png"},function(e,t,i){e.exports=i.p+"32936472d860eb04fc6d277ad62a263d.png"},function(e,t,i){e.exports=i.p+"cb858286ce9110ecd9d61d10b501a9dc.png"},function(e,t,i){e.exports=i.p+"9c5c1e323dec52e38ff2a040b5f8e4ad.png"},function(e,t,i){e.exports=i.p+"06f8cd967d314b83e032aee28d90064c.png"},function(e,t,i){e.exports=i.p+"4c81a3adabdd5e16b84c909932c767f8.png"},function(e,t,i){e.exports=i.p+"946038ec7a44f4fb8a7829eab335085b.png"},function(e,t,i){e.exports=i.p+"b4d077fdba87afa90e97778cbae4a775.png"},function(e,t,i){e.exports=i.p+"21a49d635e01e1fa30d29ea86eb49f2f.png"},function(e,t,i){e.exports=i.p+"a5faf6d1836366f284a6d361c874b21a.png"},function(e,t,i){e.exports=i.p+"f230143562d3fcd6596141546573ad0c.png"},function(e,t,i){e.exports=i.p+"8358fd03cff2453a88406fcdfbe20e1a.png"},function(e,t,i){e.exports=i.p+"80ba8e889ecc52bc2044f19e9876474b.png"},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(98),r=i(11),o=function(e){function t(){var t=e.call(this,"Preload")||this;return t.readySounds=!1,t}return n(t,e),t.prototype.init=function(e){this.state=e},t.prototype.preload=function(){this.load.image("diamond",r.default.diamond),this.load.image("sheepCoin",r.default.sheepCoin),this.load.image("chickenCoin",r.default.chickenCoin),this.load.image("cowCoin",r.default.cowCoin),this.load.image("profile-bg",r.default.profileBackground),this.load.image("profile-cow-farm",r.default.profileCowFarm),this.load.image("profile-chicken-farm",r.default.profileChickenFarm),this.load.image("profile-event-farm",r.default.profileEventFarm),this.load.image("profile-sticker",r.default.profileSticker),this.load.image("profile-cow-farm-lock",r.default.profileCowFarmLock),this.load.image("profile-lock-icon",r.default.profileLockIcon),this.load.image("profile-event-island",r.default.profileEventIsland),this.load.image("profile-btn",r.default.profileBtn),this.load.image("profile-pointer",r.default.profilePointer),this.load.image("shop-head",r.default.shopHead),this.load.image("shop-close",r.default.shopClose),this.load.image("shop-tab-active",r.default.shopTabActive),this.load.image("shop-tab",r.default.shopTab),this.load.image("shop-window",r.default.shopWindow),this.load.image("icon-shop-sheep",r.default.iconShopSheep),this.load.image("icon-shop-chicken",r.default.iconShopChicken),this.load.image("icon-shop-cow",r.default.iconShopCow),this.load.image("icon-shop-boosts",r.default.iconShopBoosts),this.load.image("bank-package",r.default.bankPackage),this.load.image("stock-tape",r.default.stockTape),this.load.image("shop-btn",r.default.shopBtn),"Sheep"===this.state.farm&&this.load.image("sheep-money-package",r.default.sheepMoneyPackage),"Chicken"===this.state.farm&&this.load.image("chicken-money-package",r.default.chickenMoneyPackage),"Cow"===this.state.farm&&this.load.image("cow-money-package",r.default.cowMoneyPackage),this.load.image("animal-shop-bg",r.default.animalShopBg),"Sheep"===this.state.farm&&this.load.image("shop-sheep-wool-collector",r.default.shopWoolCollector),"Chicken"===this.state.farm&&this.load.image("shop-chicken-egg-collector",r.default.shopEggCollector),"Cow"===this.state.farm&&this.load.image("shop-cow-milk-collector",r.default.shopMilkCollector),"Unicorn"===this.state.farm&&this.load.image("icon-shop-event",r.default.iconShopEvent),"Unicorn"===this.state.farm&&this.load.image("event-money-package",r.default.eventMoneyPackage),"Unicorn"===this.state.farm&&this.load.image("shop-unicorn-resource-collector",r.default.shopResourceCollector),this.load.image("shop-btn-disable",r.default.shopBtnDisable),this.load.image("boost-btn",r.default.boostBtn),this.load.image("boost-btn-disable",r.default.boostBtnDisable),this.load.image("boost-btn-ad",r.default.boostBtnAd),this.load.image("level-bg",r.default.levelBg),this.load.image("boost-bg",r.default.boostBg),this.state.newbieTime>0?(this.load.image("newbie-bg",r.default.newbieBg),this.load.image("newbie-day-0",r.default.newbieDay0),this.load.image("newbie-day-1",r.default.newbieDay1),this.load.image("newbie-day-2",r.default.newbieDay2),this.load.image("newbie-day-3",r.default.newbieDay3),this.load.image("newbie-day-4",r.default.newbieDay4),this.load.image("newbie-day-5",r.default.newbieDay5),this.load.image("newbie-day-6",r.default.newbieDay6),this.load.image("newbie-day-7",r.default.newbieDay7),this.load.image("day-yellow",r.default.dayYellow),this.load.image("day-purple",r.default.dayPurple),this.load.image("day-red",r.default.dayRed),this.load.image("award-received",r.default.awardReceived)):(this.load.image("daily-bg",r.default.dailyBg),this.load.image("achievement-daily",r.default.achievementDaily),this.load.image("flash-daily",r.default.flashDaily)),this.load.image("donate",r.default.donateBg),this.load.image("done-chapter-button",r.default.doneChapterButton),this.load.image("middle-button",r.default.middleButton),this.load.image("award-bg",r.default.awardBg),this.load.image("done-chapter",r.default.doneChapter),this.load.image("pb-chapter-modal",r.default.pbChapterAnimal),this.load.image("green-progress",r.default.greenProgress),this.load.image("farmer",r.default.farmer),this.load.image("tasks-top",r.default.tasksTop),this.load.image("tasks-middle",r.default.tasksMiddle),this.load.image("tasks-bottom",r.default.tasksBottom),this.load.image("tasks-uncomplite",r.default.tasksUncomplete),this.load.image("tasks-reward",r.default.tasksReward),this.load.image("tasks-bar",r.default.tasksBar),this.load.image("close-window-btn",r.default.closeWindowBtn),this.load.image("pb-chapter",r.default.pbChapter),this.load.image("big-btn-grey",r.default.bigButtonGrey),this.load.image("big-btn-blue",r.default.bigButtonBlue),this.load.image("big-btn-orange",r.default.bigButtonOrange),this.load.image("big-btn-red",r.default.bigButtonRed),this.load.image("big-btn-yellow",r.default.bigButtonYellow),this.load.image("repository-sell-btn",r.default.repositorySellBtn),"vk"!==this.state.platform&&"ok"!==this.state.platform&&"ya"!==this.state.platform||""===this.state.avatar||this.load.image("avatar-"+this.state.user.id,this.state.avatar),"Sheep"===this.state.farm&&this.load.image("herd-boost-road-sheep",r.default.herdBoostRoadSheep),"Chicken"===this.state.farm&&this.load.image("herd-boost-road-chicken",r.default.herdBoostRoadChicken),"Cow"===this.state.farm&&this.load.image("herd-boost-road-cow",r.default.herdBoostRoadCow),"Unicorn"===this.state.farm&&this.load.image("herd-boost-road-event",r.default.herdBoostRoadEvent),this.load.image("bad-merging-animation",r.default.badMergingAnimation),this.load.image("boost-window-bg",r.default.boostWindowBg),this.load.image("boost-countdown",r.default.boostCountdown),this.load.image("boost-leaves",r.default.boostLeaves),this.load.image("flags",r.default.flags),this.load.image("sheep-herd-boost-icon",r.default.herdBoostSheepIcon),this.load.image("chicken-herd-boost-icon",r.default.herdBoostChickenIcon),this.load.image("cow-herd-boost-icon",r.default.herdBoostCowIcon),this.load.image("sheep-feed-boost-icon",r.default.feedBoostSheepIcon),this.load.image("chicken-herd-boost-icon",r.default.feedBoostChickenIcon),this.load.image("cow-herd-boost-icon",r.default.feedBoostCowIcon),this.load.image("event-herd-boost-icon",r.default.herdBoostEventIcon),this.load.image("event-feed-boost-icon",r.default.feedBoostEventIcon),this.load.image("unicorn-status",r.default.unicornStatus),this.load.image("starterpack-bg",r.default.starterpackBg),this.load.image("starterpack-shadow",r.default.starterpackShadow),this.load.image("firework1",r.default.firework1),this.load.image("firework2",r.default.firework2),this.load.image("firework3",r.default.firework3),this.load.image("fireworkBg",r.default.fireworkBg),this.load.image("chat-bg",r.default.chatBackground),this.load.image("chat-delete-bg",r.default.chatDeleteBg),this.load.image("chat-trash",r.default.chatTrash),this.load.image("chat-arrow",r.default.chatArrow),this.load.atlas("chat-tab",r.default.chatTab,a.tabAtlas),this.load.image("chat-tab-close",r.default.chatTabClose),this.load.atlas("chat-tab-active",r.default.chatTabActive,a.tabActiveAtlas),this.load.atlas("chat-foreign-message-bg",r.default.chatForeignMessageBg,a.foreignMsgAtlas),this.load.atlas("chat-clan-message-bg",r.default.chatClanMessageBg,a.clanMsgAtlas),this.load.atlas("chat-admin-message-bg",r.default.chatAdminMessageBg,a.adminMsgAtlas),this.load.atlas("chat-user-message-bg",r.default.chatUserMessageBg,a.userMsgAtlas),this.load.image("chat-input-bg",r.default.chatInput),this.load.image("chat-send-btn",r.default.chatSendBtn),this.load.image("chat-emoji-btn",r.default.chatEmojiBtn),this.load.image("unicorn-status",r.default.unicornStatus),this.load.image("fortune-plate",r.default.fortunePlate),this.load.image("factory-window",r.default.factoryWindow),this.load.image("factory-wheel",r.default.factoryWheel),this.load.image("factory-production-1",r.default.factoryProduction1),this.load.image("factory-production-2",r.default.factoryProduction2),this.load.image("factory-production-3",r.default.factoryProduction3),this.load.image("factory-production-4",r.default.factoryProduction4),this.load.image("factory-cacao",r.default.factoryCacao),this.load.image("factory-production-slot-2",r.default.factoryProductionSlot2),this.load.image("factory-production-slot-disable-2",r.default.factoryProductionSlotDisable2),this.load.image("factory-production-slot-3",r.default.factoryProductionSlot3),this.load.image("factory-production-slot-disable-3",r.default.factoryProductionSlotDisable3),this.load.image("factory-production-slot-4",r.default.factoryProductionSlot4),this.load.image("factory-production-slot-disable-4",r.default.factoryProductionSlotDisable4),this.load.audio("music",r.default.music),this.load.audio("click-sound",r.default.clickSound),this.load.audio("firework-sound",r.default.fireworkSound),this.load.audio("coins-sound",r.default.coinsSound),this.load.audio("error-sound",r.default.errorSound),this.load.audio("merge-sound",r.default.mergeSound),this.load.audio("award-sound",r.default.awardSound),this.load.audio("donate-window-sound",r.default.donateWindowSound),this.load.audio("donate-take-sound",r.default.donateTakeSound),this.load.audio("tree-falling-sound",r.default.treeFallingSound),this.game.scene.keys.Sheep.scene.isActive()&&(this.load.audio("sheep-sound-1",r.default.sheepSound1),this.load.audio("sheep-sound-2",r.default.sheepSound2)),this.game.scene.keys.Chicken.scene.isActive()&&(this.load.audio("chicken-sound-1",r.default.chickenSound1),this.load.audio("chicken-sound-2",r.default.chickenSound2),this.load.audio("chicken-sound-3",r.default.chickenSound3),this.load.audio("chicken-sound-4",r.default.chickenSound4),this.load.audio("chicken-sound-5",r.default.chickenSound5)),this.game.scene.keys.Cow.scene.isActive()&&(this.load.audio("cow-sound-1",r.default.cowSound1),this.load.audio("cow-sound-2",r.default.cowSound2),this.load.audio("cow-sound-3",r.default.cowSound3)),this.load.image("profile-window-button-yellow",r.default.profileWindowBtnYellow),this.load.image("profile-window-button-red",r.default.profileWindowBtnRed),this.load.image("profile-window-button-green",r.default.profileWindowBtnGreen),this.load.image("profile-window-settings-btn",r.default.profileWindowSettingsBtn),this.load.image("profile-window-footer",r.default.profileWindowFooter),this.load.image("profile-window-header",r.default.profileWindowHeader),this.load.image("profile-window-level",r.default.profileWindowLevel),this.load.image("profile-window-bg",r.default.profileWindowBg),this.load.image("boost-counter-bg",r.default.boostCounterBg),this.load.image("settings-window-header",r.default.settingsWindowHeader),this.load.image("settings-window-minus",r.default.settingsWindowMinus),this.load.image("settings-window-plus",r.default.settingsWindowPlus),this.load.image("settings-window-segment",r.default.settingsWindowSegment),this.load.image("settings-window-music-plate",r.default.settingsWindowMusicPlate),this.load.image("settings-window-sound-plate",r.default.settingsWindowSoundPlate),"ok"!==this.state.platform&&"vk"!==this.state.platform||(this.load.image("social-task-bg",r.default.socialTaskBg),this.load.image("social-task-top",r.default.socialTaskTop),this.load.image("social-task-bottom",r.default.socialTaskBottom),this.load.image("social-task-middle",r.default.socialTaskMiddle)),this.load.image("sys-switch",r.default.sysSwitch),this.load.atlas("modal-square-bg",r.default.squareBg,a.squareBgAtlas),this.load.image("clan-window-header",r.default.clanWindowHeader),this.load.image("clan-window-tab-active",r.default.clanWindowTabActive),this.load.image("clan-window-tab-disable",r.default.clanWindowTabDisable),this.load.image("clan-window-tab-close",r.default.clanWindowTabClose),this.load.image("clan-window-crown",r.default.clanWindowCrown),this.load.image("clan-window-line",r.default.clanWindowLine),this.load.image("clan-window-medal-bronze",r.default.clanWindowMedalBronze),this.load.image("clan-window-medal-gold",r.default.clanWindowMedalGold),this.load.image("clan-window-medal-silver",r.default.clanWindowMedalSilver),this.load.image("clan-window-medal",r.default.clanWindowMedal),this.load.image("clan-window-medal-ns",r.default.clanWindowMedal),this.load.image("clan-window-leader-plate",r.default.clanWindowLeaderPlate),this.load.image("clan-window-points-bg",r.default.clanWindowPointsBg),this.load.image("clan-window-search-plate",r.default.clanWindowSearchPlate),this.load.image("clan-window-search-plate-ns",r.default.clanWindowSearchPlate),this.load.image("clan-window-wreath",r.default.clanWindowWreath),this.load.image("clan-window-wreath-bg",r.default.clanWindowBgWreath),this.load.image("clan-window-icon-1",r.default.clanWindowIcon1),this.load.image("clan-window-icon-2",r.default.clanWindowIcon2),this.load.image("clan-window-icon-3",r.default.clanWindowIcon3),this.load.image("clan-window-icon-4",r.default.clanWindowIcon4),this.load.image("clan-window-icon-5",r.default.clanWindowIcon5),this.load.image("clan-window-exclude-button",r.default.clanWindowExcludeBtn),this.load.image("clan-icon-1",r.default.clanIcon1),this.load.image("clan-icon-2",r.default.clanIcon2),this.load.image("clan-icon-3",r.default.clanIcon3),this.load.image("clan-icon-4",r.default.clanIcon4),this.load.image("clan-icon-5",r.default.clanIcon5),this.load.image("clan-icon-6",r.default.clanIcon6),this.load.image("clan-icon-7",r.default.clanIcon7),this.load.image("clan-icon-8",r.default.clanIcon8),this.load.image("clan-icon-9",r.default.clanIcon9),this.load.image("clan-icon-10",r.default.clanIcon10),this.load.image("clan-icon-11",r.default.clanIcon11),this.load.image("clan-icon-12",r.default.clanIcon12),this.load.image("clan-frame-1",r.default.clanFrame1),this.load.image("clan-frame-1",r.default.clanFrame1),this.load.image("clan-frame-2",r.default.clanFrame2),this.load.image("clan-frame-3",r.default.clanFrame3),this.load.image("clan-frame-4",r.default.clanFrame4),this.load.image("clan-frame-5",r.default.clanFrame5),this.load.image("clan-frame-6",r.default.clanFrame6),this.load.image("clan-frame-7",r.default.clanFrame7),this.load.image("clan-frame-8",r.default.clanFrame8),this.load.image("clan-frame-9",r.default.clanFrame9),this.load.image("clan-frame-10",r.default.clanFrame10),this.load.image("clan-frame-11",r.default.clanFrame11),this.load.image("clan-bg-1",r.default.clanBg1),this.load.image("clan-bg-2",r.default.clanBg2),this.load.image("clan-bg-3",r.default.clanBg3),this.load.image("clan-bg-4",r.default.clanBg4),this.load.image("clan-bg-5",r.default.clanBg5),this.load.image("clan-bg-6",r.default.clanBg6),this.load.image("clan-bg-7",r.default.clanBg7),this.load.image("clan-bg-8",r.default.clanBg8),this.load.image("clan-bg-9",r.default.clanBg9),this.load.image("clan-bg-10",r.default.clanBg10),this.load.image("clan-bg-11",r.default.clanBg11),this.load.image("clan-bg-12",r.default.clanBg12),this.load.image("clan-bg-13",r.default.clanBg13),this.load.image("clan-bg-14",r.default.clanBg14),this.load.image("clan-main-frame",r.default.clanMainFrame),this.load.image("clan-window-search-plate-ns",r.default.clanWindowSearchPlate),this.load.image("clan-window-leader-plate-ns",r.default.clanWindowLeaderPlate),this.load.image("clan-bank-sheep-package-1",r.default.clanBankSheepPackage1),this.load.image("clan-bank-sheep-package-2",r.default.clanBankSheepPackage2),this.load.image("clan-bank-sheep-package-3",r.default.clanBankSheepPackage3),this.load.image("clan-bank-sheep-package-4",r.default.clanBankSheepPackage4),this.load.image("clan-bank-chicken-package-1",r.default.clanBankChickenPackage1),this.load.image("clan-bank-chicken-package-2",r.default.clanBankChickenPackage2),this.load.image("clan-bank-chicken-package-3",r.default.clanBankChickenPackage3),this.load.image("clan-bank-chicken-package-4",r.default.clanBankChickenPackage4),this.load.image("clan-bank-cow-package-1",r.default.clanBankCowPackage1),this.load.image("clan-bank-cow-package-2",r.default.clanBankCowPackage2),this.load.image("clan-bank-cow-package-3",r.default.clanBankCowPackage3),this.load.image("clan-bank-cow-package-4",r.default.clanBankCowPackage4),this.load.image("clan-bank-diamond-package-1",r.default.clanBankDiamondPackage1),this.load.image("clan-bank-diamond-package-2",r.default.clanBankDiamondPackage2),this.load.image("clan-bank-diamond-package-3",r.default.clanBankDiamondPackage3),this.load.image("clan-bank-diamond-package-4",r.default.clanBankDiamondPackage4),this.load.image("clan-map",r.default.clanMap),this.load.image("clan-cooldown-bg",r.default.clanCooldownBg),this.load.image("clan-chicken-farm",r.default.clanChickenFarm),this.load.image("clan-flagpole",r.default.clanFlagpole),this.load.image("icon-clan-sheep",r.default.iconClanSheep),this.load.image("icon-clan-chicken",r.default.iconClanChicken),this.load.image("icon-clan-cow",r.default.iconClanCow),this.load.image("modal-header-orange",r.default.headerOrange),this.load.image("stock-icon",r.default.stock),this.load.image("clan-task-icon-1",r.default.clanTaskIcon1),this.load.image("clan-task-icon-2",r.default.clanTaskIcon2),this.load.image("clan-task-icon-3",r.default.clanTaskIcon3),this.load.image("clan-task-icon-4",r.default.clanTaskIcon4),this.load.image("clan-task-icon-5",r.default.clanTaskIcon5),this.load.image("clan-task-icon-6",r.default.clanTaskIcon6),this.load.image("clan-task-icon-7",r.default.clanTaskIcon7),this.load.image("clan-task-icon-8",r.default.clanTaskIcon8),this.load.image("clan-task-icon-9",r.default.clanTaskIcon9),this.load.image("clan-task-icon-10",r.default.clanTaskIcon10),this.load.image("clan-task-icon-11",r.default.clanTaskIcon11),this.load.image("clan-task-icon-12",r.default.clanTaskIcon12),this.load.image("clan-task-icon-13",r.default.clanTaskIcon13),this.load.image("clan-task-icon-14",r.default.clanTaskIcon14),this.load.image("clan-task-icon-15",r.default.clanTaskIcon15),this.load.image("clan-task-icon-16",r.default.clanTaskIcon16),this.load.image("clan-task-icon-17",r.default.clanTaskIcon17),this.load.image("clan-task-icon-18",r.default.clanTaskIcon18),this.load.image("clan-task-icon-19",r.default.clanTaskIcon19),this.load.image("clan-bank-button",r.default.clanBankBtn),this.load.image("clan-tab-icon-sheep",r.default.clanTabIconSheep),this.load.image("clan-tab-icon-chicken",r.default.clanTabIconChicken),this.load.image("clan-tab-icon-cow",r.default.clanTabIconCow),this.load.image("clan-tournament-header",r.default.clanTournamentHeader),this.load.image("clan-tournament-decor",r.default.clanTournamentDecor),this.load.image("clan-tournament-animal-bg",r.default.clanTournamentAnimalBg),this.load.image("clan-tournament-plate-bg",r.default.clanTournamentPlateBg),this.load.image("sale-window-header",r.default.saleWindowHeader),this.load.image("sale-window-flags",r.default.saleWindowFlags),this.load.image("sale-window-double-count",r.default.saleWindowDoubleCount),this.load.image("sale-window-half-price",r.default.saleWindowHalfPrice),this.load.image("sale-window-header",r.default.settingsWindowHeader),this.load.image("close-window-btn",r.default.closeWindowBtn),this.load.image("sale-icon-chicken-collector-improve",r.default.saleIconChickenCollectorImprove),this.load.image("sale-icon-chicken-collector-price",r.default.saleIconChickenCollectorPrice),this.load.image("sale-icon-chicken-feed",r.default.saleIconChickenFeed),this.load.image("sale-icon-chicken-herd",r.default.saleIconChickenHerd),this.load.image("sale-icon-chicken-money",r.default.saleIconChickenMoney),this.load.image("sale-icon-chicken-price",r.default.saleIconChickenPrice),this.load.image("sale-icon-chicken-repository-improve",r.default.saleIconChickenRepositoryImprove),this.load.image("sale-icon-clan",r.default.saleIconClan),this.load.image("sale-icon-cow-collector-improve",r.default.saleIconCowCollectorImprove),this.load.image("sale-icon-cow-collector-price",r.default.saleIconCowCollectorPrice),this.load.image("sale-icon-cow-factory-improve",r.default.saleIconCowFactoryImprove),this.load.image("sale-icon-cow-feed",r.default.saleIconCowFeed),this.load.image("sale-icon-cow-herd",r.default.saleIconCowHerd),this.load.image("sale-icon-cow-money",r.default.saleIconCowMoney),this.load.image("sale-icon-cow-price",r.default.saleIconCowPrice),this.load.image("sale-icon-cow-repository-improve",r.default.saleIconCowRepositoryImprove),this.load.image("sale-icon-diamond-count",r.default.saleIconDiamondCount),this.load.image("sale-icon-package-price",r.default.saleIconPackagePrice),this.load.image("sale-icon-sheep-collector-improve",r.default.saleIconSheepCollectorImprove),this.load.image("sale-icon-sheep-collector-price",r.default.saleIconSheepCollectorPrice),this.load.image("sale-icon-sheep-feed",r.default.saleIconSheepFeed),this.load.image("sale-icon-sheep-herd",r.default.saleIconSheepHerd),this.load.image("sale-icon-sheep-money",r.default.saleIconSheepMoney),this.load.image("sale-icon-sheep-price",r.default.saleIconSheepPrice),this.load.image("sale-icon-sheep-repository-improve",r.default.saleIconSheepRepositoryImprove),this.load.image("modal-bg-plate",r.default.modalBgPlate),this.load.image("avatar-0",r.default.avatar0),this.load.image("avatar-1",r.default.avatar1),this.load.image("avatar-2",r.default.avatar2),this.load.image("avatar-3",r.default.avatar3),this.load.image("avatar-4",r.default.avatar4),this.load.image("avatar-5",r.default.avatar5),this.load.image("avatar-6",r.default.avatar6),this.load.image("avatar-7",r.default.avatar7),this.load.image("avatar-8",r.default.avatar8),this.load.image("buy-avatar-plate",r.default.buyPlate),this.load.image("profile-window-edit-avatar-btn",r.default.profileWindoweEitAvataBtn),this.load.image("avatar-frame",r.default.avatarFrame)},t.prototype.create=function(){this.readySounds||(this.sound.add("music",{volume:this.state.musicVolume,loop:!0}).play(),this.readySounds=!0)},t}(Phaser.Scene);t.default=o},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(41),o=i(1722),c=i(33),h=i(0),l=i(5),d=i(4),u=i(23),p=i(18),f=i(11),m=function(e){function t(){var t=e.call(this,"SheepPreload")||this;return t.loadSheep=o.default.bind(t),t.loadingScreen=h.loadingScreen.bind(t),t.loadData=c.default.bind(t),t.clickShopBtn=d.clickShopBtn.bind(t),t.initAndroidStore=h.initAndroidStore.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e,this.userReady=!1,this.loadingReady=!1,this.serverError=!1,this.socket=!1,this.loadUser(),this.startTime=Math.round((new Date).getTime()/1e3),this.state.socket||(this.socket=!0,this.loadTime=Math.round((new Date).getTime()/1e3),this.state.socket=new r.default(this.state)),p.default.showInterstitialOnPreload(this.state,this)},t.prototype.preload=function(){this.loadingScreen("Sheep"),this.load.image("diamond",f.default.diamond),this.load.image("sheepCoin",f.default.sheepCoin),this.load.image("bg",f.default.bg),this.load.image("sheep-top",f.default.sheepTop),this.load.image("sheep-bottom",f.default.sheepBottom),this.load.image("topbar",f.default.topbar),this.load.image("tabbar",f.default.tabbar),this.load.image("sheep-buy-icon-1",f.default.sheepBuyIcon1),this.load.image("sheep-buy-icon-2",f.default.sheepBuyIcon2),this.load.image("sheep-buy-icon-3",f.default.sheepBuyIcon3),this.load.image("sheep-buy-icon-4",f.default.sheepBuyIcon4),this.load.image("sheep-buy-icon-5",f.default.sheepBuyIcon5),this.load.image("sheep-buy-icon-6",f.default.sheepBuyIcon6),this.load.image("sheep-buy-icon-7",f.default.sheepBuyIcon7),this.load.image("sheep-buy-icon-8",f.default.sheepBuyIcon8),this.load.image("sheep-buy-icon-9",f.default.sheepBuyIcon9),this.load.image("sheep-buy-icon-10",f.default.sheepBuyIcon10),this.load.image("sheep-buy-icon-11",f.default.sheepBuyIcon11),this.load.image("sheep-buy-icon-12",f.default.sheepBuyIcon12),this.load.image("wool-collector",f.default.woolCollector),this.load.image("shop",f.default.shop),this.load.image("map-icon",f.default.mapIcon),this.load.image("sandwich",f.default.sandwich),this.load.image("sandwich-close",f.default.sandwichClose),this.load.image("profile",f.default.profile),this.load.image("debug",f.default.debug),this.load.image("chat",f.default.chat),this.load.image("sheep-for-buying",f.default.sheepForBuying),this.load.image("sheep-bought",f.default.sheepBought),this.load.image("sheep-merging",f.default.sheepMerging),this.load.image("sheep-tent",f.default.sheepTent),this.load.image("sheep-house",f.default.sheepHouse),this.load.image("sheep-ground",f.default.sheepGround),this.load.image("sheep-repository",f.default.sheepRepository),this.load.image("sheep-repository-1-1",f.default.sheepRepository11),this.load.image("sheep-repository-1-2",f.default.sheepRepository12),this.load.image("sheep-repository-1-3",f.default.sheepRepository13),this.load.image("sheep-repository-1-4",f.default.sheepRepository14),this.load.image("sheep-repository-2-1",f.default.sheepRepository21),this.load.image("sheep-repository-2-2",f.default.sheepRepository22),this.load.image("sheep-repository-2-3",f.default.sheepRepository23),this.load.image("sheep-repository-2-4",f.default.sheepRepository24),this.load.image("sheep-repository-3-1",f.default.sheepRepository31),this.load.image("sheep-repository-3-2",f.default.sheepRepository32),this.load.image("sheep-repository-3-3",f.default.sheepRepository33),this.load.image("sheep-repository-3-4",f.default.sheepRepository34),this.load.image("sheep-repository-4-1",f.default.sheepRepository41),this.load.image("sheep-repository-4-2",f.default.sheepRepository42),this.load.image("sheep-repository-4-3",f.default.sheepRepository43),this.load.image("sheep-repository-4-4",f.default.sheepRepository44),this.load.image("sheep-grass1-1",f.default.sheepGrass11),this.load.image("sheep-grass1-2",f.default.sheepGrass12),this.load.image("sheep-grass1-3",f.default.sheepGrass13),this.load.image("sheep-grass1-4",f.default.sheepGrass14),this.load.image("sheep-grass2-1",f.default.sheepGrass21),this.load.image("sheep-grass2-2",f.default.sheepGrass22),this.load.image("sheep-grass2-3",f.default.sheepGrass23),this.load.image("sheep-grass2-4",f.default.sheepGrass24),this.load.image("sheep-grass3-1",f.default.sheepGrass31),this.load.image("sheep-grass3-2",f.default.sheepGrass32),this.load.image("sheep-grass3-3",f.default.sheepGrass33),this.load.image("sheep-grass3-4",f.default.sheepGrass34),this.load.image("sheep-grass4-1",f.default.sheepGrass41),this.load.image("sheep-grass4-2",f.default.sheepGrass42),this.load.image("sheep-grass4-3",f.default.sheepGrass43),this.load.image("sheep-grass4-4",f.default.sheepGrass44),this.load.image("sheep-water1-1",f.default.sheepWater11),this.load.image("sheep-water1-2",f.default.sheepWater12),this.load.image("sheep-water1-3",f.default.sheepWater13),this.load.image("sheep-water1-4",f.default.sheepWater14),this.load.image("sheep-water2-1",f.default.sheepWater21),this.load.image("sheep-water2-2",f.default.sheepWater22),this.load.image("sheep-water2-3",f.default.sheepWater23),this.load.image("sheep-water2-4",f.default.sheepWater24),this.load.image("sheep-water3-1",f.default.sheepWater31),this.load.image("sheep-water3-2",f.default.sheepWater32),this.load.image("sheep-water3-3",f.default.sheepWater33),this.load.image("sheep-water3-4",f.default.sheepWater34),this.load.image("sheep-water4-1",f.default.sheepWater41),this.load.image("sheep-water4-2",f.default.sheepWater42),this.load.image("sheep-water4-3",f.default.sheepWater43),this.load.image("sheep-water4-4",f.default.sheepWater44),this.load.image("lock-territory",f.default.lockTerritory),this.load.spritesheet("sheep0",f.default.sheep0,{frameWidth:121,frameHeight:158}),this.load.spritesheet("sheep1",f.default.sheep1,{frameWidth:135,frameHeight:128}),this.load.spritesheet("sheep2",f.default.sheep2,{frameWidth:135,frameHeight:128}),this.load.spritesheet("sheep3",f.default.sheep3,{frameWidth:135,frameHeight:132}),this.load.spritesheet("sheep4",f.default.sheep4,{frameWidth:135,frameHeight:147}),this.load.spritesheet("sheep5",f.default.sheep5,{frameWidth:135,frameHeight:130}),this.load.spritesheet("sheep6",f.default.sheep6,{frameWidth:135,frameHeight:139}),this.load.spritesheet("sheep7",f.default.sheep7,{frameWidth:159,frameHeight:126}),this.load.spritesheet("sheep8",f.default.sheep8,{frameWidth:138,frameHeight:139}),this.load.spritesheet("sheep9",f.default.sheep9,{frameWidth:135,frameHeight:131}),this.load.spritesheet("sheep10",f.default.sheep10,{frameWidth:146,frameHeight:133}),this.load.spritesheet("sheep11",f.default.sheep11,{frameWidth:151,frameHeight:125}),this.load.spritesheet("sheep12",f.default.sheep12,{frameWidth:136,frameHeight:146}),this.load.image("sheep-wool1",f.default.wool1),this.load.image("sheep-wool2",f.default.wool2),this.load.image("sheep-wool3",f.default.wool3),this.load.image("sheep-wool4",f.default.wool4),this.load.image("sheep-wool5",f.default.wool5),this.load.image("sheep-wool6",f.default.wool6),this.load.image("sheep-wool7",f.default.wool7),this.load.image("sheep-wool8",f.default.wool8),this.load.image("sheep-wool9",f.default.wool9),this.load.image("sheep-wool10",f.default.wool10),this.load.image("sheep-wool11",f.default.wool11),this.load.image("sheep-wool12",f.default.wool12),this.load.image("merging-animation",f.default.mergingAnimation),this.load.image("lock",f.default.lock),this.load.image("disable-sheep",f.default.disableSheep),this.load.image("sheep-house-sprite",f.default.sheepHouseSprite),this.load.image("cave-disable",f.default.caveDisalble),this.load.image("cave-ready",f.default.caveReady),this.load.image("cave-wait",f.default.caveWait),this.load.image("cave-timer",f.default.caveTimer),this.load.image("sheep-forest-1",f.default.sheepForest1),this.load.image("sheep-forest-2",f.default.sheepForest2),this.load.image("sheep-forest-3",f.default.sheepForest3),this.load.image("sheep-forest-4",f.default.sheepForest4),this.load.image("sheep-forest-5",f.default.sheepForest5),this.load.image("sheep-forest-6",f.default.sheepForest6),this.load.image("sheep-forest-7",f.default.sheepForest7),this.load.image("sheep-forest-8",f.default.sheepForest8),this.load.image("star",f.default.star),this.load.image("completed",f.default.completed),this.load.image("little-button",f.default.littleButton),this.load.image("little-button-disable",f.default.littleButtonDisable),this.load.image("sheep-task-icon-1",f.default.sheepTaskIcon1),this.load.image("sheep-task-icon-2",f.default.sheepTaskIcon2),this.load.image("sheep-task-icon-3",f.default.sheepTaskIcon3),this.load.image("sheep-task-icon-4",f.default.sheepTaskIcon4),this.load.image("sheep-task-icon-5",f.default.sheepTaskIcon5),this.load.image("sheep-task-icon-6",f.default.sheepTaskIcon6),this.load.image("sheep-task-icon-7",f.default.sheepTaskIcon7),this.load.image("sheep-task-icon-8",f.default.sheepTaskIcon8),this.load.image("sheep-task-icon-9",f.default.sheepTaskIcon9),this.load.image("sheep-task-icon-10",f.default.sheepTaskIcon10),this.load.image("sheep-task-icon-11",f.default.sheepTaskIcon11),this.load.image("sheep-task-icon-12",f.default.sheepTaskIcon12),this.load.image("sheep-task-icon-13",f.default.sheepTaskIcon13),this.load.image("sheep-task-icon-14",f.default.sheepTaskIcon14),this.load.image("sheep-task-icon-15",f.default.sheepTaskIcon15),this.load.image("sheep-task-icon-16",f.default.sheepTaskIcon16),this.load.image("sheep-task-icon-17",f.default.sheepTaskIcon17),this.load.image("sheep-task-icon-18",f.default.sheepTaskIcon18),this.load.image("sheep-task-icon-19",f.default.sheepTaskIcon19),this.load.image("sheep-task-icon-20",f.default.sheepTaskIcon20),this.load.image("sheep-task-icon-21",f.default.sheepTaskIcon21),this.load.image("sheep-task-icon-22",f.default.sheepTaskIcon22),this.load.image("sheep-task-icon-23",f.default.sheepTaskIcon23),this.load.image("sheep-task-icon-24",f.default.sheepTaskIcon24),this.load.image("sheep-task-icon-25",f.default.sheepTaskIcon25),this.load.image("sheep-task-icon-26",f.default.sheepTaskIcon26),this.load.image("sheep-task-icon-27",f.default.sheepTaskIcon27),this.load.image("sheep-task-icon-28",f.default.sheepTaskIcon28),this.load.image("sheep-task-icon-29",f.default.sheepTaskIcon29),this.load.image("sheep-task-icon-30",f.default.sheepTaskIcon30),this.load.image("sheep-task-icon-31",f.default.sheepTaskIcon31),this.load.image("sheep-task-icon-32",f.default.sheepTaskIcon32),this.load.image("sheep-task-icon-33",f.default.sheepTaskIcon33),this.load.image("sheep-task-icon-34",f.default.sheepTaskIcon34),this.load.image("sheep-task-icon-38",f.default.sheepTaskIcon38),this.load.image("sheep-task-icon-39",f.default.sheepTaskIcon39),this.load.image("sheep-task-icon-40",f.default.sheepTaskIcon40),this.load.image("plus",f.default.plus),this.load.image("sheep-leaves",f.default.sheepLeaves),this.load.image("green-balance-bg",f.default.greenBalanceBg),this.load.image("red-balance-bg",f.default.redBalanceBg),this.load.image("resource-enough",f.default.resourceEnough),this.load.image("resource-problem",f.default.resourceProblem),this.load.image("grass-balance",f.default.grassBalance),this.load.image("water-balance",f.default.waterBalance),this.load.image("sheep-left-0-1",f.default.pixel),this.load.image("sheep-left-0-2",f.default.sheepLeft_0_2),this.load.image("sheep-left-0-3",f.default.sheepLeft_0_3),this.load.image("sheep-left-0-4",f.default.sheepLeft_0_4),this.load.image("sheep-right-0-1",f.default.pixel),this.load.image("sheep-right-0-2",f.default.sheepRight_0_2),this.load.image("sheep-right-0-3",f.default.sheepRight_0_3),this.load.image("sheep-right-0-4",f.default.sheepRight_0_4),this.load.image("sheep-left-1-1",f.default.sheepLeft_1_1),this.load.image("sheep-left-1-2",f.default.sheepLeft_1_2),this.load.image("sheep-left-1-3",f.default.sheepLeft_1_3),this.load.image("sheep-left-1-4",f.default.sheepLeft_1_4),this.load.image("sheep-right-1-1",f.default.sheepRight_1_1),this.load.image("sheep-right-1-2",f.default.sheepRight_1_2),this.load.image("sheep-right-1-3",f.default.sheepRight_1_3),this.load.image("sheep-right-1-4",f.default.sheepRight_1_4),this.load.image("sheep-left-2-1",f.default.sheepLeft_2_1),this.load.image("sheep-left-2-2",f.default.sheepLeft_2_2),this.load.image("sheep-left-2-3",f.default.sheepLeft_2_3),this.load.image("sheep-left-2-4",f.default.sheepLeft_2_4),this.load.image("sheep-right-2-1",f.default.sheepRight_2_1),this.load.image("sheep-right-2-2",f.default.sheepRight_2_2),this.load.image("sheep-right-2-3",f.default.sheepRight_2_3),this.load.image("sheep-right-2-4",f.default.sheepRight_2_4),this.load.image("sheep-left-3-1",f.default.sheepLeft_3_1),this.load.image("sheep-left-3-2",f.default.sheepLeft_3_2),this.load.image("sheep-left-3-3",f.default.sheepLeft_3_3),this.load.image("sheep-left-3-4",f.default.sheepLeft_3_4),this.load.image("sheep-right-3-1",f.default.sheepRight_3_1),this.load.image("sheep-right-3-2",f.default.sheepRight_3_2),this.load.image("sheep-right-3-3",f.default.sheepRight_3_3),this.load.image("sheep-right-3-4",f.default.sheepRight_3_4),this.load.image("sheep-left-4-1",f.default.sheepLeft_4_1),this.load.image("sheep-left-4-2",f.default.sheepLeft_4_2),this.load.image("sheep-left-4-3",f.default.sheepLeft_4_3),this.load.image("sheep-left-4-4",f.default.sheepLeft_4_4),this.load.image("sheep-right-4-1",f.default.sheepRight_4_1),this.load.image("sheep-right-4-2",f.default.sheepRight_4_2),this.load.image("sheep-right-4-3",f.default.sheepRight_4_3),this.load.image("sheep-right-4-4",f.default.sheepRight_4_4),this.load.image("sheep-left-5-1",f.default.sheepLeft_5_1),this.load.image("sheep-left-5-2",f.default.sheepLeft_5_2),this.load.image("sheep-left-5-3",f.default.sheepLeft_5_3),this.load.image("sheep-left-5-4",f.default.sheepLeft_5_4),this.load.image("sheep-right-5-1",f.default.sheepRight_5_1),this.load.image("sheep-right-5-2",f.default.sheepRight_5_2),this.load.image("sheep-right-5-3",f.default.sheepRight_5_3),this.load.image("sheep-right-5-4",f.default.sheepRight_5_4),this.load.image("sheep-left-6-1",f.default.sheepLeft_6_1),this.load.image("sheep-left-6-2",f.default.sheepLeft_6_2),this.load.image("sheep-left-6-3",f.default.sheepLeft_6_3),this.load.image("sheep-left-6-4",f.default.sheepLeft_6_4),this.load.image("sheep-right-6-1",f.default.sheepRight_6_1),this.load.image("sheep-right-6-2",f.default.sheepRight_6_2),this.load.image("sheep-right-6-3",f.default.sheepRight_6_3),this.load.image("sheep-right-6-4",f.default.sheepRight_6_4),this.load.image("sheep-left-7-1",f.default.sheepLeft_7_1),this.load.image("sheep-left-7-2",f.default.sheepLeft_7_2),this.load.image("sheep-left-7-3",f.default.sheepLeft_7_3),this.load.image("sheep-left-7-4",f.default.sheepLeft_7_4),this.load.image("sheep-right-7-1",f.default.sheepRight_7_1),this.load.image("sheep-right-7-2",f.default.sheepRight_7_2),this.load.image("sheep-right-7-3",f.default.sheepRight_7_3),this.load.image("sheep-right-7-4",f.default.sheepRight_7_4),this.load.image("sheep-left-8-1",f.default.sheepLeft_8_1),this.load.image("sheep-left-8-2",f.default.sheepLeft_8_2),this.load.image("sheep-left-8-3",f.default.sheepLeft_8_3),this.load.image("sheep-left-8-4",f.default.sheepLeft_8_4),this.load.image("sheep-right-8-1",f.default.sheepRight_8_1),this.load.image("sheep-right-8-2",f.default.sheepRight_8_2),this.load.image("sheep-right-8-3",f.default.sheepRight_8_3),this.load.image("sheep-right-8-4",f.default.sheepRight_8_4),this.load.image("sheep-left-9-1",f.default.sheepLeft_9_1),this.load.image("sheep-left-9-2",f.default.sheepLeft_9_2),this.load.image("sheep-left-9-3",f.default.sheepLeft_9_3),this.load.image("sheep-left-9-4",f.default.sheepLeft_9_4),this.load.image("sheep-right-9-1",f.default.sheepRight_9_1),this.load.image("sheep-right-9-2",f.default.sheepRight_9_2),this.load.image("sheep-right-9-3",f.default.sheepRight_9_3),this.load.image("sheep-right-9-4",f.default.sheepRight_9_4),this.load.image("sheep-left-10-1",f.default.sheepLeft_10_1),this.load.image("sheep-left-10-2",f.default.sheepLeft_10_2),this.load.image("sheep-left-10-3",f.default.sheepLeft_10_3),this.load.image("sheep-left-10-4",f.default.sheepLeft_10_4),this.load.image("sheep-right-10-1",f.default.sheepRight_10_1),this.load.image("sheep-right-10-2",f.default.sheepRight_10_2),this.load.image("sheep-right-10-3",f.default.sheepRight_10_3),this.load.image("sheep-right-10-4",f.default.sheepRight_10_4),this.load.image("sheep-left-11-1",f.default.sheepLeft_11_1),this.load.image("sheep-left-11-2",f.default.sheepLeft_11_2),this.load.image("sheep-left-11-3",f.default.sheepLeft_11_3),this.load.image("sheep-left-11-4",f.default.sheepLeft_11_4),this.load.image("sheep-right-11-1",f.default.sheepRight_11_1),this.load.image("sheep-right-11-2",f.default.sheepRight_11_2),this.load.image("sheep-right-11-3",f.default.sheepRight_11_3),this.load.image("sheep-right-11-4",f.default.sheepRight_11_4),this.load.image("sheep-left-12-1",f.default.sheepLeft_12_1),this.load.image("sheep-left-12-2",f.default.sheepLeft_12_2),this.load.image("sheep-left-12-3",f.default.sheepLeft_12_3),this.load.image("sheep-left-12-4",f.default.sheepLeft_12_4),this.load.image("sheep-right-12-1",f.default.sheepRight_12_1),this.load.image("sheep-right-12-2",f.default.sheepRight_12_2),this.load.image("sheep-right-12-3",f.default.sheepRight_12_3),this.load.image("sheep-right-12-4",f.default.sheepRight_12_4),this.load.image("tail",f.default.tail),this.load.image("pixel",f.default.pixel),this.load.image("sheep-vertical-border",f.default.sheepVerticalBorder),this.load.image("sheep-horizontal-border-1",f.default.sheepHorizontalBorder1),this.load.image("sheep-horizontal-border-2",f.default.sheepHorizontalBorder2),this.load.image("sheep-horizontal-border-3",f.default.sheepHorizontalBorder3),this.load.image("tutor-merging",f.default.tutorMerging),this.load.image("gift",f.default.gift),this.load.image("shave-status",f.default.shaveStatus),this.load.image("diamond-status",f.default.diamondStatus),this.load.image("offline",f.default.offline),this.load.image("hatchet",f.default.hatchet),this.load.image("hammer",f.default.hammer),this.load.image("arrow",f.default.arrow),this.load.image("tutor-btn",f.default.tutorBtn),this.load.image("сurrency-bg",f.default.сurrencyBg),this.load.image("heart",f.default.heart),this.load.image("not-enought-water",f.default.notEnoughtWater),this.load.image("not-enought-grass",f.default.notEnoughtGrass),this.load.image("calendar",f.default.calendar),this.load.image("ad-icon",f.default.adIcon),this.load.image("bg-ad",f.default.bgAd),this.load.image("big-btn-green",f.default.bigButtonGreen),this.load.image("stock-icon",f.default.stockIcon),this.load.image("loading-spinner",f.default.loadingSpinner),this.load.image("farmer",f.default.farmer),this.load.image("white-pixel",f.default.whitePixel),this.load.image("scroll-arrow",f.default.scrollArrow),this.load.image("improve-collector",f.default.improveCollector),this.load.image("task-award-bg",f.default.tasksAwardBg),this.load.image("tasks-bar-ns",f.default.tasksBarNs),this.load.image("tasks-bar-fix",f.default.tasksBarNs),this.load.image("task-bar-top",f.default.taskBarTop),this.load.image("task-bar-bot",f.default.taskBarBot),this.load.image("task-bar-mid",f.default.taskBarMid),this.load.image("notification-bg",f.default.notificationBg),this.load.image("rounded-segment",f.default.roundedBarSegment),this.load.image("circle-outline",f.default.circleOutline),this.load.image("cooldown-plate",f.default.cooldownPlate),this.load.image("text-sale",f.default.textSale),this.load.image("icon-sale",f.default.saleIcon),this.load.image("btn-clean",f.default.btnClean),this.load.image("feed-sheep-balance",f.default.feedSheepBalance),this.load.image("plate-feed",f.default.plateFeed),this.load.image("cloud-info",f.default.cloudInfo),this.load.image("green-balance-bg-big",f.default.greenBalanceBgBig),this.load.image("red-balance-bg-big",f.default.redBalanceBgBig)},t.prototype.create=function(){this.loadingReady=!0},t.prototype.update=function(){if(this.loadingReady&&this.userReady&&!this.serverError){if(this.socket){var e=Math.round((new Date).getTime()/1e3)-this.loadTime,t=document.body.clientWidth+" * "+document.body.clientHeight;this.state.socket.io.emit("updateSession",{user_id:this.state.user.id,hash:this.state.user.hash,screen_size:t,loadTime:e}),this.state.user.clanId&&this.state.socket.io.emit("joinClanRoom",{clanId:this.state.user.clanId}),console.log("Test - "+this.state.user.test),this.state.amplitude.setFarmIdentify(),"android"===this.state.platform&&this.initAndroidStore()}this.userReady=!1,this.loadingReady=!1,this.startTime=Math.round((new Date).getTime()/1e3)-this.startTime,this.state.offlineTime+=this.startTime,this.scene.stop(),this.scene.start("Sheep",this.state),this.scene.start("SheepBars",this.state),this.scene.start("Preload",this.state)}else this.loadingReady&&this.serverError&&(this.loadingReady=!1,this.serverError=!1,this.children.destroy(),new u.default(this,this.state.lang.checkYourInternet))},t.prototype.loadUser=function(){var e=this;this.state.dataIsLoaded?this.userReady=!0:a.default.post("https://ferma.games:4000/loadData",{hash:this.state.user.hash}).then((function(t){e.state.dataIsLoaded=!0,e.loadData(t),e.state.offlineTime=t.data.progress.sheepOfflineTime;var i=e.state.amplitude;0===t.data.user.tutor&&i.logAmplitudeEvent("tutor_before_load",{}),e.userReady=!0})).catch((function(){e.serverError=!0})),this.state.shopNotificationCount=[0,0,0,0],this.state.farm="Sheep",l.default.set("farm","Sheep")},t}(Phaser.Scene);t.default=m},function(e,t,i){var s=i(1698),n=i(59),a=i(101),r=i(42)("socket.io-client");e.exports=t=c;var o=t.managers={};function c(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,n=s(e),c=n.source,h=n.id,l=n.path,d=o[h]&&l in o[h].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(r("ignoring socket cache for %s",c),i=a(c,t)):(o[h]||(r("new io instance for %s",c),o[h]=a(c,t)),i=o[h]),n.query&&!t.query&&(t.query=n.query),i.socket(n.path,t)}t.protocol=n.protocol,t.connect=c,t.Manager=i(101),t.Socket=i(107)},function(e,t,i){var s=i(99),n=i(42)("socket.io-client:url");e.exports=function(e,t){var i=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(n("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),n("parse %s",e),i=s(e));i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443"));i.path=i.path||"/";var a=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port,i.href=i.protocol+"://"+a+(t&&t.port===i.port?"":":"+i.port),i}},function(e,t,i){function s(e){var i;function s(){if(s.enabled){var e=s,n=+new Date,a=n-(i||n);e.diff=a,e.prev=i,e.curr=n,i=n;for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(i,s){if("%%"===i)return i;c++;var n=t.formatters[s];if("function"==typeof n){var a=r[c];i=n.call(e,a),r.splice(c,1),c--}return i})),t.formatArgs.call(e,r);var h=s.log||t.log||console.log.bind(console);h.apply(e,r)}}return s.namespace=e,s.enabled=t.enabled(e),s.useColors=t.useColors(),s.color=function(e){var i,s=0;for(i in e)s=(s<<5)-s+e.charCodeAt(i),s|=0;return t.colors[Math.abs(s)%t.colors.length]}(e),s.destroy=n,"function"==typeof t.init&&t.init(s),t.instances.push(s),s}function n(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=s.debug=s.default=s).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var i;t.save(e),t.names=[],t.skips=[];var s=("string"==typeof e?e:"").split(/[\s,]+/),n=s.length;for(i=0;i<n;i++)s[i]&&("-"===(e=s[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(i=0;i<t.instances.length;i++){var a=t.instances[i];a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var i,s;for(i=0,s=t.skips.length;i<s;i++)if(t.skips[i].test(e))return!1;for(i=0,s=t.names.length;i<s;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(1700),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var i=1e3,s=6e4,n=60*s,a=24*n;function r(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}e.exports=function(e,t){t=t||{};var o,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*n;case"minutes":case"minute":case"mins":case"min":case"m":return r*s;case"seconds":case"second":case"secs":case"sec":case"s":return r*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?r(o=e,a,"day")||r(o,n,"hour")||r(o,s,"minute")||r(o,i,"second")||o+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=n)return Math.round(e/n)+"h";if(e>=s)return Math.round(e/s)+"m";if(e>=i)return Math.round(e/i)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,i){(function(s){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==s&&"env"in s&&(e={PORT:"3000",API:"https://ferma.games:4000",AMPLITUDE:"b54f0da08a6fdc5c20dc517579b7c508",VK_APP_ID:"7690692",VK_SUPPORT_LINK:"https://vk.com/topic-201017618_46785427",OK_SUPPORT_LINK:"https://ok.ru/group/58414298824783",VK_APP_LINK:"https://vk.com/ferma.games#wp",OK_APP_LINK:"https://ok.ru/game/prostoferma#wp",OK_CHICKEN_BANNER_2:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR66i1RE6ohPCsCAYfWZW5ZA",OK_COW_BANNER_3:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR6Nw2XBA2mmyX3xr1Ba4dyA",OK_SHEEP_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_4:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",OK_SHEEP_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRmVVyALtHmDySvJPB0ra1DQ",OK_CHICKEN_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRB7psVp-kdmOsOEQLBJgpyA",OK_COW_BANNER_5:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8jQGHoTjtd43LW2-GIxVgQ",VK_CHICKEN_BANNER_2:"photo-201017618_457239160",VK_COW_BANNER_3:"photo-201017618_457239161",VK_SHEEP_BANNER_4:"photo-201017618_457239163",VK_CHICKEN_BANNER_4:"photo-201017618_457239164",VK_COW_BANNER_4:"photo-201017618_457239162",VK_SHEEP_BANNER_5:"photo-201017618_457239166",VK_CHICKEN_BANNER_5:"photo-201017618_457239167",VK_COW_BANNER_5:"photo-201017618_457239168",OK_GROUP_ID:"58414298824783",VK_GROUP_ID:"201017618",platform:"web",VK_PLAY_ID:"21121"}.DEBUG),e}(t=e.exports=i(1702)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var i=this.useColors;if(e[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+e[0]+(i?"%c ":" ")+"+"+t.humanize(this.diff),!i)return;var s="color: "+this.color;e.splice(1,0,s,"color: inherit");var n=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(a=n))})),e.splice(a,0,s)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}).call(this,i(31))},function(e,t,i){function s(e){var i;function s(){if(s.enabled){var e=s,n=+new Date,a=n-(i||n);e.diff=a,e.prev=i,e.curr=n,i=n;for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(i,s){if("%%"===i)return i;c++;var n=t.formatters[s];if("function"==typeof n){var a=r[c];i=n.call(e,a),r.splice(c,1),c--}return i})),t.formatArgs.call(e,r);var h=s.log||t.log||console.log.bind(console);h.apply(e,r)}}return s.namespace=e,s.enabled=t.enabled(e),s.useColors=t.useColors(),s.color=function(e){var i,s=0;for(i in e)s=(s<<5)-s+e.charCodeAt(i),s|=0;return t.colors[Math.abs(s)%t.colors.length]}(e),s.destroy=n,"function"==typeof t.init&&t.init(s),t.instances.push(s),s}function n(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=s.debug=s.default=s).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var i;t.save(e),t.names=[],t.skips=[];var s=("string"==typeof e?e:"").split(/[\s,]+/),n=s.length;for(i=0;i<n;i++)s[i]&&("-"===(e=s[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(i=0;i<t.instances.length;i++){var a=t.instances[i];a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var i,s;for(i=0,s=t.skips.length;i<s;i++)if(t.skips[i].test(e))return!1;for(i=0,s=t.names.length;i<s;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(1703),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var i=1e3,s=6e4,n=60*s,a=24*n;function r(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}e.exports=function(e,t){t=t||{};var o,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*n;case"minutes":case"minute":case"mins":case"min":case"m":return r*s;case"seconds":case"second":case"secs":case"sec":case"s":return r*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?r(o=e,a,"day")||r(o,n,"hour")||r(o,s,"minute")||r(o,i,"second")||o+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=n)return Math.round(e/n)+"h";if(e>=s)return Math.round(e/s)+"m";if(e>=i)return Math.round(e/i)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,i){var s=i(60),n=i(100),a=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);t.deconstructPacket=function(e){var t=[],i=e.data,a=e;return a.data=function e(t,i){if(!t)return t;if(n(t)){var a={_placeholder:!0,num:i.length};return i.push(t),a}if(s(t)){for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=e(t[o],i);return r}if("object"==typeof t&&!(t instanceof Date)){r={};for(var c in t)r[c]=e(t[c],i);return r}return t}(i,t),a.attachments=t.length,{packet:a,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,i){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<i.length)return i[t.num];throw new Error("illegal attachments")}if(s(t))for(var n=0;n<t.length;n++)t[n]=e(t[n],i);else if("object"==typeof t)for(var a in t)t[a]=e(t[a],i);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var i=0,a=e;!function e(c,h,l){if(!c)return c;if(r&&c instanceof Blob||o&&c instanceof File){i++;var d=new FileReader;d.onload=function(){l?l[h]=this.result:a=this.result,--i||t(a)},d.readAsArrayBuffer(c)}else if(s(c))for(var u=0;u<c.length;u++)e(c[u],u,c);else if("object"==typeof c&&!n(c))for(var p in c)e(c[p],p,c)}(a),i||t(a)}},function(e,t,i){e.exports=i(1706),e.exports.parser=i(26)},function(e,t,i){var s=i(102),n=i(25),a=i(45)("engine.io-client:socket"),r=i(106),o=i(26),c=i(99),h=i(43);function l(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,n(l.prototype),l.protocol=o.protocol,l.Socket=l,l.Transport=i(63),l.transports=i(102),l.parser=i(26),l.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}(this.query);t.EIO=o.protocol,t.transport=e;var i=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new s[e]({query:t,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,withCredentials:i.withCredentials||this.withCredentials,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},l.prototype.probe=function(e){a('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),i=!1,s=this;function n(){if(s.onlyBinaryUpgrades){var n=!this.supportsBinary&&s.transport.supportsBinary;i=i||n}i||(a('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(n){if(!i)if("pong"===n.type&&"probe"===n.data){if(a('probe transport "%s" pong',e),s.upgrading=!0,s.emit("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,a('pausing current transport "%s"',s.transport.name),s.transport.pause((function(){i||"closed"!==s.readyState&&(a("changing transport and sending upgrade packet"),u(),s.setTransport(t),t.send([{type:"upgrade"}]),s.emit("upgrade",t),t=null,s.upgrading=!1,s.flush())}))}else{a('probe transport "%s" failed',e);var r=new Error("probe error");r.transport=t.name,s.emit("upgradeError",r)}})))}function r(){i||(i=!0,u(),t.close(),t=null)}function o(i){var n=new Error("probe error: "+i);n.transport=t.name,r(),a('probe transport "%s" failed because of error: %s',e,i),s.emit("upgradeError",n)}function c(){o("transport closed")}function h(){o("socket closed")}function d(e){t&&e.name!==t.name&&(a('"%s" works - aborting "%s"',e.name,t.name),r())}function u(){t.removeListener("open",n),t.removeListener("error",o),t.removeListener("close",c),s.removeListener("close",h),s.removeListener("upgrading",d)}l.priorWebsocketSuccess=!1,t.once("open",n),t.once("error",o),t.once("close",c),this.once("close",h),this.once("upgrading",d),t.open()},l.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(e,t,i){return this.sendPacket("message",e,t,i),this},l.prototype.sendPacket=function(e,t,i,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof i&&(s=i,i=null),"closing"!==this.readyState&&"closed"!==this.readyState){(i=i||{}).compress=!1!==i.compress;var n={type:e,data:t,options:i};this.emit("packetCreate",n),this.writeBuffer.push(n),s&&this.once("flush",s),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?s():t()})):this.upgrading?s():t()}function t(){e.onClose("forced close"),a("socket closing - telling transport to close"),e.transport.close()}function i(){e.removeListener("upgrade",i),e.removeListener("upgradeError",i),t()}function s(){e.once("upgrade",i),e.once("upgradeError",i)}return this},l.prototype.onError=function(e){a("socket error %j",e),l.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},l.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(e){for(var t=[],i=0,s=e.length;i<s;i++)~r(this.transports,e[i])&&t.push(e[i]);return t}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,i){var s=i(61),n=i(103),a=i(25),r=i(44),o=i(45)("engine.io-client:polling-xhr"),c=i(62);function h(){}function l(e){if(n.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,i=location.port;i||(i=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==t}}function d(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=l,e.exports.Request=d,r(l,n),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new d(e)},l.prototype.doWrite=function(e,t){var i="string"!=typeof e&&void 0!==e,s=this.request({method:"POST",data:e,isBinary:i}),n=this;s.on("success",t),s.on("error",(function(e){n.onError("xhr post error",e)})),this.sendXhr=s},l.prototype.doPoll=function(){o("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},a(d.prototype),d.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new s(e),i=this;try{o("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var n in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&t.setRequestHeader(n,this.extraHeaders[n])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(i.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?i.onLoad():setTimeout((function(){i.onError("number"==typeof t.status?t.status:0)}),0))},o("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){i.onError(e)}),0)}"undefined"!=typeof document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},d.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},d.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},d.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=h:this.xhr.onreadystatechange=h,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},d.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",u);else if("function"==typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",u,!1)}function u(){for(var e in d.requests)d.requests.hasOwnProperty(e)&&d.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],i=Object.prototype.hasOwnProperty;for(var s in e)i.call(e,s)&&t.push(s);return t}},function(e,t){e.exports=function(e,t,i){var s=e.byteLength;if(t=t||0,i=i||s,e.slice)return e.slice(t,i);if(t<0&&(t+=s),i<0&&(i+=s),i>s&&(i=s),t>=s||t>=i||0===s)return new ArrayBuffer(0);for(var n=new Uint8Array(e),a=new Uint8Array(i-t),r=t,o=0;r<i;r++,o++)a[o]=n[r];return a.buffer}},function(e,t){function i(){}e.exports=function(e,t,s){var n=!1;return s=s||i,a.count=e,0===e?t():a;function a(e,i){if(a.count<=0)throw new Error("after called too many times");--a.count,e?(n=!0,t(e),t=s):0!==a.count||n||t(null,i)}}},function(e,t){var i,s,n,a=String.fromCharCode;function r(e){for(var t,i,s=[],n=0,a=e.length;n<a;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<a?56320==(64512&(i=e.charCodeAt(n++)))?s.push(((1023&t)<<10)+(1023&i)+65536):(s.push(t),n--):s.push(t);return s}function o(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(e,t){return a(e>>t&63|128)}function h(e,t){if(0==(4294967168&e))return a(e);var i="";return 0==(4294965248&e)?i=a(e>>6&31|192):0==(4294901760&e)?(o(e,t)||(e=65533),i=a(e>>12&15|224),i+=c(e,6)):0==(4292870144&e)&&(i=a(e>>18&7|240),i+=c(e,12),i+=c(e,6)),i+=a(63&e|128)}function l(){if(n>=s)throw Error("Invalid byte index");var e=255&i[n];if(n++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,a;if(n>s)throw Error("Invalid byte index");if(n==s)return!1;if(t=255&i[n],n++,0==(128&t))return t;if(192==(224&t)){if((a=(31&t)<<6|l())>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&t)){if((a=(15&t)<<12|l()<<6|l())>=2048)return o(a,e)?a:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(a=(7&t)<<18|l()<<12|l()<<6|l())>=65536&&a<=1114111)return a;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var i=!1!==(t=t||{}).strict,s=r(e),n=s.length,a=-1,o="";++a<n;)o+=h(s[a],i);return o},decode:function(e,t){var o=!1!==(t=t||{}).strict;i=r(e),s=i.length,n=0;for(var c,h=[];!1!==(c=d(o));)h.push(c);return function(e){for(var t,i=e.length,s=-1,n="";++s<i;)(t=e[s])>65535&&(n+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),n+=a(t);return n}(h)}}},function(e,t){!function(e){"use strict";t.encode=function(t){var i,s=new Uint8Array(t),n=s.length,a="";for(i=0;i<n;i+=3)a+=e[s[i]>>2],a+=e[(3&s[i])<<4|s[i+1]>>4],a+=e[(15&s[i+1])<<2|s[i+2]>>6],a+=e[63&s[i+2]];return n%3==2?a=a.substring(0,a.length-1)+"=":n%3==1&&(a=a.substring(0,a.length-2)+"=="),a},t.decode=function(t){var i,s,n,a,r,o=.75*t.length,c=t.length,h=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var l=new ArrayBuffer(o),d=new Uint8Array(l);for(i=0;i<c;i+=4)s=e.indexOf(t[i]),n=e.indexOf(t[i+1]),a=e.indexOf(t[i+2]),r=e.indexOf(t[i+3]),d[h++]=s<<2|n>>4,d[h++]=(15&n)<<4|a>>2,d[h++]=(3&a)<<6|63&r;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t){var i=void 0!==i?i:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),n=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),a=i&&i.prototype.append&&i.prototype.getBlob;function r(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var i=new Uint8Array(e.byteLength);i.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=i.buffer}return t}return e}))}function o(e,t){t=t||{};var s=new i;return r(e).forEach((function(e){s.append(e)})),t.type?s.getBlob(t.type):s.getBlob()}function c(e,t){return new Blob(r(e),t||{})}"undefined"!=typeof Blob&&(o.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=s?n?Blob:c:a?o:void 0},function(e,t,i){function s(e){var i;function s(){if(s.enabled){var e=s,n=+new Date,a=n-(i||n);e.diff=a,e.prev=i,e.curr=n,i=n;for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(i,s){if("%%"===i)return i;c++;var n=t.formatters[s];if("function"==typeof n){var a=r[c];i=n.call(e,a),r.splice(c,1),c--}return i})),t.formatArgs.call(e,r);var h=s.log||t.log||console.log.bind(console);h.apply(e,r)}}return s.namespace=e,s.enabled=t.enabled(e),s.useColors=t.useColors(),s.color=function(e){var i,s=0;for(i in e)s=(s<<5)-s+e.charCodeAt(i),s|=0;return t.colors[Math.abs(s)%t.colors.length]}(e),s.destroy=n,"function"==typeof t.init&&t.init(s),t.instances.push(s),s}function n(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=s.debug=s.default=s).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var i;t.save(e),t.names=[],t.skips=[];var s=("string"==typeof e?e:"").split(/[\s,]+/),n=s.length;for(i=0;i<n;i++)s[i]&&("-"===(e=s[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(i=0;i<t.instances.length;i++){var a=t.instances[i];a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var i,s;for(i=0,s=t.skips.length;i<s;i++)if(t.skips[i].test(e))return!1;for(i=0,s=t.names.length;i<s;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(1716),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var i=1e3,s=6e4,n=60*s,a=24*n;function r(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}e.exports=function(e,t){t=t||{};var o,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*n;case"minutes":case"minute":case"mins":case"min":case"m":return r*s;case"seconds":case"second":case"secs":case"sec":case"s":return r*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?r(o=e,a,"day")||r(o,n,"hour")||r(o,s,"minute")||r(o,i,"second")||o+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=n)return Math.round(e/n)+"h";if(e>=s)return Math.round(e/s)+"m";if(e>=i)return Math.round(e/i)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,i){var s=i(103),n=i(44),a=i(62);e.exports=l;var r,o=/\n/g,c=/\\n/g;function h(){}function l(e){s.call(this,e),this.query=this.query||{},r||(r=a.___eio=a.___eio||[]),this.index=r.length;var t=this;r.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=h)}),!1)}n(l,s),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(t,i):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},l.prototype.doWrite=function(e,t){var i=this;if(!this.form){var s,n=document.createElement("form"),a=document.createElement("textarea"),r=this.iframeId="eio_iframe_"+this.index;n.className="socketio",n.style.position="absolute",n.style.top="-1000px",n.style.left="-1000px",n.target=r,n.method="POST",n.setAttribute("accept-charset","utf-8"),a.name="d",n.appendChild(a),document.body.appendChild(n),this.form=n,this.area=a}function h(){l(),t()}function l(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';s=document.createElement(e)}catch(e){(s=document.createElement("iframe")).name=i.iframeId,s.src="javascript:0"}s.id=i.iframeId,i.form.appendChild(s),i.iframe=s}this.form.action=this.uri(),l(),e=e.replace(c,"\\\n"),this.area.value=e.replace(o,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&h()}:this.iframe.onload=h}},function(e,t,i){(function(t){var s,n,a=i(63),r=i(26),o=i(43),c=i(44),h=i(105),l=i(45)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?s=WebSocket:"undefined"!=typeof self&&(s=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{n=i(1719)}catch(e){}var d=s||n;function u(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=s&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=n),a.call(this,e)}e.exports=u,c(u,a),u.prototype.name="websocket",u.prototype.supportsBinary=!0,u.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,i={};this.isReactNative||(i.agent=this.agent,i.perMessageDeflate=this.perMessageDeflate,i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(i.headers=this.extraHeaders),this.localAddress&&(i.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,i)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},u.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},u.prototype.write=function(e){var i=this;this.writable=!1;for(var s=e.length,n=0,a=s;n<a;n++)!function(e){r.encodePacket(e,i.supportsBinary,(function(n){if(!i.usingBrowserWebSocket){var a={};if(e.options&&(a.compress=e.options.compress),i.perMessageDeflate)("string"==typeof n?t.byteLength(n):n.length)<i.perMessageDeflate.threshold&&(a.compress=!1)}try{i.usingBrowserWebSocket?i.ws.send(n):i.ws.send(n,a)}catch(e){l("websocket closed before onclose event")}--s||o()}))}(e[n]);function o(){i.emit("flush"),setTimeout((function(){i.writable=!0,i.emit("drain")}),0)}},u.prototype.onClose=function(){a.prototype.onClose.call(this)},u.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",i="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(i=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=h()),this.supportsBinary||(e.b64=1),(e=o.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+e},u.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===u.prototype.name)}}).call(this,i(39).Buffer)},function(e,t){},function(e,t){e.exports=function(e,t){for(var i=[],s=(t=t||0)||0;s<e.length;s++)i[s-t]=e[s];return i}},function(e,t){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=i,i.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),i=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-i:e+i}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(10),n=i(67),a=i(64),r=i(32),o=i(24),c=i(48),h=i(5);t.default=function(e){if(void 0===e&&(e=0),this.state.sheepCollectorSettings=a.default,this.state.autoSaveSpeed=s.general.autoSaveSpeed,this.state.maxMerginTime=s.general.maxMerginTime,this.state.packages=s.general.packages,this.state.sheepSettings=s.sheepSettings,this.state.progress=c.default(),this.state.sheep=[],this.state.farm="Sheep",this.state.daily=!1,this.state.newbieTime=0,this.state.timeToBoost=0,h.default.get("dailyAwards")&&(this.state.dailyAwards=JSON.parse(h.default.get("dailyAwards"))),h.default.get("sheep")&&(this.state.sheep=JSON.parse(h.default.get("sheep"))),h.default.get("sheepTerritories")){var t=[],i=JSON.parse(h.default.get("sheepTerritories"));for(var l in i)t.push({_id:i[l]._id,block:i[l].block+1,position:i[l].position,type:i[l].type,volume:i[l].volume,improve:i[l].improve,money:i[l].money,cooldown:i[l].cooldown,boughtType:i[l].boughtType});this.state.sheepTerritories=t}else this.state.sheepTerritories=n.default;if(h.default.get("user")?this.state.user=JSON.parse(h.default.get("user")):this.state.user=r.userData,e>0&&(this.state.user.counter=e),h.default.get("userSheep")?this.state.userSheep=JSON.parse(h.default.get("userSheep")):this.state.userSheep=r.userSheep,h.default.get("sheepTasks"))this.state.sheepTasks=JSON.parse(h.default.get("sheepTasks"));else{var d=[];for(var l in o.default)1===o.default[l].farm&&d.push(o.default[l]);this.state.sheepTasks=d}if(h.default.get("sheepTime")){var u=Math.round((new Date).getTime()/1e3);this.state.offlineTime=u-Number(h.default.get("sheepTime"))}else this.state.offlineTime=0;this.userReady=!0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{level:1,chapter:1,time:3,speed:.8,price:0,diamonds:!1},{level:2,chapter:1,time:4,speed:.8,price:100,diamonds:!1},{level:3,chapter:1,time:5,speed:.8,price:200,diamonds:!1},{level:4,chapter:1,time:6,speed:.8,price:300,diamonds:!1},{level:5,chapter:1,time:6,speed:.9,price:5,diamonds:!0},{level:6,chapter:1,time:7,speed:.9,price:400,diamonds:!1},{level:7,chapter:1,time:8,speed:.9,price:500,diamonds:!1},{level:8,chapter:1,time:9,speed:.9,price:600,diamonds:!1},{level:9,chapter:1,time:10,speed:.9,price:700,diamonds:!1},{level:10,chapter:1,time:10,speed:1,price:15,diamonds:!0},{level:11,chapter:2,time:11,speed:1,price:1e3,diamonds:!1},{level:12,chapter:2,time:12,speed:1,price:1250,diamonds:!1},{level:13,chapter:2,time:13,speed:1,price:1600,diamonds:!1},{level:14,chapter:2,time:14,speed:1,price:1900,diamonds:!1},{level:15,chapter:2,time:14,speed:1.1,price:25,diamonds:!0},{level:16,chapter:2,time:15,speed:1.1,price:2500,diamonds:!1},{level:17,chapter:2,time:16,speed:1.1,price:3e3,diamonds:!1},{level:18,chapter:2,time:17,speed:1.1,price:3500,diamonds:!1},{level:19,chapter:2,time:18,speed:1.1,price:4e3,diamonds:!1},{level:20,chapter:2,time:18,speed:1.2,price:40,diamonds:!0},{level:21,chapter:3,time:19,speed:1.2,price:1e4,diamonds:!1},{level:22,chapter:3,time:20,speed:1.2,price:12e3,diamonds:!1},{level:23,chapter:3,time:21,speed:1200,price:15e3,diamonds:!1},{level:24,chapter:3,time:22,speed:1.2,price:19e3,diamonds:!1},{level:25,chapter:3,time:22,speed:1.3,price:60,diamonds:!0},{level:26,chapter:4,time:23,speed:1.3,price:25e3,diamonds:!1},{level:27,chapter:4,time:24,speed:1.3,price:3e4,diamonds:!1},{level:28,chapter:4,time:25,speed:1.3,price:35e3,diamonds:!1},{level:29,chapter:4,time:26,speed:1.3,price:4e4,diamonds:!1},{level:30,chapter:4,time:26,speed:1.4,price:90,diamonds:!0},{level:31,chapter:4,time:27,speed:1.4,price:5e4,diamonds:!1},{level:32,chapter:4,time:28,speed:1.4,price:55e3,diamonds:!1},{level:33,chapter:4,time:29,speed:1.4,price:6e4,diamonds:!1},{level:34,chapter:4,time:30,speed:1.4,price:65e3,diamonds:!1},{level:35,chapter:4,time:30,speed:1.5,price:140,diamonds:!0},{level:36,chapter:5,time:31,speed:1.5,price:8e4,diamonds:!1},{level:37,chapter:5,time:32,speed:1.5,price:9e4,diamonds:!1},{level:38,chapter:5,time:33,speed:1.5,price:1e5,diamonds:!1},{level:39,chapter:5,time:34,speed:1.5,price:11e4,diamonds:!1},{level:40,chapter:5,time:34,speed:1.6,price:200,diamonds:!0},{level:41,chapter:5,time:35,speed:1.6,price:12e4,diamonds:!1},{level:42,chapter:5,time:36,speed:1.6,price:13e4,diamonds:!1},{level:43,chapter:5,time:37,speed:1.6,price:14e4,diamonds:!1},{level:44,chapter:5,time:38,speed:1.6,price:15e4,diamonds:!1},{level:45,chapter:5,time:38,speed:1.7,price:350,diamonds:!0},{level:46,chapter:6,time:39,speed:1.7,price:18e4,diamonds:!1},{level:47,chapter:6,time:40,speed:1.7,price:195e3,diamonds:!1},{level:48,chapter:6,time:41,speed:1.7,price:21e4,diamonds:!1},{level:49,chapter:6,time:42,speed:1.7,price:225e3,diamonds:!1},{level:50,chapter:6,time:42,speed:1.8,price:500,diamonds:!0},{level:51,chapter:6,time:43,speed:1.8,price:24e4,diamonds:!1},{level:52,chapter:6,time:44,speed:1.8,price:255e3,diamonds:!1},{level:53,chapter:6,time:45,speed:1.8,price:27e4,diamonds:!1},{level:54,chapter:6,time:46,speed:1.8,price:285e3,diamonds:!1},{level:55,chapter:6,time:46,speed:1.9,price:700,diamonds:!0},{level:56,chapter:7,time:47,speed:1.9,price:3e5,diamonds:!1},{level:57,chapter:7,time:48,speed:1.9,price:32e4,diamonds:!1},{level:58,chapter:7,time:49,speed:1.9,price:34e4,diamonds:!1},{level:59,chapter:7,time:50,speed:1.9,price:36e4,diamonds:!1},{level:60,chapter:7,time:50,speed:2,price:950,diamonds:!0},{level:61,chapter:7,time:51,speed:2,price:38e4,diamonds:!1},{level:62,chapter:7,time:52,speed:2,price:4e5,diamonds:!1},{level:63,chapter:7,time:53,speed:2,price:42e4,diamonds:!1},{level:64,chapter:7,time:54,speed:2,price:44e4,diamonds:!1},{level:65,chapter:8,time:54,speed:2.1,price:1300,diamonds:!0},{level:66,chapter:8,time:55,speed:2.1,price:5e5,diamonds:!1},{level:67,chapter:8,time:56,speed:2.1,price:53e4,diamonds:!1},{level:68,chapter:8,time:57,speed:2.1,price:56e4,diamonds:!1},{level:69,chapter:8,time:58,speed:2.1,price:59e4,diamonds:!1},{level:70,chapter:8,time:58,speed:2.2,price:1700,diamonds:!0},{level:71,chapter:8,time:59,speed:2.2,price:62e4,diamonds:!1},{level:72,chapter:8,time:60,speed:2.2,price:65e4,diamonds:!1},{level:73,chapter:8,time:61,speed:2.2,price:68e4,diamonds:!1},{level:74,chapter:8,time:62,speed:2.2,price:71e4,diamonds:!1},{level:75,chapter:8,time:62,speed:2.3,price:2150,diamonds:!0},{level:76,chapter:8,time:63,speed:2.3,price:75e4,diamonds:!1},{level:77,chapter:8,time:64,speed:2.3,price:8e5,diamonds:!1},{level:78,chapter:8,time:65,speed:2.3,price:85e4,diamonds:!1},{level:79,chapter:8,time:66,speed:2.3,price:9e5,diamonds:!1},{level:80,chapter:8,time:66,speed:2.4,price:2650,diamonds:!1},{level:81,chapter:8,time:67,speed:2.4,price:95e4,diamonds:!1},{level:82,chapter:8,time:68,speed:2.4,price:1e6,diamonds:!1},{level:83,chapter:8,time:69,speed:2.4,price:105e4,diamonds:!1},{level:84,chapter:8,time:70,speed:2.4,price:11e5,diamonds:!1},{level:85,chapter:8,time:70,speed:2.5,price:3200,diamonds:!0},{level:86,chapter:8,time:71,speed:2.5,price:115e4,diamonds:!1},{level:87,chapter:8,time:72,speed:2.5,price:12e5,diamonds:!1},{level:88,chapter:8,time:73,speed:2.5,price:125e4,diamonds:!1},{level:89,chapter:8,time:74,speed:2.5,price:13e5,diamonds:!1},{level:90,chapter:8,time:74,speed:2.6,price:3800,diamonds:!0},{level:91,chapter:8,time:75,speed:2.6,price:135e4,diamonds:!1},{level:92,chapter:8,time:76,speed:2.6,price:14e5,diamonds:!1},{level:93,chapter:8,time:77,speed:2.6,price:145e4,diamonds:!1},{level:94,chapter:8,time:78,speed:2.6,price:15e5,diamonds:!1},{level:95,chapter:8,time:78,speed:2.7,price:4400,diamonds:!0},{level:96,chapter:8,time:79,speed:2.7,price:155e4,diamonds:!1},{level:97,chapter:8,time:80,speed:2.7,price:16e5,diamonds:!1},{level:98,chapter:8,time:81,speed:2.7,price:165e4,diamonds:!1},{level:99,chapter:8,time:82,speed:2.7,price:17e5,diamonds:!1},{level:100,chapter:8,time:82,speed:2.8,price:5e3,diamonds:!0}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unicornSettings=t.testCowSettings=t.testChickenSettings=t.testSheepSettings=t.testGeneral=void 0;t.testGeneral={autoSaveSpeed:15,maxMerginTime:30,herdBoostSpeedAnimal:150,herdBoostTime:10,herdBoostPrice:20,herdBoostDelay:300,packages:[{id:1,active:!0,price:75,voices:11,diamonds:225,bonus:25,stock:10,top:!1,dollars:.99},{id:2,active:!0,price:200,voices:29,diamonds:600,bonus:150,stock:20,top:!1,dollars:2.49},{id:3,active:!0,price:500,voices:72,diamonds:1500,bonus:500,stock:25,top:!0,dollars:5.99},{id:4,active:!0,price:1500,voices:215,diamonds:4900,bonus:2600,stock:40,top:!1,dollars:16.99},{id:5,active:!0,price:37,voices:5,diamonds:225,bonus:25,stock:20,top:!1,dollars:.49},{id:6,active:!0,price:100,voices:14,diamonds:600,bonus:150,stock:40,top:!1,dollars:1.29},{id:7,active:!0,price:250,voices:36,diamonds:1500,bonus:500,stock:50,top:!0,dollars:3.29},{id:8,active:!0,price:750,voices:107,diamonds:4900,bonus:2600,stock:80,top:!1,dollars:8.49},{id:9,active:!0,price:75,voices:11,diamonds:450,bonus:50,stock:20,top:!1,dollars:.99},{id:10,active:!0,price:200,voices:29,diamonds:1200,bonus:300,stock:40,top:!1,dollars:2.49},{id:11,active:!0,price:500,voices:72,diamonds:3e3,bonus:1e3,stock:50,top:!0,dollars:5.99},{id:12,active:!0,price:1500,voices:215,diamonds:9800,bonus:5200,stock:80,top:!1,dollars:16.99}]};t.testSheepSettings={buyBetterBreedSheep:2,feedBoostPrice:20,sheepBadPercent:30,sheepDiamondsTime:14400,sheepPrice:100,"doubledСollectorPrice":25,collectorPrice4:85,collectorPrice12:220,unlockCollector4:5,unlockCollector12:8,sheepFairLevels:[{level:1,price_m:0,price_d:0,part_unlock:0},{level:2,price_m:5e3,price_d:0,part_unlock:0},{level:3,price_m:25e3,price_d:0,part_unlock:3},{level:4,price_m:15e4,price_d:0,part_unlock:4},{level:5,price_m:8e5,price_d:0,part_unlock:5},{level:6,price_m:4e6,price_d:0,part_unlock:6},{level:7,price_m:12e6,price_d:0,part_unlock:8},{level:8,price_m:276e5,price_d:0,part_unlock:10},{level:9,price_m:624e5,price_d:0,part_unlock:12},{level:10,price_m:14e7,price_d:0,part_unlock:14},{level:11,price_m:309e6,price_d:0,part_unlock:16},{level:12,price_m:68e7,price_d:0,part_unlock:18}],sheepParts:[{sort:1,award:0,improve_territory_2:1e3,improve_territory_3:3e3,improve_territory_4:6e3,exchange:1e3},{sort:2,award:0,improve_territory_2:7e3,improve_territory_3:13e3,improve_territory_4:26e3,exchange:1900},{sort:3,award:0,improve_territory_2:17e3,improve_territory_3:33500,improve_territory_4:66500,exchange:3700},{sort:4,award:0,improve_territory_2:27e3,improve_territory_3:54e3,improve_territory_4:107e3,exchange:7200},{sort:5,award:0,improve_territory_2:126e3,improve_territory_3:253e3,improve_territory_4:506e3,exchange:14e3},{sort:6,award:0,improve_territory_2:495e3,improve_territory_3:989e3,improve_territory_4:1979e3,exchange:27e3},{sort:7,award:0,improve_territory_2:1051500,improve_territory_3:2102500,improve_territory_4:4205500,exchange:51e3},{sort:8,award:0,improve_territory_2:1608e3,improve_territory_3:3216e3,improve_territory_4:6432e3,exchange:96e3},{sort:9,award:0,improve_territory_2:4082e3,improve_territory_3:8163e3,improve_territory_4:16327e3,exchange:18e4},{sort:10,award:0,improve_territory_2:10177e3,improve_territory_3:20354e3,improve_territory_4:40708e3,exchange:33e4},{sort:11,award:0,improve_territory_2:176e5,improve_territory_3:35200500,improve_territory_4:70401e3,exchange:6e5},{sort:12,award:0,improve_territory_2:25023e3,improve_territory_3:50047e3,improve_territory_4:100094e3,exchange:1075200},{sort:13,award:0,improve_territory_2:60846e3,improve_territory_3:121693e3,improve_territory_4:243385e3,exchange:19e5},{sort:14,award:0,improve_territory_2:146611e3,improve_territory_3:293222e3,improve_territory_4:586443e3,exchange:335e4},{sort:15,award:0,improve_territory_2:248601e3,improve_territory_3:497202e3,improve_territory_4:994403500,exchange:6e6},{sort:16,award:0,improve_territory_2:350591e3,improve_territory_3:701182e3,improve_territory_4:1402364e3,exchange:12e6}],sheepSettings:[{breed:1,long_wool:100,wool_growth:250,eating:8,drinking:2},{breed:2,long_wool:200,wool_growth:150,eating:10,drinking:2},{breed:3,long_wool:400,wool_growth:100,eating:12,drinking:3},{breed:4,long_wool:800,wool_growth:100,eating:13,drinking:3},{breed:5,long_wool:1600,wool_growth:100,eating:14,drinking:3},{breed:6,long_wool:3200,wool_growth:100,eating:16,drinking:3},{breed:7,long_wool:6400,wool_growth:100,eating:18,drinking:4},{breed:8,long_wool:12800,wool_growth:100,eating:20,drinking:4},{breed:9,long_wool:25600,wool_growth:100,eating:24,drinking:5},{breed:10,long_wool:51200,wool_growth:100,eating:28,drinking:5},{breed:11,long_wool:102400,wool_growth:100,eating:32,drinking:6},{breed:12,long_wool:204800,wool_growth:100,eating:36,drinking:7}],territoriesSheepPrice:[{block:1,position:1,unlockCooldown:0,price:0,unlock:1},{block:1,position:2,unlockCooldown:0,price:0,unlock:1},{block:1,position:3,unlockCooldown:0,price:0,unlock:1},{block:2,position:1,unlockCooldown:0,price:1667,unlock:1},{block:2,position:2,unlockCooldown:0,price:0,unlock:1},{block:2,position:3,unlockCooldown:0,price:0,unlock:1},{block:3,position:1,unlockCooldown:60,price:36e3,unlock:4},{block:3,position:2,unlockCooldown:30,price:7e3,unlock:3},{block:3,position:3,unlockCooldown:10,price:2e3,unlock:2},{block:4,position:1,unlockCooldown:1800,price:407e3,unlock:7},{block:4,position:2,unlockCooldown:900,price:132e3,unlock:6},{block:4,position:3,unlockCooldown:300,price:132e3,unlock:5},{block:5,position:1,unlockCooldown:5400,price:3092e3,unlock:10},{block:5,position:2,unlockCooldown:3600,price:115e4,unlock:9},{block:5,position:3,unlockCooldown:2700,price:115e4,unlock:8},{block:6,position:1,unlockCooldown:14400,price:50885e3,unlock:13},{block:6,position:2,unlockCooldown:10800,price:20408e3,unlock:12},{block:6,position:3,unlockCooldown:7200,price:20408e3,unlock:11},{block:7,position:1,unlockCooldown:57600,price:304232e3,unlock:16},{block:7,position:2,unlockCooldown:28800,price:304232e3,unlock:15},{block:7,position:3,unlockCooldown:21600,price:125117e3,unlock:14},{block:8,position:1,unlockCooldown:86400,price:1752955e3,unlock:19},{block:8,position:2,unlockCooldown:86400,price:1752955e3,unlock:18},{block:8,position:3,unlockCooldown:86400,price:733054e3,unlock:17}],territoriesSheepSettings:[{improve:1,regeneration:11,unlock_improve:1,storage:200,improvePastureMoneyPrice:0,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:2,regeneration:13,unlock_improve:2,storage:300,improvePastureMoneyPrice:100,improveStorageMoneyPrice:100,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:3,regeneration:15,unlock_improve:2,storage:400,improvePastureMoneyPrice:400,improveStorageMoneyPrice:400,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:4,regeneration:17,unlock_improve:2,storage:500,improvePastureMoneyPrice:1500,improveStorageMoneyPrice:1500,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:5,regeneration:19,unlock_improve:2,storage:600,improvePastureMoneyPrice:5e3,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:10},{improve:6,regeneration:22,unlock_improve:3,storage:700,improvePastureMoneyPrice:1e4,improveStorageMoneyPrice:1e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:7,regeneration:23,unlock_improve:3,storage:800,improvePastureMoneyPrice:23e3,improveStorageMoneyPrice:23e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:8,regeneration:24,unlock_improve:4,storage:900,improvePastureMoneyPrice:5e4,improveStorageMoneyPrice:5e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:9,regeneration:25,unlock_improve:4,storage:1e3,improvePastureMoneyPrice:7e4,improveStorageMoneyPrice:7e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:10,regeneration:27,unlock_improve:5,storage:1100,improvePastureMoneyPrice:1e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:40},{improve:11,regeneration:29,unlock_improve:6,storage:1200,improvePastureMoneyPrice:402e3,improveStorageMoneyPrice:402e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:12,regeneration:31,unlock_improve:6,storage:1300,improvePastureMoneyPrice:123e4,improveStorageMoneyPrice:123e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:13,regeneration:33,unlock_improve:7,storage:1500,improvePastureMoneyPrice:14e5,improveStorageMoneyPrice:14e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:14,regeneration:34,unlock_improve:7,storage:1800,improvePastureMoneyPrice:16e5,improveStorageMoneyPrice:16e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:15,regeneration:35,unlock_improve:8,storage:2100,improvePastureMoneyPrice:18e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:90},{improve:16,regeneration:36,unlock_improve:9,storage:2400,improvePastureMoneyPrice:36e5,improveStorageMoneyPrice:36e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:17,regeneration:38,unlock_improve:10,storage:2700,improvePastureMoneyPrice:72e5,improveStorageMoneyPrice:72e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:18,regeneration:40,unlock_improve:11,storage:3e3,improvePastureMoneyPrice:144e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:140},{improve:19,regeneration:42,unlock_improve:12,storage:3400,improvePastureMoneyPrice:288e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:180},{improve:20,regeneration:44,unlock_improve:13,storage:4e3,improvePastureMoneyPrice:576e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:300}]};t.testChickenSettings={buyBetterBreedChicken:2,feedBoostPrice:20,chickenBadPercent:40,chickenDiamondsTime:14400,chickenPrice:100,"doubledСollectorPrice":25,collectorPrice4:85,collectorPrice12:220,unlockCollector4:5,unlockCollector12:8,chickenFairLevels:[{level:1,price_m:0,price_d:0,part_unlock:1},{level:2,price_m:5e3,price_d:0,part_unlock:2},{level:3,price_m:25e3,price_d:0,part_unlock:4},{level:4,price_m:15e4,price_d:0,part_unlock:7},{level:5,price_m:8e5,price_d:0,part_unlock:9},{level:6,price_m:4e6,price_d:0,part_unlock:10},{level:7,price_m:12e6,price_d:0,part_unlock:11},{level:8,price_m:276e5,price_d:0,part_unlock:12},{level:9,price_m:624e5,price_d:0,part_unlock:13},{level:10,price_m:14e7,price_d:0,part_unlock:14},{level:11,price_m:309e6,price_d:0,part_unlock:15},{level:12,price_m:68e7,price_d:0,part_unlock:16}],chickenParts:[{sort:1,award:0,improve_territory_2:1e3,improve_territory_3:3e3,improve_territory_4:6e3,exchange:1e3},{sort:2,award:0,improve_territory_2:7e3,improve_territory_3:13e3,improve_territory_4:26e3,exchange:1900},{sort:3,award:0,improve_territory_2:17e3,improve_territory_3:33500,improve_territory_4:66500,exchange:3700},{sort:4,award:0,improve_territory_2:27e3,improve_territory_3:54e3,improve_territory_4:107e3,exchange:7200},{sort:5,award:0,improve_territory_2:126e3,improve_territory_3:253e3,improve_territory_4:506e3,exchange:14e3},{sort:6,award:0,improve_territory_2:495e3,improve_territory_3:989e3,improve_territory_4:1979e3,exchange:27e3},{sort:7,award:0,improve_territory_2:1051500,improve_territory_3:2102500,improve_territory_4:4205500,exchange:51e3},{sort:8,award:0,improve_territory_2:1608e3,improve_territory_3:3216e3,improve_territory_4:6432e3,exchange:96e3},{sort:9,award:0,improve_territory_2:4082e3,improve_territory_3:8163e3,improve_territory_4:16327e3,exchange:18e4},{sort:10,award:0,improve_territory_2:10177e3,improve_territory_3:20354e3,improve_territory_4:40708e3,exchange:33e4},{sort:11,award:0,improve_territory_2:176e5,improve_territory_3:35200500,improve_territory_4:70401e3,exchange:6e5},{sort:12,award:0,improve_territory_2:25023e3,improve_territory_3:50047e3,improve_territory_4:100094e3,exchange:1075200},{sort:13,award:0,improve_territory_2:60846e3,improve_territory_3:121693e3,improve_territory_4:243385e3,exchange:19e5},{sort:14,award:0,improve_territory_2:146611e3,improve_territory_3:293222e3,improve_territory_4:586443e3,exchange:335e4},{sort:15,award:0,improve_territory_2:248601e3,improve_territory_3:497202e3,improve_territory_4:994403500,exchange:6e6},{sort:16,award:0,improve_territory_2:350591e3,improve_territory_3:701182e3,improve_territory_4:1402364e3,exchange:12e6}],chickenSettings:[{breed:1,drinking:2,eating:8,egg:250,eggPrice:100},{breed:2,drinking:2,eating:10,egg:150,eggPrice:200},{breed:3,drinking:3,eating:12,egg:100,eggPrice:400},{breed:4,drinking:3,eating:13,egg:100,eggPrice:800},{breed:5,drinking:3,eating:14,egg:100,eggPrice:1600},{breed:6,drinking:3,eating:16,egg:100,eggPrice:3200},{breed:7,drinking:4,eating:18,egg:100,eggPrice:6400},{breed:8,drinking:4,eating:20,egg:100,eggPrice:12800},{breed:9,drinking:5,eating:24,egg:100,eggPrice:25600},{breed:10,drinking:5,eating:28,egg:100,eggPrice:51200},{breed:11,drinking:6,eating:32,egg:100,eggPrice:102400},{breed:12,drinking:7,eating:36,egg:100,eggPrice:204800}],territoriesChickenPrice:[{block:1,position:1,unlockCooldown:0,price:0,unlock:1},{block:1,position:2,unlockCooldown:0,price:0,unlock:1},{block:1,position:3,unlockCooldown:0,price:0,unlock:1},{block:2,position:1,unlockCooldown:0,price:2e3,unlock:2},{block:2,position:2,unlockCooldown:0,price:50,unlock:1},{block:2,position:3,unlockCooldown:0,price:0,unlock:1},{block:3,position:1,unlockCooldown:900,price:36e3,unlock:4},{block:3,position:2,unlockCooldown:60,price:24e3,unlock:3},{block:3,position:3,unlockCooldown:10,price:2e3,unlock:2},{block:4,position:1,unlockCooldown:7200,price:407e3,unlock:7},{block:4,position:2,unlockCooldown:3600,price:132e3,unlock:6},{block:4,position:3,unlockCooldown:1800,price:132e3,unlock:5},{block:5,position:1,unlockCooldown:18e3,price:3092e3,unlock:10},{block:5,position:2,unlockCooldown:14400,price:115e4,unlock:9},{block:5,position:3,unlockCooldown:10800,price:115e4,unlock:8},{block:6,position:1,unlockCooldown:43200,price:50885e3,unlock:13},{block:6,position:2,unlockCooldown:32400,price:20408e3,unlock:12},{block:6,position:3,unlockCooldown:21600,price:20408e3,unlock:11},{block:7,position:1,unlockCooldown:172800,price:304232e3,unlock:16},{block:7,position:2,unlockCooldown:86400,price:304232e3,unlock:15},{block:7,position:3,unlockCooldown:43200,price:125117e3,unlock:14},{block:8,position:1,unlockCooldown:259200,price:1752955e3,unlock:19},{block:8,position:2,unlockCooldown:259200,price:1752955e3,unlock:18},{block:8,position:3,unlockCooldown:259200,price:733054e3,unlock:17}],territoriesChickenSettings:[{improve:1,regeneration:11,unlock_improve:1,storage:200,improvePastureMoneyPrice:0,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:2,regeneration:13,unlock_improve:2,storage:300,improvePastureMoneyPrice:100,improveStorageMoneyPrice:100,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:3,regeneration:15,unlock_improve:2,storage:400,improvePastureMoneyPrice:400,improveStorageMoneyPrice:400,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:4,regeneration:17,unlock_improve:2,storage:500,improvePastureMoneyPrice:1500,improveStorageMoneyPrice:1500,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:5,regeneration:19,unlock_improve:2,storage:600,improvePastureMoneyPrice:5e3,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:25,countEggs:5},{improve:6,regeneration:22,unlock_improve:3,storage:700,improvePastureMoneyPrice:1e4,improveStorageMoneyPrice:1e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:7,regeneration:23,unlock_improve:3,storage:800,improvePastureMoneyPrice:23e3,improveStorageMoneyPrice:23e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:8,regeneration:24,unlock_improve:4,storage:900,improvePastureMoneyPrice:5e4,improveStorageMoneyPrice:5e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:9,regeneration:25,unlock_improve:4,storage:1e3,improvePastureMoneyPrice:7e4,improveStorageMoneyPrice:7e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:10,regeneration:27,unlock_improve:5,storage:1100,improvePastureMoneyPrice:1e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:100,countEggs:5},{improve:11,regeneration:29,unlock_improve:6,storage:1200,improvePastureMoneyPrice:402e3,improveStorageMoneyPrice:402e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:12,regeneration:31,unlock_improve:6,storage:1300,improvePastureMoneyPrice:123e4,improveStorageMoneyPrice:123e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:13,regeneration:33,unlock_improve:7,storage:1500,improvePastureMoneyPrice:14e5,improveStorageMoneyPrice:14e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:14,regeneration:34,unlock_improve:7,storage:1800,improvePastureMoneyPrice:16e5,improveStorageMoneyPrice:16e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:15,regeneration:35,unlock_improve:8,storage:2100,improvePastureMoneyPrice:18e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:225,countEggs:5},{improve:16,regeneration:36,unlock_improve:9,storage:2400,improvePastureMoneyPrice:36e5,improveStorageMoneyPrice:36e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:17,regeneration:38,unlock_improve:10,storage:2700,improvePastureMoneyPrice:72e5,improveStorageMoneyPrice:72e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0,countEggs:5},{improve:18,regeneration:40,unlock_improve:11,storage:3e3,improvePastureMoneyPrice:144e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:350,countEggs:5},{improve:19,regeneration:42,unlock_improve:12,storage:3400,improvePastureMoneyPrice:288e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:450,countEggs:5},{improve:20,regeneration:44,unlock_improve:13,storage:4e3,improvePastureMoneyPrice:576e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:750,countEggs:5}]};t.testCowSettings={buyBetterBreedCow:2,feedBoostPrice:20,cowBadPercent:40,cowDiamondsTime:14400,cowPrice:100,"doubledСollectorPrice":25,collectorPrice4:85,collectorPrice12:220,unlockCollector4:5,unlockCollector12:8,storageMultiply:2,cowFactorySettings:[{improve:1,unlock_improve:1,improveMoneyPrice:0,improveDiamondPrice:1,processingTime:15,lotSize:500,production1Percent:40,production2Percent:0,production3Percent:0,production4Percent:100,efficiency:20},{improve:2,unlock_improve:2,improveMoneyPrice:0,improveDiamondPrice:1,processingTime:30,lotSize:2e3,production1Percent:40,production2Percent:30,production3Percent:0,production4Percent:100,efficiency:35},{improve:3,unlock_improve:3,improveMoneyPrice:0,improveDiamondPrice:2,processingTime:30,lotSize:5e3,production1Percent:30,production2Percent:40,production3Percent:0,production4Percent:100,efficiency:40},{improve:4,unlock_improve:4,improveMoneyPrice:0,improveDiamondPrice:2,processingTime:30,lotSize:15e3,production1Percent:30,production2Percent:45,production3Percent:0,production4Percent:100,efficiency:45},{improve:5,unlock_improve:5,improveMoneyPrice:0,improveDiamondPrice:3,processingTime:60,lotSize:66e3,production1Percent:35,production2Percent:45,production3Percent:20,production4Percent:100,efficiency:60},{improve:6,unlock_improve:6,improveMoneyPrice:0,improveDiamondPrice:3,processingTime:60,lotSize:187200,production1Percent:35,production2Percent:45,production3Percent:20,production4Percent:100,efficiency:62},{improve:7,unlock_improve:7,improveMoneyPrice:0,improveDiamondPrice:4,processingTime:60,lotSize:576e3,production1Percent:25,production2Percent:43,production3Percent:32,production4Percent:100,efficiency:65},{improve:8,unlock_improve:8,improveMoneyPrice:0,improveDiamondPrice:4,processingTime:60,lotSize:734400,production1Percent:25,production2Percent:43,production3Percent:32,production4Percent:100,efficiency:67},{improve:9,unlock_improve:9,improveMoneyPrice:0,improveDiamondPrice:5,processingTime:60,lotSize:2006400,production1Percent:25,production2Percent:43,production3Percent:32,production4Percent:100,efficiency:69},{improve:10,unlock_improve:10,improveMoneyPrice:0,improveDiamondPrice:5,processingTime:120,lotSize:2217600,production1Percent:25,production2Percent:43,production3Percent:32,production4Percent:100,efficiency:72},{improve:11,unlock_improve:11,improveMoneyPrice:0,improveDiamondPrice:6,processingTime:120,lotSize:5740800,production1Percent:25,production2Percent:45,production3Percent:35,production4Percent:100,efficiency:75},{improve:12,unlock_improve:12,improveMoneyPrice:0,improveDiamondPrice:6,processingTime:120,lotSize:624e4,production1Percent:20,production2Percent:50,production3Percent:30,production4Percent:100,efficiency:78},{improve:13,unlock_improve:13,improveMoneyPrice:0,improveDiamondPrice:7,processingTime:120,lotSize:15552e3,production1Percent:20,production2Percent:50,production3Percent:30,production4Percent:100,efficiency:80},{improve:14,unlock_improve:14,improveMoneyPrice:0,improveDiamondPrice:7,processingTime:120,lotSize:16704e3,production1Percent:20,production2Percent:50,production3Percent:30,production4Percent:100,efficiency:82},{improve:15,unlock_improve:15,improveMoneyPrice:0,improveDiamondPrice:8,processingTime:180,lotSize:78336e3,production1Percent:20,production2Percent:35,production3Percent:45,production4Percent:100,efficiency:85},{improve:16,unlock_improve:16,improveMoneyPrice:0,improveDiamondPrice:8,processingTime:180,lotSize:80947200,production1Percent:20,production2Percent:35,production3Percent:45,production4Percent:100,efficiency:88},{improve:17,unlock_improve:17,improveMoneyPrice:0,improveDiamondPrice:9,processingTime:180,lotSize:186777600,production1Percent:20,production2Percent:35,production3Percent:45,production4Percent:100,efficiency:90},{improve:18,unlock_improve:18,improveMoneyPrice:0,improveDiamondPrice:9,processingTime:300,lotSize:192614400,production1Percent:5,production2Percent:30,production3Percent:65,production4Percent:100,efficiency:94},{improve:19,unlock_improve:19,improveMoneyPrice:0,improveDiamondPrice:10,processingTime:300,lotSize:438681600,production1Percent:5,production2Percent:30,production3Percent:65,production4Percent:100,efficiency:97},{improve:20,unlock_improve:20,improveMoneyPrice:0,improveDiamondPrice:10,processingTime:300,lotSize:494592e3,production1Percent:5,production2Percent:30,production3Percent:65,production4Percent:100,efficiency:100}],cowFairLevels:[{level:1,price_m:0,price_d:0,part_unlock:1},{level:2,price_m:5e3,price_d:0,part_unlock:2},{level:3,price_m:25e3,price_d:0,part_unlock:4},{level:4,price_m:15e4,price_d:0,part_unlock:7},{level:5,price_m:8e5,price_d:0,part_unlock:9},{level:6,price_m:4e6,price_d:0,part_unlock:10},{level:7,price_m:12e6,price_d:0,part_unlock:11},{level:8,price_m:276e5,price_d:0,part_unlock:12},{level:9,price_m:624e5,price_d:0,part_unlock:13},{level:10,price_m:14e7,price_d:0,part_unlock:14},{level:11,price_m:309e6,price_d:0,part_unlock:15},{level:12,price_m:68e7,price_d:0,part_unlock:16}],cowParts:[{sort:1,award:0,improve_territory_2:1e3,improve_territory_3:3e3,improve_territory_4:6e3,exchange:1e3},{sort:2,award:0,improve_territory_2:7e3,improve_territory_3:13e3,improve_territory_4:26e3,exchange:1900},{sort:3,award:0,improve_territory_2:17e3,improve_territory_3:33500,improve_territory_4:66500,exchange:3700},{sort:4,award:0,improve_territory_2:27e3,improve_territory_3:54e3,improve_territory_4:107e3,exchange:7200},{sort:5,award:0,improve_territory_2:126e3,improve_territory_3:253e3,improve_territory_4:506e3,exchange:14e3},{sort:6,award:0,improve_territory_2:495e3,improve_territory_3:989e3,improve_territory_4:1979e3,exchange:27e3},{sort:7,award:0,improve_territory_2:1051500,improve_territory_3:2102500,improve_territory_4:4205500,exchange:51e3},{sort:8,award:0,improve_territory_2:1608e3,improve_territory_3:3216e3,improve_territory_4:6432e3,exchange:96e3},{sort:9,award:0,improve_territory_2:4082e3,improve_territory_3:8163e3,improve_territory_4:16327e3,exchange:18e4},{sort:10,award:0,improve_territory_2:10177e3,improve_territory_3:20354e3,improve_territory_4:40708e3,exchange:33e4},{sort:11,award:0,improve_territory_2:176e5,improve_territory_3:35200500,improve_territory_4:70401e3,exchange:6e5},{sort:12,award:0,improve_territory_2:25023e3,improve_territory_3:50047e3,improve_territory_4:100094e3,exchange:1075200},{sort:13,award:0,improve_territory_2:60846e3,improve_territory_3:121693e3,improve_territory_4:243385e3,exchange:19e5},{sort:14,award:0,improve_territory_2:146611e3,improve_territory_3:293222e3,improve_territory_4:586443e3,exchange:335e4},{sort:15,award:0,improve_territory_2:248601e3,improve_territory_3:497202e3,improve_territory_4:994403500,exchange:6e6},{sort:16,award:0,improve_territory_2:350591e3,improve_territory_3:701182e3,improve_territory_4:1402364e3,exchange:12e6}],cowSettings:[{breed:1,drinking:2,eating:8,maxMilkVolume:100},{breed:2,drinking:2,eating:10,maxMilkVolume:200},{breed:3,drinking:3,eating:12,maxMilkVolume:400},{breed:4,drinking:3,eating:12,maxMilkVolume:800},{breed:5,drinking:3,eating:14,maxMilkVolume:1600},{breed:6,drinking:3,eating:16,maxMilkVolume:3200},{breed:7,drinking:4,eating:18,maxMilkVolume:6400},{breed:8,drinking:4,eating:20,maxMilkVolume:12800},{breed:9,drinking:5,eating:24,maxMilkVolume:25600},{breed:10,drinking:5,eating:28,maxMilkVolume:51200},{breed:11,drinking:6,eating:32,maxMilkVolume:102400},{breed:12,drinking:7,eating:36,maxMilkVolume:204800}],territoriesCowPrice:[{block:1,position:1,unlockCooldown:0,price:0,unlock:1},{block:1,position:2,unlockCooldown:0,price:0,unlock:1},{block:1,position:3,unlockCooldown:0,price:0,unlock:1},{block:2,position:1,unlockCooldown:0,price:0,unlock:1},{block:2,position:2,unlockCooldown:0,price:0,unlock:1},{block:2,position:3,unlockCooldown:0,price:0,unlock:1},{block:3,position:1,unlockCooldown:10,price:0,unlock:2},{block:3,position:2,unlockCooldown:0,price:0,unlock:1},{block:3,position:3,unlockCooldown:0,price:0,unlock:1},{block:4,position:1,unlockCooldown:7200,price:407e3,unlock:7},{block:4,position:2,unlockCooldown:3600,price:132e3,unlock:6},{block:4,position:3,unlockCooldown:1800,price:132e3,unlock:5},{block:5,position:1,unlockCooldown:18e3,price:3092e3,unlock:10},{block:5,position:2,unlockCooldown:14400,price:115e4,unlock:9},{block:5,position:3,unlockCooldown:10800,price:115e4,unlock:8},{block:6,position:1,unlockCooldown:43200,price:50885e3,unlock:13},{block:6,position:2,unlockCooldown:32400,price:20408e3,unlock:12},{block:6,position:3,unlockCooldown:21600,price:20408e3,unlock:11},{block:7,position:1,unlockCooldown:172800,price:304232e3,unlock:16},{block:7,position:2,unlockCooldown:86400,price:304232e3,unlock:15},{block:7,position:3,unlockCooldown:43200,price:125117e3,unlock:14},{block:8,position:1,unlockCooldown:259200,price:1752955e3,unlock:19},{block:8,position:2,unlockCooldown:259200,price:1752955e3,unlock:18},{block:8,position:3,unlockCooldown:259200,price:733054e3,unlock:17}],territoriesCowSettings:[{improve:1,regeneration:11,unlock_improve:1,storage:12e4,improvePastureMoneyPrice:0,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:2,regeneration:13,unlock_improve:2,storage:24e4,improvePastureMoneyPrice:100,improveStorageMoneyPrice:100,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:3,regeneration:15,unlock_improve:2,storage:48e4,improvePastureMoneyPrice:400,improveStorageMoneyPrice:400,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:4,regeneration:17,unlock_improve:2,storage:72e4,improvePastureMoneyPrice:1500,improveStorageMoneyPrice:1500,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:5,regeneration:19,unlock_improve:2,storage:144e4,improvePastureMoneyPrice:5e3,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:50},{improve:6,regeneration:22,unlock_improve:3,storage:336e4,improvePastureMoneyPrice:1e4,improveStorageMoneyPrice:1e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:7,regeneration:23,unlock_improve:3,storage:432e4,improvePastureMoneyPrice:23e3,improveStorageMoneyPrice:23e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:8,regeneration:24,unlock_improve:4,storage:864e4,improvePastureMoneyPrice:5e4,improveStorageMoneyPrice:5e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:9,regeneration:25,unlock_improve:4,storage:1056e4,improvePastureMoneyPrice:7e4,improveStorageMoneyPrice:7e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:10,regeneration:27,unlock_improve:5,storage:2112e4,improvePastureMoneyPrice:1e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:200},{improve:11,regeneration:29,unlock_improve:6,storage:4608e4,improvePastureMoneyPrice:402e3,improveStorageMoneyPrice:402e3,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:12,regeneration:31,unlock_improve:6,storage:576e5,improvePastureMoneyPrice:123e4,improveStorageMoneyPrice:123e4,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:13,regeneration:33,unlock_improve:7,storage:1152e5,improvePastureMoneyPrice:14e5,improveStorageMoneyPrice:14e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:14,regeneration:34,unlock_improve:7,storage:16128e4,improvePastureMoneyPrice:16e5,improveStorageMoneyPrice:16e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:15,regeneration:35,unlock_improve:8,storage:32256e4,improvePastureMoneyPrice:18e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:450},{improve:16,regeneration:36,unlock_improve:9,storage:73728e4,improvePastureMoneyPrice:36e5,improveStorageMoneyPrice:36e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:17,regeneration:38,unlock_improve:10,storage:9216e5,improvePastureMoneyPrice:72e5,improveStorageMoneyPrice:72e5,improvePastureDiamondPrice:0,improveStorageDiamondPrice:0},{improve:18,regeneration:40,unlock_improve:11,storage:18432e5,improvePastureMoneyPrice:144e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:700},{improve:19,regeneration:42,unlock_improve:12,storage:24576e5,improvePastureMoneyPrice:288e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:900},{improve:20,regeneration:44,unlock_improve:13,storage:49152e5,improvePastureMoneyPrice:576e5,improveStorageMoneyPrice:0,improvePastureDiamondPrice:0,improveStorageDiamondPrice:1500}]};t.unicornSettings={buyBetterBreedAnimal:2,"doubledСollectorPrice":25,feedBoostPrice:20,collectorPrice4:90,collectorPrice12:250,unlockCollector4:5,unlockCollector12:8,priceCoefficient:7,unicornSettings:[{breed:1,resource:100,resourcePrice:"10",price:"100",exchange:"1000"},{breed:2,resource:100,resourcePrice:"20",price:"1500",exchange:"2800"},{breed:3,resource:100,resourcePrice:"40",price:"4800",exchange:"7200"},{breed:4,resource:100,resourcePrice:"90",price:"15000",exchange:"17600"},{breed:5,resource:100,resourcePrice:"190",price:"48000",exchange:"41600"},{breed:6,resource:100,resourcePrice:"400",price:"150000",exchange:"96000"},{breed:7,resource:100,resourcePrice:"850",price:"480000",exchange:"217600"},{breed:8,resource:100,resourcePrice:"1780",price:"1500000",exchange:"486600"},{breed:9,resource:100,resourcePrice:"3750",price:"4800000",exchange:"1075200"},{breed:10,resource:100,resourcePrice:"7900",price:"15000000",exchange:"2355200"},{breed:11,resource:100,resourcePrice:"16000",price:"48000000",exchange:"5120000"},{breed:12,resource:100,resourcePrice:"73000",price:"480000000",exchange:"12000000"},{breed:13,resource:100,resourcePrice:"34000",price:"150000000",exchange:"24000000"},{breed:14,resource:100,resourcePrice:"150000",price:"1500000000",exchange:"48000000"},{breed:15,resource:100,resourcePrice:"320000",price:"4800000000",exchange:"96000000"},{breed:16,resource:100,resourcePrice:"670000",price:"15000000000",exchange:"192000000"},{breed:17,resource:100,resourcePrice:"1400000",price:"48000000000",exchange:"384000000"},{breed:18,resource:100,resourcePrice:"2900000",price:"150000000000",exchange:"768000000"},{breed:19,resource:100,resourcePrice:"6200000",price:"480000000000",exchange:"1536000000"},{breed:20,resource:100,resourcePrice:"13000000",price:"1500000000000",exchange:"3072000000"},{breed:21,resource:100,resourcePrice:"25000000",price:"4800000000000",exchange:"6144000000"},{breed:22,resource:100,resourcePrice:"50200000",price:"15000000000000",exchange:"12288000000"},{breed:23,resource:100,resourcePrice:"100300000",price:"48000000000000",exchange:"24576000000"},{breed:24,resource:100,resourcePrice:"200000000",price:"150000000000000",exchange:"49152000000"},{breed:25,resource:100,resourcePrice:"400000000",price:"480000000000000",exchange:"98304000000"},{breed:26,resource:100,resourcePrice:"800000000",price:"1500000000000000",exchange:"196608000000"},{breed:27,resource:100,resourcePrice:"1600000000",price:"4800000000000000",exchange:"393216000000"},{breed:28,resource:100,resourcePrice:"3200000000",price:"15000000000000000",exchange:"786432000000"},{breed:29,resource:100,resourcePrice:"6400000000",price:"48000000000000000",exchange:"1572864000000"},{breed:30,resource:100,resourcePrice:"12800000000",price:"150000000000000000",exchange:"3145728000000"},{breed:31,resource:100,resourcePrice:"25600000000",price:"480000000000000000",exchange:"6291456000000"},{breed:32,resource:100,resourcePrice:"51200000000",price:"1500000000000000000",exchange:"12582912000000"},{breed:33,resource:100,resourcePrice:"102400000000",price:"4800000000000000000",exchange:"25165824000000"},{breed:34,resource:100,resourcePrice:"204800000000",price:"15000000000000000000",exchange:"50331648000000"},{breed:35,resource:100,resourcePrice:"409600000000",price:"48000000000000000000",exchange:"100663296000000"},{breed:36,resource:100,resourcePrice:"819200000000",price:"150000000000000000000",exchange:"201326592000000"},{breed:37,resource:100,resourcePrice:"1638400000000",price:"480000000000000000000",exchange:"402653184000000"},{breed:38,resource:100,resourcePrice:"3276800000000",price:"1500000000000000000000",exchange:"805306368000000"},{breed:39,resource:100,resourcePrice:"6553600000000",price:"4800000000000000000000",exchange:"1610612736000000"},{breed:40,resource:100,resourcePrice:"13107200000000",price:"15000000000000000000000",exchange:"3221225472000000"},{breed:41,resource:100,resourcePrice:"26214400000000",price:"48000000000000000000000",exchange:"6442450944000000"},{breed:42,resource:100,resourcePrice:"52428800000000",price:"150000000000000000000000",exchange:"12884901888000000"},{breed:43,resource:100,resourcePrice:"104857600000000",price:"480000000000000000000000",exchange:"25769803776000000"},{breed:44,resource:100,resourcePrice:"209715200000000",price:"1500000000000000000000000",exchange:"51539607552000000"},{breed:45,resource:100,resourcePrice:"419430400000000",price:"4800000000000000000000000",exchange:"103079215104000000"},{breed:46,resource:100,resourcePrice:"838860800000000",price:"15000000000000000000000000",exchange:"206158430208000000"},{breed:47,resource:100,resourcePrice:"1677721600000000",price:"48000000000000000000000000",exchange:"412316860416000000"},{breed:48,resource:100,resourcePrice:"3355443200000000",price:"150000000000000000000000000",exchange:"824633720832000000"},{breed:49,resource:100,resourcePrice:"6710886400000000",price:"480000000000000000000000000",exchange:"1649267441664000000"},{breed:50,resource:100,resourcePrice:"13421772800000000",price:"1500000000000000000000000000",exchange:"3298534883328000000"},{breed:51,resource:100,resourcePrice:"26843545600000000",price:"4800000000000000000000000000",exchange:"6597069766656000000"},{breed:52,resource:100,resourcePrice:"53687091200000000",price:"15000000000000000000000000000",exchange:"13194139533312000000"},{breed:53,resource:100,resourcePrice:"107374182400000000",price:"48000000000000000000000000000",exchange:"26388279066624000000"},{breed:54,resource:100,resourcePrice:"214748364800000000",price:"150000000000000000000000000000",exchange:"52776558133248000000"},{breed:55,resource:100,resourcePrice:"429496729600000000",price:"480000000000000000000000000000",exchange:"105553116266496000000"},{breed:56,resource:100,resourcePrice:"858993459200000000",price:"1500000000000000000000000000000",exchange:"211106232532992000000"},{breed:57,resource:100,resourcePrice:"1717986918400000000",price:"4800000000000000000000000000000",exchange:"422212465065984000000"},{breed:58,resource:100,resourcePrice:"3435973836800000000",price:"15000000000000000000000000000000",exchange:"844424930131968000000"},{breed:59,resource:100,resourcePrice:"6871947673600000000",price:"48000000000000000000000000000000",exchange:"1688849860263940000000"},{breed:60,resource:100,resourcePrice:"13743895347200000000",price:"150000000000000000000000000000000",exchange:"3377699720527870000000"},{breed:61,resource:100,resourcePrice:"27487790694400000000",price:"4800000000000000000000000000000000",exchange:"6755399441055740000000"},{breed:62,resource:100,resourcePrice:"5497558138880000000",price:"15000000000000000000000000000000000",exchange:"13510798882111500000000"},{breed:63,resource:100,resourcePrice:"10995116277760000000",price:"48000000000000000000000000000000000",exchange:"27021597764223000000000"},{breed:64,resource:100,resourcePrice:"21990232555520000000",price:"150000000000000000000000000000000000",exchange:"54043195528446000000000"},{breed:65,resource:100,resourcePrice:"43980465111040000000",price:"480000000000000000000000000000000000",exchange:"108086391056892000000000"},{breed:66,resource:100,resourcePrice:"87960930222080000000",price:"1500000000000000000000000000000000000",exchange:"216172782113784000000000"},{breed:67,resource:100,resourcePrice:"175921860444160000000",price:"4800000000000000000000000000000000000",exchange:"432345564227568000000000"},{breed:68,resource:100,resourcePrice:"351843720888320000000",price:"15000000000000000000000000000000000000",exchange:"864691128455135000000000"},{breed:69,resource:100,resourcePrice:"703687441776640000000",price:"48000000000000000000000000000000000000",exchange:"1729382256910270000000000"},{breed:70,resource:100,resourcePrice:"1407374883553280000000",price:"150000000000000000000000000000000000000",exchange:"3458764513820540000000000"},{breed:71,resource:100,resourcePrice:"28147497671065600000000",price:"480000000000000000000000000000000000000",exchange:"6917529027641080000000000"},{breed:72,resource:100,resourcePrice:"56294995342131200000000",price:"1500000000000000000000000000000000000000",exchange:"13835058055282200000000000"},{breed:73,resource:100,resourcePrice:"112589990684262000000000",price:"4800000000000000000000000000000000000000",exchange:"27670116110564300000000000"},{breed:74,resource:100,resourcePrice:"225179981368525000000000",price:"15000000000000000000000000000000000000000",exchange:"55340232221128700000000000"},{breed:75,resource:100,resourcePrice:"450359962737050000000000",price:"48000000000000000000000000000000000000000",exchange:"110680464442257000000000000"},{breed:76,resource:100,resourcePrice:"900719925474099000000000",price:"150000000000000000000000000000000000000000",exchange:"221360928884515000000000000"},{breed:77,resource:100,resourcePrice:"1801439850948200000000000",price:"480000000000000000000000000000000000000000",exchange:"442721857769029000000000000"},{breed:78,resource:100,resourcePrice:"3602879701896400000000000",price:"1500000000000000000000000000000000000000000",exchange:"885443715538059000000000000"},{breed:79,resource:100,resourcePrice:"7205759403792790000000000",price:"4800000000000000000000000000000000000000000",exchange:"1770887431076120000000000000"},{breed:80,resource:100,resourcePrice:"14411518807585600000000000",price:"15000000000000000000000000000000000000000000",exchange:"3541774862152230000000000000"},{breed:81,resource:100,resourcePrice:"2882303761517120000000000",price:"48000000000000000000000000000000000000000000",exchange:"6917529027641080000000000"},{breed:82,resource:100,resourcePrice:"5764607523034240000000000",price:"150000000000000000000000000000000000000000000",exchange:"13835058055282200000000000"},{breed:83,resource:100,resourcePrice:"11529215046068500000000000",price:"480000000000000000000000000000000000000000000",exchange:"27670116110564300000000000"},{breed:84,resource:100,resourcePrice:"23058430092136900000000000",price:"1500000000000000000000000000000000000000000000",exchange:"55340232221128700000000000"},{breed:85,resource:100,resourcePrice:"46116860184273900000000000",price:"4800000000000000000000000000000000000000000000",exchange:"110680464442257000000000000"},{breed:86,resource:100,resourcePrice:"92233720368547800000000000",price:"15000000000000000000000000000000000000000000000",exchange:"221360928884515000000000000"},{breed:87,resource:100,resourcePrice:"184467440737096000000000000",price:"48000000000000000000000000000000000000000000000",exchange:"442721857769029000000000000"},{breed:88,resource:100,resourcePrice:"368934881474191000000000000",price:"150000000000000000000000000000000000000000000000",exchange:"885443715538059000000000000"},{breed:89,resource:100,resourcePrice:"737869762948382000000000000",price:"480000000000000000000000000000000000000000000000",exchange:"1770887431076120000000000000"},{breed:90,resource:100,resourcePrice:"1475739525896760000000000000",price:"1500000000000000000000000000000000000000000000000",exchange:"3541774862152230000000000000"},{breed:91,resource:100,resourcePrice:"2951479051793530000000000000",price:"4800000000000000000000000000000000000000000000000",exchange:"7253554917687780000000000000000"},{breed:92,resource:100,resourcePrice:"5902958103587060000000000000",price:"15000000000000000000000000000000000000000000000000",exchange:"14507109835375600000000000000000"},{breed:93,resource:100,resourcePrice:"11805916207174100000000000000",price:"48000000000000000000000000000000000000000000000000",exchange:"29014219670751100000000000000000"},{breed:94,resource:100,resourcePrice:"23611832414348200000000000000",price:"150000000000000000000000000000000000000000000000000",exchange:"58028439341502200000000000000000"},{breed:95,resource:100,resourcePrice:"47223664828696500000000000000",price:"480000000000000000000000000000000000000000000000000",exchange:"116056878683004000000000000000000"},{breed:96,resource:100,resourcePrice:"94447329657392900000000000000",price:"1500000000000000000000000000000000000000000000000000",exchange:"232113757366009000000000000000000"},{breed:97,resource:100,resourcePrice:"188894659314786000000000000000",price:"4800000000000000000000000000000000000000000000000000",exchange:"464227514732018000000000000000000"},{breed:98,resource:100,resourcePrice:"377789318629572000000000000000",price:"15000000000000000000000000000000000000000000000000000",exchange:"928455029464035000000000000000000"},{breed:99,resource:100,resourcePrice:"755578637259143000000000000000",price:"48000000000000000000000000000000000000000000000000000",exchange:"1856910058928070000000000000000000"},{breed:100,resource:100,resourcePrice:"1511157274518290000000000000000",price:"150000000000000000000000000000000000000000000000000000",exchange:"3713820117856140000000000000000000"}],territoriesUnicornPrice:[{block:3,position:1,diamond:0,price:0,unlock:0},{block:3,position:2,diamond:0,price:0,unlock:0},{block:3,position:3,diamond:0,price:0,unlock:0},{block:4,position:1,diamond:0,price:0,unlock:0},{block:4,position:2,diamond:10,price:1500,unlock:2},{block:4,position:3,diamond:10,price:5e3,unlock:4},{block:5,position:1,diamond:20,price:1e4,unlock:6},{block:5,position:2,diamond:40,price:2e4,unlock:8},{block:5,position:3,diamond:100,price:5e4,unlock:10},{block:6,position:1,diamond:180,price:9e4,unlock:12},{block:6,position:2,diamond:300,price:15e4,unlock:14},{block:6,position:3,diamond:400,price:2e5,unlock:16}],territoriesUnicornSettings:[{improve:1,regeneration:11,countResources:5,unlock_improve:1,resourceStorage:200},{improve:2,regeneration:22,countResources:5,unlock_improve:2,resourceStorage:700},{improve:3,regeneration:33,countResources:5,unlock_improve:5,resourceStorage:1500},{improve:4,regeneration:44,countResources:5,unlock_improve:8,resourceStorage:4e3}]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(8),n=[{id:"1-1",type:s.TaskType.BUY_ANIMAL,state:1,done:0,awardTaken:0,awardType:"diamond",award:1,count:2,progress:0,sort:10},{id:"1-2",type:s.TaskType.MERGE_ANIMAL,state:2,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:20},{id:"1-3",type:s.TaskType.TAKE_COLLECTOR,state:0,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:30},{id:"1-4",type:s.TaskType.SELL_RESOURCE,state:0,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:40},{id:"2-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:10},{id:"2-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,done:0,awardTaken:0,awardType:"coin",award:3e3,count:1,progress:0,sort:20},{id:"2-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:2,done:0,awardTaken:0,awardType:"diamond",award:1,count:4,progress:0,sort:30},{id:"2-4",type:s.TaskType.BUY_ANIMAL,state:1,done:0,awardTaken:0,awardType:"coin",award:3e3,count:2,progress:0,sort:40},{id:"2-5",type:s.TaskType.GET_ANIMAL,state:2,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"2-6",type:s.TaskType.IMPROVE_COLLECTOR,state:2,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"2-7",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:2,count:1,done:0,awardTaken:0,awardType:"coin",award:450,progress:0,sort:70},{id:"3-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"3-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:55},{id:"3-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:3,count:5,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:57},{id:"3-4",type:s.TaskType.IMPROVE_FAIR,state:2,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"3-5",type:s.TaskType.IMPROVE_COLLECTOR,state:3,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"3-6",type:s.TaskType.GET_ANIMAL,state:3,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"3-7",type:s.TaskType.TAKE_DIAMOND_ANIMAL,state:0,count:1,done:0,awardTaken:0,awardType:"coin",award:1e4,progress:0,sort:70},{id:"3-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:3,count:1,done:0,awardTaken:0,awardType:"coin",award:900,progress:0,sort:90},{id:"4-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"4-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"4-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:4,count:6,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"4-4",type:s.TaskType.IMPROVE_FAIR,state:3,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"4-5",type:s.TaskType.COLLECT_MONEY,state:0,count:2e4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"4-6",type:s.TaskType.IMPROVE_COLLECTOR,state:4,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"4-7",type:s.TaskType.GET_ANIMAL,state:4,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"4-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:4,count:1,done:0,awardTaken:0,awardType:"coin",award:1800,progress:0,sort:90},{id:"5-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"5-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"5-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:5,count:7,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"5-4",type:s.TaskType.IMPROVE_FAIR,state:4,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"5-5",type:s.TaskType.TAKE_HERD_BOOST,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"5-6",type:s.TaskType.IMPROVE_COLLECTOR,state:5,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"5-7",type:s.TaskType.GET_ANIMAL,state:5,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"5-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:5,count:1,done:0,awardTaken:0,awardType:"coin",award:4800,progress:0,sort:90},{id:"6-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"6-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"6-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:6,count:8,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"6-4",type:s.TaskType.IMPROVE_FAIR,state:5,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"6-5",type:s.TaskType.TAKE_FEED_BOOST,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"6-6",type:s.TaskType.IMPROVE_COLLECTOR,state:6,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"6-7",type:s.TaskType.GET_ANIMAL,state:6,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"6-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:6,count:1,done:0,awardTaken:0,awardType:"coin",award:12e3,progress:0,sort:90},{id:"7-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"7-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"7-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:7,count:9,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"7-4",type:s.TaskType.HAND_COLLECT,state:0,count:15,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"7-5",type:s.TaskType.IMPROVE_COLLECTOR,state:7,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"7-6",type:s.TaskType.TAKE_COLLECTOR,state:0,count:30,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"7-7",type:s.TaskType.GET_ANIMAL,state:6,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"7-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:7,count:1,done:0,awardTaken:0,awardType:"coin",award:28800,progress:0,sort:90},{id:"8-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"8-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"8-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:8,count:10,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"8-4",type:s.TaskType.IMPROVE_FAIR,state:6,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"8-5",type:s.TaskType.EXCHANGE_DIAMOND,state:0,count:5e5,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"8-6",type:s.TaskType.IMPROVE_COLLECTOR,state:8,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"8-7",type:s.TaskType.GET_ANIMAL,state:7,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"8-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:8,count:1,done:0,awardTaken:0,awardType:"coin",award:38400,progress:0,sort:90},{id:"9-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"9-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.WATER,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"9-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:9,count:11,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"9-4",type:s.TaskType.COLLECT_MONEY,state:0,count:5e6,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"9-5",type:s.TaskType.IMPROVE_COLLECTOR,state:9,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"9-6",type:s.TaskType.SPEND_DIAMONDS,state:0,count:10,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"9-7",type:s.TaskType.GET_ANIMAL,state:7,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"9-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:9,count:1,done:0,awardTaken:0,awardType:"coin",award:86400,progress:0,sort:90},{id:"10-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"10-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"10-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:10,count:12,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"10-4",type:s.TaskType.IMPROVE_FAIR,state:7,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"10-5",type:s.TaskType.TAKE_ANIMAL_FROM_HERD,state:0,count:3,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"10-6",type:s.TaskType.IMPROVE_COLLECTOR,state:10,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"10-7",type:s.TaskType.GET_ANIMAL,state:8,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"10-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:10,count:1,done:0,awardTaken:0,awardType:"coin",award:105600,progress:0,sort:90},{id:"11-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"11-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"11-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:11,count:13,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"11-4",type:s.TaskType.TAKE_DIAMOND_ANIMAL,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"11-5",type:s.TaskType.IMPROVE_COLLECTOR,state:11,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"11-6",type:s.TaskType.SELL_RESOURCE,state:0,count:1e3,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"11-7",type:s.TaskType.GET_ANIMAL,state:8,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"11-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:11,count:1,done:0,awardTaken:0,awardType:"coin",award:211200,progress:0,sort:90},{id:"12-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"12-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"12-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:12,count:14,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"12-4",type:s.TaskType.IMPROVE_FAIR,state:8,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"12-5",type:s.TaskType.COLLECT_DIAMONDS_FROM_ANIMAL,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"12-6",type:s.TaskType.IMPROVE_COLLECTOR,state:12,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"12-7",type:s.TaskType.GET_ANIMAL,state:9,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"12-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:12,count:1,done:0,awardTaken:0,awardType:"coin",award:249600,progress:0,sort:90},{id:"13-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"13-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"13-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:13,count:15,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"13-4",type:s.TaskType.TAKE_HERD_BOOST,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"13-5",type:s.TaskType.IMPROVE_COLLECTOR,state:13,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"13-6",type:s.TaskType.TAKE_FEED_BOOST,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"13-7",type:s.TaskType.GET_ANIMAL,state:9,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"13-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:13,count:1,done:0,awardTaken:0,awardType:"coin",award:499200,progress:0,sort:90},{id:"14-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"14-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"14-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:14,count:16,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"14-4",type:s.TaskType.IMPROVE_FAIR,state:9,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"14-5",type:s.TaskType.HAND_COLLECT,state:0,count:30,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"14-6",type:s.TaskType.IMPROVE_COLLECTOR,state:14,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"14-7",type:s.TaskType.GET_ANIMAL,state:10,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"14-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:14,count:1,done:0,awardTaken:0,awardType:"coin",award:576e3,progress:0,sort:90},{id:"15-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"15-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.REPOSITORY,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"15-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:15,count:17,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"15-4",type:s.TaskType.SPEND_DIAMONDS,state:0,count:25,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"15-5",type:s.TaskType.IMPROVE_COLLECTOR,state:15,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"15-6",type:s.TaskType.COLLECT_MONEY,state:0,count:1e8,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"15-7",type:s.TaskType.GET_ANIMAL,state:10,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"15-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:15,count:1,done:0,awardTaken:0,awardType:"coin",award:1152e3,progress:0,sort:90},{id:"16-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"16-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"16-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:16,count:18,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"16-4",type:s.TaskType.IMPROVE_FAIR,state:10,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"16-5",type:s.TaskType.TAKE_ANIMAL_FROM_HERD,state:0,count:6,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"16-6",type:s.TaskType.IMPROVE_COLLECTOR,state:16,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"16-7",type:s.TaskType.GET_ANIMAL,state:11,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"16-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:16,count:1,done:0,awardTaken:0,awardType:"coin",award:1305600,progress:0,sort:90},{id:"17-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"17-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"17-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:17,count:19,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"17-4",type:s.TaskType.EXCHANGE_DIAMOND,state:0,count:2e7,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"17-5",type:s.TaskType.IMPROVE_COLLECTOR,state:17,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"17-6",type:s.TaskType.TAKE_DIAMOND_ANIMAL,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"17-7",type:s.TaskType.GET_ANIMAL,state:11,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"17-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:17,count:1,done:0,awardTaken:0,awardType:"coin",award:2611200,progress:0,sort:90},{id:"18-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"18-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"18-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:18,count:20,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"18-4",type:s.TaskType.IMPROVE_FAIR,state:11,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"18-5",type:s.TaskType.COLLECT_DIAMONDS_FROM_ANIMAL,state:0,count:3,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"18-6",type:s.TaskType.IMPROVE_COLLECTOR,state:18,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"18-7",type:s.TaskType.GET_ANIMAL,state:12,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"18-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:18,count:1,done:0,awardTaken:0,awardType:"coin",award:2918400,progress:0,sort:90},{id:"19-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"19-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"19-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:19,count:21,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"19-4",type:s.TaskType.TAKE_HERD_BOOST,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"19-5",type:s.TaskType.IMPROVE_COLLECTOR,state:19,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"19-6",type:s.TaskType.TAKE_FEED_BOOST,state:0,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"19-7",type:s.TaskType.GET_ANIMAL,state:12,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"19-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:19,count:1,done:0,awardTaken:0,awardType:"coin",award:5836800,progress:0,sort:90},{id:"20-1",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:20,count:21,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:45},{id:"20-2",type:s.TaskType.IMPROVE_COLLECTOR,state:20,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"20-3",type:s.TaskType.GET_ANIMAL,state:12,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:30},{id:"20-4",type:s.TaskType.TAKE_ANIMAL_FROM_HERD,state:0,count:8,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"20-5",type:s.TaskType.ANIMAL_ON_FARM,state:0,count:0,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"20-6",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:20,count:1,done:0,awardTaken:0,awardType:"coin",award:6451200,progress:0,sort:90}];t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(8),n=[{id:"1-1",type:s.TaskType.BUY_ANIMAL,state:1,done:0,awardTaken:0,awardType:"diamond",award:1,count:2,progress:0,sort:10},{id:"1-2",type:s.TaskType.MERGE_ANIMAL,state:2,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:20},{id:"1-3",type:s.TaskType.TAKE_COLLECTOR,state:0,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:30},{id:"1-4",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.REPOSITORY,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:40},{id:"2-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:10},{id:"2-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:20},{id:"2-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:2,done:0,awardTaken:0,awardType:"diamond",award:1,count:4,progress:0,sort:30},{id:"2-4",type:s.TaskType.BUY_ANIMAL,state:1,done:0,awardTaken:0,awardType:"diamond",award:1,count:2,progress:0,sort:40},{id:"2-5",type:s.TaskType.GET_ANIMAL,state:2,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"2-6",type:s.TaskType.IMPROVE_COLLECTOR,state:2,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"2-7",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:2,count:1,done:0,awardTaken:0,awardType:"coin",award:450,progress:0,sort:70},{id:"3-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"3-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:55},{id:"3-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:3,count:5,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:57},{id:"3-4",type:s.TaskType.IMPROVE_FAIR,state:2,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"3-5",type:s.TaskType.IMPROVE_COLLECTOR,state:3,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"3-6",type:s.TaskType.GET_ANIMAL,state:3,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"3-7",type:s.TaskType.TAKE_DIAMOND_ANIMAL,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"3-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:3,count:1,done:0,awardTaken:0,awardType:"coin",award:900,progress:0,sort:90},{id:"4-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"4-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"4-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:4,count:6,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"4-4",type:s.TaskType.IMPROVE_FAIR,state:3,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"4-5",type:s.TaskType.COLLECT_MONEY,state:0,count:2e4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"4-6",type:s.TaskType.IMPROVE_COLLECTOR,state:4,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"4-7",type:s.TaskType.GET_ANIMAL,state:4,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"4-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:4,count:1,done:0,awardTaken:0,awardType:"coin",award:1800,progress:0,sort:90},{id:"5-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"5-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"5-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:5,count:7,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"5-4",type:s.TaskType.IMPROVE_FAIR,state:4,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"5-5",type:s.TaskType.TAKE_HERD_BOOST,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"5-6",type:s.TaskType.IMPROVE_COLLECTOR,state:5,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"5-7",type:s.TaskType.GET_ANIMAL,state:5,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"5-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:5,count:1,done:0,awardTaken:0,awardType:"coin",award:4800,progress:0,sort:90},{id:"6-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"6-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"6-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:6,count:8,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"6-4",type:s.TaskType.IMPROVE_FAIR,state:5,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"6-5",type:s.TaskType.TAKE_FEED_BOOST,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"6-6",type:s.TaskType.IMPROVE_COLLECTOR,state:6,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"6-7",type:s.TaskType.GET_ANIMAL,state:6,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"6-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:6,count:1,done:0,awardTaken:0,awardType:"coin",award:12e3,progress:0,sort:90},{id:"7-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"7-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"7-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:7,count:9,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"7-4",type:s.TaskType.HAND_COLLECT,state:0,count:15,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"7-5",type:s.TaskType.IMPROVE_COLLECTOR,state:7,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"7-6",type:s.TaskType.TAKE_COLLECTOR,state:0,count:30,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"7-7",type:s.TaskType.GET_ANIMAL,state:6,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"7-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:7,count:1,done:0,awardTaken:0,awardType:"coin",award:28800,progress:0,sort:90},{id:"8-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"8-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"8-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:8,count:10,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"8-4",type:s.TaskType.IMPROVE_FAIR,state:6,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"8-5",type:s.TaskType.EXCHANGE_DIAMOND,state:0,count:5e5,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"8-6",type:s.TaskType.IMPROVE_COLLECTOR,state:8,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"8-7",type:s.TaskType.GET_ANIMAL,state:7,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"8-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:8,count:1,done:0,awardTaken:0,awardType:"coin",award:38400,progress:0,sort:90},{id:"9-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"9-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.WATER,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"9-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:9,count:11,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"9-4",type:s.TaskType.COLLECT_MONEY,state:0,count:1e7,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"9-5",type:s.TaskType.IMPROVE_COLLECTOR,state:9,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"9-6",type:s.TaskType.SPEND_DIAMONDS,state:0,count:15,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"9-7",type:s.TaskType.GET_ANIMAL,state:7,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"9-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:9,count:1,done:0,awardTaken:0,awardType:"coin",award:86400,progress:0,sort:90},{id:"10-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"10-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"10-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:10,count:12,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"10-4",type:s.TaskType.IMPROVE_FAIR,state:7,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"10-5",type:s.TaskType.TAKE_ANIMAL_FROM_HERD,state:0,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"10-6",type:s.TaskType.IMPROVE_COLLECTOR,state:10,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"10-7",type:s.TaskType.GET_ANIMAL,state:8,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"10-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:10,count:1,done:0,awardTaken:0,awardType:"coin",award:105600,progress:0,sort:90},{id:"11-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"11-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"11-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:11,count:13,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"11-4",type:s.TaskType.TAKE_DIAMOND_ANIMAL,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"11-5",type:s.TaskType.IMPROVE_COLLECTOR,state:11,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"11-6",type:s.TaskType.SELL_RESOURCE,state:0,count:1e3,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"11-7",type:s.TaskType.GET_ANIMAL,state:8,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"11-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:11,count:1,done:0,awardTaken:0,awardType:"coin",award:211200,progress:0,sort:90},{id:"12-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"12-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"12-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:12,count:14,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"12-4",type:s.TaskType.IMPROVE_FAIR,state:8,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"12-5",type:s.TaskType.COLLECT_DIAMONDS_FROM_ANIMAL,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"12-6",type:s.TaskType.IMPROVE_COLLECTOR,state:12,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"12-7",type:s.TaskType.GET_ANIMAL,state:9,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"12-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:12,count:1,done:0,awardTaken:0,awardType:"coin",award:249600,progress:0,sort:90},{id:"13-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"13-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"13-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:13,count:15,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"13-4",type:s.TaskType.TAKE_HERD_BOOST,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"13-5",type:s.TaskType.IMPROVE_COLLECTOR,state:13,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"13-6",type:s.TaskType.TAKE_FEED_BOOST,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"13-7",type:s.TaskType.GET_ANIMAL,state:9,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"13-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:13,count:1,done:0,awardTaken:0,awardType:"coin",award:499200,progress:0,sort:90},{id:"14-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"14-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"14-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:14,count:16,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"14-4",type:s.TaskType.IMPROVE_FAIR,state:9,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"14-5",type:s.TaskType.HAND_COLLECT,state:0,count:30,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"14-6",type:s.TaskType.IMPROVE_COLLECTOR,state:14,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"14-7",type:s.TaskType.GET_ANIMAL,state:10,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"14-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:14,count:1,done:0,awardTaken:0,awardType:"coin",award:576e3,progress:0,sort:90},{id:"15-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"15-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.REPOSITORY,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"15-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:15,count:17,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"15-4",type:s.TaskType.SPEND_DIAMONDS,state:0,count:25,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"15-5",type:s.TaskType.IMPROVE_COLLECTOR,state:15,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"15-6",type:s.TaskType.COLLECT_MONEY,state:0,count:1e8,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"15-7",type:s.TaskType.GET_ANIMAL,state:10,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"15-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:15,count:1,done:0,awardTaken:0,awardType:"coin",award:1152e3,progress:0,sort:90},{id:"16-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"16-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"16-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:16,count:18,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"16-4",type:s.TaskType.IMPROVE_FAIR,state:10,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"16-5",type:s.TaskType.TAKE_ANIMAL_FROM_HERD,state:0,count:6,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"16-6",type:s.TaskType.IMPROVE_COLLECTOR,state:16,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"16-7",type:s.TaskType.GET_ANIMAL,state:11,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"16-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:16,count:1,done:0,awardTaken:0,awardType:"coin",award:1305600,progress:0,sort:90},{id:"17-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"17-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"17-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:17,count:19,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"17-4",type:s.TaskType.EXCHANGE_DIAMOND,state:0,count:75e6,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"17-5",type:s.TaskType.IMPROVE_COLLECTOR,state:17,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"17-6",type:s.TaskType.TAKE_DIAMOND_ANIMAL,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"17-7",type:s.TaskType.GET_ANIMAL,state:11,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"17-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:17,count:1,done:0,awardTaken:0,awardType:"coin",award:2611200,progress:0,sort:90},{id:"18-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"18-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"18-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:18,count:20,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"18-4",type:s.TaskType.IMPROVE_FAIR,state:11,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"18-5",type:s.TaskType.COLLECT_DIAMONDS_FROM_ANIMAL,state:0,count:3,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"18-6",type:s.TaskType.IMPROVE_COLLECTOR,state:18,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"18-7",type:s.TaskType.GET_ANIMAL,state:12,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"18-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:18,count:1,done:0,awardTaken:0,awardType:"coin",award:2918400,progress:0,sort:90},{id:"19-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"19-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"19-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:19,count:21,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"19-4",type:s.TaskType.TAKE_HERD_BOOST,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"19-5",type:s.TaskType.IMPROVE_COLLECTOR,state:19,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"19-6",type:s.TaskType.TAKE_FEED_BOOST,state:0,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"19-7",type:s.TaskType.GET_ANIMAL,state:12,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"19-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:19,count:1,done:0,awardTaken:0,awardType:"coin",award:5836800,progress:0,sort:90},{id:"20-1",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:20,count:21,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:45},{id:"20-2",type:s.TaskType.IMPROVE_COLLECTOR,state:20,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:20},{id:"20-3",type:s.TaskType.GET_ANIMAL,state:12,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:30},{id:"20-4",type:s.TaskType.TAKE_ANIMAL_FROM_HERD,state:0,count:8,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"20-5",type:s.TaskType.ANIMAL_ON_FARM,state:0,count:0,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"20-6",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:20,count:1,done:0,awardTaken:0,awardType:"coin",award:6451200,progress:0,sort:90}];t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(8),n=[{id:"1-1",type:s.TaskType.BUY_ANIMAL,state:1,done:0,awardTaken:0,awardType:"diamond",award:1,count:2,progress:0,sort:10},{id:"1-2",type:s.TaskType.MERGE_ANIMAL,state:2,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:20},{id:"1-3",type:s.TaskType.TAKE_COLLECTOR,state:0,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:30},{id:"1-4",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.REPOSITORY,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:40},{id:"2-1",type:s.TaskType.SAVE_MILK,state:0,done:0,awardTaken:0,awardType:"diamond",award:1,count:500,progress:0,sort:10},{id:"2-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:20},{id:"2-3",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.FACTORY,done:0,awardTaken:0,awardType:"diamond",award:1,count:1,progress:0,sort:30},{id:"2-4",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:2,done:0,awardTaken:0,awardType:"diamond",award:1,count:6,progress:0,sort:40},{id:"2-5",type:s.TaskType.BUY_ANIMAL,state:1,done:0,awardTaken:0,awardType:"diamond",award:1,count:2,progress:0,sort:50},{id:"2-6",type:s.TaskType.GET_ANIMAL,state:2,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"2-7",type:s.TaskType.IMPROVE_COLLECTOR,state:2,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"2-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:2,count:1,done:0,awardTaken:0,awardType:"coin",award:450,progress:0,sort:80},{id:"3-1",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:3,count:6,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:57},{id:"3-2",type:s.TaskType.IMPROVE_FAIR,state:2,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"3-3",type:s.TaskType.IMPROVE_COLLECTOR,state:3,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"3-4",type:s.TaskType.GET_ANIMAL,state:3,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"3-5",type:s.TaskType.TAKE_DIAMOND_ANIMAL,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"3-6",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:3,count:1,done:0,awardTaken:0,awardType:"coin",award:900,progress:0,sort:80},{id:"4-1",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:4,count:6,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"4-2",type:s.TaskType.IMPROVE_FAIR,state:3,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"4-3",type:s.TaskType.COLLECT_MONEY,state:0,count:2e4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"4-4",type:s.TaskType.IMPROVE_COLLECTOR,state:4,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"4-5",type:s.TaskType.GET_ANIMAL,state:4,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"4-6",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:4,count:1,done:0,awardTaken:0,awardType:"coin",award:1800,progress:0,sort:80},{id:"5-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"5-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"5-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:5,count:7,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"5-4",type:s.TaskType.IMPROVE_FAIR,state:4,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"5-5",type:s.TaskType.TAKE_HERD_BOOST,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"5-6",type:s.TaskType.IMPROVE_COLLECTOR,state:5,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"5-7",type:s.TaskType.GET_ANIMAL,state:5,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"5-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:5,count:1,done:0,awardTaken:0,awardType:"coin",award:4800,progress:0,sort:90},{id:"6-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"6-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"6-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:6,count:8,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"6-4",type:s.TaskType.IMPROVE_FAIR,state:5,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"6-5",type:s.TaskType.TAKE_FEED_BOOST,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"6-6",type:s.TaskType.IMPROVE_COLLECTOR,state:6,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"6-7",type:s.TaskType.GET_ANIMAL,state:6,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"6-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:6,count:1,done:0,awardTaken:0,awardType:"coin",award:12e3,progress:0,sort:90},{id:"7-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"7-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"7-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:7,count:9,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"7-4",type:s.TaskType.HAND_COLLECT,state:0,count:15,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"7-5",type:s.TaskType.IMPROVE_COLLECTOR,state:7,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"7-6",type:s.TaskType.TAKE_COLLECTOR,state:0,count:30,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"7-7",type:s.TaskType.GET_ANIMAL,state:6,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"7-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:7,count:1,done:0,awardTaken:0,awardType:"coin",award:28800,progress:0,sort:90},{id:"8-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"8-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"8-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:8,count:10,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"8-4",type:s.TaskType.IMPROVE_FAIR,state:6,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"8-5",type:s.TaskType.EXCHANGE_DIAMOND,state:0,count:5e5,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"8-6",type:s.TaskType.IMPROVE_COLLECTOR,state:8,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"8-7",type:s.TaskType.GET_ANIMAL,state:7,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"8-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:8,count:1,done:0,awardTaken:0,awardType:"coin",award:38400,progress:0,sort:90},{id:"9-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"9-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.WATER,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"9-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:9,count:11,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"9-4",type:s.TaskType.COLLECT_MONEY,state:0,count:1e7,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"9-5",type:s.TaskType.IMPROVE_COLLECTOR,state:9,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"9-6",type:s.TaskType.SPEND_DIAMONDS,state:0,count:15,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"9-7",type:s.TaskType.GET_ANIMAL,state:7,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"9-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:9,count:1,done:0,awardTaken:0,awardType:"coin",award:86400,progress:0,sort:90},{id:"10-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"10-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"10-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:10,count:12,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"10-4",type:s.TaskType.IMPROVE_FAIR,state:7,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"10-5",type:s.TaskType.TAKE_ANIMAL_FROM_HERD,state:0,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"10-6",type:s.TaskType.IMPROVE_COLLECTOR,state:10,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"10-7",type:s.TaskType.GET_ANIMAL,state:8,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"10-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:10,count:1,done:0,awardTaken:0,awardType:"coin",award:105600,progress:0,sort:90},{id:"11-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"11-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"11-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:11,count:13,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"11-4",type:s.TaskType.TAKE_DIAMOND_ANIMAL,state:0,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"11-5",type:s.TaskType.IMPROVE_COLLECTOR,state:11,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"11-6",type:s.TaskType.SELL_RESOURCE,state:0,count:1e7,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"11-7",type:s.TaskType.GET_ANIMAL,state:8,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"11-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:11,count:1,done:0,awardTaken:0,awardType:"coin",award:211200,progress:0,sort:90},{id:"12-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"12-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"12-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:12,count:14,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"12-4",type:s.TaskType.IMPROVE_FAIR,state:8,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"12-5",type:s.TaskType.COLLECT_DIAMONDS_FROM_ANIMAL,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"12-6",type:s.TaskType.IMPROVE_COLLECTOR,state:12,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"12-7",type:s.TaskType.GET_ANIMAL,state:9,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"12-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:12,count:1,done:0,awardTaken:0,awardType:"coin",award:249600,progress:0,sort:90},{id:"13-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"13-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"13-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:13,count:15,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"13-4",type:s.TaskType.TAKE_HERD_BOOST,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"13-5",type:s.TaskType.IMPROVE_COLLECTOR,state:13,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"13-6",type:s.TaskType.TAKE_FEED_BOOST,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"13-7",type:s.TaskType.GET_ANIMAL,state:9,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"13-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:13,count:1,done:0,awardTaken:0,awardType:"coin",award:499200,progress:0,sort:90},{id:"14-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"14-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"14-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:14,count:16,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"14-4",type:s.TaskType.IMPROVE_FAIR,state:9,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"14-5",type:s.TaskType.HAND_COLLECT,state:0,count:30,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"14-6",type:s.TaskType.IMPROVE_COLLECTOR,state:14,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"14-7",type:s.TaskType.GET_ANIMAL,state:10,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"14-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:14,count:1,done:0,awardTaken:0,awardType:"coin",award:576e3,progress:0,sort:90},{id:"15-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"15-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.WATER,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"15-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:15,count:17,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"15-4",type:s.TaskType.SPEND_DIAMONDS,state:0,count:25,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"15-5",type:s.TaskType.IMPROVE_COLLECTOR,state:15,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"15-6",type:s.TaskType.COLLECT_MONEY,state:0,count:1e8,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"15-7",type:s.TaskType.GET_ANIMAL,state:10,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"15-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:15,count:1,done:0,awardTaken:0,awardType:"coin",award:1152e3,progress:0,sort:90},{id:"16-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"16-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"16-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:16,count:18,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"16-4",type:s.TaskType.IMPROVE_FAIR,state:10,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"16-5",type:s.TaskType.TAKE_ANIMAL_FROM_HERD,state:0,count:6,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"16-6",type:s.TaskType.IMPROVE_COLLECTOR,state:16,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"16-7",type:s.TaskType.GET_ANIMAL,state:11,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"16-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:16,count:1,done:0,awardTaken:0,awardType:"coin",award:1305600,progress:0,sort:90},{id:"17-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"17-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"17-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:17,count:19,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"17-4",type:s.TaskType.EXCHANGE_DIAMOND,state:0,count:1e8,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"17-5",type:s.TaskType.IMPROVE_COLLECTOR,state:17,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"17-6",type:s.TaskType.TAKE_DIAMOND_ANIMAL,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"17-7",type:s.TaskType.GET_ANIMAL,state:11,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"17-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:17,count:1,done:0,awardTaken:0,awardType:"coin",award:2611200,progress:0,sort:90},{id:"18-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"18-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"18-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:18,count:20,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"18-4",type:s.TaskType.IMPROVE_FAIR,state:11,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"18-5",type:s.TaskType.COLLECT_DIAMONDS_FROM_ANIMAL,state:0,count:3,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"18-6",type:s.TaskType.IMPROVE_COLLECTOR,state:18,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"18-7",type:s.TaskType.GET_ANIMAL,state:12,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"18-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:18,count:1,done:0,awardTaken:0,awardType:"coin",award:2918400,progress:0,sort:90},{id:"19-1",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.BOUGHT,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:10},{id:"19-2",type:s.TaskType.BUY_TERRITORY,state:s.TerritoryType.PASTURE,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:65},{id:"19-3",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:19,count:21,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:67},{id:"19-4",type:s.TaskType.TAKE_HERD_BOOST,state:0,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"19-5",type:s.TaskType.IMPROVE_COLLECTOR,state:19,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"19-6",type:s.TaskType.TAKE_FEED_BOOST,state:0,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:60},{id:"19-7",type:s.TaskType.GET_ANIMAL,state:12,count:2,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:70},{id:"19-8",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:19,count:1,done:0,awardTaken:0,awardType:"coin",award:5836800,progress:0,sort:90},{id:"20-1",type:s.TaskType.IMPROVE_ALL_TERRITORY,state:20,count:21,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:45},{id:"20-2",type:s.TaskType.IMPROVE_COLLECTOR,state:20,count:1,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:80},{id:"20-3",type:s.TaskType.GET_ANIMAL,state:12,count:4,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:30},{id:"20-4",type:s.TaskType.TAKE_ANIMAL_FROM_HERD,state:0,count:8,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:40},{id:"20-5",type:s.TaskType.ANIMAL_ON_FARM,state:0,count:0,done:0,awardTaken:0,awardType:"diamond",award:1,progress:0,sort:50},{id:"20-6",type:s.TaskType.IMPROVE_SPEED_COLLECTOR,state:20,count:1,done:0,awardTaken:0,awardType:"coin",award:6451200,progress:0,sort:90}];t.default=n},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(110),r=i(1729),o=i(1735),c=i(1736),h=i(1737),l=i(49),d=i(50),u=i(36),p=i(27),f=i(4),m=i(0),g=i(51),y=i(16),v=i(75),w=i(1738),b=i(1739),x=i(111),k=i(1741),T=i(1742),_=i(52),S=i(15),C=i(18),P=i(34),B=i(1),A=function(e){function t(){var t=e.call(this,"Sheep")||this;return t.velocity=20,t.topIndent=240,t.bottomIndent=240,t.collector=0,t.collectorTakenTime=0,t.herdBoostLvl=5,t.feedBoostMultiplier=2,t.feedBoostLvl=6,t.feedBoostStack=11,t.dailyStartCheck=!0,t.remaindSellTimer=0,t.feedBoostRemaindTimer=0,t.speedCollectorTimer=30,t.blockedSroll=!1,t.moneyTasks=[{id:127,money:3e3},{id:4,money:4e3}],t.world=r.default.bind(t),t.drag=o.default.bind(t),t.collisions=a.default.bind(t),t.sheepBrain=c.default.bind(t),t.interval=h.default.bind(t),t.click=f.click.bind(t),t.clickTerritory=f.clickTerritory.bind(t),t.clickModalBtn=f.clickModalBtn.bind(t),t.animations=w.animations.bind(t),t.teleportation=b.teleportation.bind(t),t.reverse=b.reverse.bind(t),t.aim=b.aim.bind(t),t.getSheep=b.getSheep.bind(t),t.currentTerritory=v.currentTerritory.bind(t),t.confirmExchangeTerritory=g.confirmExchangeTerritory.bind(t),t.deleteTerritoriesLocks=v.deleteTerritoriesLocks.bind(t),t.balance=x.balance.bind(t),t.checkSheepBalance=x.checkSheepBalance.bind(t),t.convertDiamonds=m.convertDiamonds.bind(t),t.convertMoney=m.convertMoney.bind(t),t.exchange=m.exchange.bind(t),t.sheepPrice=x.sheepPrice.bind(t),t.animalPrice=x.sheepPrice.bind(t),t.checkMerging=b.checkMerging.bind(t),t.cancelMerging=b.cancelMerging.bind(t),t.buySheep=b.buySheep.bind(t),t.buyAnimal=b.buySheep.bind(t),t.collectWool=b.collectWool.bind(t),t.sellWool=b.sellWool.bind(t),t.confirmExpelSheep=b.confirmExpelSheep.bind(t),t.woolSprite=b.woolSprite.bind(t),t.showBank=g.showBank.bind(t),t.freeCollector=u.freeCollector.bind(t),t.buyCollector=u.buyCollector.bind(t),t.nextPart=g.nextPart.bind(t),t.donePart=m.donePart.bind(t),t.maxBreedForBuy=x.maxBreedForBuy.bind(t),t.partTasks=y.partTasks.bind(t),t.pickUpTaskReward=m.pickUpTaskReward.bind(t),t.tryTask=y.tryTask.bind(t),t.tryClanTask=y.tryClanTask.bind(t),t.getTaskData=y.getTaskData.bind(t),t.takeDiamondSheep=x.takeDiamondSheep.bind(t),t.checkAnimalTask=y.checkAnimalTask.bind(t),t.showTasks=g.showTasks.bind(t),t.messageIsSent=g.messageIsSent.bind(t),t.autosave=d.default.bind(t),t.buildBorders=v.buildBorders.bind(t),t.showTutorial=k.showTutorial.bind(t),t.doneTutor_0=k.doneTutor_0.bind(t),t.doneTutor_10=k.doneTutor_10.bind(t),t.doneTutor_20=k.doneTutor_20.bind(t),t.doneTutor_30=k.doneTutor_30.bind(t),t.doneTutor_40=k.doneTutor_40.bind(t),t.doneTutor_50=k.doneTutor_50.bind(t),t.doneTutor_60=k.doneTutor_60.bind(t),t.doneTutor_70=k.doneTutor_70.bind(t),t.doneTutor_75=k.doneTutor_75.bind(t),t.doneTutor_80=k.doneTutor_80.bind(t),t.doneTutor_90=k.doneTutor_90.bind(t),t.doneTutor_100=k.doneTutor_100.bind(t),t.progressTutor_20=k.progressTutor_20.bind(t),t.progressTutor_30=k.progressTutor_30.bind(t),t.progressTutor_40=k.progressTutor_40.bind(t),t.progressTutor_70=k.progressTutor_70.bind(t),t.progressTutor_80=k.progressTutor_80.bind(t),t.progressTutor_90=k.progressTutor_90.bind(t),t.doneTutorCave1=k.doneTutorCave1.bind(t),t.doneTutorCave2=k.doneTutorCave2.bind(t),t.skipTutorial=k.skipTutorial.bind(t),t.autoprogress=l.default.bind(t),t.dailyAward=g.dailyAward.bind(t),t.logout=m.logout.bind(t),t.onlineStatus=m.onlineStatus.bind(t),t.dragSheep=p.dragSheep.bind(t),t.checkDoneTasks=y.checkDoneTasks.bind(t),t.collectorTutorial=k.collectorTutorial.bind(t),t.dragSheepMerging=b.dragSheepMerging.bind(t),t.takeNewbieAward=g.takeNewbieAward.bind(t),t.getNewbieAward=m.getNewbieAward.bind(t),t.showDonate=g.showDonate.bind(t),t.takeDonate=m.takeDonate.bind(t),t.setCollector=T.default.bind(t),t.showImproveCollector=g.showImproveCollector.bind(t),t.improveCollector=u.improveCollector.bind(t),t.createBoostAnimal=u.createBoostAnimal.bind(t),t.startHerdBoost=g.startHerdBoost.bind(t),t.getRandomBool=m.getRandomBool.bind(t),t.spreadAnimals=m.spreadAnimals.bind(t),t.getEventRaiting=m.getEventRaiting.bind(t),t.showEventTutorial=_.showEventTutorial.bind(t),t.doneEventTutor_0=_.doneEventTutor_0.bind(t),t.nextDayTimer=m.nextDayTimer.bind(t),t.intervalPorgressCollectorTime=S.intervalPorgressCollectorTime.bind(t),t.autoporgressCollectorTime=m.autoporgressCollectorTime.bind(t),t.openEmailWindow=g.openEmailWindow.bind(t),t.remainderSellResource=m.remainderSellResource.bind(t),t.findFreeTerritory=v.findFreeTerritory.bind(t),t.farmBalance=m.farmBalance.bind(t),t.randomString=m.randomString.bind(t),t.chickenIntervalProgress=S.chickenIntervalProgress.bind(t),t.chickenCollectorProgress=S.chickenCollectorProgress.bind(t),t.cowCollectorProgress=S.cowCollectorProgress.bind(t),t.cowFactoryProgress=S.cowFactoryProgress.bind(t),t.cowIntervalProgress=S.cowIntervalProgress.bind(t),t.updateProfileNotification=S.updateProfileNotification.bind(t),t.intervalCollectorTutorial=S.intervalCollectorTutorial.bind(t),t.showFeedBoostSpeechBubble=S.showFeedBoostSpeechBubble.bind(t),t.progressTerritoryCooldown=S.progressTerritoryCooldown.bind(t),t.yandexAuth=m.yandexAuth.bind(t),t.playSoundOnce=m.playSoundOnce.bind(t),t.setPlatformStorage=m.setPlatformStorage.bind(t),t.getPlatformStorage=m.getPlatformStorage.bind(t),t.openConvertorForClan=m.openConvertorForClan.bind(t),t.speedCheckCollector=S.speedCheckCollector.bind(t),t.updateCollector=T.updateCollector.bind(t),t}return n(t,e),t.prototype.init=function(e){if(this.autoprogressTimer=Math.round((new Date).getTime()/1e3),this.autoSaveTimer=0,this.state=e,this.alarm=!1,this.settings=e.sheepSettings,this.showMergPointer=!1,this.arrow=null,this.collectorTimer=null,this.counterWithoutCollector=0,this.ads=new C.default(this),this.autoprogress(!0),this.achievement=new P.default(this),B.default.checkTestB(this.state)){var t=this.state.sheepSettings.partSettings[this.state.userSheep.collectorLevel-1].collector.speed;this.collectorCD=Math.round(1e3/t),this.collectorIsReady=!1}},t.prototype.create=function(){this.animations(),this.world(),this.drag(),this.collisions(),this.interval(),this.openConvertorForClan(),this.ads.showInterstitialAd(),B.default.checkTestB(this.state)||this.setCollector()},t.prototype.update=function(e,t){this.sheepBrain(),this.dragSheep(!0),B.default.checkTestB(this.state)&&this.updateCollector(t),1===this.state.userSheep.part?(this.scrolling.enabled=!1,this.scrolling.moving=!1,this.scrolling.wheel=!1,this.blockedSroll=!0):this.state.userSheep.part>1&&this.blockedSroll&&(this.blockedSroll=!1,this.scrolling.enabled=!0,this.scrolling.moving=!0,this.scrolling.wheel=!0)},t}(Phaser.Scene);t.default=A},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(17),n=i(1730);function a(e){var t,i=this.state.farm.toLowerCase(),s=1;return e.improve>=5&&(s=2,e.improve>=10&&(s=3,e.improve>=15&&(s=4))),0===e.type?t=i+"-for-buying":1===e.type?t=i+"-bought":2===e.type?(t=i+"-grass"+s+"-",e.volume<250?t+=1:e.volume>=250&&e.volume<500?t+=2:e.volume>=500&&e.volume<750?t+=3:e.volume>=750&&(t+=4)):3===e.type?(t=i+"-water"+s+"-",e.volume<250?t+=1:e.volume>=250&&e.volume<500?t+=2:e.volume>=500&&e.volume<750?t+=3:e.volume>=750&&(t+=4)):4===e.type?t=i+"-merging":5===e.type?t=i+"-repository":6===e.type?t=i+"-house":7===e.type?t=i+"-ground":8===e.type&&(t=i+"-repository"),t}t.default=function(){var e=this;this.height=Math.round(Number(this.game.config.width)/3);var t=8*this.height+this.topIndent+this.bottomIndent;this.add.tileSprite(0,0,this.game.config.width,t,"bg").setOrigin(0,0),this.top=this.add.sprite(0,0,"sheep-top").setOrigin(0,0),this.bottom=this.add.sprite(0,t,"sheep-bottom").setOrigin(0,1).setDepth(t),this.cameras.main.setBounds(0,0,720,t),this.physics.world.setBounds(-100,0,920,t);var i={wheel:!0,bottom:t};this.scrolling=new s.default(this,i),this.input.on("pointerup",(function(){e.scrolling.enabled=!0,e.scrolling.wheel=!0})),this.territories=this.physics.add.group();var r=1;this.state.sheepTerritories.map((function(t){var i=(t.position-1)*e.height,s=(t.block-1)*e.height;++r>8&&(r=1),s+=e.topIndent;var o=a.bind(e)(t),c=new n.default(e,i,s,o,t);c.createForest(r),e.territories.add(c)})),this.buildBorders(),this.sheep=this.physics.add.group({collideWorldBounds:!0}),this.state.sheep.map((function(t){e.getSheep(t._id,t.type,t.x,t.y,t.counter,t.wool,t.diamond,t.vector,!1)})),this.wool=this.physics.add.group(),this.state.userSheep.tutorial<100&&this.showTutorial(),this.checkDoneTasks()}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(72),r=i(3),o=i(1),c=function(e){function t(t,i,s,n,a){return e.call(this,t,i,s,n,a)||this}return n(t,e),t.prototype.takeDiamondAnimal=function(){this.scene.takeDiamondSheep()},t.prototype.sellResource=function(){e.prototype.sellResource.call(this),this.scene.sellWool()},t.prototype.createMergingZone=function(){e.prototype.createMergingZone.call(this);var t=this.scene.state.farm.toLowerCase();this.scene.add.sprite(this.x,this.y-60,t+"-tent").setDepth(this.y).setOrigin(0,0);var i=String(this.scene.state["user"+this.scene.state.farm].fair);this.levelText=this.scene.add.text(this.x+200,this.y+180,i,{font:"34px Shadow",color:"#df870a"}).setOrigin(.5,.5).setDepth(this.y),this.scene.add.zone(this.x+120,this.y+45,300,145).setDropZone(void 0,(function(){})).type="top",this.scene.add.zone(this.x+120,this.y+190,300,145).setDropZone(void 0,(function(){})).type="bottom"},t.prototype.onTerritoryClick=function(){if(o.default.checkTestB(this.scene.state))return this.onTerritoryClickTestB();if(e.prototype.onTerritoryClick.call(this),this.cooldown>0){var t={type:1,sysType:19};return this.scene.state.territory=this,this.scene.state.modal=t,void this.scene.scene.launch("Modal",this.scene.state)}if(this.scene.state.userSheep.tutorial>=100)if(6!==this.territoryType&&7!==this.territoryType){t={type:1,sysType:2};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}else 6===this.territoryType?this.scene.state.userSheep.collectorLevel<this.scene.state.sheepCollectorSettings.length?this.scene.showImproveCollector():r.default.create(this.scene.game.scene.keys.SheepBars,this.scene.state.lang.maxCollectorLevel,3):7===this.territoryType&&this.takeDiamondAnimal()},t.prototype.onTerritoryClickTestB=function(){if(e.prototype.onTerritoryClick.call(this),this.cooldown>0){var t={type:1,sysType:19};return this.scene.state.territory=this,this.scene.state.modal=t,void this.scene.scene.launch("Modal",this.scene.state)}if(this.scene.state.userSheep.tutorial>=100)if(6!==this.territoryType&&7!==this.territoryType){t={type:1,sysType:2};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}else 6===this.territoryType?this.scene.state.userSheep.collectorLevel<this.scene.state.sheepSettings.partSettings.length||this.scene.state.userSheep.collectorTimeLevel<this.scene.state.sheepSettings.partSettings.length?this.scene.showImproveCollector():r.default.create(this.scene.game.scene.keys.SheepBars,this.scene.state.lang.maxCollectorLevel,3):7===this.territoryType&&this.takeDiamondAnimal()},t.prototype.setPositionImproveText=function(){var t,i,s;if(e.prototype.setPositionImproveText.call(this),5===this.territoryType){var n={x:null===(t=this.improveText)||void 0===t?void 0:t.x,y:null===(i=this.improveText)||void 0===i?void 0:i.y};this.improve<5?(n.x=this.x+70,n.y=this.y+136):this.improve<10?(n.x=this.x+73,n.y=this.y+136):this.improve<15?(n.x=this.x+58,n.y=this.y+136):(n.x=this.x+51,n.y=this.y+129),this.improveText.x===n.x&&this.improveText.y===n.y||this.improveText.setPosition(n.x,n.y).setDepth((null===(s=this.repository)||void 0===s?void 0:s.depth)+1)}else if(2===this.territoryType||3===this.territoryType){n={x:this.x+38,y:this.y+24};this.improveText.x===n.x&&this.improveText.y===n.y||this.improveText.setPosition(n.x,n.y).setDepth(this.depth+2)}},t.prototype.unlockTerritory=function(){var t,i,s,n;if(20===this.scene.state.userSheep.tutorial&&2===this.boughtType&&this.scene.doneTutor_20(),30===this.scene.state.userSheep.tutorial&&3===this.boughtType&&this.scene.doneTutor_30(),5===this.boughtType&&80===this.scene.state.userSheep.tutorial&&this.scene.doneTutor_80(),2===this.block&&3===this.position)for(var a in null===(i=null===(t=this.scene.sheep)||void 0===t?void 0:t.children)||void 0===i?void 0:i.entries)null===(n=null===(s=this.scene.sheep)||void 0===s?void 0:s.children)||void 0===n||(n.entries[a].drag=!1);e.prototype.unlockTerritory.call(this)},t}(a.default);t.default=c},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=function(e){function t(t,i){var s=e.call(this,t,i.x,i.y,"cave-wait")||this;return s.position=i,s.init(),s}return n(t,e),t.create=function(e,i){return new t(e,i)},t.prototype.init=function(){this.scene.add.existing(this),this.scene.state["user"+this.scene.state.farm].part<3&&this.setTexture("cave-disable"),this.setOrigin(.5,1).setDepth(this.position.y),this.pulseTimer=0,this.buildElements()},t.prototype.buildElements=function(){this.timerBg=this.scene.add.sprite(this.position.x,this.position.y-200,"cave-timer").setDepth(this.position.y).setVisible(!1),this.timer=this.scene.add.text(this.position.x,this.position.y-203,"3:00:00",{font:"28px Shadow",color:"#455409"}).setOrigin(.5,.5).setDepth(this.position.y).setVisible(!1),this.bgAd=this.scene.add.sprite(this.position.x+50,this.position.y-90,"bg-ad").setDepth(this.position.y),this.bgAd.setAngle(11).setVisible(!1),this.free=this.scene.add.text(this.position.x+50,this.position.y-90,"free",{font:"26px Bip",color:"#FBE2D2"}).setOrigin(.5,.5).setDepth(this.position.y).setStroke("#793510",4).setAngle(11).setVisible(!1),this.ad=this.scene.add.sprite(this.position.x+50,this.position.y-90,"ad-icon").setDepth(this.position.y).setAngle(11).setVisible(!1),this.setPlaneAnimation()},t.prototype.preUpdate=function(){this.checkAndSetState(),this.setTimerText()},t.prototype.setPlaneAnimation=function(){this.scene.tweens.add({targets:[this.bgAd,this.free,this.ad],delay:5e3,props:{scale:{value:1.25,duration:250,ease:"Power2",yoyo:!0},angle:{value:-5,duration:250,ease:"Power2",yoyo:!0},y:{value:"-=25",duration:250,ease:"Power2",yoyo:!0}},loop:-1})},t.prototype.setPulseAnimation=function(){this.pulseTimer++,20===this.pulseTimer?this.setTexture("cave-ready"):40===this.pulseTimer&&(this.pulseTimer=0,this.setTexture("cave-wait"))},t.prototype.checkAndSetState=function(){var e=this.scene.state["user"+this.scene.state.farm];e.part>=3&&(e.diamondAnimalTime<=0?(this.bgAd.visible||(this.bgAd.visible=!0),this.free.visible||(this.free.visible=!0),this.timer.visible&&this.timer.setVisible(!1),this.timerBg.visible&&this.timerBg.setVisible(!1),this.setPulseAnimation()):(this.free.visible&&(this.free.visible=!1),this.scene.state.readyAd&&e.diamondAnimalAd?(this.bgAd.visible||(this.bgAd.visible=!0),this.ad.visible||(this.ad.visible=!0)):(this.bgAd.visible&&(this.bgAd.visible=!1),this.ad.visible&&(this.ad.visible=!1))))},t.prototype.setTimerText=function(){var e=this.scene.state["user"+this.scene.state.farm];if(this.currentTimer!==e.diamondAnimalTime&&(this.currentTimer=e.diamondAnimalTime,e.diamondAnimalTime>0)){this.timerBg.visible||this.timerBg.setVisible(!0),this.timer.visible||this.timer.setVisible(!0),"cave-wait"!==this.texture.key&&this.setTexture("cave-wait");var t=a.timer(e.diamondAnimalTime);this.timer.setText(t),e.diamondAnimalTime<=0&&(e.diamondAnimalAd=!0,this.timer.setVisible(!1),this.timerBg.setVisible(!1))}},t}(Phaser.GameObjects.Sprite);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this.scene=e,this.position=t,this.init()}return e.create=function(t,i){return new e(t,i)},e.prototype.init=function(){var e=this;this.stars=this.scene.add.group(),this.scene.time.addEvent({delay:100,callbackScope:this,repeat:2,callback:function(){e.animation()}}),this.scene.time.addEvent({delay:2e3,callback:function(){e.stars.destroy(!0)}})},e.prototype.animation=function(){var e={value:2*Math.PI,duration:300,repeat:-1,ease:"Power1"},t={value:{from:0,to:.65},duration:300,yoyo:!0,ease:"Power3"},i={value:{from:1,to:0},duration:600},s=this.star;this.scene.tweens.add({targets:s,props:{x:{value:this.position.x-Phaser.Math.Between(40,120),duration:150,yoyo:!0},y:{value:this.position.y-Phaser.Math.Between(40,120),duration:250,yoyo:!0},rotation:e,scale:t,alpha:i},onComplete:function(){return s.destroy()},ease:"Sine.easeInOut"});var n=this.star;this.scene.tweens.add({delay:150,targets:n,props:{x:{value:this.position.x+Phaser.Math.Between(40,120),duration:250,yoyo:!0},y:{value:this.position.y-Phaser.Math.Between(40,120),duration:150,yoyo:!0},rotation:e,scale:t,alpha:i},onComplete:function(){return n.destroy()},ease:"Sine.easeInOut"});var a=this.star;this.scene.tweens.add({delay:50,targets:a,props:{x:{value:this.position.x+Phaser.Math.Between(40,120),duration:150,yoyo:!0},y:{value:this.position.y+Phaser.Math.Between(40,120),duration:250,yoyo:!0},rotation:e,scale:t,alpha:i},onComplete:function(){return a.destroy()},ease:"Sine.easeInOut"});var r=this.star;this.scene.tweens.add({delay:200,targets:r,props:{x:{value:this.position.x-Phaser.Math.Between(40,120),duration:250,yoyo:!0},y:{value:this.position.y+Phaser.Math.Between(40,120),duration:200,yoyo:!0},rotation:e,scale:t,alpha:i},onComplete:function(){return r.destroy()},ease:"Sine.easeInOut"});var o=this.star;this.scene.tweens.add({delay:300,targets:o,props:{x:{value:this.position.x+Phaser.Math.Between(40,120),duration:200,yoyo:!0},y:{value:this.position.y+Phaser.Math.Between(40,120),duration:250,yoyo:!0},rotation:e,scale:t,alpha:i},onComplete:function(){return o.destroy()},ease:"Sine.easeInOut"});var c=this.star;this.scene.tweens.add({delay:100,targets:c,props:{x:{value:this.position.x-Phaser.Math.Between(40,120),duration:250,yoyo:!0},y:{value:this.position.y-Phaser.Math.Between(40,120),duration:200,yoyo:!0},rotation:e,scale:t,alpha:i},onComplete:function(){return c.destroy()},ease:"Sine.easeInOut"})},Object.defineProperty(e.prototype,"star",{get:function(){var e=this.scene.add.sprite(this.position.x,this.position.y,"star").setDepth(1e4).setScale(.6).setAlpha(0);return this.stars.add(e),e},enumerable:!1,configurable:!0}),e}();t.default=s},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=function(e){function t(t){var i=this,s=0===t.territoryType?"hatchet":"hammer";return(i=e.call(this,t.scene,t.x+80,t.y+65,s)||this).territory=t,i.price=3*Math.round(i.territory.cooldown/60),i.create(),i.setHatchAnimation(),i.setListeners(),i}return n(t,e),t.prototype.create=function(){this.scene.add.existing(this),this.setOrigin(.2,.8),this.setScale(1.1),this.setDepth(this.territory.depth+5);this.timer=this.scene.add.text(this.territory.x+120,this.territory.y+120,a.shortTime(this.territory.cooldown,this.scene.state.lang),{fontSize:"28px",fontFamily:"Bip",color:"#FFF4F7",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}}).setDepth(this.depth+240).setOrigin(.5);var e=this.timer.getBounds();this.timerBg=this.scene.add.sprite(e.centerX,e.centerY+28,"cooldown-plate").setDepth(this.depth+239),this.btn=this.scene.add.sprite(e.centerX,e.bottom+25,"improve-collector").setDepth(this.depth+240).setScale(.6),this.btnDiamond=this.scene.add.sprite(e.centerX-15,this.btn.y-2,"diamond").setDepth(this.depth+240).setScale(.1).setOrigin(0,.5),this.btnPrice=this.scene.add.text(e.centerX+15,this.btn.y-2,"1000",{fontSize:"26px",fontFamily:"Shadow",color:"#E4DADD"}).setDepth(this.depth+240).setOrigin(1,.5),this.setBtnTextPosition()},t.prototype.preUpdate=function(t,i){var s,n;if(e.prototype.preUpdate.call(this,t,i),this.checkDestroy())this.active&&(this.territory.unlockTerritory(),this.scene.scene.isActive("Modal")&&1===(null===(s=this.scene.state.modal)||void 0===s?void 0:s.type)&&19===(null===(n=this.scene.state.modal)||void 0===n?void 0:n.sysType)&&this.scene.scene.stop("Modal"),this.destroy());else if(this.territory.cooldown>0){this.setPrice();var r=a.shortNum(this.price);this.btnPrice.text!==r&&(this.btnPrice.setText(r),this.setBtnTextPosition());var o=a.shortTime(this.territory.cooldown,this.scene.state.lang);this.timer.text!==o&&this.timer.setText(o)}},t.prototype.checkDestroy=function(){return this.territory.territoryType!==this.territory.boughtType&&this.territory.cooldown<=0},t.prototype.setHatchAnimation=function(){this.anim=this.scene.add.tween({targets:this,duration:300,delay:150,angle:50,repeat:-1,yoyo:!0,repeatDelay:250})},t.prototype.destroy=function(){var t,i,s,n,a,r;e.prototype.destroy.call(this),null===(t=this.timer)||void 0===t||t.destroy(),null===(i=this.timerBg)||void 0===i||i.destroy(),null===(s=this.btnPrice)||void 0===s||s.destroy(),null===(n=this.btnDiamond)||void 0===n||n.destroy(),null===(a=this.btn)||void 0===a||a.destroy(),null===(r=this.anim)||void 0===r||r.remove()},t.prototype.setListeners=function(){var e=this;this.scene.clickModalBtn({btn:this.btn,title:this.btnPrice,img1:this.btnDiamond},(function(){e.scene.state.territory=e.territory,e.scene.state.modal={type:1,sysType:19},e.scene.scene.launch("Modal",e.scene.state)}))},t.prototype.setPrice=function(){this.price=3*Math.round(this.territory.cooldown/60),this.price<=0?this.price=1:this.price>=1e3&&(this.price=1e3)},t.prototype.setBtnTextPosition=function(){var e=this.btn.x,t=(this.btnPrice.getBounds().width+this.btnDiamond.getBounds().width+5)/2;this.btnPrice.setX(e+t),this.btnDiamond.setX(e-t)},t}(Phaser.GameObjects.Sprite);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this._gameObj=t,this._scene=e,this.setAnim()}return e.create=function(t,i){new e(t,i)},e.prototype.setAnim=function(){var e=this;this._scene.add.tween({targets:this._gameObj,alpha:0,duration:1500,onComplete:function(){var t;null===(t=e._gameObj)||void 0===t||t.destroy()}})},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(3);t.default=function(){var e=this;this.input.on("dragstart",(function(t,i){e.state.userSheep.tutorial>=70&&(e.scrolling.downHandler(),e.scrolling.enabled=!1,e.scrolling.wheel=!1,i.drag=!0,i.setVelocity(0,0),i.body.onWorldBounds=!1,2===i.vector||3===i.vector||7===i.vector||8===i.vector?i.anims.play("sheep-stay-left"+i.type,!0):i.anims.play("sheep-stay-right"+i.type,!0))})),this.input.on("drag",(function(t,i,s,n){e.state.userSheep.tutorial>=70&&(i.x=s,i.y=n,i.setDepth(n+Math.round(i.height/2+100)))})),this.input.on("drop",(function(t,i,a){var r=e.currentTerritory(i.x,i.y);if(r)if(4===r.territoryType)0===i.type?(n.default.create(e,e.state.lang.mergingDiamondSheep,1),e.cancelMerging(r,i,!1)):i.type===e.state.sheepSettings.sheepSettings.length?(n.default.create(e,e.state.lang.mergingMessageBreedMax,1),e.cancelMerging(r,i,!1)):e.state.userSheep.fair<i.type?(n.default.create(e,e.state.lang.needImproveFair,1),e.cancelMerging(r,i,!1)):"top"===a.type?e.checkMerging(r,i,"top"):"bottom"===a.type&&e.checkMerging(r,i,"bottom");else{var o=s.random(r.x+40,r.x+200),c=s.random(r.y+280,r.y+440);e.aim(i,o,c)}else e.teleportation(i)})),this.input.on("dragend",(function(t,i){e.scrolling.enabled=!0,e.scrolling.wheel=!0,i.body.onWorldBounds=!0,i.drag=!1,i.aim=!1,i.spread=!1,i.aimX=0,i.aimY=0,i.collision=0,i.counter=200;var s=e.currentTerritory(i.x,i.y);if(s){if(4!==s.territoryType)for(var n in e.dragSheepMerging(i),(void 0===s||0===s.territoryType)&&e.state.userSheep.tutorial>=100?(i.expel=!0,e.state.animal=i,e.confirmExpelSheep()):i.expel=!1,e.territories.children.entries){var a=e.territories.children.entries[n];if(4===a.territoryType){if(a.merging.find((function(e){return e._id===i._id}))){a.merging.splice(0,1),a.mergingCounter=0;break}}else i.merging=!1}}else i.expel=!0,e.state.animal=i,e.confirmExpelSheep(),e.teleportation(i)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(35);t.default=function(){for(var e in this.sheep.children.entries){var t=this.sheep.children.entries[e];if(t.drag)t.body.reset(t.x,t.y);else{var i=this.currentTerritory(t.x,t.y);if(i){if(4!==i.territoryType||t.aim)if(2!==i.territoryType&&3!==i.territoryType&&4!==i.territoryType&&(0===i.territoryType&&t.expel?(t.aim=!1,t.spread=!1,t.moving=!1,t.setVelocity(0,0),t.body.reset(t.x,t.y)):1===i.territoryType&&20===this.state.userSheep.tutorial?t.aim||(t.vector=6,t.anims.play("sheep-stay-right1",!0),t.woolSprite.setTexture("sheep-right-1-0"),t.body.reset(t.x,t.y),t.drag=!0,t.x=360,t.y=600,t.wool=0):1===i.territoryType&&30===this.state.userSheep.tutorial||this.teleportation(t)),t.aim||t.expel){var a=Phaser.Math.Distance.Between(t.x,t.y,t.aimX,t.aimY);t.x<0||t.x>720||t.y<0||a>t.distance&&t.distance>0?(600===t.aimX&&600===t.aimY&&30===this.state.userSheep.tutorial&&(n.default.create(this,t),t.vector=6,t.anims.play("sheep-stay-right1",!0),t.woolSprite.setTexture("sheep-right-1-0"),t.body.reset(t.x,t.y),t.drag=!0,t.x=600,t.y=600,t.wool=0),t.body.reset(t.x,t.y),t.aim=!1,t.spread=!1,t.moving=!1,t.aimX=0,t.aimY=0,t.distance=0):t.distance=a}else{if(1===s.random(1,170)&&(t.changeVector=!0,t.vector=s.random(1,8)),t.counter>s.random(130,170))t.counter>=400&&(t.counter=0),!1!==t.moving&&(t.moving=!1,t.setVelocity(0,0),t.body.reset(t.x,t.y));else{if(!t.moving||t.changeVector){t.body.reset(t.x,t.y),t.setVelocity(0,0);var r=s.random(this.velocity-10,this.velocity+10),o=s.random(this.velocity-10,this.velocity+10);switch(t.vector){case 1:t.setVelocity(r,o);break;case 2:t.setVelocity(-r,o);break;case 3:t.setVelocity(-r,-o);break;case 4:t.setVelocity(r,-o);break;case 5:t.setVelocity(0,-o);break;case 6:t.setVelocity(r,0);break;case 7:t.setVelocity(0,o);break;case 8:t.setVelocity(-r,0)}}t.moving=!0,t.changeVector=!1}t.collision>0&&t.collision++,t.collision>=200&&(t.collision=0),t.counter++}if((1===i.position&&t.x<t.width/2||3===i.position&&t.x>3*this.height-t.width/2||8===i.block&&t.y>this.topIndent+8*this.height-t.height/2)&&!t.aim){var c=s.random(i.x+Math.ceil(t.width/2),i.x-Math.ceil(t.width/2)+240),h=s.random(i.y+Math.ceil(t.width/2),i.y-Math.ceil(t.width/2)+240);this.aim(t,c,h)}if(4===i.territoryType&&!t.merging&&!t.aim){t.merging=!1;var l=Phaser.Math.Between(i.x+40,i.x+200),d=Phaser.Math.Between(i.y+280,i.y+440);this.aim(t,l,d)}}else this.teleportation(t);t.setDepth(t.y+Math.round(t.height/2+1))}this.woolSprite(t)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(21),a=i(35),r=i(3),o=i(15),c=i(1),h=0,l=0,d=1,u=0,p=0;t.default=function(){var e,t,i,f,m=this,g=!1,y=!1;this.time.addEvent({delay:1e3,callback:function(){var v,w,b,x,k,T,_,S,C,P;m.remainderSellResource(),m.onlineStatus();var B=m.balance();if(B.notEnoughGrass||B.notEnoughWater){if(++l>=30*d&&m.state.userSheep.part>=2&&(r.default.create(m.game.scene.keys.SheepBars,m.state.lang.notEnoughtWaterAndGrass,4),l=0,d++),Phaser.Math.Between(0,7)>=5&&m.state.userSheep.tutorial>=100&&m.sheep.children.entries.length>0){var A=Phaser.Math.Between(0,m.sheep.children.entries.length-1),E=["not-enought-water","not-enought-grass"][Phaser.Math.Between(0,1)];B.notEnoughGrass&&!B.notEnoughWater?E="not-enought-grass":B.notEnoughWater&&!B.notEnoughGrass&&(E="not-enought-water"),a.default.create(m,m.sheep.children.entries[A],E)}}else 0!==l&&1!==d&&(l=0,d=1);!g&&B.alarm?(!m.state.user.additionalTutorial.balance&&m.state.userSheep.tutorial>=100&&!m.caveTutor&&(m.state.user.additionalTutorial.balance=!0,m.showTutorial("balance")),m.state.amplitude.logAmplitudeEvent("resources",{status:"problem started"})):g&&!B.alarm&&m.state.amplitude.logAmplitudeEvent("resources",{status:"problem is over"}),g=B.alarm,m.state.userSheep.part>=3&&!m.state.user.additionalTutorial.cave&&0===m.state.userSheep.diamondAnimalTime&&!c.default.checkActiveScenes(m,["Modal","Tutorial","Profile"])&&(m.caveTutor=!0,m.time.addEvent({delay:300,callback:function(){m.showTutorial("cave1")},callbackScope:m,loop:!1})),m.state.userSheep.part>=m.herdBoostLvl&&!m.state.user.additionalTutorial.herdBoost&&!c.default.checkActiveScenes(m,["Modal","Tutorial","Profile"])&&m.showTutorial("herdBoost1"),m.state.userSheep.part>=m.feedBoostLvl&&!m.state.user.additionalTutorial.feedBoost&&!c.default.checkActiveScenes(m,["Modal","Tutorial","Profile"])&&m.showTutorial("feedBoost1");var M=!0,O=function(e){var t=m.territories.children.entries[e];if((2===t.territoryType||3===t.territoryType)&&t.volume<1e3){var i=m.settings.territoriesSheepSettings.find((function(e){return e.improve===t.improve})).regeneration;c.default.checkTestB(m.state)&&(i=m.state.sheepSettings.partSettings[t.improve-1].territory.regeneration),t.volume+=i,t.volume>1e3&&(t.volume=1e3)}M=M&&0!==t.territoryType};for(var I in m.territories.children.entries)O(I);M&&m.achievement.tryId(35);var R=0,D=function(e){var t,i=m.sheep.children.entries[e];0===i.type&&(R+=1),t=0===i.type?1:i.type;var s=m.settings.sheepSettings.find((function(e){return e.breed===t}));if(i.wool<1e3&&B.waterRecovery>0&&B.grassRecovery>0){var n=s.wool_growth;B.alarm&&(n=Math.round(n/100*m.settings.sheepBadPercent))<1&&(n=1),i.wool+=n,i.wool>1e3&&(i.wool=1e3)}var a=m.currentTerritory(i.x,i.y);a&&!i.drag&&(2===a.territoryType?s.eating>a.volume?a.volume=0:a.volume-=s.eating:3===a.territoryType&&(s.drinking>a.volume?a.volume=0:a.volume-=s.drinking))};for(var I in m.sheep.children.entries)D(I);R>=5&&m.achievement.tryId(9);var N=function(e){var t=m.territories.children.entries[e];if(2!==t.territoryType&&3!==t.territoryType&&5!==t.territoryType||t.changeSprite(),4===t.territoryType&&(t.mergingCounter>0&&t.mergingCounter++,t.mergingCounter>m.state.maxMerginTime)){var i=void 0,s=void 0;switch(t.merging.length){case 0:i=!1,s=!1;break;case 1:i=m.sheep.children.entries.find((function(e){return e._id===t.merging[0]._id})),s=!1;break;case 2:i=m.sheep.children.entries.find((function(e){return e._id===t.merging[0]._id})),s=m.sheep.children.entries.find((function(e){return e._id===t.merging[1]._id}))}m.cancelMerging(t,i,s)}};for(var I in m.territories.children.entries)N(I);if(m.state.userSheep.collector>0&&m.state.userSheep.collector--,m.tryTask(6,0,0,m.state.userSheep.money),m.checkAnimalTask(),m.game.scene.keys.SheepBars.setBalanceBars(B),m.autoSaveTimer++,m.autoSaveTimer>=m.state.autoSaveSpeed&&m.autosave(),70===m.state.userSheep.tutorial&&!m.scene.isActive("Tutorial")){m.mergTutor++;var F=m.territories.children.entries.find((function(e){return 4===e.territoryType}));m.mergTutor>5&&0===F.merging.length&&m.showTutorial()}var L=Math.round((new Date).getTime()/1e3);if(L>m.autoprogressTimer+5&&(m.state.offlineTime=L-m.autoprogressTimer,m.autoprogress()),m.autoprogressTimer=L,m.dailyAward(),m.state.userSheep.part<=3){var Y=m.partTasks();c.default.checkTestB(m.state)?Y.sort((function(e,t){return e.awardTaken<t.awardTaken?-1:e.awardTaken>t.awardTaken||e.done<t.done?1:e.done>t.done||e.sort<t.sort?-1:e.sort>t.sort?1:0})):Y.sort((function(e,t){return e.got_awarded<t.got_awarded?-1:e.got_awarded>t.got_awarded||e.done<t.done?1:e.done>t.done||e.sort<t.sort?-1:e.sort>t.sort?1:0}));var U=Y[0];if(0===(null==U?void 0:U.done)&&(127===(null==U?void 0:U.id)||"1-4"===(null==U?void 0:U.id))&&!e)(null==(V=m.territories.children.entries.find((function(e){return 5===e.territoryType})))?void 0:V.volume)>0&&(e=n.default.generate(m,9,{x:V.x+120,y:V.y+120}));if(0===(null==U?void 0:U.done)&&(5===(null==U?void 0:U.id)||"2-1"===(null==U?void 0:U.id)||"2-2"===(null==U?void 0:U.id))&&!t){var V=m.territories.children.entries.find((function(e){return 3===e.block&&3===e.position}));t=n.default.generate(m,10,{x:V.x+120,y:V.y+180})}if(0===(null==U?void 0:U.done)&&"3-4"===(null==U?void 0:U.id)&&!i){V=m.territories.children.entries.find((function(e){return 4===e.territoryType}));i=n.default.generate(m,21,{x:V.x+120,y:V.y+180})}}if(m.intervalCollectorTutorial(),m.state.newbieTime>0&&m.state.newbieTime--,m.scene.isActive("Modal")||m.scene.get("Modal").load.isLoading()||m.scene.isActive("Tutorial")||m.scene.isActive("Profile")||m.getNewbieAward(),m.ads.findAd(),m.nextDayTimer(),m.state["user"+m.state.farm].part>=m.game.scene.keys[m.state.farm].herdBoostLvl&&m.state["user"+m.state.farm].takenHerdBoost<=0&&m.state.user.additionalTutorial.herdBoost?m.state.shopNotificationCount[3]=1:m.state.shopNotificationCount[3]=0,!m.state.user.takenFreeDiamonds&&m.state.userSheep.tutorial>=100?m.state.shopNotificationCount[0]=1:m.state.shopNotificationCount[0]=0,m.game.scene.keys[m.state.farm+"Bars"].updateNotificationShop(),!m.state.donate||m.scene.get("Modal").load.isLoading()||m.scene.isActive("Modal")||m.scene.isActive("Tutorial")||m.scene.isActive("Profile")||m.showDonate(),m.state.userSheep.feedBoostTime>0){if(Phaser.Math.Between(0,7)>=5&&m.sheep.children.entries.length>0){A=Phaser.Math.Between(0,m.sheep.children.entries.length-1);a.default.create(m,m.sheep.children.entries[A])}m.state.userSheep.feedBoostTime--}if(m.sheep.children.entries.every((function(e){return!1===e.spread}))&&m.spreadAnimals(),1===m.state.progress.event.type&&(m.state.progress.event.endTime>0&&(m.state.progress.event.endTime--,m.scene.isActive("Profile")&&(null===(v=m.game.scene.keys.Profile.eventEndTime)||void 0===v||v.setText(s.shortTime(m.state.progress.event.endTime,m.state.lang)))),m.state.progress.event.startTime>0&&(m.state.progress.event.startTime--,m.scene.isActive("Profile")&&(null===(w=m.game.scene.keys.Profile.eventStartTime)||void 0===w||w.setText(s.shortTime(m.state.progress.event.startTime,m.state.lang))))),m.state.progress.event.endTime<=0&&!(null===(b=m.state.userUnicorn)||void 0===b?void 0:b.takenAward)&&(null===(x=m.state.userUnicorn)||void 0===x?void 0:x.points)>0&&m.state.progress.event.open&&!m.scene.get("Modal").load.isLoading()&&!m.scene.isActive("Modal")&&!m.scene.isActive("Tutorial")&&!m.scene.isActive("Profile")&&1===m.state.progress.event.type&&(y||(m.getEventRaiting(),y=!0),null===(k=m.state.unicornRaitings)||void 0===k?void 0:k.updated)){m.state.modal={type:12},m.scene.launch("Modal",m.state)}m.state.progress.event.endTime<=0&&!(null===(T=m.state.userUnicorn)||void 0===T?void 0:T.takenAward)&&(null===(_=m.state.userUnicorn)||void 0===_?void 0:_.points)>0&&m.state.progress.event.open&&m.scene.isActive("Profile")&&(m.autosave(),m.scene.stop("Profile")),m.state.userSheep.part>4&&(""!==m.state.name||""!==m.state.user.login||"ya"===m.state.platform&&!m.state.yaPlayer)&&m.state.progress.event.startTime<=0&&m.state.progress.event.endTime>0&&m.state.progress.event.open&&(0!==(null===(S=m.state.userUnicorn)||void 0===S?void 0:S.tutorial)||1!==m.state.progress.event.type||f||m.scene.isActive("Modal")||m.scene.isActive("Tutorial")||m.scene.isActive("Profile")||(f=n.default.generate(m.game.scene.keys[m.state.farm+"Bars"],17)),0===(null===(C=m.state.userUnicorn)||void 0===C?void 0:C.tutorial)&&1===m.state.progress.event.type&&!m.scene.isActive("Tutorial")&&m.scene.isActive("Profile")&&m.state.progress.event.open&&m.showEventTutorial()),!m.state.clanTutor&&!m.state.fortuneTutor||f||c.default.checkActiveScenes(m,["Modal","Tutorial","Profile"])||(f=n.default.generate(m.game.scene.keys[m.state.farm+"Bars"],20)),m.state.clanTutor&&m.scene.isActive("Profile")&&!m.scene.isActive("Tutorial")&&(m.showTutorial("clan"),f=null),m.state.fortuneTutor&&m.scene.isActive("Profile")&&!m.scene.isActive("Tutorial")&&(m.showTutorial("fortune"),f=null),m.intervalPorgressCollectorTime(),m.chickenIntervalProgress(),m.cowIntervalProgress(),m.progressTerritoryCooldown(m.territories.children.entries,1,"Sheep"),h<2?h+=1:(h=0,u=m.chickenCollectorProgress(u),p=m.cowCollectorProgress(p)),m.cowFactoryProgress(),o.progressClanCooldown(m.state),o.progressSalesTime(m.state),m.updateProfileNotification(),m.showFeedBoostSpeechBubble(),(null===(P=m.sheep)||void 0===P?void 0:P.children.entries.length)>0&&L%14==0&&m.playSoundOnce("sheep-sound-"+Phaser.Math.Between(1,2)),m.tryClanTask(18),o.progressClanEventTime(m.state),m.state.clanEventTakenAward||m.scene.get("Modal").load.isLoading()||m.scene.isActive("Modal")||m.scene.isActive("Tutorial")||m.scene.isActive("Profile")||m.scene.isActive("Fortune")||(m.state.modal={type:22},m.scene.launch("Modal",m.state)),m.time.addEvent({delay:100,callback:function(){o.showSale(m)}}),m.speedCheckCollector(),o.decrementAdFreeDiamondTime(m.state),o.incInterstitialAdTimer(m.state),o.incFortuneAdTimer(m.state),m.state.user.clanTasks.length>0&&m.state.user.clanTasks.every((function(e){return e.done}))&&m.achievement.tryId(122)},callbackScope:this,loop:!0})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animations=void 0,t.animations=function(){this.anims.create({key:"sheep-move-right0",frames:this.anims.generateFrameNumbers("sheep0",{start:5,end:9}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left0",frames:this.anims.generateFrameNumbers("sheep0",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right0",frames:[{key:"sheep0",frame:5}],frameRate:20}),this.anims.create({key:"sheep-stay-left0",frames:[{key:"sheep0",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right1",frames:this.anims.generateFrameNumbers("sheep1",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left1",frames:this.anims.generateFrameNumbers("sheep1",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right1",frames:[{key:"sheep1",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left1",frames:[{key:"sheep1",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right2",frames:this.anims.generateFrameNumbers("sheep2",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left2",frames:this.anims.generateFrameNumbers("sheep2",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right2",frames:[{key:"sheep2",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left2",frames:[{key:"sheep2",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right3",frames:this.anims.generateFrameNumbers("sheep3",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left3",frames:this.anims.generateFrameNumbers("sheep3",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right3",frames:[{key:"sheep3",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left3",frames:[{key:"sheep3",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right4",frames:this.anims.generateFrameNumbers("sheep4",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left4",frames:this.anims.generateFrameNumbers("sheep4",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right4",frames:[{key:"sheep4",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left4",frames:[{key:"sheep4",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right5",frames:this.anims.generateFrameNumbers("sheep5",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left5",frames:this.anims.generateFrameNumbers("sheep5",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right5",frames:[{key:"sheep5",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left5",frames:[{key:"sheep5",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right6",frames:this.anims.generateFrameNumbers("sheep6",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left6",frames:this.anims.generateFrameNumbers("sheep6",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right6",frames:[{key:"sheep6",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left6",frames:[{key:"sheep6",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right7",frames:this.anims.generateFrameNumbers("sheep7",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left7",frames:this.anims.generateFrameNumbers("sheep7",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right7",frames:[{key:"sheep7",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left7",frames:[{key:"sheep7",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right8",frames:this.anims.generateFrameNumbers("sheep8",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left8",frames:this.anims.generateFrameNumbers("sheep8",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right8",frames:[{key:"sheep8",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left8",frames:[{key:"sheep8",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right9",frames:this.anims.generateFrameNumbers("sheep9",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left9",frames:this.anims.generateFrameNumbers("sheep9",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right9",frames:[{key:"sheep9",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left9",frames:[{key:"sheep9",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right10",frames:this.anims.generateFrameNumbers("sheep10",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left10",frames:this.anims.generateFrameNumbers("sheep10",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right10",frames:[{key:"sheep10",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left10",frames:[{key:"sheep10",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right11",frames:this.anims.generateFrameNumbers("sheep11",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left11",frames:this.anims.generateFrameNumbers("sheep11",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right11",frames:[{key:"sheep11",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left11",frames:[{key:"sheep11",frame:1}],frameRate:20}),this.anims.create({key:"sheep-move-right12",frames:this.anims.generateFrameNumbers("sheep12",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"sheep-move-left12",frames:this.anims.generateFrameNumbers("sheep12",{start:0,end:3}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"sheep-stay-right12",frames:[{key:"sheep12",frame:4}],frameRate:20}),this.anims.create({key:"sheep-stay-left12",frames:[{key:"sheep12",frame:1}],frameRate:20})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragSheepMerging=t.woolSprite=t.confirmExpelSheep=t.sellWool=t.collectWool=t.buySheep=t.cancelMerging=t.checkMerging=t.getSheep=t.aim=t.reverse=t.teleportation=void 0;var s=i(0),n=i(21),a=i(6),r=i(29),o=i(1740),c=i(3),h=i(1),l=i(8);t.teleportation=function(e){var t=[];for(var i in this.territories.children.entries)2!==this.territories.children.entries[i].territoryType&&3!==this.territories.children.entries[i].territoryType||t.push({_id:this.territories.children.entries[i]._id,block:this.territories.children.entries[i].block,position:this.territories.children.entries[i].position,count:0});var n=function(e){var i=a.sheep.children.entries[e],s=a.currentTerritory(i.x,i.y);void 0!==s&&void 0!==(s=t.find((function(e){return e._id===s._id})))&&s.count++},a=this;for(var i in this.sheep.children.entries)n(i);if(t.length>0){t.sort((function(e,t){return e.count<t.count?-1:e.count>t.count?1:0}));var r=Math.ceil(e.width/2)+1,o=Math.ceil(e.height/2)+1,c=(t[0].position-1)*this.height+r,h=t[0].position*this.height-r,l=(t[0].block-1)*this.height+o+this.topIndent,d=t[0].block*this.height-o+this.topIndent;e.x=s.random(c,h),e.y=s.random(l,d),e.counter=200,e.aim=!1,e.aimX=0,e.aimY=0,e.distance=0}else e.drag=!0,e.x=600,e.y=600,e.wool=0},t.reverse=function(e){e.collision=1;var t=s.random(this.velocity-5,this.velocity+5),i=s.random(this.velocity-5,this.velocity+5);switch(e.setVelocity(0,0),e.body.reset(e.x,e.y),e.vector){case 1:e.vector=3,e.setVelocity(-t,-i);break;case 2:e.vector=4,e.setVelocity(t,-i);break;case 3:e.vector=1,e.setVelocity(t,i);break;case 4:e.vector=2,e.setVelocity(-t,i);break;case 5:e.vector=7,e.setVelocity(0,i);break;case 6:e.vector=8,e.setVelocity(-t,0);break;case 7:e.vector=5,e.setVelocity(0,-i);break;case 8:e.vector=6,e.setVelocity(t,0)}},t.aim=function(e,t,i){e.x<t&&e.y>i?e.vector=4:e.x<t&&e.y<i?e.vector=1:e.x>t&&e.y<i?e.vector=2:e.x>t&&e.y>i?e.vector=3:e.x===t&&e.y>i?e.vector=5:e.x===t&&e.y<i?e.vector=7:e.x<t&&e.y===i?e.vector=6:e.x>t&&e.y===i&&(e.vector=8),e.aim=!0,e.aimX=t,e.aimY=i,e.distance=0;var s=new Phaser.Math.Vector2;s.x=t,s.y=i;var n=Phaser.Math.Distance.Between(e.x,e.y,s.x,s.y),a=1;n>=400?a=.075:n<400&&n>=300?a=.1:n<300&&n>=200?a=.13:n<200&&n>=100&&(a=.25),20===this.state.userSheep.tutorial&&(a=.5),this.physics.moveToObject(e,s,n*a)},t.getSheep=function(e,t,i,s,n,r,o,c,h){var l=this;void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===c&&(c=7),void 0===h&&(h=!0),t>this.state.sheepSettings.sheepSettings.length&&(t=this.state.sheepSettings.sheepSettings.length);var d=this.sheep.create(i,s,"sheep"+t).setInteractive().setDepth(s).setCollideWorldBounds(!0);this.input.setDraggable(d),d.moving=!1,d.vector=c,d.counter=n,d.aim=!1,d.aimX=0,d.aimY=0,d.distance=0,d.drag=!1,d.dragTimeout=0,d.body.onWorldBounds=!0,d.collision=1,d.body.mass=0,d.changeVector=!1,d.merging=!1,d.type=t,d.wool=r,d._id=e,d.diamond=o,d.expel=!1,d.spread=!1;var u,p="right";u=r<=200?1:r>200&&r<=600?2:r>600&&r<=900?3:4,2!==c&&3!==c&&7!==c&&8!==c||(p="left"),d.woolSprite=this.add.sprite(i,s,"sheep-"+p+"-"+d.type+"-"+u);var f=0!==d.type?"shave-status":"diamond-status";return d.shaveStatus=this.add.sprite(i,s,f).setVisible(!1),d.anims.play("sheep-stay-"+p+d.type,!0),h&&a.default.create(this,{x:i,y:s},1),this.click(d,(function(){d.wool>=900&&l.collectWool(d,!0)})),d},t.checkMerging=function(e,t,i){var n=this;t.merging=!0,e.mergingCounter=1;var a=e.merging.find((function(e){return e._id===t._id}));if(void 0===a?(1===e.merging.length&&e.merging[0].position===i&&("top"===i?i="bottom":"bottom"===i&&(i="top")),e.merging.push({_id:t._id,type:t.type,position:i}),"top"===i?(t.anims.play("sheep-stay-right"+t.type,!0),t.vector=6,t.y=e.y+30,t.x=e.x+90):"bottom"===i&&(t.anims.play("sheep-stay-right"+t.type,!0),t.vector=6,t.y=e.y+130,t.x=e.x+90)):("top"===a.position&&"bottom"===i&&(a.position="bottom"),"bottom"===a.position&&"top"===i&&(a.position="top"),"top"===i?(t.anims.play("sheep-stay-right"+t.type,!0),t.vector=6,t.y=e.y+30,t.x=e.x+90):"bottom"===i&&(t.anims.play("sheep-stay-right"+t.type,!0),t.vector=6,t.y=e.y+130,t.x=e.x+90)),2===e.merging.length){var o=this.sheep.children.entries.find((function(t){return t._id===e.merging[0]._id})),h=this.sheep.children.entries.find((function(t){return t._id===e.merging[1]._id}));if((null==o?void 0:o.type)===(null==h?void 0:h.type))this.mergTutor=0,this.time.addEvent({delay:100,callback:function(){var t={x:e.x+120,y:e.y+120};r.default.create(n,t);var i=o.type+1;o.woolSprite.destroy(),h.woolSprite.destroy(),o.shaveStatus.destroy(),h.shaveStatus.destroy(),o.destroy(),h.destroy();var a="local_"+s.randomString(18),c=e.x+120,l=e.y+240,d=n.getSheep(a,i,c,l,0,0,0,7,!1),u=s.random(e.x+40,e.x+200),p=s.random(e.y+280,e.y+440);n.aim(d,u,p),n.tryTask(2,i),n.tryTask(4,i),n.tryClanTask(5),n.checkAnimalTask(),70===n.state.userSheep.tutorial&&n.doneTutor_70()},callbackScope:this,loop:!1}),e.merging=[];else if(o&&h)c.default.create(this,this.state.lang.mergingMessageBreed,1),this.cancelMerging(e,o,h);else{for(var l in this.sheep.children.entries)this.sheep.children.entries[l].merging=!1;o&&this.teleportation(o),h&&this.teleportation(h),e.merging=[]}}},t.cancelMerging=function(e,t,i){var n=this;this.time.addEvent({delay:100,callback:function(){if(t){t.merging=!1;var a=s.random(e.x+40,e.x+200),r=s.random(e.y+280,e.y+440);n.aim(t,a,r)}if(i){i.merging=!1;a=s.random(e.x+40,e.x+200),r=s.random(e.y+280,e.y+440);n.aim(i,a,r)}var o=function(t){var i=n.sheep.children.entries.find((function(i){return i._id===e.merging[t]._id})),a=s.random(e.x+40,e.x+200),r=s.random(e.y+280,e.y+440);n.aim(i,a,r),i.mergin=!1};for(var c in e.merging)o(c);e.merging=[],e.mergingCounter=0},callbackScope:this,loop:!1})},t.buySheep=function(e,t){var i=this;void 0===t&&(t=!1);var n,r=!1;if(this.sheep.children.entries.length<50){var o=this.sheepPrice(e);if(n=this.state.farm.toUpperCase()+"_PRICE",i.state.sales.some((function(e){return e.type===n&&e.startTime<=0&&e.endTime>0}))&&i.state.userSheep.tutorial>=100&&(o.price=Math.round(o.price/2)),this.state.userSheep.money>=o.price){var c=function(){r=!0;var t=Phaser.Math.Between(550,660),n=Phaser.Math.Between(530,540);if(i.scrolling.scrollY>350){var c=i.findFreeTerritory(600,i.height+i.scrolling.scrollY+250);c&&(t=Phaser.Math.Between(c.x-50,c.x+50),n=Phaser.Math.Between(c.y-10,c.y+10))}20===i.state.userSheep.tutorial&&(t=550,n=530);var h="local_"+s.randomString(18),l=i.getSheep(h,e,t,n);i.state.userSheep.money-=o.price,i.state.userSheep.countSheep=o.countSheep,i.game.scene.keys.SheepBars.updateAnimalPrice(),i.tryTask(1,e),i.tryClanTask(1),i.tryTask(4,e),i.checkAnimalTask();var d=i.territories.children.entries.find((function(e){return 2===e.block&&3===e.position})).territoryType;2!==d&&3!==d&&(20===i.state.userSheep.tutorial?(i.aim(l,360,600),a.default.create(i,{x:600,y:600},1)):(l.body.reset(l.x,l.y),l.drag=!0,l.x=600,l.y=600,l.wool=0))},h=this.checkSheepBalance(e),l=this.balance();if(h.pasture&&h.water||l.alarm||!(this.state.userSheep.tutorial>=100)||!this.state.user.additionalTutorial.balance||this.state.badBalanceWindowShown)c();else{this.state.badBalanceWindowShown=!0;var d={type:1,sysType:28,confirmSpendParams:{type:h.pasture?"water":"pasture",price:0,callback:function(){c()}}};this.state.modal=d,this.scene.stop("Modal"),this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.launch("Modal",this.state)}}else{t&&(this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal"));var u=o.price-this.state.userSheep.money,p=this.convertMoney(u);this.state.convertor={fun:1,count:u,diamonds:p,type:1,breed:e};d={type:1,sysType:4};this.state.modal=d,this.scene.launch("Modal",this.state)}}else{t&&(this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal"));d={type:1,sysType:3,height:150,message:this.state.lang.maxSheepCount};this.achievement.tryId(8),this.state.modal=d,this.scene.launch("Modal",this.state)}return r},t.collectWool=function(e,t,i){var s,n,r=this;void 0===t&&(t=!1),void 0===i&&(i=!0);var c=!1;if(0!==e.type)if(t){e.wool=0;var l=this.state.sheepSettings.sheepSettings.find((function(t){return t.breed===e.type})).long_wool;if(this.state.userSheep.feedBoostTime>0&&(l*=this.feedBoostMultiplier),this.state.clan)l*=this.state.clan.sheep.cooldown>0?1+(this.state.clan.sheep.level-1)/100:1+this.state.clan.sheep.level/100;this.state.userSheep.money+=l,i&&(this.game.scene.keys.SheepBars.plusMoneyAnimation({x:e.x,y:e.y}),this.tryTask(11,1),this.tryClanTask(4)),40===this.state.userSheep.tutorial&&this.doneTutor_40()}else{var d=function(t){var i=u.territories.children.entries[t];if(5===i.territoryType){var a=u.state.sheepSettings.territoriesSheepSettings.find((function(e){return e.improve===i.improve})).storage;if(h.default.checkTestB(u.state)&&(a=u.state.sheepSettings.partSettings[i.improve-1].territory.maxRepositoryVolume),a>i.volume){e.wool=0;var r={x:i.x+120,y:i.y+120},o=Phaser.Math.Distance.Between(e.x,e.y-50,r.x,r.y);(void 0===n||o<n)&&(n=o,s=r,c=i)}}},u=this;for(var p in this.territories.children.entries)d(p);if(n){l=this.state.sheepSettings.sheepSettings.find((function(t){return t.breed===e.type})).long_wool;if(this.state.userSheep.feedBoostTime>0&&(l*=this.feedBoostMultiplier),this.state.clan)l*=this.state.clan.sheep.cooldown>0?1+(this.state.clan.sheep.level-1)/100:1+this.state.clan.sheep.level/100;c.volume++,c.money+=l,o.default.create(this,{x:e.x,y:e.y-50},e.type,s)}else if(t){var f={type:1,sysType:3,height:150,message:this.state.lang.haveNotSpaceRepository};this.state.modal=f,this.scene.launch("Modal",this.state)}}else{var m={x:e.x,y:e.y-50};e.wool=0,e.diamond++,this.game.scene.keys.SheepBars.getCurrency(m,1,"diamond"),this.state.user.diamonds++,this.tryTask(19,0),this.tryClanTask(15),e.diamond>=3&&(this.caveTutor&&this.time.addEvent({delay:2e3,callback:function(){r.showTutorial("cave3"),r.caveTutor=!1},callbackScope:this,loop:!1}),a.default.create(this,e,1),e.woolSprite.destroy(),e.shaveStatus.destroy(),e.destroy(),this.game.scene.keys[this.state.farm].autosave(),this.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"diamond_animal",count:3}))}},t.sellWool=function(){this.state.territory&&5===this.state.territory.territoryType&&this.state.territory.money>0&&(this.tryTask(l.TaskType.SELL_RESOURCE,0,this.state.territory.volume),this.tryClanTask(2),this.state.userSheep.money+=this.state.territory.money,this.state.territory.money=0,this.state.territory.volume=0,this.game.scene.keys.SheepBars.plusMoneyAnimation({x:this.state.territory.x+120,y:this.state.territory.y+120}),this.autosave())},t.confirmExpelSheep=function(){this.state.modal={type:1,sysType:6},this.scene.launch("Modal",this.state)},t.woolSprite=function(e){var t,i,s,a,r,o,c,h,l,d;2===e.vector||3===e.vector||7===e.vector||8===e.vector?(h="left",d=50):(h="right",d=-50),l=e.wool<=200?1:e.wool>200&&e.wool<=600?2:e.wool>600&&e.wool<=900?3:4;var u="sheep-"+h+"-"+e.type+"-"+l;if(e.woolSprite.texture.key!==u&&e.woolSprite.setTexture(u),e.woolSprite.setDepth(e.depth+1),e.woolSprite.x=e.x,e.woolSprite.y=e.y,e.wool>=900&&!e.shaveStatus.visible&&e.shaveStatus.setVisible(!0),e.wool<900&&e.shaveStatus.visible&&e.shaveStatus.setVisible(!1),e.shaveStatus.setDepth(e.depth+1),e.shaveStatus.x=e.x+d,e.shaveStatus.y=e.y-60,20!==this.state.userSheep.tutorial&&40!==this.state.userSheep.tutorial&&75!==this.state.userSheep.tutorial&&"cave2"!==(null===(t=this.state.tutorial)||void 0===t?void 0:t.additional)||!this.scene.isActive("Tutorial")||e.shaveStatus.setVisible(!1),40===this.state.userSheep.tutorial&&!this.scene.isActive("Tutorial")&&e.wool>=900&&!this.arrow&&(null===(i=this.woolPB_bg)||void 0===i||i.destroy(),null===(s=this.woolPB_lineBg)||void 0===s||s.destroy(),null===(a=this.woolPB_progress)||void 0===a||a.destroy(),this.arrow=n.default.generate(this,4,e)),40===this.state.userSheep.tutorial&&!this.scene.isActive("Tutorial")&&e.wool<900&&this.woolPB_show){null===(r=this.woolPB_bg)||void 0===r||r.destroy(),null===(o=this.woolPB_lineBg)||void 0===o||o.destroy(),null===(c=this.woolPB_progress)||void 0===c||c.destroy();var p=e.x-55,f=e.y-90,m=e.wool/90*9.4;this.woolPB_bg=this.add.graphics({x:p,y:f}).setDepth(f),this.woolPB_bg.fillStyle(16776926,1),this.woolPB_bg.fillRoundedRect(0,0,100,22,5),this.woolPB_lineBg=this.add.graphics({x:p+3,y:f+3}).setDepth(f),this.woolPB_lineBg.fillStyle(16769944,1),this.woolPB_lineBg.fillRoundedRect(0,0,94,16,3),this.woolPB_progress=this.add.graphics({x:p+3,y:f+3}).setDepth(f),this.woolPB_progress.fillStyle(16747579,1),this.woolPB_progress.fillRoundedRect(0,0,m,16,3)}e.drag||(!e.moving&&!e.aim||e.merging?e.anims.play("sheep-stay-"+h+e.type,!0):e.anims.play("sheep-move-"+h+e.type,!0))},t.dragSheepMerging=function(e){var t=this,i=this.state.sheepSettings.sheepSettings.length,n=this.sheep.children.entries.find((function(s){return s.x-s.width/2<=e.x&&s.x+s.width/2>=e.x&&s.y-s.height/2<=e.y&&s.y+s.height/2>=e.y&&s.type===e.type&&e.type>0&&e.type<i&&s._id!==e._id&&t.state.userSheep.tutorial>=100&&t.state.userSheep.fair>=e.type&&s}));if(n){var a={x:e.x,y:e.y};r.default.create(this,a);var o=e.type+1;n.woolSprite.destroy(),n.shaveStatus.destroy(),n.destroy(),e.woolSprite.destroy(),e.shaveStatus.destroy(),e.destroy();var c="local_"+s.randomString(18);this.getSheep(c,o,a.x,a.y,0,0,0,7,!1),this.tryTask(2,o),this.tryTask(4,o),this.tryClanTask(5),this.checkAnimalTask()}}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,s){var n=i.x,a=i.y;return e.call(this,t,n,a,"sheep-wool"+s)||this}return n(t,e),t.create=function(e,i,s,n){var a=new t(e,i,s);return a.flyToPoint(n),a},t}(i(74).default);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collectorTutorial=t.skipTutorial=t.doneTutorCave2=t.doneTutorCave1=t.progressTutor_90=t.progressTutor_80=t.progressTutor_70=t.progressTutor_40=t.progressTutor_30=t.progressTutor_20=t.doneTutor_100=t.doneTutor_90=t.doneTutor_80=t.doneTutor_75=t.doneTutor_70=t.doneTutor_60=t.doneTutor_50=t.doneTutor_40=t.doneTutor_30=t.doneTutor_20=t.doneTutor_10=t.doneTutor_0=t.showTutorial=void 0,t.showTutorial=function(e){void 0===e&&(e=!1),this.scene.isActive("Modal")&&this.scene.stop("Modal"),this.scene.isActive("Tutorial")&&this.scene.stop("Tutorial"),this.scene.isActive("Profile")&&this.scene.stop("Profile"),this.scene.isActive("Shop")&&this.scene.stop("Shop"),this.scene.isActive("ShopBars")&&this.scene.stop("ShopBars"),this.scene.isActive("ClanScroll")&&this.scene.stop("ClanScroll"),this.scene.isActive("Achievements")&&this.scene.stop("Achievements");var t={farm:1,step:this.state.userSheep.tutorial,additional:e};this.state.tutorial=t,this.scene.launch("Tutorial",this.state)},t.doneTutor_0=function(){var e=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:0}),this.state.userSheep.tutorial=10,this.scene.stop("Tutorial"),this.time.addEvent({delay:1e3,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_10=function(){var e=this,t=this.game.scene.getScene("SheepBars");this.state.amplitude.logAmplitudeEvent("tutorial",{step:10}),this.state.userSheep.tutorial=20,this.scene.stop("Tutorial"),t.animalBuy.setVisible(!0),t.animalPrice.setVisible(!0),t.animalPriceBubble.setVisible(!0),this.buySheep(1),this.time.addEvent({delay:2500,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_20=function(){var e=this,t=this.game.scene.getScene("SheepBars");for(var i in this.state.amplitude.logAmplitudeEvent("tutorial",{step:20}),this.sheep.children.entries)this.sheep.children.entries[i].setVisible(!0),this.sheep.children.entries[i].woolSprite.setVisible(!0),this.sheep.children.entries[i].shaveStatus.setVisible(!0);var s=this.sheep.children.entries[0];this.aim(s,600,600),this.state.userSheep.tutorial=30,t.setBalanceBars(this.balance());var n=[t.textGrass.setVisible(!0).setAlpha(0),t.grassBalance.setVisible(!0).setAlpha(0),t.balanceBg.setVisible(!0).setAlpha(0)];this.tweens.add({targets:n,alpha:1,duration:500}),this.time.addEvent({delay:3e3,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_30=function(){var e=this,t=this.game.scene.getScene("SheepBars");this.state.amplitude.logAmplitudeEvent("tutorial",{step:30}),this.state.userSheep.tutorial=40,t.setBalanceBars(this.balance());var i=[t.textWater.setVisible(!0),t.waterBalance.setVisible(!0)];this.tweens.add({targets:i,alpha:1,duration:500}),this.time.addEvent({delay:1e3,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_40=function(){var e=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:40}),this.state.userSheep.tutorial=50,this.time.addEvent({delay:1e3,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_50=function(){var e=this,t=this.game.scene.getScene("SheepBars");this.state.amplitude.logAmplitudeEvent("tutorial",{step:50}),this.state.userSheep.tutorial=60,this.scene.stop("Tutorial"),t.animalBuy.setVisible(!0),t.animalPrice.setVisible(!0),t.animalPriceBubble.setVisible(!0),this.buySheep(1),this.time.addEvent({delay:1e3,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_60=function(){var e=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:60}),this.state.userSheep.tutorial=70,this.scene.stop("Tutorial"),this.pickUpTaskReward(1),this.time.addEvent({delay:1e3,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_70=function(){var e,t=this;this.showMergPointer=!1,null===(e=this.mergPointer)||void 0===e||e.destroy(),this.state.amplitude.logAmplitudeEvent("tutorial",{step:70}),this.state.userSheep.tutorial=75,this.time.addEvent({delay:1e3,callback:function(){t.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_75=function(){var e=this;for(var t in this.state.amplitude.logAmplitudeEvent("tutorial",{step:75}),this.scene.stop("Tutorial"),this.sheep.children.entries)this.sheep.children.entries[t].setVisible(!0),this.sheep.children.entries[t].woolSprite.setVisible(!0),this.sheep.children.entries[t].shaveStatus.setVisible(!0),this.sheep.children.entries[t].wool=1e3,this.sheep.children.entries[t].x=600,this.sheep.children.entries[t].y=600,this.sheep.children.entries[t].woolSprite.x=600,this.sheep.children.entries[t].woolSprite.y=600,this.sheep.children.entries[t].counter=200,this.sheep.children.entries[t].vector=8,this.sheep.children.entries[t].anims.play("sheep-stay-left2",!0),this.sheep.children.entries[t].woolSprite.setTexture("sheep-left-2-4");this.state.userSheep.tutorial=80,this.time.addEvent({delay:1e3,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_80=function(){var e=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:80}),this.state.userSheep.tutorial=90,this.time.addEvent({delay:1e3,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_90=function(){var e=this,t=this.game.scene.getScene("SheepBars");this.state.amplitude.logAmplitudeEvent("tutorial",{step:90}),this.state.userSheep.tutorial=100,t.taskZone.setVisible(!0),t.addDiamonds.setVisible(!0),t.addMoney.setVisible(!0),t.zoneDiamonds.setVisible(!0),t.zoneMoney.setVisible(!0),t.shop.setVisible(!0),t.map.setVisible(!0),t.collectorBtn.setVisible(!0),t.collector.setVisible(!0),t.collector.bubble.setVisible(!0),this.time.addEvent({delay:1e3,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_100=function(){if(this.state.amplitude.logAmplitudeEvent("tutorial",{step:100}),"android"===this.state.platform)try{window.Adjust.trackEvent(this.state.adjust.tutorialDoneEvent)}catch(e){console.log("ADJUST",e)}this.achievement.tryId(1),this.scene.stop("Tutorial")},t.progressTutor_20=function(){this.scene.stop("Tutorial");var e=this.territories.children.entries.find((function(e){return 2===e.block&&3===e.position}));this.state.modal={type:1,sysType:2},this.state.territory=e,this.scene.launch("Modal",this.state)},t.progressTutor_30=function(){this.scene.stop("Tutorial");var e=this.territories.children.entries.find((function(e){return 2===e.block&&2===e.position}));this.state.modal={type:1,sysType:2},this.state.territory=e,this.scene.launch("Modal",this.state)},t.progressTutor_40=function(){for(var e in this.scene.stop("Tutorial"),this.sheep.children.entries)this.sheep.children.entries[e].setVisible(!0),this.sheep.children.entries[e].woolSprite.setVisible(!0),this.sheep.children.entries[e].shaveStatus.setVisible(!0),this.sheep.children.entries[e].wool=0,this.sheep.children.entries[e].x=600,this.sheep.children.entries[e].y=600,this.sheep.children.entries[e].woolSprite.x=600,this.sheep.children.entries[e].woolSprite.y=600,this.sheep.children.entries[e].counter=200,this.sheep.children.entries[e].vector=8,this.sheep.children.entries[e].anims.play("sheep-stay-left1",!0),this.sheep.children.entries[e].woolSprite.setTexture("sheep-left-1-1")},t.progressTutor_70=function(){this.mergTutor=0,this.mergPointer=this.physics.add.sprite(480,520,"tutor-merging").setDepth(Number(this.game.config.width)),this.mergPointer.first=!0,this.showMergPointer=!0,this.scene.stop("Tutorial")},t.progressTutor_80=function(){this.scene.stop("Tutorial");var e=this.territories.children.entries.find((function(e){return 2===e.block&&1===e.position}));this.state.modal={type:1,sysType:2},this.state.territory=e,this.scene.launch("Modal",this.state)},t.progressTutor_90=function(){this.game.scene.getScene("SheepBars").collectorBtn.setVisible(!0),this.scene.stop("Tutorial"),this.state.modal={type:2,shopType:4},this.scene.launch("Modal",this.state)},t.doneTutorCave1=function(){var e=this;this.state.user.additionalTutorial.cave=!0,this.scene.stop("Tutorial"),this.takeDiamondSheep(),this.time.addEvent({delay:1e3,callback:function(){e.showTutorial("cave2")},callbackScope:this,loop:!1})},t.doneTutorCave2=function(){this.scene.stop("Tutorial");var e=this.sheep.children.entries.find((function(e){return 0===e.type}));e.setVisible(!0),e.woolSprite.setVisible(!0),e.shaveStatus.setVisible(!0),e.wool=1e3,e.diamond=1,e.x=600,e.y=600,e.woolSprite.x=600,e.woolSprite.y=600,e.counter=200,e.vector=8,e.anims.play("sheep-stay-left0",!0),e.woolSprite.setTexture("sheep-left-0-4")},t.skipTutorial=function(){var e=this.game.scene.getScene("SheepBars");if(this.achievement.tryId(1),this.state.amplitude.logAmplitudeEvent("skip_tutorial",{}),"android"===this.state.platform)try{window.Adjust.trackEvent(this.state.adjust.tutorialDoneEvent)}catch(e){console.log("ADJUST",e)}for(var t in this.scene.stop("Tutorial"),this.state.userSheep.tutorial=100,this.state.user.additionalTutorial.balance=!0,this.state.user.additionalTutorial.cave=!0,this.state.user.additionalTutorial.herdBoost=!0,this.state.user.additionalTutorial.feedBoost=!0,this.sheep.children.entries){var i=this.sheep.children.entries[t];i.setVisible(!0),i.shaveStatus.setVisible(!0),i.woolSprite.setVisible(!0),i.drag=!1}e.balanceBg.setVisible(!0),e.taskZone.setVisible(!0),e.animalBuy.setVisible(!0),e.animalPrice.setVisible(!0),e.animalPriceBubble.setVisible(!0),e.addDiamonds.setVisible(!0),e.addMoney.setVisible(!0),e.shop.setVisible(!0),e.map.setVisible(!0),e.collectorBtn.setVisible(!0),e.collector.setVisible(!0),e.collector.bubble.setVisible(!0)},t.collectorTutorial=function(){this.game.scene.keys.SheepBars.collectorBtn.setVisible(!0),this.state.amplitude.logAmplitudeEvent("tutorial_collector",{}),this.scene.stop("Tutorial"),this.state.modal={type:2,shopType:4},this.scene.launch("Modal",this.state)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCollector=void 0,t.updateCollector=function(e){if(this.collectorCD<=0){if(this.collectorIsReady=!0,this.state.userSheep.collector>0)for(var t in this.sheep.children.entries){var i=this.sheep.children.entries[t];if(i.wool>=1e3&&0!==i.type){this.collectWool(i),this.collectorIsReady=!1;var s=this.state.sheepSettings.partSettings[this.state.userSheep.collectorLevel-1].collector.speed;this.collectorCD=Math.round(1e3/s);break}}}else this.collectorIsReady||(this.collectorCD-=e)},t.default=function(){var e=this,t={delay:1e3/this.state.sheepCollectorSettings.find((function(t){return t.level===e.state.userSheep.collectorLevel})).speed,callback:function(){if(e.state.userSheep.collector>0)for(var t in e.sheep.children.entries){var i=e.sheep.children.entries[t];if(i.wool>=1e3&&0!==i.type){e.collectWool(i);break}}},callbackScope:this,loop:!0};this.collectorTimer?this.collectorTimer.reset(t):this.collectorTimer=this.time.addEvent(t)}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this,"Sheep")||this}return n(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.create=function(){e.prototype.create.call(this),this.hideElementsOnTutorial()},t.prototype.update=function(){e.prototype.update.call(this),this.updateCalendarIcon()},t.prototype.setBalanceBars=function(e){this.state.userSheep.part>=6?e.alarm&&"green-balance-bg"===this.balanceBg.texture.key?this.balanceBg.setTexture("red-balance-bg"):e.alarm||"red-balance-bg"!==this.balanceBg.texture.key||this.balanceBg.setTexture("green-balance-bg"):e.alarm&&"green-balance-bg-big"===this.balanceBg.texture.key&&this.state.userSheep.tutorial>=100?this.balanceBg.setTexture("red-balance-bg-big"):e.alarm||"red-balance-bg-big"!==this.balanceBg.texture.key||this.balanceBg.setTexture("green-balance-bg-big");var t=e.waterPercent+"%";e.notEnoughWater?(t="-"+e.waterPercent+"%",this.waterProblem=!0):this.waterProblem=!1,this.textWater.text!==t&&this.state.userSheep.tutorial>=40&&(40===this.state.userSheep.tutorial&&"-100%"!==t||this.state.userSheep.tutorial>40)&&this.textWater.setText(t);var i=e.grassPercent+"%";e.notEnoughGrass?(i="-"+e.grassPercent+"%",this.grassProblem=!0):this.grassProblem=!1,this.textGrass.text!==i&&this.state.userSheep.tutorial>=30&&(30===this.state.userSheep.tutorial&&"-100%"!==i||this.state.userSheep.tutorial>30)&&this.textGrass.setText(i)},t.prototype.hideElementsOnTutorial=function(){this.state.userSheep.tutorial<100&&(this.taskZone.setVisible(!1),this.addDiamonds.setVisible(!1),this.addMoney.setVisible(!1),this.zoneDiamonds.setVisible(!1),this.zoneMoney.setVisible(!1),this.shop.setVisible(!1),this.map.setVisible(!1),this.collectorBtn.setVisible(!1),this.collector.setVisible(!1),this.collector.bubble.setVisible(!1)),this.state.userSheep.tutorial<20&&(this.animalBuy.setVisible(!1),this.saleBuyIcon.setVisible(!1),this.animalPrice.setVisible(!1),this.animalPriceBubble.setVisible(!1)),this.state.userSheep.tutorial<30&&(this.textGrass.setVisible(!1),this.grassBalance.setVisible(!1)),this.state.userSheep.tutorial<40&&(this.textWater.setVisible(!1),this.waterBalance.setVisible(!1)),this.state.userSheep.tutorial<30&&this.balanceBg.setVisible(!1)},t.prototype.updateCalendarIcon=function(){var e;(null===(e=this.calendar)||void 0===e?void 0:e.active)&&"Sheep"===this.state.farm&&(this.state.userSheep.part>=4&&!this.calendar.visible?(this.calendar.setVisible(!0),this.calendarText.setVisible(!0)):this.state.userSheep.part<4&&this.calendar.visible&&(this.calendar.setVisible(!1),this.calendarText.setVisible(!1)))},t}(i(76).default);t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=i(5),o=i(30),c=i(1),h=i(1745),l=i(112),d=i(8),u=function(e){function t(t){var i=e.call(this,t,0,0,0,0,"pixel")||this;return i.isUpdated=!1,i.listIsOpen=!1,i.listButtondY=0,i.listTime=0,i.isMoving=!1,i.scene=t,i.isVisibile=!1,i.init(),i}return n(t,e),t.create=function(e){return c.default.checkTestB(e.state)?h.default.create(e):new t(e)},t.prototype.init=function(){var e=this;this.scene.add.existing(this),this.setVisible(!1).setInteractive(),this.elements=[],this.interactiveElements=[],this.positionY=this.scene.height,this.bgY=this.positionY-190,this.closingAniIsPlaying=!1,this.createElements(),this.scene.time.addEvent({delay:1e3,callback:function(){e.tickListTimer()},loop:!0})},t.prototype.createElements=function(){this.bg=new l.default(this.scene,this.bgY),this.bg.setVisible(!1),this.taskIcon=this.scene.add.sprite(0,0," ").setDepth(this.bg.depth+1).setVisible(!1),this.star=this.scene.add.sprite(0,0,"star").setDepth(this.bg.depth+1).setVisible(!1),this.doneText=this.scene.add.text(0,0," ",{font:"20px Bip",color:"#525252"}).setDepth(this.bg.depth+1).setOrigin(0,.5).setVisible(!1),this.taskText=this.scene.add.text(0,0," ",{font:"23px Bip",color:"#713D1E",align:"left",wordWrap:{width:450}}).setDepth(this.bg.depth+1).setOrigin(0,0).setVisible(!1),this.checkMark=this.scene.add.sprite(0,0,"completed").setDepth(this.bg.depth+1).setVisible(!1),this.done=this.scene.add.sprite(0,0,"little-button").setDepth(this.bg.depth+1).setVisible(!1),this.takeText=this.scene.add.text(0,0,this.scene.state.lang.pickUp,{font:"20px Shadow",color:"#FFFFFF"}).setOrigin(.5,.7).setDepth(this.bg.depth+1).setVisible(!1),this.awardBg=this.scene.add.sprite(0,0,"task-award-bg").setOrigin(0,.1).setDepth(this.bg.depth+1).setVisible(!1).setDisplaySize(60,40);this.award=this.scene.add.text(0,0," ",{fontSize:"20px",fontFamily:"Bip",color:"#ffffff",stroke:"#b5691d",strokeThickness:4}).setDepth(this.bg.depth+1).setOrigin(0,.5).setVisible(!1),this.diamond=this.scene.add.sprite(0,0," ").setDepth(this.bg.depth+1).setScale(.1).setOrigin(0,.5).setVisible(!1),this.doneButton=this.scene.add.sprite(0,0,"big-btn-green").setDepth(this.bg.depth+1).setVisible(!1),this.doneButtonText=this.scene.add.text(0,0,this.scene.state.lang.donePart,{font:"22px Shadow",color:"#FFFFFF"}).setDepth(this.bg.depth+2).setOrigin(.5,.5).setVisible(!1);var e=this.scene.state.lang[this.scene.state.farm.toLowerCase()+"CompanyDone"];this.lastPart=this.scene.add.text(0,0,e,{font:"26px Bip",color:"#713D1E",align:"center",wordWrap:{width:500}}).setDepth(this.bg.depth+1).setOrigin(.5).setVisible(!1),this.taskProgress=new o.default(this.scene,0,0,1.35).setTint(7354783).setVisible(!1),this.taskProgressMask=this.taskProgress.mask.bitmapMask,this.taskProgressMask.setVisible(!1),this.taskProgressBorder1=this.scene.add.sprite(0,0,"circle-outline").setTint(12620357).setScale(1.35).setVisible(!1).setDepth(this.taskProgress.rightSegment.depth),this.taskProgressBorder2=this.scene.add.sprite(0,0,"circle-outline").setTint(12620357).setScale(1.1).setVisible(!1).setDepth(this.taskProgress.rightSegment.depth),this.listButton=this.scene.add.sprite(0,0,"scroll-arrow").setVisible(!1).setOrigin(1,.8).setDepth(this.bg.depth+1)},t.prototype.preUpdate=function(){var e,t=this;this.checkVisibility();var i=this.scene.state.farm,s=this.scene.state[i.toLowerCase()+"Settings"][i.toLowerCase()+"Parts"],n=this.scene.state["user"+i],o=this.scene.state[i.toLowerCase()+"Settings"][i.toLowerCase()+"Settings"].length,c=this.scene.game.scene.keys[this.scene.state.farm].partTasks();c.sort((function(e,t){return e.got_awarded<t.got_awarded?-1:e.got_awarded>t.got_awarded||e.done<t.done?1:e.done>t.done||e.sort<t.sort?-1:e.sort>t.sort?1:0}));var h=!1,l=c[0];if(l&&!(this.taskStatus===(null==l?void 0:l.done)&&this.currentTaskProgress===(null==l?void 0:l.progress)&&this.taskId===(null==l?void 0:l.id)&&this.gotAward===(null==l?void 0:l.got_awarded)||this.isMoving||(this.taskId!==(null==l?void 0:l.id)&&(h=!0),this.currentTaskProgress=l.progress,this.gotAward=l.got_awarded,this.taskStatus=l.done,this.taskId=l.id,0===this.taskStatus?this.status=1:1===this.taskStatus&&0===(null==l?void 0:l.got_awarded)?this.status=2:this.status=3,3===this.status&&1===(null==l?void 0:l.done)&&1===(null==l?void 0:l.got_awarded)&&s.length===n.part&&(this.status=4),null===(e=this.animation)||void 0===e||e.remove(),3!==this.status&&2!==this.status||this.setDoneAnim(),this.isUpdated=!1,this.isUpdated))){if(1===this.status&&l){var d=this.scene.game.scene.keys[this.scene.state.farm].getTaskData(l);this.taskText.setText(d.name).setWordWrapWidth(450);var u=this.taskText.getBounds();this.taskText.setPosition(150,this.scene.height-u.height-248);var p=l.count;14===l.type&&0===l.count&&(p=o),this.doneText.setText(this.scene.state.lang.performed+" "+l.progress+" / "+p).setPosition(150,this.scene.height-225);var f=70+u.height<120?120:70+u.height;this.bg.setY(this.bgY).setDisplaySize(660,f).removeAllListeners(),this.taskIcon.setTexture(d.icon).setPosition(88,this.scene.height-190-f/2).setTint().setAlpha(1),this.star.setPosition(630,this.scene.height-190-f/2),this.scene.click(this.bg.middle,(function(){t.scene.clickTaskBoard(l)}));var m=Math.round(100/p*l.progress);this.taskProgress.setPercent(m,0,0===m?1:500).setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.taskProgressBorder1.setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.taskProgressBorder2.setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.listIsOpen||this.listButton.setPosition(this.bg.getTopRight().x,this.bg.getTopRight().y),this.scene.click(this.listButton,(function(){t.toggleList()}))}else if(2===this.status&&l){d=this.scene.game.scene.keys[this.scene.state.farm].getTaskData(l);this.taskText.setText(d.name).setWordWrapWidth(390);u=this.taskText.getBounds();this.taskText.setPosition(150,this.scene.height-u.height-248);var g=l.diamonds;if(this.award.setText(String(g)).setPosition(190,this.positionY-220),this.diamond.setTexture("diamond").setPosition(160,this.positionY-220),"Sheep"===this.scene.state.farm){var y=this.scene.game.scene.keys.Sheep.moneyTasks.find((function(e){return e.id===l.id}));y?(g=y.money,this.award.setText(String(g)),this.diamond.setTexture("sheepCoin"),this.awardBg.setDisplaySize(this.diamond.getBounds().width+this.award.getBounds().width+26,this.awardBg.height)):this.awardBg.setDisplaySize(60,40)}var v=this.award.getBounds();this.awardBg.setPosition(v.left-40,v.top-3);f=70+u.height<120?120:70+u.height;this.closingAniIsPlaying||this.bg.setY(this.bgY).setDisplaySize(660,f).removeAllListeners(),this.taskIcon.setTexture(d.icon).setPosition(88,this.positionY-190-f/2).setTint(7829367).setAlpha(.6),this.done.setPosition(620,this.positionY-190-f/2),this.takeText.setPosition(620,this.positionY-193-f/2),this.checkMark.setPosition(this.taskIcon.x,this.taskIcon.y),this.taskProgress.setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.taskProgressBorder1.setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.taskProgressBorder2.setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.done.removeAllListeners(),this.scene.clickShopBtn({btn:this.done,title:this.takeText,img:!1},(function(){t.closingAniIsPlaying||(t.scene.getCurrency({x:t.done.x,y:t.done.y},l.diamonds,"diamond"),t.scene.game.scene.keys[t.scene.state.farm].pickUpTaskReward(l.id),t.createOldBoard(l))}))}else 3===this.status&&l&&(this.bg.setY(this.bgY).setDisplaySize(660,110).removeAllListeners(),this.doneButton.setPosition(this.scene.cameras.main.centerX,this.positionY-245),this.doneButtonText.setPosition(this.scene.cameras.main.centerX,this.positionY-249),this.doneButton.removeAllListeners(),this.scene.clickModalBtn({btn:this.doneButton,title:this.doneButtonText},(function(){t.scene.game.scene.keys[t.scene.state.farm].nextPart()})),this.taskProgress.setPercent(0));if(4===this.status&&l&&(this.bg.setY(this.bgY).setDisplaySize(660,110).removeAllListeners(),this.lastPart.setPosition(this.scene.cameras.main.centerX,this.scene.height-245),"vk"===this.scene.state.platform&&!r.default.get("done"+i))){var w="Sheep"===i?5:"Chicken"===i?6:"Cow"===i?7:0;r.default.set("done"+i,"true"),a.sendAppEventVk(this.scene.state,w,100)}this.bgOriginHeight=this.bg.height;var b=!0;"Sheep"===this.scene.state.farm&&this.scene.state.userSheep.tutorial<100&&(b=!1),(this.scene.menu.isOpened||this.scene.scene.isActive("Modal")||this.scene.scene.isActive("Tutorial")||this.scene.scene.isActive("Fortune"))&&!b?(this.hideAllElement(),this.listIsOpen&&this.hideTaskListElements()):this.scene.menu.isOpened||this.scene.scene.isActive("Modal")||this.scene.scene.isActive("Tutorial")||this.scene.scene.isActive("Fortune")||!b||(this.shownElements(),h?this.flyInMainBoardAnim():2===this.status&&this.setProgressAni())}},t.prototype.setVisibleProgressElements=function(e){var t;null===(t=this.taskProgress)||void 0===t||t.setVisible(e),this.taskProgressBorder1.setVisible(e),this.taskProgressBorder2.setVisible(e)},t.prototype.setProgressAni=function(){var e,t=this;this.checkMark.setAlpha(.5).setScale(.85),null===(e=this.taskProgress)||void 0===e||e.setPercent(100,0,350),this.setVisibleProgressElements(!0),this.progressAni=this.scene.tweens.add({onStart:function(){t.taskProgress.fadeOut(400)},targets:[this.taskProgressBorder1,this.taskProgressBorder2,this.checkMark],alpha:function(e){return e===t.checkMark?1:0},scale:function(e){return e===t.checkMark?1:e.scale},delay:350,duration:400})},t.prototype.setDoneAnim=function(){var e=this;this.listIsOpen&&!this.closingAniIsPlaying&&this.closeTaskListAnimation(),this.animation=this.scene.tweens.add({targets:[this.bg,this.taskIcon,this.star,this.doneText,this.taskText,this.checkMark,this.done,this.takeText,this.award,this.awardBg,this.diamond,this.doneButton,this.doneButtonText,this.lastPart,this.taskProgress.rightSegment,this.taskProgress.leftSegment,this.taskProgressMask,this.taskProgressBorder1,this.taskProgressBorder2],onStart:function(){e.setVisibleProgressElements(!1)},onUpdate:function(){(e.taskProgressBorder1.visible||e.taskProgress.rightSegment.visible)&&e.setVisibleProgressElements(!1)},delay:850,duration:250,yoyo:!0,y:"-=20",repeat:-1})},t.prototype.flyOutOldBoardAnim=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.scene.tweens.createTimeline();i.add({targets:e,y:"-=160",duration:500,ease:"Power3"}),i.add({targets:e,x:"+=700",duration:1e3,ease:"Power3",onComplete:function(){e.forEach((function(e){return e.destroy()}))}}),i.play()},t.prototype.setStartY=function(){this.bg.setY(this.bgY+250),this.taskIcon.setY(this.taskIcon.y+250),this.star.setY(this.star.y+250),this.doneText.setY(this.doneText.y+250),this.taskText.setY(this.taskText.y+250),this.checkMark.setY(this.checkMark.y+250),this.done.setY(this.done.y+250),this.takeText.setY(this.takeText.y+250),this.award.setY(this.award.y+250),this.awardBg.setY(this.awardBg.y+250),this.diamond.setY(this.diamond.y+250),this.doneButton.setY(this.doneButton.y+250),this.doneButtonText.setY(this.doneButtonText.y+250),this.lastPart.setY(this.lastPart.y+250),this.taskProgress.rightSegment.setY(this.taskProgress.rightSegment.y+250),this.taskProgress.leftSegment.setY(this.taskProgress.leftSegment.y+250),this.taskProgressMask.setY(this.taskProgressMask.y+250),this.taskProgressBorder1.setY(this.taskProgressBorder1.y+250),this.taskProgressBorder2.setY(this.taskProgressBorder2.y+250),this.listButton.setY(this.listButton.y+250)},t.prototype.flyInMainBoardAnim=function(){var e=this;this.closingAniIsPlaying||(this.isMoving=!0,this.setStartY(),this.removeButtonsInteractive(),2===this.status&&this.setVisibleProgressElements(!1),this.scene.tweens.add({duration:500,targets:[this.bg,this.taskIcon,this.star,this.doneText,this.taskText,this.checkMark,this.done,this.takeText,this.award,this.awardBg,this.diamond,this.doneButton,this.doneButtonText,this.lastPart,this.taskProgress.rightSegment,this.taskProgress.leftSegment,this.taskProgressMask,this.taskProgressBorder1,this.taskProgressBorder2,this.listButton],alpha:function(t){return t!==e.checkMark&&t!==e.bg&&t.setAlpha(0),t.tintTopLeft===parseInt("0x777777",16)&&2===e.status?.6:t===e.checkMark?e.checkMark.alpha:1},y:"-=250",ease:"Power3",onComplete:function(){e.isMoving=!1,e.setButtonsInteractive()}}))},t.prototype.createOldBoard=function(e){var t,i;(null===(t=this.progressAni)||void 0===t?void 0:t.isPlaying())&&(null===(i=this.progressAni)||void 0===i||i.remove()),this.setVisibleProgressElements(!1);var s=this.scene.game.scene.keys[this.scene.state.farm].getTaskData(e),n=this.scene.add.sprite(this.bg.x,this.bgY,"tasks-bar-fix").setOrigin(.5,1).setDepth(this.depth+1e4);n.setDisplaySize(this.bg.width,this.bg.height);var a=this.scene.add.text(150,this.positionY-this.taskText.getBounds().height-244,s.name,{font:"23px Bip",color:"#713D1E",align:"left",wordWrap:{width:390}}).setOrigin(0,0).setVisible(!0).setDepth(n.depth),r=70+this.taskText.getBounds().height<120?120:70+this.taskText.getBounds().height,o=this.scene.add.image(88,this.positionY-190-r/2,s.icon).setDepth(n.depth).setTint(7829367).setAlpha(.6),c=this.scene.add.image(88,this.positionY-190-r/2,"completed").setDepth(n.depth).setTint(12632256).setAlpha(.9);this.flyOutOldBoardAnim(a,n,o,c)},t.prototype.checkVisibility=function(){var e=!0;"Sheep"===this.scene.state.farm&&this.scene.state.userSheep.tutorial<100&&(e=!1),(this.scene.menu.isOpened||this.scene.scene.isActive("Modal")||this.scene.scene.isActive("Tutorial")||this.scene.scene.isActive("Block")||this.scene.scene.isActive("Fortune"))&&this.isVisibile||!e&&this.isVisibile?(this.hideAllElement(),this.hideListButton(),this.listIsOpen&&this.hideTaskListElements()):this.scene.menu.isOpened||this.scene.scene.isActive("Modal")||this.scene.scene.isActive("Block")||this.scene.scene.isActive("Tutorial")||this.scene.scene.isActive("Fortune")||this.isVisibile||!e||this.shownElements(),this.listIsOpen||this.setMainPositionListButton()},t.prototype.hideAllElement=function(){var e,t,i,s,n,a,r,o,c,h,l,d,u,p;this.isVisibile=!1,this.hideListButton(),this.textArtifactsFix(),null===(e=this.bg)||void 0===e||e.setVisible(!1),null===(t=this.taskIcon)||void 0===t||t.setVisible(!1),null===(i=this.star)||void 0===i||i.setVisible(!1),null===(s=this.doneText)||void 0===s||s.setVisible(!1),null===(n=this.taskText)||void 0===n||n.setVisible(!1),null===(a=this.checkMark)||void 0===a||a.setVisible(!1),null===(r=this.done)||void 0===r||r.setVisible(!1),null===(o=this.takeText)||void 0===o||o.setVisible(!1),null===(c=this.award)||void 0===c||c.setVisible(!1),null===(h=this.awardBg)||void 0===h||h.setVisible(!1),null===(l=this.diamond)||void 0===l||l.setVisible(!1),null===(d=this.doneButton)||void 0===d||d.setVisible(!1),null===(u=this.doneButtonText)||void 0===u||u.setVisible(!1),null===(p=this.lastPart)||void 0===p||p.setVisible(!1),this.setVisibleProgressElements(!1)},t.prototype.hideListButton=function(){var e;null===(e=this.listButton)||void 0===e||e.setVisible(!1)},t.prototype.shownElements=function(){var e,t,i,s,n,a,r;this.hideAllElement(),this.isVisibile=!0,1===this.status?(this.bg.setVisible(!0),null===(e=this.star)||void 0===e||e.setVisible(!0),null===(t=this.taskIcon)||void 0===t||t.setVisible(!0),null===(i=this.doneText)||void 0===i||i.setVisible(!0),null===(s=this.taskText)||void 0===s||s.setVisible(!0),null===(n=this.taskProgress)||void 0===n||n.setVisible(!0),this.taskProgressBorder1.setVisible(!0),this.taskProgressBorder2.setVisible(!0),this.closingAniIsPlaying||null===(a=this.listButton)||void 0===a||a.setVisible(!0)):2===this.status?(this.bg.setVisible(!0),this.taskText.setVisible(!0),this.checkMark.setVisible(!0),this.award.setVisible(!0),this.diamond.setVisible(!0),this.awardBg.setVisible(!0),this.taskIcon.setVisible(!0),this.done.setVisible(!0),this.takeText.setVisible(!0),null===(r=this.taskProgress)||void 0===r||r.setVisible(!0),this.taskProgressBorder1.setVisible(!0),this.taskProgressBorder2.setVisible(!0)):3===this.status?(this.bg.setVisible(!0),this.doneButton.setVisible(!0),this.doneButtonText.setVisible(!0)):4===this.status&&(this.bg.setVisible(!0),this.lastPart.setVisible(!0))},t.prototype.setButtonsInteractive=function(){this.doneButton.setInteractive(),this.done.setInteractive()},t.prototype.removeButtonsInteractive=function(){this.doneButton.removeInteractive(),this.done.removeInteractive()},t.prototype.openAllTasksWindow=function(){this.listButton.setFlipY(!0),this.hideAllElement(),this.moveListButtonTop(),this.createAllTasks()},t.prototype.createAllTasks=function(){var e=this.scene.game.scene.keys[this.scene.state.farm].partTasks();e.sort((function(e,t){return e.got_awarded>t.got_awarded?-1:e.got_awarded<t.got_awarded||e.done>t.done?1:e.done<t.done||e.sort>t.sort?-1:e.sort<t.sort?1:0})),e.pop(),this.elements.length>0&&this.elements.forEach((function(e){null==e||e.destroy()})),this.elements=[],this.aditionalHeight=0;for(var t=0;t<e.length;t++){var i=e[t],s=this.scene.game.scene.keys[this.scene.state.farm].getTaskData(i);this.elements=this.elements.concat(this.createTaskListElement(i,s,t))}this.closingAniIsPlaying||this.openTaskListAnimation()},t.prototype.createTaskListElement=function(e,t,i){var s=this,n=this.scene.add.sprite(88,this.bg.getTopCenter().y-60-110*i,t.icon).setDepth(this.bg.depth+1).setScale(.85).setAlpha(0),a=this.scene.add.text(n.getBounds().right+20,this.bg.getTopCenter().y-60-110*i,t.name,{font:"24px Bip",color:"#713D1E",align:"left",wordWrap:{width:460}}).setDepth(this.bg.depth+1).setOrigin(0,.5).setAlpha(0),r=this.scene.add.tileSprite(this.scene.cameras.main.centerX,n.y+n.getBounds().height/2+18,620,3,"white-pixel").setDepth(this.bg.depth+1).setAlpha(0).setTint(14651969),c=this.scene.add.tileSprite(n.getTopLeft().x-14,n.getTopLeft().y-10,650,r.y-n.getTopCenter().y+21,"white-pixel").setDepth(this.bg.depth+2).setOrigin(0).setAlpha(1e-4).setInteractive();this.scene.click(c,(function(){e.done||s.scene.clickTaskBoard(e)})),this.interactiveElements.push(c),this.aditionalHeight+=c.height+4;var h=null,l=null,u=null,p=null;if(1===e.done&&1===e.got_awarded)n.setTint(7829367).setAlpha(0),h=this.scene.add.sprite(n.x,n.y,"completed").setDepth(this.bg.depth+2).setTint(12632256).setOrigin(.5).setAlpha(0),a.setColor("#6f6f6f").setAlpha(0);else{var f=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"][this.scene.state.farm.toLowerCase()+"Settings"].length,m=e.type===d.TaskType.ANIMAL_ON_FARM?f:e.count;l=new o.default(this.scene,n.x,n.y,1.13).setPercent(Math.round(100/m*e.progress)).setTint(7354783).setAlpha(0),u=this.scene.add.sprite(n.x,n.y,"circle-outline").setScale(1.15).setTint(12620357).setAlpha(0).setDepth(l.rightSegment.depth+1),p=this.scene.add.sprite(n.x,n.y,"circle-outline").setScale(.9).setTint(12620357).setAlpha(0).setDepth(l.rightSegment.depth+1)}return[n,a,r,h,null==l?void 0:l.rightSegment,null==l?void 0:l.leftSegment,u,p]},t.prototype.openTaskListAnimation=function(){var e=this,t=this.bgOriginHeight+this.aditionalHeight;this.scene.tweens.add({onStart:function(){e.textArtifactsFix()},targets:this.bg,height:t,duration:500,ease:"Power1",onUpdate:function(){var t=e.bg.height-1;e.bg.setDisplaySize(e.bg.width,t)},onComplete:function(){e.listButton.setY(e.bg.getTopCenter().y),e.textArtifactsFix()}}),this.scene.tweens.add({onStart:function(){e.textArtifactsFix()},targets:this.elements,alpha:function(e){return e.tintTopLeft===parseInt("0x777777",16)?.6:e.tintTopLeft===parseInt("0xc0c0c0",16)?.9:1},duration:300,delay:500,ease:"Power1"})},t.prototype.closeTaskListAnimation=function(){var e=this;this.closingAniIsPlaying=!0,this.listButton.setAlpha(0),this.interactiveElements.length>0&&(this.interactiveElements.forEach((function(e){null==e||e.destroy()})),this.interactiveElements=[]),this.scene.tweens.add({onStart:function(){e.textArtifactsFix()},targets:this.elements,alpha:{value:0,duration:300},ease:"Power1"}),this.scene.tweens.add({targets:this.bg,height:this.bgOriginHeight,duration:500,delay:300,ease:"Power1",onUpdate:function(){var t=e.bg.height-1;e.bg.setDisplaySize(e.bg.width,t),e.elements.some((function(e){return 0!==(null==e?void 0:e.alpha)}))&&e.elements.forEach((function(e){null==e||e.setAlpha(0)}))},onComplete:function(){var t;e.isVisibile&&1===e.status&&(null===(t=e.listButton)||void 0===t||t.setVisible(!0)),e.elements.forEach((function(e){null==e||e.destroy()})),e.fadeOutListButton(),e.textArtifactsFix(),e.closingAniIsPlaying=!1}}),this.scene.time.addEvent({delay:800,callback:function(){e.listTime=0,e.listIsOpen=!1}})},t.prototype.toggleList=function(){this.listIsOpen?this.closingAniIsPlaying||this.closeTaskListAnimation():(this.listIsOpen=!0,this.openAllTasksWindow())},t.prototype.moveListButtonTop=function(){var e=this,t=this.scene.tweens.add({onStart:function(){e.listButton.setAlpha(0)},targets:[this.listButton],y:"-="+this.listButtondY,duration:500,ease:"Power1",onUpdate:function(){e.listButton.setAlpha(0),(e.scene.menu.isOpened||e.scene.scene.isActive("Modal")||e.scene.scene.isActive("Tutorial")||e.scene.scene.isActive("Fortune"))&&(e.setMainPositionListButton(),t.stop())},onComplete:function(){e.fadeOutListButton()}})},t.prototype.fadeOutListButton=function(){this.scene.tweens.add({targets:[this.listButton],alpha:1,duration:150})},t.prototype.tickListTimer=function(){this.listIsOpen&&this.listTime++,this.listTime>3&&!this.closingAniIsPlaying&&this.closeTaskListAnimation()},t.prototype.hideTaskListElements=function(){this.closingAniIsPlaying||this.closeTaskListAnimation(),this.elements.forEach((function(e){return null==e?void 0:e.setVisible(!1)}))},t.prototype.setMainPositionListButton=function(){this.listButton.setFlipY(!1),this.fadeOutListButton(),this.listButton.setPosition(this.bg.getTopRight().x,this.bg.getTopRight().y)},t.prototype.textArtifactsFix=function(){this.scene.add.text(0,0,"").destroy()},t}(Phaser.GameObjects.TileSprite);t.default=u},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=i(5),o=i(8),c=i(30),h=i(112),l=function(e){function t(t){var i=e.call(this,t,0,0,0,0,"pixel")||this;return i.isUpdated=!1,i.listIsOpen=!1,i.listButtondY=0,i.listTime=0,i.isMoving=!1,i.scene=t,i.isVisibile=!1,i.init(),i}return n(t,e),t.create=function(e){return new t(e)},t.prototype.init=function(){var e=this;this.scene.add.existing(this),this.setVisible(!1).setInteractive(),this.elements=[],this.interactiveElements=[],this.positionY=this.scene.height,this.bgY=this.positionY-190,this.closingAniIsPlaying=!1,this.createElements(),this.scene.time.addEvent({delay:1e3,callback:function(){e.tickListTimer()},loop:!0})},t.prototype.createElements=function(){this.bg=new h.default(this.scene,this.bgY),this.bg.setVisible(!1),this.taskIcon=this.scene.add.sprite(0,0," ").setDepth(this.bg.depth+1).setVisible(!1),this.star=this.scene.add.sprite(0,0,"star").setDepth(this.bg.depth+1).setVisible(!1),this.doneText=this.scene.add.text(0,0," ",{font:"20px Bip",color:"#525252"}).setDepth(this.bg.depth+1).setOrigin(0,.5).setVisible(!1),this.taskText=this.scene.add.text(0,0," ",{font:"23px Bip",color:"#713D1E",align:"left",wordWrap:{width:450}}).setDepth(this.bg.depth+1).setOrigin(0,0).setVisible(!1),this.checkMark=this.scene.add.sprite(0,0,"completed").setDepth(this.bg.depth+2).setVisible(!1),this.done=this.scene.add.sprite(0,0,"little-button").setDepth(this.bg.depth+1).setVisible(!1),this.takeText=this.scene.add.text(0,0,this.scene.state.lang.pickUp,{font:"20px Shadow",color:"#FFFFFF"}).setOrigin(.5,.7).setDepth(this.bg.depth+1).setVisible(!1),this.awardBg=this.scene.add.sprite(0,0,"task-award-bg").setOrigin(0,.1).setDepth(this.bg.depth+1).setVisible(!1).setDisplaySize(60,40);this.award=this.scene.add.text(0,0," ",{fontSize:"20px",fontFamily:"Bip",color:"#ffffff",stroke:"#b5691d",strokeThickness:4}).setDepth(this.bg.depth+1).setOrigin(0,.5).setVisible(!1),this.diamond=this.scene.add.sprite(0,0," ").setDepth(this.bg.depth+1).setScale(.1).setOrigin(0,.5).setVisible(!1),this.doneButton=this.scene.add.sprite(0,0,"big-btn-green").setVisible(!1),this.doneButtonText=this.scene.add.text(0,0,this.scene.state.lang.donePart,{font:"22px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5).setVisible(!1);var e=this.scene.state.lang[this.scene.state.farm.toLowerCase()+"CompanyDone"];this.lastPart=this.scene.add.text(0,0,e,{font:"26px Bip",color:"#713D1E",align:"center",wordWrap:{width:500}}).setDepth(this.bg.depth+1).setOrigin(.5).setVisible(!1),this.taskProgress=new c.default(this.scene,0,0,1.35).setTint(7354783).setVisible(!1),this.taskProgressMask=this.taskProgress.mask.bitmapMask,this.taskProgressMask.setVisible(!1),this.taskProgressBorder1=this.scene.add.sprite(0,0,"circle-outline").setTint(12620357).setScale(1.35).setVisible(!1).setDepth(this.taskProgress.rightSegment.depth),this.taskProgressBorder2=this.scene.add.sprite(0,0,"circle-outline").setTint(12620357).setScale(1.1).setVisible(!1).setDepth(this.taskProgress.rightSegment.depth),this.listButton=this.scene.add.sprite(0,0,"scroll-arrow").setVisible(!1).setOrigin(1,.8).setDepth(this.bg.depth+1)},t.prototype.preUpdate=function(){var e,t=this;this.checkVisibility();var i=this.scene.state.farm,s=this.scene.state[i.toLowerCase()+"Settings"].partSettings,n=this.scene.state["user"+i],o=this.scene.state[i.toLowerCase()+"Settings"][i.toLowerCase()+"Settings"].length,c=this.scene.game.scene.keys[this.scene.state.farm].partTasks();c.sort((function(e,t){return e.awardTaken<t.awardTaken?-1:e.awardTaken>t.awardTaken||e.done<t.done?1:e.done>t.done||e.sort<t.sort?-1:e.sort>t.sort?1:0}));var h=!1,l=c[0];if(l&&!(this.taskStatus===(null==l?void 0:l.done)&&this.currentTaskProgress===(null==l?void 0:l.progress)&&this.taskId===(null==l?void 0:l.id)&&this.gotAward===(null==l?void 0:l.awardTaken)||this.isMoving||(this.taskId!==(null==l?void 0:l.id)&&(h=!0),this.currentTaskProgress=l.progress,this.gotAward=l.awardTaken,this.taskStatus=l.done,this.taskId=l.id,0===this.taskStatus?this.status=1:1===this.taskStatus&&0===(null==l?void 0:l.awardTaken)?this.status=2:this.status=3,3===this.status&&1===(null==l?void 0:l.done)&&1===(null==l?void 0:l.awardTaken)&&s.length===n.part&&(this.status=4),null===(e=this.animation)||void 0===e||e.remove(),3!==this.status&&2!==this.status||this.setDoneAnim(),this.isUpdated=!1,this.isUpdated))){if(1===this.status&&l){var d=this.scene.game.scene.keys[this.scene.state.farm].getTaskData(l);this.taskText.setText(d.name).setWordWrapWidth(450);var u=this.taskText.getBounds();this.taskText.setPosition(150,this.scene.height-u.height-248);var p=l.count;14===l.type&&0===l.count&&(p=o),this.doneText.setText(this.scene.state.lang.performed+" "+l.progress+" / "+p).setPosition(150,this.scene.height-225);var f=70+u.height<120?120:70+u.height;this.bg.setY(this.bgY).setDisplaySize(660,f).removeAllListeners(),this.taskIcon.setTexture(d.icon).setPosition(88,this.scene.height-190-f/2).setTint().setAlpha(1),this.star.setPosition(630,this.scene.height-190-f/2),this.scene.click(this.bg.middle,(function(){t.scene.clickTaskBoard(l)}));var m=Math.round(100/p*l.progress);this.taskProgress.setPercent(m,0,0===m?1:500).setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.taskProgressBorder1.setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.taskProgressBorder2.setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.listIsOpen||this.listButton.setPosition(this.bg.getTopRight().x,this.bg.getTopRight().y),this.scene.click(this.listButton,(function(){t.toggleList()}))}else if(2===this.status&&l){d=this.scene.game.scene.keys[this.scene.state.farm].getTaskData(l);this.taskText.setText(d.name).setWordWrapWidth(390);u=this.taskText.getBounds();this.taskText.setPosition(150,this.scene.height-u.height-248);var g="diamond"===l.awardType?"diamond":this.scene.state.farm.toLowerCase()+"Coin",y=l.award;this.award.setText(String(y)).setPosition(190,this.positionY-220),this.diamond.setTexture(g).setPosition(160,this.positionY-220),"diamond"!==g?this.awardBg.setDisplaySize(this.diamond.getBounds().width+this.award.getBounds().width+26,this.awardBg.height):this.awardBg.setDisplaySize(60,40);var v=this.award.getBounds();this.awardBg.setPosition(v.left-40,v.top-3);f=70+u.height<120?120:70+u.height;this.closingAniIsPlaying||this.bg.setY(this.bgY).setDisplaySize(660,f).removeAllListeners(),this.taskIcon.setTexture(d.icon).setPosition(88,this.positionY-190-f/2).setTint(7829367).setAlpha(.6),this.done.setPosition(620,this.positionY-190-f/2),this.takeText.setPosition(620,this.positionY-193-f/2),this.checkMark.setPosition(this.taskIcon.x,this.taskIcon.y),this.taskProgress.setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.taskProgressBorder1.setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.taskProgressBorder2.setPosition(this.taskIcon.x,this.scene.height-190-f/2),this.done.removeAllListeners(),this.scene.clickShopBtn({btn:this.done,title:this.takeText,img:!1},(function(){t.closingAniIsPlaying||("diamond"===g?t.scene.getCurrency({x:t.done.x,y:t.done.y},l.award,"diamond"):t.scene.plusMoneyAnimation({x:t.done.x,y:t.done.y}),t.scene.game.scene.keys[t.scene.state.farm].pickUpTaskReward(l.id),t.createOldBoard(l))}))}else 3===this.status&&l&&(this.bg.setY(this.bgY).setDisplaySize(660,110).removeAllListeners(),this.doneButton.setPosition(this.scene.cameras.main.centerX,this.positionY-245),this.doneButtonText.setPosition(this.scene.cameras.main.centerX,this.positionY-249),this.doneButton.removeAllListeners(),this.scene.clickModalBtn({btn:this.doneButton,title:this.doneButtonText},(function(){t.scene.game.scene.keys[t.scene.state.farm].nextPart()})),this.taskProgress.setPercent(0));if(4===this.status&&l&&(this.bg.setY(this.bgY).setDisplaySize(660,110).removeAllListeners(),this.lastPart.setPosition(this.scene.cameras.main.centerX,this.scene.height-245),"vk"===this.scene.state.platform&&!r.default.get("done"+i))){var w="Sheep"===i?5:"Chicken"===i?6:"Cow"===i?7:0;r.default.set("done"+i,"true"),a.sendAppEventVk(this.scene.state,w,100)}this.bgOriginHeight=this.bg.height;var b=!0;"Sheep"===this.scene.state.farm&&this.scene.state.userSheep.tutorial<100&&(b=!1),(this.scene.menu.isOpened||this.scene.scene.isActive("Modal")||this.scene.scene.isActive("Tutorial")||this.scene.scene.isActive("Fortune"))&&!b?(this.hideAllElement(),this.listIsOpen&&this.hideTaskListElements()):this.scene.menu.isOpened||this.scene.scene.isActive("Modal")||this.scene.scene.isActive("Tutorial")||this.scene.scene.isActive("Fortune")||!b||(this.shownElements(),h?this.flyInMainBoardAnim():2===this.status&&this.setProgressAni())}},t.prototype.setVisibleProgressElements=function(e){var t;null===(t=this.taskProgress)||void 0===t||t.setVisible(e),this.taskProgressBorder1.setVisible(e),this.taskProgressBorder2.setVisible(e)},t.prototype.setProgressAni=function(){var e,t=this;this.checkMark.setAlpha(.5).setScale(.85),null===(e=this.taskProgress)||void 0===e||e.setPercent(100,0,350),this.setVisibleProgressElements(!0),this.progressAni=this.scene.tweens.add({onStart:function(){t.taskProgress.fadeOut(400)},targets:[this.taskProgressBorder1,this.taskProgressBorder2,this.checkMark],alpha:function(e){return e===t.checkMark?1:0},scale:function(e){return e===t.checkMark?1:e.scale},delay:350,duration:400})},t.prototype.setDoneAnim=function(){var e=this;this.listIsOpen&&!this.closingAniIsPlaying&&this.closeTaskListAnimation(),this.animation=this.scene.tweens.add({targets:[this.bg,this.taskIcon,this.star,this.doneText,this.taskText,this.checkMark,this.done,this.takeText,this.award,this.awardBg,this.diamond,this.doneButton,this.doneButtonText,this.lastPart,this.taskProgress.rightSegment,this.taskProgress.leftSegment,this.taskProgressMask,this.taskProgressBorder1,this.taskProgressBorder2],onStart:function(){e.setVisibleProgressElements(!1)},onUpdate:function(){(e.taskProgressBorder1.visible||e.taskProgress.rightSegment.visible)&&e.setVisibleProgressElements(!1)},delay:850,duration:250,yoyo:!0,y:"-=20",repeat:-1})},t.prototype.flyOutOldBoardAnim=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.scene.tweens.createTimeline();i.add({targets:e,y:"-=160",duration:500,ease:"Power3"}),i.add({targets:e,x:"+=700",duration:1e3,ease:"Power3",onComplete:function(){e.forEach((function(e){return e.destroy()}))}}),i.play()},t.prototype.setStartY=function(){this.bg.setY(this.bgY+250),this.taskIcon.setY(this.taskIcon.y+250),this.star.setY(this.star.y+250),this.doneText.setY(this.doneText.y+250),this.taskText.setY(this.taskText.y+250),this.checkMark.setY(this.checkMark.y+250),this.done.setY(this.done.y+250),this.takeText.setY(this.takeText.y+250),this.award.setY(this.award.y+250),this.awardBg.setY(this.awardBg.y+250),this.diamond.setY(this.diamond.y+250),this.doneButton.setY(this.doneButton.y+250),this.doneButtonText.setY(this.doneButtonText.y+250),this.lastPart.setY(this.lastPart.y+250),this.taskProgress.rightSegment.setY(this.taskProgress.rightSegment.y+250),this.taskProgress.leftSegment.setY(this.taskProgress.leftSegment.y+250),this.taskProgressMask.setY(this.taskProgressMask.y+250),this.taskProgressBorder1.setY(this.taskProgressBorder1.y+250),this.taskProgressBorder2.setY(this.taskProgressBorder2.y+250),this.listButton.setY(this.listButton.y+250)},t.prototype.flyInMainBoardAnim=function(){var e=this;this.closingAniIsPlaying||(this.isMoving=!0,this.setStartY(),this.removeButtonsInteractive(),2===this.status&&this.setVisibleProgressElements(!1),this.scene.tweens.add({duration:500,targets:[this.bg,this.taskIcon,this.star,this.doneText,this.taskText,this.checkMark,this.done,this.takeText,this.award,this.awardBg,this.diamond,this.doneButton,this.doneButtonText,this.lastPart,this.taskProgress.rightSegment,this.taskProgress.leftSegment,this.taskProgressMask,this.taskProgressBorder1,this.taskProgressBorder2,this.listButton],alpha:function(t){return t!==e.checkMark&&t!==e.bg&&t.setAlpha(0),t.tintTopLeft===parseInt("0x777777",16)&&2===e.status?.6:t===e.checkMark?e.checkMark.alpha:1},y:"-=250",ease:"Power3",onComplete:function(){e.isMoving=!1,e.setButtonsInteractive()}}))},t.prototype.createOldBoard=function(e){var t,i;(null===(t=this.progressAni)||void 0===t?void 0:t.isPlaying())&&(null===(i=this.progressAni)||void 0===i||i.remove()),this.setVisibleProgressElements(!1);var s=this.scene.game.scene.keys[this.scene.state.farm].getTaskData(e),n=this.scene.add.sprite(this.bg.x,this.bgY,"tasks-bar-fix").setOrigin(.5,1).setDepth(this.depth+1e4);n.setDisplaySize(this.bg.width,this.bg.height);var a=this.scene.add.text(150,this.positionY-this.taskText.getBounds().height-244,s.name,{font:"23px Bip",color:"#713D1E",align:"left",wordWrap:{width:390}}).setOrigin(0,0).setVisible(!0).setDepth(n.depth),r=70+this.taskText.getBounds().height<120?120:70+this.taskText.getBounds().height,o=this.scene.add.image(88,this.positionY-190-r/2,s.icon).setDepth(n.depth).setTint(7829367).setAlpha(.6),c=this.scene.add.image(88,this.positionY-190-r/2,"completed").setDepth(n.depth).setTint(12632256).setAlpha(.9);this.flyOutOldBoardAnim(a,n,o,c)},t.prototype.checkVisibility=function(){var e=!0;"Sheep"===this.scene.state.farm&&this.scene.state.userSheep.tutorial<100&&(e=!1),(this.scene.menu.isOpened||this.scene.scene.isActive("Modal")||this.scene.scene.isActive("Tutorial")||this.scene.scene.isActive("Block")||this.scene.scene.isActive("Fortune"))&&this.isVisibile||!e&&this.isVisibile?(this.hideAllElement(),this.hideListButton(),this.listIsOpen&&this.hideTaskListElements()):this.scene.menu.isOpened||this.scene.scene.isActive("Modal")||this.scene.scene.isActive("Block")||this.scene.scene.isActive("Tutorial")||this.scene.scene.isActive("Fortune")||this.isVisibile||!e||this.shownElements(),this.listIsOpen||this.setMainPositionListButton()},t.prototype.hideAllElement=function(){var e,t,i,s,n,a,r,o,c,h,l,d,u,p;this.isVisibile=!1,this.hideListButton(),this.textArtifactsFix(),null===(e=this.bg)||void 0===e||e.setVisible(!1),null===(t=this.taskIcon)||void 0===t||t.setVisible(!1),null===(i=this.star)||void 0===i||i.setVisible(!1),null===(s=this.doneText)||void 0===s||s.setVisible(!1),null===(n=this.taskText)||void 0===n||n.setVisible(!1),null===(a=this.checkMark)||void 0===a||a.setVisible(!1),null===(r=this.done)||void 0===r||r.setVisible(!1),null===(o=this.takeText)||void 0===o||o.setVisible(!1),null===(c=this.award)||void 0===c||c.setVisible(!1),null===(h=this.awardBg)||void 0===h||h.setVisible(!1),null===(l=this.diamond)||void 0===l||l.setVisible(!1),null===(d=this.doneButton)||void 0===d||d.setVisible(!1),null===(u=this.doneButtonText)||void 0===u||u.setVisible(!1),null===(p=this.lastPart)||void 0===p||p.setVisible(!1),this.setVisibleProgressElements(!1)},t.prototype.hideListButton=function(){var e;null===(e=this.listButton)||void 0===e||e.setVisible(!1)},t.prototype.shownElements=function(){var e,t,i,s,n,a,r;this.hideAllElement(),this.isVisibile=!0,1===this.status?(this.bg.setVisible(!0),null===(e=this.star)||void 0===e||e.setVisible(!0),null===(t=this.taskIcon)||void 0===t||t.setVisible(!0),null===(i=this.doneText)||void 0===i||i.setVisible(!0),null===(s=this.taskText)||void 0===s||s.setVisible(!0),null===(n=this.taskProgress)||void 0===n||n.setVisible(!0),this.taskProgressBorder1.setVisible(!0),this.taskProgressBorder2.setVisible(!0),this.closingAniIsPlaying||null===(a=this.listButton)||void 0===a||a.setVisible(!0)):2===this.status?(this.bg.setVisible(!0),this.taskText.setVisible(!0),this.checkMark.setVisible(!0),this.award.setVisible(!0),this.diamond.setVisible(!0),this.awardBg.setVisible(!0),this.taskIcon.setVisible(!0),this.done.setVisible(!0),this.takeText.setVisible(!0),null===(r=this.taskProgress)||void 0===r||r.setVisible(!0),this.taskProgressBorder1.setVisible(!0),this.taskProgressBorder2.setVisible(!0)):3===this.status?(this.bg.setVisible(!0),this.doneButton.setVisible(!0),this.doneButtonText.setVisible(!0)):4===this.status&&(this.bg.setVisible(!0),this.lastPart.setVisible(!0))},t.prototype.setButtonsInteractive=function(){this.doneButton.setInteractive(),this.done.setInteractive()},t.prototype.removeButtonsInteractive=function(){this.doneButton.removeInteractive(),this.done.removeInteractive()},t.prototype.openAllTasksWindow=function(){this.listButton.setFlipY(!0),this.hideAllElement(),this.moveListButtonTop(),this.createAllTasks()},t.prototype.createAllTasks=function(){var e=this.scene.game.scene.keys[this.scene.state.farm].partTasks();e.sort((function(e,t){return e.awardTaken>t.awardTaken?-1:e.awardTaken<t.awardTaken||e.done>t.done?1:e.done<t.done||e.sort>t.sort?-1:e.sort<t.sort?1:0})),e.pop(),this.elements.length>0&&this.elements.forEach((function(e){null==e||e.destroy()})),this.elements=[],this.aditionalHeight=0;for(var t=0;t<e.length;t++){var i=e[t],s=this.scene.game.scene.keys[this.scene.state.farm].getTaskData(i);this.elements=this.elements.concat(this.createTaskListElement(i,s,t))}this.closingAniIsPlaying||this.openTaskListAnimation()},t.prototype.createTaskListElement=function(e,t,i){var s,n,a,r,h=this,l=this.scene.add.sprite(88,this.bg.getTopCenter().y-60-110*i,t.icon).setDepth(this.bg.depth+1).setScale(.85).setAlpha(0),d=this.scene.add.text(l.getBounds().right+20,this.bg.getTopCenter().y-60-110*i,t.name,{font:"24px Bip",color:"#713D1E",align:"left",wordWrap:{width:460}}).setDepth(this.bg.depth+1).setOrigin(0,.5).setAlpha(0),u=this.scene.add.tileSprite(this.scene.cameras.main.centerX,l.y+l.getBounds().height/2+18,620,3,"white-pixel").setDepth(this.bg.depth+1).setAlpha(0).setTint(14651969),p=this.scene.add.tileSprite(l.getTopLeft().x-14,l.getTopLeft().y-10,650,u.y-l.getTopCenter().y+21,"pixel").setDepth(this.bg.depth+2).setOrigin(0).setInteractive();if(this.scene.click(p,(function(){e.done||h.scene.clickTaskBoard(e)})),this.interactiveElements.push(p),this.aditionalHeight+=p.height+4,1===e.done&&1===e.awardTaken)l.setTint(7829367).setAlpha(0),s=this.scene.add.sprite(l.x,l.y,"completed").setDepth(this.bg.depth+2).setTint(12632256).setOrigin(.5).setAlpha(0),d.setColor("#6f6f6f").setAlpha(0);else{var f=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"][this.scene.state.farm.toLowerCase()+"Settings"].length,m=e.type===o.TaskType.ANIMAL_ON_FARM?f:e.count;n=new c.default(this.scene,l.x,l.y,1.13).setPercent(Math.round(100/m*e.progress)).setTint(7354783).setAlpha(0),a=this.scene.add.sprite(l.x,l.y,"circle-outline").setScale(1.15).setTint(12620357).setAlpha(0).setDepth(n.rightSegment.depth+1),r=this.scene.add.sprite(l.x,l.y,"circle-outline").setScale(.9).setTint(12620357).setAlpha(0).setDepth(n.rightSegment.depth+1)}return[l,d,u,s,null==n?void 0:n.rightSegment,null==n?void 0:n.leftSegment,a,r]},t.prototype.openTaskListAnimation=function(){var e=this,t=this.bgOriginHeight+this.aditionalHeight;this.scene.tweens.add({onStart:function(){e.textArtifactsFix()},targets:this.bg,height:t,duration:500,ease:"Power1",onUpdate:function(){var t=e.bg.height-1;e.bg.setDisplaySize(e.bg.width,t)},onComplete:function(){e.listButton.setY(e.bg.getTopCenter().y),e.textArtifactsFix()}}),this.scene.tweens.add({onStart:function(){e.textArtifactsFix()},targets:this.elements,alpha:function(e){return e.tintTopLeft===parseInt("0x777777",16)?.6:e.tintTopLeft===parseInt("0xc0c0c0",16)?.9:1},duration:300,delay:500,ease:"Power1"})},t.prototype.closeTaskListAnimation=function(){var e=this;this.closingAniIsPlaying=!0,this.listButton.setAlpha(0),this.interactiveElements.length>0&&(this.interactiveElements.forEach((function(e){null==e||e.destroy()})),this.interactiveElements=[]),this.scene.tweens.add({onStart:function(){e.textArtifactsFix()},targets:this.elements,alpha:{value:0,duration:300},ease:"Power1"}),this.scene.tweens.add({targets:this.bg,height:this.bgOriginHeight,duration:500,delay:300,ease:"Power1",onUpdate:function(){var t=e.bg.height-1;e.bg.setDisplaySize(e.bg.width,t),e.elements.some((function(e){return 0!==(null==e?void 0:e.alpha)}))&&e.elements.forEach((function(e){null==e||e.setAlpha(0)}))},onComplete:function(){var t;e.isVisibile&&1===e.status&&(null===(t=e.listButton)||void 0===t||t.setVisible(!0)),e.elements.forEach((function(e){null==e||e.destroy()})),e.fadeOutListButton(),e.textArtifactsFix(),e.closingAniIsPlaying=!1}}),this.scene.time.addEvent({delay:800,callback:function(){e.listTime=0,e.listIsOpen=!1}})},t.prototype.toggleList=function(){this.listIsOpen?this.closingAniIsPlaying||this.closeTaskListAnimation():(this.listIsOpen=!0,this.openAllTasksWindow())},t.prototype.moveListButtonTop=function(){var e=this,t=this.scene.tweens.add({onStart:function(){e.listButton.setAlpha(0)},targets:[this.listButton],y:"-="+this.listButtondY,duration:500,ease:"Power1",onUpdate:function(){e.listButton.setAlpha(0),(e.scene.menu.isOpened||e.scene.scene.isActive("Modal")||e.scene.scene.isActive("Tutorial")||e.scene.scene.isActive("Fortune"))&&(e.setMainPositionListButton(),t.stop())},onComplete:function(){e.fadeOutListButton()}})},t.prototype.fadeOutListButton=function(){this.scene.tweens.add({targets:[this.listButton],alpha:1,duration:150})},t.prototype.tickListTimer=function(){this.listIsOpen&&this.listTime++,this.listTime>3&&!this.closingAniIsPlaying&&this.closeTaskListAnimation()},t.prototype.hideTaskListElements=function(){this.closingAniIsPlaying||this.closeTaskListAnimation(),this.elements.forEach((function(e){return null==e?void 0:e.setVisible(!1)}))},t.prototype.setMainPositionListButton=function(){this.listButton.setFlipY(!1),this.fadeOutListButton(),this.listButton.setPosition(this.bg.getTopRight().x,this.bg.getTopRight().y)},t.prototype.textArtifactsFix=function(){this.scene.add.text(0,0,"").destroy()},t}(Phaser.GameObjects.TileSprite);t.default=l},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(41),o=i(1747),c=i(33),h=i(0),l=i(5),d=i(4),u=i(23),p=i(18),f=i(11),m=function(e){function t(){var t=e.call(this,"ChickenPreload")||this;return t.loadChicken=o.default.bind(t),t.loadingScreen=h.loadingScreen.bind(t),t.loadData=c.default.bind(t),t.clickShopBtn=d.clickShopBtn.bind(t),t.initAndroidStore=h.initAndroidStore.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e,this.userReady=!1,this.loadingReady=!1,this.serverError=!1,this.socket=!1,this.loadUser(),this.startTime=Math.round((new Date).getTime()/1e3),this.state.socket||(this.socket=!0,this.loadTime=Math.round((new Date).getTime()/1e3),this.state.socket=new r.default(this.state)),p.default.showInterstitialOnPreload(this.state,this)},t.prototype.preload=function(){this.loadingScreen("Chicken"),this.load.image("diamond",f.default.diamond),this.load.image("chickenCoin",f.default.chickenCoin),this.load.image("bg",f.default.bg),this.load.image("chicken-top",f.default.chickenTop),this.load.image("chicken-bottom",f.default.chickenBottom),this.load.image("topbar",f.default.topbar),this.load.image("tabbar",f.default.tabbar),this.load.image("chicken-buy-icon-1",f.default.chickenBuyIcon1),this.load.image("chicken-buy-icon-2",f.default.chickenBuyIcon2),this.load.image("chicken-buy-icon-3",f.default.chickenBuyIcon3),this.load.image("chicken-buy-icon-4",f.default.chickenBuyIcon4),this.load.image("chicken-buy-icon-5",f.default.chickenBuyIcon5),this.load.image("chicken-buy-icon-6",f.default.chickenBuyIcon6),this.load.image("chicken-buy-icon-7",f.default.chickenBuyIcon7),this.load.image("chicken-buy-icon-8",f.default.chickenBuyIcon8),this.load.image("chicken-buy-icon-9",f.default.chickenBuyIcon9),this.load.image("chicken-buy-icon-10",f.default.chickenBuyIcon10),this.load.image("chicken-buy-icon-11",f.default.chickenBuyIcon11),this.load.image("chicken-buy-icon-12",f.default.chickenBuyIcon12),this.load.image("egg-collector",f.default.eggCollector),this.load.image("shop",f.default.shop),this.load.image("map-icon",f.default.mapIcon),this.load.image("sandwich",f.default.sandwich),this.load.image("sandwich-close",f.default.sandwichClose),this.load.image("profile",f.default.profile),this.load.image("debug",f.default.debug),this.load.image("chat",f.default.chat),this.load.image("chicken-for-buying",f.default.chickenForBuying),this.load.image("chicken-bought",f.default.chickenBought),this.load.image("chicken-merging",f.default.chickenMerging),this.load.image("chicken-tent",f.default.chickenTent),this.load.image("chicken-house",f.default.chickenHouse),this.load.image("chicken-ground",f.default.chickenGround),this.load.image("chicken-repository",f.default.chickenRepository),this.load.image("chicken-repository-1-1",f.default.chickenRepository11),this.load.image("chicken-repository-2-1",f.default.chickenRepository21),this.load.image("chicken-repository-3-1",f.default.chickenRepository31),this.load.image("chicken-repository-4-1",f.default.chickenRepository41),this.load.image("chicken-repository-1-2",f.default.chickenRepository12),this.load.image("chicken-repository-2-2",f.default.chickenRepository22),this.load.image("chicken-repository-3-2",f.default.chickenRepository32),this.load.image("chicken-repository-4-2",f.default.chickenRepository42),this.load.image("chicken-repository-1-3",f.default.chickenRepository13),this.load.image("chicken-repository-2-3",f.default.chickenRepository23),this.load.image("chicken-repository-3-3",f.default.chickenRepository33),this.load.image("chicken-repository-4-3",f.default.chickenRepository43),this.load.image("chicken-repository-1-4",f.default.chickenRepository14),this.load.image("chicken-repository-2-4",f.default.chickenRepository24),this.load.image("chicken-repository-3-4",f.default.chickenRepository34),this.load.image("chicken-repository-4-4",f.default.chickenRepository44),this.load.image("chicken-grass1-1",f.default.chickenGrass11),this.load.image("chicken-grass1-2",f.default.chickenGrass12),this.load.image("chicken-grass1-3",f.default.chickenGrass13),this.load.image("chicken-grass1-4",f.default.chickenGrass14),this.load.image("chicken-grass2-1",f.default.chickenGrass21),this.load.image("chicken-grass2-2",f.default.chickenGrass22),this.load.image("chicken-grass2-3",f.default.chickenGrass23),this.load.image("chicken-grass2-4",f.default.chickenGrass24),this.load.image("chicken-grass3-1",f.default.chickenGrass31),this.load.image("chicken-grass3-2",f.default.chickenGrass32),this.load.image("chicken-grass3-3",f.default.chickenGrass33),this.load.image("chicken-grass3-4",f.default.chickenGrass34),this.load.image("chicken-grass4-1",f.default.chickenGrass41),this.load.image("chicken-grass4-2",f.default.chickenGrass42),this.load.image("chicken-grass4-3",f.default.chickenGrass43),this.load.image("chicken-grass4-4",f.default.chickenGrass44),this.load.image("chicken-water1-1",f.default.chickenWater11),this.load.image("chicken-water1-2",f.default.chickenWater12),this.load.image("chicken-water1-3",f.default.chickenWater13),this.load.image("chicken-water1-4",f.default.chickenWater14),this.load.image("chicken-water2-1",f.default.chickenWater21),this.load.image("chicken-water2-2",f.default.chickenWater22),this.load.image("chicken-water2-3",f.default.chickenWater23),this.load.image("chicken-water2-4",f.default.chickenWater24),this.load.image("chicken-water3-1",f.default.chickenWater31),this.load.image("chicken-water3-2",f.default.chickenWater32),this.load.image("chicken-water3-3",f.default.chickenWater33),this.load.image("chicken-water3-4",f.default.chickenWater34),this.load.image("chicken-water4-1",f.default.chickenWater41),this.load.image("chicken-water4-2",f.default.chickenWater42),this.load.image("chicken-water4-3",f.default.chickenWater43),this.load.image("chicken-water4-4",f.default.chickenWater44),this.load.image("lock-territory",f.default.lockTerritory),this.load.spritesheet("chicken0",f.default.chicken0,{frameWidth:109,frameHeight:138}),this.load.spritesheet("chicken1",f.default.chicken1,{frameWidth:115,frameHeight:143}),this.load.spritesheet("chicken2",f.default.chicken2,{frameWidth:115,frameHeight:143}),this.load.spritesheet("chicken3",f.default.chicken3,{frameWidth:115,frameHeight:143}),this.load.spritesheet("chicken4",f.default.chicken4,{frameWidth:115,frameHeight:137}),this.load.spritesheet("chicken5",f.default.chicken5,{frameWidth:115,frameHeight:150}),this.load.spritesheet("chicken6",f.default.chicken6,{frameWidth:115,frameHeight:150}),this.load.spritesheet("chicken7",f.default.chicken7,{frameWidth:115,frameHeight:142}),this.load.spritesheet("chicken8",f.default.chicken8,{frameWidth:115,frameHeight:150}),this.load.spritesheet("chicken9",f.default.chicken9,{frameWidth:115,frameHeight:143}),this.load.spritesheet("chicken10",f.default.chicken10,{frameWidth:115,frameHeight:145}),this.load.spritesheet("chicken11",f.default.chicken11,{frameWidth:115,frameHeight:133}),this.load.spritesheet("chicken12",f.default.chicken12,{frameWidth:115,frameHeight:150}),this.load.image("chicken-egg0",f.default.egg0),this.load.image("chicken-egg1",f.default.egg1),this.load.image("chicken-egg2",f.default.egg2),this.load.image("chicken-egg3",f.default.egg3),this.load.image("chicken-egg4",f.default.egg4),this.load.image("chicken-egg5",f.default.egg5),this.load.image("chicken-egg6",f.default.egg6),this.load.image("chicken-egg7",f.default.egg7),this.load.image("chicken-egg8",f.default.egg8),this.load.image("chicken-egg9",f.default.egg9),this.load.image("chicken-egg10",f.default.egg10),this.load.image("chicken-egg11",f.default.egg11),this.load.image("chicken-egg12",f.default.egg12),this.load.image("merging-animation",f.default.mergingAnimation),this.load.image("lock",f.default.lock),this.load.image("disable-chicken",f.default.disableChicken),this.load.image("chicken-house-sprite",f.default.chickenHouseSprite),this.load.image("cave-disable",f.default.caveDisalble),this.load.image("cave-ready",f.default.caveReady),this.load.image("cave-wait",f.default.caveWait),this.load.image("cave-timer",f.default.caveTimer),this.load.image("chicken-forest-1",f.default.chickenForest1),this.load.image("chicken-forest-2",f.default.chickenForest2),this.load.image("chicken-forest-3",f.default.chickenForest3),this.load.image("chicken-forest-4",f.default.chickenForest4),this.load.image("chicken-forest-5",f.default.chickenForest5),this.load.image("chicken-forest-6",f.default.chickenForest6),this.load.image("chicken-forest-7",f.default.chickenForest7),this.load.image("chicken-forest-8",f.default.chickenForest8),this.load.image("star",f.default.star),this.load.image("completed",f.default.completed),this.load.image("little-button",f.default.littleButton),this.load.image("little-button-disable",f.default.littleButtonDisable),this.load.image("chicken-task-icon-1",f.default.chickenTaskIcon1),this.load.image("chicken-task-icon-2",f.default.chickenTaskIcon2),this.load.image("chicken-task-icon-3",f.default.chickenTaskIcon3),this.load.image("chicken-task-icon-4",f.default.chickenTaskIcon4),this.load.image("chicken-task-icon-5",f.default.chickenTaskIcon5),this.load.image("chicken-task-icon-6",f.default.chickenTaskIcon6),this.load.image("chicken-task-icon-7",f.default.chickenTaskIcon7),this.load.image("chicken-task-icon-8",f.default.chickenTaskIcon8),this.load.image("chicken-task-icon-9",f.default.chickenTaskIcon9),this.load.image("chicken-task-icon-10",f.default.chickenTaskIcon10),this.load.image("chicken-task-icon-11",f.default.chickenTaskIcon11),this.load.image("chicken-task-icon-12",f.default.chickenTaskIcon12),this.load.image("chicken-task-icon-13",f.default.chickenTaskIcon13),this.load.image("chicken-task-icon-14",f.default.chickenTaskIcon14),this.load.image("chicken-task-icon-15",f.default.chickenTaskIcon15),this.load.image("chicken-task-icon-16",f.default.chickenTaskIcon16),this.load.image("chicken-task-icon-17",f.default.chickenTaskIcon17),this.load.image("chicken-task-icon-18",f.default.chickenTaskIcon18),this.load.image("chicken-task-icon-20",f.default.chickenTaskIcon20),this.load.image("chicken-task-icon-21",f.default.chickenTaskIcon21),this.load.image("chicken-task-icon-22",f.default.chickenTaskIcon22),this.load.image("chicken-task-icon-23",f.default.chickenTaskIcon23),this.load.image("chicken-task-icon-24",f.default.chickenTaskIcon24),this.load.image("chicken-task-icon-25",f.default.chickenTaskIcon25),this.load.image("chicken-task-icon-26",f.default.chickenTaskIcon26),this.load.image("chicken-task-icon-27",f.default.chickenTaskIcon27),this.load.image("chicken-task-icon-28",f.default.chickenTaskIcon28),this.load.image("chicken-task-icon-29",f.default.chickenTaskIcon29),this.load.image("chicken-task-icon-29",f.default.chickenTaskIcon29),this.load.image("chicken-task-icon-31",f.default.chickenTaskIcon31),this.load.image("chicken-task-icon-32",f.default.chickenTaskIcon32),this.load.image("chicken-task-icon-33",f.default.chickenTaskIcon33),this.load.image("chicken-task-icon-34",f.default.chickenTaskIcon34),this.load.image("chicken-task-icon-38",f.default.chickenTaskIcon38),this.load.image("chicken-task-icon-39",f.default.chickenTaskIcon39),this.load.image("chicken-task-icon-40",f.default.chickenTaskIcon40),this.load.image("plus",f.default.plus),this.load.image("chicken-leaves",f.default.chickenLeaves),this.load.image("green-balance-bg",f.default.greenBalanceBg),this.load.image("red-balance-bg",f.default.redBalanceBg),this.load.image("resource-enough",f.default.resourceEnough),this.load.image("resource-problem",f.default.resourceProblem),this.load.image("grass-balance",f.default.grassBalance),this.load.image("water-balance",f.default.waterBalance),this.load.image("tail",f.default.tail),this.load.image("pixel",f.default.pixel),this.load.image("chicken-vertical-border",f.default.chickenVerticalBorder),this.load.image("chicken-horizontal-border-1",f.default.chickenHorizontalBorder1),this.load.image("chicken-horizontal-border-2",f.default.chickenHorizontalBorder2),this.load.image("chicken-horizontal-border-3",f.default.chickenHorizontalBorder3),this.load.image("gift",f.default.gift),this.load.image("offline",f.default.offline),this.load.image("tutor-btn",f.default.tutorBtn),this.load.image("heart",f.default.heart),this.load.image("not-enought-water",f.default.notEnoughtWater),this.load.image("not-enought-grass",f.default.notEnoughtGrass),this.load.image("calendar",f.default.calendar),this.load.image("ad-icon",f.default.adIcon),this.load.image("bg-ad",f.default.bgAd),this.load.image("big-btn-green",f.default.bigButtonGreen),this.load.image("arrow",f.default.arrow),this.load.image("stock-icon",f.default.stockIcon),this.load.image("loading-spinner",f.default.loadingSpinner),this.load.image("farmer",f.default.farmer),this.load.image("white-pixel",f.default.whitePixel),this.load.image("scroll-arrow",f.default.scrollArrow),this.load.image("hatchet",f.default.hatchet),this.load.image("hammer",f.default.hammer),this.load.image("improve-collector",f.default.improveCollector),this.load.image("task-award-bg",f.default.tasksAwardBg),this.load.image("notification-bg",f.default.notificationBg),this.load.image("rounded-segment",f.default.roundedBarSegment),this.load.image("circle-outline",f.default.circleOutline),this.load.image("cooldown-plate",f.default.cooldownPlate),this.load.image("tasks-bar-ns",f.default.tasksBarNs),this.load.image("tasks-bar-fix",f.default.tasksBarNs),this.load.image("task-bar-top",f.default.taskBarTop),this.load.image("task-bar-bot",f.default.taskBarBot),this.load.image("task-bar-mid",f.default.taskBarMid),this.load.image("text-sale",f.default.textSale),this.load.image("icon-sale",f.default.saleIcon),this.load.image("btn-clean",f.default.btnClean),this.load.image("feed-chicken-balance",f.default.feedChickenBalance),this.load.image("plate-feed",f.default.plateFeed),this.load.image("cloud-info",f.default.cloudInfo),this.load.image("green-balance-bg-big",f.default.greenBalanceBgBig),this.load.image("red-balance-bg-big",f.default.redBalanceBgBig)},t.prototype.create=function(){this.loadingReady=!0},t.prototype.update=function(){if(this.loadingReady&&this.userReady){if(this.socket){var e=Math.round((new Date).getTime()/1e3)-this.loadTime,t=document.body.clientWidth+" * "+document.body.clientHeight;this.state.socket.io.emit("updateSession",{user_id:this.state.user.id,hash:this.state.user.hash,screen_size:t,loadTime:e}),this.state.user.clanId&&this.state.socket.io.emit("joinClanRoom",{clanId:this.state.user.clanId}),this.state.amplitude.setFarmIdentify(),console.log("Test - "+this.state.user.test),"android"===this.state.platform&&this.initAndroidStore()}this.userReady=!1,this.loadingReady=!1,this.startTime=Math.round((new Date).getTime()/1e3)-this.startTime,this.state.offlineTime+=this.startTime,this.scene.stop(),this.scene.start("Chicken",this.state),this.scene.start("ChickenBars",this.state),this.scene.start("Preload",this.state)}else this.loadingReady&&this.serverError&&(this.loadingReady=!1,this.serverError=!1,this.children.destroy(),new u.default(this,this.state.lang.checkYourInternet))},t.prototype.loadUser=function(){var e=this;this.state.dataIsLoaded?this.userReady=!0:a.default.post("https://ferma.games:4000/loadData",{hash:this.state.user.hash}).then((function(t){e.state.dataIsLoaded=!0,e.loadData(t),e.state.offlineTime=t.data.progress.chickenOfflineTime,e.userReady=!0})).catch((function(){e.serverError=!0})),this.state.farm="Chicken",this.state.shopNotificationCount=[0,0,0,0],l.default.set("farm","Chicken")},t}(Phaser.Scene);t.default=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(10),n=i(68),a=i(65),r=i(32),o=i(24),c=i(48),h=i(5);t.default=function(e){if(void 0===e&&(e=0),this.state.chickenCollectorSettings=a.default,this.state.autoSaveSpeed=s.general.autoSaveSpeed,this.state.maxMerginTime=s.general.maxMerginTime,this.state.packages=s.general.packages,this.state.chickenSettings=s.chickenSettings,this.state.progress=c.default(),this.state.chicken=[],this.state.chickenEggs=[],this.state.farm="Chicken",this.state.daily=!1,this.state.newbieTime=0,this.state.timeToBoost=0,h.default.get("dailyAwards")&&(this.state.dailyAwards=JSON.parse(h.default.get("dailyAwards"))),h.default.get("chicken")&&(this.state.chicken=JSON.parse(h.default.get("chicken"))),h.default.get("chickenEggs")&&(this.state.chickenEggs=JSON.parse(h.default.get("chickenEggs"))),h.default.get("chickenTerritories")?this.state.chickenTerritories=JSON.parse(h.default.get("chickenTerritories")):this.state.chickenTerritories=n.default,h.default.get("user")?this.state.user=JSON.parse(h.default.get("user")):this.state.user=r.userData,e>0&&(this.state.user.counter=e),h.default.get("userChicken")?this.state.userChicken=JSON.parse(h.default.get("userChicken")):this.state.userChicken=r.userChicken,h.default.get("chickenTasks"))this.state.chickenTasks=JSON.parse(h.default.get("chickenTasks"));else{var t=[];for(var i in o.default)2===o.default[i].farm&&t.push(o.default[i]);this.state.chickenTasks=t}if(h.default.get("chickenTime")){var l=Math.round((new Date).getTime()/1e3);this.state.offlineTime=l-Number(h.default.get("chickenTime"))}else this.state.offlineTime=0;this.userReady=!0}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(110),r=i(1749),o=i(1751),c=i(1752),h=i(1753),l=i(49),d=i(50),u=i(4),p=i(0),f=i(36),m=i(51),g=i(16),y=i(75),v=i(1754),w=i(1755),b=i(115),x=i(1756),k=i(116),T=i(52),_=i(15),S=i(5),C=i(18),P=i(34),B=i(116),A=i(1),E=function(e){function t(){var t=e.call(this,"Chicken")||this;return t.velocity=40,t.topIndent=240,t.bottomIndent=240,t.collector=0,t.collectorTakenTime=0,t.herdBoostLvl=5,t.feedBoostMultiplier=2,t.feedBoostLvl=6,t.feedBoostStack=11,t.dailyStartCheck=!0,t.counterWithoutCollector=0,t.speedCollectorTimer=30,t.world=r.default.bind(t),t.drag=o.default.bind(t),t.collisions=a.default.bind(t),t.chickenBrain=c.default.bind(t),t.interval=h.default.bind(t),t.click=u.click.bind(t),t.clickTerritory=u.clickTerritory.bind(t),t.clickModalBtn=u.clickModalBtn.bind(t),t.animations=v.animations.bind(t),t.teleportation=w.teleportation.bind(t),t.reverse=w.reverse.bind(t),t.aim=w.aim.bind(t),t.getChicken=w.getChicken.bind(t),t.currentTerritory=y.currentTerritory.bind(t),t.confirmExchangeTerritory=m.confirmExchangeTerritory.bind(t),t.deleteTerritoriesLocks=y.deleteTerritoriesLocks.bind(t),t.balance=b.balance.bind(t),t.convertDiamonds=p.convertDiamonds.bind(t),t.convertMoney=p.convertMoney.bind(t),t.exchange=p.exchange.bind(t),t.chickenPrice=b.chickenPrice.bind(t),t.animalPrice=b.chickenPrice.bind(t),t.checkMerging=w.checkMerging.bind(t),t.cancelMerging=w.cancelMerging.bind(t),t.buyChicken=w.buyChicken.bind(t),t.buyAnimal=w.buyChicken.bind(t),t.collectEgg=w.collectEgg.bind(t),t.sellEggs=w.sellEggs.bind(t),t.confirmExpelChicken=w.confirmExpelChicken.bind(t),t.showBank=m.showBank.bind(t),t.freeCollector=f.freeCollector.bind(t),t.buyCollector=f.buyCollector.bind(t),t.nextPart=m.nextPart.bind(t),t.donePart=p.donePart.bind(t),t.maxBreedForBuy=b.maxBreedForBuy.bind(t),t.partTasks=g.partTasks.bind(t),t.pickUpTaskReward=p.pickUpTaskReward.bind(t),t.tryTask=g.tryTask.bind(t),t.tryClanTask=g.tryClanTask.bind(t),t.getTaskData=g.getTaskData.bind(t),t.takeDiamondChicken=b.takeDiamondChicken.bind(t),t.checkAnimalTask=g.checkAnimalTask.bind(t),t.showTasks=m.showTasks.bind(t),t.messageIsSent=m.messageIsSent.bind(t),t.autosave=d.default.bind(t),t.buildBorders=y.buildBorders.bind(t),t.showTutorial=x.showTutorial.bind(t),t.doneTutor_0=x.doneTutor_0.bind(t),t.autoprogress=l.default.bind(t),t.dailyAward=m.dailyAward.bind(t),t.logout=p.logout.bind(t),t.onlineStatus=p.onlineStatus.bind(t),t.checkDoneTasks=g.checkDoneTasks.bind(t),t.takeNewbieAward=m.takeNewbieAward.bind(t),t.getNewbieAward=p.getNewbieAward.bind(t),t.dragChickenMerging=w.dragChickenMerging.bind(t),t.showDonate=m.showDonate.bind(t),t.takeDonate=p.takeDonate.bind(t),t.setCollector=k.default.bind(t),t.showImproveCollector=m.showImproveCollector.bind(t),t.improveCollector=f.improveCollector.bind(t),t.createBoostAnimal=f.createBoostAnimal.bind(t),t.startHerdBoost=m.startHerdBoost.bind(t),t.random=p.random.bind(t),t.randomString=p.randomString.bind(t),t.getRandomBool=p.getRandomBool.bind(t),t.spreadAnimals=p.spreadAnimals.bind(t),t.getEventRaiting=p.getEventRaiting.bind(t),t.showEventTutorial=T.showEventTutorial.bind(t),t.doneEventTutor_0=T.doneEventTutor_0.bind(t),t.nextDayTimer=p.nextDayTimer.bind(t),t.intervalPorgressCollectorTime=_.intervalPorgressCollectorTime.bind(t),t.autoporgressCollectorTime=p.autoporgressCollectorTime.bind(t),t.findFreeTerritory=y.findFreeTerritory.bind(t),t.farmBalance=p.farmBalance.bind(t),t.sheepIntervalProgress=_.sheepIntervalProgress.bind(t),t.sheepCollectorProgress=_.sheepCollectorProgress.bind(t),t.cowIntervalProgress=_.cowIntervalProgress.bind(t),t.cowCollectorProgress=_.cowCollectorProgress.bind(t),t.cowFactoryProgress=_.cowFactoryProgress.bind(t),t.updateProfileNotification=_.updateProfileNotification.bind(t),t.intervalCollectorTutorial=_.intervalCollectorTutorial.bind(t),t.showFeedBoostSpeechBubble=_.showFeedBoostSpeechBubble.bind(t),t.progressTerritoryCooldown=_.progressTerritoryCooldown.bind(t),t.yandexAuth=p.yandexAuth.bind(t),t.playSoundOnce=p.playSoundOnce.bind(t),t.setPlatformStorage=p.setPlatformStorage.bind(t),t.getPlatformStorage=p.getPlatformStorage.bind(t),t.openConvertorForClan=p.openConvertorForClan.bind(t),t.speedCheckCollector=_.speedCheckCollector.bind(t),t.updateCollector=B.updateCollector.bind(t),t}return n(t,e),t.prototype.init=function(e){if(this.autoprogressTimer=Math.round((new Date).getTime()/1e3),this.autoSaveTimer=0,this.state=e,this.state.userChicken.part=this.state.userChicken.part||1,this.alarm=!1,this.collectorTimer=null,this.settings=e.chickenSettings,this.counterWithoutCollector=0,this.caveIconsTimer=0,this.ads=new C.default(this),this.autoprogress(!0),this.achievement=new P.default(this),A.default.checkTestB(this.state)){var t=this.settings.partSettings[this.state.userChicken.collectorLevel-1].collector.speed;this.collectorCD=Math.round(1e3/t),this.collectorIsReady=!1}},t.prototype.create=function(){this.animations(),this.world(),this.drag(),this.collisions(),this.interval(),A.default.checkTestB(this.state)||this.setCollector(),this.openConvertorForClan(),this.ads.showInterstitialAd(),S.default.get("openChicken")||(S.default.set("openChicken","true"),p.sendSocialEvent(this.state,2,100),p.sendAppEventVk(this.state,3,100))},t.prototype.update=function(e,t){this.chickenBrain(),A.default.checkTestB(this.state)&&this.updateCollector(t)},t}(Phaser.Scene);t.default=E},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(17),n=i(73),a=i(1750);function r(e){var t,i=this.state.farm.toLowerCase(),s=1;return e.improve>=5&&(s=2,e.improve>=10&&(s=3,e.improve>=15&&(s=4))),0===e.type?t=i+"-for-buying":1===e.type?t=i+"-bought":2===e.type?(t=i+"-grass"+s+"-",e.volume<250?t+=1:e.volume>=250&&e.volume<500?t+=2:e.volume>=500&&e.volume<750?t+=3:e.volume>=750&&(t+=4)):3===e.type?(t=i+"-water"+s+"-",e.volume<250?t+=1:e.volume>=250&&e.volume<500?t+=2:e.volume>=500&&e.volume<750?t+=3:e.volume>=750&&(t+=4)):4===e.type?t=i+"-merging":5===e.type?t=i+"-repository":6===e.type?t=i+"-house":7===e.type?t=i+"-ground":8===e.type&&(t=i+"-repository"),t}t.default=function(){var e=this;this.height=Math.round(Number(this.game.config.width)/3);var t=8*this.height+this.topIndent+this.bottomIndent;this.add.tileSprite(0,0,this.game.config.width,t,"bg").setOrigin(0,0),this.top=this.add.sprite(0,0,"chicken-top").setOrigin(0,0),this.bottom=this.add.sprite(0,t,"chicken-bottom").setOrigin(0,1).setDepth(t),this.cameras.main.setBounds(0,0,720,t),this.physics.world.setBounds(-100,0,920,t);var i={wheel:!0,bottom:t};this.scrolling=new s.default(this,i),this.input.on("pointerup",(function(){e.scrolling.enabled=!0,e.scrolling.wheel=!0})),this.territories=this.physics.add.group();var o=1;this.state.chickenTerritories.map((function(t){var i=(t.position-1)*e.height,s=(t.block-1)*e.height;++o>8&&(o=1),s+=e.topIndent;var n=r.bind(e)(t),c=new a.default(e,i,s,n,t);c.createForest(o),e.territories.add(c)})),this.buildBorders(),this.chicken=this.physics.add.group({collideWorldBounds:!0}),this.state.chicken.map((function(t){e.getChicken(t._id,t.type,t.x,t.y,t.counter,t.egg,t.diamond,t.vector,!1)})),this.eggs=this.physics.add.group(),this.state.chickenEggs.map((function(t){n.default.create(e,t)})),this.checkDoneTasks(),0===this.state.userChicken.tutorial&&this.showTutorial()}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(72),r=i(3),o=i(1),c=function(e){function t(t,i,s,n,a){return e.call(this,t,i,s,n,a)||this}return n(t,e),t.prototype.takeDiamondAnimal=function(){this.scene.takeDiamondChicken()},t.prototype.sellResource=function(){e.prototype.sellResource.call(this),this.scene.sellEggs()},t.prototype.createMergingZone=function(){e.prototype.createMergingZone.call(this),this.scene.add.image(this.x,this.y-35,"chicken-tent").setDepth(this.y).setOrigin(0,0),this.scene.add.zone(this.x+45,this.y+120,145,300).setDropZone(void 0,(function(){})).type="left",this.scene.add.zone(this.x+190,this.y+120,145,300).setDropZone(void 0,(function(){})).type="right",this.levelText=this.scene.add.text(this.x+200,this.y+202,String(this.scene.state.userChicken.fair),{font:"34px Shadow",color:"#b5315a"}).setOrigin(.5,.5).setDepth(this.y)},t.prototype.onTerritoryClick=function(){if(o.default.checkTestB(this.scene.state))return this.onTerritoryClickTestB();if(e.prototype.onTerritoryClick.call(this),this.cooldown>0){var t={type:1,sysType:19};return this.scene.state.territory=this,this.scene.state.modal=t,void this.scene.scene.launch("Modal",this.scene.state)}if(6!==this.territoryType&&7!==this.territoryType){t={type:1,sysType:2};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}else 6===this.territoryType?this.scene.state.userChicken.collectorLevel<this.scene.state.chickenCollectorSettings.length?this.scene.showImproveCollector():r.default.create(this.scene.game.scene.keys.ChickenBars,this.scene.state.lang.maxCollectorLevel,3):7===this.territoryType&&this.takeDiamondAnimal()},t.prototype.onTerritoryClickTestB=function(){if(e.prototype.onTerritoryClick.call(this),this.cooldown>0){var t={type:1,sysType:19};return this.scene.state.territory=this,this.scene.state.modal=t,void this.scene.scene.launch("Modal",this.scene.state)}if(6!==this.territoryType&&7!==this.territoryType){t={type:1,sysType:2};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}else 6===this.territoryType?this.scene.state.userChicken.collectorLevel<this.scene.state.chickenSettings.partSettings.length||this.scene.state.userChicken.collectorTimeLevel<this.scene.state.chickenSettings.partSettings.length?this.scene.showImproveCollector():r.default.create(this.scene.game.scene.keys.ChickenBars,this.scene.state.lang.maxCollectorLevel,3):7===this.territoryType&&this.takeDiamondAnimal()},t.prototype.setPositionImproveText=function(){var e,t;if(5===this.territoryType){var i={x:null===(e=this.improveText)||void 0===e?void 0:e.x,y:null===(t=this.improveText)||void 0===t?void 0:t.y};this.improve<5?(i.x=this.x+177,i.y=this.y+134):this.improve<10?(i.x=this.x+155,i.y=this.y+154):this.improve<15?(i.x=this.x+140,i.y=this.y+147):(i.x=this.x+176,i.y=this.y+150),this.improveText.x===i.x&&this.improveText.y===i.y||(this.improveText.setPosition(i.x,i.y),this.improveText.setDepth(this.repository.depth+1))}else if(2===this.territoryType||3===this.territoryType){i={x:this.x+38,y:this.y+24};this.improveText.x===i.x&&this.improveText.y===i.y||this.improveText.setPosition(i.x,i.y).setDepth(this.depth+2)}},t}(a.default);t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(3);t.default=function(){var e=this;this.input.on("dragstart",(function(t,i){e.scrolling.downHandler(),e.scrolling.enabled=!1,e.scrolling.wheel=!1,i.drag=!0,i.setVelocity(0,0),i.body.onWorldBounds=!1,i.anims.play("chicken-drag"+i.type,!0)})),this.input.on("drag",(function(e,t,i,s){t.drag&&(t.x=i,t.y=s,t.setDepth(s+Math.round(t.height/2+100)))})),this.input.on("drop",(function(t,i,a){var r=e.currentTerritory(i.x,i.y);if(r)if(4===r.territoryType)0===i.type?(n.default.create(e,e.state.lang.mergingDiamondChicken,1),e.cancelMerging(r,i,!1)):i.type===e.state.chickenSettings.chickenSettings.length?(n.default.create(e,e.state.lang.mergingMessageBreedMax,1),e.cancelMerging(r,i,!1)):e.state.userChicken.fair<i.type?(n.default.create(e,e.state.lang.needImproveFair,1),e.cancelMerging(r,i,!1)):"left"===a.type?e.checkMerging(r,i,"left"):"right"===a.type&&e.checkMerging(r,i,"right");else{var o=s.random(r.x+40,r.x+200),c=s.random(r.y+280,r.y+440);e.aim(i,o,c)}else e.teleportation(i)})),this.input.on("dragend",(function(t,i){e.scrolling.enabled=!0,e.scrolling.wheel=!0,i.body.onWorldBounds=!0,i.drag=!1,i.aim=!1,i.spread=!1,i.aimX=0,i.aimY=0,i.collision=0,i.counter=200;var s=e.currentTerritory(i.x,i.y);if(s){if(4!==s.territoryType)for(var n in e.dragChickenMerging(i),0===s.territoryType?(i.expel=!0,e.state.animal=i,e.confirmExpelChicken()):i.expel=!1,e.territories.children.entries){var a=e.territories.children.entries[n];if(4===a.territoryType){if(a.merging.find((function(e){return e._id===i._id}))){a.merging.splice(0,1),a.mergingCounter=0;break}}else i.merging=!1}}else i.expel=!0,e.state.animal=i,e.confirmExpelChicken(),e.teleportation(i)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0);t.default=function(){for(var e in this.chicken.children.entries){var t=this.chicken.children.entries[e];if(!t.drag){var i=this.currentTerritory(t.x,t.y);if(i){if(4!==i.territoryType||t.aim)if(2!==i.territoryType&&3!==i.territoryType&&4!==i.territoryType&&(0===i.territoryType&&t.expel?(t.aim=!1,t.spread=!1,t.moving=!1,t.setVelocity(0,0),t.body.reset(t.x,t.y)):this.teleportation(t)),t.aim||t.expel){var n=Phaser.Math.Distance.Between(t.x,t.y,t.aimX,t.aimY);t.x<0||t.x>720||t.y<0||n>t.distance&&t.distance>0?(t.body.reset(t.x,t.y),t.aim=!1,t.spread=!1,t.moving=!1,t.aimX=0,t.aimY=0,t.distance=0):t.distance=n}else{if(1===s.random(1,170)&&(t.changeVector=!0,t.vector=s.random(1,8)),t.counter>s.random(130,170))t.counter>=400&&(t.counter=0),!1!==t.moving&&(t.moving=!1,t.setVelocity(0,0),t.body.reset(t.x,t.y));else{if(!t.moving||t.changeVector){t.body.reset(t.x,t.y),t.setVelocity(0,0);var a=s.random(this.velocity-10,this.velocity+10),r=s.random(this.velocity-10,this.velocity+10);switch(t.vector){case 1:t.setVelocity(a,r);break;case 2:t.setVelocity(-a,r);break;case 3:t.setVelocity(-a,-r);break;case 4:t.setVelocity(a,-r);break;case 5:t.setVelocity(0,-r);break;case 6:t.setVelocity(a,0);break;case 7:t.setVelocity(0,r);break;case 8:t.setVelocity(-a,0)}}t.moving=!0,t.changeVector=!1}t.collision>0&&t.collision++,t.collision>=200&&(t.collision=0),t.counter++}if((1===i.position&&t.x<t.width/2||3===i.position&&t.x>3*this.height-t.width/2||8===i.block&&t.y>this.topIndent+8*this.height-t.height/2)&&!t.aim){var o=Phaser.Math.Between(i.x+Math.ceil(t.width/2),i.x-Math.ceil(t.width/2)+240),c=Phaser.Math.Between(i.y+Math.ceil(t.width/2),i.y-Math.ceil(t.width/2)+240);this.aim(t,o,c)}if(4===i.territoryType&&!t.merging&&!t.aim){t.merging=!1;var h=Phaser.Math.Between(i.x+40,i.x+200),l=Phaser.Math.Between(i.y+280,i.y+440);this.aim(t,h,l)}}else this.teleportation(t);t.setDepth(t.y+Math.round(t.height/2+1))}if(!t.drag){var d=void 0;t.merging&&(t.moving=!1),d=2===t.vector||3===t.vector||7===t.vector||8===t.vector?"left":"right",t.moving||t.aim?t.anims.play("chicken-move-"+d+t.type,!0):t.anims.play("chicken-stay-"+d+t.type,!0)}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(21),a=i(6),r=i(35),o=i(73),c=i(15),h=i(3),l=i(1),d=0,u=0,p=0,f=0,m=1;t.default=function(){var e=this,t=!1,i=!1;this.time.addEvent({delay:1e3,callback:function(){var g,y,v,w,b,x,k,T,_,S;e.onlineStatus();var C=e.balance();if(C.notEnoughGrass||C.notEnoughWater){if(++f>=30*m&&(h.default.create(e.game.scene.keys.ChickenBars,e.state.lang.remainderBalance,4),f=0,m++),Phaser.Math.Between(0,7)>=5&&e.chicken.children.entries.length>0){var P=Phaser.Math.Between(0,e.chicken.children.entries.length-1),B=["not-enought-water","not-enought-grass"][Phaser.Math.Between(0,1)];C.notEnoughGrass&&!C.notEnoughWater?B="not-enought-grass":C.notEnoughWater&&!C.notEnoughGrass&&(B="not-enought-water"),r.default.create(e,e.chicken.children.entries[P],B)}}else 0!==f&&1!==m&&(f=0,m=1);!t&&C.alarm?e.state.amplitude.logAmplitudeEvent("resources",{status:"problem started"}):t&&!C.alarm&&e.state.amplitude.logAmplitudeEvent("resources",{status:"problem is over"}),t=C.alarm;var A=!0,E=function(t){var i=e.territories.children.entries[t];if((2===i.territoryType||3===i.territoryType)&&i.volume<1e3){var s=e.settings.territoriesChickenSettings.find((function(e){return e.improve===i.improve})).regeneration;l.default.checkTestB(e.state)&&(s=e.state.chickenSettings.partSettings[i.improve-1].territory.regeneration),i.volume+=s,i.volume>1e3&&(i.volume=1e3)}A=A&&0!==i.territoryType};for(var M in e.territories.children.entries)E(M);A&&e.achievement.tryId(36);var O=0,I=function(t){var i,s=e.chicken.children.entries[t];0===s.type&&(O+=1),i=0===s.type?1:s.type;var n=e.settings.chickenSettings.find((function(e){return e.breed===i}));if(s.egg<1e3){var r=n.egg;C.alarm&&(r=Math.round(r/100*e.settings.chickenBadPercent))<1&&(r=1),s.egg+=r,s.egg>1e3&&(s.egg=1e3)}if(1e3===s.egg){var c=e.currentTerritory(s.x,s.y);if(c){var h=e.settings.territoriesChickenSettings.find((function(e){return e.improve===c.improve})).countEggs,l=0;for(var d in e.eggs.children.entries){r=e.eggs.children.entries[d];var u=e.currentTerritory(r.x,r.y);(null==u?void 0:u.block)===c.block&&(null==u?void 0:u.position)===c.position&&l++}if(l<h&&!s.drag&&(2===c.territoryType||3===c.territoryType)){s.egg=0;var p=s.x-20,f=s.x+20,m=s.y+40-20,g=s.y+40+20,y=240*(c.position-1)+20,v=240*c.position-20,w=240*c.block+20,b=240*(c.block+1)-20;y>p&&(p=y),f>v&&(f=v),w>m&&(m=w),g>b&&(g=b)<m&&(m-=40);r={type:s.type,x:e.random(p,f),y:e.random(m,g),_id:"local_"+e.randomString(18)};o.default.create(e,r),0===s.type&&s.diamond++,s.diamond>=3&&0===s.type&&(a.default.create(e,s,1),s.destroy())}}}O>=5&&e.achievement.tryId(9);var x=e.currentTerritory(s.x,s.y);x&&!s.drag&&(2===x.territoryType?n.eating>x.volume?x.volume=0:x.volume-=n.eating:3===x.territoryType&&(n.drinking>x.volume?x.volume=0:x.volume-=n.drinking))};for(var M in e.chicken.children.entries)I(M);var R=function(t){var i=e.territories.children.entries[t];if(2!==i.territoryType&&3!==i.territoryType&&5!==i.territoryType||i.changeSprite(),4===i.territoryType&&(i.mergingCounter>0&&i.mergingCounter++,i.mergingCounter>e.state.maxMerginTime)){var s=void 0,n=void 0;switch(i.merging.length){case 0:s=!1,n=!1;break;case 1:s=e.chicken.children.entries.find((function(e){return e._id===i.merging[0]._id})),n=!1;break;case 2:s=e.chicken.children.entries.find((function(e){return e._id===i.merging[0]._id})),n=e.chicken.children.entries.find((function(e){return e._id===i.merging[1]._id}))}e.cancelMerging(i,s,n)}};for(var M in e.territories.children.entries)R(M);for(var M in e.eggs.children.entries){e.eggs.children.entries[M].timeout++}e.state.userChicken.collector>0&&e.state.userChicken.collector--,e.intervalCollectorTutorial(),e.tryTask(6,0,0,e.state.userChicken.money),e.checkAnimalTask(),e.game.scene.keys.ChickenBars.setBalanceBars(C),e.autoSaveTimer++,e.autoSaveTimer>=e.state.autoSaveSpeed&&e.autosave();var D=Math.round((new Date).getTime()/1e3);if(D>e.autoprogressTimer+5&&(e.state.offlineTime=D-e.autoprogressTimer,e.autoprogress()),e.autoprogressTimer=D,e.dailyAward(),e.state.newbieTime>0&&e.state.newbieTime--,e.scene.isActive("Modal")||e.scene.get("Modal").load.isLoading()||e.scene.isActive("Tutorial")||e.scene.isActive("Profile")||e.getNewbieAward(),e.ads.findAd(),e.nextDayTimer(),e.state["user"+e.state.farm].part>=e.game.scene.keys[e.state.farm].herdBoostLvl&&e.state["user"+e.state.farm].takenHerdBoost<=0&&e.state.user.additionalTutorial.herdBoost?e.state.shopNotificationCount[3]=1:e.state.shopNotificationCount[3]=0,e.state.user.takenFreeDiamonds?e.state.shopNotificationCount[0]=0:e.state.shopNotificationCount[0]=1,e.game.scene.keys[e.state.farm+"Bars"].updateNotificationShop(),!e.state.donate||e.scene.get("Modal").load.isLoading()||e.scene.isActive("Modal")||e.scene.isActive("Tutorial")||e.scene.isActive("Profile")||e.showDonate(),e.state.userChicken.feedBoostTime>0){if(Phaser.Math.Between(0,7)>=5&&e.chicken.children.entries.length>0){P=Phaser.Math.Between(0,e.chicken.children.entries.length-1);r.default.create(e,e.chicken.children.entries[P])}e.state.userChicken.feedBoostTime--}if(e.chicken.children.entries.every((function(e){return!1===e.spread}))&&e.spreadAnimals(),1===e.state.progress.event.type&&(e.state.progress.event.endTime>0&&(e.state.progress.event.endTime--,e.scene.isActive("Profile")&&(null===(g=e.game.scene.keys.Profile.eventEndTime)||void 0===g||g.setText(s.shortTime(e.state.progress.event.endTime,e.state.lang)))),e.state.progress.event.startTime>0&&(e.state.progress.event.startTime--,e.scene.isActive("Profile")&&(null===(y=e.game.scene.keys.Profile.eventStartTime)||void 0===y||y.setText(s.shortTime(e.state.progress.event.startTime,e.state.lang)))),e.state.progress.event.endTime<=0&&!(null===(v=e.state.userUnicorn)||void 0===v?void 0:v.takenAward)&&(null===(w=e.state.userUnicorn)||void 0===w?void 0:w.points)>0&&e.state.progress.event.open&&e.scene.isActive("Profile")&&(e.autosave(),e.scene.stop("Profile")),e.state.progress.event.endTime<=0&&!(null===(b=e.state.userUnicorn)||void 0===b?void 0:b.takenAward)&&(null===(x=e.state.userUnicorn)||void 0===x?void 0:x.points)>0&&e.state.progress.event.open&&!e.scene.get("Modal").load.isLoading()&&!e.scene.isActive("Modal")&&!e.scene.isActive("Tutorial")&&!e.scene.isActive("Profile")&&1===e.state.progress.event.type&&(i||(e.getEventRaiting(),i=!0),null===(k=e.state.unicornRaitings)||void 0===k?void 0:k.updated))){e.state.modal={type:12},e.scene.launch("Modal",e.state)}(""!==e.state.name||""!==e.state.user.login||"ya"===e.state.platform&&!e.state.yaPlayer)&&e.state.progress.event.startTime<=0&&e.state.progress.event.endTime>0&&e.state.progress.event.open&&(0!==(null===(T=e.state.userUnicorn)||void 0===T?void 0:T.tutorial)||1!==e.state.progress.event.type||e.scene.isActive("Modal")||e.scene.isActive("Tutorial")||e.scene.isActive("Profile")||n.default.generate(e.game.scene.keys[e.state.farm+"Bars"],17),0===(null===(_=e.state.userUnicorn)||void 0===_?void 0:_.tutorial)&&1===e.state.progress.event.type&&!e.scene.isActive("Tutorial")&&e.scene.isActive("Profile")&&e.state.progress.event.open&&e.showEventTutorial()),e.intervalPorgressCollectorTime(),e.progressTerritoryCooldown(e.territories.children.entries,1,"Chicken"),e.sheepIntervalProgress(),e.cowIntervalProgress(),d<2?d+=1:(d=0,p=e.cowCollectorProgress(p),u=e.sheepCollectorProgress(u)),e.cowFactoryProgress(),e.updateProfileNotification(),e.showFeedBoostSpeechBubble(),c.progressClanCooldown(e.state),c.progressSalesTime(e.state),(null===(S=e.chicken)||void 0===S?void 0:S.children.entries.length)>0&&D%14==0&&e.playSoundOnce("chicken-sound-"+Phaser.Math.Between(1,5)),e.tryClanTask(18),c.progressClanEventTime(e.state),e.state.clanEventTakenAward||e.scene.get("Modal").load.isLoading()||e.scene.isActive("Modal")||e.scene.isActive("Tutorial")||e.scene.isActive("Profile")||e.scene.isActive("Fortune")||(e.state.modal={type:22},e.scene.launch("Modal",e.state)),c.showSale(e),e.speedCheckCollector(),c.decrementAdFreeDiamondTime(e.state),c.incInterstitialAdTimer(e.state),c.incFortuneAdTimer(e.state),e.state.user.clanTasks.length>0&&e.state.user.clanTasks.every((function(e){return e.done}))&&e.achievement.tryId(122)},callbackScope:this,loop:!0})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animations=void 0,t.animations=function(){this.anims.create({key:"chicken-move-right0",frames:this.anims.generateFrameNumbers("chicken0",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left0",frames:this.anims.generateFrameNumbers("chicken0",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right0",frames:[{key:"chicken0",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left0",frames:[{key:"chicken0",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag0",frames:[{key:"chicken0",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right1",frames:this.anims.generateFrameNumbers("chicken1",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left1",frames:this.anims.generateFrameNumbers("chicken1",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right1",frames:[{key:"chicken1",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left1",frames:[{key:"chicken1",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag1",frames:[{key:"chicken1",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right2",frames:this.anims.generateFrameNumbers("chicken2",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left2",frames:this.anims.generateFrameNumbers("chicken2",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right2",frames:[{key:"chicken2",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left2",frames:[{key:"chicken2",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag2",frames:[{key:"chicken2",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right3",frames:this.anims.generateFrameNumbers("chicken3",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left3",frames:this.anims.generateFrameNumbers("chicken3",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right3",frames:[{key:"chicken3",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left3",frames:[{key:"chicken3",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag3",frames:[{key:"chicken3",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right4",frames:this.anims.generateFrameNumbers("chicken4",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left4",frames:this.anims.generateFrameNumbers("chicken4",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right4",frames:[{key:"chicken4",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left4",frames:[{key:"chicken4",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag4",frames:[{key:"chicken4",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right5",frames:this.anims.generateFrameNumbers("chicken5",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left5",frames:this.anims.generateFrameNumbers("chicken5",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right5",frames:[{key:"chicken5",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left5",frames:[{key:"chicken5",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag5",frames:[{key:"chicken5",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right6",frames:this.anims.generateFrameNumbers("chicken6",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left6",frames:this.anims.generateFrameNumbers("chicken6",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right6",frames:[{key:"chicken6",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left6",frames:[{key:"chicken6",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag6",frames:[{key:"chicken6",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right7",frames:this.anims.generateFrameNumbers("chicken7",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left7",frames:this.anims.generateFrameNumbers("chicken7",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right7",frames:[{key:"chicken7",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left7",frames:[{key:"chicken7",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag7",frames:[{key:"chicken7",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right8",frames:this.anims.generateFrameNumbers("chicken8",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left8",frames:this.anims.generateFrameNumbers("chicken8",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right8",frames:[{key:"chicken8",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left8",frames:[{key:"chicken8",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag8",frames:[{key:"chicken8",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right9",frames:this.anims.generateFrameNumbers("chicken9",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left9",frames:this.anims.generateFrameNumbers("chicken9",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right9",frames:[{key:"chicken9",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left9",frames:[{key:"chicken9",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag9",frames:[{key:"chicken9",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right10",frames:this.anims.generateFrameNumbers("chicken10",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left10",frames:this.anims.generateFrameNumbers("chicken10",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right10",frames:[{key:"chicken10",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left10",frames:[{key:"chicken10",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag10",frames:[{key:"chicken10",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right11",frames:this.anims.generateFrameNumbers("chicken11",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left11",frames:this.anims.generateFrameNumbers("chicken11",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right11",frames:[{key:"chicken11",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left11",frames:[{key:"chicken11",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag11",frames:[{key:"chicken11",frame:5}],frameRate:20}),this.anims.create({key:"chicken-move-right12",frames:this.anims.generateFrameNumbers("chicken12",{start:10,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"chicken-move-left12",frames:this.anims.generateFrameNumbers("chicken12",{start:0,end:4}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"chicken-stay-right12",frames:[{key:"chicken12",frame:10}],frameRate:20}),this.anims.create({key:"chicken-stay-left12",frames:[{key:"chicken12",frame:0}],frameRate:20}),this.anims.create({key:"chicken-drag12",frames:[{key:"chicken12",frame:5}],frameRate:20})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragChickenMerging=t.confirmExpelChicken=t.sellEggs=t.collectEgg=t.buyChicken=t.cancelMerging=t.checkMerging=t.getChicken=t.aim=t.reverse=t.teleportation=void 0;var s=i(0),n=i(6),a=i(29),r=i(3),o=i(1),c=i(8);t.teleportation=function(e){var t=[];for(var i in this.territories.children.entries)2!==this.territories.children.entries[i].territoryType&&3!==this.territories.children.entries[i].territoryType||t.push({_id:this.territories.children.entries[i]._id,block:this.territories.children.entries[i].block,position:this.territories.children.entries[i].position,count:0});var n=function(e){var i=a.chicken.children.entries[e],s=a.currentTerritory(i.x,i.y);void 0!==s&&void 0!==(s=t.find((function(e){return e._id===s._id})))&&s.count++},a=this;for(var i in this.chicken.children.entries)n(i);t.sort((function(e,t){return e.count<t.count?-1:e.count>t.count?1:0}));var r=Math.ceil(e.width/2)+1,o=Math.ceil(e.height/2)+1,c=(t[0].position-1)*this.height+r,h=t[0].position*this.height-r,l=(t[0].block-1)*this.height+o+this.topIndent,d=t[0].block*this.height-o+this.topIndent;e.x=s.random(c,h),e.y=s.random(l,d),e.counter=200,e.aim=!1,e.aimX=0,e.aimY=0,e.distance=0},t.reverse=function(e){e.collision=1;var t=s.random(this.velocity-5,this.velocity+5),i=s.random(this.velocity-5,this.velocity+5);switch(e.setVelocity(0,0),e.body.reset(e.x,e.y),e.vector){case 1:e.vector=3,e.setVelocity(-t,-i);break;case 2:e.vector=4,e.setVelocity(t,-i);break;case 3:e.vector=1,e.setVelocity(t,i);break;case 4:e.vector=2,e.setVelocity(-t,i);break;case 5:e.vector=7,e.setVelocity(0,i);break;case 6:e.vector=8,e.setVelocity(-t,0);break;case 7:e.vector=5,e.setVelocity(0,-i);break;case 8:e.vector=6,e.setVelocity(t,0)}},t.aim=function(e,t,i){e.x<t&&e.y>i?e.vector=4:e.x<t&&e.y<i?e.vector=1:e.x>t&&e.y<i?e.vector=2:e.x>t&&e.y>i?e.vector=3:e.x===t&&e.y>i?e.vector=5:e.x===t&&e.y<i?e.vector=7:e.x<t&&e.y===i?e.vector=6:e.x>t&&e.y===i&&(e.vector=8),e.aim=!0,e.aimX=t,e.aimY=i,e.distance=0;var s=new Phaser.Math.Vector2;s.x=t,s.y=i;var n=Phaser.Math.Distance.Between(e.x,e.y,s.x,s.y),a=1;n>=400?a=.15:n<400&&n>=300?a=.2:n<300&&n>=200?a=.25:n<200&&n>=100&&(a=.5),this.physics.moveToObject(e,s,n*a)},t.getChicken=function(e,t,i,s,a,r,o,c,h){void 0===a&&(a=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===c&&(c=7),void 0===h&&(h=!0),t>this.state.chickenSettings.chickenSettings.length&&(t=this.state.chickenSettings.chickenSettings.length);var l=this.chicken.create(i,s,"chicken"+t).setInteractive().setDepth(s);return l.setCollideWorldBounds(!0),this.input.setDraggable(l),l.moving=!1,l.vector=c,l.counter=a,l.aim=!1,l.aimX=0,l.aimY=0,l.distance=0,l.drag=!1,l.body.onWorldBounds=!0,l.collision=1,l.body.mass=0,l.changeVector=!1,l.merging=!1,l.type=t,l.egg=r,l._id=e,l.diamond=o,l.expel=!1,l.spread=!1,h&&n.default.create(this,{x:i,y:s},1),l},t.checkMerging=function(e,t,i){var n=this;t.merging=!0,e.mergingCounter=1;var o=e.merging.find((function(e){return e._id===t._id}));if(void 0===o?(1===e.merging.length&&e.merging[0].position===i&&("left"===i?i="right":"right"===i&&(i="left")),e.merging.push({_id:t._id,type:t.type,position:i}),"left"===i?(t.anims.play("chicken-stay-right"+t.type,!0),t.y=e.y+120,t.x=e.x+70,t.vector=6):"right"===i&&(t.anims.play("chicken-stay-left"+t.type,!0),t.y=e.y+120,t.x=e.x+170,t.vector=8)):("left"===o.position&&"right"===i&&(o.position="right"),"right"===o.position&&"left"===i&&(o.position="left"),"left"===i?(t.anims.play("chicken-stay-right"+t.type,!0),t.y=e.y+120,t.x=e.x+70,t.vector=6):"right"===i&&(t.anims.play("chicken-stay-left"+t.type,!0),t.y=e.y+120,t.x=e.x+170,t.vector=8)),2===e.merging.length){var c=this.chicken.children.entries.find((function(t){return t._id===e.merging[0]._id})),h=this.chicken.children.entries.find((function(t){return t._id===e.merging[1]._id}));if((null==c?void 0:c.type)===(null==h?void 0:h.type))this.time.addEvent({delay:100,callback:function(){var t={x:e.x+120,y:e.y+120};a.default.create(n,t);var i=c.type+1;c.destroy(),h.destroy();var r="local_"+s.randomString(18),o=e.x+120,l=e.y+240,d=n.getChicken(r,i,o,l,0,0,0,7,!1),u=s.random(e.x+40,e.x+200),p=s.random(e.y+280,e.y+440);n.aim(d,u,p),n.tryTask(2,i),n.tryTask(4,i),n.tryClanTask(5),n.checkAnimalTask()},callbackScope:this,loop:!1}),e.merging=[];else if(c&&h)r.default.create(this,this.state.lang.mergingMessageBreed,1),this.cancelMerging(e,c,h);else{for(var l in this.chicken.children.entries)this.chicken.children.entries[l].merging=!1;c&&this.teleportation(h),h&&this.teleportation(h),e.merging=[]}}},t.cancelMerging=function(e,t,i){var n=this;this.time.addEvent({delay:100,callback:function(){if(t){t.merging=!1;var a=s.random(e.x+40,e.x+200),r=s.random(e.y+280,e.y+440);n.aim(t,a,r)}if(i){i.merging=!1;a=s.random(e.x+40,e.x+200),r=s.random(e.y+280,e.y+440);n.aim(i,a,r)}var o=function(t){var i=n.chicken.children.entries.find((function(i){return i._id===e.merging[t]._id})),a=s.random(e.x+40,e.x+200),r=s.random(e.y+280,e.y+440);n.aim(i,a,r),i.mergin=!1};for(var c in e.merging)o(c);e.merging=[],e.mergingCounter=0},callbackScope:this,loop:!1})},t.buyChicken=function(e,t){var i=this;void 0===t&&(t=!1);var n,a=!1;if(this.chicken.children.entries.length<50){var r=this.chickenPrice(e);if(n=this.state.farm.toUpperCase()+"_PRICE",i.state.sales.some((function(e){return e.type===n&&e.startTime<=0&&e.endTime>0}))&&(r.price=Math.round(r.price/2)),this.state.userChicken.money>=r.price){a=!0;var o=s.random(530,660),c=s.random(530,540);if(this.scrolling.scrollY>350){var h=this.findFreeTerritory(600,this.height+this.scrolling.scrollY+250);h&&(o=Phaser.Math.Between(h.x-50,h.x+50),c=Phaser.Math.Between(h.y-10,h.y+10))}var l="local_"+s.randomString(18);this.getChicken(l,e,o,c),this.state.userChicken.money-=r.price,this.state.userChicken.countChicken=r.countChicken,this.game.scene.keys.ChickenBars.updateAnimalPrice(),this.tryTask(1,e),this.tryClanTask(1),this.tryTask(4,e),this.checkAnimalTask()}else{t&&(this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal"));var d=r.price-this.state.userChicken.money,u=this.convertMoney(d);this.state.convertor={fun:1,count:d,diamonds:u,type:1,breed:e};var p={type:1,sysType:4};this.state.modal=p,this.scene.launch("Modal",this.state)}}else{t&&(this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal"));p={type:1,sysType:3,height:150,message:this.state.lang.maxChickenCount};this.state.modal=p,this.scene.launch("Modal",this.state),this.achievement.tryId(8)}return a},t.collectEgg=function(e,t,i){var s,n;void 0===t&&(t=!1),void 0===i&&(i=!0);var a=!1;if(0!==e.animalType)if(t){var r=this.state.chickenSettings.chickenSettings.find((function(t){return t.breed===e.animalType})).eggPrice;if(this.state.userChicken.feedBoostTime>0&&(r*=this.feedBoostMultiplier),this.state.clan)r*=this.state.clan.chicken.cooldown>0?1+(this.state.clan.chicken.level-1)/100:1+this.state.clan.chicken.level/100;this.state.userChicken.money+=r,e.destroy(),i&&(this.game.scene.keys.ChickenBars.getCurrency({x:e.x,y:e.y-50},3,"chickenCoin"),this.tryTask(11,0),this.tryClanTask(4))}else{var c=function(t){var i=h.territories.children.entries[t];if(5===i.territoryType){var r=h.state.chickenSettings.territoriesChickenSettings.find((function(e){return e.improve===i.improve})).storage;if(o.default.checkTestB(h.state)&&(r=h.state.chickenSettings.partSettings[i.improve-1].territory.maxRepositoryVolume),r>i.volume){var c={x:i.x+120,y:i.y+120},l=Phaser.Math.Distance.Between(e.x,e.y,c.x,c.y);(void 0===n||l<n)&&(n=l,s=c,a=i)}}},h=this;for(var l in this.territories.children.entries)c(l);if(n){n*=3;r=this.state.chickenSettings.chickenSettings.find((function(t){return t.breed===e.animalType})).eggPrice;if(this.state.userChicken.feedBoostTime>0&&(r*=this.feedBoostMultiplier),this.state.clan)r*=this.state.clan.chicken.cooldown>0?1+(this.state.clan.chicken.level-1)/100:1+this.state.clan.chicken.level/100;a.volume++,a.money+=r,e.flyToPoint(s)}}else{var d={x:e.x,y:e.y};this.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"diamond_animal",count:1}),this.game.scene.keys.ChickenBars.getCurrency(d,1,"diamond"),this.state.user.diamonds++,e.destroy(),this.tryTask(19,0),this.tryClanTask(15)}},t.sellEggs=function(){this.state.territory&&5===this.state.territory.territoryType&&this.state.territory.money>0&&(this.tryTask(c.TaskType.SELL_RESOURCE,0,this.state.territory.volume),this.tryClanTask(2),this.state.userChicken.money+=this.state.territory.money,this.state.territory.money=0,this.state.territory.volume=0,this.game.scene.keys.ChickenBars.plusMoneyAnimation({x:this.state.territory.x+120,y:this.state.territory.y+120}),this.autosave())},t.confirmExpelChicken=function(){this.state.modal={type:1,sysType:6},this.scene.launch("Modal",this.state)},t.dragChickenMerging=function(e){var t=this,i=this.state.chickenSettings.chickenSettings.length,n=this.chicken.children.entries.find((function(s){return s.x-s.width/2<=e.x&&s.x+s.width/2>=e.x&&s.y-s.height/2<=e.y&&s.y+s.height/2>=e.y&&s.type===e.type&&e.type>0&&e.type<i&&s._id!==e._id&&t.state.userChicken.tutorial>=0&&t.state.userChicken.fair>=e.type&&s}));if(n){var r={x:e.x,y:e.y};a.default.create(this,r);var o=e.type+1;n.destroy(),e.destroy();var c="local_"+s.randomString(18);this.getChicken(c,o,r.x,r.y,0,0,0,7,!1),this.tryTask(2,o),this.tryTask(4,o),this.tryClanTask(5),this.checkAnimalTask()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doneTutor_0=t.showTutorial=void 0,t.showTutorial=function(e){void 0===e&&(e=!1),this.scene.isActive("Modal")&&this.scene.stop("Modal"),this.scene.isActive("Tutorial")&&this.scene.stop("Tutorial"),this.scene.isActive("Profile")&&this.scene.stop("Profile"),this.scene.isActive("Shop")&&this.scene.stop("Shop"),this.scene.isActive("ShopBars")&&this.scene.stop("ShopBars");var t={farm:2,step:this.state.userChicken.tutorial,additional:e};this.state.tutorial=t,this.scene.launch("Tutorial",this.state)},t.doneTutor_0=function(){this.state.userChicken.tutorial=10,this.scene.stop("Tutorial")}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this,"Chicken")||this}return n(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t}(i(76).default);t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(41),o=i(1759),c=i(33),h=i(0),l=i(5),d=i(4),u=i(23),p=i(18),f=i(11),m=function(e){function t(){var t=e.call(this,"CowPreload")||this;return t.loadCow=o.default.bind(t),t.loadingScreen=h.loadingScreen.bind(t),t.loadData=c.default.bind(t),t.clickShopBtn=d.clickShopBtn.bind(t),t.initAndroidStore=h.initAndroidStore.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e,this.userReady=!1,this.loadingReady=!1,this.serverError=!1,this.loadUser(),this.socket=!1,this.startTime=Math.round((new Date).getTime()/1e3),this.state.socket||(this.socket=!0,this.loadTime=Math.round((new Date).getTime()/1e3),this.state.socket=new r.default(this.state)),p.default.showInterstitialOnPreload(this.state,this)},t.prototype.preload=function(){this.loadingScreen("cow"),this.load.image("diamond",f.default.diamond),this.load.image("cowCoin",f.default.cowCoin),this.load.image("bg",f.default.bg),this.load.image("cow-top",f.default.cowTop),this.load.image("cow-bottom",f.default.cowBottom),this.load.image("topbar",f.default.topbar),this.load.image("tabbar",f.default.tabbar),this.load.image("cow-buy-icon-1",f.default.cowBuyIcon1),this.load.image("cow-buy-icon-2",f.default.cowBuyIcon2),this.load.image("cow-buy-icon-3",f.default.cowBuyIcon3),this.load.image("cow-buy-icon-4",f.default.cowBuyIcon4),this.load.image("cow-buy-icon-5",f.default.cowBuyIcon5),this.load.image("cow-buy-icon-6",f.default.cowBuyIcon6),this.load.image("cow-buy-icon-7",f.default.cowBuyIcon7),this.load.image("cow-buy-icon-8",f.default.cowBuyIcon8),this.load.image("cow-buy-icon-9",f.default.cowBuyIcon9),this.load.image("cow-buy-icon-10",f.default.cowBuyIcon10),this.load.image("cow-buy-icon-11",f.default.cowBuyIcon11),this.load.image("cow-buy-icon-12",f.default.cowBuyIcon12),this.load.image("milk-collector",f.default.milkCollector),this.load.image("shop",f.default.shop),this.load.image("map-icon",f.default.mapIcon),this.load.image("sandwich",f.default.sandwich),this.load.image("sandwich-close",f.default.sandwichClose),this.load.image("profile",f.default.profile),this.load.image("debug",f.default.debug),this.load.image("chat",f.default.chat),this.load.image("cow-for-buying",f.default.cowForBuying),this.load.image("cow-bought",f.default.cowBought),this.load.image("cow-merging",f.default.cowMerging),this.load.image("cow-tent",f.default.cowTent),this.load.image("cow-house",f.default.cowHouse),this.load.image("cow-ground",f.default.cowGround),this.load.image("cow-repository",f.default.cowRepository),this.load.image("cow-factory",f.default.factory),this.load.image("cow-repository-1-1",f.default.cowRepository11),this.load.image("cow-repository-2-1",f.default.cowRepository21),this.load.image("cow-repository-3-1",f.default.cowRepository31),this.load.image("cow-repository-4-1",f.default.cowRepository41),this.load.image("cow-repository-1-2",f.default.cowRepository12),this.load.image("cow-repository-2-2",f.default.cowRepository22),this.load.image("cow-repository-3-2",f.default.cowRepository32),this.load.image("cow-repository-4-2",f.default.cowRepository42),this.load.image("cow-repository-1-3",f.default.cowRepository13),this.load.image("cow-repository-2-3",f.default.cowRepository23),this.load.image("cow-repository-3-3",f.default.cowRepository33),this.load.image("cow-repository-4-3",f.default.cowRepository43),this.load.image("cow-repository-1-4",f.default.cowRepository14),this.load.image("cow-repository-2-4",f.default.cowRepository24),this.load.image("cow-repository-3-4",f.default.cowRepository34),this.load.image("cow-repository-4-4",f.default.cowRepository44),this.load.image("cow-grass1-1",f.default.cowGrass11),this.load.image("cow-grass1-2",f.default.cowGrass12),this.load.image("cow-grass1-3",f.default.cowGrass13),this.load.image("cow-grass1-4",f.default.cowGrass14),this.load.image("cow-grass2-1",f.default.cowGrass21),this.load.image("cow-grass2-2",f.default.cowGrass22),this.load.image("cow-grass2-3",f.default.cowGrass23),this.load.image("cow-grass2-4",f.default.cowGrass24),this.load.image("cow-grass3-1",f.default.cowGrass31),this.load.image("cow-grass3-2",f.default.cowGrass32),this.load.image("cow-grass3-3",f.default.cowGrass33),this.load.image("cow-grass3-4",f.default.cowGrass34),this.load.image("cow-grass4-1",f.default.cowGrass41),this.load.image("cow-grass4-2",f.default.cowGrass42),this.load.image("cow-grass4-3",f.default.cowGrass43),this.load.image("cow-grass4-4",f.default.cowGrass44),this.load.image("cow-water1-1",f.default.cowWater11),this.load.image("cow-water1-2",f.default.cowWater12),this.load.image("cow-water1-3",f.default.cowWater13),this.load.image("cow-water1-4",f.default.cowWater14),this.load.image("cow-water2-1",f.default.cowWater21),this.load.image("cow-water2-2",f.default.cowWater22),this.load.image("cow-water2-3",f.default.cowWater23),this.load.image("cow-water2-4",f.default.cowWater24),this.load.image("cow-water3-1",f.default.cowWater31),this.load.image("cow-water3-2",f.default.cowWater32),this.load.image("cow-water3-3",f.default.cowWater33),this.load.image("cow-water3-4",f.default.cowWater34),this.load.image("cow-water4-1",f.default.cowWater41),this.load.image("cow-water4-2",f.default.cowWater42),this.load.image("cow-water4-3",f.default.cowWater43),this.load.image("cow-water4-4",f.default.cowWater44),this.load.image("lock-territory",f.default.lockTerritory),this.load.spritesheet("cow0",f.default.cow0,{frameWidth:132.7,frameHeight:137}),this.load.image("cow-horns-1",f.default.pixel),this.load.image("cow-horns-2",f.default.cowHorns1),this.load.image("cow-horns-3",f.default.cowHorns2),this.load.image("cow-horns-4",f.default.cowHorns3),this.load.spritesheet("cow1",f.default.cow1,{frameWidth:147,frameHeight:140}),this.load.spritesheet("cow2",f.default.cow2,{frameWidth:146.7,frameHeight:143}),this.load.spritesheet("cow3",f.default.cow3,{frameWidth:147.7,frameHeight:146}),this.load.spritesheet("cow4",f.default.cow4,{frameWidth:144.7,frameHeight:149}),this.load.spritesheet("cow5",f.default.cow5,{frameWidth:148.9,frameHeight:149}),this.load.spritesheet("cow6",f.default.cow6,{frameWidth:153.7,frameHeight:154}),this.load.spritesheet("cow7",f.default.cow7,{frameWidth:144.7,frameHeight:154}),this.load.spritesheet("cow8",f.default.cow8,{frameWidth:144.7,frameHeight:154}),this.load.spritesheet("cow9",f.default.cow9,{frameWidth:134,frameHeight:154}),this.load.spritesheet("cow10",f.default.cow10,{frameWidth:133.7,frameHeight:143}),this.load.spritesheet("cow11",f.default.cow11,{frameWidth:152.7,frameHeight:153}),this.load.spritesheet("cow12",f.default.cow12,{frameWidth:143.8,frameHeight:156}),this.load.image("milk-status",f.default.milkStatus),this.load.image("diamond-status",f.default.diamondStatus),this.load.image("cow-milk",f.default.milk),this.load.image("merging-animation",f.default.mergingAnimation),this.load.image("diamond",f.default.diamond),this.load.image("lock",f.default.lock),this.load.image("disable-cow",f.default.disableCow),this.load.image("cow-house-sprite",f.default.cowHouseSprite),this.load.image("cave-disable",f.default.caveDisalble),this.load.image("cave-ready",f.default.caveReady),this.load.image("cave-wait",f.default.caveWait),this.load.image("cave-timer",f.default.caveTimer),this.load.image("cow-forest-1",f.default.cowForest1),this.load.image("cow-forest-2",f.default.cowForest2),this.load.image("cow-forest-3",f.default.cowForest3),this.load.image("cow-forest-4",f.default.cowForest4),this.load.image("cow-forest-5",f.default.cowForest5),this.load.image("cow-forest-6",f.default.cowForest6),this.load.image("cow-forest-7",f.default.cowForest7),this.load.image("cow-forest-8",f.default.cowForest8),this.load.image("star",f.default.star),this.load.image("completed",f.default.completed),this.load.image("little-button",f.default.littleButton),this.load.image("little-button-disable",f.default.littleButtonDisable),this.load.image("cow-task-icon-1",f.default.cowTaskIcon1),this.load.image("cow-task-icon-2",f.default.cowTaskIcon2),this.load.image("cow-task-icon-3",f.default.cowTaskIcon3),this.load.image("cow-task-icon-4",f.default.cowTaskIcon4),this.load.image("cow-task-icon-5",f.default.cowTaskIcon5),this.load.image("cow-task-icon-6",f.default.cowTaskIcon6),this.load.image("cow-task-icon-7",f.default.cowTaskIcon7),this.load.image("cow-task-icon-8",f.default.cowTaskIcon8),this.load.image("cow-task-icon-9",f.default.cowTaskIcon9),this.load.image("cow-task-icon-10",f.default.cowTaskIcon10),this.load.image("cow-task-icon-11",f.default.cowTaskIcon11),this.load.image("cow-task-icon-12",f.default.cowTaskIcon12),this.load.image("cow-task-icon-13",f.default.cowTaskIcon13),this.load.image("cow-task-icon-14",f.default.cowTaskIcon14),this.load.image("cow-task-icon-15",f.default.cowTaskIcon15),this.load.image("cow-task-icon-16",f.default.cowTaskIcon16),this.load.image("cow-task-icon-17",f.default.cowTaskIcon17),this.load.image("cow-task-icon-18",f.default.cowTaskIcon18),this.load.image("cow-task-icon-20",f.default.cowTaskIcon20),this.load.image("cow-task-icon-21",f.default.cowTaskIcon21),this.load.image("cow-task-icon-22",f.default.cowTaskIcon22),this.load.image("cow-task-icon-23",f.default.cowTaskIcon23),this.load.image("cow-task-icon-24",f.default.cowTaskIcon24),this.load.image("cow-task-icon-25",f.default.cowTaskIcon25),this.load.image("cow-task-icon-26",f.default.cowTaskIcon26),this.load.image("cow-task-icon-27",f.default.cowTaskIcon27),this.load.image("cow-task-icon-28",f.default.cowTaskIcon28),this.load.image("cow-task-icon-29",f.default.cowTaskIcon29),this.load.image("cow-task-icon-29",f.default.cowTaskIcon29),this.load.image("cow-task-icon-31",f.default.cowTaskIcon31),this.load.image("cow-task-icon-32",f.default.cowTaskIcon32),this.load.image("cow-task-icon-33",f.default.cowTaskIcon33),this.load.image("cow-task-icon-34",f.default.cowTaskIcon34),this.load.image("cow-task-icon-35",f.default.cowTaskIcon35),this.load.image("cow-task-icon-36",f.default.cowTaskIcon36),this.load.image("cow-task-icon-37",f.default.cowTaskIcon37),this.load.image("cow-task-icon-38",f.default.cowTaskIcon38),this.load.image("cow-task-icon-39",f.default.cowTaskIcon39),this.load.image("cow-task-icon-40",f.default.cowTaskIcon40),this.load.image("plus",f.default.plus),this.load.image("cow-leaves",f.default.cowLeaves),this.load.image("green-balance-bg",f.default.greenBalanceBg),this.load.image("red-balance-bg",f.default.redBalanceBg),this.load.image("resource-enough",f.default.resourceEnough),this.load.image("resource-problem",f.default.resourceProblem),this.load.image("grass-balance",f.default.grassBalance),this.load.image("water-balance",f.default.waterBalance),this.load.image("tail",f.default.tail),this.load.image("pixel",f.default.pixel),this.load.image("cow-vertical-border",f.default.cowVerticalBorder),this.load.image("cow-horizontal-border-1",f.default.cowHorizontalBorder1),this.load.image("cow-horizontal-border-2",f.default.cowHorizontalBorder2),this.load.image("cow-horizontal-border-3",f.default.cowHorizontalBorder3),this.load.image("gift",f.default.gift),this.load.image("offline",f.default.offline),this.load.image("tutor-btn",f.default.tutorBtn),this.load.image("heart",f.default.heart),this.load.image("not-enought-water",f.default.notEnoughtWater),this.load.image("not-enought-grass",f.default.notEnoughtGrass),this.load.image("calendar",f.default.calendar),this.load.image("ad-icon",f.default.adIcon),this.load.image("bg-ad",f.default.bgAd),this.load.image("big-btn-green",f.default.bigButtonGreen),this.load.image("arrow",f.default.arrow),this.load.image("stock-icon",f.default.stockIcon),this.load.image("loading-spinner",f.default.loadingSpinner),this.load.image("farmer",f.default.farmer),this.load.image("white-pixel",f.default.whitePixel),this.load.image("scroll-arrow",f.default.scrollArrow),this.load.image("factory-smoke",f.default.factorySmoke),this.load.image("factory-flash",f.default.factoryFlash),this.load.image("tutorial-showcase",f.default.tutorialShowcase),this.load.image("hatchet",f.default.hatchet),this.load.image("hammer",f.default.hammer),this.load.image("improve-collector",f.default.improveCollector),this.load.image("task-award-bg",f.default.tasksAwardBg),this.load.image("circle",f.default.circle),this.load.image("notification-bg",f.default.notificationBg),this.load.image("rounded-segment",f.default.roundedBarSegment),this.load.image("circle-outline",f.default.circleOutline),this.load.image("cooldown-plate",f.default.cooldownPlate),this.load.image("tasks-bar-ns",f.default.tasksBarNs),this.load.image("tasks-bar-fix",f.default.tasksBarNs),this.load.image("task-bar-top",f.default.taskBarTop),this.load.image("task-bar-bot",f.default.taskBarBot),this.load.image("task-bar-mid",f.default.taskBarMid),this.load.image("text-sale",f.default.textSale),this.load.image("icon-sale",f.default.saleIcon),this.load.image("btn-clean",f.default.btnClean),this.load.image("feed-cow-balance",f.default.feedCowBalance),this.load.image("plate-feed",f.default.plateFeed),this.load.image("cloud-info",f.default.cloudInfo),this.load.image("green-balance-bg-big",f.default.greenBalanceBgBig),this.load.image("red-balance-bg-big",f.default.redBalanceBgBig)},t.prototype.create=function(){this.loadingReady=!0},t.prototype.update=function(){if(this.loadingReady&&this.userReady){if(this.socket){var e=Math.round((new Date).getTime()/1e3)-this.loadTime,t=document.body.clientWidth+" * "+document.body.clientHeight;this.state.socket.io.emit("updateSession",{user_id:this.state.user.id,hash:this.state.user.hash,screen_size:t,loadTime:e}),this.state.user.clanId&&this.state.socket.io.emit("joinClanRoom",{clanId:this.state.user.clanId}),this.state.amplitude.setFarmIdentify(),console.log("Test - "+this.state.user.test),"android"===this.state.platform&&this.initAndroidStore()}this.userReady=!1,this.loadingReady=!1,this.startTime=Math.round((new Date).getTime()/1e3)-this.startTime,this.state.offlineTime+=this.startTime,this.scene.stop(),this.scene.start("Cow",this.state),this.scene.start("CowBars",this.state),this.scene.start("Preload",this.state)}else this.loadingReady&&this.serverError&&(this.loadingReady=!1,this.serverError=!1,this.children.destroy(),new u.default(this,this.state.lang.checkYourInternet))},t.prototype.loadUser=function(){var e=this;this.state.dataIsLoaded?this.userReady=!0:a.default.post("https://ferma.games:4000/loadData",{hash:this.state.user.hash}).then((function(t){e.state.dataIsLoaded=!0,e.loadData(t),e.state.offlineTime=t.data.progress.cowOfflineTime,e.userReady=!0})).catch((function(){e.serverError=!0})),this.state.farm="Cow",this.state.shopNotificationCount=[0,0,0,0],l.default.set("farm","Cow")},t}(Phaser.Scene);t.default=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(10),n=i(69),a=i(66),r=i(32),o=i(24),c=i(48),h=i(5);t.default=function(e){if(void 0===e&&(e=0),this.state.cowCollectorSettings=a.default,this.state.autoSaveSpeed=s.general.autoSaveSpeed,this.state.maxMerginTime=s.general.maxMerginTime,this.state.packages=s.general.packages,this.state.cowSettings=s.cowSettings,this.state.progress=c.default(),this.state.cow=[],this.state.cowMilk=[],this.state.farm="Cow",this.state.daily=!1,this.state.newbieTime=0,this.state.timeToBoost=0,h.default.get("dailyAwards")&&(this.state.dailyAwards=JSON.parse(h.default.get("dailyAwards"))),h.default.get("cow")&&(this.state.cow=JSON.parse(h.default.get("cow"))),h.default.get("cowMilk")&&(this.state.cowMilk=JSON.parse(h.default.get("cowMilk"))),h.default.get("cowTerritories")?this.state.cowTerritories=JSON.parse(h.default.get("cowTerritories")):this.state.cowTerritories=n.default,h.default.get("user")?this.state.user=JSON.parse(h.default.get("user")):this.state.user=r.userData,e>0&&(this.state.user.counter=e),h.default.get("userCow")?this.state.userCow=JSON.parse(h.default.get("userCow")):this.state.userCow=r.userCow,h.default.get("cowTasks"))this.state.cowTasks=JSON.parse(h.default.get("cowTasks"));else{var t=[];for(var i in o.default)2===o.default[i].farm&&t.push(o.default[i]);this.state.cowTasks=t}if(h.default.get("cowTime")){var l=Math.round((new Date).getTime()/1e3);this.state.offlineTime=l-Number(h.default.get("cowTime"))}else this.state.offlineTime=0;this.userReady=!0}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(1761),r=i(1767),o=i(1768),c=i(49),h=i(50),l=i(4),d=i(0),u=i(36),p=i(51),f=i(16),m=i(75),g=i(1769),y=i(1770),v=i(117),w=i(1772),b=i(1773),x=i(52),k=i(5),T=i(15),_=i(18),S=i(34),C=i(1),P=function(e){function t(){var t=e.call(this,"Cow")||this;return t.topIndent=240,t.bottomIndent=240,t.collector=0,t.collectorTakenTime=0,t.herdBoostLvl=5,t.feedBoostMultiplier=2,t.feedBoostLvl=6,t.feedBoostStack=11,t.dailyStartCheck=!0,t.milkMultiply=.2,t.clabberMultiply=.5,t.pasteurizedMilkMultiply=1,t.cheeseMultiply=1.5,t.chocolateMultiply=2.5,t.factoryBoostStack=11,t.counterWithoutCollector=0,t.spaceCount=0,t.feedBoostRemaindTimer=0,t.speedCollectorTimer=30,t.world=a.default.bind(t),t.drag=r.default.bind(t),t.collisions=v.collisions.bind(t),t.interval=o.default.bind(t),t.click=l.click.bind(t),t.clickTerritory=l.clickTerritory.bind(t),t.clickModalBtn=l.clickModalBtn.bind(t),t.teleportation=y.teleportation.bind(t),t.currentTerritory=m.currentTerritory.bind(t),t.confirmExchangeTerritory=p.confirmExchangeTerritory.bind(t),t.deleteTerritoriesLocks=m.deleteTerritoriesLocks.bind(t),t.balance=v.balance.bind(t),t.convertDiamonds=d.convertDiamonds.bind(t),t.convertMoney=d.convertMoney.bind(t),t.exchange=d.exchange.bind(t),t.cowPrice=v.cowPrice.bind(t),t.animalPrice=v.cowPrice.bind(t),t.checkMerging=y.checkMerging.bind(t),t.cancelMerging=y.cancelMerging.bind(t),t.buyCow=y.buyCow.bind(t),t.buyAnimal=y.buyCow.bind(t),t.collectMilk=y.collectMilk.bind(t),t.sellMilk=y.sellMilk.bind(t),t.confirmExpelCow=y.confirmExpelCow.bind(t),t.showBank=p.showBank.bind(t),t.freeCollector=u.freeCollector.bind(t),t.buyCollector=u.buyCollector.bind(t),t.nextPart=p.nextPart.bind(t),t.donePart=d.donePart.bind(t),t.maxBreedForBuy=v.maxBreedForBuy.bind(t),t.partTasks=f.partTasks.bind(t),t.pickUpTaskReward=d.pickUpTaskReward.bind(t),t.tryTask=f.tryTask.bind(t),t.tryClanTask=f.tryClanTask.bind(t),t.getTaskData=f.getTaskData.bind(t),t.takeDiamondCow=v.takeDiamondCow.bind(t),t.checkAnimalTask=f.checkAnimalTask.bind(t),t.showTasks=p.showTasks.bind(t),t.messageIsSent=p.messageIsSent.bind(t),t.autosave=h.default.bind(t),t.buildBorders=v.buildBorders.bind(t),t.showTutorial=w.showTutorial.bind(t),t.doneTutor_0=w.doneTutor_0.bind(t),t.doneTutor_10=w.doneTutor_10.bind(t),t.doneTutor_20=w.doneTutor_20.bind(t),t.doneTutor_30=w.doneTutor_30.bind(t),t.doneTutor_40=w.doneTutor_40.bind(t),t.autoprogress=c.default.bind(t),t.dailyAward=p.dailyAward.bind(t),t.logout=d.logout.bind(t),t.onlineStatus=d.onlineStatus.bind(t),t.checkDoneTasks=f.checkDoneTasks.bind(t),t.takeNewbieAward=p.takeNewbieAward.bind(t),t.getNewbieAward=d.getNewbieAward.bind(t),t.dragCowMerging=y.dragCowMerging.bind(t),t.showDonate=p.showDonate.bind(t),t.takeDonate=d.takeDonate.bind(t),t.setCollector=b.default.bind(t),t.showImproveCollector=p.showImproveCollector.bind(t),t.improveCollector=u.improveCollector.bind(t),t.createBoostAnimal=u.createBoostAnimal.bind(t),t.startHerdBoost=p.startHerdBoost.bind(t),t.random=d.random.bind(t),t.randomString=d.randomString.bind(t),t.getRandomBool=d.getRandomBool.bind(t),t.spreadAnimals=d.spreadAnimals.bind(t),t.getEventRaiting=d.getEventRaiting.bind(t),t.showEventTutorial=x.showEventTutorial.bind(t),t.doneEventTutor_0=x.doneEventTutor_0.bind(t),t.nextDayTimer=d.nextDayTimer.bind(t),t.animations=g.animations.bind(t),t.findFreeTerritory=m.findFreeTerritory.bind(t),t.showImproveFactory=v.showImproveFactory.bind(t),t.showFactoryBoost=v.showFactoryBoost.bind(t),t.farmBalance=d.farmBalance.bind(t),t.autoporgressCollectorTime=d.autoporgressCollectorTime.bind(t),t.intervalPorgressCollectorTime=T.intervalPorgressCollectorTime.bind(t),t.sheepIntervalProgress=T.sheepIntervalProgress.bind(t),t.sheepCollectorProgress=T.sheepCollectorProgress.bind(t),t.chickenCollectorProgress=T.chickenCollectorProgress.bind(t),t.chickenIntervalProgress=T.chickenIntervalProgress.bind(t),t.updateProfileNotification=T.updateProfileNotification.bind(t),t.intervalCollectorTutorial=T.intervalCollectorTutorial.bind(t),t.showFeedBoostSpeechBubble=T.showFeedBoostSpeechBubble.bind(t),t.showConfirmSellMilk=v.showConfirmSellMilk.bind(t),t.progressTerritoryCooldown=T.progressTerritoryCooldown.bind(t),t.yandexAuth=d.yandexAuth.bind(t),t.playSoundOnce=d.playSoundOnce.bind(t),t.setPlatformStorage=d.setPlatformStorage.bind(t),t.getPlatformStorage=d.getPlatformStorage.bind(t),t.openConvertorForClan=d.openConvertorForClan.bind(t),t.speedCheckCollector=T.speedCheckCollector.bind(t),t.updateCollector=b.updateCollector.bind(t),t}return n(t,e),t.prototype.init=function(e){if(this.autoprogressTimer=Math.round((new Date).getTime()/1e3),this.autoSaveTimer=0,this.state=e,this.state.userCow.part=this.state.userCow.part||1,this.alarm=!1,this.collectorTimer=null,this.settings=e.cowSettings,this.caveIconsTimer=0,this.counterWithoutCollector=0,this.ads=new _.default(this),this.achievement=new S.default(this),this.autoprogress(!0),C.default.checkTestB(this.state)){var t=this.state.cowSettings.partSettings[this.state.userCow.collectorLevel-1].collector.speed;this.collectorCD=Math.round(1e3/t),this.collectorIsReady=!1}},t.prototype.create=function(){this.world(),this.drag(),this.collisions(),this.interval(),C.default.checkTestB(this.state)||this.setCollector(),this.animations(),this.openConvertorForClan(),this.ads.showInterstitialAd(),k.default.get("openCow")||(k.default.set("openCow","true"),d.sendSocialEvent(this.state,3,100),d.sendAppEventVk(this.state,4,100))},t.prototype.update=function(e,t){C.default.checkTestB(this.state)&&this.updateCollector(t)},t}(Phaser.Scene);t.default=P},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(17),n=i(1762),a=i(1765);function r(e){var t,i=this.state.farm.toLowerCase(),s=1;return e.improve>=5&&(s=2,e.improve>=10&&(s=3,e.improve>=15&&(s=4))),0===e.type?t=i+"-for-buying":1===e.type?t=i+"-bought":2===e.type?(t=i+"-grass"+s+"-",e.volume<250?t+=1:e.volume>=250&&e.volume<500?t+=2:e.volume>=500&&e.volume<750?t+=3:e.volume>=750&&(t+=4)):3===e.type?(t=i+"-water"+s+"-",e.volume<250?t+=1:e.volume>=250&&e.volume<500?t+=2:e.volume>=500&&e.volume<750?t+=3:e.volume>=750&&(t+=4)):4===e.type?t=i+"-merging":5===e.type?t=i+"-repository":6===e.type?t=i+"-house":7===e.type?t=i+"-ground":8===e.type&&(t=i+"-repository"),t}t.default=function(){var e=this;this.height=Math.round(Number(this.game.config.width)/3);var t=8*this.height+this.topIndent+this.bottomIndent;this.add.tileSprite(0,0,this.game.config.width,t,"bg").setOrigin(0,0),this.top=this.add.sprite(0,0,"cow-top").setOrigin(0,0),this.bottom=this.add.sprite(0,t,"cow-bottom").setOrigin(0,1).setDepth(t),this.cameras.main.setBounds(0,0,720,t),this.physics.world.setBounds(-100,0,920,t);var i={wheel:!0,bottom:t};this.scrolling=new s.default(this,i),this.input.on("pointerup",(function(){e.scrolling.enabled=!0,e.scrolling.wheel=!0})),this.territories=this.physics.add.group();var o=1;this.state.cowTerritories.map((function(t){var i=(t.position-1)*e.height,s=(t.block-1)*e.height;++o>8&&(o=1),s+=e.topIndent;var n=r.bind(e)(t),c=new a.default(e,i,s,n,t);c.createForest(o),e.territories.add(c)})),this.buildBorders(),this.animalGroup=new n.default(this),this.state.cow.map((function(t){e.animalGroup.generate({x:t.x,y:t.y},t.type,t._id,t.counter,t.milk,t.diamond,t.vector,!1)})),this.checkDoneTasks(),0===this.state.userCow.tutorial&&this.showTutorial()}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(1763),r=function(e){function t(t){var i=e.call(this,t.physics.world,t)||this;return i.scene.add.existing(i),i}return n(t,e),t.prototype.generate=function(e,t,i,s,n,r,o,c){void 0===s&&(s=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=7),void 0===c&&(c=!1);var h=a.default.create(this.scene,e,t,i,s,n,r,o,c);return this.add(h),h},t}(Phaser.Physics.Arcade.Group);t.default=r},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,s,n,a,r,o,c,h){void 0===a&&(a=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===c&&(c=7),void 0===h&&(h=!1);var l=e.call(this,t,i,"cow",s,n,a,o,c,h)||this;return l.breed=s,l.milk=r,l}return n(t,e),t.create=function(e,i,s,n,a,r,o,c,h){return void 0===a&&(a=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===c&&(c=7),void 0===h&&(h=!1),new t(e,i,s,n,a,r,o,c,h)},t.prototype.init=function(){var t=this;e.prototype.init.call(this),this.basicVelocity=30;var i=0!==this.breed?"milk-status":"diamond-status";this.milkStatus=this.scene.add.sprite(this.x,this.y,i).setVisible(!1),0===this.breed&&this.createDiamondHorns(),this.setListeners(),0!==this.breed?this.settings=this.scene.settings.cowSettings.find((function(e){return e.breed===t.breed})):this.settings=this.scene.settings.cowSettings.find((function(e){return 1===e.breed}))},t.prototype.createDiamondHorns=function(){var e;2!==this.vector&&3!==this.vector&&7!==this.vector&&this.vector,e=this.milk<=200?1:this.milk>200&&this.milk<=600?2:this.milk>600&&this.milk<=900?3:4,this.hornsSprite=this.scene.add.sprite(this.x,this.y,this.type+"-horns-"+e).setDepth(this.depth).setOrigin(.5,1)},t.prototype.setListeners=function(){var e=this;this.scene.click(this,(function(){var t=e.settings.maxMilkVolume-e.settings.maxMilkVolume/10;e.milk>=t&&e.scene.collectMilk(e,!0)}))},t.prototype.startDrag=function(){var t;e.prototype.startDrag.call(this),t=2===this.vector||3===this.vector||7===this.vector||8===this.vector?"left":"right",this.play(this.type+"-stay-"+t+this.breed,!0)},t.prototype.dragging=function(t,i){e.prototype.dragging.call(this,t,i),this.play(this.type+"-drag"+this.breed,!0)},t.prototype.setBrain=function(){e.prototype.setBrain.call(this),this.setMilkStatusPosition(),this.setMilkStatusVisibility(),this.setDiamondStage()},t.prototype.setDiamondStage=function(){if(0===this.breed){var e="right";2!==this.vector&&3!==this.vector&&7!==this.vector&&8!==this.vector||(e="left");var t=void 0;t=this.milk<=.2*this.settings.maxMilkVolume?1:this.milk>.2*this.settings.maxMilkVolume&&this.milk<=.6*this.settings.maxMilkVolume?2:this.milk>.6*this.settings.maxMilkVolume&&this.milk<=.9*this.settings.maxMilkVolume?3:4;var i=10;"left"!==e||this.drag?("right"===e||this.drag&&this.anims.currentAnim.key===this.type+"-drag"+this.breed)&&(i*=-1,this.hornsSprite.setFlipX(!1)):this.hornsSprite.setFlipX(!0),this.hornsSprite.setTexture(this.type+"-horns-"+t),this.hornsSprite.setDepth(this.depth+1),this.hornsSprite.setPosition(this.x-i,this.y-43)}},t.prototype.setMilkStatusPosition=function(){var e=-50;this.drag||(this.merging&&(this.moving=!1),2!==this.vector&&3!==this.vector&&7!==this.vector&&8!==this.vector||(e*=-1),this.milkStatus.setDepth(this.depth+1),this.milkStatus.setPosition(this.x+e,this.y-60))},t.prototype.setMilkStatusVisibility=function(){var e,t,i=this.settings.maxMilkVolume-this.settings.maxMilkVolume/10;this.milk>=i&&!this.milkStatus.visible&&(null===(e=this.milkStatus)||void 0===e||e.setVisible(!0)),(this.milk<i||this.drag)&&this.milkStatus.visible&&(null===(t=this.milkStatus)||void 0===t||t.setVisible(!1))},t.prototype.destroy=function(){var t,i;e.prototype.destroy.call(this),null===(t=this.hornsSprite)||void 0===t||t.destroy(),null===(i=this.milkStatus)||void 0===i||i.destroy(),this.removeFullnessBar()},t.prototype.setFullnessBar=function(){var e,t,i,s,n,a,r,o,c,h=this.x-55,l=this.y-90,d=Math.round(this.milk/this.settings.maxMilkVolume*94);this.barBg||(this.barBg=this.scene.add.graphics({x:h,y:l})),this.barLineBg||(this.barLineBg=this.scene.add.graphics({x:h+3,y:l+3}).setDepth(l)),this.barProgress||(this.barProgress=this.scene.add.graphics({x:h+3,y:l+3}).setDepth(l)),null===(e=this.barBg)||void 0===e||e.clear().setPosition(h,l).setDepth(this.depth),null===(t=this.barLineBg)||void 0===t||t.clear().setPosition(h+3,l+3).setDepth(this.depth),null===(i=this.barProgress)||void 0===i||i.clear().setPosition(h+3,l+3).setDepth(this.depth),null===(s=this.barBg)||void 0===s||s.fillStyle(16776926,1),null===(n=this.barBg)||void 0===n||n.fillRoundedRect(0,0,100,22,5),null===(a=this.barLineBg)||void 0===a||a.fillStyle(16769944,1),null===(r=this.barLineBg)||void 0===r||r.fillRoundedRect(0,0,94,16,3),null===(o=this.barProgress)||void 0===o||o.fillStyle(16747579,1),null===(c=this.barProgress)||void 0===c||c.fillRoundedRect(0,0,d,16,3)},t.prototype.removeFullnessBar=function(){var e,t,i;null===(e=this.barBg)||void 0===e||e.destroy(),null===(t=this.barLineBg)||void 0===t||t.destroy(),null===(i=this.barProgress)||void 0===i||i.destroy(),this.barBg=void 0,this.barLineBg=void 0,this.barProgress=void 0},t.prototype.setFullnessBarVisibility=function(){var e,t,i,s,n,a;this.scene.state.userCow.part<=2&&(this.milkStatus.visible||this.drag?(null===(e=this.barBg)||void 0===e||e.setVisible(!1),null===(t=this.barLineBg)||void 0===t||t.setVisible(!1),null===(i=this.barProgress)||void 0===i||i.setVisible(!1)):this.milkStatus.visible||this.drag||(null===(s=this.barBg)||void 0===s||s.setVisible(!0),null===(n=this.barLineBg)||void 0===n||n.setVisible(!0),null===(a=this.barProgress)||void 0===a||a.setVisible(!0)))},t}(i(1764).default);t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(6),r=function(e){function t(t,i,s,n,r,o,c,h,l){void 0===o&&(o=0),void 0===c&&(c=0),void 0===h&&(h=7),void 0===l&&(l=!1);var d=e.call(this,t,i.x,i.y,""+s+n)||this;return d.scene=t,d.type=s,d.breed=n,d.vector=h,d._id=r,d.diamond=c,d.counter=o,d.init(),l&&a.default.create(t,i,1),d}return n(t,e),t.prototype.init=function(){this.moving=!1,this.aim=!1,this.aimX=0,this.aimY=0,this.collision=1,this.drag=!1,this.spread=!1,this.expel=!1,this.changeVector=!1,this.merging=!1,this.distance=0,this.basicVelocity=20,this.scene.add.existing(this),this.scene.physics.add.existing(this),this.setDepth(this.y),this.setInteractive(),this.scene.input.setDraggable(this)},t.prototype.preUpdate=function(t,i){e.prototype.preUpdate.call(this,t,i),this.scene&&this.setBrain()},t.prototype.startDrag=function(){this.scene.scrolling.downHandler(),this.scene.scrolling.enabled=!1,this.scene.scrolling.wheel=!1,this.setVelocity(0,0),this.setCollideWorldBounds(!0),this.drag=!0},t.prototype.dragging=function(e,t){this.drag&&(this.setPosition(e,t),this.setDepth(t+Math.round(this.height/2+1e3)))},t.prototype.endDrag=function(){this.scene.scrolling.enabled=!0,this.scene.scrolling.wheel=!0,this.setCollideWorldBounds(!0),this.drag=!1,this.aim=!1,this.spread=!1,this.aimX=0,this.aimY=0,this.collision=0,this.counter=200},t.prototype.setReverse=function(){this.collision=1;var e=Phaser.Math.Between(this.basicVelocity-5,this.basicVelocity+5),t=Phaser.Math.Between(this.basicVelocity-5,this.basicVelocity+5);switch(this.setVelocity(0,0),this.body.reset(this.x,this.y),this.vector){case 1:this.vector=3,this.setVelocity(-e,-t);break;case 2:this.vector=4,this.setVelocity(e,-t);break;case 3:this.vector=1,this.setVelocity(e,t);break;case 4:this.vector=2,this.setVelocity(-e,t);break;case 5:this.vector=7,this.setVelocity(0,t);break;case 6:this.vector=8,this.setVelocity(-e,0);break;case 7:this.vector=5,this.setVelocity(0,-t);break;case 8:this.vector=6,this.setVelocity(e,0)}},t.prototype.setAim=function(e,t){this.x<e&&this.y>t?this.vector=4:this.x<e&&this.y<t?this.vector=1:this.x>e&&this.y<t?this.vector=2:this.x>e&&this.y>t?this.vector=3:this.x===e&&this.y>t?this.vector=5:this.x===e&&this.y<t?this.vector=7:this.x<e&&this.y===t?this.vector=6:this.x>e&&this.y===t&&(this.vector=8),this.aim=!0,this.aimX=e,this.aimY=t,this.distance=0;var i=new Phaser.Math.Vector2;i.x=e,i.y=t;var s=Phaser.Math.Distance.Between(this.x,this.y,i.x,i.y),n=1;s>=400?n=.15:s<400&&s>=300?n=.2:s<300&&s>=200?n=.25:s<200&&s>=100&&(n=.5),this.scene.physics.moveToObject(this,i,s*n)},t.prototype.setBrain=function(){if(!this.drag){var e=this.scene.currentTerritory(this.x,this.y);if(e){if(4!==e.territoryType||this.aim)if(2!==e.territoryType&&3!==e.territoryType&&4!==e.territoryType&&(0===e.territoryType&&this.expel?(this.aim=!1,this.spread=!1,this.moving=!1,this.setVelocity(0,0),this.body.reset(this.x,this.y)):this.teleportation()),this.aim||this.expel){var t=Phaser.Math.Distance.Between(this.x,this.y,this.aimX,this.aimY);this.x<0||this.x>720||this.y<0||t>this.distance&&this.distance>0?(this.body.reset(this.x,this.y),this.aim=!1,this.spread=!1,this.moving=!1,this.aimX=0,this.aimY=0,this.distance=0):this.distance=t}else{if(1===Phaser.Math.Between(1,170)&&(this.changeVector=!0,this.vector=Phaser.Math.Between(1,8)),this.counter>Phaser.Math.Between(130,170))this.counter>=400&&(this.counter=0),!1!==this.moving&&(this.moving=!1,this.setVelocity(0,0),this.body.reset(this.x,this.y));else{if(!this.moving||this.changeVector){this.body.reset(this.x,this.y),this.setVelocity(0,0);var i=Phaser.Math.Between(this.basicVelocity-10,this.basicVelocity+10),s=Phaser.Math.Between(this.basicVelocity-10,this.basicVelocity+10);switch(this.vector){case 1:this.setVelocity(i,s);break;case 2:this.setVelocity(-i,s);break;case 3:this.setVelocity(-i,-s);break;case 4:this.setVelocity(i,-s);break;case 5:this.setVelocity(0,-s);break;case 6:this.setVelocity(i,0);break;case 7:this.setVelocity(0,s);break;case 8:this.setVelocity(-i,0)}}this.moving=!0,this.changeVector=!1}this.collision>0&&this.collision++,this.collision>=200&&(this.collision=0),this.counter++}if((1===e.position&&this.x<this.width/2||3===e.position&&this.x>3*this.scene.height-this.width/2||8===e.block&&this.y>this.scene.topIndent+8*this.scene.height-this.height/2)&&!this.aim){var n=Phaser.Math.Between(e.x+Math.ceil(this.width/2),e.x-Math.ceil(this.width/2)+240),a=Phaser.Math.Between(e.y+Math.ceil(this.width/2),e.y-Math.ceil(this.width/2)+240);this.setAim(n,a)}if(4===(null==e?void 0:e.territoryType)&&!this.merging&&!this.aim){this.merging=!1;var r=Phaser.Math.Between(e.x+40,e.x+200),o=Phaser.Math.Between(e.y+280,e.y+440);this.setAim(r,o)}}else this.teleportation();this.setDepth(this.y+Math.round(this.height/2+1))}if(!this.drag){var c=void 0;this.merging&&(this.moving=!1),c=2===this.vector||3===this.vector||7===this.vector||8===this.vector?"left":"right",!this.moving&&!this.aim||this.merging?this.play(this.type+"-stay-"+c+this.breed,!0):this.play(this.type+"-move-"+c+this.breed,!0)}},Object.defineProperty(t.prototype,"openedTerritory",{get:function(){var e=[];for(var t in this.scene.territories.children.entries){var i=this.scene.territories.children.entries[t];2!==i.territoryType&&3!==i.territoryType||e.push({_id:i._id,block:i.block,position:i.position,count:0})}return e},enumerable:!1,configurable:!0}),t.prototype.teleportation=function(){var e=this.openedTerritory,t=function(t){var s=i.scene.animalGroup.children.entries[t],n=i.scene.currentTerritory(s.x,s.y);void 0!==n&&void 0!==(n=e.find((function(e){return e._id===n._id})))&&n.count++},i=this;for(var s in this.scene.animalGroup.children.entries)t(s);e.sort((function(e,t){return e.count<t.count?-1:e.count>t.count?1:0}));var n=Math.ceil(this.width/2)+1,a=Math.ceil(this.height/2)+1,r=(e[0].position-1)*this.scene.height+n,o=e[0].position*this.scene.height-n,c=(e[0].block-1)*this.scene.height+a+this.scene.topIndent,h=e[0].block*this.scene.height-a+this.scene.topIndent;this.x=Phaser.Math.Between(r,o),this.y=Phaser.Math.Between(c,h),this.counter=200,this.aim=!1,this.aimX=0,this.aimY=0,this.distance=0},t}(Phaser.Physics.Arcade.Sprite);t.default=r},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(72),r=i(1766),o=i(6),c=i(3),h=i(1),l=function(e){function t(t,i,s,n,a){return e.call(this,t,i,s,n,a)||this}return n(t,e),t.prototype.createElements=function(){e.prototype.createElements.call(this),8===this.territoryType&&this.createFactorySprite()},t.prototype.createFactorySprite=function(){this.factory=new r.default(this.scene,this.x+120,this.y+85,this.improve),this.factory.setDepth(this.y+1),this.setTexture("cow-repository"),this.createImproveText(),this.improveText.setPosition(this.x+187,this.y+97),this.improveText.setStyle({fontSize:"32px"})},t.prototype.takeDiamondAnimal=function(){this.scene.takeDiamondCow()},t.prototype.sellResource=function(){e.prototype.sellResource.call(this),this.scene.sellMilk()},t.prototype.improveFactory=function(){var e=this,t=this.scene.state.cowSettings.cowFactorySettings,i=this.scene.state.userCow,s=t.find((function(t){return t.improve===e.improve+1}));if(s&&this.improve<t.length&&i.part>=s.unlock_improve){var n=h.default.checkSale(this.scene.state,"COW_FACTORY_IMPROVE"),a=n?Math.floor(s.improveMoneyPrice/2):s.improveMoneyPrice,r=n?Math.floor(s.improveDiamondPrice/2):s.improveDiamondPrice;if(i.money>=a&&this.scene.state.user.diamonds>=r)if(r>0){var o={type:1,sysType:24,confirmSpendParams:{type:"ImproveFactory",level:s.improve,price:r,callback:function(){e.acceptedImproveFactory(s)}}};this.scene.state.modal=o,this.scene.scene.stop("Modal"),this.scene.scene.launch("Modal",this.scene.state)}else this.acceptedImproveFactory(s);else if(this.scene.state.user.diamonds<r){var c=r-this.scene.state.user.diamonds;this.openConvertor(c,c,2)}else{c=a-i.money;var l=this.scene.convertMoney(c);this.openConvertor(c,l,1)}}},t.prototype.acceptedImproveFactory=function(e){var t=this,i=h.default.checkSale(this.scene.state,"COW_FACTORY_IMPROVE"),s=i?Math.floor(e.improveMoneyPrice/2):e.improveMoneyPrice,n=i?Math.floor(e.improveDiamondPrice/2):e.improveDiamondPrice;this.scene.state.userCow.money-=s,this.scene.state.user.diamonds-=n,this.improve+=1,this.factory.improve+=1,this.factory.settings=e,this.scene.time.addEvent({delay:200,callback:function(){var e;null===(e=t.improveText)||void 0===e||e.setText(String(t.improve)),o.default.create(t.scene,{x:t.x+120,y:t.y+120},5)},callbackScope:this,loop:!1}),this.scene.state.amplitude.logAmplitudeEvent("factory_up",{level:this.factory.improve}),this.checkAllTerritoriesIsMaxImproveLvlTask(),n>0&&(this.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"factory",count:n}),this.scene.tryTask(15,0,n)),this.scene.game.scene.keys.Modal.scene.stop(),this.scene.tryTask(24,this.factory.improve),this.scene.tryClanTask(6),this.scene.achievement.tryType(11),e.improve>=this.scene.state.cowSettings.cowFactorySettings.length&&this.scene.achievement.tryId(24)},t.prototype.createMergingZone=function(){e.prototype.createMergingZone.call(this);var t=this.scene.state.farm.toLowerCase();this.scene.add.sprite(this.x,this.y-35,t+"-tent").setDepth(this.y).setOrigin(0,0);var i=String(this.scene.state["user"+this.scene.state.farm].fair);this.levelText=this.scene.add.text(this.x+47,this.y+196,i,{font:"34px Shadow",color:"#df870a"}).setOrigin(.5,.5).setDepth(this.y),this.scene.add.zone(this.x+120,this.y+45,300,145).setDropZone(void 0,(function(){})).type="top",this.scene.add.zone(this.x+120,this.y+190,300,145).setDropZone(void 0,(function(){})).type="bottom"},t.prototype.onTerritoryClick=function(){if(h.default.checkTestB(this.scene.state))return this.onTerritoryClickTestB();if(e.prototype.onTerritoryClick.call(this),this.cooldown>0){var t={type:1,sysType:19};return this.scene.state.territory=this,this.scene.state.modal=t,void this.scene.scene.launch("Modal",this.scene.state)}if(this.scene.state.userCow.part<3)if(h.default.checkTestB(this.scene.state)){var i=this.scene.state.cowTasks.find((function(e){return"2-1"===String(e.id)}));if(3===this.block&&1===this.position&&0===this.territoryType&&1===i.done&&1===i.awardTaken){t={type:1,sysType:2};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}else if(3===this.block&&1===this.position&&0===this.territoryType)return void c.default.create(this.scene.game.scene.keys[this.scene.state.farm+"Bars"],this.scene.state.lang.doneFirstTask,3)}else{i=this.scene.state.cowTasks.find((function(e){return 138===e.id}));if(3===this.block&&1===this.position&&0===this.territoryType&&1===i.done&&1===i.got_awarded){t={type:1,sysType:2};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}else if(3===this.block&&1===this.position&&0===this.territoryType)return void c.default.create(this.scene.game.scene.keys[this.scene.state.farm+"Bars"],this.scene.state.lang.doneFirstTask,3)}if(6!==this.territoryType&&7!==this.territoryType&&8!==this.territoryType){t={type:1,sysType:2};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}else if(6===this.territoryType)this.scene.state["user"+this.scene.state.farm].collectorLevel<this.scene.state[this.scene.state.farm.toLowerCase()+"CollectorSettings"].length?this.scene.showImproveCollector():c.default.create(this.scene.game.scene.keys[this.scene.state.farm+"Bars"],this.scene.state.lang.maxCollectorLevel,3);else if(7===this.territoryType)this.scene.takeDiamondCow();else if(8===this.territoryType){t={type:13};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}},t.prototype.onTerritoryClickTestB=function(){if(e.prototype.onTerritoryClick.call(this),this.cooldown>0){var t={type:1,sysType:19};return this.scene.state.territory=this,this.scene.state.modal=t,void this.scene.scene.launch("Modal",this.scene.state)}if(this.scene.state.userCow.part<3)if(h.default.checkTestB(this.scene.state)){var i=this.scene.state.cowTasks.find((function(e){return"2-1"===String(e.id)}));if(3===this.block&&1===this.position&&0===this.territoryType&&1===i.done&&1===i.awardTaken){t={type:1,sysType:2};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}else if(3===this.block&&1===this.position&&0===this.territoryType)return void c.default.create(this.scene.game.scene.keys[this.scene.state.farm+"Bars"],this.scene.state.lang.doneFirstTask,3)}else{i=this.scene.state.cowTasks.find((function(e){return 138===e.id}));if(3===this.block&&1===this.position&&0===this.territoryType&&1===i.done&&1===i.got_awarded){t={type:1,sysType:2};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}else if(3===this.block&&1===this.position&&0===this.territoryType)return void c.default.create(this.scene.game.scene.keys[this.scene.state.farm+"Bars"],this.scene.state.lang.doneFirstTask,3)}if(6!==this.territoryType&&7!==this.territoryType&&8!==this.territoryType){t={type:1,sysType:2};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}else if(6===this.territoryType)this.scene.state.userCow.collectorLevel<this.scene.state.cowSettings.partSettings.length||this.scene.state.userCow.collectorTimeLevel<this.scene.state.cowSettings.partSettings.length?this.scene.showImproveCollector():c.default.create(this.scene.game.scene.keys[this.scene.state.farm+"Bars"],this.scene.state.lang.maxCollectorLevel,3);else if(7===this.territoryType)this.scene.takeDiamondCow();else if(8===this.territoryType){t={type:13};this.scene.state.modal=t,this.scene.state.territory=this,this.scene.scene.launch("Modal",this.scene.state)}},t.prototype.setPositionImproveText=function(){var e,t;if(5===this.territoryType){var i={x:null===(e=this.improveText)||void 0===e?void 0:e.x,y:null===(t=this.improveText)||void 0===t?void 0:t.y};this.improve<5?(i.x=this.x+127,i.y=this.y+125):this.improve<10?(i.x=this.x+87,i.y=this.y+140):this.improve<15?(i.x=this.x+168,i.y=this.y+138):(i.x=this.x+130,i.y=this.y+140),this.improveText.x===i.x&&this.improveText.y===i.y||(this.improveText.setPosition(i.x,i.y),this.improveText.setStyle({fontSize:"32px"}),this.improveText.setDepth(this.repository.depth+1))}else if(2===this.territoryType||3===this.territoryType){i={x:this.x+38,y:this.y+24};this.improveText.x===i.x&&this.improveText.y===i.y||this.improveText.setPosition(i.x,i.y).setStyle({fontSize:"26px"}).setDepth(this.depth+2)}},t.prototype.unlockTerritory=function(){var e=this;this.bought&&this.cooldown<=0&&(this.scene.tryTask(5,this.boughtType),0===this.territoryType?(this.territoryType=this.boughtType,this.scene.time.addEvent({delay:500,callback:function(){var t;e.changeSprite(),null===(t=e.forest)||void 0===t||t.destroy(),e.setTexture(e.scene.state.farm.toLowerCase()+"-bought"),o.default.create(e.scene,{x:e.x+120,y:e.y+120},3),e.scene.buildBorders()},callbackScope:this,loop:!1})):1===this.territoryType&&(this.territoryType=this.boughtType,h.default.checkTestB(this.scene.state)&&(this.improve=this.scene.state["user"+this.scene.state.farm].part-1||1),5===this.territoryType?(this.volume=0,this.money=0,this.createRepositorySprite(),o.default.create(this.scene,{x:this.x+120,y:this.y+120},3)):8===this.territoryType?(this.volume=0,this.money=0,this.createFactorySprite(),o.default.create(this.scene,{x:this.x+120,y:this.y+120},3)):(this.volume=1e3,this.changeSprite(),this.scene.time.addEvent({delay:500,callback:function(){o.default.create(e.scene,{x:e.x+120,y:e.y+120},3)},callbackScope:this,loop:!1}))))},t}(a.default);t.default=l},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(8),r=function(e){function t(t,i,s,n){var a=e.call(this,t,i,s,"cow-factory")||this;return a.productionTimer=0,a.production1Money=0,a.production2Money=0,a.production3Money=0,a.production4Money=0,a.money=0,a.improve=n,a.init(),a}return n(t,e),t.prototype.init=function(){var e=this;this.scene.add.existing(this),this.currentProduction=this.scene.state.userCow.factory.currentProduction,this.productionTimer=this.scene.state.userCow.factory.productionTimer,this.production1Money=this.scene.state.userCow.factory.production1Money,this.production2Money=this.scene.state.userCow.factory.production2Money,this.production3Money=this.scene.state.userCow.factory.production3Money,this.production4Money=this.scene.state.userCow.factory.production4Money,this.money=this.scene.state.userCow.factory.money,this.settings=this.scene.state.cowSettings.cowFactorySettings.find((function(t){return t.improve===e.improve})),this.flash=this.scene.add.sprite(this.x+12,this.y+4,"factory-flash").setDepth(this.depth+1e3).setVisible(!1),this.setIdleAnimation()},t.prototype.getPercent=function(){var e,t=[this.settings.production1Percent,this.settings.production2Percent,this.settings.production3Percent];(null===(e=this.scene)||void 0===e?void 0:e.state.userCow.factory.boostTime)>0&&t.push(this.settings.production4Percent);for(var i=t.reduce((function(e,t){return e+t})),s=[],n=0;n<t.length;n+=1)s.push(Math.round(this.settings["production"+(n+1)+"Percent"]/i*100));return s.reduce((function(e,t){return e+t}))>100&&(s[0]-=1),s},t.prototype.preUpdate=function(t,i){e.prototype.preUpdate.call(this,t,i),!this.workAnimation&&0!==this.currentProduction&&this.currentProduction?(this.setWorkAnimation(),this.removeIdleAnimation()):!this.workAnimation||0!==this.currentProduction&&this.currentProduction||(this.removeWorkAnimation(),this.setIdleAnimation())},t.prototype.setWorkAnimation=function(){this.workAnimation=this.scene.add.particles("factory-smoke").setDepth(this.depth+1e4).createEmitter({x:this.x-25,y:this.y-115,angle:{min:250,max:300},speed:{min:20,max:100},gravityY:-50,lifespan:1500,quantity:1,frequency:10,scale:{start:.15,end:.7},alpha:{start:.6,end:0}})},t.prototype.removeWorkAnimation=function(){this.workAnimation.remove(),this.workAnimation=void 0},t.prototype.setIdleAnimation=function(){var e=this;this.flash.setVisible(!0),this.idleAnimation=this.scene.add.tween({targets:[],loopDelay:300,loop:-1,onLoop:function(){16777215!==e.flash.tintTopLeft?e.flash.setTint(16777215):e.flash.setTint(16711680)}})},t.prototype.removeIdleAnimation=function(){this.flash.setVisible(!1),this.idleAnimation.remove(),this.idleAnimation=void 0},t.prototype.productionOfProducts=function(){var e=0;if(this.productionTimer<=0){this.endProduction();var t=this.scene.territories.children.entries.filter((function(e){return 5===e.territoryType}));if(t.forEach((function(t){e+=t.volume})),e>=this.settings.lotSize){this.productionTimer=this.settings.processingTime;var i=this.settings.lotSize;for(var s in t){var n=t[s];n.volume>i?(n.volume-=i,i=0):(i-=n.volume,n.volume=0)}this.startProduction()}else console.log("Not enough milk for production")}else this.productionTimer-=1},t.prototype.startProduction=function(){var e=this.getRandomProductId();e?this.currentProduction=e:this.startProduction()},t.prototype.endProduction=function(){if(this.currentProduction){var e=this.scene.state.userCow.factory["production"+this.currentProduction+"Multiply"];this["production"+this.currentProduction+"Money"]+=this.settings.lotSize*e,this.money+=this.settings.lotSize*e,this.currentProduction=void 0}},t.prototype.getRandomProductId=function(){var e=[this.settings.production1Percent,this.settings.production2Percent,this.settings.production3Percent];this.scene.state.userCow.factory.boostTime>0&&e.push(this.settings.production4Percent);for(var t=e.reduce((function(e,t){return e+t})),i=[],s=0,n=0,a=0;a<e.length;a+=1)0!==e[a]&&(s=e[a]+n,i.push({id:a+1,bottom:n,top:s}),n=s);var r,o=Phaser.Math.Between(1,t);for(a=0;a<i.length;a+=1)i[a].bottom<o&&i[a].top>=o&&(r=i[a].id);return r},t.prototype.sellProducts=function(){this.money>0&&(this.scene.tryTask(a.TaskType.SELL_RESOURCE,0,this.money),this.scene.state.userCow.money+=this.money,this.money=0,this.production1Money=0,this.production2Money=0,this.production3Money=0,this.production4Money=0,this.scene.game.scene.keys.CowBars.plusMoneyAnimation({x:this.x+120,y:this.y+120}))},t}(Phaser.GameObjects.Sprite);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3);t.default=function(){var e=this;this.input.on("dragstart",(function(e,t){t.startDrag()})),this.input.on("drag",(function(e,t,i,s){t.dragging(i,s)})),this.input.on("drop",(function(t,i,n){var a=e.currentTerritory(i.x,i.y);if(a)if(4===a.territoryType)0===i.breed?(s.default.create(e,e.state.lang.mergingDiamondCow,1),e.cancelMerging(a,i,!1)):i.breed===e.state.cowSettings.cowSettings.length?(s.default.create(e,e.state.lang.mergingMessageBreedMax,1),e.cancelMerging(a,i,!1)):e.state.userCow.fair<i.breed?(s.default.create(e,e.state.lang.needImproveFair,1),e.cancelMerging(a,i,!1)):"top"===n.type?e.checkMerging(a,i,"top"):"bottom"===n.type&&e.checkMerging(a,i,"bottom");else{var r=Phaser.Math.Between(a.x+40,a.x+200),o=Phaser.Math.Between(a.y+280,a.y+440);i.setAim(r,o)}else i.teleportation()})),this.input.on("dragend",(function(t,i){i.endDrag();var s=e.currentTerritory(i.x,i.y);if(s){if(4!==s.territoryType)for(var n in e.dragCowMerging(i),0===s.territoryType?(i.expel=!0,e.state.animal=i,e.confirmExpelCow()):i.expel=!1,e.territories.children.entries){var a=e.territories.children.entries[n];if(4===a.territoryType){if(a.merging.find((function(e){return e._id===i._id}))){a.merging.splice(0,1),a.mergingCounter=0;break}}else i.merging=!1}}else i.expel=!0,e.state.animal=i,e.confirmExpelCow(),i.teleportation()}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,n,a=i(0),r=i(21),o=i(35),c=i(3),h=i(15),l=i(1),d=0,u=0,p=0,f=0,m=1;t.default=function(){var e=this,t=!1,i=!1;this.time.addEvent({delay:1e3,callback:function(){var g,y,v,w,b,x,k,T,_,S,C;e.onlineStatus();var P=e.balance();if(P.notEnoughGrass||P.notEnoughWater){if(++f>=30*m&&(c.default.create(e.game.scene.keys.CowBars,e.state.lang.remainderBalance,4),f=0,m++),Phaser.Math.Between(0,7)>=5&&e.animalGroup.children.entries.length>0){var B=Phaser.Math.Between(0,e.animalGroup.children.entries.length-1),A=["not-enought-water","not-enought-grass"][Phaser.Math.Between(0,1)];P.notEnoughGrass&&!P.notEnoughWater?A="not-enought-grass":P.notEnoughWater&&!P.notEnoughGrass&&(A="not-enought-water"),o.default.create(e,e.animalGroup.children.entries[B],A)}}else 0!==f&&1!==m&&(f=0,m=1);!t&&P.alarm?e.state.amplitude.logAmplitudeEvent("resources",{status:"problem started"}):t&&!P.alarm&&e.state.amplitude.logAmplitudeEvent("resources",{status:"problem is over"}),t=P.alarm;var E=!0,M=function(t){var i=e.territories.children.entries[t];if((2===i.territoryType||3===i.territoryType)&&i.volume<1e3){var s=e.settings.territoriesCowSettings.find((function(e){return e.improve===i.improve})).regeneration;l.default.checkTestB(e.state)&&(s=e.state.cowSettings.partSettings[i.improve-1].territory.regeneration),i.volume+=s,i.volume>1e3&&(i.volume=1e3)}E=E&&0!==i.territoryType};for(var O in e.territories.children.entries)M(O);E&&e.achievement.tryId(37);var I=0;for(var O in e.animalGroup.children.entries){var R=e.animalGroup.children.entries[O];if(0===R.breed&&(I+=1),R.milk<R.settings.maxMilkVolume){var D=R.settings.maxMilkVolume/10;0===R.breed&&(D=R.settings.maxMilkVolume/10),P.alarm&&(D=Math.round(D/100*e.settings.cowBadPercent))<1&&(D=1),R.milk+=D,R.milk>R.settings.maxMilkVolume&&(R.milk=R.settings.maxMilkVolume)}(Y=e.currentTerritory(R.x,R.y))&&!R.drag&&(2===Y.territoryType?R.settings.eating>Y.volume?Y.volume=0:Y.volume-=R.settings.eating:3===Y.territoryType&&(R.settings.drinking>Y.volume?Y.volume=0:Y.volume-=R.settings.drinking))}I>=5&&e.achievement.tryId(9);var N=function(t){var i=e.territories.children.entries[t];if(2!==i.territoryType&&3!==i.territoryType&&5!==i.territoryType||i.changeSprite(),4===i.territoryType&&(i.mergingCounter>0&&i.mergingCounter++,i.mergingCounter>e.state.maxMerginTime)){var s=void 0,n=void 0;switch(i.merging.length){case 0:s=!1,n=!1;break;case 1:s=e.animalGroup.children.entries.find((function(e){return e._id===i.merging[0]._id})),n=!1;break;case 2:s=e.animalGroup.children.entries.find((function(e){return e._id===i.merging[0]._id})),n=e.animalGroup.children.entries.find((function(e){return e._id===i.merging[1]._id}))}e.cancelMerging(i,s,n)}};for(var O in e.territories.children.entries)N(O);if(e.state.userCow.part<=2){var F=e.partTasks();l.default.checkTestB(e.state)?F.sort((function(e,t){return e.awardTaken<t.awardTaken?-1:e.awardTaken>t.awardTaken||e.done<t.done?1:e.done>t.done||e.sort<t.sort?-1:e.sort>t.sort?1:0})):F.sort((function(e,t){return e.got_awarded<t.got_awarded?-1:e.got_awarded>t.got_awarded||e.done<t.done?1:e.done>t.done||e.sort<t.sort?-1:e.sort>t.sort?1:0}));var L=F[0];if(0===(null==L?void 0:L.done)&&(137===(null==L?void 0:L.id)||"2-2"===L.id||"2-3"===L.id)&&!s){var Y=e.territories.children.entries.find((function(e){return 3===e.block&&1===e.position}));s=r.default.generate(e,10,{x:Y.x+120,y:Y.y+180})}var U=e.territories.children.entries.find((function(e){return 8===e.territoryType})),V=F.find((function(e){return 138===e.id})),W=F.find((function(e){return 137===e.id}));if(l.default.checkTestB(e.state)){var z=e.partTasks();V=z.find((function(e){return"2-1"===e.id})),W=z.find((function(e){return"2-3"===e.id}))}1===(null==V?void 0:V.done)&&(1===(null==W?void 0:W.done)||U)&&!e.scene.isActive("Tutorial")&&!e.scene.isActive("Modal")&&!e.scene.isActive("Profile")&&!e.scene.isActive("Fortune")&&e.state.userCow.tutorial<50&&e.state.userCow.tutorial>=10&&e.showTutorial()}0===e.state.userCow.tutorial&&e.state.userCow.part>=3&&(e.state.userCow.tutorial=50),e.state.userCow.collector>0&&e.state.userCow.collector--,e.intervalCollectorTutorial(),e.tryTask(6,0,0,e.state.userCow.money),e.checkAnimalTask(),e.game.scene.keys.CowBars.setBalanceBars(P),e.autoSaveTimer++,e.autoSaveTimer>=e.state.autoSaveSpeed&&e.autosave();var H=Math.round((new Date).getTime()/1e3);if(H>e.autoprogressTimer+5&&(e.state.offlineTime=H-e.autoprogressTimer,e.autoprogress()),e.autoprogressTimer=H,e.dailyAward(),e.state.newbieTime>0&&e.state.newbieTime--,e.scene.isActive("Modal")||e.scene.isActive("Tutorial")||e.scene.isActive("Profile")||e.getNewbieAward(),e.ads.findAd(),e.nextDayTimer(),e.state["user"+e.state.farm].part>=e.game.scene.keys.Cow.herdBoostLvl&&e.state["user"+e.state.farm].takenHerdBoost<=0&&e.state.user.additionalTutorial.herdBoost?e.state.shopNotificationCount[3]=1:e.state.shopNotificationCount[3]=0,e.state.user.takenFreeDiamonds?e.state.shopNotificationCount[0]=0:e.state.shopNotificationCount[0]=1,e.game.scene.keys[e.state.farm+"Bars"].updateNotificationShop(),!e.state.donate||e.scene.get("Modal").load.isLoading()||e.scene.isActive("Modal")||e.scene.isActive("Tutorial")||e.scene.isActive("Profile")||e.showDonate(),e.state.userCow.feedBoostTime>0){if(Phaser.Math.Between(0,7)>=5&&e.animalGroup.children.entries.length>0){B=Phaser.Math.Between(0,e.animalGroup.children.entries.length-1);o.default.create(e,e.animalGroup.children.entries[B])}e.state.userCow.feedBoostTime--}if(e.state.userCow.factory.boostTime>0&&e.state.userCow.factory.boostTime--,e.animalGroup.children.entries.every((function(e){return!1===e.spread}))&&e.spreadAnimals(),1===e.state.progress.event.type&&(e.state.progress.event.endTime>0&&(e.state.progress.event.endTime--,e.scene.isActive("Profile")&&(null===(g=e.game.scene.keys.Profile.eventEndTime)||void 0===g||g.setText(a.shortTime(e.state.progress.event.endTime,e.state.lang)))),e.state.progress.event.startTime>0&&(e.state.progress.event.startTime--,e.scene.isActive("Profile")&&(null===(y=e.game.scene.keys.Profile.eventStartTime)||void 0===y||y.setText(a.shortTime(e.state.progress.event.startTime,e.state.lang)))),e.state.progress.event.endTime<=0&&e.state.progress.event.open&&!(null===(v=e.state.userUnicorn)||void 0===v?void 0:v.takenAward)&&(null===(w=e.state.userUnicorn)||void 0===w?void 0:w.points)>0&&e.scene.isActive("Profile")&&(e.autosave(),e.scene.stop("Profile")),e.state.progress.event.endTime<=0&&!(null===(b=e.state.userUnicorn)||void 0===b?void 0:b.takenAward)&&(null===(x=e.state.userUnicorn)||void 0===x?void 0:x.points)>0&&e.state.progress.event.open&&!e.scene.get("Modal").load.isLoading()&&!e.scene.isActive("Modal")&&!e.scene.isActive("Tutorial")&&!e.scene.isActive("Profile")&&1===e.state.progress.event.type&&(i||(e.getEventRaiting(),i=!0),null===(k=e.state.unicornRaitings)||void 0===k?void 0:k.updated))){e.state.modal={type:12},e.scene.launch("Modal",e.state)}(""!==e.state.name||""!==e.state.user.login||"ya"===e.state.platform&&!e.state.yaPlayer)&&e.state.progress.event.startTime<=0&&e.state.progress.event.endTime>0&&e.state.progress.event.open&&(0!==(null===(T=e.state.userUnicorn)||void 0===T?void 0:T.tutorial)||1!==e.state.progress.event.type||e.scene.isActive("Modal")||e.scene.isActive("Tutorial")||e.scene.isActive("Profile")||r.default.generate(e.game.scene.keys[e.state.farm+"Bars"],17),0===(null===(_=e.state.userUnicorn)||void 0===_?void 0:_.tutorial)&&1===e.state.progress.event.type&&!e.scene.isActive("Tutorial")&&e.scene.isActive("Profile")&&e.state.progress.event.open&&e.showEventTutorial());var X=e.territories.children.entries.find((function(e){return 8===e.territoryType}));X&&((U=X.factory)&&(e.state.userCow.tutorial>=50&&U.productionOfProducts(),U.money>0&&!(null==n?void 0:n.active)&&!U.currentProduction&&(n=r.default.generate(e,19,{x:X.x+120,y:X.y+180}))));e.intervalPorgressCollectorTime(),e.sheepIntervalProgress(),e.chickenIntervalProgress(),e.progressTerritoryCooldown(e.territories.children.entries,1,"Cow"),d<2?d+=1:(d=0,u=e.sheepCollectorProgress(u),p=e.chickenCollectorProgress(p)),e.updateProfileNotification(),e.showFeedBoostSpeechBubble(),h.progressClanCooldown(e.state),h.progressSalesTime(e.state);var G=null===(S=e.territories.children.entries.find((function(e){return 5===e.territoryType})))||void 0===S?void 0:S.volume;e.tryTask(26,0,0,Math.round(G)),(null===(C=e.animalGroup)||void 0===C?void 0:C.children.entries.length)>0&&H%14==0&&e.playSoundOnce("cow-sound-"+Phaser.Math.Between(1,3)),e.tryClanTask(18),h.progressClanEventTime(e.state),e.state.clanEventTakenAward||e.scene.get("Modal").load.isLoading()||e.scene.isActive("Modal")||e.scene.isActive("Tutorial")||e.scene.isActive("Profile")||e.scene.isActive("Fortune")||(e.state.modal={type:22},e.scene.launch("Modal",e.state)),h.showSale(e),e.speedCheckCollector(),h.decrementAdFreeDiamondTime(e.state),h.incInterstitialAdTimer(e.state),h.incFortuneAdTimer(e.state),2===e.state.userCow.part&&e.territories.children.entries.some((function(e){return 8===e.territoryType}))&&e.tryTask(5,8),e.state.user.clanTasks.length>0&&e.state.user.clanTasks.every((function(e){return e.done}))&&e.achievement.tryId(122)},callbackScope:this,loop:!0})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animations=void 0,t.animations=function(){this.anims.create({key:"cow-move-right0",frames:this.anims.generateFrameNumbers("cow0",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left0",frames:this.anims.generateFrameNumbers("cow0",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right0",frames:[{key:"cow0",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left0",frames:[{key:"cow0",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag0",frames:[{key:"cow0",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right1",frames:this.anims.generateFrameNumbers("cow1",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left1",frames:this.anims.generateFrameNumbers("cow1",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right1",frames:[{key:"cow1",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left1",frames:[{key:"cow1",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag1",frames:[{key:"cow1",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right2",frames:this.anims.generateFrameNumbers("cow2",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left2",frames:this.anims.generateFrameNumbers("cow2",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right2",frames:[{key:"cow2",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left2",frames:[{key:"cow2",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag2",frames:[{key:"cow2",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right3",frames:this.anims.generateFrameNumbers("cow3",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left3",frames:this.anims.generateFrameNumbers("cow3",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right3",frames:[{key:"cow3",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left3",frames:[{key:"cow3",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag3",frames:[{key:"cow3",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right4",frames:this.anims.generateFrameNumbers("cow4",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left4",frames:this.anims.generateFrameNumbers("cow4",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right4",frames:[{key:"cow4",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left4",frames:[{key:"cow4",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag4",frames:[{key:"cow4",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right5",frames:this.anims.generateFrameNumbers("cow5",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left5",frames:this.anims.generateFrameNumbers("cow5",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right5",frames:[{key:"cow5",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left5",frames:[{key:"cow5",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag5",frames:[{key:"cow5",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right6",frames:this.anims.generateFrameNumbers("cow6",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left6",frames:this.anims.generateFrameNumbers("cow6",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right6",frames:[{key:"cow6",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left6",frames:[{key:"cow6",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag6",frames:[{key:"cow6",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right7",frames:this.anims.generateFrameNumbers("cow7",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left7",frames:this.anims.generateFrameNumbers("cow7",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right7",frames:[{key:"cow7",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left7",frames:[{key:"cow7",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag7",frames:[{key:"cow7",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right8",frames:this.anims.generateFrameNumbers("cow8",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left8",frames:this.anims.generateFrameNumbers("cow8",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right8",frames:[{key:"cow8",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left8",frames:[{key:"cow8",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag8",frames:[{key:"cow8",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right9",frames:this.anims.generateFrameNumbers("cow9",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left9",frames:this.anims.generateFrameNumbers("cow9",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right9",frames:[{key:"cow9",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left9",frames:[{key:"cow9",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag9",frames:[{key:"cow9",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right10",frames:this.anims.generateFrameNumbers("cow10",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left10",frames:this.anims.generateFrameNumbers("cow10",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right10",frames:[{key:"cow10",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left10",frames:[{key:"cow10",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag10",frames:[{key:"cow10",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right11",frames:this.anims.generateFrameNumbers("cow11",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left11",frames:this.anims.generateFrameNumbers("cow11",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right11",frames:[{key:"cow11",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left11",frames:[{key:"cow11",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag11",frames:[{key:"cow11",frame:6}],frameRate:20}),this.anims.create({key:"cow-move-right12",frames:this.anims.generateFrameNumbers("cow12",{start:7,end:12}),frameRate:10,repeat:-1}),this.anims.create({key:"cow-move-left12",frames:this.anims.generateFrameNumbers("cow12",{start:0,end:5}),forward:!1,frameRate:10,repeat:-1}),this.anims.create({key:"cow-stay-right12",frames:[{key:"cow12",frame:7}],frameRate:20}),this.anims.create({key:"cow-stay-left12",frames:[{key:"cow12",frame:0}],frameRate:20}),this.anims.create({key:"cow-drag12",frames:[{key:"cow12",frame:6}],frameRate:20})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragCowMerging=t.confirmExpelCow=t.sellMilk=t.collectMilk=t.buyCow=t.cancelMerging=t.checkMerging=t.teleportation=void 0;var s=i(0),n=i(6),a=i(29),r=i(1771),o=i(3),c=i(1);t.teleportation=function(e){var t=[];for(var i in this.territories.children.entries)2!==this.territories.children.entries[i].type&&3!==this.territories.children.entries[i].type||t.push({_id:this.territories.children.entries[i]._id,block:this.territories.children.entries[i].block,position:this.territories.children.entries[i].position,count:0});var n=function(e){var i=a.animalGroup.children.entries[e],s=a.currentTerritory(i.x,i.y);void 0!==s&&void 0!==(s=t.find((function(e){return e._id===s._id})))&&s.count++},a=this;for(var i in this.animalGroup.children.entries)n(i);t.sort((function(e,t){return e.count<t.count?-1:e.count>t.count?1:0}));var r=Math.ceil(e.width/2)+1,o=Math.ceil(e.height/2)+1,c=(t[0].position-1)*this.height+r,h=t[0].position*this.height-r,l=(t[0].block-1)*this.height+o+this.topIndent,d=t[0].block*this.height-o+this.topIndent;e.x=s.random(c,h),e.y=s.random(l,d),e.counter=200,e.aim=!1,e.aimX=0,e.aimY=0,e.distance=0},t.checkMerging=function(e,t,i){var n=this;t.merging=!0,e.mergingCounter=1;var r=e.merging.find((function(e){return e._id===t._id}));if(void 0===r?(1===e.merging.length&&e.merging[0].position===i&&("top"===i?i="bottom":"bottom"===i&&(i="top")),e.merging.push({_id:t._id,type:t.breed,position:i}),"top"===i?(t.vector=4,t.y=e.y+30,t.x=e.x+165):"bottom"===i&&(t.vector=4,t.y=e.y+130,t.x=e.x+165)):("top"===r.position&&"bottom"===i&&(r.position="bottom"),"bottom"===r.position&&"top"===i&&(r.position="top"),"top"===i?(t.vector=4,t.y=e.y+30,t.x=e.x+165):"bottom"===i&&(t.vector=4,t.y=e.y+130,t.x=e.x+165)),2===e.merging.length){var c=this.animalGroup.children.entries.find((function(t){return t._id===e.merging[0]._id})),h=this.animalGroup.children.entries.find((function(t){return t._id===e.merging[1]._id}));if((null==c?void 0:c.breed)===(null==h?void 0:h.breed))this.time.addEvent({delay:100,callback:function(){var t={x:e.x+120,y:e.y+120};a.default.create(n,t);var i=c.breed+1,r="local_"+s.randomString(18),o=e.x+120,l=e.y+240,d=c.milk+h.milk,u=n.animalGroup.generate({x:o,y:l},i,r,0,d,0,7,!1);c.destroy(),h.destroy();var p=Phaser.Math.Between(e.x+40,e.x+200),f=Phaser.Math.Between(e.y+280,e.y+440);u.setAim(p,f),n.tryTask(2,i),n.tryTask(4,i),n.tryClanTask(5),n.checkAnimalTask()},callbackScope:this,loop:!1}),e.merging=[];else if(c&&h)o.default.create(this,this.state.lang.mergingMessageBreed,1),this.cancelMerging(e,c,h);else{for(var l in this.animalGroup.children.entries)this.animalGroup.children.entries[l].merging=!1;c&&h.teleportation(),h&&h.teleportation(),e.merging=[]}}},t.cancelMerging=function(e,t,i){var n=this;this.time.addEvent({delay:100,callback:function(){if(t){t.merging=!1;var a=s.random(e.x+40,e.x+200),r=s.random(e.y+280,e.y+440);t.setAim(a,r)}if(i){i.merging=!1;a=s.random(e.x+40,e.x+200),r=s.random(e.y+280,e.y+440);i.setAim(a,r)}var o=function(t){var i=n.animalGroup.children.entries.find((function(i){return i._id===e.merging[t]._id})),s=Phaser.Math.Between(e.x+40,e.x+200),a=Phaser.Math.Between(e.y+280,e.y+440);i.setAim(s,a),i.merging=!1};for(var c in e.merging)o(c);e.merging=[],e.mergingCounter=0},callbackScope:this,loop:!1})},t.buyCow=function(e,t){var i=this;void 0===t&&(t=!1);var n,a=!1;if(this.animalGroup.children.entries.length<50){var r=this.cowPrice(e);if(n=this.state.farm.toUpperCase()+"_PRICE",i.state.sales.some((function(e){return e.type===n&&e.startTime<=0&&e.endTime>0}))&&(r.price=Math.round(r.price/2)),this.state.userCow.money>=r.price){a=!0;var o=s.random(530,660),c=s.random(530,540);if(this.scrolling.scrollY>350){var h=this.findFreeTerritory(600,this.height+this.scrolling.scrollY+250);h&&(o=Phaser.Math.Between(h.x-50,h.x+50),c=Phaser.Math.Between(h.y-10,h.y+10))}var l="local_"+s.randomString(18);this.animalGroup.generate({x:o,y:c},e,l,0,0,0,7,!0),this.state.userCow.money-=r.price,this.state.userCow.countCow=r.countCow,this.game.scene.keys.CowBars.updateAnimalPrice(),this.tryTask(1,e),this.tryClanTask(1),this.tryTask(4,e),this.checkAnimalTask()}else{t&&(this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal"));var d=r.price-this.state.userCow.money,u=this.convertMoney(d);this.state.convertor={fun:0,count:d,diamonds:u,type:1,breed:e};var p={type:1,sysType:4};this.state.modal=p,this.scene.launch("Modal",this.state)}}else{t&&(this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal"));p={type:1,sysType:3,height:150,message:this.state.lang.maxCowCount};this.state.modal=p,this.scene.launch("Modal",this.state),this.achievement.tryId(8)}return a},t.collectMilk=function(e,t,i){var s,a,o;void 0===t&&(t=!1),void 0===i&&(i=!0);var h=0;if(0!==e.breed){t&&i&&(this.tryTask(11,0),this.tryClanTask(4));var l=function(t){var i=d.territories.children.entries[t];if(5===i.territoryType){var n=d.state.cowSettings.cowFactorySettings.find((function(e){return e.improve===i.improve})).lotSize*d.state.storageMultiply;if(c.default.checkTestB(d.state)&&(n=d.state.cowSettings.partSettings[i.improve-1].territory.maxRepositoryVolume),n>i.volume+e.milk){h=e.milk,e.milk=0;var r={x:i.x+120,y:i.y+120},l=Phaser.Math.Distance.Between(e.x,e.y-50,r.x,r.y);return(void 0===a||l<a)&&(a=l,s=r,o=i),"break"}if(n>i.volume){h=n-i.volume,e.milk-=h;r={x:i.x+120,y:i.y+120},l=Phaser.Math.Distance.Between(e.x,e.y-50,r.x,r.y);return(void 0===a||l<a)&&(a=l,s=r,o=i),"break"}}},d=this;for(var u in this.territories.children.entries){if("break"===l(u))break}if(a){r.default.create(this,{x:e.x,y:e.y-50},s);if(this.state.userCow.feedBoostTime>0&&(h*=this.feedBoostMultiplier),this.state.clan){var p=this.state.clan.cow.cooldown>0?1+(this.state.clan.cow.level-1)/100:1+this.state.clan.cow.level/100;h*=p}o.volume+=h,o.money+=0;var f=this.state.cowSettings.cowFactorySettings.find((function(e){return e.improve===o.improve})).lotSize*this.state.storageMultiply;c.default.checkTestB(this.state)&&(f=this.state.cowSettings.partSettings[o.improve-1].territory.maxRepositoryVolume),o.volume>f&&(o.volume=f)}else if(t){var m={type:1,sysType:3,height:150,message:this.state.lang.haveNotSpaceRepository};this.state.modal=m,this.scene.launch("Modal",this.state)}}else{var g={x:e.x,y:e.y-50};e.milk=0,e.diamond++,this.game.scene.keys.CowBars.getCurrency(g,1,"diamond"),this.state.user.diamonds++,this.tryTask(19,0),this.tryClanTask(15),e.diamond>=3&&(n.default.create(this,e,1),e.destroy(),this.game.scene.keys[this.state.farm].autosave(),this.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"diamond_animal",count:3}))}},t.sellMilk=function(){this.state.territory&&5===this.state.territory.territoryType&&this.state.territory.volume>0&&(this.state.userCow.money+=this.state.territory.volume*this.milkMultiply,this.state.territory.money=0,this.state.territory.volume=0,this.game.scene.keys.CowBars.plusMoneyAnimation({x:this.state.territory.x+120,y:this.state.territory.y+120}),this.tryClanTask(2),this.autosave())},t.confirmExpelCow=function(){this.state.modal={type:1,sysType:6},this.scene.launch("Modal",this.state)},t.dragCowMerging=function(e){var t=this,i=this.state.cowSettings.cowSettings.length,n=this.animalGroup.children.entries.find((function(s){return s.x-s.width/2<=e.x&&s.x+s.width/2>=e.x&&s.y-s.height/2<=e.y&&s.y+s.height/2>=e.y&&s.breed===e.breed&&e.breed>0&&e.breed<i&&s._id!==e._id&&t.state.userCow.tutorial>=0&&t.state.userCow.fair>=e.breed&&s}));if(n){var r={x:e.x,y:e.y};a.default.create(this,r);var o=e.breed+1,c=n.milk+e.milk;n.destroy(),e.destroy();var h="local_"+s.randomString(18);this.animalGroup.generate(r,o,h,0,c,0,7,!1),this.tryTask(2,o),this.tryTask(4,o),this.tryClanTask(5),this.checkAnimalTask()}}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i){var s=i.x,n=i.y;return e.call(this,t,s,n,"cow-milk")||this}return n(t,e),t.create=function(e,i,s){var n=new t(e,i);return n.flyToPoint(s),n},t}(i(74).default);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doneTutor_40=t.doneTutor_30=t.doneTutor_20=t.doneTutor_10=t.doneTutor_0=t.showTutorial=void 0,t.showTutorial=function(e){var t=this;if(void 0===e&&(e=!1),this.scene.isActive("Modal")&&13!==this.state.modal.type&&this.scene.stop("Modal"),this.scene.isActive("Tutorial")&&this.scene.stop("Tutorial"),this.scene.isActive("Profile")&&this.scene.stop("Profile"),this.scene.isActive("Shop")&&this.scene.stop("Shop"),this.scene.isActive("ShopBars")&&this.scene.stop("ShopBars"),this.state.userCow.tutorial>=10){var i=this.territories.children.entries.find((function(e){return 8===e.territoryType}));if(this.state.territory=i,i&&!this.scene.isActive("Modal")){this.state.modal={type:13},this.scene.launch("Modal",this.state)}var s=this.time.addEvent({delay:300,loop:!0,callback:function(){if(t.scene.isActive("Modal")&&13===t.state.modal.type){var i={farm:5,step:t.state.userCow.tutorial,additional:e};t.state.tutorial=i,t.scene.launch("Tutorial",t.state),s.destroy()}},callbackScope:this})}else{var n={farm:5,step:this.state.userCow.tutorial,additional:e};this.state.tutorial=n,this.scene.launch("Tutorial",this.state)}},t.doneTutor_0=function(){this.state.amplitude.logAmplitudeEvent("tutorial",{step:0}),this.state.userCow.tutorial=10,this.scene.stop("Tutorial")},t.doneTutor_10=function(){var e=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:10}),this.state.userCow.tutorial=20,this.scene.stop("Tutorial"),this.time.addEvent({delay:500,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_20=function(){var e=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:20}),this.state.userCow.tutorial=30,this.scene.stop("Tutorial"),this.time.addEvent({delay:500,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_30=function(){var e=this;this.state.amplitude.logAmplitudeEvent("tutorial",{step:30}),this.state.userCow.tutorial=40,this.scene.stop("Tutorial"),this.time.addEvent({delay:500,callback:function(){e.showTutorial()},callbackScope:this,loop:!1})},t.doneTutor_40=function(){this.state.amplitude.logAmplitudeEvent("tutorial",{step:40}),this.state.userCow.tutorial=50,this.scene.stop("Tutorial")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCollector=void 0,t.updateCollector=function(e){if(this.collectorCD<=0){if(this.collectorIsReady=!0,this.state.userCow.collector>0){var t=this.territories.children.entries.filter((function(e){return 5===e.territoryType}));for(var i in t){var s=t[i],n=this.state.cowSettings.partSettings[s.improve-1].territory.maxRepositoryVolume;if(s.volume<n){for(var a in this.animalGroup.children.entries){var r=this.animalGroup.children.entries[a];if(r.milk>=r.settings.maxMilkVolume&&0!==r.breed){this.collectMilk(r),this.collectorIsReady=!1;var o=this.state.cowSettings.partSettings[this.state.userCow.collectorLevel-1].collector.speed;this.collectorCD=Math.round(1e3/o);break}}break}}}}else this.collectorIsReady||(this.collectorCD-=e)},t.default=function(){var e=this,t={delay:1e3/this.state.cowCollectorSettings.find((function(t){return t.level===e.state.userCow.collectorLevel})).speed,callback:function(){if(e.state.userCow.collector>0){var t=e.territories.children.entries.filter((function(e){return 5===e.territoryType})),i=function(i){var s=t[i],n=e.state.cowSettings.cowFactorySettings.find((function(e){return e.improve===s.improve})).lotSize*e.state.storageMultiply;if(s.volume<n){for(var a in e.animalGroup.children.entries){var r=e.animalGroup.children.entries[a];if(r.milk>=r.settings.maxMilkVolume&&0!==r.breed){e.collectMilk(r);break}}return"break"}};for(var s in t){if("break"===i(s))break}}},callbackScope:this,loop:!0};this.collectorTimer?this.collectorTimer.reset(t):this.collectorTimer=this.time.addEvent(t)}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this,"Cow")||this}return n(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t}(i(76).default);t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=i(4),o=i(1776),c=i(1818),h=i(58),l=i(27),d=i(16),u=i(1819),p=i(1820),f=i(1821),m=i(1822),g=i(1823),y=i(1824),v=i(1825),w=i(1826),b=i(1827),x=i(1828),k=i(1829),T=i(1830),_=i(1831),S=i(1832),C=i(1833),P=i(1834),B=i(1835),A=i(1847),E=i(1848),M=i(1850),O=i(1851),I=i(1852),R=i(1853),D=i(1855),N=i(1856),F=i(1),L=i(1857),Y=i(1859),U=function(e){function t(){var t=e.call(this,"Modal")||this;return t.chatHeight=0,t.oldType=0,t.click=r.click.bind(t),t.clickButton=r.clickButton.bind(t),t.clickModalBtn=r.clickModalBtn.bind(t),t.clickShopBtn=r.clickShopBtn.bind(t),t.systemWindow=o.systemWindow.bind(t),t.chickenTerritory=o.chickenTerritory.bind(t),t.cowTerritory=o.cowTerritory.bind(t),t.sheepTerritory=o.sheepTerritory.bind(t),t.resizeWindow=o.resizeWindow.bind(t),t.resizeWindowTop=o.resizeWindowTop.bind(t),t.bigButton=h.bigButton.bind(t),t.repositoryBtn=h.repositoryBtn.bind(t),t.shopButton=h.shopButton.bind(t),t.shortNum=a.shortNum.bind(t),t.eventTerritory=o.eventTerritory.bind(t),t.improveCollectorAnim=l.improveCollectorAnim.bind(t),t.getStatusSettings=a.getStatusSettings.bind(t),t.typePreload=u.default.bind(t),t.clickTaskBoard=d.clickTaskBoard.bind(t),t.openModal=l.openModal.bind(t),t.loadingModal=a.loadingModal.bind(t),t.clickButtonUp=r.clickButtonUp.bind(t),t.clickButtonClanUp=r.clickButtonClanUp.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e,this.hints=this.add.group()},t.prototype.preload=function(){this.cameras.main.setBackgroundColor("rgba(0, 0, 0, 0.5)"),this.loadingModal(),this.typePreload()},t.prototype.create=function(){this.add.tileSprite(0,0,Number(this.game.config.width),Number(this.game.config.height),"modal").setOrigin(0).setInteractive();var e=this.oldType!==this.state.modal.type;switch(this.oldType=this.state.modal.type,this.state.modal.type){case 1:this.systemWindow();break;case 2:this.scene.launch("Shop",this.state);break;case 3:F.default.checkTestB(this.state)?this.taskWindowNew=new L.default(this):this.taskWindow=new m.default(this);break;case 4:new c.default(this);break;case 5:new g.default(this);break;case 6:new f.default(this);break;case 7:new y.default(this);break;case 8:"Unicorn"===this.state.farm?new T.default(this):new v.default(this);break;case 9:this.chatBars=new S.default(this),this.scene.launch("Chat",this.state);break;case 10:new b.default(this);break;case 11:new k.default(this);break;case 12:new x.default(this);break;case 13:new p.default(this),this.openModal(this.cameras.main);break;case 14:this.socialTakskWindow=new w.default(this),this.openModal(this.cameras.main);break;case 15:new _.default(this),this.openModal(this.cameras.main);break;case 16:new C.default(this),this.openModal(this.cameras.main);break;case 17:this.ClanTabsWindow=new P.default(this);break;case 18:new B.default(this);break;case 19:new A.default(this);break;case 20:new E.default(this);break;case 21:new M.default(this);break;case 22:new O.default(this);break;case 23:this.openModal(this.cameras.main),new I.default(this);break;case 24:this.openModal(this.cameras.main),new R.default(this);break;case 25:e&&this.openModal(this.cameras.main),new D.default(this);break;case 26:new N.default(this);break;case 27:new Y.default(this);break;default:this.scene.stop(),this.game.scene.keys[this.state.farm].scrolling.wheel=!0}},t.prototype.update=function(){var e,t,i,s,n,r,o,c,h,l,d,u,p,f,m,g=this;(this.state.closeModal&&(this.state.closeModal=!1,this.state.user.clanId="",this.state.clan=null,this.scene.isActive("ClanScroll")&&(this.scene.stop("Modal"),this.scene.stop("ClanScroll")),this.scene.isActive("Chat")&&(this.scene.stop("Chat"),this.scene.restart(this.state))),!0===(null===(e=this.game.scene.keys[this.state.farm].scrolling)||void 0===e?void 0:e.wheel)&&(this.game.scene.keys[this.state.farm].scrolling.wheel=!1),1===this.state.modal.type&&1===this.state.modal.sysType&&"Sheep"===this.state.farm)&&(440===(b=Math.round(this.state.animal.wool/10*4.44))&&(b=444),this.progressBar.displayWidth!==b&&this.progressBar.setDisplaySize(b,16),1e3===this.state.animal.wool&&"big-btn-grey"===this.progressButton.btn.texture.key&&(this.progressButton.btn.setTexture("big-btn-green"),this.progressButton.title.setColor("#FFFFFF"),this.progressButton.text1.setColor("#FFFFFF")));1===this.state.modal.type&&1===this.state.modal.sysType&&"Chicken"===this.state.farm&&(440===(b=Math.round(this.state.animal.egg/10*4.44))&&(b=444),this.progressBar.displayWidth!==b&&this.progressBar.setDisplaySize(b,16));1===this.state.modal.type&&1===this.state.modal.sysType&&"Cow"===this.state.farm&&(440===(b=Math.round(this.state.animal.milk/10*4.44))&&(b=444),this.progressBar.displayWidth!==b&&this.progressBar.setDisplaySize(b,16));if(5===(null===(t=this.state.territory)||void 0===t?void 0:t.territoryType)&&2===(null===(i=this.state.modal)||void 0===i?void 0:i.sysType)){var y=void 0,v=void 0,w=0;F.default.checkTestB(this.state)?"Sheep"===this.state.farm?(y=this.state.sheepSettings.partSettings[(null===(s=this.state.territory)||void 0===s?void 0:s.improve)-1].territory.maxRepositoryVolume,v=this.state.lang.countWool):"Chicken"===this.state.farm?(y=this.state.chickenSettings.partSettings[(null===(n=this.state.territory)||void 0===n?void 0:n.improve)-1].territory.maxRepositoryVolume,v=this.state.lang.countEggs):"Cow"===this.state.farm&&(y=this.state.cowSettings.partSettings[(null===(r=this.state.territory)||void 0===r?void 0:r.improve)-1].territory.maxRepositoryVolume,v=this.state.lang.countMilk):"Sheep"===this.state.farm?(y=this.state.sheepSettings.territoriesSheepSettings.find((function(e){return e.improve===g.state.territory.improve})).storage,v=this.state.lang.countWool):"Chicken"===this.state.farm?(y=this.state.chickenSettings.territoriesChickenSettings.find((function(e){return e.improve===g.state.territory.improve})).storage,v=this.state.lang.countEggs):"Cow"===this.state.farm&&(y=this.state.cowSettings.cowFactorySettings.find((function(e){return e.improve===g.state.territory.improve})).lotSize*this.state.storageMultiply,v=this.state.lang.countMilk),this.state.territory.volume>0&&(w=this.state.territory.volume/(y/100));var b=Math.round(4.44*w);this.progressBar.displayWidth!==b&&this.progressBar.setDisplaySize(b,16),"Cow"!==this.state.farm?this.progressButton.text1.text!==a.shortNum(this.state.territory.money)&&(this.progressButton.text1.setText(a.shortNum(this.state.territory.money)),this.progressButton.img1.x=555-this.progressButton.text1.displayWidth):this.progressButton.text1.text!==a.shortNum(this.state.territory.volume)&&(this.progressButton.text1.setText(a.shortNum(this.state.territory.volume)),this.progressButton.img1.x=555-this.progressButton.text1.displayWidth);var x=v+": "+this.state.territory.volume+" / "+y;if(this.progressText.text!==x&&this.progressText.setText(x),this.state["user"+this.state.farm].feedBoostTime>0){var k=this.state.lang.feedBoostTitle+". "+this.state.lang.left+" "+a.shortTime(this.state["user"+this.state.farm].feedBoostTime,this.state.lang);k!==this.feedBoostText.text&&(null===(o=this.feedBoostText)||void 0===o||o.setText(k)),null===(c=this.feedBoostText)||void 0===c||c.setVisible(!0)}else(null===(h=this.feedBoostText)||void 0===h?void 0:h.visible)&&this.scene.restart(this.state)}if("Cow"===this.state.farm&&5===(null===(l=this.state.territory)||void 0===l?void 0:l.territoryType)&&2===(null===(d=this.state.modal)||void 0===d?void 0:d.sysType)){y=this.state.cowSettings.cowFactorySettings.find((function(e){return e.improve===g.state.territory.improve})).lotSize*this.state.storageMultiply;F.default.checkTestB(this.state)&&(y=this.state.cowSettings.partSettings[(null===(u=this.state.territory)||void 0===u?void 0:u.improve)-1].territory.maxRepositoryVolume);v=this.state.lang.countMilk,w=0;this.state.territory.volume>0&&(w=this.state.territory.volume/(y/100));b=Math.round(4.44*w);this.progressBar.displayWidth!==b&&this.progressBar.setDisplaySize(b,16),this.progressButton.text1.text!==a.shortNum(this.state.territory.volume*this.game.scene.keys[this.state.farm].milkMultiply)&&(this.progressButton.text1.setText(a.shortNum(this.state.territory.volume*this.game.scene.keys[this.state.farm].milkMultiply)),this.progressButton.img1.x=555-this.progressButton.text1.displayWidth);x=v+": "+this.state.territory.volume+" / "+y;"Cow"===this.state.farm&&(x=v+": "+a.shortNum(this.state.territory.volume)+" / "+a.shortNum(y)),this.progressText.text!==x&&this.progressText.setText(x),this.state["user"+this.state.farm].feedBoostTime>0?(null===(p=this.feedBoostText)||void 0===p||p.setText(this.state.lang.feedBoostCounterText+a.shortTime(this.state["user"+this.state.farm].feedBoostTime,this.state.lang)),null===(f=this.feedBoostText)||void 0===f||f.setVisible(!0)):null===(m=this.feedBoostText)||void 0===m||m.setVisible(!1)}},t}(Phaser.Scene);t.default=U},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventTerritory=t.resizeWindowTop=t.resizeWindow=t.sheepTerritory=t.cowTerritory=t.chickenTerritory=t.systemWindow=void 0;var s=i(0),n=i(14),a=i(1777),r=i(1778),o=i(53),c=i(1779),h=i(1780),l=i(1781),d=i(1782),u=i(1783),p=i(1784),f=i(1785),m=i(1786),g=i(1787),y=i(1788),v=i(1789),w=i(1790),b=i(1791),x=i(1792),k=i(1793),T=i(1794),_=i(1795),S=i(1796),C=i(1797),P=i(1798),B=i(1799),A=i(1800),E=i(1801),M=i(1802),O=i(1803),I=i(1804),R=i(1805),D=i(1806),N=i(1807),F=i(1808),L=i(1809),Y=i(1810),U=i(1811),V=i(1812),W=i(1813),z=i(1),H=i(1814),X=i(1815),G=i(1816),j=i(1817);t.systemWindow=function(){var e,t,i,b,x,S,C,P,B,A,E,M,H=this;switch(this.header=this.add.image(this.cameras.main.centerX-1,this.cameras.main.centerY-Math.floor(0),"header-syst").setOrigin(.5,1).setDepth(1),this.close=this.add.sprite(620,this.header.getCenter().y,"close-window-btn").setOrigin(.5).setDepth(2),this.body=this.add.tileSprite(this.cameras.main.centerX,this.header.getBottomCenter().y-12,614,2,"mid-syst").setOrigin(.5,.5),this.bottom=this.add.image(this.cameras.main.centerX-1,this.body.getBottomCenter().y,"bottom-syst").setOrigin(.5,0),this.textHeader=this.add.text(this.cameras.main.centerX,this.header.getCenter().y-6,"",{font:"37px Shadow",fill:"#F9D48D"}).setDepth(1).setOrigin(.5),this.clickButton(this.close,(function(){if(H.state.boughtFeedBoost&&(n.default.create(H.game.scene.keys[H.state.farm+"Bars"],-250,H.state.lang.feedBoostNotification+" "+s.shortTime(H.state["user"+H.state.farm].feedBoostTime,H.state.lang),2),H.state.boughtFeedBoost=!1),H.state.boughtFactoryBoost&&(n.default.create(H.game.scene.keys[H.state.farm+"Bars"],-250,H.state.lang.factoryBoostNotification+" "+s.shortTime(H.state["user"+H.state.farm].factory.boostTime,H.state.lang),2),H.state.boughtFactoryBoost=!1),6===H.state.modal.sysType&&(H.state.animal.expel=!1),12!==H.state.modal.sysType&&13!==H.state.modal.sysType&&14!==H.state.modal.sysType&&15!==H.state.modal.sysType||(H.enterKey.destroy(),H.mainInput.remove(),void 0!==H.secondInput&&H.secondInput.remove()),16!==H.state.modal.sysType&&17!==H.state.modal.sysType&&(H.scene.stop(),H.game.scene.keys[H.state.farm].scrolling.wheel=!0),16===H.state.modal.sysType||17===H.state.modal.sysType){H.state.modal={type:13},H.scene.restart(H.state)}})),(2===(null===(e=this.state.modal)||void 0===e?void 0:e.sysType)&&20===(null===(t=this.state.userSheep)||void 0===t?void 0:t.tutorial)&&2===(null===(i=this.state.territory)||void 0===i?void 0:i.block)&&3===(null===(b=this.state.territory)||void 0===b?void 0:b.position)||2===(null===(x=this.state.modal)||void 0===x?void 0:x.sysType)&&30===(null===(S=this.state.userSheep)||void 0===S?void 0:S.tutorial)&&2===(null===(C=this.state.territory)||void 0===C?void 0:C.block)&&2===(null===(P=this.state.territory)||void 0===P?void 0:P.position)||2===(null===(B=this.state.modal)||void 0===B?void 0:B.sysType)&&80===(null===(A=this.state.userSheep)||void 0===A?void 0:A.tutorial)&&2===(null===(E=this.state.territory)||void 0===E?void 0:E.block)&&1===(null===(M=this.state.territory)||void 0===M?void 0:M.position))&&this.close.setVisible(!1),this.state.modal.sysType){case 1:"Sheep"===this.state.farm?new O.default(this):"Chicken"===this.state.farm?new I.default(this):"Cow"===this.state.farm&&new R.default(this);break;case 2:"Sheep"===this.state.farm?this.sheepTerritory():"Chicken"===this.state.farm?this.chickenTerritory():"Cow"===this.state.farm?this.cowTerritory():"Unicorn"===this.state.farm&&this.eventTerritory();break;case 3:new w.default(this);break;case 4:new v.default(this);break;case 5:"Unicorn"!==this.state.farm&&new r.default(this);break;case 6:new o.default(this);break;case 7:break;case 8:new c.default(this);break;case 9:new h.default(this);break;case 10:"Unicorn"!==this.state.farm?z.default.checkTestB(this.state)?new W.default(this):new l.default(this):new d.default(this);break;case 11:"Unicorn"!==this.state.farm&&(z.default.checkTestB(this.state)?new p.default(this):new u.default(this));break;case 12:new f.default(this);break;case 13:new m.default(this);break;case 14:new g.default(this);break;case 15:new y.default(this);break;case 16:new k.default(this);break;case 17:new a.default(this);break;case 18:new T.default(this);break;case 19:new _.default(this);break;case 20:new D.default(this);break;case 21:break;case 22:new N.default(this);break;case 23:new F.default(this);break;case 24:new L.default(this);break;case 25:new Y.default(this);break;case 26:new U.default(this);break;case 27:new V.default(this);break;case 28:new j.default(this);break;default:this.scene.stop(),this.game.scene.keys[this.state.farm].scrolling.wheel=!0}this.openModal(this.cameras.main)},t.chickenTerritory=function(){var e=this.state.territory.improve,t=e<this.state[this.state.farm.toLowerCase()+"Settings"]["territories"+this.state.farm+"Settings"].length;switch(z.default.checkTestB(this.state)&&(t=e<this.state[this.state.farm.toLowerCase()+"Settings"].partSettings.length),this.state.territory.territoryType){case 0:z.default.checkTestB(this.state)?new x.default(this):new b.default(this);break;case 1:z.default.checkTestB(this.state)?new C.default(this):new S.default(this);break;case 2:t?z.default.checkTestB(this.state)?new H.default(this):new P.default(this):z.default.checkTestB(this.state)?new p.default(this):new u.default(this);break;case 3:t?z.default.checkTestB(this.state)?new X.default(this):new B.default(this):z.default.checkTestB(this.state)?new p.default(this):new u.default(this);break;case 4:z.default.checkTestB(this.state)?new G.default(this):new A.default(this);break;case 5:z.default.checkTestB(this.state)?new M.default(this):new E.default(this);break;default:this.scene.stop(),this.game.scene.keys[this.state.farm].scrolling.wheel=!0}},t.cowTerritory=function(){var e=this.state.territory.improve,t=e<this.state[this.state.farm.toLowerCase()+"Settings"]["territories"+this.state.farm+"Settings"].length;switch(z.default.checkTestB(this.state)&&(t=e<this.state[this.state.farm.toLowerCase()+"Settings"].partSettings.length),this.state.territory.territoryType){case 0:z.default.checkTestB(this.state)?new x.default(this):new b.default(this);break;case 1:z.default.checkTestB(this.state)?new C.default(this):new S.default(this);break;case 2:t?z.default.checkTestB(this.state)?new H.default(this):new P.default(this):z.default.checkTestB(this.state)?new p.default(this):new u.default(this);break;case 3:t?z.default.checkTestB(this.state)?new X.default(this):new B.default(this):z.default.checkTestB(this.state)?new p.default(this):new u.default(this);break;case 4:z.default.checkTestB(this.state)?new G.default(this):new A.default(this);break;case 5:z.default.checkTestB(this.state)?new M.default(this):new E.default(this);break;case 8:this.cowFactory();break;default:this.scene.stop(),this.game.scene.keys[this.state.farm].scrolling.wheel=!0}},t.sheepTerritory=function(){var e=this.state.territory.improve,t=e<this.state[this.state.farm.toLowerCase()+"Settings"]["territories"+this.state.farm+"Settings"].length;switch(z.default.checkTestB(this.state)&&(t=e<this.state[this.state.farm.toLowerCase()+"Settings"].partSettings.length),this.state.territory.territoryType){case 0:z.default.checkTestB(this.state)?new x.default(this):new b.default(this);break;case 1:z.default.checkTestB(this.state)?new C.default(this):new S.default(this);break;case 2:t?z.default.checkTestB(this.state)?new H.default(this):new P.default(this):z.default.checkTestB(this.state)?new p.default(this):new u.default(this);break;case 3:t?z.default.checkTestB(this.state)?new X.default(this):new B.default(this):z.default.checkTestB(this.state)?new p.default(this):new u.default(this);break;case 4:z.default.checkTestB(this.state)?new G.default(this):new A.default(this);break;case 5:z.default.checkTestB(this.state)?new M.default(this):new E.default(this);break;default:this.scene.stop(),this.game.scene.keys[this.state.farm].scrolling.wheel=!0}},t.eventTerritory=function(){switch(this.state.territory.type){case 0:new b.default(this);break;default:this.scene.stop(),this.game.scene.keys[this.state.farm].scrolling.wheel=!0}},t.resizeWindow=function(e){this.header.setY(this.cameras.main.centerY-Math.floor(e/2)),this.close.setY(this.header.getCenter().y-6),this.body.height=e+2,this.bottom.setY(this.body.getBottomCenter().y),this.textHeader.setPosition(this.textHeader.x,this.header.getCenter().y-6)},t.resizeWindowTop=function(e){this.header.setY(this.header.y-e),this.textHeader.setY(this.header.getCenter().y-6),this.close.setY(this.header.getCenter().y-6),this.body.setY(this.body.y-e/2),this.body.height+=e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.state=e.state,this.startY=this.scene.cameras.main.centerY-280,this.factory=this.state.territory.factory,this.multiplyTime=1,this.state.userCow.factory.boostTime>0&&(this.multiplyTime=2),this.price=25,this.create(),this.setListeners()}return e.prototype.create=function(){this.scene.textHeader.setText(this.state.lang.showCase),this.create1Production(),this.create2Production(),this.create3Production(),this.createBoost(),this.scene.resizeWindow(720)},e.prototype.create1Production=function(){var e=this.factory.getPercent()[0];this.sprite1=this.scene.add.sprite(160,this.startY+50,"factory-production-1");var t=this.sprite1.getBounds();this.scene.add.text(this.scene.cameras.main.centerX,t.top,this.state.lang.production1,{font:"28px Bip",color:"#925C28",wordWrap:{width:300},align:"center"}).setOrigin(.5,1),this.probability1text=this.scene.add.text(t.right+30,t.centerY-15,this.state.lang.probabilityOfProduction+":",{font:"20px Bip",color:"#925C28",wordWrap:{width:400},align:"left"}).setOrigin(0,.5);var i=this.probability1text.getBounds();this.probability1count=this.scene.add.text(i.right+5,this.probability1text.y,e+"%",{font:"20px Bip",color:"#57A90E",wordWrap:{width:400},align:"left"}).setOrigin(0,.5),this.price1text=this.scene.add.text(t.right+30,t.centerY+15,""+this.state.lang.price,{font:"20px Bip",color:"#925C28",wordWrap:{width:400},align:"left"}).setOrigin(0,.5);var n=this.price1text.getBounds();this.scene.add.sprite(n.right,n.centerY,"cowCoin").setScale(.11).setOrigin(0,.5);this.price1count=this.scene.add.text(n.right+35,n.centerY,""+s.shortNum(this.state.userCow.factory.production1Multiply*this.factory.settings.lotSize),{font:"20px Bip",color:"#57A90E",wordWrap:{width:400},align:"left"}).setOrigin(0,.5)},e.prototype.create2Production=function(){var e=this.factory.getPercent()[1];this.scene.add.text(this.scene.cameras.main.centerX,this.startY+120,this.state.lang.production2,{font:"28px Bip",color:"#925C28",wordWrap:{width:400},align:"center"}).setOrigin(.5),this.sprite2=this.scene.add.sprite(160,this.startY+50+120,"factory-production-2");var t=this.sprite2.getBounds(),i=this.state.cowSettings.cowFactorySettings.find((function(e){return e.production2Percent>0})).improve;if(this.factory.improve>=i){this.probability2text=this.scene.add.text(t.right+30,t.centerY-15,this.state.lang.probabilityOfProduction+":",{font:"20px Bip",color:"#925C28",wordWrap:{width:400},align:"left"}).setOrigin(0,.5),this.probability2count=this.scene.add.text(this.probability2text.getBounds().right+5,this.probability2text.y,e+"%",{font:"20px Bip",color:"#57A90E",wordWrap:{width:400},align:"left"}).setOrigin(0,.5),this.price2text=this.scene.add.text(t.right+30,t.centerY+15,""+this.state.lang.price,{font:"20px Bip",color:"#925C28",wordWrap:{width:400},align:"left"}).setOrigin(0,.5);var n=this.price2text.getBounds();this.scene.add.sprite(n.right,n.centerY,"cowCoin").setScale(.11).setOrigin(0,.5);this.price2count=this.scene.add.text(n.right+35,n.centerY,""+s.shortNum(this.state.userCow.factory.production2Multiply*this.factory.settings.lotSize),{font:"20px Bip",color:"#57A90E",wordWrap:{width:400},align:"left"}).setOrigin(0,.5)}else{this.sprite2.setTint(7829367);var a=this.state.lang.openProductionOnLevel.replace("$1",String(i));this.scene.add.text(t.right+30,t.centerY,a,{font:"20px Bip",color:"#595959",wordWrap:{width:300},align:"left"}).setOrigin(0,.5)}},e.prototype.create3Production=function(){var e=this.factory.getPercent()[2];this.sprite3=this.scene.add.sprite(160,this.startY+50+240,"factory-production-3");var t=this.sprite3.getBounds();this.scene.add.text(this.scene.cameras.main.centerX,t.centerY-50,this.state.lang.production3,{font:"28px Bip",color:"#925C28",wordWrap:{width:400},align:"center"}).setOrigin(.5);var i=this.state.cowSettings.cowFactorySettings.find((function(e){return e.production3Percent>0})).improve;if(this.factory.improve>=i){this.probability3text=this.scene.add.text(t.right+30,t.centerY-15,this.state.lang.probabilityOfProduction+":",{font:"20px Bip",color:"#925C28",wordWrap:{width:400},align:"left"}).setOrigin(0,.5),this.probability3count=this.scene.add.text(this.probability2text.getBounds().right+5,this.probability3text.y,e+"%",{font:"20px Bip",color:"#57A90E",wordWrap:{width:400},align:"left"}).setOrigin(0,.5),this.price3text=this.scene.add.text(t.right+30,t.centerY+15,""+this.state.lang.price,{font:"20px Bip",color:"#925C28",wordWrap:{width:400},align:"left"}).setOrigin(0,.5);var n=this.price3text.getBounds();this.scene.add.sprite(n.right,n.centerY,"cowCoin").setScale(.11).setOrigin(0,.5);this.price3count=this.scene.add.text(n.right+35,this.price3text.y,""+s.shortNum(this.state.userCow.factory.production3Multiply*this.factory.settings.lotSize),{font:"20px Bip",color:"#57A90E",wordWrap:{width:400},align:"left"}).setOrigin(0,.5)}else{var a=this.state.lang.openProductionOnLevel.replace("$1",String(i));this.sprite3.setTint(7829367),this.scene.add.text(t.right+30,t.centerY,a,{font:"20px Bip",color:"#595959",wordWrap:{width:300},align:"left"}).setOrigin(0,.5)}},e.prototype.createBoost=function(){var e=this.factory.getPercent(),t=e[3]?e[3]:0,i=this.scene.add.tileSprite(this.scene.cameras.main.centerX,this.startY+360,400,5,"white-pixel").setTint(9591848);this.scene.add.text(this.scene.cameras.main.centerX,i.y+20,this.state.lang.production4,{font:"28px Bip",color:"#925C28",wordWrap:{width:400},align:"center"}).setOrigin(.5,0),this.progressBarBg=this.scene.add.sprite(this.scene.cameras.main.centerX,this.startY+550,"pb-chapter-modal").setVisible(!0),this.progressBar=this.scene.add.tileSprite(this.scene.cameras.main.centerX-this.progressBarBg.width/2+18,this.progressBarBg.y,442,16,"green-progress").setOrigin(0,.5).setVisible(!0),this.sprite4=this.scene.add.sprite(170,this.startY+470,"factory-production-4");var n=this.sprite4.getBounds();this.probability4text=this.scene.add.text(n.right+20,n.centerY-30,this.state.lang.probabilityOfProduction+":",{font:"20px Bip",color:"#925C28",wordWrap:{width:400},align:"left"}).setOrigin(0,.5).setVisible(!1),this.probability4count=this.scene.add.text(this.probability4text.getBounds().right+5,this.probability4text.y,t+"%",{font:"20px Bip",color:"#57A90E",wordWrap:{width:400},align:"left"}).setOrigin(0,.5).setVisible(!1),this.price4text=this.scene.add.text(n.right+17,n.centerY,""+this.state.lang.price,{font:"20px Bip",color:"#925C28",wordWrap:{width:400},align:"left"}).setOrigin(0,.5).setVisible(!0);var a=this.price4text.getBounds();this.coin4=this.scene.add.sprite(a.right,a.centerY,"cowCoin").setScale(.11).setOrigin(0,.5).setVisible(!0),this.price4count=this.scene.add.text(a.right+35,a.centerY,""+s.shortNum(this.state.userCow.factory.production4Multiply*this.factory.settings.lotSize),{font:"20px Bip",color:"#57A90E",wordWrap:{width:400},align:"left"}).setOrigin(0,.5).setVisible(!0);var r=this.state.lang.factoryBoostCounterText+s.shortTime(this.state.userCow.factory.boostTime,this.state.lang);this.factoryBoostTimer=this.scene.add.text(n.right+17,n.centerY+30,r,{font:"20px Bip",color:"#925C28"}).setOrigin(0,.5).setVisible(!1),this.boostText=this.scene.add.text(n.right+17,n.centerY-20,this.state.lang.showCaseText,{font:"20px Bip",color:"#925C28",wordWrap:{width:370},align:"left"}).setOrigin(0,.5).setVisible(!1);var o=this.state.lang.buyCocoaBeans.replace("$1",String(this.multiplyTime)),c={text:this.price,icon:"diamond"};this.buyBoostBtn=this.scene.bigButton("green","left",350,o,c)},e.prototype.setListeners=function(){var e=this;this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update,this),this.scene.clickModalBtn(this.buyBoostBtn,(function(){if(e.state.user.diamonds>=e.price)if(e.state.userCow.factory.boostTime<=0)e.state.user.diamonds-=e.price,e.state.userCow.factory.boostTime+=3600,e.scene.game.scene.keys[e.scene.state.farm].tryTask(15,0,e.price),e.state.boughtFactoryBoost=!0,e.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"booster_factory",count:e.price}),e.buyBoostBtn.title.setText(e.state.lang.buyCocoaBeans.replace("$1",String(2)));else if(e.state.userCow.factory.boostTime/3600+2>e.scene.game.scene.keys.Cow.factoryBoostStack){var t={type:1,sysType:3,height:150,message:e.state.lang.factoryBoostMaxTime};e.state.modal=t,e.scene.scene.restart(e.state)}else e.state.boughtFactoryBoost=!0,e.state.user.diamonds-=e.price,e.scene.game.scene.keys[e.scene.state.farm].tryTask(15,0,e.price),e.state.userCow.factory.boostTime+=7200,e.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"booster_factory",count:e.price});else{var i=e.price-e.state.user.diamonds;e.state.convertor={fun:0,count:i,diamonds:i,type:2};t={type:1,sysType:4};e.state.modal=t,e.scene.scene.restart(e.state)}}))},e.prototype.update=function(){var e,t,i,n,a,r,o,c,h,l,d,u,p,f,m,g,y,v,w,b,x,k,T,_,S,C,P,B,A,E,M,O,I,R,D,N,F,L;if(1===this.state.modal.type&&17===this.state.modal.sysType&&this.scene.scene.isActive("Modal")){var Y=this.factory.getPercent(),U=Y[0],V=Y[1],W=Y[2],z=Y[3]?Y[3]:0;if(this.state.userCow.factory.boostTime>0){var H=this.state.lang.factoryBoostCounterText+s.shortTime(this.state.userCow.factory.boostTime,this.state.lang);if((null===(e=this.factoryBoostTimer)||void 0===e?void 0:e.active)&&(null===(t=this.sprite4)||void 0===t?void 0:t.active)){if(this.factoryBoostTimer.text!==H&&this.factoryBoostTimer.setText(H),!(null===(i=this.factoryBoostTimer)||void 0===i?void 0:i.visible)||"factory-production-4"!==(null===(n=this.sprite4.texture)||void 0===n?void 0:n.key)){var X=null===(a=this.sprite4)||void 0===a?void 0:a.getBounds();null===(r=this.sprite4)||void 0===r||r.setTexture("factory-production-4"),null===(o=this.factoryBoostTimer)||void 0===o||o.setVisible(!0),null===(c=this.boostText)||void 0===c||c.setVisible(!1),null===(h=this.progressBar)||void 0===h||h.setVisible(!0),null===(l=this.probability4count)||void 0===l||l.setVisible(!0),null===(d=this.probability4text)||void 0===d||d.setVisible(!0),null===(u=this.price4text)||void 0===u||u.setY(X.centerY),null===(p=this.price4count)||void 0===p||p.setY(X.centerY),null===(f=this.coin4)||void 0===f||f.setY(X.centerY),null===(m=this.probability4count)||void 0===m||m.setText(z+"%")}var G=this.state.userCow.factory.boostTime/(3600*this.scene.game.scene.keys[this.state.farm].feedBoostStack)*442;this.progressBar.displayWidth!==G&&this.progressBar.setDisplaySize(G,16)}}else if((null===(g=this.factoryBoostTimer)||void 0===g?void 0:g.active)&&(null===(y=this.sprite4)||void 0===y?void 0:y.active)&&((null===(v=this.factoryBoostTimer)||void 0===v?void 0:v.visible)||"factory-cacao"!==(null===(w=this.sprite4)||void 0===w?void 0:w.texture.key))){X=null===(b=this.sprite4)||void 0===b?void 0:b.getBounds();null===(x=this.sprite4)||void 0===x||x.setTexture("factory-cacao"),null===(k=this.progressBar)||void 0===k||k.setVisible(!1),null===(T=this.factoryBoostTimer)||void 0===T||T.setVisible(!1),null===(_=this.boostText)||void 0===_||_.setVisible(!0),null===(S=this.probability4count)||void 0===S||S.setVisible(!1),null===(C=this.probability4text)||void 0===C||C.setVisible(!1),null===(P=this.price4text)||void 0===P||P.setY(X.centerY+25),null===(B=this.price4count)||void 0===B||B.setY(X.centerY+25),null===(A=this.coin4)||void 0===A||A.setY(X.centerY+25)}U>0&&(null===(E=this.probability1count)||void 0===E?void 0:E.active)&&(null===(M=this.probability1count)||void 0===M?void 0:M.text)!==U+"%"&&(null===(O=this.probability1count)||void 0===O||O.setText(U+"%")),V>0&&(null===(I=this.probability2count)||void 0===I?void 0:I.active)&&(null===(R=this.probability2count)||void 0===R?void 0:R.text)!==V+"%"&&(null===(D=this.probability2count)||void 0===D||D.setText(V+"%")),W>0&&(null===(N=this.probability3count)||void 0===N?void 0:N.active)&&(null===(F=this.probability3count)||void 0===F?void 0:F.text)!==W+"%"&&(null===(L=this.probability3count)||void 0===L||L.setText(W+"%"))}},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang.exchangeTerritory),this.scene.resizeWindow(250),this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-60,this.scene.state.lang.sureExchange,{font:"26px Bip",color:"#925C28",align:"center",wordWrap:{width:440}}).setOrigin(.5,.5);var t=this.scene.bigButton("yellow","center",120,this.scene.state.lang.cancel);if(this.scene.clickModalBtn(t,(function(){e.closeWindow(!1)})),2===this.scene.state.exchangeTerritory){var i=this.scene.bigButton("green","center",40,this.scene.state.lang.exchangeGrass);this.scene.clickModalBtn(i,(function(){e.closeWindow()}))}else if(3===this.scene.state.exchangeTerritory){var s=this.scene.bigButton("blue","center",40,this.scene.state.lang.exchangeWater);this.scene.clickModalBtn(s,(function(){e.closeWindow()}))}else if(5===this.scene.state.exchangeTerritory){var n=this.scene.bigButton("orange","center",40,this.scene.state.lang.exchangeRepository);this.scene.clickModalBtn(n,(function(){e.closeWindow()}))}},e.prototype.closeWindow=function(e){void 0===e&&(e=!0),this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,e&&this.scene.state.territory.exchangeTerritory()},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){this.scene.cameras.main.setBackgroundColor("rgba(0, 0, 0, 0)"),this.scene.close.setVisible(!1),this.scene.textHeader.setText(this.scene.state.lang.message),this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+20,this.scene.state.lang.stopSession,{font:"26px Bip",color:"#925C28",align:"center",wordWrap:{width:400}}).setOrigin(.5,.5),this.scene.resizeWindow(120)},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.farm=this.scene.state.farm},e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang["summon"+this.farm]);var t=this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-145,this.farm.toLowerCase()+"0");"Chicken"===this.farm?t.anims.play("chicken-drag0",!0):t.anims.play(this.farm.toLowerCase()+"-stay-right0",!0),"Sheep"===this.farm&&this.scene.add.sprite(t.x,t.y,"sheep-right-0-4");var i=s.timer(this.scene.state["user"+this.farm].diamondAnimalTime);this.caveTimer=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-55,this.scene.state.lang.summonTime+i,{font:"26px Bip",color:"#57A90E",align:"center",wordWrap:{width:420}}).setOrigin(.5,0),this.scene.add.text(this.scene.cameras.main.centerX-length,this.scene.cameras.main.centerY+15,this.scene.state.lang.wantAdSummon,{font:"26px Bip",color:"#925C28",align:"center",wordWrap:{width:420}}).setOrigin(.5,0);var n=this.scene.bigButton("green","left",135,this.scene.state.lang.summon,{icon:"ad-icon",text:""});this.scene.clickModalBtn(n,(function(){e.adButtonHandler()}));var a=this.scene.bigButton("yellow","center",225,this.scene.state.lang.cancel);this.scene.clickModalBtn(a,(function(){e.closeWindow()})),this.scene.resizeWindow(450),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update,this)},e.prototype.closeWindow=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.farm].scrolling.wheel=!0},e.prototype.adButtonHandler=function(){this.scene.state["user"+this.farm].diamondAnimalAd=!1,this.scene.game.scene.keys[this.farm].ads.watchAd(2),this.closeWindow()},e.prototype.update=function(){var e=s.timer(this.scene.state["user"+this.farm].diamondAnimalTime),t=this.scene.state.lang.summonTime+e;this.caveTimer.active&&this.caveTimer.text!==t&&this.caveTimer.setText(t)},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(12),a=i(1),r={fontFamily:"Bip",fontSize:"30px",color:"#925C28"},o={fontFamily:"Bip",fontSize:"30px",color:"#57A90E"},c=function(){function e(e){this.scene=e,this.updateCollectorSettings(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e="Sheep"===this.scene.state.farm?"wool":"Chicken"===this.scene.state.farm?"egg":"Cow"===this.scene.state.farm?"milk":"";this.scene.textHeader.setText(this.scene.state.lang[e+"Collector"]+" "+this.scene.state["user"+this.scene.state.farm].collectorLevel+" "+this.scene.state.lang.shortLevel+".");var t=this.scene.state.lang.speed+": "+this.currentLevel.speed+" "+this.scene.state.lang["unit"+this.scene.state.farm]+"/"+this.scene.state.lang.seconds;this.speed=this.scene.add.text(125,this.scene.cameras.main.centerY-80,t,r);var i=this.scene.state.lang.duration+": "+this.currentLevel.time+" "+this.scene.state.lang.minutes;if(this.duration=this.scene.add.text(125,this.scene.cameras.main.centerY-25,i,r),this.nextLevel.time>this.currentLevel.time){var s={x:this.duration.getBounds().right+10,y:this.duration.y},n="+"+(this.nextLevel.time-this.currentLevel.time)+" "+this.scene.state.lang.shortMinutes;this.nextLevelText=this.scene.add.text(s.x,s.y,n,{font:"30px Bip",color:"#57A90E"})}else if(this.nextLevel.speed>this.currentLevel.speed){s={x:this.speed.getBounds().right+10,y:this.speed.y},n="+"+(this.nextLevel.speed-this.currentLevel.speed).toFixed(1);this.nextLevelText=this.scene.add.text(s.x,s.y,n,o)}this.createBtn(),this.scene.resizeWindow(250),"improved"===this.scene.state.modal.message&&this.scene.game.scene.keys.Modal.improveCollectorAnim({x:this.scene.cameras.main.centerX,y:this.scene.cameras.main.centerY+10})},e.prototype.updateCollectorSettings=function(){var e=this.scene.state[this.scene.state.farm.toLowerCase()+"CollectorSettings"],t=this.scene.state["user"+this.scene.state.farm];this.currentLevel=e.find((function(e){return e.level===t.collectorLevel})),this.nextLevel=e.find((function(e){return e.level===t.collectorLevel+1}))},e.prototype.updateImproveCollector=function(){var e,t,i;this.updateCollectorSettings();var s="Sheep"===this.scene.state.farm?"wool":"Chicken"===this.scene.state.farm?"egg":"Cow"===this.scene.state.farm?"milk":"",n=this.scene.state["user"+this.scene.state.farm],a=this.scene.state.lang[s+"Collector"]+" "+n.collectorLevel+" "+this.scene.state.lang.shortLevel+".";this.scene.textHeader.setText(a);var r=this.scene.state.lang.speed+": "+this.currentLevel.speed+" "+this.scene.state.lang["unit"+this.scene.state.farm]+"/"+this.scene.state.lang.seconds;this.speed.setText(r);var o,c,h=this.scene.state.lang.duration+": "+this.currentLevel.time+" "+this.scene.state.lang.minutes;this.duration.setText(h),(null===(e=this.nextLevel)||void 0===e?void 0:e.time)>this.currentLevel.time?(o={x:this.duration.getBounds().right+10,y:this.duration.y},c="+"+(this.nextLevel.time-this.currentLevel.time)+" "+this.scene.state.lang.shortMinutes):(null===(t=this.nextLevel)||void 0===t?void 0:t.speed)>this.currentLevel.speed&&(o={x:this.speed.getBounds().right+10,y:this.speed.y},c="+"+(this.nextLevel.speed-this.currentLevel.speed).toFixed(1)+" "+this.scene.state.lang.seconds),null===(i=this.nextLevelText)||void 0===i||i.setPosition(null==o?void 0:o.x,null==o?void 0:o.y).setText(c),this.createBtn()},e.prototype.createBtn=function(){var e,t,i,r=this,o={icon:this.nextLevel.diamonds?"diamond":this.scene.state.farm.toLowerCase()+"Coin",text:s.shortNum(this.nextLevel.price)},c={color:"green",textAlign:"left",text:this.scene.state.lang.improve,right1:o},h=function(){null==i||i.destroy(),r.scene.game.scene.keys[r.scene.state.farm].improveCollector(),r.updateImproveCollector()};if(a.default.checkSale(this.scene.state,this.scene.state.farm.toUpperCase()+"_COLLECTOR_IMPROVE")&&(c.right1.sale=s.shortNum(Math.floor(this.nextLevel.price/2))),this.scene.state["user"+this.scene.state.farm].part<(null===(e=this.nextLevel)||void 0===e?void 0:e.chapter)){var l={icon:"lock",text:this.scene.state.lang.shortPart+" "+(null===(t=this.nextLevel)||void 0===t?void 0:t.chapter)};c.color="grey",c.right1=l,h=null}i=new n.default(this.scene,90,h,c)},e}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang.resourceCollector+" "+this.scene.state.userUnicorn.collectorLevel+" "+this.scene.state.lang.shortLevel+".").setDisplaySize(this.scene.header.width-160,this.scene.textHeader.height);var t,i=this.scene.state.unicornCollectorSettings.find((function(t){return t.level===e.scene.state.userUnicorn.collectorLevel})),s=this.scene.state.unicornCollectorSettings.find((function(t){return t.level===e.scene.state.userUnicorn.collectorLevel+1})),n=this.scene.state.lang.speed+": "+i.speed+" "+this.scene.state.lang.unitEvent+"/"+this.scene.state.lang.seconds,a=this.scene.add.text(125,this.scene.cameras.main.centerY-80,n,{font:"30px Bip",color:"#925C28"}),r=this.scene.state.lang.duration+": "+i.time+" "+this.scene.state.lang.minutes,o=this.scene.add.text(125,this.scene.cameras.main.centerY-25,r,{font:"30px Bip",color:"#925C28"});if(s.time>i.time){var c={x:o.getBounds().right+10,y:o.y},h="(+"+(s.time-i.time)+" "+this.scene.state.lang.shortMinutes+")";t=this.scene.add.text(c.x,c.y,h,{font:"30px Bip",color:"#57A90E"})}else if(s.speed>i.speed){c={x:a.getBounds().right+10,y:a.y},h="(+"+(s.speed-i.speed).toFixed(1)+" "+this.scene.state.lang.seconds+")";t=this.scene.add.text(c.x,c.y,h,{font:"30px Bip",color:"#57A90E"})}if(this.scene.state.userUnicorn.points>=s.chapter){var l={icon:s.diamonds?"diamond":"unicornCoin",text:String(s.price)},d=this.scene.bigButton("green","left",90,this.scene.state.lang.improve,l);this.scene.clickModalBtn(d,(function(){e.scene.game.scene.keys[e.scene.state.farm].improveCollector(),e.updateImproveCollectorEvent(d,a,o,t)}))}else{var u={icon:"lock",text:this.scene.state.lang.shortLevel+" "+s.chapter};this.scene.bigButton("grey","left",90,this.scene.state.lang.improve,u)}this.scene.resizeWindow(250)},e.prototype.updateImproveCollectorEvent=function(e,t,i,s){var n=this;this.scene.textHeader.setText(this.scene.state.lang.resourceCollector+" "+this.scene.state.userUnicorn.collectorLevel+" "+this.scene.state.lang.shortLevel+".");var a=this.scene.state.unicornCollectorSettings.find((function(e){return e.level===n.scene.state.userUnicorn.collectorLevel})),r=this.scene.state.unicornCollectorSettings.find((function(e){return e.level===n.scene.state.userUnicorn.collectorLevel+1})),o=this.scene.state.lang.speed+": "+a.speed+" "+this.scene.state.lang.unitEvent+"/"+this.scene.state.lang.seconds;t.setText(o);var c,h,l=this.scene.state.lang.duration+": "+a.time+" "+this.scene.state.lang.minutes;if(i.setText(l),(null==r?void 0:r.time)>a.time?(c={x:i.getBounds().right+10,y:i.y},h="(+"+(r.time-a.time)+" "+this.scene.state.lang.shortMinutes+")"):(null==r?void 0:r.speed)>a.speed&&(c={x:t.getBounds().right+10,y:t.y},h="(+"+(r.speed-a.speed).toFixed(1)+" "+this.scene.state.lang.seconds+")"),null==s||s.setPosition(null==c?void 0:c.x,null==c?void 0:c.y).setText(h),this.scene.state.userUnicorn.points>=(null==r?void 0:r.chapter)){var d={icon:(null==r?void 0:r.diamonds)?"diamond":"unicornCoin",text:String(null==r?void 0:r.price)};e.text1.setText(d.text),e.img1.setTexture(d.icon),e.img1.setX(570-e.text1.displayWidth)}else{e.btn.destroy(),e.img1.destroy(),e.text1.destroy(),e.title.destroy();var u={icon:"lock",text:this.scene.state.lang.shortLevel+". "+(null==r?void 0:r.chapter)};this.scene.bigButton("grey","left",90,this.scene.state.lang.improve,u)}},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(1),a=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.type=5===this.scene.state.territory.territoryType?"repository":2===this.scene.state.territory.territoryType?"pasture":"water"},e.prototype.create=function(){var e=this,t=this.scene.state.farm.toLowerCase(),i=this.scene.state.lang[this.type].replace("$1",this.scene.state.territory.improve);this.scene.textHeader.setText(i);var a=this.scene.state[t+"Settings"]["territories"+this.scene.state.farm+"Settings"].find((function(e){return 2===e.improve})).improvePastureMoneyPrice,r={icon:t+"Coin",text:s.shortNum(a)},o=this.scene.state.lang["exchange"+n.default.ucFirst(this.type)+"Title"].replace("$1",this.scene.state.territory.improve);if(this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-110,o,{font:"26px Bip",color:"#925C28",align:"center",wordWrap:{width:450}}).setOrigin(.5,.5),5===this.scene.state.territory.territoryType){var c=this.scene.bigButton("green","left",-10,this.scene.state.lang.exchangeGrass,r);this.scene.clickModalBtn(c,(function(){e.exchangeTerritory(2)}));var h=this.scene.bigButton("blue","left",70,this.scene.state.lang.exchangeWater,r);this.scene.clickModalBtn(h,(function(){e.exchangeTerritory(3)}));var l=this.scene.bigButton("red","center",150,this.scene.state.lang.cancel);this.scene.clickModalBtn(l,(function(){e.close()}))}else if(2===this.scene.state.territory.territoryType){c=this.scene.bigButton("blue","left",-10,this.scene.state.lang.exchangeWater,r);this.scene.clickModalBtn(c,(function(){e.exchangeTerritory(3)}));h=this.scene.bigButton("orange","left",70,this.scene.state.lang.exchangeRepository,r);this.scene.clickModalBtn(h,(function(){e.exchangeTerritory(5)}));l=this.scene.bigButton("red","center",150,this.scene.state.lang.cancel);this.scene.clickModalBtn(l,(function(){e.close()}))}else{c=this.scene.bigButton("green","left",-10,this.scene.state.lang.exchangeGrass,r);this.scene.clickModalBtn(c,(function(){e.exchangeTerritory(2)}));h=this.scene.bigButton("orange","left",70,this.scene.state.lang.exchangeRepository,r);this.scene.clickModalBtn(h,(function(){e.exchangeTerritory(5)}));l=this.scene.bigButton("red","center",150,this.scene.state.lang.cancel);this.scene.clickModalBtn(l,(function(){e.close()}))}this.scene.resizeWindow(310)},e.prototype.exchangeTerritory=function(e){if(e)this.scene.game.scene.keys[this.scene.state.farm].confirmExchangeTerritory(e);else{this.scene.state.modal={type:1,sysType:2},this.scene.scene.launch("Modal",this.scene.state)}},e.prototype.close=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(1),a=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.type=5===this.scene.state.territory.territoryType?"repository":2===this.scene.state.territory.territoryType?"pasture":"water"},e.prototype.create=function(){var e=this,t=this.scene.state.farm.toLowerCase(),i=this.scene.state.lang[this.type].replace("$1",this.scene.state.territory.improve);this.scene.textHeader.setText(i);var a=this.scene.state["user"+this.scene.state.farm],r=this.scene.state[t+"Settings"].partSettings[a.part-1].territory,o={icon:t+"Coin",text:s.shortNum(Math.round(r.improveTerritoryPrice/100*30))},c={icon:"diamond",text:s.shortNum(r.improveRepositoryPrice)},h=this.scene.state.lang["exchange"+n.default.ucFirst(this.type)+"Title"].replace("$1",this.scene.state.territory.improve);if(this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-110,h,{font:"26px Bip",color:"#925C28",align:"center",wordWrap:{width:450}}).setOrigin(.5,.5),5===this.scene.state.territory.territoryType){var l=this.scene.bigButton("green","left",-10,this.scene.state.lang.exchangeGrass,o);this.scene.clickModalBtn(l,(function(){e.exchangeTerritory(2)}));var d=this.scene.bigButton("blue","left",70,this.scene.state.lang.exchangeWater,o);this.scene.clickModalBtn(d,(function(){e.exchangeTerritory(3)}));var u=this.scene.bigButton("red","center",150,this.scene.state.lang.cancel);this.scene.clickModalBtn(u,(function(){e.close()}))}else if(2===this.scene.state.territory.territoryType){l=this.scene.bigButton("blue","left",-10,this.scene.state.lang.exchangeWater,o);this.scene.clickModalBtn(l,(function(){e.exchangeTerritory(3)}));d=this.scene.bigButton("orange","left",70,this.scene.state.lang.exchangeRepository,c);this.scene.clickModalBtn(d,(function(){e.exchangeTerritory(5)}));u=this.scene.bigButton("red","center",150,this.scene.state.lang.cancel);this.scene.clickModalBtn(u,(function(){e.close()}))}else{l=this.scene.bigButton("green","left",-10,this.scene.state.lang.exchangeGrass,o);this.scene.clickModalBtn(l,(function(){e.exchangeTerritory(2)}));d=this.scene.bigButton("orange","left",70,this.scene.state.lang.exchangeRepository,c);this.scene.clickModalBtn(d,(function(){e.exchangeTerritory(5)}));u=this.scene.bigButton("red","center",150,this.scene.state.lang.cancel);this.scene.clickModalBtn(u,(function(){e.close()}))}this.scene.resizeWindow(310)},e.prototype.exchangeTerritory=function(e){if(e)this.scene.game.scene.keys[this.scene.state.farm].confirmExchangeTerritory(e);else{this.scene.state.modal={type:1,sysType:2},this.scene.scene.launch("Modal",this.scene.state)}},e.prototype.close=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(5),a=i(14),r=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.nicknameError=!1,this.change=!1},e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang.nickname),this.enterNickname=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-70,this.scene.state.lang.enterNickname,{font:"28px Shadow",color:"#974f00"}).setOrigin(.5,.5).setDepth(3);var t=document.querySelector("#root");this.scene.mainInput=document.createElement("input"),t.append(this.scene.mainInput),this.scene.mainInput.setAttribute("id","nickname"),this.scene.mainInput.setAttribute("autocomplete","off");var i,s=!0,n=[],a=window.innerHeight,r=window.innerHeight,o=this.scene.add.text(this.scene.cameras.main.centerX-220,this.scene.cameras.main.centerY+35,this.scene.mainInput.value,{font:"24px Bip",color:"#974f00"}).setOrigin(0,.5).setDepth(3).setCrop(0,0,434,100),c=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,710,1200).setDropZone(void 0,(function(){})).setInteractive(),h=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+36,460,70).setDropZone(void 0,(function(){})).setInteractive(),l=this.scene.add.graphics({x:this.scene.cameras.main.centerX-230,y:this.scene.cameras.main.centerY}).setDepth(2).fillStyle(16777215,1).fillRoundedRect(0,0,460,70,16),d=this.scene.bigButton("green","center",130,this.scene.state.lang.changeNickname);this.result=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-90,"",{font:"19px Shadow",color:"#FF0000",align:"center",wordWrap:{width:520}}).setOrigin(.5,.5).setDepth(4).setAlpha(0),i=this.scene.cameras.main.height/100*30,n.push(this.scene.header,this.scene.body,this.scene.bottom,this.scene.close,this.scene.textHeader,this.enterNickname,o,h,l,d.btn,d.title,this.result),window.onresize=function(){a=window.innerHeight,r!==a&&s?(t.scrollIntoView(!1),n.forEach((function(e){return e.setY(e.y+i)})),e.scene.mainInput.style.top="80%",e.scene.mainInput.style.bottom="14%",s=!1):r!==a||s||(n.forEach((function(e){return e.setY(e.y-i)})),e.scene.mainInput.style.top="50%",e.scene.mainInput.style.bottom="44%",s=!0)},h.on("pointerdown",(function(){e.scene.mainInput.style.display="block",e.scene.mainInput.focus()})),c.on("pointerdown",(function(){e.scene.mainInput.style.display="none",e.scene.mainInput.blur(),o.setText(e.scene.mainInput.value).setDepth(4).setCrop(0,0,434,100)})),this.scene.clickModalBtn(d,(function(){e.changeNickname()})),this.scene.enterKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER),this.scene.enterKey.on("down",(function(){e.changeNickname()})),this.scene.resizeWindow(270)},e.prototype.changeNickname=function(){var e=this;if(!this.change){var t=!0;t=/^[a-zA-Z0-9]+$/.test(this.scene.mainInput.value),this.scene.mainInput.value.length<6&&(t=!1),t?(this.change=!0,s.default.post("https://ferma.games:4000/newNickname",{id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,login:this.scene.mainInput.value}).then((function(t){if(t.data.error)window.location.reload();else if(e.change=!1,t.data.success){e.scene.state.user.login=e.scene.mainInput.value,("web"===e.scene.state.platform||"gd"===e.scene.state.platform||"android"===e.scene.state.platform)&&n.default.set("hash",t.data.hash),e.scene.state.user.hash=t.data.hash,e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.enterKey.destroy(),e.scene.mainInput.remove(),e.scene.scene.stop();var i=e.scene.state.lang.newNickname+": "+e.scene.state.user.login;a.default.create(e.scene.game.scene.keys[e.scene.state.farm+"Bars"],-250,i,3)}else e.nicknameError||e.enterNickname.setY(e.enterNickname.y+34),e.nicknameError=!0,e.result.setText(e.scene.state.lang.haveAccaunt).setAlpha(1)}))):(this.nicknameError||this.enterNickname.setY(this.enterNickname.y+34),this.nicknameError=!0,this.result.setText(this.scene.state.lang.validNickname).setAlpha(1))}},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(0),a=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.send=!1,this.emailError=!1,this.reMail=/^[\w-.]+@[\w-]+\.[a-z]{2,4}$/i},e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang.yourMail),this.enterEmail=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-70,this.scene.state.lang.enterYourEmail,{font:"28px Shadow",color:"#974f00"}).setOrigin(.5,.5).setDepth(3);var t=document.querySelector("#root");this.scene.mainInput=document.createElement("input"),t.append(this.scene.mainInput),this.scene.mainInput.setAttribute("id","nickname"),this.scene.mainInput.setAttribute("autocomplete","off");var i=!0,s=this.scene.cameras.main.height/100*30,n=[],a=window.innerHeight,r=window.innerHeight,o=this.scene.add.text(this.scene.cameras.main.centerX-220,this.scene.cameras.main.centerY+35,this.scene.mainInput.value,{font:"24px Bip",color:"#974f00"}).setOrigin(0,.5).setDepth(3).setCrop(0,0,434,100),c=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,710,1200).setDropZone(void 0,(function(){})).setInteractive(),h=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+36,460,70).setDropZone(void 0,(function(){})).setInteractive(),l=this.scene.add.graphics({x:this.scene.cameras.main.centerX-230,y:this.scene.cameras.main.centerY}).setDepth(2).fillStyle(16777215,1).fillRoundedRect(0,0,460,70,16),d=this.scene.bigButton("green","center",130,this.scene.state.lang.sendEmail);this.result=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-90,"",{font:"19px Shadow",color:"#FF0000",align:"center",wordWrap:{width:520}}).setOrigin(.5,.5).setDepth(4).setAlpha(0),n.push(this.scene.header,this.scene.body,this.scene.bottom,this.scene.close,this.scene.textHeader,this.enterEmail,o,h,l,d.btn,d.title,this.result),window.onresize=function(){a=window.innerHeight,r!==a&&i?(t.scrollIntoView(!1),n.forEach((function(e){return e.setY(e.y+s)})),e.scene.mainInput.style.top="80%",e.scene.mainInput.style.bottom="14%",i=!1):r!==a||i||(n.forEach((function(e){return e.setY(e.y-s)})),e.scene.mainInput.style.top="50%",e.scene.mainInput.style.bottom="44%",i=!0)},h.on("pointerdown",(function(){e.scene.mainInput.style.display="block",e.scene.mainInput.focus()})),c.on("pointerdown",(function(){e.scene.mainInput.style.display="none",e.scene.mainInput.blur(),o.setText(e.scene.mainInput.value).setDepth(4).setCrop(0,0,434,100)})),this.scene.clickModalBtn(d,(function(){e.sendEmail()})),this.scene.enterKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER),this.scene.enterKey.on("down",(function(){e.sendEmail()})),this.scene.resizeWindow(270)},e.prototype.sendEmail=function(){var e=this;this.send||(this.reMail.test(this.scene.mainInput.value)?(this.send=!0,s.default.post("https://ferma.games:4000/sendEmail",{id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,mail:this.scene.mainInput.value}).then((function(t){t.data.error?n.logout():(e.send=!1,e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.enterKey.destroy(),e.scene.mainInput.remove(),e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].tryTask(16,1))}))):(this.emailError||this.enterEmail.setY(this.enterEmail.y+34),this.emailError=!0,this.result.setText(this.scene.state.lang.emailError).setAlpha(1)))},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.send=!1,this.sendError=!1,this.reMail=/^[\w-.]+@[\w-]+\.[a-z]{2,4}$/i,this.isInputTouched=!1,this.isTextareaTouched=!1},e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang.help),this.description=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-216,this.scene.state.lang.needHelp,{font:"24px Bip",color:"#974f00",align:"center",wordWrap:{width:400}}).setOrigin(.5,.5).setDepth(3);var t=document.querySelector("#root");this.scene.mainInput=document.createElement("input"),this.scene.secondInput=document.createElement("textarea"),t.append(this.scene.mainInput),t.append(this.scene.secondInput),this.scene.mainInput.setAttribute("id","sup-email"),this.scene.mainInput.setAttribute("autocomplete","off"),this.scene.secondInput.setAttribute("id","sup-msg"),this.scene.secondInput.setAttribute("autocomplete","off");var i=!0,s=this.scene.cameras.main.height/100*15,n=[],a=window.innerHeight,r=window.innerHeight,o=this.scene.add.text(this.scene.cameras.main.centerX-220,this.scene.cameras.main.centerY-101,this.scene.state.lang.yourMail,{font:"24px Bip",color:"#974f00"}).setOrigin(0,.5).setDepth(4).setCrop(0,0,434,100),c=this.scene.add.text(this.scene.cameras.main.centerX-220,this.scene.cameras.main.centerY-42,this.scene.state.lang.yourMessage,{font:"25px Bip",color:"#974f00",align:"left",wordWrap:{width:444}}).setOrigin(0,0).setDepth(4).setCrop(0,0,445,254),h=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,710,1200).setDropZone(void 0,(function(){})).setInteractive(),l=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-101,460,70).setDropZone(void 0,(function(){})).setInteractive(),d=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+84,460,260).setDropZone(void 0,(function(){})).setInteractive(),u=this.scene.add.graphics({x:this.scene.cameras.main.centerX-230,y:this.scene.cameras.main.centerY-137}).setDepth(2).fillStyle(16777215,1).fillRoundedRect(0,0,460,70,16),p=this.scene.add.graphics({x:this.scene.cameras.main.centerX-230,y:this.scene.cameras.main.centerY-46}).setDepth(2).fillStyle(16777215,1).fillRoundedRect(0,0,460,260,16),f=this.scene.bigButton("green","center",130,this.scene.state.lang.send);f.btn.y=this.scene.cameras.main.centerY+280,f.title.y=this.scene.cameras.main.centerY+274,this.result=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-166,"",{font:"21px Shadow",color:"#FF0000",align:"center",wordWrap:{width:520}}).setOrigin(.5,.5).setDepth(4).setAlpha(0),n.push(this.scene.header,this.scene.body,this.scene.bottom,this.scene.close,this.scene.textHeader,this.description,o,c,l,d,u,p,f.btn,f.title,this.result),window.onresize=function(){a=window.innerHeight,r!==a&&i?(t.scrollIntoView(!1),n.forEach((function(e){return e.setY(e.y+s)})),e.scene.mainInput.style.top="53.5%",e.scene.mainInput.style.bottom="40.5%",e.scene.secondInput.style.top="61%",e.scene.secondInput.style.bottom="17%",i=!1):r!==a||i||(n.forEach((function(e){return e.setY(e.y-s)})),e.scene.mainInput.style.top="38.5%",e.scene.mainInput.style.bottom="55.5%",e.scene.secondInput.style.top="46%",e.scene.secondInput.style.bottom="32%",i=!0)},l.on("pointerdown",(function(){e.scene.secondInput.style.display="none",e.scene.mainInput.style.display="block",e.scene.secondInput.blur(),e.scene.mainInput.focus(),c.setText(e.scene.secondInput.value).setDepth(4).setCrop(0,0,445,254),""===e.scene.secondInput.value&&c.setText(e.scene.state.lang.yourMessage).setDepth(4).setCrop(0,0,434,100),e.isInputTouched||(e.isInputTouched=!0),e.validate("textarea")})),d.on("pointerdown",(function(){e.scene.mainInput.style.display="none",e.scene.secondInput.style.display="block",e.scene.mainInput.blur(),e.scene.secondInput.focus(),o.setText(e.scene.mainInput.value).setDepth(4).setCrop(0,0,434,100),""===e.scene.mainInput.value&&o.setText(e.scene.state.lang.yourMail).setDepth(4).setCrop(0,0,434,100),e.isTextareaTouched||(e.isTextareaTouched=!0),e.validate("input")})),h.on("pointerdown",(function(){e.scene.mainInput.style.display="none",e.scene.secondInput.style.display="none",e.scene.mainInput.blur(),e.scene.secondInput.blur(),o.setText(e.scene.mainInput.value).setDepth(4).setCrop(0,0,434,100),c.setText(e.scene.secondInput.value).setDepth(4).setCrop(0,0,445,254),""===e.scene.mainInput.value&&o.setText(e.scene.state.lang.yourMail).setDepth(4).setCrop(0,0,434,100),""===e.scene.secondInput.value&&c.setText(e.scene.state.lang.yourMessage).setDepth(4).setCrop(0,0,434,100),e.validate()})),this.scene.clickModalBtn(f,(function(){e.scene.mainInput.blur(),e.scene.secondInput.blur(),e.sendToSupport()})),this.scene.enterKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER),this.scene.enterKey.on("down",(function(){e.scene.mainInput.blur(),e.scene.secondInput.blur(),e.sendToSupport()})),this.scene.resizeWindow(580)},e.prototype.validate=function(e){void 0===e&&(e="all"),"all"!==e&&"input"!==e||this.sendError&&this.reMail.test(this.scene.mainInput.value)&&this.isInputTouched&&this.result.text===this.scene.state.lang.emailError&&(this.description.setY(this.description.y+24),this.result.setAlpha(0),this.sendError=!1),"all"!==e&&"textarea"!==e||this.sendError&&""!==this.scene.secondInput.value&&this.isTextareaTouched&&this.result.text===this.scene.state.lang.messageError&&(this.description.setY(this.description.y+24),this.result.setAlpha(0),this.sendError=!1)},e.prototype.sendToSupport=function(){var e=this;this.send||(this.reMail.test(this.scene.mainInput.value)?""!==this.scene.secondInput.value?(this.send=!0,s.default.post("https://ferma.games:4000/sendToSupport",{id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,mail:this.scene.mainInput.value,message:this.scene.secondInput.value,platform:this.scene.state.platform}).then((function(t){t.data.error?window.location.reload():(e.scene.game.scene.keys[e.scene.state.farm].messageIsSent(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.enterKey.destroy(),e.scene.secondInput.remove(),e.scene.mainInput.remove(),e.scene.scene.stop())}))):(this.sendError||this.description.setY(this.description.y-24),this.sendError=!0,this.result.setText(this.scene.state.lang.messageError).setAlpha(1)):(this.sendError||this.description.setY(this.description.y-24),this.sendError=!0,this.result.setText(this.scene.state.lang.emailError).setAlpha(1)))},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(5),a=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.errorType="",this.extraHeight=50,this.reg=!1,this.lastLogin="",this.re=/^[a-zA-Z0-9]+$/,this.isLoginTouched=!1,this.isPassTouched=!1},e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang.saving);var t=document.querySelector("#root");this.scene.mainInput=document.createElement("input"),this.scene.secondInput=document.createElement("input"),t.append(this.scene.mainInput),t.append(this.scene.secondInput),this.scene.mainInput.setAttribute("id","reg-login"),this.scene.mainInput.setAttribute("autocomplete","off"),this.scene.secondInput.setAttribute("id","reg-pass"),this.scene.secondInput.setAttribute("autocomplete","off"),this.scene.secondInput.setAttribute("type","password");var i=!0,s=this.scene.cameras.main.height/100*22,a=[],r=window.innerHeight,o=window.innerHeight,c=this.scene.add.text(this.scene.cameras.main.centerX-220,this.scene.cameras.main.centerY-113,this.scene.state.lang.loginSixSymbols,{font:"24px Bip",color:"#974f00"}).setOrigin(0,.5).setDepth(4).setCrop(0,0,434,100),h=this.scene.add.text(this.scene.cameras.main.centerX-220,this.scene.cameras.main.centerY-18,this.scene.state.lang.passSixSymbols,{font:"24px Bip",color:"#974f00"}).setOrigin(0,.5).setDepth(4).setCrop(0,0,434,100),l=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,710,1200).setDropZone(void 0,(function(){})).setInteractive(),d=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-113,460,70).setDropZone(void 0,(function(){})).setInteractive(),u=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-18,460,70).setDropZone(void 0,(function(){})).setInteractive(),p=this.scene.add.graphics({x:this.scene.cameras.main.centerX-230,y:this.scene.cameras.main.centerY-149}).setDepth(2).fillStyle(16777215,1).fillRoundedRect(0,0,460,70,16),f=this.scene.add.graphics({x:this.scene.cameras.main.centerX-230,y:this.scene.cameras.main.centerY-53}).setDepth(2).fillStyle(16777215,1).fillRoundedRect(0,0,460,70,16),m=this.scene.bigButton("green","center",130,this.scene.state.lang.save);m.btn.y=this.scene.cameras.main.centerY+80,m.title.y=this.scene.cameras.main.centerY+74;var g=this.scene.state.lang.profileExit.replace("\n"," "),y=this.scene.bigButton("red","center",130,g);y.btn.y=this.scene.cameras.main.centerY+166,y.title.y=this.scene.cameras.main.centerY+160,this.result=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-180,"",{font:"19px Shadow",color:"#FF0000",align:"center",wordWrap:{width:500}}).setOrigin(.5,1).setDepth(4).setAlpha(0),a.push(this.scene.header,this.scene.body,this.scene.bottom,this.scene.close,this.scene.textHeader,c,h,d,u,p,f,m.btn,m.title,y.btn,y.title,this.result),window.onresize=function(){r=window.innerHeight,o!==r&&i?(t.scrollIntoView(!1),a.forEach((function(e){return e.setY(e.y+s)})),e.scene.mainInput.style.top="59.5%",e.scene.mainInput.style.bottom="34.5%",e.scene.secondInput.style.top="67.5%",e.scene.secondInput.style.bottom="26.5%",i=!1):o!==r||i||(a.forEach((function(e){return e.setY(e.y-s)})),e.scene.mainInput.style.top="37.5%",e.scene.mainInput.style.bottom="56.5%",e.scene.secondInput.style.top="45.5%",e.scene.secondInput.style.bottom="48.5%",i=!0)},d.on("pointerdown",(function(){e.scene.secondInput.style.display="none",e.scene.mainInput.style.display="block",e.scene.mainInput.focus(),""===e.scene.secondInput.value?h.setText(e.scene.state.lang.passSixSymbols).setDepth(4).setCrop(0,0,434,100):h.setText(e.hidePass()).setDepth(4).setCrop(0,0,434,100),e.isLoginTouched||(e.isLoginTouched=!0),e.validate()})),u.on("pointerdown",(function(){e.scene.mainInput.style.display="none",e.scene.secondInput.style.display="block",e.scene.secondInput.focus(),""===e.scene.mainInput.value?c.setText(e.scene.state.lang.loginSixSymbols).setDepth(4).setCrop(0,0,434,100):c.setText(e.scene.mainInput.value).setDepth(4).setCrop(0,0,434,100),e.isPassTouched||(e.isPassTouched=!0),e.validate()})),l.on("pointerdown",(function(){e.scene.mainInput.style.display="none",e.scene.secondInput.style.display="none",e.scene.mainInput.blur(),e.scene.secondInput.blur(),""===e.scene.mainInput.value?c.setText(e.scene.state.lang.loginSixSymbols).setDepth(4).setCrop(0,0,434,100):c.setText(e.scene.mainInput.value).setDepth(4).setCrop(0,0,434,100),""===e.scene.secondInput.value?h.setText(e.scene.state.lang.passSixSymbols).setDepth(4).setCrop(0,0,434,100):h.setText(e.hidePass()).setDepth(4).setCrop(0,0,434,100),e.validate()})),this.scene.clickModalBtn(m,(function(){e.scene.mainInput.blur(),e.scene.secondInput.blur(),e.registration()})),this.scene.enterKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER),this.scene.enterKey.on("down",(function(){e.scene.mainInput.blur(),e.scene.secondInput.blur(),e.registration()})),this.scene.clickModalBtn(y,(function(){n.default.set("hash",""),n.default.set("farm",""),window.location.reload()})),this.scene.resizeWindow(360)},e.prototype.hidePass=function(){for(var e="",t=0;t<this.scene.secondInput.value.length;)e+="*",t++;return e},e.prototype.validate=function(){("validLoginPass"===this.errorType&&this.re.test(this.scene.mainInput.value)&&this.re.test(this.scene.secondInput.value)&&this.scene.mainInput.value.length>=6&&this.scene.secondInput.value.length>=6&&this.isLoginTouched&&this.isPassTouched||"haveAccaunt"===this.errorType&&this.lastLogin!==this.scene.mainInput.value)&&(this.scene.resizeWindowTop(-(this.extraHeight+20)),this.result.setAlpha(0),this.errorType="")},e.prototype.registration=function(){var e=this;if(!this.reg){var t=!0,i=!0;t=this.re.test(this.scene.mainInput.value),i=this.re.test(this.scene.secondInput.value),this.scene.mainInput.value.length<6&&(t=!1),this.scene.secondInput.value.length<6&&(i=!1),t&&i?(this.reg=!0,s.default.post("https://ferma.games:4000/registration",{id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,login:this.scene.mainInput.value,pass:this.scene.secondInput.value}).then((function(t){t.data.error?window.location.reload():(e.reg=!1,t.data.success?(e.scene.game.scene.keys[e.scene.state.farm].partTasks().find((function(e){return 10===e.type}))&&(e.scene.game.scene.keys[e.scene.state.farm].takeRewardRegistration=!0,e.scene.game.scene.keys[e.scene.state.farm].tryTask(10,1)),e.scene.state.user.login=e.scene.mainInput.value,n.default.set("hash",t.data.hash),e.scene.state.user.hash=t.data.hash,e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.enterKey.destroy(),e.scene.secondInput.remove(),e.scene.mainInput.remove(),e.scene.scene.stop()):(e.lastLogin=e.scene.mainInput.value,e.result.setText(e.scene.state.lang.haveAccaunt).setAlpha(1),e.setExtraHeight(),e.errorType="haveAccaunt"))}))):(this.result.setText(this.scene.state.lang.validLoginPass).setAlpha(1),this.setExtraHeight(),this.errorType="validLoginPass")}},e.prototype.setExtraHeight=function(){""===this.errorType?(this.extraHeight=this.result.getBounds().height,this.scene.resizeWindowTop(this.extraHeight+20)):"haveAccaunt"!==this.errorType&&"validLoginPass"!==this.errorType||(this.scene.resizeWindowTop(-(this.extraHeight+20)),this.extraHeight=this.result.getBounds().height,this.scene.resizeWindowTop(this.extraHeight+20))},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(14),a=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){this.scene.textHeader.setText(this.scene.state.lang.exchange),1===this.scene.state.convertor.type?this.typeOneConverter():2===this.scene.state.convertor.type&&this.typeTwoConverter()},e.prototype.typeOneConverter=function(){var e=this;this.scene.resizeWindow(300);var t=s.shortNum(this.scene.state.convertor.count),i=10*String(t).length+15;this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-140,this.scene.state.lang.rememberSellWool,{font:"26px Bip",color:"#57A90E",align:"center",wordWrap:{width:440}}).setOrigin(.5,0);var n=this.scene.add.text(this.scene.cameras.main.centerX-i,this.scene.cameras.main.centerY-10,this.scene.state.lang.notEnoughForYou,{font:"26px Bip",color:"#925C28"}).setOrigin(.5,.5).getBounds();if(this.scene.add.text(n.right+50,this.scene.cameras.main.centerY-10,t,{font:"26px Bip",color:"#925C28",align:"center"}).setOrigin(0,.5),this.scene.add.sprite(n.right+5,this.scene.cameras.main.centerY-10,this.scene.state.farm.toLowerCase()+"Coin").setOrigin(0,.5).setScale(.15),1===this.scene.state.convertor.diamonds&&this.scene.state.readyAd){var a=this.scene.bigButton("green","left",60,this.scene.state.lang.addCoins,{icon:"ad-icon",text:""});this.scene.clickModalBtn(a,(function(){e.watchAdAndClose()}))}else{var r=this.scene.bigButton("green","center",60,this.scene.state.lang.goExchanger);this.scene.clickModalBtn(r,(function(){e.openModal()}))}var o=this.scene.bigButton("yellow","center",140,this.scene.state.lang.cancel);this.scene.clickModalBtn(o,(function(){e.closeWindow()}))},e.prototype.typeTwoConverter=function(){var e=this;this.scene.resizeWindow(280);var t=s.shortNum(this.scene.state.convertor.count),i=10*String(t).length+15,n=this.scene.add.text(this.scene.cameras.main.centerX-i,this.scene.cameras.main.centerY-55,this.scene.state.lang.notEnoughForYou,{font:"26px Bip",color:"#925C28"}).setOrigin(.5,.5).getBounds();this.scene.add.text(n.right+50,this.scene.cameras.main.centerY-55,t,{font:"26px Bip",color:"#925C28",align:"center"}).setOrigin(0,.5),this.scene.add.sprite(n.right+5,this.scene.cameras.main.centerY-55,"diamond").setOrigin(0,.5).setScale(.15);var a=this.scene.bigButton("green","center",40,this.scene.state.lang.buy);this.scene.clickModalBtn(a,(function(){e.showBankAndClose()}));var r=this.scene.bigButton("yellow","center",120,this.scene.state.lang.cancel);this.scene.clickModalBtn(r,(function(){e.closeWindow()}))},e.prototype.closeWindow=function(){this.scene.state.boughtFeedBoost&&(n.default.create(this.scene.game.scene.keys[this.scene.state.farm+"Bars"],-250,this.scene.state.lang.feedBoostNotification+" "+s.shortTime(this.scene.state["user"+this.scene.state.farm].feedBoostTime,this.scene.state.lang),2),this.scene.state.boughtFeedBoost=!1),this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e.prototype.watchAdAndClose=function(){this.scene.game.scene.keys[this.scene.state.farm].ads.watchAd(1),this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e.prototype.showBankAndClose=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.game.scene.keys[this.scene.state.farm].showBank()},e.prototype.openModal=function(){this.scene.state.modal={type:2,shopType:2},this.scene.scene.stop(),this.scene.scene.start("Modal",this.scene.state)},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.scene=e,this.scene.state.modal.height=this.scene.state.modal.height||150,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){this.scene.textHeader.setText(this.scene.state.lang.message),this.scene.resizeWindow(this.scene.state.modal.height),this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+20,this.scene.state.modal.message,{font:"26px Bip",color:"#925C28",align:"center",wordWrap:{width:400}}).setOrigin(.5,.5)},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e,t=this;this.height=130;var i=this.scene.state.farm;this.scene.textHeader.setText(this.scene.state.lang.buyTerritory);var n=this.scene.state[i.toLowerCase()+"Settings"]["territories"+i+"Price"].find((function(e){return e.block===t.scene.state.territory.block&&e.position===t.scene.state.territory.position}));if(this.scene.state["user"+i].part>=n.unlock||(null===(e=this.scene.state.userUnicorn)||void 0===e?void 0:e.points)>=n.unlock){var a=void 0;a="Unicorn"===i?n.price:Math.round(n.price/100*70);var r={icon:i.toLowerCase()+"Coin",text:s.shortNum(a)},o=this.scene.bigButton("yellow","left",20,this.scene.state.lang.buyTerritory,r);this.scene.clickModalBtn(o,(function(){t.buyTerritoryAndClose()}))}else"Unicorn"===i?this.unicornFarmBtns(n):this.customFarmBtn(n);this.scene.resizeWindow(this.height)},e.prototype.customFarmBtn=function(e){var t={icon:"lock",text:this.scene.state.lang.shortPart+" "+e.unlock};this.scene.bigButton("grey","left",20,this.scene.state.lang.buyTerritory,t)},e.prototype.unicornFarmBtns=function(e){var t=this,i={icon:"diamond",text:e.diamond},s=this.scene.bigButton("yellow","left",-15,this.scene.state.lang.buyTerritory,i);this.scene.clickModalBtn(s,(function(){t.buyTerritoryAndClose()}));var n={icon:"lock",text:this.scene.state.lang.shortLevel+". "+e.unlock};this.scene.bigButton("grey","left",65,this.scene.state.lang.buyTerritory,n),this.height=150},e.prototype.buyTerritoryAndClose=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,"Unicorn"!==this.scene.state.farm?this.scene.state.territory.buyTerritory():this.scene.game.scene.keys.Unicorn.buyTerritory()},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this;this.height=130,this.scene.textHeader.setText(this.scene.state.lang.buyTerritory);var t=this.scene.state.farm.toLowerCase(),i=this.scene.state["user"+this.scene.state.farm],n=this.scene.state[t+"Settings"]["territories"+this.scene.state.farm+"Price"].find((function(t){return t.block===e.scene.state.territory.block&&t.position===e.scene.state.territory.position}));if(i.part>=n.unlock){var a=this.scene.state[t+"Settings"].partSettings[i.part-1].territory,r=Math.round(a.improveTerritoryPrice/100*70);"Cow"===this.scene.state.farm&&2===i.part&&(r=0);var o={icon:t.toLowerCase()+"Coin",text:s.shortNum(r)},c=this.scene.bigButton("yellow","left",20,this.scene.state.lang.buyTerritory,o);this.scene.clickModalBtn(c,(function(){e.buyTerritoryAndClose()}))}else{o={icon:"lock",text:this.scene.state.lang.shortPart+" "+n.unlock};this.scene.bigButton("grey","left",20,this.scene.state.lang.buyTerritory,o)}this.scene.resizeWindow(this.height)},e.prototype.buyTerritoryAndClose=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.state.territory.buyTerritory()},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(12),a=i(1),r=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.headerStyle={fontSize:"26px",fontFamily:"Shadow",color:"#925C28",wordWrap:{width:350},align:"center"},this.basicStyle={fontSize:"24px",fontFamily:"Bip",color:"#925C28"},this.improveStyle={fontSize:"24px",fontFamily:"Bip",color:"#57A90E"}},e.prototype.create=function(){var e=this,t=this.scene.state.lang.factory.replace("$1",this.scene.state.territory.factory.improve);this.scene.textHeader.setText(t),this.thisLevel=this.scene.state.territory.factory.settings,this.nextLevel=this.scene.state.cowSettings.cowFactorySettings.find((function(t){return t.improve===e.scene.state.territory.factory.improve+1}));for(var i=0,n=2;n<4;n++)if(this.thisLevel["production"+n+"Percent"]<=0&&this.nextLevel["production"+n+"Percent"]>0){i=n;break}i>0&&this.newProductNameText(i);var a=i>0?0:20,r=""+this.scene.state.lang.nextFactory.replace("$1",String(this.nextLevel.improve)),o=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-110,r,this.headerStyle).setOrigin(.5),c=this.scene.state.lang.lotSize+": "+s.shortNum(this.thisLevel.lotSize)+" "+this.scene.state.lang.litres;this.lot=this.scene.add.text(125,this.scene.cameras.main.centerY-60+a,c,this.basicStyle);var h=this.thisLevel.processingTime/60<1?this.thisLevel.processingTime+" "+this.scene.state.lang.seconds:s.shortNum(this.thisLevel.processingTime/60)+" "+this.scene.state.lang.minutes,l=this.scene.state.lang.processingTime+": "+h;this.duration=this.scene.add.text(125,this.scene.cameras.main.centerY-20+a,l,this.basicStyle);var d=this.scene.state.lang.efficiency+": "+this.thisLevel.efficiency+"%";this.efficiency=this.scene.add.text(125,this.scene.cameras.main.centerY+20+a,d,this.basicStyle),this.nextLevel.processingTime>this.thisLevel.processingTime&&this.nextLevelProcessingTimeText(),this.nextLevel.lotSize>this.thisLevel.lotSize&&this.nextLevelLotSizeText(),this.nextLevel.efficiency>this.thisLevel.efficiency&&this.nextLevelEfficiencyText(),this.improveBtn(i),i>0?this.scene.resizeWindow(320):(o.setY(o.y+=20),this.scene.resizeWindow(280))},e.prototype.newProductNameText=function(e){var t=""+this.scene.state.lang["production"+e],i=this.scene.add.text(125,this.scene.cameras.main.centerY+60,this.scene.state.lang.newProduct+":",this.basicStyle);this.scene.add.text(i.getBounds().right+10,this.scene.cameras.main.centerY+60,t,this.improveStyle)},e.prototype.nextLevelProcessingTimeText=function(){var e={x:this.duration.getBounds().right+10,y:this.duration.y},t="(+"+((this.nextLevel.processingTime-this.thisLevel.processingTime)/60<1?this.nextLevel.processingTime-this.thisLevel.processingTime+" "+this.scene.state.lang.seconds:s.shortNum(Math.ceil((this.nextLevel.processingTime-this.thisLevel.processingTime)/60))+" "+this.scene.state.lang.minutes)+")";this.scene.add.text(e.x,e.y,t,this.improveStyle)},e.prototype.nextLevelLotSizeText=function(){var e={x:this.lot.getBounds().right+10,y:this.lot.y},t="(+"+s.shortNum(this.nextLevel.lotSize-this.thisLevel.lotSize)+" "+this.scene.state.lang.litres+")";this.scene.add.text(e.x,e.y,t,this.improveStyle)},e.prototype.nextLevelEfficiencyText=function(){var e={x:this.efficiency.getBounds().right+10,y:this.efficiency.y},t="(+"+s.shortNum(this.nextLevel.efficiency-this.thisLevel.efficiency)+"%)";this.scene.add.text(e.x,e.y,t,this.improveStyle)},e.prototype.improveBtn=function(e){var t=this,i=e>0?150:130,r=function(){t.scene.state.territory.improveFactory()},o={color:"green",right1:{icon:"cowCoin",text:s.shortNum(this.nextLevel.improveMoneyPrice)},text:this.scene.state.lang.improve,textAlign:"left"},c=a.default.checkSale(this.scene.state,"COW_FACTORY_IMPROVE");if(c&&(o.right1.sale=s.shortNum(Math.floor(this.nextLevel.improveMoneyPrice/2))),this.nextLevel.improveDiamondPrice&&(o.right1.icon="diamond",o.right1.text=String(this.nextLevel.improveDiamondPrice),o.right1.sale=null,c&&(o.right1.sale=s.shortNum(Math.floor(this.nextLevel.improveDiamondPrice/2)))),this.scene.state["user"+this.scene.state.farm].part<this.nextLevel.unlock_improve){var h={icon:"lock",text:this.scene.state.lang.shortPart+" "+this.nextLevel.unlock_improve};o.color="grey",o.right1=h,r=null}new n.default(this.scene,i,r,o)},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=this.scene.state.lang.repository.replace("$1",this.scene.state.territory.improve);this.scene.textHeader.setText(t),this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-70,this.scene.state.lang.confirmSellMilk,{font:"26px Bip",color:"#925C28",wordWrap:{width:450},align:"center"}).setOrigin(.5);var i={icon:"cowCoin",text:s.shortNum(this.scene.state.territory.volume*this.scene.game.scene.keys[this.scene.state.farm].milkMultiply)};this.scene.progressButton=this.scene.bigButton("red","left",50,this.scene.state.lang.sellMilk,i);var n=this.scene.bigButton("green","center",140,this.scene.state.lang.dontSellMilk);this.scene.clickModalBtn(this.scene.progressButton,(function(){e.confirmSellMilk()})),this.scene.clickModalBtn(n,(function(){e.cancelSellMilk()})),this.scene.resizeWindow(300)},e.prototype.confirmSellMilk=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.game.scene.keys[this.scene.state.farm].sellMilk()},e.prototype.cancelSellMilk=function(){this.scene.state.modal={type:1,sysType:2},this.scene.scene.restart(this.scene.state)},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=0===this.scene.state.territory.territoryType?this.scene.state.lang.speedUpForest:this.scene.state.lang.boughtLand;this.scene.textHeader.setText(t);var i=this.scene.state.territory.cooldownSprite.price,n=0===this.scene.state.territory.territoryType?this.scene.state.lang.confirmBuyCooldownForest:this.scene.state.lang.confirmBuyCooldownBuild;this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-70,n,{font:"26px Bip",color:"#925C28",wordWrap:{width:450},align:"center"}).setOrigin(.5);var a={icon:"diamond",text:s.shortNum(i)},r=0===this.scene.state.territory.territoryType?this.scene.state.lang.speedUpForest:this.scene.state.lang.speedUpBuild;this.scene.progressButton=this.scene.bigButton("green","left",20,r,a);var o=this.scene.bigButton("red","center",110,this.scene.state.lang.cancel);this.scene.clickModalBtn(this.scene.progressButton,(function(){e.closeWindow(),e.scene.state.user.diamonds>=i?e.confirmBuy(i):e.openConvertor(i)})),this.scene.clickModalBtn(o,(function(){e.closeWindow()})),this.scene.resizeWindow(250)},e.prototype.confirmBuy=function(e){this.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"cooldown",count:e}),this.scene.state.user.diamonds-=e,this.scene.state.territory.cooldown=0,this.scene.game.scene.keys[this.scene.state.farm].tryTask(15,0,e)},e.prototype.openConvertor=function(e){this.scene.state.convertor={fun:0,count:e,diamonds:e,type:1},this.scene.game.scene.keys[this.scene.state.farm].exchange(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e.prototype.closeWindow=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang.boughtLand);var t=this.scene.state.farm,i=120;this.price=this.scene.state[t.toLowerCase()+"Settings"]["territories"+t+"Price"].find((function(t){return t.block===e.scene.state.territory.block&&t.position===e.scene.state.territory.position})).price,this.price=Math.round(this.price/100*30);var n={icon:t.toLowerCase()+"Coin",text:s.shortNum(this.price)};if("Sheep"===t&&this.scene.state.userSheep.tutorial<100){if(20===this.scene.state.userSheep.tutorial&&2===this.scene.state.territory.block&&3===this.scene.state.territory.position){var a=this.scene.bigButton("green","left",30,this.scene.state.lang.sowPasture,n);this.scene.clickModalBtn(a,(function(){e.setTerritory(2)}))}else if(30===this.scene.state.userSheep.tutorial&&2===this.scene.state.territory.block&&2===this.scene.state.territory.position){a=this.scene.bigButton("blue","left",30,this.scene.state.lang.installWater,n);this.scene.clickModalBtn(a,(function(){e.setTerritory(3)}))}else if(80===this.scene.state.userSheep.tutorial&&2===this.scene.state.territory.block&&1===this.scene.state.territory.position){a=this.scene.bigButton("orange","left",30,this.scene.state.lang.buildRepository,n);this.scene.clickModalBtn(a,(function(){e.setTerritory(5)}))}}else if("Cow"===t)if(3===this.scene.state.territory.block&&1===this.scene.state.territory.position&&1===this.scene.state.territory.territoryType){a=this.scene.bigButton("orange","left",30,this.scene.state.lang.buildFactory,n);this.scene.clickModalBtn(a,(function(){e.setTerritory(8)})),i=100}else if(2===this.scene.state.territory.block&&1===this.scene.state.territory.position&&1===this.scene.state.territory.territoryType){a=this.scene.bigButton("orange","left",30,this.scene.state.lang.buildRepository,n);this.scene.clickModalBtn(a,(function(){e.setTerritory(5)})),i=100}else{var r=this.scene.bigButton("green","left",-60,this.scene.state.lang.sowPasture,n);this.scene.clickModalBtn(r,(function(){e.setTerritory(2)}));var o=this.scene.bigButton("blue","left",30,this.scene.state.lang.installWater,n);this.scene.clickModalBtn(o,(function(){e.setTerritory(3)}));var c=this.scene.bigButton("orange","left",120,this.scene.state.lang.buildRepository,n);this.scene.clickModalBtn(c,(function(){e.setTerritory(5)})),i=270}else{r=this.scene.bigButton("green","left",-60,this.scene.state.lang.sowPasture,n);this.scene.clickModalBtn(r,(function(){e.setTerritory(2)}));o=this.scene.bigButton("blue","left",30,this.scene.state.lang.installWater,n);this.scene.clickModalBtn(o,(function(){e.setTerritory(3)}));c=this.scene.bigButton("orange","left",120,this.scene.state.lang.buildRepository,n);this.scene.clickModalBtn(c,(function(){e.setTerritory(5)})),i=270}this.scene.resizeWindow(i)},e.prototype.setTerritory=function(e){if(this.scene.state["user"+this.scene.state.farm].money>=this.price)this.scene.state["user"+this.scene.state.farm].money-=this.price,this.scene.state.territory.bougthType=e,this.scene.state.territory.setTerritoryUnlockCooldown(e),this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0;else{var t=this.price-this.scene.state["user"+this.scene.state.farm].money,i=this.scene.game.scene.keys[this.scene.state.farm].convertMoney(t);this.scene.state.convertor={fun:5,count:t,diamonds:i,type:1};this.scene.state.modal={type:1,sysType:4},this.scene.scene.restart(this.scene.state)}},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(12),a=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){this.height=120,this.scene.textHeader.setText(this.scene.state.lang.boughtLand);var e=this.scene.state.farm,t=this.scene.state["user"+e],i=this.scene.state[e.toLowerCase()+"Settings"].partSettings[t.part-1].territory,n={icon:e.toLowerCase()+"Coin",text:s.shortNum(Math.round(i.improveTerritoryPrice/100*30))},a={icon:"diamond",text:s.shortNum(i.improveRepositoryPrice)};"Sheep"===e&&this.scene.state.userSheep.tutorial<100?(n.text="0",a.text="0",this.createSheepWindow(n,a)):"Cow"===e?this.createCowWindow(n,a):this.createWindow(n,a),this.scene.resizeWindow(this.height)},e.prototype.createWindow=function(e,t){var i=this;new n.default(this.scene,-60,(function(){i.setTerritory(2)}),{color:"green",text:this.scene.state.lang.sowPasture,textAlign:"left",right1:e}),new n.default(this.scene,30,(function(){i.setTerritory(3)}),{color:"blue",text:this.scene.state.lang.installWater,textAlign:"left",right1:e}),new n.default(this.scene,120,(function(){i.setTerritory(5)}),{color:"orange",text:this.scene.state.lang.buildRepository,textAlign:"left",right1:t}),this.height=270},e.prototype.createSheepWindow=function(e,t){var i=this;if(20===this.scene.state.userSheep.tutorial&&2===this.scene.state.territory.block&&3===this.scene.state.territory.position){var s=this.scene.bigButton("green","left",30,this.scene.state.lang.sowPasture,e);this.scene.clickModalBtn(s,(function(){i.setTerritory(2)}))}else if(30===this.scene.state.userSheep.tutorial&&2===this.scene.state.territory.block&&2===this.scene.state.territory.position){s=this.scene.bigButton("blue","left",30,this.scene.state.lang.installWater,e);this.scene.clickModalBtn(s,(function(){i.setTerritory(3)}))}else if(80===this.scene.state.userSheep.tutorial&&2===this.scene.state.territory.block&&1===this.scene.state.territory.position){s=this.scene.bigButton("orange","left",30,this.scene.state.lang.buildRepository,t);this.scene.clickModalBtn(s,(function(){i.setTerritory(5)}))}},e.prototype.createCowWindow=function(e,t){var i=this;if(3===this.scene.state.territory.block&&1===this.scene.state.territory.position&&1===this.scene.state.territory.territoryType){e.text="0";var s=this.scene.bigButton("orange","left",30,this.scene.state.lang.buildFactory,e);this.scene.clickModalBtn(s,(function(){i.setTerritory(8)})),this.height=100}else if(2===this.scene.state.territory.block&&1===this.scene.state.territory.position&&1===this.scene.state.territory.territoryType){s=this.scene.bigButton("orange","left",30,this.scene.state.lang.buildRepository,t);this.scene.clickModalBtn(s,(function(){i.setTerritory(5)})),this.height=100}else{var n=this.scene.bigButton("green","left",-60,this.scene.state.lang.sowPasture,e);this.scene.clickModalBtn(n,(function(){i.setTerritory(2)}));var a=this.scene.bigButton("blue","left",30,this.scene.state.lang.installWater,e);this.scene.clickModalBtn(a,(function(){i.setTerritory(3)}));var r=this.scene.bigButton("orange","left",120,this.scene.state.lang.buildRepository,t);this.scene.clickModalBtn(r,(function(){i.setTerritory(5)})),this.height=270}},e.prototype.setTerritory=function(e){var t=this.scene.state["user"+this.scene.state.farm],i=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"].partSettings[t.part-1].territory;if(5===e){var s=i.improveRepositoryPrice,n=this.scene.state.user;if("Sheep"===this.scene.state.farm&&t.tutorial<100&&(s=0),s<=n.diamonds)n.diamonds-=s,this.scene.state.territory.bougthType=e,this.scene.state.territory.setTerritoryUnlockCooldown(e),this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0;else{var a=s-n.diamonds;this.scene.state.convertor={fun:0,count:a,diamonds:a,type:2};var r={type:1,sysType:4};this.scene.state.modal=r,this.scene.scene.restart(this.scene.state)}}else{s=Math.round(i.improveTerritoryPrice/100*30);if(("Sheep"===this.scene.state.farm&&t.tutorial<100||8===e)&&(s=0),t.money>=s)t.money-=s,this.scene.state.territory.bougthType=e,this.scene.state.territory.setTerritoryUnlockCooldown(e),this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0;else{a=s-t.money;var o=this.scene.game.scene.keys[this.scene.state.farm].convertMoney(a);this.scene.state.convertor={fun:0,count:a,diamonds:o,type:1};r={type:1,sysType:4};this.scene.state.modal=r,this.scene.scene.restart(this.scene.state)}}},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=this.scene.state.farm,i=this.scene.state.lang.pasture.replace("$1",this.scene.state.territory.improve);this.scene.textHeader.setText(i);var n=this.scene.state[t.toLowerCase()+"Settings"]["territories"+t+"Settings"],a=this.scene.state.territory.improve+1;a>n.length&&(a=n.length);var r=n.find((function(e){return e.improve===a}));if(this.scene.state["user"+t].part>=r.unlock_improve){var o;r.improvePastureMoneyPrice?o={icon:t.toLowerCase()+"Coin",text:s.shortNum(r.improvePastureMoneyPrice)}:r.improvePastureDiamondPrice&&(o={icon:"diamond",text:s.shortNum(r.improvePastureDiamondPrice)});var c=this.scene.state.lang.improveToLevel.replace("$1",this.scene.state.territory.improve+1),h=this.scene.bigButton("green","left",-30,c,o);this.scene.clickModalBtn(h,(function(){e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.state.territory.improveTerritory()}))}else{var l={icon:"lock",text:this.scene.state.lang.shortPart+" "+r.unlock_improve};c=this.scene.state.lang.improveToLevel.replace("$1",this.scene.state.territory.improve+1);this.scene.bigButton("grey","left",-30,c,l)}var d=this.scene.bigButton("red","center",60,this.scene.state.lang.exchangePastureBtn);this.scene.clickModalBtn(d,(function(){e.exchangeTerritory()})),this.scene.resizeWindow(190)},e.prototype.exchangeTerritory=function(){this.scene.state.modal={type:1,sysType:11},this.scene.scene.restart(this.scene.state)},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=this.scene.state.farm,i=this.scene.state.lang.water.replace("$1",this.scene.state.territory.improve);this.scene.textHeader.setText(i);var n=this.scene.state[t.toLowerCase()+"Settings"]["territories"+t+"Settings"],a=this.scene.state.territory.improve+1;a>n.length&&(a=n.length);var r=n.find((function(e){return e.improve===a}));if(this.scene.state["user"+t].part>=r.unlock_improve){var o;r.improvePastureMoneyPrice?o={icon:this.scene.state.farm.toLowerCase()+"Coin",text:s.shortNum(r.improvePastureMoneyPrice)}:r.improvePastureDiamondPrice&&(o={icon:"diamond",text:s.shortNum(r.improvePastureDiamondPrice)});var c=this.scene.state.lang.improveToLevel.replace("$1",this.scene.state.territory.improve+1),h=this.scene.bigButton("blue","left",-30,c,o);this.scene.clickModalBtn(h,(function(){e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.state.territory.improveTerritory()}))}else{var l={icon:"lock",text:this.scene.state.lang.shortPart+" "+r.unlock_improve};c=this.scene.state.lang.improveToLevel.replace("$1",this.scene.state.territory.improve+1);this.scene.bigButton("grey","left",-30,c,l)}var d=this.scene.bigButton("red","center",60,this.scene.state.lang.exchangeWaterBtn);this.scene.clickModalBtn(d,(function(){e.exchangeTerritory()})),this.scene.resizeWindow(190)},e.prototype.exchangeTerritory=function(){this.scene.state.modal={type:1,sysType:11},this.scene.scene.restart(this.scene.state)},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=220,i=this.scene.state.farm,n=this.scene.state.lang.fair.replace("$1",String(this.scene.state["user"+i].fair));this.scene.textHeader.setText(n);var a=this.scene.state[i.toLocaleLowerCase()+"Settings"][i.toLocaleLowerCase()+"FairLevels"].find((function(t){return t.level===e.scene.state["user"+i].fair+1}));if(void 0!==a&&this.scene.state["user"+i].fair<this.scene.state[i.toLocaleLowerCase()+"Settings"][i.toLocaleLowerCase()+"FairLevels"].length){this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-80,this.scene.state.lang["improve"+i+"Fair"],{font:"26px Shadow",fill:"#925C28",align:"center",wordWrap:{width:400}}).setDepth(1).setOrigin(.5,0);var r=s.shortNum(a.price_m),o=s.shortNum(a.price_d),c=this.scene.state.lang.improveFair.replace("$1",String(this.scene.state["user"+i].fair+1));if(this.scene.state["user"+i].part>=a.part_unlock)if(a.price_m>0&&a.price_d>0){var h={icon:i.toLowerCase()+"Coin",text:r},l={icon:"diamond",text:o},d=this.scene.bigButton("green","left",90,c,h,l);this.scene.clickModalBtn(d,(function(){e.upgradeFair()}))}else{var u={icon:i.toLowerCase()+"Coin",text:r};d=this.scene.bigButton("green","left",90,c,u);this.scene.clickModalBtn(d,(function(){e.upgradeFair()}))}else{u={icon:"lock",text:this.scene.state.lang.shortPart+" "+a.part_unlock};this.scene.bigButton("grey","left",90,c,u)}}else this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-20,this.scene.state.lang.maxFairLevel,{font:"26px Shadow",fill:"#925C28",align:"center",wordWrap:{width:400}}).setDepth(1).setOrigin(.5,0),t=170;this.scene.resizeWindow(t)},e.prototype.upgradeFair=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.game.scene.keys[this.scene.state.farm].territories.children.entries.find((function(e){return 4===e.territoryType})).fairLevelUp()},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(3),a=i(12),r=i(1),o={fontFamily:"Bip",fontSize:"20px",color:"#925C28"},c=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){var e=this;this.padding=0,this.farm=this.scene.state.farm,"Sheep"===this.farm?this.resource="Wool":"Chicken"===this.farm?this.resource="Eggs":"Cow"===this.farm&&(this.resource="Milk"),this.territoriesSettings=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"]["territories"+this.scene.state.farm+"Settings"],this.settings=this.territoriesSettings.find((function(t){return t.improve===e.scene.state.territory.improve+1})),this.money={icon:this.farm.toLowerCase()+"Coin",text:s.shortNum(this.scene.state.territory.money)}},e.prototype.create=function(){var e=this.scene.state.lang.repository.replace("$1",this.scene.state.territory.improve);this.scene.textHeader.setText(e),"Cow"!==this.farm&&this.scene.state.territory.improve<this.territoriesSettings.length?this.nonCowRepositoryUpgradeAvalable():"Cow"===this.farm&&this.scene.state.territory.improve<this.territoriesSettings.length?this.cowRepositoryApgradeAvalable():"Cow"!==this.farm?this.nonCowRepositoryMaxLevel():this.cowRepositoryMaxLevel()},e.prototype.nonCowRepositoryUpgradeAvalable=function(){this.createBoostInfoAndSetPadding(this.scene.cameras.main.centerY-100),this.createProgress(this.scene.cameras.main.centerY-160-this.padding-2),this.createSellResourceBtn(this.padding/2),this.createImproveBtn(100+this.padding/2),this.createExchangeBtn(180+this.padding/2),this.scene.resizeWindow(430+this.padding)},e.prototype.nonCowRepositoryMaxLevel=function(){this.createBoostInfoAndSetPadding(this.scene.cameras.main.centerY-50),this.createProgress(this.scene.cameras.main.centerY-120-this.padding),this.createSellResourceBtn(60+this.padding/2),this.createExchangeBtn(160+this.padding/2),this.scene.resizeWindow(340+this.padding+10)},e.prototype.cowRepositoryApgradeAvalable=function(){this.createBoostInfoAndSetPadding(this.scene.cameras.main.centerY-80),this.createProgress(this.scene.cameras.main.centerY-150-this.padding),this.createSellMilkBtn(this.padding),this.createImproveBtn(80+this.padding),this.createExchangeBtn(160+this.padding),this.scene.resizeWindow(370+this.padding)},e.prototype.cowRepositoryMaxLevel=function(){this.createBoostInfoAndSetPadding(this.scene.cameras.main.centerY-30),this.createProgress(this.scene.cameras.main.centerY-100-this.padding),this.createSellMilkBtn(50+this.padding),this.createExchangeBtn(130+this.padding),this.scene.resizeWindow(290+this.padding)},e.prototype.createBoostInfoAndSetPadding=function(e){if(this.scene.state["user"+this.farm].feedBoostTime>0){this.padding+=20;var t=this.scene.add.text(160,e,this.scene.state.lang.priceBonus,o).setOrigin(0,.5),i=this.scene.add.text(160,e+30,"+100%",o).setColor("#57A90E").setOrigin(0,.5);if(this.scene.feedBoostText=this.scene.add.text(i.getBounds().right+5,e+30," ",o).setOrigin(0,.5).setVisible(!1),this.scene.state.clan){this.padding+=20,t.setY(t.y-this.padding/2),i.setY(i.y-this.padding/2),this.scene.feedBoostText.setY(this.scene.feedBoostText.y-this.padding/2);var s="+"+((a=this.scene.state.clan[this.scene.state.farm.toLowerCase()]).cooldown>0?a.level-1:a.level)+"%",n=this.scene.add.text(160,e+40,s,o).setColor("#57A90E").setOrigin(0,.5);this.scene.add.text(n.getBounds().right+5,e+40,this.scene.state.lang.fromClanFarm,o).setOrigin(0,.5)}}else if(this.scene.state.clan){this.scene.add.text(160,e+5,this.scene.state.lang.priceBonus,o).setOrigin(0,.5),this.padding+=20;var a;s="+"+((a=this.scene.state.clan[this.scene.state.farm.toLowerCase()]).cooldown>0?a.level-1:a.level)+"%",n=this.scene.add.text(160,e+30,s,o).setColor("#57A90E").setOrigin(0,.5);this.scene.add.text(n.getBounds().right+5,e+30,this.scene.state.lang.fromClanFarm,o).setOrigin(0,.5)}},e.prototype.createImproveBtn=function(e){var t=this,i=r.default.checkSale(this.scene.state,this.scene.state.farm.toUpperCase()+"_REPOSITORY_IMPROVE"),n=function(){t.improveTerritory()},o={text:this.scene.state.lang.improveToLevel.replace("$1",this.scene.state.territory.improve+1),color:"orange",textAlign:"left",right1:{icon:this.scene.state.farm.toLowerCase()+"Coin",text:s.shortNum(this.settings.improveStorageMoneyPrice),sale:i?s.shortNum(Math.floor(this.settings.improveStorageMoneyPrice/2)):null}};this.settings.improveStorageDiamondPrice&&(o.right1={icon:"diamond",text:s.shortNum(this.settings.improveStorageDiamondPrice),sale:i?s.shortNum(Math.floor(this.settings.improveStorageDiamondPrice/2)):null}),this.scene.state["user"+this.scene.state.farm].part<this.settings.unlock_improve&&(n=null,o.color="grey",o.right1={icon:"lock",text:this.scene.state.lang.shortPart+" "+this.settings.unlock_improve}),new a.default(this.scene,e,n,o)},e.prototype.createExchangeBtn=function(e){var t=this;new a.default(this.scene,e,(function(){t.launchExchangeCurrencyModal()}),{color:"red",textAlign:"center",text:this.scene.state.lang.exchangeRepositoryBtn})},e.prototype.createProgress=function(e){this.scene.progressText=this.scene.add.text(this.scene.cameras.main.centerX,e,"",{font:"26px Bip",color:"#925C28"}).setOrigin(.5,.5),this.scene.add.sprite(this.scene.cameras.main.centerX,e+50,"pb-chapter-modal"),this.scene.progressBar=this.scene.add.tileSprite(136,e+50,0,16,"green-progress").setOrigin(0,.5)},e.prototype.createSellResourceBtn=function(e){var t=this;this.scene.progressButton=this.scene.repositoryBtn(e,this.scene.state.lang["sell"+this.resource],this.money),this.scene.clickModalBtn(this.scene.progressButton,(function(){t.sellResource()}))},e.prototype.createSellMilkBtn=function(e){var t=this;2===this.scene.state.userCow.part&&this.scene.state.userCow.tutorial<40?(this.scene.progressButton=this.scene.bigButton("grey","left",e,this.scene.state.lang.sellMilk,this.money),this.scene.clickModalBtn(this.scene.progressButton,(function(){t.scene.state.territory.volume>0&&(t.scene.scene.stop(),n.default.create(t.scene.game.scene.keys[t.farm+"Bars"],t.scene.state.lang.doneNextTask,3))}))):(this.scene.progressButton=this.scene.bigButton("yellow","left",e,this.scene.state.lang.sellMilk,this.money),this.scene.clickModalBtn(this.scene.progressButton,(function(){t.scene.state.territory.volume>0&&(t.scene.scene.stop(),t.scene.state.userCow.tutorial<40?t.scene.game.scene.keys[t.farm].sellMilk():t.scene.game.scene.keys[t.farm].showConfirmSellMilk())})))},e.prototype.launchExchangeCurrencyModal=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.farm].scrolling.wheel=!0;this.scene.state.modal={type:1,sysType:11},this.scene.scene.start("Modal",this.scene.state)},e.prototype.sellResource=function(){var e=this;if(this.scene.state.territory.money>0){var t=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"]["territories"+this.scene.state.farm+"Settings"].find((function(t){return t.improve===e.scene.state.territory.improve})),i=Math.round(t.storage/2);this.scene.state.territory.volume>=i&&this.scene.state.userSheep.part>=4&&"Cow"!==this.scene.state.farm&&this.scene.state.readyAd?(this.scene.state.modal={type:1,sysType:27},this.scene.scene.restart(this.scene.state)):(this.scene.scene.stop(),this.scene.game.scene.keys[this.farm].scrolling.wheel=!0,this.scene.state.territory.sellResource(),this.scene.game.scene.keys[this.scene.state.farm].achievement.tryType(9),"Cow"===this.scene.state.farm&&this.scene.game.scene.keys[this.scene.state.farm].achievement.tryId(38))}},e.prototype.improveTerritory=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.farm].scrolling.wheel=!0,this.scene.state.territory.improveTerritory()},e}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(3),a=i(12),r=i(1),o={fontFamily:"Bip",fontSize:"20px",color:"#925C28"},c=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){var e;this.padding=0,this.farm=this.scene.state.farm,"Sheep"===this.farm?this.resource="Wool":"Chicken"===this.farm?this.resource="Eggs":"Cow"===this.farm&&(this.resource="Milk"),this.farmUser=this.scene.state["user"+this.scene.state.farm],this.partSettings=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"].partSettings,this.currentSettings=this.partSettings[this.scene.state.territory.improve-1].territory,this.nextSettings=(null===(e=this.partSettings[this.scene.state.territory.improve])||void 0===e?void 0:e.territory)||null,this.money={icon:this.farm.toLowerCase()+"Coin",text:s.shortNum(this.scene.state.territory.money)}},e.prototype.create=function(){var e=this.scene.state.lang.repository.replace("$1",this.scene.state.territory.improve);this.scene.textHeader.setText(e),"Cow"!==this.farm&&this.scene.state.territory.improve<this.partSettings.length?this.nonCowRepositoryUpgradeAvalable():"Cow"===this.farm&&this.scene.state.territory.improve<this.partSettings.length?this.cowRepositoryApgradeAvalable():"Cow"!==this.farm?this.nonCowRepositoryMaxLevel():this.cowRepositoryMaxLevel()},e.prototype.nonCowRepositoryUpgradeAvalable=function(){this.createBoostInfoAndSetPadding(this.scene.cameras.main.centerY-100),this.createProgress(this.scene.cameras.main.centerY-160-this.padding-2),this.createSellResourceBtn(this.padding/2),this.createImproveBtn(100+this.padding/2),this.createExchangeBtn(180+this.padding/2),this.scene.resizeWindow(430+this.padding)},e.prototype.nonCowRepositoryMaxLevel=function(){this.createBoostInfoAndSetPadding(this.scene.cameras.main.centerY-50),this.createProgress(this.scene.cameras.main.centerY-120-this.padding),this.createSellResourceBtn(60+this.padding/2),this.createExchangeBtn(160+this.padding/2),this.scene.resizeWindow(340+this.padding+10)},e.prototype.cowRepositoryApgradeAvalable=function(){this.createBoostInfoAndSetPadding(this.scene.cameras.main.centerY-80),this.createProgress(this.scene.cameras.main.centerY-150-this.padding),this.createSellMilkBtn(this.padding),this.createImproveBtn(80+this.padding),this.createExchangeBtn(160+this.padding),this.scene.resizeWindow(370+this.padding)},e.prototype.cowRepositoryMaxLevel=function(){this.createBoostInfoAndSetPadding(this.scene.cameras.main.centerY-30),this.createProgress(this.scene.cameras.main.centerY-100-this.padding),this.createSellMilkBtn(50+this.padding),this.createExchangeBtn(130+this.padding),this.scene.resizeWindow(290+this.padding)},e.prototype.createBoostInfoAndSetPadding=function(e){if(this.scene.state["user"+this.farm].feedBoostTime>0){this.padding+=20;var t=this.scene.add.text(160,e,this.scene.state.lang.priceBonus,o).setOrigin(0,.5),i=this.scene.add.text(160,e+30,"+100%",o).setColor("#57A90E").setOrigin(0,.5);if(this.scene.feedBoostText=this.scene.add.text(i.getBounds().right+5,e+30," ",o).setOrigin(0,.5).setVisible(!1),this.scene.state.clan){this.padding+=20,t.setY(t.y-this.padding/2),i.setY(i.y-this.padding/2),this.scene.feedBoostText.setY(this.scene.feedBoostText.y-this.padding/2);var s="+"+((a=this.scene.state.clan[this.scene.state.farm.toLowerCase()]).cooldown>0?a.level-1:a.level)+"%",n=this.scene.add.text(160,e+40,s,o).setColor("#57A90E").setOrigin(0,.5);this.scene.add.text(n.getBounds().right+5,e+40,this.scene.state.lang.fromClanFarm,o).setOrigin(0,.5)}}else if(this.scene.state.clan){this.scene.add.text(160,e+5,this.scene.state.lang.priceBonus,o).setOrigin(0,.5),this.padding+=20;var a;s="+"+((a=this.scene.state.clan[this.scene.state.farm.toLowerCase()]).cooldown>0?a.level-1:a.level)+"%",n=this.scene.add.text(160,e+30,s,o).setColor("#57A90E").setOrigin(0,.5);this.scene.add.text(n.getBounds().right+5,e+30,this.scene.state.lang.fromClanFarm,o).setOrigin(0,.5)}},e.prototype.createImproveBtn=function(e){var t=this,i=r.default.checkSale(this.scene.state,this.scene.state.farm.toUpperCase()+"_REPOSITORY_IMPROVE"),n=function(){t.improveTerritory()},o={text:this.scene.state.lang.improveToLevel.replace("$1",this.scene.state.territory.improve+1),color:"orange",textAlign:"left",right1:{icon:"diamond",text:s.shortNum(this.nextSettings.improveRepositoryPrice),sale:i?s.shortNum(Math.floor(this.nextSettings.improveRepositoryPrice/2)):null}};this.scene.state.territory.improve>=this.farmUser.part&&(n=null,o.color="grey",o.right1={icon:"lock",text:this.scene.state.lang.shortPart+" "+(this.farmUser.part+1)}),new a.default(this.scene,e,n,o)},e.prototype.createExchangeBtn=function(e){var t=this;new a.default(this.scene,e,(function(){t.launchExchangeCurrencyModal()}),{color:"red",textAlign:"center",text:this.scene.state.lang.exchangeRepositoryBtn})},e.prototype.createProgress=function(e){this.scene.progressText=this.scene.add.text(this.scene.cameras.main.centerX,e,"",{font:"26px Bip",color:"#925C28"}).setOrigin(.5,.5),this.scene.add.sprite(this.scene.cameras.main.centerX,e+50,"pb-chapter-modal"),this.scene.progressBar=this.scene.add.tileSprite(136,e+50,0,16,"green-progress").setOrigin(0,.5)},e.prototype.createSellResourceBtn=function(e){var t=this;this.scene.progressButton=this.scene.repositoryBtn(e,this.scene.state.lang["sell"+this.resource],this.money),this.scene.clickModalBtn(this.scene.progressButton,(function(){t.sellResource()}))},e.prototype.createSellMilkBtn=function(e){var t=this;2===this.scene.state.userCow.part&&this.scene.state.userCow.tutorial<40?(this.scene.progressButton=this.scene.bigButton("grey","left",e,this.scene.state.lang.sellMilk,this.money),this.scene.clickModalBtn(this.scene.progressButton,(function(){t.scene.state.territory.volume>0&&(t.scene.scene.stop(),n.default.create(t.scene.game.scene.keys[t.farm+"Bars"],t.scene.state.lang.doneNextTask,3))}))):(this.scene.progressButton=this.scene.bigButton("yellow","left",e,this.scene.state.lang.sellMilk,this.money),this.scene.clickModalBtn(this.scene.progressButton,(function(){t.scene.state.territory.volume>0&&(t.scene.scene.stop(),t.scene.state.userCow.tutorial<40?t.scene.game.scene.keys[t.farm].sellMilk():t.scene.game.scene.keys[t.farm].showConfirmSellMilk())})))},e.prototype.launchExchangeCurrencyModal=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.farm].scrolling.wheel=!0;this.scene.state.modal={type:1,sysType:11},this.scene.scene.start("Modal",this.scene.state)},e.prototype.sellResource=function(){var e=this;if(this.scene.state.territory.money>0){var t=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"]["territories"+this.scene.state.farm+"Settings"].find((function(t){return t.improve===e.scene.state.territory.improve})),i=Math.round(t.storage/2);this.scene.state.territory.volume>=i&&this.scene.state.userSheep.part>=4&&"Cow"!==this.scene.state.farm&&this.scene.state.readyAd?(this.scene.state.modal={type:1,sysType:27},this.scene.scene.restart(this.scene.state)):(this.scene.scene.stop(),this.scene.game.scene.keys[this.farm].scrolling.wheel=!0,this.scene.state.territory.sellResource())}},e.prototype.improveTerritory=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.farm].scrolling.wheel=!0,this.scene.state.territory.improveTerritory()},e}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(53),a=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){this.scene.textHeader.setText(this.scene.state.lang.sheep),0!==this.scene.state.animal.type?this.customSheep():this.crystalSheep()},e.prototype.customSheep=function(){var e=this,t="sheep"+this.scene.state.animal.type,i=this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-180,t);i.anims.play("sheep-stay-right"+this.scene.state.animal.type,!0),this.scene.add.sprite(i.x,i.y,"sheep-right-"+this.scene.state.animal.type+"-2");var a=this.scene.state.lang["sheepBreed"+this.scene.state.animal.type];this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-70,a,{font:"30px Bip",color:"#925C28",align:"center",wordWrap:{width:480}}).setOrigin(.5,.5),this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,"pb-chapter-modal"),this.scene.progressBar=this.scene.add.tileSprite(136,this.scene.cameras.main.centerY,0,16,"green-progress").setOrigin(0,.5);var r=this.scene.state.sheepSettings.sheepSettings.find((function(t){return t.breed===e.scene.state.animal.type})),o=Math.round(1e3/r.wool_growth);this.scene.add.text(132,this.scene.cameras.main.centerY+55,this.scene.state.lang.woolSpeed,{font:"28px Bip",color:"#925C28"}).setOrigin(0,.5),this.scene.add.text(588,this.scene.cameras.main.centerY+55,o+" "+this.scene.state.lang.seconds,{font:"28px Bip",color:"#925C28"}).setOrigin(1,.5),this.scene.add.text(132,this.scene.cameras.main.centerY+100,this.scene.state.lang.woolPrice,{font:"28px Bip",color:"#925C28"}).setOrigin(0,.5);var c=this.scene.add.text(588,this.scene.cameras.main.centerY+100,String(r.long_wool),{font:"28px Bip",color:"#925C28"}).setOrigin(1,.5).getBounds().left-25;this.scene.add.sprite(c,this.scene.cameras.main.centerY+100,"sheepCoin").setScale(.15);var h=this.scene.state.sheepSettings.sheepSettings.find((function(t){return t.breed===e.scene.state.animal.type})).long_wool,l={icon:"sheepCoin",text:s.shortNum(h)};this.scene.progressButton=this.scene.bigButton("grey","left",180,this.scene.state.lang.cutWool,l),this.scene.clickModalBtn(this.scene.progressButton,(function(){1e3===e.scene.state.animal.wool&&(e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].collectWool(e.scene.state.animal,!0),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0)}));var d={icon:"sheepCoin",text:s.shortNum(Math.round(this.scene.game.scene.keys[this.scene.state.farm].sheepPrice(1).price/2))},u=this.scene.bigButton("red","left",265,this.scene.state.lang.expel,d);this.scene.clickModalBtn(u,(function(){e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,new n.default(e.scene)})),this.scene.resizeWindow(540)},e.prototype.crystalSheep=function(){var e=this,t="sheep"+this.scene.state.animal.type,i=this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-130,t);i.anims.play("sheep-stay-right0",!0),this.scene.add.sprite(i.x,i.y,"sheep-right-0-4");var s=this.scene.state.lang["sheepBreed"+this.scene.state.animal.type];this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-20,s,{font:"30px Bip",color:"#925C28",align:"center",wordWrap:{width:480}}).setOrigin(.5,.5),this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+50,"pb-chapter-modal"),this.scene.progressBar=this.scene.add.tileSprite(136,this.scene.cameras.main.centerY+50,0,16,"green-progress").setOrigin(0,.5);var n=this.scene.state.sheepSettings.sheepSettings.find((function(e){return 1===e.breed})),a=Math.round(1e3/n.wool_growth);this.scene.add.text(132,this.scene.cameras.main.centerY+105,this.scene.state.lang.diamondSpeed,{font:"28px Bip",color:"#925C28"}).setOrigin(0,.5),this.scene.add.text(588,this.scene.cameras.main.centerY+105,a+" "+this.scene.state.lang.seconds,{font:"28px Bip",color:"#925C28"}).setOrigin(1,.5);this.scene.progressButton=this.scene.bigButton("grey","left",195,this.scene.state.lang.collectDiamond,{icon:"diamond",text:1}),this.scene.clickModalBtn(this.scene.progressButton,(function(){1e3===e.scene.state.animal.wool&&(e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].collectWool(e.scene.state.animal,!0),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0)})),this.scene.resizeWindow(430)},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(53),a=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){this.scene.textHeader.setText(this.scene.state.lang.chicken),0!==this.scene.state.animal.type?this.customChicken():this.crystalChicken()},e.prototype.customChicken=function(){var e=this,t="chicken"+this.scene.state.animal.type;this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-145,t).anims.play("chicken-drag"+this.scene.state.animal.type,!0);var i=this.scene.state.lang["chickenBreed"+this.scene.state.animal.type];this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-35,i,{font:"30px Bip",color:"#925C28",align:"center",wordWrap:{width:480}}).setOrigin(.5,.5),this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+35,"pb-chapter-modal"),this.scene.progressBar=this.scene.add.tileSprite(136,this.scene.cameras.main.centerY+35,0,16,"green-progress").setOrigin(0,.5);var a=this.scene.state.chickenSettings.chickenSettings.find((function(t){return t.breed===e.scene.state.animal.type})),r=Math.round(1e3/a.egg);this.scene.add.text(132,this.scene.cameras.main.centerY+90,this.scene.state.lang.eggSpeed,{font:"28px Bip",color:"#925C28"}).setOrigin(0,.5),this.scene.add.text(588,this.scene.cameras.main.centerY+90,r+" "+this.scene.state.lang.seconds,{font:"28px Bip",color:"#925C28"}).setOrigin(1,.5),this.scene.add.text(132,this.scene.cameras.main.centerY+135,this.scene.state.lang.eggPrice,{font:"28px Bip",color:"#925C28"}).setOrigin(0,.5);var o=this.scene.add.text(588,this.scene.cameras.main.centerY+135,String(a.eggPrice),{font:"28px Bip",color:"#925C28"}).setOrigin(1,.5).getBounds().left-25;this.scene.add.sprite(o,this.scene.cameras.main.centerY+135,"chickenCoin").setScale(.15);var c={icon:"chickenCoin",text:s.shortNum(Math.round(this.scene.game.scene.keys[this.scene.state.farm].chickenPrice(1).price/2))},h=this.scene.bigButton("red","left",220,this.scene.state.lang.expel,c);this.scene.clickModalBtn(h,(function(){e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,new n.default(e.scene)})),this.scene.resizeWindow(460)},e.prototype.crystalChicken=function(){var e="chicken"+this.scene.state.animal.type;this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-85,e).anims.play("chicken-drag0",!0);var t=this.scene.state.lang["chickenBreed"+this.scene.state.animal.type];this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+25,t,{font:"30px Bip",color:"#925C28",align:"center",wordWrap:{width:480}}).setOrigin(.5,.5),this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+95,"pb-chapter-modal"),this.scene.progressBar=this.scene.add.tileSprite(136,this.scene.cameras.main.centerY+95,0,16,"green-progress").setOrigin(0,.5);var i=this.scene.state.chickenSettings.chickenSettings.find((function(e){return 1===e.breed})),s=Math.round(1e3/i.egg);this.scene.add.text(132,this.scene.cameras.main.centerY+150,this.scene.state.lang.diamondSpeed,{font:"28px Bip",color:"#925C28"}).setOrigin(0,.5),this.scene.add.text(588,this.scene.cameras.main.centerY+150,s+" "+this.scene.state.lang.seconds,{font:"28px Bip",color:"#925C28"}).setOrigin(1,.5),this.scene.resizeWindow(350)},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(53),a=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){this.scene.textHeader.setText(this.scene.state.lang.cow),0!==this.scene.state.animal.breed?this.customCow():this.crystalCow()},e.prototype.customCow=function(){var e=this,t="cow"+this.scene.state.animal.breed;this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-145,t).anims.play("cow-drag"+this.scene.state.animal.breed,!0);var i=this.scene.state.lang["cowBreed"+this.scene.state.animal.breed];this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-35,i,{font:"30px Bip",color:"#925C28",align:"center",wordWrap:{width:480}}).setOrigin(.5,.5),this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+35,"pb-chapter-modal"),this.scene.progressBar=this.scene.add.tileSprite(136,this.scene.cameras.main.centerY+35,0,16,"green-progress").setOrigin(0,.5);var a=Math.round(this.scene.state.animal.settings.maxMilkVolume/60);this.scene.add.text(132,this.scene.cameras.main.centerY+90,this.scene.state.lang.milkSpeed,{font:"28px Bip",color:"#925C28"}).setOrigin(0,.5),this.scene.add.text(588,this.scene.cameras.main.centerY+90,a+" "+this.scene.state.lang.seconds,{font:"28px Bip",color:"#925C28"}).setOrigin(1,.5),this.scene.add.text(132,this.scene.cameras.main.centerY+135,this.scene.state.lang.milkPrice,{font:"28px Bip",color:"#925C28"}).setOrigin(0,.5);var r=this.scene.add.text(588,this.scene.cameras.main.centerY+135,String(this.scene.state.animal.settings.maxMilkVolume),{font:"28px Bip",color:"#925C28"}).setOrigin(1,.5).getBounds().left-25;this.scene.add.sprite(r,this.scene.cameras.main.centerY+135,"cowCoin").setScale(.15);var o={icon:"cowCoin",text:s.shortNum(Math.round(this.scene.game.scene.keys[this.scene.state.farm].cowPrice(1).price/2))},c=this.scene.bigButton("red","left",220,this.scene.state.lang.expel,o);this.scene.clickModalBtn(c,(function(){e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,new n.default(e.scene)})),this.scene.resizeWindow(460)},e.prototype.crystalCow=function(){var e="cow"+this.scene.state.animal.breed;this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-85,e).anims.play("cow-drag0",!0);var t=this.scene.state.lang["cowBreed"+this.scene.state.animal.breed];this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+25,t,{font:"30px Bip",color:"#925C28",align:"center",wordWrap:{width:480}}).setOrigin(.5,.5),this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+95,"pb-chapter-modal"),this.scene.progressBar=this.scene.add.tileSprite(136,this.scene.cameras.main.centerY+95,0,16,"green-progress").setOrigin(0,.5);var i=this.scene.state.cowSettings.cowSettings.find((function(e){return 1===e.breed})),s=Math.round(i.maxMilkVolume/60);this.scene.add.text(132,this.scene.cameras.main.centerY+150,this.scene.state.lang.diamondSpeed,{font:"28px Bip",color:"#925C28"}).setOrigin(0,.5),this.scene.add.text(588,this.scene.cameras.main.centerY+150,s+" "+this.scene.state.lang.seconds,{font:"28px Bip",color:"#925C28"}).setOrigin(1,.5),this.scene.resizeWindow(350)},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang.saveProgress),this.scene.close.setVisible(!1),this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-70,this.scene.state.lang.findSavedProgress,{font:"26px Bip",color:"#925C28",wordWrap:{width:450},align:"center"}).setOrigin(.5);var t=this.scene.bigButton("green","center",20,this.scene.state.lang.repeatSave),i=this.scene.bigButton("yellow","center",110,this.scene.state.lang.loadOldSave);this.scene.clickModalBtn(t,(function(){e.onBtnClick(!0)})),this.scene.clickModalBtn(i,(function(){e.onBtnClick(!1)})),this.scene.resizeWindow(250)},e.prototype.onBtnClick=function(e){var t=this;this.scene.state.ysdk.getPlayer().then((function(i){var n={id:t.scene.state.user.id,hash:t.scene.state.user.hash,counter:t.scene.state.user.counter,yaId:i.getUniqueID(),currentUser:e};s.default.post("https://ferma.games:4000/saveProgressYa",n).then((function(i){t.closeWindow(),e||location.reload()}))}))},e.prototype.closeWindow=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.scene=e,this.create()}return e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang.exclude);var t=this.scene.state.modal.message,i=this.scene.state.lang.confirmExcludeUser.replace("$1",t),s=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-60,i,{font:"26px Bip",color:"#925C28",align:"center",wordWrap:{width:450,useAdvancedWrap:!0}}).setOrigin(.5,.5),n=s.getBounds(),a=0;n.height>102&&(a=(n.height-102)/2),s.setY(s.y-a/5);var r=this.scene.bigButton("red","center",40+a,this.scene.state.lang.exclude);this.scene.clickModalBtn(r,(function(){e.excludeClanUser()}));var o=this.scene.bigButton("yellow","center",120+a,this.scene.state.lang.cancel);this.scene.clickModalBtn(o,(function(){e.closeWindow()})),this.scene.resizeWindow(250+2*a)},e.prototype.excludeClanUser=function(){var e=this.scene.state.user.login;"web"!==this.scene.state.platform&&"gd"!==this.scene.state.platform&&"android"!==this.scene.state.platform&&(e=this.scene.state.name);var t={userId:this.scene.state.modal.userId,ownerName:e,ownerClanId:this.scene.state.user.clanId};this.scene.state.socket.io.emit("excludeUserClan",t),this.scene.state.socket.io.emit("sendClanMessage",{id:this.scene.state.user.id,clanId:this.scene.state.user.clanId,message:"8e06b3d7e677bf289936486aafbd0222",userName:this.scene.state.modal.message,userStatus:this.scene.state.user.status}),this.closeWindow()},e.prototype.closeWindow=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.scene.state.userChicken.part<=0?(this.user=this.scene.state.userSheep,this.progress=this.scene.state.progress.chicken,this.farm="Chicken"):this.scene.state.userChicken.part>0&&(this.user=this.scene.state.userChicken,this.progress=this.scene.state.progress.cow,this.farm="Cow")},e.prototype.create=function(){var e=this,t=this.scene.state.lang[this.farm.toLowerCase()+"Farm"];this.scene.textHeader.setText(t);var i=this.progress.price,n=this.scene.state.lang["confirmBuy"+this.farm+"Farm"];this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-70,n,{font:"26px Bip",color:"#925C28",wordWrap:{width:450},align:"center"}).setOrigin(.5);var a={icon:"Chicken"===this.farm?"sheepCoin":"chickenCoin",text:s.shortNum(i)},r=this.scene.state.lang.buy,o=this.scene.bigButton("green","left",20,r,a),c=this.scene.bigButton("red","center",110,this.scene.state.lang.cancel);this.scene.clickModalBtn(o,(function(){e.closeWindow(),e.confirmBuy()})),this.scene.clickModalBtn(c,(function(){e.closeWindow()})),this.scene.resizeWindow(250)},e.prototype.confirmBuy=function(){if(this.user.money>=this.progress.price)this.user.money-=this.progress.price,this.scene.state.amplitude.logAmplitudeEvent("get_new_farm",{type:"buy",farm_id:this.farm}),this.scene.scene.stop("Profile"),this.scene.scene.stop("Modal"),this.scene.scene.stop(this.scene.state.farm),this.scene.scene.stop(this.scene.state.farm+"Bars"),this.scene.scene.start(this.farm+"Preload",this.scene.state);else if("Chicken"!==this.scene.state.farm&&"Cow"===this.farm||"Sheep"!==this.scene.state.farm&&"Chicken"===this.farm)this.scene.state.modal={type:1,sysType:3,height:150,message:"Cow"===this.farm?this.scene.state.lang.notEnoughCoins:this.scene.state.lang.notEnoughSheepCoins},this.scene.scene.restart(this.scene.state);else{var e=this.progress.price-this.user.money,t=this.scene.game.scene.keys[this.scene.state.farm].convertMoney(e);this.scene.state.convertor={fun:7,count:e,diamonds:t,type:1},this.scene.state.modal={type:1,sysType:4},this.scene.scene.restart(this.scene.state)}},e.prototype.closeWindow=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(12),a=function(){function e(e){this.scene=e,this.params=this.scene.state.modal.confirmSpendParams,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=this.scene.state.lang["confirm"+this.params.type+"Header"];this.scene.textHeader.setText(t);var i=this.scene.state.lang["confirm"+this.params.type+"Text"];i=null==i?void 0:i.replace("$1",String(this.params.level)),this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-70,i,{font:"26px Bip",color:"#925C28",wordWrap:{width:450},align:"center"}).setOrigin(.5);var a={color:"green",textAlign:"left",right1:{icon:"diamond",text:s.shortNum(this.params.price)},text:"CleanUp"!==this.params.type?this.scene.state.lang.improve:this.scene.state.lang.cleanUp},r={color:"red",textAlign:"center",text:this.scene.state.lang.cancel};new n.default(this.scene,20,(function(){e.closeWindow(),e.scene.state.user.diamonds>=e.params.price?e.params.callback():e.openConvertor()}),a),new n.default(this.scene,110,this.closeWindow,r),this.scene.resizeWindow(250)},e.prototype.openConvertor=function(){this.scene.state.convertor={fun:0,count:this.params.price,diamonds:this.params.price,type:1},this.scene.game.scene.keys[this.scene.state.farm].exchange(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e.prototype.closeWindow=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this;this.scene.textHeader.setText(this.scene.state.lang.recall),this.description=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-170,this.scene.state.lang.recallText,{font:"24px Bip",color:"#974f00",align:"center",wordWrap:{width:400}}).setOrigin(.5,.5).setDepth(3);var t=document.querySelector("#root");this.scene.secondInput=document.createElement("textarea"),t.append(this.scene.secondInput),this.scene.secondInput.setAttribute("id","sup-msg"),this.scene.secondInput.setAttribute("autocomplete","off");var i=!0,s=this.scene.cameras.main.height/100*15,n=[],a=window.innerHeight,r=window.innerHeight;this.scene.secondInput.style.top="42%",this.scene.secondInput.style.bottom="36%";var o=this.scene.add.text(this.scene.cameras.main.centerX-220,this.scene.cameras.main.centerY-82,this.scene.state.lang.yourRecall,{font:"25px Bip",color:"#974f00",align:"left",wordWrap:{width:444}}).setOrigin(0,0).setDepth(4).setCrop(0,0,445,254),c=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,710,1200).setDropZone(void 0,(function(){})).setInteractive(),h=this.scene.add.zone(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+84,460,260).setDropZone(void 0,(function(){})).setInteractive(),l=this.scene.add.graphics({x:this.scene.cameras.main.centerX-230,y:this.scene.cameras.main.centerY-96}).setDepth(2).fillStyle(16777215,1).fillRoundedRect(0,0,460,260,16),d=this.scene.bigButton("green","center",110,this.scene.state.lang.recallBtn);d.btn.y=this.scene.cameras.main.centerY+280-50,d.title.y=this.scene.cameras.main.centerY+274-50,this.result=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-166,"",{font:"21px Shadow",color:"#FF0000",align:"center",wordWrap:{width:520}}).setOrigin(.5,.5).setDepth(4).setAlpha(0),n.push(this.scene.header,this.scene.body,this.scene.bottom,this.scene.close,this.scene.textHeader,this.description,o,h,l,d.btn,d.title,this.result),window.onresize=function(){a=window.innerHeight,r!==a&&i?(t.scrollIntoView(!1),n.forEach((function(e){return e.setY(e.y+s)})),e.scene.secondInput.style.top="57%",e.scene.secondInput.style.bottom="21%",i=!1):r!==a||i||(n.forEach((function(e){return e.setY(e.y-s)})),e.scene.secondInput.style.top="42%",e.scene.secondInput.style.bottom="36%",i=!0)},h.on("pointerdown",(function(){e.scene.secondInput.style.display="block",e.scene.secondInput.focus()})),c.on("pointerdown",(function(){e.scene.secondInput.style.display="none",e.scene.secondInput.blur(),o.setText(e.scene.secondInput.value).setDepth(4).setCrop(0,0,445,254),""===e.scene.secondInput.value&&o.setText(e.scene.state.lang.yourRecall).setDepth(4).setCrop(0,0,434,100)})),this.scene.clickModalBtn(d,(function(){e.scene.secondInput.blur(),e.sendToSupport()})),this.scene.enterKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER),this.scene.enterKey.on("down",(function(){e.scene.secondInput.blur(),e.sendToSupport()})),this.scene.resizeWindow(470)},e.prototype.sendToSupport=function(){s.default.post("https://ferma.games:4000/sendToSupport",{id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,message:this.scene.secondInput.value,platform:this.scene.state.platform});var e=this.scene.scene.get(this.scene.state.farm);e.time.addEvent({delay:1500,callback:function(){var t={type:1,sysType:3,height:150,message:e.state.lang.yourRecallIsSent};e.state.modal=t,e.scene.launch("Modal",e.state)},callbackScope:this,loop:!1}),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.enterKey.destroy(),this.scene.secondInput.remove(),this.scene.scene.stop()},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(12),a=function(){function e(e){this.scene=e,this.avatar=this.scene.state.modal.avatarParams,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=this.scene.cameras.main,i=t.centerX,a=t.centerY;this.scene.textHeader.setText(this.scene.state.lang.buyingAvatar);var r=0!==this.avatar.type?"avatar-"+this.avatar.type:"avatar-"+this.scene.state.user.id,o=this.scene.textures.exists(r),c=this.scene.add.sprite(i,a-90,"avatar-0").setVisible(!1),h=new Phaser.Display.Masks.BitmapMask(this.scene,c),l=this.scene.add.sprite(i,a-90,r).setMask(h);o||l.setTexture("avatar-0");var d=c.width/l.width,u=c.height/l.height;l.setScale(d,u),this.scene.add.text(i,a-10,this.scene.state.lang.confirmBuyAvatar,{font:"26px Bip",color:"#925C28",wordWrap:{width:450},align:"center"}).setOrigin(.5);var p={color:"green",textAlign:"left",right1:{icon:"diamond",text:s.shortNum(this.avatar.price)},text:this.scene.state.lang.buy},f={color:"red",textAlign:"center",text:this.scene.state.lang.cancel};new n.default(this.scene,60,(function(){if(e.closeWindow(),e.scene.state.user.diamonds>=e.avatar.price){e.scene.state.user.diamonds-=e.avatar.price,e.scene.state.user.boughtAvatars.push(e.avatar.type),e.scene.state.user.avatar=0!==e.avatar.type?String(e.avatar.type):e.scene.state.avatar;var t=e.scene.game.scene.getScene(e.scene.state.farm);t.tryTask(15,e.avatar.price),t.autosave(),e.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"avatar",count:e.avatar.price,avatarType:e.avatar.type}),e.scene.state.modal={type:25},e.scene.scene.restart(e.scene.state)}else e.openConvertor()}),p),new n.default(this.scene,150,this.closeWindow,f),this.scene.resizeWindow(340)},e.prototype.openConvertor=function(){this.scene.state.convertor={fun:0,count:this.avatar.price,diamonds:this.avatar.price,type:1},this.scene.game.scene.keys[this.scene.state.farm].exchange(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e.prototype.closeWindow=function(){this.scene.state.modal={type:25},this.scene.scene.restart(this.scene.state)},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t={fontSize:"35px",fontFamily:"Shadow",color:"#ffffff",stroke:"Chicken"!==this.scene.state.farm?"#C44002":"#645F55",strokeThickness:7},i=this.scene.state.lang,s=i.multiplyIcomeHeader,n=i.multiplyIcomeText,a=i.triple,r=i.sellWithoutMultiply,o=this.scene.cameras.main,c=o.centerX,h=o.centerY;this.scene.textHeader.setText(s);var l=this.scene.add.sprite(c,h-100,this.scene.state.farm.toLowerCase()+"Coin").setScale(.57).getBounds();this.scene.add.text(l.right-50,l.bottom-50,"x",t).setOrigin(.5),this.scene.add.text(l.right-20,l.bottom-50,"3",t).setFontSize(60).setOrigin(.5);this.scene.add.text(c-length,h-100+90,n,{fontSize:"26px",fontFamily:"Bip",color:"#925C28",align:"center",wordWrap:{width:450}}).setOrigin(.5,0);var d=this.scene.bigButton("green","left",90,a,{icon:"ad-icon",text:""});this.scene.clickModalBtn(d,(function(){e.adButtonHandler()}));var u=this.scene.bigButton("yellow","center",170,r);this.scene.clickModalBtn(u,(function(){e.closeWindow()})),this.scene.resizeWindow(400)},e.prototype.closeWindow=function(){var e;this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,"Cow"!==this.scene.state.farm?this.scene.state.territory.sellResource():null===(e=this.scene.state.territory.factory)||void 0===e||e.sellProducts()},e.prototype.adButtonHandler=function(){this.scene.game.scene.keys[this.scene.state.farm].ads.watchAd(7),this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(6),a=i(12),r=i(1),o=i(8),c=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.farm=this.scene.state.farm,this.farmUser=this.scene.state["user"+this.farm],this.setLevelConfig(),this.scene.resizeWindow(300)},e.prototype.create=function(){var e={fontSize:"32px",fontFamily:"Bip",color:"#925C28"},t={fontSize:"32px",fontFamily:"Bip",color:"#57A90E"},i="Sheep"===this.scene.state.farm?"wool":"Chicken"===this.scene.state.farm?"egg":"Cow"===this.scene.state.farm?"milk":"";this.scene.textHeader.setText(""+this.scene.state.lang[i+"Collector"]),this.timeText=this.scene.add.text(this.scene.body.getTopLeft().x+70,this.scene.body.getTopCenter().y+30,"",e).setOrigin(0),this.timeNextText=this.scene.add.text(this.timeText.getRightCenter().x+10,this.timeText.y,"",t).setOrigin(0),this.speedText=this.scene.add.text(this.scene.body.getLeftCenter().x+70,this.scene.body.getCenter().y+60,"",e).setOrigin(0),this.speedNextText=this.scene.add.text(this.speedText.getRightCenter().x+10,this.speedText.y,"",t).setOrigin(0),this.setCurrentLevelInfoText(),this.setNextLevelInfoText(),this.createTimeBtn(),this.createSpeedBtn()},e.prototype.createTimeBtn=function(){var e=this;if(this.nextTime)if(this.farmUser.collectorTimeLevel>=this.farmUser.part){var t={icon:"lock",text:this.nextTime?this.scene.state.lang.shortPart+" "+(this.farmUser.part+1):""},i=this.nextTime?this.scene.state.lang.improveToLevel.replace("$1",String(this.farmUser.collectorTimeLevel+1)):this.scene.state.lang.max;this.scene.bigButton("grey","left",-40,i,t)}else{var n={icon:this.farm.toLowerCase()+"Coin",text:s.shortNum(this.nextTimeSettings.improveTimePrice)},o={color:"green",textAlign:"left",text:this.scene.state.lang.improveToLevel.replace("$1",String(this.farmUser.collectorTimeLevel+1)),right1:n};r.default.checkSale(this.scene.state,this.scene.state.farm.toUpperCase()+"_COLLECTOR_IMPROVE")&&(o.right1.sale=s.shortNum(Math.floor(this.nextTimeSettings.improveTimePrice/2)));new a.default(this.scene,-40,(function(){return e.improveCollector("time")}),o)}else this.scene.add.text(this.scene.body.getCenter().x,this.timeText.getBottomCenter().y+60,this.scene.state.lang.maxCollectortTimeLevel,{font:"28px Bip",color:"#925C28",align:"center",wordWrap:{width:560}}).setOrigin(.5)},e.prototype.createSpeedBtn=function(){var e=this;if(this.nextSpeed)if(this.farmUser.collectorLevel>=this.farmUser.part){var t={icon:"lock",text:this.nextSpeed?this.scene.state.lang.shortPart+" "+(this.farmUser.part+1):""},i=this.nextSpeed?this.scene.state.lang.improveToLevel.replace("$1",String(this.farmUser.collectorLevel+1)):this.scene.state.lang.max;this.scene.bigButton("grey","left",140,i,t)}else{var n=r.default.checkSale(this.scene.state,this.scene.state.farm.toUpperCase()+"_COLLECTOR_IMPROVE"),o={icon:"diamond",text:s.shortNum(this.nextSpeedSettings.imporveSpeedPrice)},c={color:"green",textAlign:"left",text:this.scene.state.lang.improveToLevel.replace("$1",String(this.farmUser.collectorLevel+1)),right1:o};n&&(c.right1.sale=s.shortNum(Math.floor(this.nextTimeSettings.imporveSpeedPrice/2)));new a.default(this.scene,140,(function(){var t={type:1,sysType:24,confirmSpendParams:{type:"ImproveCollectorSpeed"+e.scene.state.farm,level:e.farmUser.collectorLevel+1,price:n?Math.floor(e.nextTimeSettings.imporveSpeedPrice/2):e.nextSpeedSettings.imporveSpeedPrice,callback:function(){return e.improveCollector("speed")}}};e.scene.state.modal=t,e.scene.scene.restart(e.scene.state)}),c)}else this.scene.add.text(this.scene.body.getCenter().x,this.speedText.getBottomCenter().y+60,this.scene.state.lang.maxCollectorLevel,{font:"28px Bip",color:"#925C28",align:"center",wordWrap:{width:560}}).setOrigin(.5)},e.prototype.improveCollector=function(e){var t,i,s,n,a=r.default.checkSale(this.scene.state,this.scene.state.farm.toUpperCase()+"_COLLECTOR_IMPROVE"),c=a?Math.round((null===(t=this.nextSpeedSettings)||void 0===t?void 0:t.imporveSpeedPrice)/2):null===(i=this.nextSpeedSettings)||void 0===i?void 0:i.imporveSpeedPrice,h=a?Math.round((null===(s=this.nextTimeSettings)||void 0===s?void 0:s.improveTimePrice)/2):null===(n=this.nextTimeSettings)||void 0===n?void 0:n.improveTimePrice;if(this.checkImprove(e)){if("time"===e)this.scene.state["user"+this.farm].collectorTimeLevel++,this.scene.game.scene.keys[this.farm].tryTask(o.TaskType.IMPROVE_COLLECTOR,this.scene.state["user"+this.farm].collectorTimeLevel),this.farmUser.money-=h;else if("speed"===e){this.scene.state["user"+this.farm].collectorLevel++;var l=c;this.scene.state.user.diamonds-=l,this.scene.game.scene.keys[this.farm].tryTask(o.TaskType.IMPROVE_SPEED_COLLECTOR,this.scene.state["user"+this.farm].collectorLevel),this.scene.game.scene.keys[this.scene.state.farm].tryTask(15,0,l),this.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"improve_collector",count:l})}this.scene.state.userCow.collectorLevel===this.scene.state.cowSettings.partSettings.length&&this.scene.state.userCow.collectorTimeLevel===this.scene.state.cowSettings.partSettings.length&&("Sheep"===this.scene.state.farm?this.scene.game.scene.keys[this.scene.state.farm].achievement.tryId(27):"Chicken"===this.scene.state.farm?this.scene.game.scene.keys[this.scene.state.farm].achievement.tryId(30):"Cow"===this.scene.state.farm&&this.scene.game.scene.keys[this.scene.state.farm].achievement.tryId(33)),this.closeAndFireworksBlow()}else{if("time"===e){var d=h-this.farmUser.money,u=this.scene.game.scene.keys[this.scene.state.farm].convertMoney(d);this.scene.state.convertor={fun:8,count:d,diamonds:u,type:1},this.scene.state.modal={type:1,sysType:4}}else if("speed"===e){d=c-this.scene.state.user.diamonds,u=c-this.scene.state.user.diamonds;this.scene.state.convertor={fun:8,count:d,diamonds:u,type:2},this.scene.state.modal={type:1,sysType:4}}this.scene.scene.restart(this.scene.state)}},e.prototype.checkImprove=function(e){var t,i,s,n,a=r.default.checkSale(this.scene.state,this.scene.state.farm.toUpperCase()+"_COLLECTOR_IMPROVE"),o=a?Math.round((null===(t=this.nextSpeedSettings)||void 0===t?void 0:t.imporveSpeedPrice)/2):null===(i=this.nextSpeedSettings)||void 0===i?void 0:i.imporveSpeedPrice,c=a?Math.round((null===(s=this.nextTimeSettings)||void 0===s?void 0:s.improveTimePrice)/2):null===(n=this.nextTimeSettings)||void 0===n?void 0:n.improveTimePrice;return"time"===e&&this.farmUser.money>=c||"speed"===e&&this.scene.state.user.diamonds>=o},e.prototype.setLevelConfig=function(){var e,t,i,s,n=this.scene.state[this.farm.toLowerCase()+"Settings"];this.currentSpeedSettings=n.partSettings[this.farmUser.collectorLevel-1].collector,this.currentTimeSettings=n.partSettings[this.farmUser.collectorTimeLevel-1].collector,this.nextSpeedSettings=(null===(e=n.partSettings[this.farmUser.collectorLevel])||void 0===e?void 0:e.collector)||null,this.nextTimeSettings=(null===(t=n.partSettings[this.farmUser.collectorTimeLevel])||void 0===t?void 0:t.collector)||null,this.currentTime=this.currentTimeSettings.time,this.currentSpeed=this.currentSpeedSettings.speed,this.nextTime=(null===(i=this.nextTimeSettings)||void 0===i?void 0:i.time)||null,this.nextSpeed=(null===(s=this.nextSpeedSettings)||void 0===s?void 0:s.speed)||null},e.prototype.setCurrentLevelInfoText=function(){this.timeText.setText(this.scene.state.lang.duration+": "+this.currentTime+" "+this.scene.state.lang.minutes),this.speedText.setText(this.scene.state.lang.speed+": "+this.currentSpeed+" "+this.scene.state.lang["unit"+this.scene.state.farm]+"/"+this.scene.state.lang.seconds)},e.prototype.setNextLevelInfoText=function(){this.nextTime?this.timeNextText.setText("+"+(this.nextTime-this.currentTime)).setX(this.timeText.getRightCenter().x+10):this.timeNextText.setText(""),this.nextSpeed?this.speedNextText.setText("+"+(this.nextSpeed-this.currentSpeed).toFixed(1)).setX(this.speedText.getRightCenter().x+10):this.speedNextText.setText("")},e.prototype.closeAndFireworksBlow=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.game.scene.keys[this.scene.state.farm].scrolling.scrollY=0,new n.default(this.scene.game.scene.keys[this.scene.state.farm],{x:this.scene.cameras.main.centerX,y:340},3)},e}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=this.scene.state.farm,i=this.scene.state.lang.pasture.replace("$1",this.scene.state.territory.improve);this.scene.textHeader.setText(i);var n=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"].partSettings,a=this.scene.state.territory.improve;a>n.length&&(a=n.length);var r=n[a].territory;if(this.scene.state["user"+t].part>a){var o={icon:t.toLowerCase()+"Coin",text:s.shortNum(r.improveTerritoryPrice)},c=this.scene.state.lang.improveToLevel.replace("$1",this.scene.state.territory.improve+1),h=this.scene.bigButton("green","left",-30,c,o);this.scene.clickModalBtn(h,(function(){e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.state.territory.improveTerritory()}))}else{o={icon:"lock",text:this.scene.state.lang.shortPart+" "+(a+1)},c=this.scene.state.lang.improveToLevel.replace("$1",this.scene.state.territory.improve+1);this.scene.bigButton("grey","left",-30,c,o)}var l=this.scene.bigButton("red","center",60,this.scene.state.lang.exchangePastureBtn);this.scene.clickModalBtn(l,(function(){e.exchangeTerritory()})),this.scene.resizeWindow(190)},e.prototype.exchangeTerritory=function(){this.scene.state.modal={type:1,sysType:11},this.scene.scene.restart(this.scene.state)},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=this.scene.state.farm,i=this.scene.state.lang.water.replace("$1",this.scene.state.territory.improve);this.scene.textHeader.setText(i);var n=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"].partSettings,a=this.scene.state.territory.improve;a>n.length&&(a=n.length);var r=n[a].territory;if(this.scene.state["user"+t].part>a){var o={icon:t.toLowerCase()+"Coin",text:s.shortNum(r.improveTerritoryPrice)},c=this.scene.state.lang.improveToLevel.replace("$1",this.scene.state.territory.improve+1),h=this.scene.bigButton("blue","left",-30,c,o);this.scene.clickModalBtn(h,(function(){e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.state.territory.improveTerritory()}))}else{o={icon:"lock",text:this.scene.state.lang.shortPart+" "+(this.scene.state["user"+t].part+1)},c=this.scene.state.lang.improveToLevel.replace("$1",this.scene.state.territory.improve+1);this.scene.bigButton("grey","left",-30,c,o)}var l=this.scene.bigButton("red","center",60,this.scene.state.lang.exchangeWaterBtn);this.scene.clickModalBtn(l,(function(){e.exchangeTerritory()})),this.scene.resizeWindow(190)},e.prototype.exchangeTerritory=function(){this.scene.state.modal={type:1,sysType:11},this.scene.scene.restart(this.scene.state)},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=220,i=this.scene.state.farm,n=this.scene.state.lang.fair.replace("$1",String(this.scene.state["user"+i].fair));this.scene.textHeader.setText(n);var a=this.scene.state["user"+i],r=a.fair,o=this.scene.state[i.toLowerCase()+"Settings"].partSettings,c=o[a.part-1],h=this.scene.state[i.toLowerCase()+"Settings"][i.toLowerCase()+"FairLevels"].length;if(c&&r<h){var l=this.scene.state.lang.improveFair.replace("$1",String(r+1));this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-80,this.scene.state.lang["improve"+i+"Fair"],{font:"26px Shadow",fill:"#925C28",align:"center",wordWrap:{width:400}}).setDepth(1).setOrigin(.5,0);var d=o.filter((function(e){return e.territory.improveFairPrice>0}))[r-1].territory.improveFairPrice;if(o.findIndex((function(e){return e.territory.improveFairPrice===d}))>a.part-1&&(d=0),d>0){var u={icon:i.toLowerCase()+"Coin",text:s.shortNum(d)},p=this.scene.bigButton("green","left",90,l,u);this.scene.clickModalBtn(p,(function(){e.upgradeFair()}))}else{for(var f=a.part,m=f;m<o.length;m+=1)if(o[m].territory.improveFairPrice>0){f=m+1;break}u={icon:"lock",text:this.scene.state.lang.shortPart+" "+f};this.scene.bigButton("grey","left",90,l,u)}}else this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-20,this.scene.state.lang.maxFairLevel,{font:"26px Shadow",fill:"#925C28",align:"center",wordWrap:{width:400}}).setDepth(1).setOrigin(.5,0),t=170;this.scene.resizeWindow(t)},e.prototype.upgradeFair=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.game.scene.keys[this.scene.state.farm].territories.children.entries.find((function(e){return 4===e.territoryType})).fairLevelUp()},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(12),n=function(){function e(e){this.scene=e,this.params=this.scene.state.modal.confirmSpendParams,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=this.scene.state.lang,i=t.buySheep,n=t.badBalancePasture,a=t.badBalanceWater;this.scene.textHeader.setText(i);var r="pasture"===this.params.type?n:a,o=this.scene.cameras.main,c=o.centerX,h=o.centerY;this.scene.add.text(c,h-70,r,{fontSize:"26px",fontFamily:"Bip",color:"#925C28",wordWrap:{width:450},align:"center"}).setOrigin(.5);var l={color:"red",textAlign:"center",text:i},d={color:"green",textAlign:"center",text:this.scene.state.lang.cancel};new s.default(this.scene,60,(function(){e.closeWindow(),e.params.callback()}),l),new s.default(this.scene,140,this.closeWindow,d),this.scene.resizeWindow(310)},e.prototype.closeWindow=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=n},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(14),r=[{type:1,count:2},{type:5,count:1},{type:4,count:1},{type:3,count:1},{type:5,count:1},{type:4,count:1},{type:2,count:20}],o=function(e){function t(t){var i=e.call(this,t,t.cameras.main.centerX,t.cameras.main.centerY,"daily-bg")||this;return i.day=Number(t.state.daily)-1,i.create(),i}return n(t,e),t.prototype.create=function(){this.createWindow(),this.createAwards(),this.setListeners()},t.prototype.createWindow=function(){this.scene.add.existing(this),this.geom=this.getBounds(),this.scene.add.text(this.geom.centerX,this.geom.centerY-240,this.scene.state.lang.dailyAwards,{font:"26px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5),this.scene.add.text(this.geom.centerX,this.geom.centerY-190,this.scene.state.lang.dailyDescr,{font:"16px Shadow",color:"#FFE065",align:"center",wordWrap:{width:300}}).setOrigin(.5,.5),this.takeBtn=this.scene.add.sprite(this.geom.centerX,this.geom.centerY+360,"middle-button"),this.takeText=this.scene.add.text(this.geom.centerX,this.geom.centerY+357,this.scene.state.lang.pickUp,{font:"22px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5),this.scene.openModal(this.scene.cameras.main)},t.prototype.createAwards=function(){for(var e=[{x:this.geom.centerX-130,y:this.geom.centerY-50},{x:this.geom.centerX,y:this.geom.centerY-50},{x:this.geom.centerX+130,y:this.geom.centerY-50},{x:this.geom.centerX-130,y:this.geom.centerY+100},{x:this.geom.centerX,y:this.geom.centerY+100},{x:this.geom.centerX+130,y:this.geom.centerY+100},{x:this.geom.centerX,y:this.geom.centerY+250}],t=1;t<=r.length;t+=1){var i=this.scene.state.daily===t?"active":this.scene.state.daily>t?"complete":"";new c(this.scene,r[t-1],e[t-1],i,t)}},t.prototype.setListeners=function(){var e=this;this.scene.clickModalBtn({btn:this.takeBtn,title:this.takeText},(function(){if(e.day>6&&(e.day=0),r[e.day]){if(1===r[e.day].type||2===r[e.day].type){e.scene.state.user.diamonds+=r[e.day].count,e.scene.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"daily_award",count:r[e.day].count}),e.scene.game.scene.keys[e.scene.state.farm].autosave(),e.scene.game.scene.keys[e.scene.state.farm+"Bars"].getCurrency({x:e.scene.cameras.main.centerX,y:e.scene.cameras.main.centerY},r[e.day].count,"diamond");var t=e.scene.state.lang.dailyHint_1.replace("$1",String(r[e.day].count));a.default.create(e.scene.game.scene.keys[e.scene.state.farm+"Bars"],-250,t,2)}else if(3===r[e.day].type){e.scene.state.user.boosts[e.scene.state.farm.toLowerCase()].feed+=r[e.day].count;t=e.scene.state.lang["dailyHint_3_"+e.scene.state.farm];a.default.create(e.scene.game.scene.keys[e.scene.state.farm+"Bars"],-250,t,2)}else if(4===r[e.day].type){e.scene.state.user.boosts[e.scene.state.farm.toLowerCase()].herd+=r[e.day].count;t=e.scene.state.lang["dailyHint_4_"+e.scene.state.farm];a.default.create(e.scene.game.scene.keys[e.scene.state.farm+"Bars"],-250,t,2)}else if(5===r[e.day].type){e.scene.state.user.boosts[e.scene.state.farm.toLowerCase()].collector4+=r[e.day].count;t=e.scene.state.lang["dailyHint_5_"+e.scene.state.farm];a.default.create(e.scene.game.scene.keys[e.scene.state.farm+"Bars"],-250,t,2)}e.scene.game.scene.getScene(e.scene.state.farm).playSoundOnce("award-sound"),e.scene.state.daily=!1,e.scene.state.user.takenReward=!0,e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].ads.showInterstitialAd()}else e.scene.scene.stop()}))},t}(Phaser.GameObjects.Sprite);t.default=o;var c=function(){function e(e,t,i,s,n){var a=t.type,r=t.count;this.scene=e,this.type=a,this.count=r,this.position=i,this.state=s,this.day=n,this.create()}return e.prototype.create=function(){this.bg=this.scene.add.sprite(this.position.x,this.position.y,"award-bg").setTint(7829367).setDepth(2),this.achievement=this.scene.add.sprite(this.position.x,this.position.y+35,"achievement-daily").setTint(7829367).setOrigin(.5,0).setDepth(3),1===this.type?this.award=this.scene.add.sprite(this.position.x,this.position.y,"diamond").setTint(10066329).setScale(.27).setDepth(3):2===this.type?"active"!==this.state?this.award=this.scene.add.sprite(this.position.x,this.position.y-15,"gift").setTint(10066329).setDepth(3):this.award=this.scene.add.sprite(this.position.x,this.position.y,"diamond").setTint(10066329).setScale(.27).setDepth(3):this.award=this.scene.add.sprite(this.position.x,this.position.y,"award-"+this.type).setTint(10066329).setDepth(3),this.count>1&&(2!==this.type||2===this.type&&"active"===this.state)&&(this.countText=this.scene.add.text(this.position.x,this.position.y+15,String(this.count),{font:"22px Shadow",color:"#CCCCCC"}).setOrigin(.5,.5).setDepth(4),this.bubble=this.scene.add.graphics({x:this.position.x-33,y:this.position.y}).setDepth(4).fillStyle(268224840,.4).fillRoundedRect(0,0,66,30,5)),this.dayText=this.scene.add.text(this.position.x,this.position.y+40,this.scene.state.lang.day+" "+String(this.day),{font:"22px Shadow",color:"#783C10"}).setOrigin(.5,0).setTint(7829367).setDepth(5),this.scene.add.sprite(this.position.x,this.position.y,"flash-daily").setDepth(1).setVisible("active"===this.state),this.scene.add.sprite(this.position.x-47,this.position.y+42,"completed").setScale(.5).setDepth(4).setVisible("complete"===this.state),this.setState()},e.prototype.setState=function(){var e,t,i,s,n,a,r,o;"active"===this.state&&(null===(e=this.bg)||void 0===e||e.setTint(16777215),null===(t=this.achievement)||void 0===t||t.setTint(16777215),null===(i=this.dayText)||void 0===i||i.setTint(16777215),null===(s=this.award)||void 0===s||s.setTint(16777215),null===(n=this.countText)||void 0===n||n.setColor("#FFFFFF"),null===(a=this.bubble)||void 0===a||a.clear(),null===(r=this.bubble)||void 0===r||r.fillStyle(268224840,.6),null===(o=this.bubble)||void 0===o||o.fillRoundedRect(0,0,70,30,5))},e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(98),n=i(1),a=i(11);t.default=function(){var e=this;switch(this.state.modal.type){case 1:this.load.image("unicorn-status",a.default.unicornStatus),this.load.image("farmer",a.default.farmer),this.load.image("pb-chapter-modal",a.default.pbChapterAnimal),this.load.image("big-btn-grey",a.default.bigButtonGrey),this.load.image("big-btn-blue",a.default.bigButtonBlue),this.load.image("big-btn-orange",a.default.bigButtonOrange),this.load.image("big-btn-red",a.default.bigButtonRed),this.load.image("big-btn-yellow",a.default.bigButtonYellow),this.load.image("repository-sell-btn",a.default.repositorySellBtn),this.load.image("green-progress",a.default.greenProgress),this.load.image("middle-button",a.default.middleButton),this.load.image("sys-switch",a.default.sysSwitch);break;case 2:"Chicken"===this.state.farm?this.load.image("chicken-feed-boost-icon",a.default.feedBoostChickenIcon):"Cow"===this.state.farm&&this.load.image("cow-feed-boost-icon",a.default.feedBoostCowIcon);break;case 3:this.load.image("tasks-top",a.default.tasksTop),this.load.image("tasks-middle",a.default.tasksMiddle),this.load.image("tasks-bottom",a.default.tasksBottom),this.load.image("tasks-uncomplete",a.default.tasksUncomplete),this.load.image("tasks-reward",a.default.tasksReward),this.load.image("tasks-bar",a.default.tasksBar),this.load.image("close-window-btn",a.default.closeWindowBtn),this.load.image("part-progress",a.default.partProgress);break;case 4:this.load.image("award-bg",a.default.awardBg),this.load.image("daily-bg",a.default.dailyBg),this.load.image("achievement-daily",a.default.achievementDaily),this.load.image("flash-daily",a.default.flashDaily),this.load.image("middle-button",a.default.middleButton),this.load.image("award-3",a.default.award3),this.load.image("award-4",a.default.award4),this.load.image("award-5",a.default.award5);break;case 5:this.load.image("done-chapter",a.default.doneChapter),this.load.image("done-chapter-button",a.default.doneChapterButton),"Cow"===this.state.farm?n.default.checkTestB(this.state)?(this.load.image("cow-chapter-1",a.default.cowChapter1testB),this.load.image("cow-chapter-2",a.default.cowChapter2testB),this.load.image("cow-chapter-3",a.default.cowChapter3testB),this.load.image("cow-chapter-4",a.default.cowChapter4testB),this.load.image("cow-chapter-5",a.default.cowChapter5testB),this.load.image("cow-chapter-6",a.default.cowChapter1testB),this.load.image("cow-chapter-7",a.default.cowChapter6testB),this.load.image("cow-chapter-8",a.default.cowChapter1testB),this.load.image("cow-chapter-9",a.default.cowChapter3testB),this.load.image("cow-chapter-10",a.default.cowChapter1testB),this.load.image("cow-chapter-11",a.default.cowChapter3testB),this.load.image("cow-chapter-12",a.default.cowChapter1testB),this.load.image("cow-chapter-13",a.default.cowChapter3testB),this.load.image("cow-chapter-14",a.default.cowChapter1testB),this.load.image("cow-chapter-15",a.default.cowChapter3testB),this.load.image("cow-chapter-16",a.default.cowChapter1testB),this.load.image("cow-chapter-17",a.default.cowChapter3testB),this.load.image("cow-chapter-18",a.default.cowChapter1testB),this.load.image("cow-chapter-19",a.default.cowChapter3testB)):(this.load.image("cow-chapter-1",a.default.cowChapter1),this.load.image("cow-chapter-2",a.default.cowChapter2),this.load.image("cow-chapter-3",a.default.cowChapter3),this.load.image("cow-chapter-4",a.default.cowChapter4),this.load.image("cow-chapter-5",a.default.cowChapter5),this.load.image("cow-chapter-6",a.default.cowChapter6),this.load.image("cow-chapter-7",a.default.cowChapter7),this.load.image("cow-chapter-8",a.default.cowChapter8),this.load.image("cow-chapter-9",a.default.cowChapter9),this.load.image("cow-chapter-10",a.default.cowChapter10),this.load.image("cow-chapter-11",a.default.cowChapter11),this.load.image("cow-chapter-12",a.default.cowChapter12),this.load.image("cow-chapter-13",a.default.cowChapter13),this.load.image("cow-chapter-14",a.default.cowChapter14),this.load.image("cow-chapter-15",a.default.cowChapter15),this.load.image("cow-chapter-16",a.default.cowChapter16)):"Sheep"===this.state.farm?n.default.checkTestB(this.state)?(this.load.image("sheep-chapter-1",a.default.sheepChapter1testB),this.load.image("sheep-chapter-2",a.default.sheepChapter2testB),this.load.image("sheep-chapter-3",a.default.sheepChapter3testB),this.load.image("sheep-chapter-4",a.default.sheepChapter4testB),this.load.image("sheep-chapter-5",a.default.sheepChapter5testB),this.load.image("sheep-chapter-6",a.default.sheepChapter1testB),this.load.image("sheep-chapter-7",a.default.sheepChapter6testB),this.load.image("sheep-chapter-8",a.default.sheepChapter1testB),this.load.image("sheep-chapter-9",a.default.sheepChapter3testB),this.load.image("sheep-chapter-10",a.default.sheepChapter1testB),this.load.image("sheep-chapter-11",a.default.sheepChapter3testB),this.load.image("sheep-chapter-12",a.default.sheepChapter1testB),this.load.image("sheep-chapter-13",a.default.sheepChapter3testB),this.load.image("sheep-chapter-14",a.default.sheepChapter1testB),this.load.image("sheep-chapter-15",a.default.sheepChapter3testB),this.load.image("sheep-chapter-16",a.default.sheepChapter1testB),this.load.image("sheep-chapter-17",a.default.sheepChapter3testB),this.load.image("sheep-chapter-18",a.default.sheepChapter1testB),this.load.image("sheep-chapter-19",a.default.sheepChapter3testB)):(this.load.image("sheep-chapter-1",a.default.sheepChapter1),this.load.image("sheep-chapter-2",a.default.sheepChapter2),this.load.image("sheep-chapter-3",a.default.sheepChapter3),this.load.image("sheep-chapter-4",a.default.sheepChapter4),this.load.image("sheep-chapter-5",a.default.sheepChapter5),this.load.image("sheep-chapter-6",a.default.sheepChapter6),this.load.image("sheep-chapter-7",a.default.sheepChapter7),this.load.image("sheep-chapter-8",a.default.sheepChapter8),this.load.image("sheep-chapter-9",a.default.sheepChapter9),this.load.image("sheep-chapter-10",a.default.sheepChapter10),this.load.image("sheep-chapter-11",a.default.sheepChapter11),this.load.image("sheep-chapter-12",a.default.sheepChapter12),this.load.image("sheep-chapter-13",a.default.sheepChapter13),this.load.image("sheep-chapter-14",a.default.sheepChapter14),this.load.image("sheep-chapter-15",a.default.sheepChapter15),this.load.image("sheep-chapter-16",a.default.sheepChapter16)):"Chicken"===this.state.farm&&(n.default.checkTestB(this.state)?(this.load.image("chicken-chapter-1",a.default.chickenChapter1testB),this.load.image("chicken-chapter-2",a.default.chickenChapter2testB),this.load.image("chicken-chapter-3",a.default.chickenChapter3testB),this.load.image("chicken-chapter-4",a.default.chickenChapter4testB),this.load.image("chicken-chapter-5",a.default.chickenChapter5testB),this.load.image("chicken-chapter-6",a.default.chickenChapter1testB),this.load.image("chicken-chapter-7",a.default.chickenChapter6testB),this.load.image("chicken-chapter-8",a.default.chickenChapter1testB),this.load.image("chicken-chapter-9",a.default.chickenChapter3testB),this.load.image("chicken-chapter-10",a.default.chickenChapter1testB),this.load.image("chicken-chapter-11",a.default.chickenChapter3testB),this.load.image("chicken-chapter-12",a.default.chickenChapter1testB),this.load.image("chicken-chapter-13",a.default.chickenChapter3testB),this.load.image("chicken-chapter-14",a.default.chickenChapter1testB),this.load.image("chicken-chapter-15",a.default.chickenChapter3testB),this.load.image("chicken-chapter-16",a.default.chickenChapter1testB),this.load.image("chicken-chapter-17",a.default.chickenChapter3testB),this.load.image("chicken-chapter-18",a.default.chickenChapter1testB),this.load.image("chicken-chapter-19",a.default.chickenChapter3testB)):(this.load.image("chicken-chapter-1",a.default.chickenChapter1),this.load.image("chicken-chapter-2",a.default.chickenChapter2),this.load.image("chicken-chapter-3",a.default.chickenChapter3),this.load.image("chicken-chapter-4",a.default.chickenChapter4),this.load.image("chicken-chapter-5",a.default.chickenChapter5),this.load.image("chicken-chapter-6",a.default.chickenChapter6),this.load.image("chicken-chapter-7",a.default.chickenChapter7),this.load.image("chicken-chapter-8",a.default.chickenChapter8),this.load.image("chicken-chapter-9",a.default.chickenChapter9),this.load.image("chicken-chapter-10",a.default.chickenChapter10),this.load.image("chicken-chapter-11",a.default.chickenChapter11),this.load.image("chicken-chapter-12",a.default.chickenChapter12),this.load.image("chicken-chapter-13",a.default.chickenChapter13),this.load.image("chicken-chapter-14",a.default.chickenChapter14),this.load.image("chicken-chapter-15",a.default.chickenChapter15),this.load.image("chicken-chapter-16",a.default.chickenChapter16)));break;case 6:this.load.image("newbie-bg",a.default.newbieBg),this.load.image("newbie-day-0",a.default.newbieDay0),this.load.image("newbie-day-1",a.default.newbieDay1),this.load.image("newbie-day-2",a.default.newbieDay2),this.load.image("newbie-day-3",a.default.newbieDay3),this.load.image("newbie-day-4",a.default.newbieDay4),this.load.image("newbie-day-5",a.default.newbieDay5),this.load.image("newbie-day-6",a.default.newbieDay6),this.load.image("newbie-day-7",a.default.newbieDay7),this.load.image("day-yellow",a.default.dayYellow),this.load.image("day-purple",a.default.dayPurple),this.load.image("day-red",a.default.dayRed),this.load.image("award-received",a.default.awardReceived),this.load.image("close-window-btn",a.default.closeWindowBtn);break;case 7:this.load.image("done-chapter-button",a.default.doneChapterButton),this.load.image("donate",a.default.donateBg);break;case 8:"Sheep"===this.state.farm&&this.load.image("herd-boost-road-sheep",a.default.herdBoostRoadSheep),"Chicken"===this.state.farm&&this.load.image("herd-boost-road-chicken",a.default.herdBoostRoadChicken),"Cow"===this.state.farm&&this.load.image("herd-boost-road-cow",a.default.herdBoostRoadCow),"Unicorn"===this.state.farm&&this.load.image("herd-boost-road-unicorn",a.default.herdBoostRoadEvent),this.load.image("bad-merging-animation",a.default.badMergingAnimation),this.load.image("boost-window-bg",a.default.boostWindowBg),this.load.image("boost-countdown",a.default.boostCountdown),this.load.image("boost-leaves",a.default.boostLeaves),this.load.image("flags",a.default.flags);break;case 9:this.load.image("chat-bg",a.default.chatBackground),this.load.image("chat-delete-bg",a.default.chatDeleteBg),this.load.image("chat-trash",a.default.chatTrash),this.load.image("chat-arrow",a.default.chatArrow),this.load.atlas("chat-tab",a.default.chatTab,s.tabAtlas),this.load.image("chat-foreign-message-bg",a.default.chatForeignMessageBg),this.load.image("chat-clan-message-bg",a.default.chatClanMessageBg),this.load.image("chat-admin-message-bg",a.default.chatAdminMessageBg),this.load.image("chat-user-message-bg",a.default.chatUserMessageBg),this.load.image("chat-tab-close",a.default.chatTabClose),this.load.atlas("chat-tab-active",a.default.chatTabActive,s.tabActiveAtlas),this.load.image("chat-input-bg",a.default.chatInput),this.load.image("chat-send-btn",a.default.chatSendBtn),this.load.image("chat-emoji-btn",a.default.chatEmojiBtn),this.load.image("unicorn-status",a.default.unicornStatus),this.load.image("profile-window-button-yellow",a.default.profileWindowBtnYellow),this.load.image("profile-window-button-red",a.default.profileWindowBtnRed),this.load.image("profile-window-button-green",a.default.profileWindowBtnGreen);break;case 10:this.load.image("autoprogress-bg",a.default.autoprogressBG),this.load.image("purple-btn",a.default.purpleBtn);break;case 11:this.load.image("rating-bg",a.default.ratingBG),this.load.image("rating-rules-btn",a.default.ratingRulesBtn),this.load.image("rating-price-btn",a.default.ratingPriseBtn),this.load.image("rating-places",a.default.ratingPrisePlaces),this.load.image("unicorn-status",a.default.unicornStatus),this.load.image("close-window-btn",a.default.closeWindowBtn);break;case 12:this.load.image("raiting-bg-after",a.default.ratingBGAfter),this.load.image("rating-places",a.default.ratingPrisePlaces),this.load.image("rating-rules-btn",a.default.ratingRulesBtn),this.load.image("rating-price-btn",a.default.ratingPriseBtn),this.load.image("unicorn-status",a.default.unicornStatus),this.load.image("close-window-btn",a.default.closeWindowBtn);break;case 13:this.load.image("factory-window",a.default.factoryWindow),this.load.image("factory-wheel",a.default.factoryWheel),this.load.image("factory-production-1",a.default.factoryProduction1),this.load.image("factory-production-2",a.default.factoryProduction2),this.load.image("factory-production-3",a.default.factoryProduction3),this.load.image("factory-production-4",a.default.factoryProduction4),this.load.image("factory-cacao",a.default.factoryCacao),this.load.image("factory-production-slot-2",a.default.factoryProductionSlot2),this.load.image("factory-production-slot-disable-2",a.default.factoryProductionSlotDisable2),this.load.image("factory-production-slot-3",a.default.factoryProductionSlot3),this.load.image("factory-production-slot-disable-3",a.default.factoryProductionSlotDisable3),this.load.image("factory-production-slot-4",a.default.factoryProductionSlot4),this.load.image("factory-production-slot-disable-4",a.default.factoryProductionSlotDisable4),this.load.image("close-window-btn",a.default.closeWindowBtn);break;case 14:this.load.image("social-task-bg",a.default.socialTaskBg),this.load.image("social-task-top",a.default.socialTaskTop),this.load.image("social-task-bottom",a.default.socialTaskBottom),this.load.image("social-task-middle",a.default.socialTaskMiddle),this.load.image("shop-btn",a.default.shopBtn),this.load.image("shop-btn-disable",a.default.shopBtnDisable),this.load.image("close-window-btn",a.default.closeWindowBtn);break;case 15:this.load.image("profile-window-settings-btn",a.default.profileWindowSettingsBtn),this.load.image("profile-window-footer",a.default.profileWindowFooter),this.load.image("profile-window-header",a.default.profileWindowHeader),this.load.image("profile-window-level",a.default.profileWindowLevel),this.load.image("profile-window-bg",a.default.profileWindowBg),this.load.image("profile-window-button-yellow",a.default.profileWindowBtnYellow),this.load.image("profile-window-button-red",a.default.profileWindowBtnRed),this.load.image("profile-window-button-green",a.default.profileWindowBtnGreen),this.load.image("profile-window-button-blue",a.default.profileWindowBtnBlue),this.load.image("profile-window-edit-avatar-btn",a.default.profileWindowEitAvatarBtn),this.load.image("clan-window-search-plate-ns",a.default.clanWindowSearchPlate),this.load.image("profile-window-line",a.default.profileWindowLine),this.load.image("close-window-btn",a.default.closeWindowBtn),this.load.image("avatar-1",a.default.avatar1),this.load.image("avatar-2",a.default.avatar2),this.load.image("avatar-3",a.default.avatar3),this.load.image("avatar-4",a.default.avatar4),this.load.image("avatar-5",a.default.avatar5),this.load.image("avatar-6",a.default.avatar6),"vk"!==this.state.platform&&"ok"!==this.state.platform&&"ya"!==this.state.platform||""===this.state.avatar||this.load.image("avatar-"+this.state.user.id,this.state.avatar);break;case 16:this.load.image("settings-window-header",a.default.settingsWindowHeader),this.load.image("settings-window-minus",a.default.settingsWindowMinus),this.load.image("settings-window-plus",a.default.settingsWindowPlus),this.load.image("settings-window-segment",a.default.settingsWindowSegment),this.load.image("settings-window-music-plate",a.default.settingsWindowMusicPlate),this.load.image("settings-window-sound-plate",a.default.settingsWindowSoundPlate),this.load.image("close-window-btn",a.default.closeWindowBtn);break;case 17:case 18:case 19:case 20:"vk"!==this.state.platform&&"ok"!==this.state.platform&&"ya"!==this.state.platform||""===this.state.avatar||this.load.image("avatar-"+this.state.user.id,this.state.avatar),this.load.image("avatar-0",a.default.avatar0),this.load.image("avatar-1",a.default.avatar1),this.load.image("avatar-2",a.default.avatar2),this.load.image("avatar-3",a.default.avatar3),this.load.image("avatar-4",a.default.avatar4),this.load.image("avatar-5",a.default.avatar5),this.load.image("avatar-6",a.default.avatar6),this.load.image("avatar-7",a.default.avatar7),this.load.image("avatar-8",a.default.avatar8),this.load.image("icon-shop-sheep",a.default.iconShopSheep),this.load.image("icon-shop-chicken",a.default.iconShopChicken),this.load.image("icon-shop-cow",a.default.iconShopCow),this.load.image("modal-square-bg",a.default.squareBg),this.load.image("clan-window-header",a.default.clanWindowHeader),this.load.image("clan-window-tab-active",a.default.clanWindowTabActive),this.load.image("clan-window-tab-active-tl",a.default.clanWindowTabActiveTL),this.load.image("clan-window-tab-active-tc",a.default.clanWindowTabActiveTC),this.load.image("clan-window-tab-active-tr",a.default.clanWindowTabActiveTR),this.load.image("clan-window-tab-active-ml",a.default.clanWindowTabActiveML),this.load.image("clan-window-tab-active-mc",a.default.clanWindowTabActiveMC),this.load.image("clan-window-tab-active-mr",a.default.clanWindowTabActiveMR),this.load.image("clan-window-tab-active-bl",a.default.clanWindowTabActiveBL),this.load.image("clan-window-tab-active-bc",a.default.clanWindowTabActiveBC),this.load.image("clan-window-tab-active-br",a.default.clanWindowTabActiveBR),this.load.image("clan-window-tab-disable",a.default.clanWindowTabDisable),this.load.image("clan-window-tab-disable-tl",a.default.clanWindowTabDisableTL),this.load.image("clan-window-tab-disable-tc",a.default.clanWindowTabDisableTC),this.load.image("clan-window-tab-disable-tr",a.default.clanWindowTabDisableTR),this.load.image("clan-window-tab-disable-ml",a.default.clanWindowTabDisableML),this.load.image("clan-window-tab-disable-mc",a.default.clanWindowTabDisableMC),this.load.image("clan-window-tab-disable-mr",a.default.clanWindowTabDisableMR),this.load.image("clan-window-tab-disable-bl",a.default.clanWindowTabDisableBL),this.load.image("clan-window-tab-disable-bc",a.default.clanWindowTabDisableBC),this.load.image("clan-window-tab-disable-br",a.default.clanWindowTabDisableBR),this.load.image("clan-window-tab-close",a.default.clanWindowTabClose),this.load.image("clan-window-crown",a.default.clanWindowCrown),this.load.image("clan-window-line",a.default.clanWindowLine),this.load.image("close-window-btn",a.default.closeWindowBtn),this.load.image("clan-window-medal-bronze",a.default.clanWindowMedalBronze),this.load.image("clan-window-medal-gold",a.default.clanWindowMedalGold),this.load.image("clan-window-medal-silver",a.default.clanWindowMedalSilver),this.load.image("clan-window-medal",a.default.clanWindowMedal),this.load.image("clan-window-medal-ns",a.default.clanWindowMedal),this.load.image("clan-window-leader-plate",a.default.clanWindowLeaderPlate),this.load.image("clan-window-leader-plate-2",a.default.clanWindowLeaderPlate),this.load.image("clan-window-search-plate",a.default.clanWindowSearchPlate),this.load.image("clan-window-points-bg",a.default.clanWindowPointsBg),this.load.image("clan-window-wreath",a.default.clanWindowWreath),this.load.image("clan-window-wreath-bg",a.default.clanWindowBgWreath),this.load.image("clan-window-icon-1",a.default.clanWindowIcon1),this.load.image("clan-window-icon-2",a.default.clanWindowIcon2),this.load.image("clan-window-icon-3",a.default.clanWindowIcon3),this.load.image("clan-window-icon-4",a.default.clanWindowIcon4),this.load.image("clan-window-icon-5",a.default.clanWindowIcon5),this.load.image("clan-window-exclude-button",a.default.clanWindowExcludeBtn),this.load.image("clan-icon-1",a.default.clanIcon1),this.load.image("clan-icon-2",a.default.clanIcon2),this.load.image("clan-icon-3",a.default.clanIcon3),this.load.image("clan-icon-4",a.default.clanIcon4),this.load.image("clan-icon-5",a.default.clanIcon5),this.load.image("clan-icon-6",a.default.clanIcon6),this.load.image("clan-icon-7",a.default.clanIcon7),this.load.image("clan-icon-8",a.default.clanIcon8),this.load.image("clan-icon-9",a.default.clanIcon9),this.load.image("clan-icon-10",a.default.clanIcon10),this.load.image("clan-icon-11",a.default.clanIcon11),this.load.image("clan-icon-12",a.default.clanIcon12),this.load.image("clan-frame-1",a.default.clanFrame1),this.load.image("clan-frame-1",a.default.clanFrame1),this.load.image("clan-frame-2",a.default.clanFrame2),this.load.image("clan-frame-3",a.default.clanFrame3),this.load.image("clan-frame-4",a.default.clanFrame4),this.load.image("clan-frame-5",a.default.clanFrame5),this.load.image("clan-frame-6",a.default.clanFrame6),this.load.image("clan-frame-7",a.default.clanFrame7),this.load.image("clan-frame-8",a.default.clanFrame8),this.load.image("clan-frame-9",a.default.clanFrame9),this.load.image("clan-frame-10",a.default.clanFrame10),this.load.image("clan-frame-11",a.default.clanFrame11),this.load.image("clan-bg-1",a.default.clanBg1),this.load.image("clan-bg-2",a.default.clanBg2),this.load.image("clan-bg-3",a.default.clanBg3),this.load.image("clan-bg-4",a.default.clanBg4),this.load.image("clan-bg-5",a.default.clanBg5),this.load.image("clan-bg-6",a.default.clanBg6),this.load.image("clan-bg-7",a.default.clanBg7),this.load.image("clan-bg-8",a.default.clanBg8),this.load.image("clan-bg-9",a.default.clanBg9),this.load.image("clan-bg-10",a.default.clanBg10),this.load.image("clan-bg-11",a.default.clanBg11),this.load.image("clan-bg-12",a.default.clanBg12),this.load.image("clan-bg-13",a.default.clanBg13),this.load.image("clan-bg-14",a.default.clanBg14),this.load.image("clan-main-frame",a.default.clanMainFrame),this.load.image("clan-window-search-plate-ns",a.default.clanWindowSearchPlate),this.load.image("clan-window-leader-plate-ns",a.default.clanWindowLeaderPlateSliced),this.load.image("clan-bank-sheep-package-1",a.default.clanBankSheepPackage1),this.load.image("clan-bank-sheep-package-2",a.default.clanBankSheepPackage2),this.load.image("clan-bank-sheep-package-3",a.default.clanBankSheepPackage3),this.load.image("clan-bank-sheep-package-4",a.default.clanBankSheepPackage4),this.load.image("clan-bank-chicken-package-1",a.default.clanBankChickenPackage1),this.load.image("clan-bank-chicken-package-2",a.default.clanBankChickenPackage2),this.load.image("clan-bank-chicken-package-3",a.default.clanBankChickenPackage3),this.load.image("clan-bank-chicken-package-4",a.default.clanBankChickenPackage4),this.load.image("clan-bank-cow-package-1",a.default.clanBankCowPackage1),this.load.image("clan-bank-cow-package-2",a.default.clanBankCowPackage2),this.load.image("clan-bank-cow-package-3",a.default.clanBankCowPackage3),this.load.image("clan-bank-cow-package-4",a.default.clanBankCowPackage4),this.load.image("clan-bank-diamond-package-1",a.default.clanBankDiamondPackage1),this.load.image("clan-bank-diamond-package-2",a.default.clanBankDiamondPackage2),this.load.image("clan-bank-diamond-package-3",a.default.clanBankDiamondPackage3),this.load.image("clan-bank-diamond-package-4",a.default.clanBankDiamondPackage4),this.load.image("icon-clan-sheep",a.default.iconClanSheep),this.load.image("icon-clan-chicken",a.default.iconClanChicken),this.load.image("icon-clan-cow",a.default.iconClanCow),this.load.image("modal-header-orange",a.default.headerOrange),this.load.image("tasks-top",a.default.tasksTop),this.load.image("tasks-middle",a.default.tasksMiddle),this.load.image("tasks-bottom",a.default.tasksBottom),this.load.image("tasks-complete",a.default.tasksComplete),this.load.image("tasks-uncomplete",a.default.tasksUncomplete),this.load.image("tasks-reward",a.default.tasksReward),this.load.image("tasks-bar",a.default.tasksBar),this.load.image("close-window-btn",a.default.closeWindowBtn),this.load.image("part-progress",a.default.partProgress),this.load.image("clan-task-icon-1",a.default.clanTaskIcon1),this.load.image("clan-task-icon-2",a.default.clanTaskIcon2),this.load.image("clan-task-icon-3",a.default.clanTaskIcon3),this.load.image("clan-task-icon-4",a.default.clanTaskIcon4),this.load.image("clan-task-icon-5",a.default.clanTaskIcon5),this.load.image("clan-task-icon-6",a.default.clanTaskIcon6),this.load.image("clan-task-icon-7",a.default.clanTaskIcon7),this.load.image("clan-task-icon-8",a.default.clanTaskIcon8),this.load.image("clan-task-icon-9",a.default.clanTaskIcon9),this.load.image("clan-task-icon-10",a.default.clanTaskIcon10),this.load.image("clan-task-icon-11",a.default.clanTaskIcon11),this.load.image("clan-task-icon-12",a.default.clanTaskIcon12),this.load.image("clan-task-icon-13",a.default.clanTaskIcon13),this.load.image("clan-task-icon-14",a.default.clanTaskIcon14),this.load.image("clan-task-icon-15",a.default.clanTaskIcon15),this.load.image("clan-task-icon-16",a.default.clanTaskIcon16),this.load.image("clan-task-icon-17",a.default.clanTaskIcon17),this.load.image("clan-task-icon-18",a.default.clanTaskIcon18),this.load.image("clan-task-icon-19",a.default.clanTaskIcon19),this.load.image("clan-bank-button",a.default.clanBankBtn),this.load.image("clan-tab-icon-sheep",a.default.clanTabIconSheep),this.load.image("clan-tab-icon-chicken",a.default.clanTabIconChicken),this.load.image("clan-tab-icon-cow",a.default.clanTabIconCow),this.load.image("clan-tournament-header",a.default.clanTournamentHeader),this.load.image("clan-tournament-decor",a.default.clanTournamentDecor),this.load.image("clan-tournament-animal-bg",a.default.clanTournamentAnimalBg),this.load.image("clan-tournament-plate-bg",a.default.clanTournamentPlateBg),this.load.image("clan-sheep-1",a.default.clanSheep1),this.load.image("clan-sheep-2",a.default.clanSheep2),this.load.image("clan-sheep-3",a.default.clanSheep3),this.load.image("clan-sheep-4",a.default.clanSheep4),this.load.image("clan-sheep-5",a.default.clanSheep5),this.load.image("clan-sheep-6",a.default.clanSheep6),this.load.image("clan-sheep-7",a.default.clanSheep7),this.load.image("clan-sheep-8",a.default.clanSheep8),this.load.image("clan-sheep-9",a.default.clanSheep9),this.load.image("clan-sheep-10",a.default.clanSheep10),this.load.image("clan-sheep-11",a.default.clanSheep11),this.load.image("clan-sheep-12",a.default.clanSheep12),this.load.image("clan-chicken-1",a.default.clanChicken1),this.load.image("clan-chicken-2",a.default.clanChicken2),this.load.image("clan-chicken-3",a.default.clanChicken3),this.load.image("clan-chicken-4",a.default.clanChicken4),this.load.image("clan-chicken-5",a.default.clanChicken5),this.load.image("clan-chicken-6",a.default.clanChicken6),this.load.image("clan-chicken-7",a.default.clanChicken7),this.load.image("clan-chicken-8",a.default.clanChicken8),this.load.image("clan-chicken-9",a.default.clanChicken9),this.load.image("clan-chicken-10",a.default.clanChicken10),this.load.image("clan-chicken-11",a.default.clanChicken11),this.load.image("clan-chicken-12",a.default.clanChicken12),this.load.image("clan-cow-1",a.default.clanCow1),this.load.image("clan-cow-2",a.default.clanCow2),this.load.image("clan-cow-3",a.default.clanCow3),this.load.image("clan-cow-4",a.default.clanCow4),this.load.image("clan-cow-5",a.default.clanCow5),this.load.image("clan-cow-6",a.default.clanCow6),this.load.image("clan-cow-7",a.default.clanCow7),this.load.image("clan-cow-8",a.default.clanCow8),this.load.image("clan-cow-9",a.default.clanCow9),this.load.image("clan-cow-10",a.default.clanCow10),this.load.image("clan-cow-11",a.default.clanCow11),this.load.image("clan-cow-12",a.default.clanCow12),this.load.image("shop-btn",a.default.shopBtn),this.load.image("shop-btn-disable",a.default.shopBtnDisable),this.load.image("decor-left",a.default.decor1),this.load.image("decor-right",a.default.decor2),this.load.image("clan-star",a.default.clanStar);break;case 22:this.load.image("modal-header-event-end",a.default.headerEventEnd),this.load.image("clan-window-leader-plate-2",a.default.clanWindowLeaderPlate),this.load.image("clan-window-line",a.default.clanWindowLine),this.load.image("done-chapter-button",a.default.doneChapterButton),this.load.image("clan-award-plate",a.default.clanRewardPlate),this.load.image("decor-left",a.default.decor1),this.load.image("decor-right",a.default.decor2),this.load.image("clan-big-medal",a.default.bigMedal),this.load.image("clan-big-star",a.default.bigStar),this.load.image("clan-glow",a.default.clanGlow),this.load.image("clan-building",a.default.clanBuilding),this.load.image("circle",a.default.circle),this.load.image("clan-diamond-coin",a.default.clanDiamondCoin);break;case 23:this.load.image("sale-window-header",a.default.saleWindowHeader),this.load.image("sale-window-flags",a.default.saleWindowFlags),this.load.image("sale-window-double-count",a.default.saleWindowDoubleCount),this.load.image("sale-window-half-price",a.default.saleWindowHalfPrice),this.load.image("sale-window-header",a.default.settingsWindowHeader),this.load.image("close-window-btn",a.default.closeWindowBtn),this.load.image("sale-icon-chicken-collector-improve",a.default.saleIconChickenCollectorImprove),this.load.image("sale-icon-chicken-collector-price",a.default.saleIconChickenCollectorPrice),this.load.image("sale-icon-chicken-feed",a.default.saleIconChickenFeed),this.load.image("sale-icon-chicken-herd",a.default.saleIconChickenHerd),this.load.image("sale-icon-chicken-money",a.default.saleIconChickenMoney),this.load.image("sale-icon-chicken-price",a.default.saleIconChickenPrice),this.load.image("sale-icon-chicken-repository-improve",a.default.saleIconChickenRepositoryImprove),this.load.image("sale-icon-clan",a.default.saleIconClan),this.load.image("sale-icon-cow-collector-improve",a.default.saleIconCowCollectorImprove),this.load.image("sale-icon-cow-collector-price",a.default.saleIconCowCollectorPrice),this.load.image("sale-icon-cow-factory-improve",a.default.saleIconCowFactoryImprove),this.load.image("sale-icon-cow-feed",a.default.saleIconCowFeed),this.load.image("sale-icon-cow-herd",a.default.saleIconCowHerd),this.load.image("sale-icon-cow-money",a.default.saleIconCowMoney),this.load.image("sale-icon-cow-price",a.default.saleIconCowPrice),this.load.image("sale-icon-cow-repository-improve",a.default.saleIconCowRepositoryImprove),this.load.image("sale-icon-diamond-count",a.default.saleIconDiamondCount),this.load.image("sale-icon-package-price",a.default.saleIconPackagePrice),this.load.image("sale-icon-sheep-collector-improve",a.default.saleIconSheepCollectorImprove),this.load.image("sale-icon-sheep-collector-price",a.default.saleIconSheepCollectorPrice),this.load.image("sale-icon-sheep-feed",a.default.saleIconSheepFeed),this.load.image("sale-icon-sheep-herd",a.default.saleIconSheepHerd),this.load.image("sale-icon-sheep-money",a.default.saleIconSheepMoney),this.load.image("sale-icon-sheep-price",a.default.saleIconSheepPrice),this.load.image("sale-icon-sheep-repository-improve",a.default.saleIconSheepRepositoryImprove),this.load.image("modal-bg-plate",a.default.modalBgPlate);break;case 24:this.load.image("review-bg",a.default.reviewBg),this.load.image("review-btn-like",a.default.reviewBtnLike),this.load.image("review-btn-dislike",a.default.reviewBtnDislike);break;case 25:this.load.image("profile-window-header",a.default.profileWindowHeader),this.load.image("profile-window-bg",a.default.profileWindowBg),this.load.image("profile-window-level",a.default.profileWindowBg),this.load.image("avatar-0",a.default.avatar0),this.load.image("avatar-1",a.default.avatar1),this.load.image("avatar-2",a.default.avatar2),this.load.image("avatar-3",a.default.avatar3),this.load.image("avatar-4",a.default.avatar4),this.load.image("avatar-5",a.default.avatar5),this.load.image("avatar-6",a.default.avatar6),this.load.image("avatar-7",a.default.avatar7),this.load.image("avatar-8",a.default.avatar8),this.load.image("buy-avatar-plate",a.default.buyPlate),this.load.image("avatar-frame",a.default.avatarFrame);break;case 26:this.load.image("achievement-bg",a.default.achievementBg),this.load.image("achievement-bg-complete",a.default.achievementBgComplete),this.load.image("achievement-frame",a.default.achievementFrame),this.load.image("achievement-window-header",a.default.achievementHeader),Object.keys(a.default.iconsUrl).forEach((function(t){t.includes("ach")&&e.load.image(t+"-status",a.default.iconsUrl[t])}));break;case 27:this.load.image("settings-plate",a.default.settingsPlate),this.load.image("clear-plate",a.default.clearPlate)}}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=function(e){function t(t){var i=e.call(this,t,t.cameras.main.centerX,t.cameras.main.centerY,"factory-window")||this;return i.create(),i}return n(t,e),t.prototype.create=function(){this.scene.add.existing(this),this.createBitMask(),this.createElements()},t.prototype.createElements=function(){var e=this,t=this.scene.state.territory.factory,i=this.scene.state.lang.factory.replace("$1",this.scene.state.territory.improve),s=this.getBounds();this.scene.add.text(s.centerX-30,s.centerY-405,i,{font:"40px Shadow",color:"#fffcdc"}).setOrigin(.5),this.closeBtn=this.scene.add.sprite(s.right-50,s.top+40,"close-window-btn"),this.scene.clickButton(this.closeBtn,(function(){e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0})),this.milkInStorageText1=this.scene.add.text(s.left+60,s.top+130,this.scene.state.lang.milkInStorage,{font:"20px Shadow",color:"#fffcdc"}).setOrigin(0,.5).setShadow(2,2,"#08080888",2),this.scene.add.text(s.left+60,s.top+155,this.scene.state.lang.slotSize,{font:"20px Shadow",color:"#fffcdc"}).setOrigin(0,.5).setShadow(2,2,"#08080888",2);for(var n=0,r=0,o=this.scene.game.scene.keys.Cow.territories.children.entries;r<o.length;r++){var c=o[r];5===c.territoryType&&(n+=c.volume)}this.milkInStorageText2=this.scene.add.text(s.right-140,s.top+130,a.shortNum(n),{font:"20px Shadow",color:"#fffcdc"}).setOrigin(0,.5).setShadow(2,2,"#08080888",2),this.scene.add.text(s.right-140,s.top+155,a.shortNum(t.settings.lotSize),{font:"20px Shadow",color:"#fffcdc"}).setOrigin(0,.5).setShadow(2,2,"#08080888",2),this.scene.add.sprite(s.centerX,s.centerY-159,"factory-wheel").setDepth(1).setMask(this.productMask),this.scene.add.sprite(s.centerX+239,s.centerY-159,"factory-wheel").setDepth(1).setMask(this.productMask);var h=t.currentProduction?this.scene.state.lang[t.currentProduction]:"";this.currentProductionText=this.scene.add.text(s.centerX,s.centerY-135,this.scene.state.lang.produced+": "+h,{font:"20px Shadow",color:"#cd7f20"}).setOrigin(.5,.5),this.scene.add.sprite(s.centerX,s.centerY-100,"pb-chapter-modal"),this.progressBar=this.scene.add.tileSprite(136,s.centerY-100,0,16,"green-progress").setOrigin(0,.5);var l=this.scene.add.text(s.left+50,s.centerY-40,""+this.scene.state.lang.efficiencyProduction,{font:"18px Shadow",color:"#773a05",align:"left",wordWrap:{width:200}}).setOrigin(0,.5),d=this.scene.add.text(s.centerX-20,s.centerY-40,t.settings.efficiency+"%",{font:"42px Shadow",color:"#773a05",align:"center"}).setOrigin(.5);if(this.scene.state.cowSettings.cowFactorySettings.find((function(e){return e.improve===t.improve+1}))){var u=this.scene.add.sprite(s.centerX+130,s.centerY-37,"improve-collector"),p=this.scene.add.text(s.centerX+130,s.centerY-40,this.scene.state.lang.improve,{font:"26px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5).setStroke("#3B5367",4);this.scene.clickShopBtn({btn:u,title:p},(function(){e.scene.game.scene.keys[e.scene.state.farm].showImproveFactory()}))}else l.setPosition(s.centerX-140,s.centerY-40),d.setPosition(s.centerX+90,s.centerY-42);this.scene.add.text(s.centerX,s.centerY+47,this.scene.state.lang.probabilityOfProduction,{font:"19px Shadow",color:"#feb55f"}).setOrigin(.5);var f=t.getPercent(),m=f[0];this.product1PercentText=this.scene.add.text(s.left+113,s.centerY+92,m+"%",{font:"33px Shadow",color:m>0?"#773a05":"#595959",align:"center"}).setOrigin(.5);var g=f[1],y=g>0?"factory-production-slot-2":"factory-production-slot-disable-2",v=this.scene.add.sprite(s.centerX-62,s.centerY+177,y);this.product2PercentText=this.scene.add.text(v.x+5,v.y-85,g+"%",{font:"33px Shadow",color:g>0?"#773a05":"#595959",align:"center"}).setOrigin(.5);var w=f[2],b=w>0?"factory-production-slot-3":"factory-production-slot-disable-3",x=this.scene.add.sprite(s.centerX+55,s.centerY+177,b);this.product3PercentText=this.scene.add.text(x.x+5,x.y-85,w+"%",{font:"33px Shadow",color:w>0?"#773a05":"#595959",align:"center"}).setOrigin(.5);var k=this.scene.state.userCow.factory.boostTime>0?f[3]:0,T=k>0?"factory-production-slot-4":"factory-production-slot-disable-4";this.product4Sprite=this.scene.add.sprite(s.centerX+171,s.centerY+177,T),this.product4PercentText=this.scene.add.text(this.product4Sprite.x+5,this.product4Sprite.y-85,k+"%",{font:"33px Shadow",color:k>0?"#ffe7ce":"#595959",align:"center"}).setOrigin(.5),this.scene.add.sprite(this.product4Sprite.x+28,this.product4Sprite.y-25,"plus").setScale(.84),k>0&&(this.boostTimer=this.scene.add.text(this.product4Sprite.x,this.product4Sprite.y+82,a.shortTime(this.scene.state.userCow.factory.boostTime,this.scene.state.lang),{font:"28px Shadow",color:"#ffe7ce"}).setOrigin(.5));var _=this.scene.add.zone(s.centerX-5,s.centerY+175,470,230).setDropZone(void 0,(function(){}));this.scene.click(_,(function(){e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].showFactoryBoost()}));var S={icon:"cowCoin",text:String(t.money)};this.sellButton=this.scene.repositoryBtn(370,this.scene.state.lang.sellProduct,S),this.scene.clickModalBtn(this.sellButton,(function(){t.money>0&&(e.scene.state.readyAd&&e.scene.state.userSheep.part>=4&&t.productionTimer<=0?(e.scene.state.modal={type:1,sysType:27},e.scene.scene.restart(e.scene.state)):(e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.state.territory.factory.sellProducts()))}))},t.prototype.preUpdate=function(){var e,t=0,i=this.scene.state.territory.factory;i.productionTimer>0&&(t=100-i.productionTimer/(i.settings.processingTime/100)),i.productionTimer>0&&this.scene.state.territory.factory.currentProduction&&!this.animTimer&&this.setProductionAnimation();var s=Math.round(4.44*t);this.progressBar.displayWidth!==s&&this.progressBar.setDisplaySize(s,16);var n=i.currentProduction?this.scene.state.lang["production"+i.currentProduction]:"",r=this.scene.state.lang.produced+": "+n;if(this.currentProductionText.text===r||this.emptyAnimation||this.currentProductionText.setText(r),this.sellButton.text1.text!==a.shortNum(i.money)&&(this.sellButton.text1.setText(a.shortNum(i.money)),this.sellButton.img1.setX(this.sellButton.text1.getBounds().left-10)),this.scene.state.userCow.factory.boostTime>0)this.boostTimer.text!==a.shortTime(this.scene.state.userCow.factory.boostTime,this.scene.state.lang)&&this.boostTimer.setText(a.shortTime(this.scene.state.userCow.factory.boostTime,this.scene.state.lang));else if(null===(e=this.boostTimer)||void 0===e?void 0:e.visible){var o=this.scene.state.territory.factory.getPercent();this.boostTimer.setVisible(!1),this.product4Sprite.setTexture("factory-production-slot-disable-4"),this.product1PercentText.setText(o[0]+"%"),this.product2PercentText.setText(o[1]+"%"),this.product3PercentText.setText(o[2]+"%"),this.product4PercentText.setText("0%")}for(var c=0,h=0,l=this.scene.game.scene.keys.Cow.territories.children.entries;h<l.length;h++){var d=l[h];5===d.territoryType&&(c+=d.volume)}this.milkInStorageText2.text!==a.shortNum(c)&&this.milkInStorageText2.setText(a.shortNum(c)),c<i.settings.lotSize&&i.productionTimer<=0&&!this.emptyAnimation?this.setEmptyAnimation():c>i.settings.lotSize&&this.emptyAnimation&&this.removeEmptyAnimation()},t.prototype.setEmptyAnimation=function(){var e=this;this.currentProductionText.setText(this.scene.state.lang.haveNotMilk),this.emptyAnimation=this.scene.tweens.add({targets:[],loopDelay:300,loop:-1,onLoop:function(){"#ffffff"!==e.currentProductionText.style.color?(e.currentProductionText.setColor("#ffffff"),e.milkInStorageText1.setColor("#ffffff"),e.milkInStorageText2.setColor("#ffffff")):(e.currentProductionText.setColor("#ff0000"),e.milkInStorageText1.setColor("#ff0000"),e.milkInStorageText2.setColor("#ff0000"))}})},t.prototype.removeEmptyAnimation=function(){this.emptyAnimation.remove(),this.emptyAnimation=void 0,this.currentProductionText.setColor("#cd7f20"),this.milkInStorageText1.setColor("#fffcdc"),this.milkInStorageText2.setColor("#fffcdc")},t.prototype.createBitMask=function(){var e=this.scene.cameras.main.centerX-246,t=this.scene.cameras.main.centerY-280,i=this.scene.add.graphics().fillRoundedRect(e,t,487,118,12).setVisible(!1);this.productMask=new Phaser.Display.Masks.BitmapMask(this.scene,i)},t.prototype.setProductionAnimation=function(){var e=this;this.productTexture="factory-production-"+this.scene.state.territory.factory.currentProduction;var t=this.scene.cameras.main.centerX-190,i=this.scene.cameras.main.centerX+350,s=this.scene.cameras.main.centerY-175;this.animTimer=this.scene.time.addEvent({delay:750,callback:function(){if(e.productTexture!=="factory-production-"+e.scene.state.territory.factory.currentProduction)e.removeProductionAnimation();else{var n=e.scene.add.sprite(t,s,"factory-production-"+e.scene.state.territory.factory.currentProduction).setAlpha(.2).setOrigin(.5,1);n.setMask(e.productMask),e.scene.tweens.add({targets:n,props:{alpha:{from:.2,to:1,duration:500},x:{from:t,to:i,duration:3e3}},onComplete:function(){return n.destroy()}})}},callbackScope:this,loop:!0})},t.prototype.removeProductionAnimation=function(){this.animTimer.remove(),this.animTimer=void 0},t}(Phaser.GameObjects.Sprite);t.default=r},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(0),o=function(e){function t(t){var i=e.call(this,t,t.cameras.main.centerX,t.cameras.main.centerY,"newbie-bg")||this;return i.init(),i}return n(t,e),t.prototype.init=function(){this.scene.add.existing(this),this.createElements(),this.setListeners(),this.scene.state.progress.chicken.part>0&&4===this.scene.state.daily&&(this.scene.state.user.takenReward=!0,a.default.post("https://ferma.games:4000/takenNewbieReward",{hash:this.scene.state.user.hash})),this.scene.openModal(this.scene.cameras.main)},t.prototype.createElements=function(){this.closeBtn=this.scene.add.sprite(this.x+this.displayWidth/2-45,this.y-this.displayHeight/2+40,"close-window-btn").setDepth(2),this.scene.add.text(this.x,this.y-350,this.scene.state.lang.newbieAwards,{font:"36px Shadow",color:"#044677"}).setOrigin(.5,.5),this.scene.add.text(this.x-3,this.y-240,this.scene.state.lang.stillTimeAward+" "+r.shortTime(this.scene.state.newbieTime,this.scene.state.lang),{font:"21px Shadow",color:"#FCC97E"}).setOrigin(.5,.5);var e=this.scene.add.text(0,this.y-310,this.scene.state.lang.toNextAward,{font:"21px Shadow",color:"#F4FEFF"}).setOrigin(0,.5);this.timerNewbieAward=this.scene.add.text(0,this.y-310,r.timer(this.scene.state.timeToNewDay),{font:"21px Shadow",color:"#E9B744"}).setOrigin(0,.5);var t=e.displayWidth+this.timerNewbieAward.displayWidth+5;e.setX(this.x-t/2),this.timerNewbieAward.setX(e.getBounds().right+5),this.createAward(),this.setElementsState(),this.setAnimation()},t.prototype.createAward=function(){if(this.day0=this.scene.add.sprite(195,this.y-110,"newbie-day-0"),this.bgDay0=this.scene.add.sprite(195,this.y-178,"day-yellow"),this.textDay0=this.scene.add.text(195,this.y-182,this.scene.state.lang.day+" 0",{font:"20px Shadow",color:"#B05B00"}).setOrigin(.5,.5),"Sheep"===this.scene.state.farm&&1===this.scene.state.daily&&!this.scene.state.user.takenReward){var e=r.shortNum(this.scene.game.scene.keys[this.scene.state.farm].convertDiamonds(10));this.textAwardLitle0=this.scene.add.text(203,this.y-110,e,{font:"34px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#5D4D2B",4);var t=this.textAwardLitle0.getBounds().left;this.textAward0=this.scene.add.text(t-10,this.y-110,"x",{font:"24px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#5D4D2B",4)}this.day1=this.scene.add.sprite(355,this.y-120,"newbie-day-1"),this.bgDay1=this.scene.add.sprite(355,this.y-190,"day-purple"),this.textDay1=this.scene.add.text(355,this.y-193,this.scene.state.lang.day+" 1",{font:"20px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5),this.textAward1=this.scene.add.text(400,this.y-85,"5",{font:"64px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#5226A3",4),this.textAwardLitle1=this.scene.add.text(365,this.y-85,"x",{font:"34px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#5226A3",4),this.day2=this.scene.add.sprite(515,this.y-110,"newbie-day-2"),this.bgDay2=this.scene.add.sprite(515,this.y-178,"day-yellow"),this.textDay2=this.scene.add.text(515,this.y-182,this.scene.state.lang.day+" 2",{font:"20px Shadow",color:"#B05B00"}).setOrigin(.5,.5),this.textAward2=this.scene.add.text(505,this.y-85,"3",{font:"58px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#137B09",4),this.textAwardLitle2=this.scene.add.text(475,this.y-88,"x",{font:"24px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#137B09",4),this.day3=this.scene.add.sprite(195,this.y+60,"newbie-day-3"),this.bgDay3=this.scene.add.sprite(195,this.y-10,"day-purple"),this.textDay3=this.scene.add.text(195,this.y-13,this.scene.state.lang.day+" 3",{font:"20px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5),this.day4=this.scene.add.sprite(360,this.y+65,"newbie-day-4"),this.bgDay4=this.scene.add.sprite(360,this.y-5,"day-yellow"),this.textDay4=this.scene.add.text(360,this.y-9,this.scene.state.lang.day+" 4",{font:"20px Shadow",color:"#B05B00"}).setOrigin(.5,.5),this.textAward4=this.scene.add.text(382,this.y+100,"3",{font:"44px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#137B09",4).setAngle(8),this.textAwardLitle4=this.scene.add.text(405,this.y+103,this.scene.state.lang.shortHours,{font:"24px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#137B09",4).setAngle(8),this.day5=this.scene.add.sprite(515,this.y+65,"newbie-day-5"),this.bgDay5=this.scene.add.sprite(515,this.y-5,"day-yellow"),this.textDay5=this.scene.add.text(515,this.y-9,this.scene.state.lang.day+" 5",{font:"20px Shadow",color:"#B05B00"}).setOrigin(.5,.5),this.textAward5=this.scene.add.text(505,this.y+90,"3",{font:"58px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#137B09",4),this.textAwardLitle5=this.scene.add.text(475,this.y+87,"x",{font:"24px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#137B09",4),this.day6=this.scene.add.sprite(195,this.y+245,"newbie-day-6"),this.bgDay6=this.scene.add.sprite(195,this.y+175,"day-yellow"),this.textDay6=this.scene.add.text(195,this.y+172,this.scene.state.lang.day+" 6",{font:"20px Shadow",color:"#B05B00"}).setOrigin(.5,.5),this.textAward6=this.scene.add.text(220,this.y+282,"3",{font:"42px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#137B09",4).setAngle(8),this.textAwardLitle6=this.scene.add.text(241,this.y+282,this.scene.state.lang.shortHours,{font:"22px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#137B09",4).setAngle(8),this.day7=this.scene.add.sprite(425,this.y+245,"newbie-day-7"),this.bgDay7=this.scene.add.sprite(425,this.y+165,"day-red"),this.textDay7=this.scene.add.text(425,this.y+163,this.scene.state.lang.day+" 7",{font:"22px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5),this.textAward7=this.scene.add.text(440,this.y+292,"10",{font:"66px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#5226A3",5).setAngle(3),this.textAwardLitle7=this.scene.add.text(393,this.y+302,"x",{font:"34px Shadow",color:"#FFF0F0"}).setOrigin(.5,.5).setStroke("#5226A3",5)},t.prototype.setListeners=function(){var e=this;this.scene.clickButton(this.closeBtn,(function(){e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.game.scene.keys[e.scene.state.farm].takeNewbieAward(),e.scene.game.scene.keys[e.scene.state.farm].ads.showInterstitialAd()})),this.scene.click(this,(function(){e.scene.state.user.takenReward&&4!==e.scene.state.daily||(e.scene.game.scene.getScene(e.scene.state.farm).playSoundOnce("award-sound"),e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.game.scene.keys[e.scene.state.farm].takeNewbieAward(),e.scene.game.scene.keys[e.scene.state.farm].ads.showInterstitialAd())}))},t.prototype.setElementsState=function(){1===this.scene.state.daily?this.scene.state.user.takenReward&&(this.scene.add.sprite(this.day0.x,this.day0.y,"award-received"),this.day0.setTint(10066329)):2===this.scene.state.daily?(this.scene.add.sprite(this.day0.x,this.day0.y,"award-received"),this.day0.setTint(10066329),this.scene.state.user.takenReward&&(this.scene.add.sprite(this.day1.x,this.day1.y,"award-received"),this.day1.setTint(10066329),this.textAward1.setTint(10066329),this.textAwardLitle1.setTint(10066329))):3===this.scene.state.daily?(this.scene.add.sprite(this.day0.x,this.day0.y,"award-received"),this.day0.setTint(10066329),this.scene.add.sprite(this.day1.x,this.day1.y,"award-received"),this.day1.setTint(10066329),this.textAward1.setTint(10066329),this.textAwardLitle1.setTint(10066329),this.scene.state.user.takenReward&&(this.scene.add.sprite(this.day2.x,this.day2.y,"award-received"),this.day2.setTint(10066329),this.textAward2.setTint(10066329),this.textAwardLitle2.setTint(10066329))):4===this.scene.state.daily?(this.scene.add.sprite(this.day0.x,this.day0.y,"award-received"),this.day0.setTint(10066329),this.scene.add.sprite(this.day1.x,this.day1.y,"award-received"),this.day1.setTint(10066329),this.textAward1.setTint(10066329),this.textAwardLitle1.setTint(10066329),this.scene.add.sprite(this.day2.x,this.day2.y,"award-received"),this.day2.setTint(10066329),this.textAward2.setTint(10066329),this.textAwardLitle2.setTint(10066329),this.scene.state.user.takenReward&&(this.scene.add.sprite(this.day3.x,this.day3.y,"award-received"),this.day3.setTint(10066329))):5===this.scene.state.daily?(this.scene.add.sprite(this.day0.x,this.day0.y,"award-received"),this.day0.setTint(10066329),this.scene.add.sprite(this.day1.x,this.day1.y,"award-received"),this.day1.setTint(10066329),this.textAward1.setTint(10066329),this.textAwardLitle1.setTint(10066329),this.scene.add.sprite(this.day2.x,this.day2.y,"award-received"),this.day2.setTint(10066329),this.textAward2.setTint(10066329),this.textAwardLitle2.setTint(10066329),this.scene.add.sprite(this.day3.x,this.day3.y,"award-received"),this.day3.setTint(10066329),this.scene.state.user.takenReward&&(this.scene.add.sprite(this.day4.x,this.day4.y,"award-received"),this.day4.setTint(10066329),this.textAward4.setTint(10066329),this.textAwardLitle4.setTint(10066329))):6===this.scene.state.daily?(this.scene.add.sprite(this.day0.x,this.day0.y,"award-received"),this.day0.setTint(10066329),this.scene.add.sprite(this.day1.x,this.day1.y,"award-received"),this.day1.setTint(10066329),this.textAward1.setTint(10066329),this.textAwardLitle1.setTint(10066329),this.scene.add.sprite(this.day2.x,this.day2.y,"award-received"),this.day2.setTint(10066329),this.textAward2.setTint(10066329),this.textAwardLitle2.setTint(10066329),this.scene.add.sprite(this.day3.x,this.day3.y,"award-received"),this.day3.setTint(10066329),this.scene.add.sprite(this.day4.x,this.day4.y,"award-received"),this.day4.setTint(10066329),this.textAward4.setTint(10066329),this.textAwardLitle4.setTint(10066329),this.scene.state.user.takenReward&&(this.scene.add.sprite(this.day5.x,this.day5.y,"award-received"),this.day5.setTint(10066329),this.textAward5.setTint(10066329),this.textAwardLitle5.setTint(10066329))):7===this.scene.state.daily?(this.scene.add.sprite(this.day0.x,this.day0.y,"award-received"),this.day0.setTint(10066329),this.scene.add.sprite(this.day1.x,this.day1.y,"award-received"),this.day1.setTint(10066329),this.textAward1.setTint(10066329),this.textAwardLitle1.setTint(10066329),this.scene.add.sprite(this.day2.x,this.day2.y,"award-received"),this.day2.setTint(10066329),this.textAward2.setTint(10066329),this.textAwardLitle2.setTint(10066329),this.scene.add.sprite(this.day3.x,this.day3.y,"award-received"),this.day3.setTint(10066329),this.scene.add.sprite(this.day4.x,this.day4.y,"award-received"),this.day4.setTint(10066329),this.textAward4.setTint(10066329),this.textAwardLitle4.setTint(10066329),this.scene.add.sprite(this.day5.x,this.day5.y,"award-received"),this.day5.setTint(10066329),this.textAward5.setTint(10066329),this.textAwardLitle5.setTint(10066329),this.scene.state.user.takenReward&&(this.scene.add.sprite(this.day6.x,this.day6.y,"award-received"),this.day6.setTint(10066329),this.textAward6.setTint(10066329),this.textAwardLitle6.setTint(10066329))):8===this.scene.state.daily&&(this.scene.add.sprite(this.day0.x,this.day0.y,"award-received"),this.day0.setTint(10066329),this.scene.add.sprite(this.day1.x,this.day1.y,"award-received"),this.day1.setTint(10066329),this.textAward1.setTint(10066329),this.textAwardLitle1.setTint(10066329),this.scene.add.sprite(this.day2.x,this.day2.y,"award-received"),this.day2.setTint(10066329),this.textAward2.setTint(10066329),this.textAwardLitle2.setTint(10066329),this.scene.add.sprite(this.day3.x,this.day3.y,"award-received"),this.day3.setTint(10066329),this.scene.add.sprite(this.day4.x,this.day4.y,"award-received"),this.day4.setTint(10066329),this.textAward4.setTint(10066329),this.textAwardLitle4.setTint(10066329),this.scene.add.sprite(this.day5.x,this.day5.y,"award-received"),this.day5.setTint(10066329),this.textAward5.setTint(10066329),this.textAwardLitle5.setTint(10066329),this.scene.add.sprite(this.day6.x,this.day6.y,"award-received"),this.day6.setTint(10066329),this.textAward6.setTint(10066329),this.textAwardLitle6.setTint(10066329))},t.prototype.setAnimation=function(){if(!this.scene.state.user.takenReward){var e=Number(this.scene.state.daily)-1<0?0:Number(this.scene.state.daily)-1,t=this["day"+e],i=this["bgDay"+e],s=this["textDay"+e],n=this["textAward"+e],a=this["textAwardLitle"+e];this.scene.tweens.add({targets:[t,i,s,n,a],y:"-=15",duration:160,yoyo:!0,repeat:-1,ease:"Power1"})}},t.prototype.preUpdate=function(t,i){if(e.prototype.preUpdate.call(this,t,i),6===this.scene.state.modal.type){var s=r.timer(this.scene.state.timeToNewDay);this.timerNewbieAward.text!==s&&this.timerNewbieAward.setText(s)}},t}(Phaser.GameObjects.Sprite);t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(118),n=function(){function e(e){this.scene=e,this.init(),this.create()}return e.prototype.init=function(){this.centerY=this.scene.cameras.main.centerY+60,this.tasks=this.getTasks(),this.footerTextStyle={fontSize:"20px",fontFamily:"Shadow",color:"#c15e00",align:"center",wordWrap:{width:420}}},e.prototype.create=function(){var e=this;this.top=this.scene.add.sprite(this.scene.cameras.main.centerX+3,this.centerY-Math.floor(380),"tasks-top").setOrigin(.5,1),this.close=this.scene.add.sprite(606,this.centerY-Math.floor(494),"close-window-btn").setDepth(2),this.createTasksBars(),this.scene.clickButton(this.close,(function(){e.closeWindow()})),this.scene.game.scene.keys[this.scene.state.farm].tasksOpened||(this.scene.game.scene.keys[this.scene.state.farm].tasksOpened=!0,this.scene.openModal(this.scene.cameras.main))},e.prototype.createTasksBars=function(){for(var e,t=[],i=0;i<this.tasks.length;i++){var n=this.top.getBottomCenter().x,a=t.length?t[i-1].getBottomCenter().y+4:this.top.getBottomCenter().y;t.push(new s.default(n,a,this.tasks[i],this.scene))}var r=(null===(e=t[t.length-1])||void 0===e?void 0:e.getBottomCenter().y)-this.top.getBottomCenter().y;this.resizeWindow(r),this.progressLineAndOtherText()},e.prototype.getTasks=function(){var e=this,t=[];return this.scene.state.modal.tasksParams.tasks.forEach((function(i){var s=e.scene.game.scene.keys[e.scene.state.farm].getTaskData(i);t.push({task:i,taskData:s})})),t=t.sort((function(e,t){return e.task.sort>t.task.sort?1:e.task.sort<t.task.sort?-1:0}))},e.prototype.progressLineAndOtherText=function(){var e=this.scene.add.text(this.top.getCenter().x,this.top.getTopCenter().y+60,this.scene.state.modal.tasksParams.part,{font:"72px Shadow",color:"#166c00"}).setOrigin(.5),t=this.scene.add.text(e.getBottomCenter().x,e.getBottomCenter().y+14,this.scene.state.lang.part,{font:"31px Shadow",color:"#166c00"}).setOrigin(.5,.5);this.scene.add.text(t.getBottomCenter().x,t.getBottomCenter().y+50,this.scene.state.modal.tasksParams.name,{font:"32px Shadow",color:"#F2DCFF"}).setOrigin(.5,.5),this.scene.add.text(this.bottom.getCenter().x,this.bottom.getCenter().y+8,this.scene.state.modal.tasksParams.farmer,{font:"26px Shadow",color:"#8f3f00"}).setOrigin(.5,.5),this.line=this.scene.add.tileSprite(this.bottom.getLeftCenter().x+55,this.bottom.getCenter().y-56,1,16,"part-progress"),this.partDiscription=this.scene.add.text(this.bottom.getCenter().x,this.bottom.getCenter().y+60,"",this.footerTextStyle).setOrigin(.5),this.updateProgress()},e.prototype.createNextPartButton=function(){var e,t,i,s=this;null===(e=this.partDiscription)||void 0===e||e.destroy(),null===(t=this.nextPart)||void 0===t||t.destroy(),null===(i=this.nextPartText)||void 0===i||i.destroy(),this.nextPart=this.scene.add.sprite(this.bottom.getCenter().x,this.bottom.getCenter().y+60,"big-btn-green").setDisplaySize(412,64),this.nextPartText=this.scene.add.text(this.bottom.getCenter().x,this.bottom.getCenter().y+54,this.scene.state.lang.donePart,{font:"24px Shadow",fill:"#FFFFFF"}).setOrigin(.5,.5),this.scene.clickShopBtn({btn:this.nextPart,title:this.nextPartText},(function(){s.scene.game.scene.keys[s.scene.state.farm].nextPart()}))},e.prototype.updateProgress=function(){var e,t,i,s,n;this.scene.state.modal.tasksParams.done=this.tasks.every((function(e){return 1===e.task.done&&1===e.task.got_awarded||0===e.task.necessary}));var a=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"][this.scene.state.farm.toLowerCase()+"Parts"],r=this.scene.state["user"+this.scene.state.farm].part;this.scene.state.modal.tasksParams.done&&a.length===r&&this.partDiscription.active?null===(e=this.partDiscription)||void 0===e||e.setText(this.scene.state.lang[this.scene.state.farm.toLowerCase()+"CompanyDone"]):this.scene.state.modal.tasksParams.done&&a.length!==r?this.createNextPartButton():!this.scene.state.modal.tasksParams.done&&(null===(t=this.partDiscription)||void 0===t?void 0:t.active)&&(null===(i=this.partDiscription)||void 0===i||i.setText(this.scene.state.modal.tasksParams.description)),null===(s=this.lineAni)||void 0===s||s.remove(),this.tasks=this.getTasks();var o=this.tasks.filter((function(e){return 1===e.task.done})).length/(this.scene.state.modal.tasksParams.tasks.length/100)*4.56,c=this.line?this.line.getBounds().width:1;null===(n=this.line)||void 0===n||n.setSize(c,16).setOrigin(0,.5),this.lineAni=this.scene.tweens.add({targets:this.line,width:o,duration:500,delay:150,ease:"Cubic.easeOut"})},e.prototype.resizeWindow=function(e){this.middle=this.scene.add.tileSprite(this.top.x-3,this.top.getBottomCenter().y,563,e,"tasks-middle").setOrigin(.5,0),this.bottom=this.scene.add.sprite(this.top.x-3,this.middle.getBottomCenter().y,"tasks-bottom").setOrigin(.5,0)},e.prototype.closeWindow=function(){this.scene.game.scene.keys[this.scene.state.farm].tasksOpened=!1,this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this;this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-50,"done-chapter"),this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-300,this.scene.state.modal.donePart.part,{font:"30px Shadow",fill:"#290F5B"}).setOrigin(.5,.5);var t=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-260,this.scene.state.modal.donePart.name,{font:"36px Shadow",fill:"#FFDDA7"}).setOrigin(.5,.5);t.width>440&&t.setFontSize(30),this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-190,this.scene.state.lang.partDone,{font:"44px Shadow",fill:"#50241D"}).setOrigin(.5,.5).setStroke("#FF7700",7),this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-80,this.scene.state.modal.donePart.doneText,{font:"22px Shadow",fill:"#FFDEDE",align:"center",wordWrap:{width:350}}).setOrigin(.5,.5),this.scene.add.text(this.scene.cameras.main.centerX-80,this.scene.cameras.main.centerY+45,this.scene.state.lang.yourAward,{font:"26px Shadow",fill:"#643202"}).setOrigin(.5,.5),this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+153,this.scene.state.modal.donePart.chapter);var i=this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+295,"done-chapter-button"),s=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+290,this.scene.state.lang.nextPart,{color:"#fffdfa",fontFamily:"Shadow",fontSize:"23px",align:"center",stroke:"#01B714",strokeThickness:4,wordWrap:{width:230}}).setOrigin(.5);this.scene.clickModalBtn({btn:i,title:s},(function(){e.closeWindow()}))},e.prototype.closeWindow=function(){this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.game.scene.keys[this.scene.state.farm].donePart()},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.scene=e,this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.create=function(){var e=this,t=this.scene.cameras.main.centerX,i=this.scene.cameras.main.centerY,s={fontFamily:"Shadow",fontSize:"30px",align:"center",color:"#763701",wordWrap:{width:350}};this.scene.add.sprite(t,i,"donate"),this.scene.add.text(t,i+10,this.scene.state.lang.crystalsCredited,s).setOrigin(.5),this.scene.add.text(t,i+70,this.scene.state.lang.enjoy,s).setOrigin(.5);var n=this.scene.add.sprite(t-7,i+166,"done-chapter-button"),a=this.scene.add.text(t-7,i+158,this.scene.state.lang.excellent,{font:"32px Shadow",fill:"#FFD2D2",align:"center"}).setOrigin(.5).setStroke("#2C5D0C",5);this.scene.clickModalBtn({btn:n,title:a},(function(){e.btnHandler()})),this.scene.game.scene.getScene(this.scene.state.farm).playSoundOnce("donate-window-sound")},e.prototype.btnHandler=function(){this.scene.game.scene.getScene(this.scene.state.farm).playSoundOnce("donate-take-sound"),this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.game.scene.keys[this.scene.state.farm].takeDonate()},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(29),a=function(){function e(e){this.scene=e,this.init(),this.eventDrag(),this.create()}return e.prototype.init=function(){this.x=600,this.y=360,this.xRoad=0,this.yRoad=480,this.scene.game.scene.keys[this.scene.state.farm].scrolling.scrollY=0,this.merged=!1},e.prototype.create=function(){var e=this,t=3;this.boostCounterWindow=this.scene.physics.add.sprite(360,400,"boost-window-bg").setDepth(1),this.text1=this.scene.add.text(360,360,this.scene.state.lang["herdBoostStartTimout"+this.scene.state.farm+"_1"],{font:"19px Shadow",color:"#ce9457",wordWrap:{width:230},align:"center"}).setOrigin(.5,.5).setDepth(2*this.y),this.text2=this.scene.add.text(360,410,this.scene.state.lang["herdBoostStartTimout"+this.scene.state.farm+"_2"],{font:"21px Shadow",color:"#946939",wordWrap:{width:440},align:"center"}).setOrigin(.5,.5).setDepth(2*this.y);var i=this.scene.add.sprite(360,500,"boost-countdown").setDepth(2),s=this.scene.add.sprite(440,510,"boost-leaves").setDepth(0).setFlip(!0,!0),n=this.scene.add.sprite(280,510,"boost-leaves").setDepth(0).setFlip(!1,!0),a=this.scene.add.text(362,492,String(t),{font:"64px Shadow",color:"#f3eae6"}).setOrigin(.5,.5).setDepth(3);this.elements=[a,s,n,i,this.text1,this.text2];var r=this.scene.time.addEvent({delay:1e3,loop:!0,callback:function(){--t,a.setText(String(t)),t<1&&(e.scene.tweens.add({targets:e.elements,alpha:0,duration:400,onComplete:function(){e.moveItems()}}),r.remove())},callbackScope:this})},e.prototype.moveItems=function(){var e=this,t=this.elements,i=t[0],s=t[1],n=t[2],a=t[3];i.setText(this.scene.state.herdBoostTime).setPosition(430,355),a.setPosition(430,360),s.setAngle(90).setPosition(455,420),n.setAngle(90).setPosition(455,290),this.text1.style.wordWrapWidth=280,this.text1.setText(this.scene.state.lang["herdBoostTimer"+this.scene.state.farm+"_1"]+this.scene.state.herdBoostTime+" "+this.scene.state.lang.seconds).setFontSize(26).setY(1050).setVisible(!1),this.text2.setText(this.scene.state.lang["herdBoostTimer"+this.scene.state.farm+"_2"]).setY(1080),this.scene.tweens.add({targets:this.boostCounterWindow,y:1080,duration:1e3,onComplete:function(){e.createWorld(),e.scene.tweens.add({targets:e.elements,alpha:1,duration:600,onComplete:function(){e.createAnimals()}})}})},e.prototype.createWorld=function(){var e=this.scene.state.farm.toLowerCase(),t=this.scene.add.sprite(this.x,this.y,e+"-merging").setDepth(this.y).setAlpha(0);"sheep"===e?(this.yTent=this.y-24,this.yTextLevel=this.y+65):"chicken"===e||"unicorn"===e?(this.yTent=this.y-17,this.yTextLevel=this.y+82):"cow"===e&&(this.yTent=this.y-19,this.yTextLevel=this.y+75),this.mergingArray=[],this.scene.state.herdBoostAnimals=[];var i=this.scene.add.sprite(this.x,this.yTent,e+"-tent").setDepth(this.y+1).setAlpha(0),s="cow"===e?this.x-75:this.x+80,n=this.scene.add.text(s,this.yTextLevel,this.scene.state["user"+this.scene.state.farm].fair,{font:"36px Shadow",color:"#b5315a"}).setOrigin(.5).setDepth(2*this.y).setAlpha(0);"unicorn"===e&&n.setText(String(this.scene.state.userUnicorn.points));var a=this.scene.add.sprite(this.xRoad,this.yRoad,"herd-boost-road-"+e).setOrigin(0).setDepth(this.yRoad).setDataEnabled().setAlpha(0),r=this.scene.add.sprite(0,this.yRoad+15,e+"-horizontal-border-1").setOrigin(0,1).setDepth(this.yRoad+1).setAlpha(0),o=this.scene.add.sprite(240,this.yRoad+15,e+"-horizontal-border-2").setOrigin(0,1).setDepth(this.yRoad+1).setAlpha(0),c=this.scene.add.sprite(0,this.yRoad+a.height+15,e+"-horizontal-border-1").setOrigin(0,1).setDepth(this.yRoad+1).setAlpha(0),h=this.scene.add.sprite(240,this.yRoad+a.height+15,e+"-horizontal-border-2").setOrigin(0,1).setDepth(this.yRoad+1).setAlpha(0),l=this.scene.add.sprite(480,this.yRoad+a.height+15,e+"-horizontal-border-3").setOrigin(0,1).setDepth(this.yRoad+1).setAlpha(0);this.elements.push(t,i,n,a,r,o,c,h,l)},e.prototype.createAnimals=function(){var e=this;if(this.animal=this.scene.state.farm.toLowerCase(),"Sheep"===this.scene.state.farm)this.scene.add.zone(this.x,this.y-75,300,145).setDropZone(void 0,(function(){})).type="top",this.scene.add.zone(this.x,this.y+70,300,145).setDropZone(void 0,(function(){})).type="bottom";else if("Chicken"===this.scene.state.farm){this.scene.add.zone(this.x-75,this.y-30,145,300).setDropZone(void 0,(function(){})).type="left",this.scene.add.zone(this.x+70,this.y-30,145,300).setDropZone(void 0,(function(){})).type="right"}else if("Cow"===this.scene.state.farm){this.scene.add.zone(this.x,this.y-75,300,145).setDropZone(void 0,(function(){})).type="top",this.scene.add.zone(this.x,this.y+70,300,145).setDropZone(void 0,(function(){})).type="bottom"}else if("unicorn"===this.scene.state.farm){this.scene.add.zone(this.x-75,this.y-30,145,300).setDropZone(void 0,(function(){})).type="left",this.scene.add.zone(this.x+70,this.y-30,145,300).setDropZone(void 0,(function(){})).type="right"}this.animalForBoost=this.scene.physics.add.group(),this.currentTime=this.scene.state.herdBoostTime,this.createSkipBtn(),this.timerCreate=this.scene.time.addEvent({delay:this.scene.state.herdBoostDelay,loop:!0,callback:function(){e.getRandomAnimal(),e.merged&&!e.mainTimer&&e.createTimers()},callbackScope:this})},e.prototype.createTimers=function(){var e=this,t=this.scene.time.addEvent({delay:this.scene.state.herdBoostTime/3*1e3,loop:!0,callback:function(){"Unicorn"!==e.scene.state.farm&&e.getRandomAnimal(!0)},callbackScope:this}),i=this.elements[0];this.mainTimer=this.scene.time.addEvent({delay:1e3,loop:!0,callback:function(){--e.currentTime,i.setText(e.currentTime),e.currentTime<=0&&(e.animalForBoost.children.entries.forEach((function(e){var t;null===(t=e.data.values.woolSprite)||void 0===t||t.destroy()})),e.animalForBoost.destroy(!0),e.timerCreate.remove(),e.mainTimer.remove(),t.remove(),e.scene.tweens.add({targets:e.elements,alpha:0,duration:800,onComplete:function(){e.scene.tweens.add({targets:e.boostCounterWindow,y:400,duration:800,onComplete:function(){e.createScoreText(),e.stopBoostScene()}})}}))},callbackScope:this})},e.prototype.createSkipBtn=function(){var e=this,t=this.scene.add.text(710,30,this.scene.state.lang.skipHerdBoost,{font:"24px Shadow",color:"#868686"}).setOrigin(1,.5),i=t.getBounds(),s=this.scene.add.zone(i.x-10+i.width/2,i.y+i.height/2,i.width+30,i.height+30).setDropZone(void 0,(function(){}));this.scene.click(s,(function(){e.mainTimer||e.createTimers(),e.currentTime=1,s.destroy(),t.destroy()}))},e.prototype.stopBoostScene=function(){var e=this;this.scene.input.on("pointerdown",(function(){e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].createBoostAnimal()}))},e.prototype.createScoreText=function(){this.scene.add.text(360,380,this.scene.state.lang["herdBoostScore"+this.scene.state.farm]+this.scene.state.herdBoostAnimals.length,{font:"30px Shadow",color:"#ce9457",align:"center",wordWrap:{width:350}}).setOrigin(.5,.5).setDepth(2),this.scene.add.text(360,440,this.scene.state.lang.herdBoostNext,{font:"20px Shadow",color:"#946939",align:"center"}).setOrigin(.5,.5).setDepth(2)},e.prototype.getRandomAnimal=function(e){void 0===e&&(e=!1);var t=this.getRandomStartPosition(),i=t.x,s=t.y,n=t.side,a=t._id,r=[],o=this.scene.state["user"+this.scene.state.farm].fair;"Unicorn"===this.scene.state.farm&&(o=this.scene.state["user"+this.scene.state.farm].points);for(var c=0;c<o;c++)r.push(100*Math.pow(c,2));var h,l=Phaser.Math.Between(0,100*Math.pow(o,2));for(c=r.length-1;c>=0;c--)if(l>=r[c]){h=r.length-c;break}e&&(h=0);var d=this.animalForBoost.create(i,s,this.animal+h).setDepth(s).setInteractive().setDataEnabled();if(d.data.values.velocity=-this.scene.state.herdBoostSpeedAnimal,"right"===n&&(d.data.values.velocity=this.scene.state.herdBoostSpeedAnimal),d.data.values.velocity+=Phaser.Math.Between(-20,20),this.scene.input.setDraggable(d),d.data.values.type=h,d.data.values.side=n,d.data.values._id=a,d.data.values.drag=!1,d.data.values.merging=!1,d.setDepth(d.y),d.setVelocityX(d.data.values.velocity),"sheep"===this.animal){var u=Phaser.Math.Between(2,4);d.data.values.stage=u,d.data.values.woolSprite=this.scene.physics.add.sprite(i,s,this.animal+"-"+d.data.values.side+"-"+d.data.values.type+"-"+d.data.values.stage).setVelocityX(d.data.values.velocity).setDepth(d.y)}d.play(this.animal+"-move-"+d.data.values.side+d.data.values.type)},e.prototype.getRandomStartPosition=function(){var e=0,t=Phaser.Math.Between(550,850),i="right",n="local_"+s.randomString(18);return s.getRandomBool()?(i="left",e=+this.scene.game.config.width+100):e=-100,{x:e,y:t,side:i,_id:n}},e.prototype.checkMerging=function(e,t){var i,s,a,r,o=this;if(e&&(e.data.values.merging=!0,void 0===this.mergingArray.find((function(t){return t._id===e.data.values._id}))&&(1===this.mergingArray.length&&this.mergingArray[0].position===t&&("top"===t?t="bottom":"bottom"===t&&(t="top"),"left"===t?t="right":"right"===t&&(t="left")),this.mergingArray.push({_id:e.data.values._id,type:e.data.values.type,position:t}),"top"===t?("left"===e.data.values.side&&(e.data.values.side="right",null===(i=e.data.values.woolSprite)||void 0===i||i.setTexture(this.scene.state.farm.toLowerCase()+"-"+e.data.values.side+"-"+e.data.values.type+"-"+e.data.values.stage)),e.anims.play(this.scene.state.farm.toLowerCase()+"-stay-right"+e.data.values.type,!0),e.setPosition(this.x-25,this.y-100),null===(s=e.data.values.woolSprite)||void 0===s||s.setPosition(e.x,e.y),"Cow"===this.scene.state.farm&&e.setPosition(this.x+45,this.y-100)):"bottom"===t&&("left"===e.data.values.side&&(e.data.values.side="right",null===(a=e.data.values.woolSprite)||void 0===a||a.setTexture(this.scene.state.farm.toLowerCase()+"-"+e.data.values.side+"-"+e.data.values.type+"-"+e.data.values.stage)),e.anims.play(this.scene.state.farm.toLowerCase()+"-stay-right"+e.data.values.type,!0),e.setPosition(this.x-25,this.y+20),null===(r=e.data.values.woolSprite)||void 0===r||r.setPosition(e.x,e.y),"Cow"===this.scene.state.farm&&e.setPosition(this.x+45,this.y+20)),"left"===t?("left"===e.data.values.side&&(e.data.values.side="right"),e.anims.play(this.scene.state.farm.toLowerCase()+"-stay-right"+e.data.values.type,!0),e.setPosition(this.x-50,this.y)):"right"===t&&("right"===e.data.values.side&&(e.data.values.side="left"),e.anims.play(this.scene.state.farm.toLowerCase()+"-stay-left"+e.data.values.type,!0),e.setPosition(this.x+50,this.y))),2===this.mergingArray.length)){var c=this.animalForBoost.children.entries.find((function(e){return e.data.values._id===o.mergingArray[0]._id})),h=this.animalForBoost.children.entries.find((function(e){return e.data.values._id===o.mergingArray[1]._id}));if(c&&h){if((null==c?void 0:c.data.values.type)===(null==h?void 0:h.data.values.type)){var l=e.data.values.type<this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"][this.scene.state.farm.toLowerCase()+"Settings"].length?e.data.values.type+1:e.data.values.type;0===c.data.values.type&&0===h.data.values.type&&(l=0),this.scene.state.herdBoostAnimals.push(l),this.merged||(this.text1.setVisible(!0),this.text2.setY(1100)),this.merged=!0,this.scene.time.addEvent({delay:100,callback:function(){var e,t,i,s;n.default.create(o.scene,{x:o.x,y:o.y}),null===(t=null===(e=null==c?void 0:c.data)||void 0===e?void 0:e.values.woolSprite)||void 0===t||t.destroy(),null===(s=null===(i=null==h?void 0:h.data)||void 0===i?void 0:i.values.woolSprite)||void 0===s||s.destroy(),null==c||c.destroy(),null==h||h.destroy()},callbackScope:this,loop:!1})}else this.scene.time.addEvent({delay:100,callback:function(){var e,t,i,s;n.default.create(o.scene,{x:o.x,y:o.y},!0),null===(t=null===(e=null==c?void 0:c.data)||void 0===e?void 0:e.values.woolSprite)||void 0===t||t.destroy(),null===(s=null===(i=null==h?void 0:h.data)||void 0===i?void 0:i.values.woolSprite)||void 0===s||s.destroy(),null==c||c.destroy(),null==h||h.destroy()},callbackScope:this,loop:!1});this.mergingArray=[]}}},e.prototype.eventDrag=function(){var e=this;this.scene.input.on("dragstart",(function(t,i){var s;null!==i.body&&(i.data.values.drag=!0,i.data.values.merging&&(e.mergingArray=[]),i.data.values.merging=!1,i.setVelocity(0,0),null===(s=i.data.values.woolSprite)||void 0===s||s.setVelocity(0,0),null==i||i.setCollideWorldBounds(!0),i.anims.play(e.scene.state.farm.toLowerCase()+"-stay-"+i.data.values.side+i.data.values.type,!0))})),this.scene.input.on("drag",(function(e,t,i,s){t.setPosition(i,s).setDepth(s+Math.round(t.height/2+100)),t.data.values.woolSprite&&(t.data.values.woolSprite.setPosition(i,s),t.data.values.woolSprite.setDepth(s+Math.round(t.height/2+101)))})),this.scene.input.on("drop",(function(t,i,s){null!==i.body&&(i.data.values.merging||("left"===s.type?e.checkMerging(i,"left"):"top"===s.type?e.checkMerging(i,"top"):"right"===s.type?e.checkMerging(i,"right"):"bottom"===s.type&&e.checkMerging(i,"bottom")))})),this.scene.input.on("dragend",(function(t,i){var s,a,r,o,c;if(i.data){if(!1===i.data.values.drag)return;i.data.values.drag=!1,i.y<480&&i.x<480||i.y>900||i.y<200?(n.default.create(e.scene,i,!0),null===(a=null===(s=i.data)||void 0===s?void 0:s.values.woolSprite)||void 0===a||a.destroy(),i.destroy()):i.data.values.merging?(i.setVelocityX(0),null===(r=i.data.values.woolSprite)||void 0===r||r.setVelocityX(0),i.data.values.side="right"):(null==i||i.setCollideWorldBounds(!1),"right"===i.data.values.side?i.data.values.velocity=e.scene.state.herdBoostSpeedAnimal:"left"===i.data.values.side&&(i.data.values.velocity=-e.scene.state.herdBoostSpeedAnimal),i.setDepth(i.y),null===(o=i.data.values.woolSprite)||void 0===o||o.setDepth(i.y),i.setVelocityX(i.data.values.velocity),null===(c=i.data.values.woolSprite)||void 0===c||c.setVelocityX(i.data.values.velocity),i.play(e.scene.state.farm.toLowerCase()+"-move-"+i.data.values.side+i.data.values.type))}}))},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(38),n=i(22),a=i(1),r={joinGroupVK:"Вступи в группу",joinGroupOK:"Вступи в группу",addFavoritesVK:"Добавь в избранное",addFavoritesOK:"Добавь группу в закладки",subGroupVK:"Подпишись на ЛС от группы",subGroupOK:'Напиши в группу "Привет"',subNotificationVK:"Подпишись на уведомления",sendPostOK:"Сделать репост в ленту",title:"Социальные задания",subtitle:"Получай ежедневную награду",postPartSheep:"Я уже на $1 главе овечей фермы! Что же будет дальше?",postPartChicken:"Я уже на $1 главе куриной фермы! Что же будет дальше?",postPartCow:"Я уже на $1 главе коровьей фермы! Что же будет дальше?",postUnicorn:"Единорожья ферма уже в игре! Что же будет дальше?",postCompanyDoneSheep:"Я уже завершил овечью кампанию! Что же будет дальше?",postCompanyDoneChicken:"Я уже завершил куриную кампанию! Что же будет дальше?",postCompanyDoneCow:"Я уже завершил коровью кампанию! Что же будет дальше?",basicPost:"Заходи в игру и играй вместе со мной!"},o=function(){function e(e){this.award=3,this.scene=e,this.init(),this.create()}return e.prototype.init=function(){this.scene.scene.isActive("Profile")&&this.scene.game.scene.keys.Profile.updateSocialTaskNotification(),this.height=0,"vk"===this.scene.state.platform?this.socialTasks=this.scene.state.vkTask:"ok"===this.scene.state.platform&&(this.socialTasks=this.scene.state.okTask)},e.prototype.create=function(){var e=this,t=this.scene.cameras.main.centerX,i=this.scene.cameras.main.centerY;this.topBg=this.scene.add.sprite(t,i-Math.floor(250),"social-task-top").setOrigin(.5,1),this.middleBg=this.scene.add.tileSprite(t-1,i,526,500,"social-task-middle"),this.bottomBg=this.scene.add.sprite(t,i+Math.floor(250),"social-task-bottom").setOrigin(.5,0),this.header=this.scene.add.text(t-25,i,r.title,{color:"#F6DDFD",font:"35px Shadow"}).setOrigin(.5),this.subHeader=this.scene.add.text(t-25,i,r.subtitle,{color:"#942109",font:"22px Shadow"}).setOrigin(.5),this.close=this.scene.add.sprite(t,i,"close-window-btn").setDepth(2),this.scene.clickButton(this.close,(function(){e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.scene.stop()})),this.takeText1=this.scene.add.text(t-220,i,String(this.award),{font:"34px Shadow",color:"#F6DDFD"}).setShadow(2,2,"#595959",1).setOrigin(0,.5),this.diamond=this.scene.add.sprite(0,i,"diamond").setScale(.2).setOrigin(0,.5),this.takeText2=this.scene.add.text(0,i,"в день",{font:"34px Shadow",color:"#F6DDFD"}).setShadow(2,2,"#595959",1).setOrigin(0,.5),this.takeBtnText=this.scene.add.text(0,0,this.scene.state.lang.pickUp,{font:"25px Shadow",color:"#ffffff"}).setOrigin(.5).setDepth(2),this.takeBtn=this.scene.add.sprite(0,0,"shop-btn"),this.scene.state.user.takenSocialAward||this.checkTask()||(this.scene.state.shownSocialTaskWindow=!0,this.scene.scene.isActive("Profile")&&this.scene.game.scene.keys.Profile.updateSocialTaskNotification()),this.setTakeBtnState(),this.createElements(),this.setBgPosition()},e.prototype.checkTask=function(){var e=[];for(var t in this.socialTasks)e.push(this.socialTasks[t]);return e.every((function(e){return e}))},e.prototype.setTakeBtnState=function(){var e=this;this.checkTask()&&!this.scene.state.user.takenSocialAward?(this.takeBtn.setTexture("shop-btn"),this.takeBtnText.setStroke("#0A600A",4).setColor("#ffffff"),this.scene.clickShopBtn({btn:this.takeBtn,title:this.takeBtnText},(function(){e.onBtnPickUpHandler()}))):(this.takeBtn.setTexture("shop-btn-disable"),this.takeBtnText.setStroke("#888888",4).setColor("#3B3B3B"))},e.prototype.createElements=function(){var e=this.scene.cameras.main.centerX,t=this.scene.cameras.main.centerY,i=-1;for(var s in this.socialTasks)i+=1;var n=0,a=t-50*i;for(var s in this.socialTasks){var r=a+100*n;n+=1,"joinGroup"===s?(this.joinGroupTask=new c(this,s,{x:e,y:r}),this.joinGroupTask.setState(this.socialTasks[s])):"subGroup"===s?(this.subGroupTask=new c(this,s,{x:e,y:r}),this.subGroupTask.setState(this.socialTasks[s])):"subNotification"===s?(this.subNotificationTask=new c(this,s,{x:e,y:r}),this.subNotificationTask.setState(this.socialTasks[s])):"addFavorites"===s?(this.addFavoritesTask=new c(this,s,{x:e,y:r}),this.addFavoritesTask.setState(this.socialTasks[s])):"sendPost"===s&&(this.sendPostTask=new c(this,s,{x:e,y:r}),this.sendPostTask.setState(this.socialTasks[s]))}this.height=100*n},e.prototype.setBgPosition=function(){var e=this.scene.cameras.main.centerY;this.topBg.setY(e-Math.floor(this.height/2)),this.middleBg.setDisplaySize(526,this.height),this.bottomBg.setY(e+Math.floor(this.height/2));var t=this.topBg.getBounds(),i=this.bottomBg.getBounds();this.header.setY(t.centerY-35),this.subHeader.setY(t.centerY),this.close.setPosition(t.right-35,t.top+35),this.takeText1.setY(i.centerY),this.diamond.setPosition(this.takeText1.getBounds().right+8,i.centerY),this.takeText2.setPosition(this.diamond.getBounds().right+8,i.centerY),this.takeBtn.setPosition(i.right-this.takeBtn.displayWidth/2-60,i.centerY),this.takeBtnText.setPosition(this.takeBtn.x,this.takeBtn.y-3)},e.prototype.onBtnPickUpHandler=function(){var e=this.scene.game.scene.keys[this.scene.state.farm];e.scrolling.wheel=!0;var t={x:this.scene.cameras.main.centerX,y:this.scene.cameras.main.centerY};this.scene.scene.isActive("Profile")?this.scene.game.scene.keys.Profile.getCurrency(t,this.award,"diamond"):this.scene.game.scene.keys[this.scene.state.farm+"Bars"].getCurrency(t,this.award,"diamond"),this.scene.state.user.diamonds+=this.award,this.scene.state.user.takenSocialAward=!0,this.scene.scene.isActive("Profile")&&this.scene.game.scene.keys.Profile.updateSocialTaskNotification(),this.scene.scene.stop(),e.autosave(),this.scene.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"virality",count:this.award}),e.achievement.tryId(2)},e}();t.default=o;var c=function(){function e(e,t,i){this.window=e,this.scene=e.scene,this.key=t,this.position=i,this.create()}return e.prototype.create=function(){var e=this;this.bg=this.scene.add.sprite(this.position.x,this.position.y,"social-task-bg"),this.text=this.scene.add.text(this.position.x-180,this.position.y,r[""+this.key+this.scene.state.platform.toUpperCase()],{font:"20px Bip",color:"#944000",wordWrap:{width:200}}).setOrigin(0,.5),this.complete=this.scene.add.sprite(this.position.x+120,this.position.y,"completed"),this.button=this.scene.add.sprite(this.position.x+120,this.position.y,"improve-collector").setScale(.8).setVisible(!1),this.buttonText=this.scene.add.text(this.position.x+120,this.position.y-3,"Выполнить",{font:"20px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5).setStroke("#3B5367",4).setVisible(!1),this.scene.clickShopBtn({btn:this.button,title:this.buttonText},(function(){e.onBtnHandler()}))},e.prototype.onBtnHandler=function(){switch(this.key){case"joinGroup":this.joinGroupCallback();break;case"addFavorites":this.addFavoritesCallback();break;case"subGroup":this.subGroupCallback();break;case"subNotification":this.subNotificationCallback();break;case"sendPost":this.sendPostCallback();default:console.log("Wrong key")}},e.prototype.joinGroupCallback=function(){var e=this;"vk"===this.scene.state.platform?s.default.send("VKWebAppJoinGroup",{group_id:Number("201017618")}).then((function(t){t.result&&(e.window.socialTasks.joinGroup=t.result),e.setState(t.result),e.window.setTakeBtnState()})).catch((function(e){return console.log(e)})):"ok"===this.scene.state.platform&&(window.open("https://ok.ru/group/58414298824783"),this.window.socialTasks.joinGroup=!0,this.setState(!0),this.window.setTakeBtnState())},e.prototype.addFavoritesCallback=function(){var e=this;"vk"===this.scene.state.platform?s.default.send("VKWebAppAddToFavorites").then((function(t){t.result&&(e.window.socialTasks.addFavorites=t.result),e.setState(t.result),e.window.setTakeBtnState()})).catch((function(e){return console.log(e)})):"ok"===this.scene.state.platform&&n.FAPI.Client.call({method:"bookmark.add",ref_id:String("58414298824783"),bookmark_type:"group"},(function(t,i,s){i&&(e.window.socialTasks.addFavorites=i.success,n.FAPI.Client.call({method:"storage.set",key:"addFavourites",value:JSON.stringify(i.success)}),e.setState(i.success),e.window.setTakeBtnState())}))},e.prototype.subGroupCallback=function(){var e=this;"vk"===this.scene.state.platform?s.default.send("VKWebAppAllowMessagesFromGroup",{group_id:Number("201017618")}).then((function(t){t.result&&(e.window.socialTasks.subGroup=t.result),e.setState(t.result),e.window.setTakeBtnState()})).catch((function(e){return console.log(e)})):"ok"===this.scene.state.platform&&(window.open("https://ok.ru/group/58414298824783"),this.window.socialTasks.subGroup=!0,this.setState(!0),this.window.setTakeBtnState())},e.prototype.subNotificationCallback=function(){var e=this;"vk"===this.scene.state.platform&&s.default.send("VKWebAppAllowNotifications").then((function(t){t.result&&(e.window.socialTasks.subNotification=t.result),e.setState(t.result),e.window.setTakeBtnState()})).catch((function(e){return console.log(e)}))},e.prototype.sendPostCallback=function(){"ok"===this.scene.state.platform&&n.FAPI.UI.postMediatopic({media:[{type:"text",text:this.getPostMassage()},{type:"link",url:"https://ok.ru/game/prostoferma#wp"}]},!1)},e.prototype.getPostMassage=function(){var e=this.scene.state.farm;if("Unicorn"===e)return r.postUnicorn;var t=this.scene.state["user"+e],i=this.scene.state[e.toLowerCase()+"Settings"][e.toLowerCase()+"Parts"].length;return a.default.checkTestB(this.scene.state)&&(i=this.scene.state[e.toLowerCase()+"Settings"].partSettings.length),t.part<i?r["postPart"+e].replace("$1",String(t.part)):t.part===i?this.scene.game.scene.keys[e].partTasks().every((function(e){return 1===e.done}))?r["postCompanyDone"+e]:r["postPart"+e].replace("$1",String(t.part-1)):r.basicPost},e.prototype.setState=function(e){e?(this.bg.setTint(12632256),this.text.setColor("#797A75"),this.complete.setVisible(!0),this.button.setVisible(!1),this.buttonText.setVisible(!1)):(this.bg.setTint(16777215),this.text.setColor("#944000"),this.complete.setVisible(!1),this.button.setVisible(!0),this.buttonText.setVisible(!0))},e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(9),a=i(20),r=function(){function e(e){this.doubleProfitPrice=5,this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.params=this.scene.state.modal.unicornParams,this.setPrice()},e.prototype.create=function(){var e=this,t=this.scene.cameras.main.centerX,i=this.scene.cameras.main.centerY;this.scene.add.sprite(t,i-80,"autoprogress-bg"),this.scene.add.text(t+58,i-148-80,this.scene.state.lang.offlineTime,{font:"21px Shadow",color:"#06693e"}).setOrigin(1),this.scene.add.text(t+150,i-146-80,s.shortTime(this.params.offlineTime,this.scene.state.lang),{font:"36px Shadow",color:"#fff3e1"}).setOrigin(.5,1).setShadow(1,4,"rgba(0, 0, 0, 0.5)",3),this.scene.add.text(t+12,i-74-80,this.scene.state.lang.offlineCollectorTime+" "+s.shortTime(this.params.collectorTime,this.scene.state.lang),{font:"21px Shadow",color:"#fff3e1",align:"center",wordWrap:{width:260}}).setOrigin(.5).setLineSpacing(8),this.scene.add.text(t+80,i+10-80,"+"+s.shortNum(this.params.offlineProgress),{font:"48px Shadow",color:"#fff3e1"}).setOrigin(.5).setShadow(1,4,"rgba(0, 0, 0, 0.5)",3),this.scene.add.text(t+9,i+96-80,this.scene.state.lang.doubleProfit,{font:"24px Shadow",color:"#643302"}).setOrigin(.5);var n=this.scene.add.sprite(t+9,i+156-80,"purple-btn"),a=this.scene.add.text(n.x-140,n.y,this.scene.state.lang.pickUp+" X2",{font:"30px Shadow",color:"#fff3e1"}).setOrigin(0,.5).setStroke("#7214a3",7).setCrop(0,0,200,100),r=this.scene.add.sprite(n.x+80,n.y,"diamond").setScale(.12),o=this.scene.add.text(n.x+120,n.y,String(this.doubleProfitPrice),{font:"30px Shadow",color:"#fff3e1"}).setOrigin(.5).setStroke("#7214a3",7);this.checkAd()&&(r.setTexture("ad-icon"),r.setScale(.8),r.setX(r.x+20),o.setVisible(!1));var c={btn:n,title:a,text1:o,img1:r};this.scene.clickModalBtn(c,(function(){e.doubleProfitBtnHandler()})),this.scene.time.addEvent({delay:3e3,callback:function(){var s=e.scene.shopButton(t+9,i+276-80,e.scene.state.lang.pickUp);e.scene.clickShopBtn(s,(function(){e.pickUpBtnHandler()}))},callbackScope:this,loop:!1})},e.prototype.setPrice=function(){this.params.offlineTime>=1800&&this.params.offlineTime<=7200?this.doubleProfitPrice=10:this.params.offlineTime>7200&&(this.doubleProfitPrice=20)},e.prototype.pickUpBtnHandler=function(){this.scene.state.userUnicorn.money=n.default.add(this.scene.state.userUnicorn.money,this.params.offlineProgress),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop()},e.prototype.doubleProfitBtnHandler=function(){this.scene.state.userUnicorn.money=n.default.add(this.scene.state.userUnicorn.money,this.params.offlineProgress),this.checkAd()?(this.scene.game.scene.keys[this.scene.state.farm].ads.watchAd(5),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop()):this.scene.state.user.diamonds>=this.doubleProfitPrice?(this.scene.state.user.diamonds-=this.doubleProfitPrice,this.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"event_double_salary",count:this.doubleProfitPrice}),this.scene.state.userUnicorn.money=n.default.add(this.scene.state.userUnicorn.money,this.params.offlineProgress),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop(),a.default.create(this.scene.game.scene.keys.UnicornBars)):(this.scene.state.convertor={fun:0,count:this.doubleProfitPrice-this.scene.state.user.diamonds,diamonds:this.doubleProfitPrice-this.scene.state.user.diamonds,type:1},this.scene.game.scene.keys[this.scene.state.farm].exchange())},e.prototype.checkAd=function(){return this.scene.state.readyAd&&5===this.doubleProfitPrice},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(20),a=function(){function e(e){this.scene=e,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.priceElements=[]},e.prototype.create=function(){var e,t,i,a,r,o,c,h,l,d,u,p,f,m,g,y,v=this;this.scene.game.scene.keys[this.scene.state.farm].getEventRaiting();this.eventRatingsNames=[],this.eventRatingsScores=[];var w,b,x=this.scene.cameras.main.centerX-206,k=this.scene.cameras.main.centerY+35;this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,"raiting-bg-after"),this.rulesBtn=this.scene.add.sprite(this.scene.cameras.main.centerX-130,this.scene.cameras.main.centerY-292,"rating-rules-btn").setInteractive(),this.priceBtn=this.scene.add.sprite(this.scene.cameras.main.centerX+126,this.scene.cameras.main.centerY-292,"rating-price-btn").setInteractive(),this.scene.add.text(this.scene.cameras.main.centerX+52,this.scene.cameras.main.centerY-440,this.scene.state.lang.unicornField,{font:"38px Shadow",color:"#FFF7E6",align:"center"}).setOrigin(.5,.5).setDepth(2).setShadow(1,4,"rgba(0, 0, 0, 0.5)",2),this.rules=this.scene.add.text(this.scene.cameras.main.centerX-86,this.scene.cameras.main.centerY-307,this.scene.state.lang.eventRules,{font:"32px Bip",color:"#FFF7E6"}).setOrigin(.5,.5).setDepth(2).setShadow(1,3,"rgba(0, 0, 0, 0.5)",2),this.price=this.scene.add.text(this.scene.cameras.main.centerX+164,this.scene.cameras.main.centerY-307,this.scene.state.lang.eventPrice,{font:"32px Bip",color:"#FFF7E6"}).setOrigin(.5,.5).setDepth(2).setShadow(1,3,"rgba(0, 0, 0, 0.5)",2),this.rulesText=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-170,this.scene.state.lang.eventRulesAfter,{font:"23px Bip",color:"#793D0A",align:"center",wordWrap:{width:380}}).setOrigin(.5,.5).setDepth(2).setLineSpacing(.2),this.rulesTextStatus=this.scene.add.text(this.scene.cameras.main.centerX,this.rulesText.getBounds().bottom+15,this.scene.state.lang.eventRulesAfterStatus,{font:"23px Bip",color:"#793D0A",align:"center",wordWrap:{width:380}}).setOrigin(.5,.5).setDepth(2),this.status=this.scene.add.text(this.scene.cameras.main.centerX,this.rulesTextStatus.getBounds().bottom+17,this.scene.state.lang.unicornProfileName,{font:"24px Bip",color:"#459D1A",align:"left",wordWrap:{width:310}}).setOrigin(.5,.5).setDepth(2),this.statusIcon=this.scene.add.sprite(this.status.getBounds().left-10,this.status.y,"unicorn-status").setDepth(2).setOrigin(1,.5).setDepth(2);var T=this.scene.add.sprite(this.scene.cameras.main.centerX-140,this.scene.cameras.main.centerY-190,"rating-places").setScale(.9).setVisible(!1),_=this.scene.add.text(this.scene.cameras.main.centerX-20,this.scene.cameras.main.centerY-230,"1 "+this.scene.state.lang.eventPlace+"\n2 "+this.scene.state.lang.eventPlace+"\n3 "+this.scene.state.lang.eventPlace,{font:"Bold 21px Bip",color:"#793D0A",align:"right"}).setOrigin(1,0).setVisible(!1),S=this.scene.add.text(this.scene.cameras.main.centerX-20,this.scene.cameras.main.centerY-144,"4-10 "+this.scene.state.lang.eventPlace+"\n11-100 "+this.scene.state.lang.eventPlace+"\n101-500 "+this.scene.state.lang.eventPlace+"\n500+ "+this.scene.state.lang.eventPlace,{font:"21px Bip",color:"#793D0A",align:"right"}).setOrigin(1,0).setVisible(!1),C=this.scene.add.text(this.scene.cameras.main.centerX+50,this.scene.cameras.main.centerY-230,"- 500\n- 350\n- 200",{font:"Bold 21px Bip",color:"#793D0A",align:"left"}).setOrigin(0,0).setVisible(!1),P=this.scene.add.text(this.scene.cameras.main.centerX+50,this.scene.cameras.main.centerY-144,"- 150\n- 50\n- 25\n- 10",{font:"21px Bip",color:"#793D0A",align:"left"}).setOrigin(0,0).setVisible(!1),B=this.scene.add.container(this.scene.cameras.main.centerX+175,this.scene.cameras.main.centerY-220,[this.scene.add.sprite(13,4,"diamond").setScale(.11).setAngle(45).setTint(0),this.scene.add.sprite(13,4,"diamond").setScale(.1).setAngle(45),this.scene.add.sprite(0,0,"diamond").setScale(.14).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.13),this.scene.add.sprite(-10,9,"diamond").setScale(.1).setAngle(-30).setTint(0),this.scene.add.sprite(-10,9,"diamond").setScale(.09).setAngle(-30)]).setVisible(!1),A=this.scene.add.container(this.scene.cameras.main.centerX+180,this.scene.cameras.main.centerY-189,[this.scene.add.sprite(0,0,"diamond").setScale(.13).setAngle(19).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.12).setAngle(19),this.scene.add.sprite(-12,5,"diamond").setScale(.11).setAngle(-12).setTint(0),this.scene.add.sprite(-12,5,"diamond").setScale(.1).setAngle(-12)]).setVisible(!1),E=this.scene.add.container(this.scene.cameras.main.centerX+178,this.scene.cameras.main.centerY-159,[this.scene.add.sprite(0,0,"diamond").setScale(.13).setAngle(-19).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.12).setAngle(-19)]).setVisible(!1),M=this.scene.add.container(this.scene.cameras.main.centerX+176,this.scene.cameras.main.centerY-129,[this.scene.add.sprite(0,0,"diamond").setScale(.11).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.1)]).setVisible(!1),O=this.scene.add.container(this.scene.cameras.main.centerX+176,this.scene.cameras.main.centerY-101,[this.scene.add.sprite(0,0,"diamond").setScale(.1).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.09)]).setVisible(!1),I=this.scene.add.container(this.scene.cameras.main.centerX+176,this.scene.cameras.main.centerY-75,[this.scene.add.sprite(0,0,"diamond").setScale(.09).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.08)]).setVisible(!1),R=this.scene.add.container(this.scene.cameras.main.centerX+176,this.scene.cameras.main.centerY-47,[this.scene.add.sprite(0,0,"diamond").setScale(.08).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.07)]).setVisible(!1);this.priceBtn.setTint(12632256).setCrop(0,0,300,90),this.price.setTint(12632256);var D,N=null===(e=this.scene.state.unicornRaitings)||void 0===e?void 0:e.ratings.length;N>10&&(N=10);for(var F=0;F<N;F++)w=this.scene.add.text(x,k+24*Number(F),"",{font:"21px Bip",color:"#793D0A"}).setCrop(0,0,260,100),b=this.scene.add.text(x+280,k+24*Number(F),"",{font:"21px Bip",color:"#793D0A"}),null!==(null===(t=this.scene.state.unicornRaitings)||void 0===t?void 0:t.ratings[F].score)&&(w.setText((null===(i=this.scene.state.unicornRaitings)||void 0===i?void 0:i.ratings[F].place)+". "+(null===(a=this.scene.state.unicornRaitings)||void 0===a?void 0:a.ratings[F].name)).setCrop(0,0,260,100),b.setText(String(null===(r=this.scene.state.unicornRaitings)||void 0===r?void 0:r.ratings[F].score)),F<3&&this.scene.add.sprite(x+280+35,k+24*Number(F),"unicorn-status").setOrigin(0,0).setScale(.65)),this.eventRatingsNames.push(w),this.eventRatingsScores.push(b);this.line=this.scene.add.text(x,k+240,"-----",{font:"26px Shadow",color:"#793D0A"}),this.playerPlaceAndName=this.scene.add.text(x,k+270,(null===(o=this.scene.state.unicornRaitings)||void 0===o?void 0:o.user.place)+". "+(null===(c=this.scene.state.unicornRaitings)||void 0===c?void 0:c.user.name),{font:"21px Bip",color:"#793D0A"}).setCrop(0,0,220,100),this.playerScore=this.scene.add.text(x+280,k+270,String(null===(h=this.scene.state.unicornRaitings)||void 0===h?void 0:h.user.score),{font:"21px Bip",color:"#793D0A"}),(null===(l=this.scene.state.unicornRaitings)||void 0===l?void 0:l.user.place)<=10&&(this.line.setVisible(!1),this.playerPlaceAndName.setVisible(!1),this.playerScore.setVisible(!1)),this.priceElements.push(T,_,S,C,P,B,A,E,M,O,I,R),this.rulesBtn.on("pointerdown",(function(){v.toogleBtn(!0)})),this.priceBtn.on("pointerdown",(function(){v.toogleBtn(!1)})),1===(null===(d=this.scene.state.unicornRaitings)||void 0===d?void 0:d.user.place)?D=500:2===(null===(u=this.scene.state.unicornRaitings)||void 0===u?void 0:u.user.place)?D=350:3===(null===(p=this.scene.state.unicornRaitings)||void 0===p?void 0:p.user.place)?D=200:(null===(f=this.scene.state.unicornRaitings)||void 0===f?void 0:f.user.place)<=10?D=150:(null===(m=this.scene.state.unicornRaitings)||void 0===m?void 0:m.user.place)<=100?D=50:(null===(g=this.scene.state.unicornRaitings)||void 0===g?void 0:g.user.place)<=500?D=25:(null===(y=this.scene.state.unicornRaitings)||void 0===y?void 0:y.user.place)>=501&&(D=10);var L=this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY+390,"repository-sell-btn").setScale(.7),Y=this.scene.add.text(L.getBounds().centerX,this.scene.cameras.main.centerY-10+390,this.scene.state.lang.pickUp+" + "+D,{font:"26px Shadow",fill:"#FFFFFF"}).setDepth(1).setOrigin(.5,.5);Y.setShadow(1,1,"#013220",.5);var U=this.scene.add.sprite(Y.getBounds().centerX+Y.width/2+25,this.scene.cameras.main.centerY-10+390,"diamond").setOrigin(.5,.5).setScale(.15);this.scene.clickModalBtn({btn:L,title:Y,img1:U},(function(){var e;if(v.scene.state.amplitude.logAmplitudeEvent("event_finished",{farm_id:"Unicorn"}),(null===(e=v.scene.state.unicornRaitings)||void 0===e?void 0:e.user.place)<=3){v.scene.state.user.status="unicorn";var t={id:v.scene.state.user.id,hash:v.scene.state.user.hash,counter:v.scene.state.user.counter,status:v.scene.state.user.status};s.default.post("https://ferma.games:4000/newStatus",t),v.scene.game.scene.keys[v.scene.state.farm].achievement.tryId(41)}var i={id:v.scene.state.user.id,hash:v.scene.state.user.hash,counter:v.scene.state.user.counter};s.default.post("https://ferma.games:4000/takeAward",i).finally((function(){v.scene.state.userUnicorn.takenAward=!0,v.scene.state.user.diamonds+=D,v.scene.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"unicorn_award",farm_id:"Unicorn",count:D}),v.scene.game.scene.keys[v.scene.state.farm].scrolling.wheel=!0,v.scene.game.scene.keys[v.scene.state.farm].autosave(),v.scene.scene.stop("Modal"),n.default.create(v.scene.game.scene.keys[v.scene.state.farm+"Bars"],"diamond"),v.scene.game.scene.keys[v.scene.state.farm].ads.showInterstitialAd()}))}))},e.prototype.toogleBtn=function(e){e?(this.priceBtn.setTint(12632256).setCrop(0,0,400,90),this.price.setTint(12632256),this.rulesBtn.setTint(16777215).setCrop(0,0,400,150),this.rules.setTint(16777215)):(this.rulesBtn.setTint(12632256).setCrop(0,0,400,90),this.rules.setTint(12632256),this.priceBtn.setTint(16777215).setCrop(0,0,400,150),this.price.setTint(16777215)),this.rulesText.setVisible(e),this.rulesTextStatus.setVisible(e),this.statusIcon.setVisible(e),this.status.setVisible(e),this.priceElements.forEach((function(t){return t.setVisible(!e)}))},e}();t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=function(e){function t(t){var i=e.call(this,t,0,0,"pixel")||this;return i.scene=t,i.init(),i.create(),i.scene.openModal(i.scene.cameras.main),i}return n(t,e),t.prototype.init=function(){this.scene.add.existing(this),this.eventRatingsNames=[],this.eventRatingsScores=[],this.priceElements=[]},t.prototype.create=function(){var e,t,i,s,n,r,o,c,h,l,d,u,p=this,f=this.scene.cameras.main.centerX-206,m=this.scene.cameras.main.centerY+130;this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,"rating-bg"),this.rulesBtn=this.scene.add.sprite(this.scene.cameras.main.centerX-130,this.scene.cameras.main.centerY-264,"rating-rules-btn").setInteractive(),this.priceBtn=this.scene.add.sprite(this.scene.cameras.main.centerX+126,this.scene.cameras.main.centerY-264,"rating-price-btn").setInteractive();var g=this.scene.add.sprite(this.scene.cameras.main.centerX+268,this.scene.cameras.main.centerY-452,"close-window-btn").setOrigin(.5,.5).setScale(1.15);this.scene.add.text(this.scene.cameras.main.centerX+20,this.scene.cameras.main.centerY-430,this.scene.state.lang.unicornField,{font:"38px Shadow",color:"#FFF7E6",align:"center",wordWrap:{width:400}}).setOrigin(.5,.5).setDepth(2).setShadow(1,4,"rgba(0, 0, 0, 0.5)",2),this.rules=this.scene.add.text(this.scene.cameras.main.centerX-86,this.scene.cameras.main.centerY-283,this.scene.state.lang.eventRules,{font:"32px Bip",color:"#FFF7E6"}).setOrigin(.5,.5).setDepth(2).setShadow(1,3,"rgba(0, 0, 0, 0.5)",2),this.price=this.scene.add.text(this.scene.cameras.main.centerX+164,this.scene.cameras.main.centerY-283,this.scene.state.lang.eventPrice,{font:"32px Bip",color:"#FFF7E6"}).setOrigin(.5,.5).setDepth(2).setShadow(1,3,"rgba(0, 0, 0, 0.5)",2),this.rulesText=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-186,this.scene.state.lang.eventRulesTеxt,{font:"23px Bip",color:"#793D0A",align:"center",wordWrap:{width:380}}).setOrigin(.5,.5).setDepth(2).setLineSpacing(.2),this.rulesText2=this.scene.add.text(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY-97,this.scene.state.lang.eventRulesTеxt2,{font:"23px Bip",color:"#793D0A",align:"center",wordWrap:{width:430}}).setOrigin(.5,.5).setDepth(2).setLineSpacing(.2),this.eventLeftText=this.scene.add.text(0,this.scene.cameras.main.centerY-25,this.scene.state.lang.eventRulesLeft,{font:"24px Bip",color:"#793D0A"}).setOrigin(0,.5).setDepth(2),this.scene.eventLeftTime=this.scene.add.text(0,this.scene.cameras.main.centerY-25,a.shortTime(this.scene.state.progress.event.endTime,this.scene.state.lang),{font:"24px Bip",color:"#459D1A"}).setOrigin(0,.5).setDepth(2);var y=(this.eventLeftText.getBounds().width+this.scene.eventLeftTime.getBounds().width)/2;this.eventLeftText.setX(this.scene.cameras.main.centerX-y-5),this.scene.eventLeftTime.setX(this.eventLeftText.getBounds().right+5);var v=this.scene.add.sprite(this.scene.cameras.main.centerX-140,this.scene.cameras.main.centerY-170,"rating-places").setScale(.9).setVisible(!1),w=this.scene.add.text(this.scene.cameras.main.centerX-20,this.scene.cameras.main.centerY-210,"1 "+this.scene.state.lang.eventPlace+"\n2 "+this.scene.state.lang.eventPlace+"\n3 "+this.scene.state.lang.eventPlace,{font:"Bold 21px Bip",color:"#793D0A",align:"right"}).setOrigin(1,0).setVisible(!1),b=this.scene.add.text(this.scene.cameras.main.centerX-20,this.scene.cameras.main.centerY-124,"4-10 "+this.scene.state.lang.eventPlace+"\n11-100 "+this.scene.state.lang.eventPlace+"\n101-500 "+this.scene.state.lang.eventPlace+"\n500+ "+this.scene.state.lang.eventPlace,{font:"21px Bip",color:"#793D0A",align:"right"}).setOrigin(1,0).setVisible(!1),x=this.scene.add.text(this.scene.cameras.main.centerX+50,this.scene.cameras.main.centerY-210,"- 500\n- 350\n- 200",{font:"Bold 21px Bip",color:"#793D0A",align:"left"}).setOrigin(0,0).setVisible(!1),k=this.scene.add.text(this.scene.cameras.main.centerX+50,this.scene.cameras.main.centerY-124,"- 150\n- 50\n- 25\n- 10",{font:"21px Bip",color:"#793D0A",align:"left"}).setOrigin(0,0).setVisible(!1),T=this.scene.add.container(this.scene.cameras.main.centerX+175,this.scene.cameras.main.centerY-200,[this.scene.add.sprite(13,4,"diamond").setScale(.11).setAngle(45).setTint(0),this.scene.add.sprite(13,4,"diamond").setScale(.1).setAngle(45),this.scene.add.sprite(0,0,"diamond").setScale(.14).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.13),this.scene.add.sprite(-10,9,"diamond").setScale(.1).setAngle(-30).setTint(0),this.scene.add.sprite(-10,9,"diamond").setScale(.09).setAngle(-30)]).setVisible(!1),_=this.scene.add.container(this.scene.cameras.main.centerX+180,this.scene.cameras.main.centerY-169,[this.scene.add.sprite(0,0,"diamond").setScale(.13).setAngle(19).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.12).setAngle(19),this.scene.add.sprite(-12,5,"diamond").setScale(.11).setAngle(-12).setTint(0),this.scene.add.sprite(-12,5,"diamond").setScale(.1).setAngle(-12)]).setVisible(!1),S=this.scene.add.container(this.scene.cameras.main.centerX+178,this.scene.cameras.main.centerY-139,[this.scene.add.sprite(0,0,"diamond").setScale(.13).setAngle(-19).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.12).setAngle(-19)]).setVisible(!1),C=this.scene.add.container(this.scene.cameras.main.centerX+176,this.scene.cameras.main.centerY-109,[this.scene.add.sprite(0,0,"diamond").setScale(.11).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.1)]).setVisible(!1),P=this.scene.add.container(this.scene.cameras.main.centerX+176,this.scene.cameras.main.centerY-81,[this.scene.add.sprite(0,0,"diamond").setScale(.1).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.09)]).setVisible(!1),B=this.scene.add.container(this.scene.cameras.main.centerX+176,this.scene.cameras.main.centerY-55,[this.scene.add.sprite(0,0,"diamond").setScale(.09).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.08)]).setVisible(!1),A=this.scene.add.container(this.scene.cameras.main.centerX+176,this.scene.cameras.main.centerY-27,[this.scene.add.sprite(0,0,"diamond").setScale(.08).setTint(0),this.scene.add.sprite(0,0,"diamond").setScale(.07)]).setVisible(!1);this.scene.add.text(this.scene.cameras.main.centerX+30,this.scene.cameras.main.centerY+52,this.scene.state.lang.eventRating.toUpperCase(),{font:"34px Bip",color:"#FFF7E6"}).setOrigin(.5,.5).setDepth(2).setShadow(1,3,"rgba(0, 0, 0, 0.5)",2),this.priceBtn.setTint(12632256).setCrop(0,0,300,90),this.price.setTint(12632256);var E=null===(e=this.scene.state.unicornRaitings)||void 0===e?void 0:e.ratings.length;E>10&&(E=10);for(var M=0;M<E;M++)d=this.scene.add.text(f,m+24*Number(M),"",{font:"21px Bip",color:"#793D0A"}).setCrop(0,0,260,100),u=this.scene.add.text(f+280,m+24*Number(M),"",{font:"21px Bip",color:"#793D0A"}),(null===(t=this.scene.state.unicornRaitings)||void 0===t?void 0:t.ratings)&&null!==(null===(i=this.scene.state.unicornRaitings)||void 0===i?void 0:i.ratings[M].score)&&(d.setText((null===(s=this.scene.state.unicornRaitings)||void 0===s?void 0:s.ratings[M].place)+". "+(null===(n=this.scene.state.unicornRaitings)||void 0===n?void 0:n.ratings[M].name)).setCrop(0,0,260,100),u.setText(String(null===(r=this.scene.state.unicornRaitings)||void 0===r?void 0:r.ratings[M].score)),M<3&&this.scene.add.sprite(f+280+35,m+24*Number(M),"unicorn-status").setOrigin(0,0).setScale(.65)),this.eventRatingsNames.push(d),this.eventRatingsScores.push(u);this.line=this.scene.add.text(f,m+240,"-----",{font:"26px Shadow",color:"#793D0A"}),this.playerPlaceAndName=this.scene.add.text(f,m+270,(null===(o=this.scene.state.unicornRaitings)||void 0===o?void 0:o.user.place)+". "+(null===(c=this.scene.state.unicornRaitings)||void 0===c?void 0:c.user.name),{font:"21px Bip",color:"#793D0A"}).setCrop(0,0,240,100),this.playerScore=this.scene.add.text(f+280,m+270,String(null===(h=this.scene.state.unicornRaitings)||void 0===h?void 0:h.user.score),{font:"21px Bip",color:"#793D0A"}),(null===(l=this.scene.state.unicornRaitings)||void 0===l?void 0:l.user.place)<=10&&(this.line.setVisible(!1),this.playerPlaceAndName.setVisible(!1),this.playerScore.setVisible(!1)),this.priceElements.push(v,w,b,x,k,T,_,S,C,P,B,A),this.rulesBtn.on("pointerdown",(function(){p.toogleBtn(!0)})),this.priceBtn.on("pointerdown",(function(){p.toogleBtn(!1)})),this.scene.clickButton(g,(function(){p.scene.game.scene.keys[p.scene.state.farm].scrolling.wheel=!0,p.scene.scene.stop("Modal")}))},t.prototype.preUpdate=function(){var e,t,i,s,n,a,r,o,c,h,l,d,u,p,f,m;if((null===(e=this.scene.state.unicornRaitings)||void 0===e?void 0:e.updated)&&11===this.scene.state.modal.type&&this.eventRatingsNames){for(var g=0;g<10;g++)(null===(i=null===(t=this.scene.state.unicornRaitings)||void 0===t?void 0:t.ratings[g])||void 0===i?void 0:i.score)&&(null===(s=this.eventRatingsNames[g])||void 0===s||s.setText((null===(n=this.scene.state.unicornRaitings)||void 0===n?void 0:n.ratings[g].place)+". "+(null===(a=this.scene.state.unicornRaitings)||void 0===a?void 0:a.ratings[g].name)).setCrop(0,0,260,100),null===(r=this.eventRatingsScores[g])||void 0===r||r.setText(String(null===(o=this.scene.state.unicornRaitings)||void 0===o?void 0:o.ratings[g].score)));this.line&&this.playerPlaceAndName&&this.playerScore&&((null===(c=this.scene.state.unicornRaitings)||void 0===c?void 0:c.user.place)<=10?(null===(h=this.line)||void 0===h||h.setVisible(!1),null===(l=this.playerPlaceAndName)||void 0===l||l.setVisible(!1),null===(d=this.playerScore)||void 0===d||d.setVisible(!1)):(null===(u=this.scene.state.unicornRaitings)||void 0===u?void 0:u.user.place)>10&&(null===(p=this.line)||void 0===p||p.setVisible(!0),null===(f=this.playerPlaceAndName)||void 0===f||f.setVisible(!0).setCrop(0,0,280,100),null===(m=this.playerScore)||void 0===m||m.setVisible(!0))),this.scene.state.unicornRaitings.updated=!1}},t.prototype.toogleBtn=function(e){e?(this.priceBtn.setTint(12632256).setCrop(0,0,400,90),this.price.setTint(12632256),this.rulesBtn.setTint(16777215).setCrop(0,0,400,150),this.rules.setTint(16777215)):(this.rulesBtn.setTint(12632256).setCrop(0,0,400,90),this.rules.setTint(12632256),this.priceBtn.setTint(16777215).setCrop(0,0,400,150),this.price.setTint(16777215)),this.rulesText.setVisible(e),this.rulesText2.setVisible(e),this.eventLeftText.setVisible(e),this.scene.eventLeftTime.setVisible(e),this.priceElements.forEach((function(t){return t.setVisible(!e)}))},t}(Phaser.GameObjects.Sprite);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(29),a=function(){function e(e){this.scene=e,this.init(),this.eventDrag(),this.create()}return e.prototype.init=function(){this.x=600,this.y=360,this.xRoad=0,this.yRoad=480,this.scene.game.scene.keys[this.scene.state.farm].scrolling.scrollY=0},e.prototype.createSkipBtn=function(){var e=this,t=this.scene.add.text(710,30,this.scene.state.lang.skipHerdBoost,{font:"24px Shadow",color:"#868686"}).setOrigin(1,.5),i=t.getBounds(),s=this.scene.add.zone(i.x-10+i.width/2,i.y+i.height/2,i.width+30,i.height+30).setDropZone(void 0,(function(){}));this.scene.click(s,(function(){e.currentTime=1,s.destroy(),t.destroy()}))},e.prototype.create=function(){var e=this,t=3;this.boostCounterWindow=this.scene.physics.add.sprite(360,400,"boost-window-bg").setDepth(1);var i=this.scene.add.text(360,360,this.scene.state.lang["herdBoostStartTimout"+this.scene.state.farm+"_1"],{font:"19px Shadow",color:"#ce9457",wordWrap:{width:230},align:"center"}).setOrigin(.5,.5).setDepth(2*this.y),s=this.scene.add.text(360,410,this.scene.state.lang["herdBoostStartTimout"+this.scene.state.farm+"_2"],{font:"21px Shadow",color:"#946939",wordWrap:{width:440},align:"center"}).setOrigin(.5,.5).setDepth(2*this.y),n=this.scene.add.sprite(360,500,"boost-countdown").setDepth(2),a=this.scene.add.sprite(440,510,"boost-leaves").setDepth(0).setFlip(!0,!0),r=this.scene.add.sprite(280,510,"boost-leaves").setDepth(0).setFlip(!1,!0),o=this.scene.add.text(362,492,String(t),{font:"64px Shadow",color:"#f3eae6"}).setOrigin(.5,.5).setDepth(3);this.elements=[o,a,r,n,i,s];var c=this.scene.time.addEvent({delay:1e3,loop:!0,callback:function(){--t,o.setText(String(t)),t<1&&(e.scene.tweens.add({targets:e.elements,alpha:0,duration:400,onComplete:function(){e.moveItems()}}),c.remove())},callbackScope:this})},e.prototype.eventDrag=function(){var e=this;this.scene.input.on("dragstart",(function(t,i){var s;null!==i.body&&(i.data.values.drag=!0,i.data.values.cloud.setVisible(!1),i.data.values.merging&&(e.mergingArray=[]),i.data.values.merging=!1,i.setVelocity(0,0),null===(s=i.data.values.cloud)||void 0===s||s.setVelocity(0,0),null==i||i.setCollideWorldBounds(!0))})),this.scene.input.on("drag",(function(e,t,i,s){t.x=i,t.y=s,t.setDepth(s+Math.round(t.height/2+100)),t.data.values.cloud&&(t.data.values.cloud.x=i,t.data.values.cloud.y=s+t.height/2-30,t.data.values.cloud.setDepth(s+Math.round(t.height/2+99)))})),this.scene.input.on("drop",(function(t,i,s){null!==i.body&&(i.data.values.merging||("left"===s.type?e.checkMerging(i,"left"):"right"===s.type&&e.checkMerging(i,"right")))})),this.scene.input.on("dragend",(function(t,i){var s,a,r;if(i.data){if(!1===i.data.values.drag)return;i.data.values.drag=!1,i.y<480&&i.x<480||i.y>900||i.y<200?(n.default.create(e.scene,i,!0),null===(a=null===(s=null==i?void 0:i.data)||void 0===s?void 0:s.values.cloud)||void 0===a||a.destroy(),i.destroy()):i.data.values.merging?(i.setVelocityX(0),null===(r=i.data.values.cloud)||void 0===r||r.setVelocityX(0).setVisible(!1),i.data.values.side="right"):(null==i||i.setCollideWorldBounds(!1),"right"===i.data.values.side?i.data.values.velocity=e.scene.state.herdBoostSpeedAnimal:"left"===i.data.values.side&&(i.data.values.velocity=-e.scene.state.herdBoostSpeedAnimal),i.setDepth(i.y),i.data.values.cloud.setVisible(!0),i.setVelocityX(i.data.values.velocity),i.data.values.cloud.setDepth(i.y-1),i.data.values.cloud.setVelocityX(i.data.values.velocity))}}))},e.prototype.checkMerging=function(e,t){var i=this;if(e.data.values.merging=!0,void 0===this.mergingArray.find((function(t){return t._id===e.data.values._id}))&&(1===this.mergingArray.length&&this.mergingArray[0].position===t&&("top"===t?t="bottom":"bottom"===t&&(t="top"),"left"===t?t="right":"right"===t&&(t="left")),this.mergingArray.push({_id:e.data.values._id,type:e.data.values.type,position:t}),"left"===t?("left"===e.data.values.side&&(e.data.values.side="right"),e.setPosition(this.x-50,this.y)):"right"===t&&("left"===e.data.values.side&&(e.data.values.side="right"),e.setPosition(this.x+50,this.y))),2===this.mergingArray.length){var s=this.animalForBoost.children.entries.find((function(e){return e.data.values._id===i.mergingArray[0]._id})),a=this.animalForBoost.children.entries.find((function(e){return e.data.values._id===i.mergingArray[1]._id}));if(s&&a){if((null==s?void 0:s.data.values.type)===(null==a?void 0:a.data.values.type)){var r=e.data.values.type<this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"][this.scene.state.farm.toLowerCase()+"Settings"].length?e.data.values.type+1:e.data.values.type;0===s.data.values.type&&0===a.data.values.type&&(r=0),this.scene.state.herdBoostAnimals.push(r),this.scene.state.userUnicorn.herdBoostAnimals.push(r),this.scene.time.addEvent({delay:100,callback:function(){var e,t,r,o;n.default.create(i.scene,{x:i.x,y:i.y}),null===(t=null===(e=null==s?void 0:s.data)||void 0===e?void 0:e.values.cloud)||void 0===t||t.destroy(),null===(o=null===(r=null==a?void 0:a.data)||void 0===r?void 0:r.values.cloud)||void 0===o||o.destroy(),null==s||s.destroy(),null==a||a.destroy()},callbackScope:this,loop:!1})}else this.scene.time.addEvent({delay:100,callback:function(){var e,t,r,o;n.default.create(i.scene,{x:i.x,y:i.y},!0),null===(t=null===(e=null==s?void 0:s.data)||void 0===e?void 0:e.values.cloud)||void 0===t||t.destroy(),null===(o=null===(r=null==a?void 0:a.data)||void 0===r?void 0:r.values.cloud)||void 0===o||o.destroy(),s.destroy(),a.destroy()},callbackScope:this,loop:!1});this.mergingArray=[]}}},e.prototype.moveItems=function(){var e=this,t=this.elements,i=t[0],s=t[1],n=t[2],a=t[3],r=t[4],o=t[5];i.setText(this.scene.state.herdBoostTime).setPosition(430,355),a.setPosition(430,360),s.setAngle(90).setPosition(455,420),n.setAngle(90).setPosition(455,290),r.style.wordWrapWidth=280,r.setText(this.scene.state.lang["herdBoostTimer"+this.scene.state.farm+"_1"]+this.scene.state.herdBoostTime+" "+this.scene.state.lang.seconds).setFontSize("26px").setY(1050),o.setText(this.scene.state.lang["herdBoostTimer"+this.scene.state.farm+"_2"]).setY(1100),this.scene.tweens.add({targets:this.boostCounterWindow,y:1080,duration:1e3,onComplete:function(){e.createWorld(),e.scene.tweens.add({targets:e.elements,alpha:1,duration:600,onComplete:function(){e.createAnimals()}})}})},e.prototype.createWorld=function(){var e=this.scene.state.farm.toLowerCase(),t=this.scene.add.sprite(this.x,this.y+5,e+"-merging").setDepth(this.y).setAlpha(0);"unicorn"===e&&(this.yTent=this.y-17,this.yTextLevel=this.y+82),this.mergingArray=[],this.scene.state.herdBoostAnimals=[];var i=this.scene.add.sprite(this.x,this.yTent,e+"-tent").setDepth(this.y+1).setAlpha(0),s=this.scene.add.text(this.x+80,this.yTextLevel,this.scene.state["user"+this.scene.state.farm].fair,{font:"36px Shadow",color:"#b5315a"}).setOrigin(.5,.5).setDepth(2*this.y).setAlpha(0);"event"===e&&s.setText(String(this.scene.state.userUnicorn.points));var n=this.scene.add.sprite(this.xRoad,this.yRoad,"herd-boost-road-"+e).setOrigin(0).setDepth(this.yRoad).setDataEnabled().setAlpha(0),a=this.scene.add.sprite(0,this.yRoad+15,e+"-horizontal-border-1").setOrigin(0,1).setDepth(this.yRoad+1).setAlpha(0),r=this.scene.add.sprite(240,this.yRoad+15,e+"-horizontal-border-2").setOrigin(0,1).setDepth(this.yRoad+1).setAlpha(0),o=this.scene.add.sprite(0,this.yRoad+n.height+15,e+"-horizontal-border-1").setOrigin(0,1).setDepth(this.yRoad+1).setAlpha(0),c=this.scene.add.sprite(240,this.yRoad+n.height+15,e+"-horizontal-border-2").setOrigin(0,1).setDepth(this.yRoad+1).setAlpha(0),h=this.scene.add.sprite(480,this.yRoad+n.height+15,e+"-horizontal-border-3").setOrigin(0,1).setDepth(this.yRoad+1).setAlpha(0);this.elements.push(t,i,s,n,a,r,o,c,h)},e.prototype.createAnimals=function(){var e=this;this.scene.add.zone(this.x-75,this.y-30,145,300).setDropZone(void 0,(function(){})).type="left",this.scene.add.zone(this.x+70,this.y-30,145,300).setDropZone(void 0,(function(){})).type="right",this.animalForBoost=this.scene.physics.add.group(),this.flyAnimal(),this.currentTime=this.scene.state.herdBoostTime;var t=this.scene.time.addEvent({delay:this.scene.state.herdBoostDelay,loop:!0,callback:function(){e.getRandomAnimal()},callbackScope:this}),i=this.elements[0];this.createSkipBtn();var s=this.scene.time.addEvent({delay:1e3,loop:!0,callback:function(){--e.currentTime,i.setText(e.currentTime),e.currentTime<=0&&(e.animalForBoost.children.entries.forEach((function(e){var t,i;null===(i=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.values.cloud)||void 0===i||i.destroy()})),e.animalForBoost.destroy(!0),t.remove(),s.remove(),e.scene.tweens.add({targets:e.elements,alpha:0,duration:800,onComplete:function(){e.scene.tweens.add({targets:e.boostCounterWindow,y:400,duration:800,onComplete:function(){e.createScoreText(),e.stopBoostScene()}})}}))},callbackScope:this})},e.prototype.createScoreText=function(){this.scene.add.text(360,380,this.scene.state.lang["herdBoostScore"+this.scene.state.farm]+this.scene.state.herdBoostAnimals.length,{font:"30px Shadow",color:"#ce9457",align:"center",wordWrap:{width:350}}).setOrigin(.5,.5).setDepth(2),this.scene.add.text(360,440,this.scene.state.lang.herdBoostNext,{font:"20px Shadow",color:"#946939",align:"center"}).setOrigin(.5,.5).setDepth(2)},e.prototype.stopBoostScene=function(){var e=this;this.scene.input.on("pointerdown",(function(){var t=e.scene.state.herdBoostPrice*e.scene.state["user"+e.scene.state.farm].takenHerdBoost;e.scene.state.user.diamonds-=t,e.scene.state["user"+e.scene.state.farm].takenHerdBoost++,e.scene.scene.stop(),e.scene.game.scene.keys.Unicorn.startCreateHerdBoostAnimal=!0,e.scene.game.scene.keys.Unicorn.tryClanTask(3),e.scene.game.scene.keys.Unicorn.tryClanTask(5,0,e.scene.state.herdBoostAnimals),e.scene.game.scene.keys.Unicorn.tryClanTask(12,0,e.scene.state.herdBoostAnimals.length),e.scene.game.scene.keys.Unicorn.tryClanTask(13,e.scene.state.herdBoostAnimals.length),e.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"herd",count:e.scene.state.herdBoostPrice*e.scene.state["user"+e.scene.state.farm].takenHerdBoost}),e.scene.state.amplitude.logAmplitudeEvent("booster_merge",{count:e.scene.state["user"+e.scene.state.farm].takenHerdBoost})}))},e.prototype.getRandomAnimal=function(){var e=this.getRandomStartPosition(),t=e.x,i=e.y,s=e.side,n=e._id,a=[],r=this.scene.state["user"+this.scene.state.farm].points-4;r=r<=0?1:r;for(var o=this.scene.state["user"+this.scene.state.farm].points-14,c=o=o<=0?0:o;c<r;c++)a.push(100*Math.pow(c,2));var h,l=Phaser.Math.Between(o+1,100*Math.pow(r,2));for(c=a.length-1;c>=0;c--){if(l>=a[c]){h=o+a.length-c;break}h=o}var d=this.animalForBoost.create(t,i,"animal"+h).setDepth(i).setInteractive().setDataEnabled();d.data.values.velocity=-this.scene.state.herdBoostSpeedAnimal,"right"===s&&(d.data.values.velocity=this.scene.state.herdBoostSpeedAnimal),d.data.values.velocity+=Phaser.Math.Between(-20,20),this.scene.input.setDraggable(d),d.data.values.type=h,d.data.values.side=s,d.data.values._id=n,d.data.values.drag=!1,d.data.values.merging=!1,d.setDepth(d.y),d.data.values.topPosition=!1,d.setVelocityX(d.data.values.velocity),d.setScale(.8),d.data.values.cloud=this.scene.physics.add.sprite(d.x,d.y+d.height/2-30,"cloud"),d.data.values.cloud.setDepth(i-1).setVelocityX(d.data.values.velocity).setScale(.8)},e.prototype.getRandomStartPosition=function(){var e=0,t=Phaser.Math.Between(550,850),i="right",n="local_"+s.randomString(18);return s.getRandomBool()?(i="left",e=+this.scene.game.config.width+100):e=-100,{x:e,y:t,side:i,_id:n}},e.prototype.flyAnimal=function(){var e=this;this.scene.time.addEvent({delay:30,callback:function(){var t,i;null===(i=null===(t=e.animalForBoost)||void 0===t?void 0:t.children)||void 0===i||i.entries.forEach((function(e){if(!e.data.values.drag&&!e.data.values.merging){var t=e.height/e.data.values.cloud.height;e.data.values.topPosition?(e.originY-=.0065,e.setOrigin(.5,e.originY),e.data.values.cloud.originY-=.0065*t,e.data.values.cloud.setOrigin(.5,e.data.values.cloud.originY),e.originY<=.45&&(e.data.values.topPosition=!1)):(e.originY+=.0065,e.setOrigin(.5,e.originY),e.data.values.cloud.originY+=.0065*t,e.data.values.cloud.setOrigin(.5,e.data.values.cloud.originY),e.originY>=.55&&(e.data.values.topPosition=!0))}}))},loop:!0})},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(5),a=i(13),r=i(1),o=i(40),c=function(){function e(e){this.owner=!1,this.bottomHeight=220,this.scene=e,this.init(),this.scene.state.foreignProfileId?(this.owner=!1,this.createLoadingAnim(),this.loadForeignProfile()):(this.owner=!0,this.startCreateUserProfile())}return e.prototype.init=function(){var e=this.scene.cameras;this.x=e.main.centerX,this.y=e.main.centerY-this.bottomHeight/2},e.prototype.getUserProfileInfo=function(){var e=this.scene.state,t=r.default.getUserName(e);return{id:e.user.id,name:t,avatar:e.user.avatar,status:e.user.status,level:e.user.level,clan:e.clan,sheepPart:e.userSheep.part,chickenPart:e.userChicken.part,cowPart:e.userCow.part,achievements:e.user.achievements}},e.prototype.startCreateUserProfile=function(){this.profile=this.getUserProfileInfo(),this.create()},e.prototype.loadForeignProfile=function(){var e=this,t={userId:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,id:this.scene.state.foreignProfileId};s.default.post("https://ferma.games:4000/getUserInfo",t).then((function(t){var i=t.data,s=i.result;i.error?e.stopLoading():s.avatar?e.loadAvatarAsset(s).then((function(t){e.startCreateForeignProfile(t)})):e.startCreateForeignProfile(s)})).catch((function(){e.stopLoading()}))},e.prototype.createLoadingAnim=function(){this.scene.scene.launch("Block");var e=this.scene.cameras.main,t=e.centerX,i=e.centerY;this.loadingSprite=this.scene.add.sprite(t,i,"loading-spinner"),this.loadAnim=this.scene.tweens.add({targets:this.loadingSprite,rotation:2*Math.PI,duration:700,repeat:-1})},e.prototype.stopLoading=function(){var e,t;this.scene.scene.stop("Modal"),this.scene.scene.stop("Block"),null===(e=this.loadAnim)||void 0===e||e.remove(),null===(t=this.loadingSprite)||void 0===t||t.destroy()},e.prototype.startCreateForeignProfile=function(e){var t,i;this.profile=e,this.scene.scene.stop("Block"),null===(t=this.loadAnim)||void 0===t||t.remove(),null===(i=this.loadingSprite)||void 0===i||i.destroy(),this.create()},e.prototype.loadAvatarAsset=function(e){var t=this;return new Promise((function(i){var s=e.id,n=e.avatar,a=isNaN(Number(n)),r="avatar-"+s;if(t.scene.textures.exists(r)||!a)return i(e);t.scene.load.image(r,n),t.scene.load.once(Phaser.Loader.Events.COMPLETE,(function(){return i(e)})),t.scene.load.start()}))},e.prototype.create=function(){this.createMainElements(),this.createAvatar(),this.createProfileInfo(),this.owner?this.createOwnerBtns():this.createForeignBtns(),this.setListeners(),this.createAchievementsInfo(),this.createClanInfo()},e.prototype.createMainElements=function(){this.topBg=this.scene.add.sprite(this.x,this.y,"profile-window-bg"),this.createBottomBg(),this.height=this.topBg.getBounds().height,this.createHeader(),this.createFooter()},e.prototype.createHeader=function(){this.header=this.scene.add.sprite(this.x,this.y-this.height/2+10,"profile-window-header").setOrigin(.5,1);var e=this.header.getBounds();this.headerText=this.scene.add.text(e.centerX,e.centerY-15,this.scene.state.lang.profile,{color:"#F3FBD0",fontFamily:"Shadow",fontSize:"38px"}).setOrigin(.5),this.closeBtn=this.scene.add.sprite(e.right-35,e.top+35,"close-window-btn")},e.prototype.createFooter=function(){this.footer=this.scene.add.sprite(this.x,this.bottomBg.getBounds().bottom-55,"profile-window-footer").setOrigin(.5,0)},e.prototype.createAvatar=function(){var e=this,t={x:220,y:this.y-60},i=Number(this.profile.avatar),s=isNaN(i)?"avatar-"+this.profile.id:"avatar-"+i,n=this.scene.textures.exists(s),a=this.scene.add.sprite(t.x,t.y,"avatar-0").setVisible(!1),r=new Phaser.Display.Masks.BitmapMask(this.scene,a);this.avatar=this.scene.add.sprite(t.x,t.y,s).setMask(r),n||this.avatar.setTexture("avatar-0");var o=a.width/this.avatar.width,c=a.height/this.avatar.height;if(this.avatar.setScale(o,c),this.owner){var h=this.avatar.getTopRight(),l=this.scene.add.sprite(h.x-20,h.y+20,"profile-window-edit-avatar-btn").setScale(.7).setDepth(1);this.scene.click(this.avatar,(function(){e.scene.state.modal={type:25},e.scene.scene.restart(e.scene.state)})),this.scene.click(l,(function(){e.scene.state.modal={type:25},e.scene.scene.restart(e.scene.state)}))}},e.prototype.createProfileInfo=function(){var e=this,t={x:this.x-50,y:this.y-85};this.name=this.scene.add.text(t.x,t.y,this.profile.name,{fontFamily:"Shadow",fontSize:"24px",color:"#FFEBD0",wordWrap:{width:240},align:"left"}).setOrigin(0,.5),this.name.setCrop(0,0,240,50);var i=this.name.getBounds();this.settingsBtn=this.scene.add.sprite(t.x+250,t.y+180,"profile-window-settings-btn").setVisible(this.owner);var s=this.scene.state.lang.level+" "+this.profile.level,n=this.scene.add.sprite(this.avatar.x,this.avatar.y+this.avatar.displayHeight/2,"profile-window-level").setDepth(1);this.level=this.scene.add.text(n.x,n.y,s,{fontFamily:"Shadow",fontSize:"20px",color:"#7A3D10"}).setDepth(2).setOrigin(.5);var a=i.height>50?t.y+25:i.bottom;this.onlineStatus=this.scene.add.text(t.x,a,this.scene.state.lang.onlineStatus,{fontFamily:"Bip",fontSize:"16px",color:"#FBCB8D"}).setOrigin(0).setVisible(this.owner);var r=this.scene.getStatusSettings(this.profile.status);if(r){var o=this.onlineStatus.getBounds().bottom;this.status=this.scene.add.text(t.x,o,r.text,{fontFamily:"Bip",fontSize:"20px",color:"#fce700"}).setOrigin(0);var c=this.status.getBounds().right,h=this.status.getBounds().centerY;this.scene.game.scene.keys[this.scene.state.farm].achievement.lazyLoading(this.profile.status).then((function(){e.statusIcon=e.scene.add.sprite(c,h,r.iconTexture).setOrigin(0,.5).setScale(.4).setVisible(r.iconVisible)}))}},e.prototype.createOwnerBtns=function(){var e={x:this.x-165,y:this.y+90},t={x:this.x-25,y:this.y+90},i=this.x+105,s=this.y+90,n={fontFamily:"Shadow",wordWrap:{width:100},align:"center",fontSize:"14px",color:"#ffe2e2",stroke:"#D78A31",strokeThickness:3};switch(this.scene.state.platform){case"vk":case"ok":this.supportBtn=this.scene.add.sprite(e.x,e.y,"profile-window-button-yellow"),this.supportBtnText=this.scene.add.text(this.supportBtn.x,this.supportBtn.y-5,this.scene.state.lang.support,n).setOrigin(.5),this.licenseBtnText=this.scene.add.text(t.x+2,t.y-5,this.scene.state.lang.agreement,n).setOrigin(.5).setStroke("#7a7a7a",2);break;case"web":case"gd":this.supportBtn=this.scene.add.sprite(e.x,e.y,"profile-window-button-yellow"),this.supportBtnText=this.scene.add.text(this.supportBtn.x,this.supportBtn.y-5,this.scene.state.lang.support,n).setOrigin(.5),this.exitProfileBtn=this.scene.add.sprite(t.x,t.y,"profile-window-button-red"),this.exitProfileBtnText=this.scene.add.text(this.exitProfileBtn.x+2,this.exitProfileBtn.y-5,this.scene.state.lang.profileExit,n).setOrigin(.5).setStroke("#990000",2),this.licenseBtnText=this.scene.add.text(i+2,s-5,this.scene.state.lang.agreement,n).setOrigin(.5).setStroke("#7a7a7a",2);break;case"ya":this.supportBtn=this.scene.add.sprite(e.x,e.y,"profile-window-button-yellow"),this.supportBtnText=this.scene.add.text(this.supportBtn.x,this.supportBtn.y-5,this.scene.state.lang.support,n).setOrigin(.5);break;case"android":this.exitBtn=this.scene.add.sprite(t.x,t.y,"profile-window-button-red"),this.exitBtnText=this.scene.add.text(this.exitBtn.x+2,this.exitBtn.y-5,this.scene.state.lang.exitGame,n).setOrigin(.5).setStroke("#990000",2),this.supportBtn=this.scene.add.sprite(e.x,e.y,"profile-window-button-yellow"),this.supportBtnText=this.scene.add.text(this.supportBtn.x,this.supportBtn.y-5,this.scene.state.lang.support,n).setOrigin(.5)}},e.prototype.createForeignBtns=function(){var e,t,i=this,s={x:this.x-150,y:this.y+90},n={x:this.x,y:this.y+90},a=(this.x,this.y,{fontFamily:"Shadow",wordWrap:{width:100},align:"center",fontSize:"14px",color:"#ffe2e2",stroke:"#D78A31",strokeThickness:3});if(this.writeBtn=this.scene.add.sprite(s.x,s.y,"profile-window-button-yellow"),this.writeBtnText=this.scene.add.text(this.writeBtn.x,this.writeBtn.y-5,this.scene.state.lang.writing,a).setOrigin(.5),this.scene.state.clan&&(null===(e=this.scene.state.clan)||void 0===e?void 0:e.ownerId)===this.scene.state.user.id)if(this.profile.clan&&(null===(t=this.profile.clan)||void 0===t?void 0:t.id)!==this.scene.state.clan.id||!this.profile.clan){var r=this.scene.add.sprite(n.x,n.y,"profile-window-button-yellow"),o=this.scene.add.text(r.x+2,r.y-5,this.scene.state.lang.inviteClan,a).setOrigin(.5);this.scene.clickModalBtn({btn:r,title:o},(function(){i.onInviteClanBtn()}))}else{var c=this.scene.add.sprite(n.x,n.y,"profile-window-button-red"),h=this.scene.add.text(c.x+2,c.y-5,this.scene.state.lang.excludeClan,a).setStroke("#990000",2).setOrigin(.5);this.scene.clickModalBtn({btn:c,title:h},(function(){i.scene.state.modal={type:1,sysType:22,userId:i.profile.id,message:i.profile.name},i.scene.scene.restart(i.scene.state)}))}},e.prototype.setListeners=function(){var e=this;this.supportBtn&&this.scene.clickModalBtn({btn:this.supportBtn,title:this.supportBtnText},(function(){e.onSupportBtn()})),this.exitProfileBtn&&this.scene.clickModalBtn({btn:this.exitProfileBtn,title:this.exitProfileBtnText},(function(){e.onExitProfileBtn()})),this.licenseBtnText&&this.scene.clickButton(this.licenseBtnText,(function(){e.onLicenseBtn()})),this.settingsBtn&&this.scene.clickButton(this.settingsBtn,(function(){e.onSettingsBtn()})),this.writeBtn&&this.scene.clickModalBtn({btn:this.writeBtn,title:this.writeBtnText},(function(){e.onWriteBtn()})),this.exitBtn&&this.scene.clickModalBtn({btn:this.exitBtn,title:this.exitBtnText},(function(){e.onExitBtn()})),this.scene.clickButton(this.closeBtn,(function(){e.onCloseBtn()}))},e.prototype.onWriteBtn=function(){var e=this;if(!this.scene.state.user.personalMessages.find((function(t){return t.userId===e.profile.id}))){var t={name:this.profile.name,userId:this.profile.id,status:this.profile.status,messages:[]};this.scene.state.user.personalMessages.push(t)}this.scene.state.modal={type:9,chatType:2,userId:this.profile.id},this.scene.scene.get("Modal").scene.restart(this.scene.state)},e.prototype.onInviteClanBtn=function(){this.profile.sheepPart>=7?this.inviteUser():(this.scene.state.modal={type:1,sysType:3,message:this.scene.state.lang.forThisPlayerClanIsNotAccepted.replace("$1",this.profile.name),height:150},this.scene.scene.restart(this.scene.state))},e.prototype.inviteUser=function(){var e=this.scene.state.user.login;"ya"!==this.scene.state.platform&&"vk"!==this.scene.state.platform&&"ok"!==this.scene.state.platform||(e=this.scene.state.name);var t={clanId:this.scene.state.clan.id,userId:this.profile.id,name:e};this.scene.state.socket.io.emit("inviteClan",t),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop(),this.scene.state.foreignProfileId=void 0},e.prototype.onSupportBtn=function(){"vk"===this.scene.state.platform?window.open("https://vk.com/topic-201017618_46785427","_blank"):"ok"===this.scene.state.platform?window.open("https://ok.ru/group/58414298824783","_blank"):this.openSysWindow(14)},e.prototype.onExitProfileBtn=function(){n.default.set("hash",""),n.default.set("farm",""),window.location.reload()},e.prototype.onExitBtn=function(){navigator.app&&navigator.app.exitApp()},e.prototype.onLicenseBtn=function(){window.open("https://"+location.hostname+"/agreement","_blank")},e.prototype.onSettingsBtn=function(){this.scene.state.modal={type:16},this.scene.scene.restart(this.scene.state)},e.prototype.onCloseBtn=function(){this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop(),this.scene.state.foreignProfileId=void 0},e.prototype.openSysWindow=function(e){var t={type:1,sysType:e};this.scene.state.modal=t,this.scene.scene.restart(this.scene.state)},e.prototype.createBottomBg=function(){var e={x:this.x,y:this.topBg.getBounds().bottom-40};this.bottomBg=this.scene.add.tileSprite(e.x,e.y,527,this.bottomHeight,"white-pixel").setTint(16750336).setDepth(-1).setOrigin(.5,0),this.scene.add.sprite(e.x,e.y+40,"clan-window-search-plate-ns").setOrigin(.5,0).setDepth(1).setDisplaySize(487,this.bottomHeight)},e.prototype.createClanInfo=function(){var e=this,t={fontFamily:"Shadow",fontSize:"20px",color:"#954F00",wordWrap:{width:350,useAdvancedWrap:!0}},i={fontFamily:"Shadow",wordWrap:{width:100},align:"center",fontSize:"16px",color:"#ffe2e2",stroke:"#D78A31",strokeThickness:3},s=this.bottomBg.getBounds(),n={x:s.left+70,y:s.bottom-20};if(this.scene.state.userSheep.part>=7)if(this.profile.clan){this.scene.add.text(s.centerX,n.y-35,this.scene.state.lang.inClan,t).setOrigin(.5).setDepth(2);var r=a.default.createIcon(this.scene,n.x,n.y,this.profile.clan.avatar).setScale(.3).setDepth(2).getBounds();this.scene.add.text(r.right+10,r.centerY,this.profile.clan.name,t).setDepth(2).setOrigin(0,.5);if(this.owner){var o=this.scene.add.sprite(s.centerX+100,n.y,"profile-window-button-yellow").setOrigin(0,.5).setDepth(2),c=this.scene.add.text(o.getCenter().x,o.getCenter().y-5,this.scene.state.lang.clan,i).setDepth(2).setOrigin(.5);this.scene.clickModalBtn({btn:o,title:c},(function(){e.scene.scene.stop(),e.scene.scene.launch("ClanFarm",e.scene.state)}))}}else if(this.owner){this.scene.add.text(n.x-20,n.y,this.scene.state.lang.joinClanBanner,{fontFamily:"Bip",fontSize:"16px",color:"#D98C38",wordWrap:{width:330}}).setDepth(2).setOrigin(0,.5),o=this.scene.add.sprite(n.x+300,n.y,"profile-window-button-yellow").setOrigin(0,.5).setDepth(2),c=this.scene.add.text(o.getCenter().x,o.getCenter().y-5,this.scene.state.lang.clans,i).setDepth(2).setOrigin(.5);this.scene.clickModalBtn({btn:o,title:c},(function(){e.scene.state.modal={type:17,clanTabType:3},e.scene.scene.restart(e.scene.state)}))}else this.scene.add.text(this.scene.cameras.main.centerX,n.y,this.scene.state.lang.userHasNotInClan,t).setAlign("center").setDepth(2).setOrigin(.5);else this.scene.add.text(this.scene.cameras.main.centerX,n.y,this.scene.state.lang.reachChapterOfSheepFarm.replace("$1","7"),t).setAlign("center").setDepth(2).setOrigin(.5)},e.prototype.createAchievementsInfo=function(){var e=this,t={fontFamily:"Shadow",fontSize:"20px",color:"#954F00",wordWrap:{width:350,useAdvancedWrap:!0}},i=this.bottomBg.getBounds(),s={x:i.left+50,y:i.top+80},n=0,a=0;this.profile.achievements.forEach((function(t){if(t.progress>=t.count&&e.owner)n+=t.points,a+=1;else if(!e.owner){var i=o.default.find((function(e){return e.id===t.id}));i&&(n+=i.points,a+=1)}}));var r=String(Math.round(a/o.default.length*100)),c=this.scene.state.lang,h=c.achievementsPoints,l=c.achievementsDone,d=this.scene.add.text(s.x,s.y-5,h,t).setOrigin(0,.5).setDepth(1),u=(this.scene.add.text(d.getBounds().right+5,s.y-5,String(n),t).setColor("#8EB508").setOrigin(0,.5).setDepth(1),this.scene.add.text(s.x,s.y+25,l,t).setOrigin(0,.5).setDepth(1));this.scene.add.text(u.getBounds().right+5,s.y+25,r+"%",t).setColor("#8EB508").setOrigin(0,.5).setDepth(1);if(this.scene.add.sprite(i.centerX,s.y+55,"profile-window-line").setDepth(2),n>0||this.owner){var p=this.scene.add.sprite(s.x+375,s.y+10,"profile-window-button-blue").setScale(1.15).setDepth(2),f=this.scene.add.text(p.getCenter().x,p.getCenter().y-5,this.scene.state.lang.achievements,{fontFamily:"Shadow",wordWrap:{width:100},align:"center",fontSize:"16px",color:"#ffe2e2",stroke:"#4268d7",strokeThickness:3}).setDepth(2).setOrigin(.5);this.scene.clickModalBtn({btn:p,title:f},(function(){e.scene.state.modal={type:26},e.owner||(e.scene.state.modal.achievements=e.profile.achievements),e.scene.scene.restart(e.scene.state)}))}},e}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(19),n=i(1),a=["😊","😟","😝","😍","😎","😭","😘","😳","😱"],r=function(){function e(e){this.scene=e,this.create()}return e.prototype.create=function(){this.createMainElements(),(1===this.scene.state.modal.chatType||2===this.scene.state.modal.chatType&&this.scene.state.modal.userId||3===this.scene.state.modal.chatType)&&this.createInput(),2===this.scene.state.modal.chatType&&this.scene.state.modal.userId&&this.createPersonalChatPlate(),this.setTabsListeners(),this.setResize()},e.prototype.setResize=function(){var e=this,t=document.querySelector("#root"),i=this.scene.cameras.main.height/100*10,s=!0,n=window.innerHeight,a=window.innerHeight,r=[];this.smilePanelElements&&r.concat(this.smilePanelElements),r.push(this.bg,this.chatText,this.chatInputZone,this.sendMsgBtn,this.smileBtn,this.inputBg,this.tabChat,this.tabChatText,this.tabPersonal,this.tabPersonalText,this.tabClan,this.tabClanText,this.tabClose,this.tabCloseBtn,this.arrow,this.name,this.bgNamePlate),window.onresize=function(){if(window.innerHeight!==n)if((n=window.innerHeight)<a&&s){t.scrollIntoView(!1);var o=Number(e.scene.game.config.height)/12-100,c=88,h=7;e.scene.mainInput.style.top=c-o/4+"%",e.scene.mainInput.style.bottom=h+o/4+"%",r.forEach((function(e){return null==e?void 0:e.setY(e.y+i)})),e.scene.game.scene.keys.Chat.scrolling.y+=i,s=!1}else if(!s){o=Number(e.scene.game.config.height)/12-100,c=78,h=17;e.scene.mainInput.style.top=c-o/4+"%",e.scene.mainInput.style.bottom=h+o/4+"%",r.forEach((function(e){return null==e?void 0:e.setY(e.y-i)})),e.scene.game.scene.keys.Chat.scrolling.y-=i,s=!0}}},e.prototype.createMainElements=function(){var e={x:this.scene.cameras.main.centerX,y:this.scene.cameras.main.centerY};this.bg=this.scene.add.sprite(e.x,e.y+20,"chat-bg").setDepth(3);var t=this.bg.getBounds();this.chatModalZone=this.scene.add.zone(t.left,t.top+20,t.width,t.height).setOrigin(0).setDropZone(void 0,(function(){})),this.chatModalZone.setDepth(3).setInteractive(),this.createTabs()},e.prototype.createTabs=function(){var e={fontFamily:"Shadow",fontSize:"20px",color:"#ffb27c",align:"center",stroke:"#602000",strokeThickness:3,wordWrap:{width:100}},t={fontFamily:"Shadow",fontSize:"20px",color:"#fff2e7",align:"center",stroke:"#aa6100",strokeThickness:3,wordWrap:{width:100}},i=this.bg.getBounds(),n=this.scene.state.modal.chatType;if(this.createCloseTab(),this.scene.state.user.clanId){var a=this.getPersonalTabCountNotification();switch(n){case 1:this.tabChat=this.scene.add.roundedField(i.left+10+440/6,i.top+25,440/3,93,"chat-tab-active").setDepth(2).setOriginY(1),this.tabChatText=this.scene.add.text(this.tabChat.getCenter().x,this.tabChat.getCenter().y,this.scene.state.lang.generalChat,t).setDepth(2).setOrigin(.5),this.tabClan=this.scene.add.roundedField(this.tabChat.getRightCenter().x-3+440/6,i.top+25,440/3,74,"chat-tab").setDepth(2).setOriginY(1),this.tabClanText=this.scene.add.text(this.tabClan.getCenter().x,this.tabClan.getCenter().y,this.scene.state.lang.clanChat,e).setDepth(4).setOrigin(.5);var r={x:this.tabClan.getRightCenter().x-10,y:this.tabClan.getTopCenter().y+10};this.clanTabNotificator=new s.default(this.scene,r),this.clanTabNotificator.setDepth(4),this.clanTabNotificator.setCount(this.scene.state.clanChatNotificationCount),this.tabPersonal=this.scene.add.roundedField(this.tabClan.getRightCenter().x-3+440/6,i.top+25,440/3,74,"chat-tab").setDepth(2).setOriginY(1),this.tabPersonalText=this.scene.add.text(this.tabPersonal.getCenter().x,this.tabPersonal.getCenter().y,this.scene.state.lang.personalChat,e).setDepth(4).setOrigin(.5);var o={x:this.tabPersonal.getRightCenter().x-10,y:this.tabPersonal.getTopCenter().y+10};this.personalTabNotificator=new s.default(this.scene,o),this.personalTabNotificator.setDepth(4),this.personalTabNotificator.setCount(a);break;case 2:this.tabChat=this.scene.add.roundedField(i.left+10+440/6,i.top+25,440/3,74,"chat-tab").setDepth(2).setOriginY(1),this.tabChatText=this.scene.add.text(this.tabChat.getCenter().x,this.tabChat.getCenter().y,this.scene.state.lang.generalChat,e).setDepth(2).setOrigin(.5),this.tabClan=this.scene.add.roundedField(this.tabChat.getRightCenter().x-3+440/6,i.top+25,440/3,74,"chat-tab").setDepth(2).setOriginY(1),this.tabClanText=this.scene.add.text(this.tabClan.getCenter().x,this.tabClan.getCenter().y,this.scene.state.lang.clanChat,e).setDepth(4).setOrigin(.5);var c={x:this.tabClan.getRightCenter().x-10,y:this.tabClan.getTopCenter().y+10};this.clanTabNotificator=new s.default(this.scene,c),this.clanTabNotificator.setDepth(4),this.clanTabNotificator.setCount(this.scene.state.clanChatNotificationCount),this.tabPersonal=this.scene.add.roundedField(this.tabClan.getRightCenter().x-3+440/6,i.top+25,440/3,93,"chat-tab-active").setDepth(2).setOriginY(1),this.tabPersonalText=this.scene.add.text(this.tabPersonal.getCenter().x,this.tabPersonal.getCenter().y,this.scene.state.lang.personalChat,t).setDepth(2).setOrigin(.5);break;case 3:this.tabChat=this.scene.add.roundedField(i.left+10+440/6,i.top+25,440/3,74,"chat-tab").setDepth(2).setOriginY(1),this.tabChatText=this.scene.add.text(this.tabChat.getCenter().x,this.tabChat.getCenter().y,this.scene.state.lang.generalChat,e).setDepth(2).setOrigin(.5),this.tabClan=this.scene.add.roundedField(this.tabChat.getRightCenter().x-3+440/6,i.top+25,440/3,93,"chat-tab-active").setDepth(2).setOriginY(1),this.tabClanText=this.scene.add.text(this.tabClan.getCenter().x,this.tabClan.getCenter().y,this.scene.state.lang.clanChat,t).setDepth(4).setOrigin(.5),this.tabPersonal=this.scene.add.roundedField(this.tabClan.getRightCenter().x-3+440/6,i.top+25,440/3,74,"chat-tab").setDepth(2).setOriginY(1),this.tabPersonalText=this.scene.add.text(this.tabPersonal.getCenter().x,this.tabPersonal.getCenter().y,this.scene.state.lang.personalChat,e).setDepth(2).setOrigin(.5);var h={x:this.tabPersonal.getRightCenter().x-10,y:this.tabPersonal.getTopCenter().y+10};this.personalTabNotificator=new s.default(this.scene,h),this.personalTabNotificator.setDepth(4),this.personalTabNotificator.setCount(a)}}else switch(n){case 1:this.tabChat=this.scene.add.roundedField(i.left+10+110,i.top+25,220,93,"chat-tab-active").setDepth(2).setOriginY(1),this.tabChatText=this.scene.add.text(this.tabChat.getCenter().x,this.tabChat.getCenter().y,this.scene.state.lang.generalChat,t).setDepth(2).setOrigin(.5),this.tabPersonal=this.scene.add.roundedField(this.tabChat.getRightCenter().x-3+110,i.top+25,220,74,"chat-tab").setDepth(2).setOriginY(1),this.tabPersonalText=this.scene.add.text(this.tabPersonal.getCenter().x,this.tabPersonal.getCenter().y,this.scene.state.lang.personalChat,e).setDepth(4).setOrigin(.5);a=this.getPersonalTabCountNotification(),o={x:this.tabPersonal.getRightCenter().x-10,y:this.tabPersonal.getTopCenter().y+10};this.personalTabNotificator=new s.default(this.scene,o),this.personalTabNotificator.setDepth(4),this.personalTabNotificator.setCount(a);break;case 2:this.tabChat=this.scene.add.roundedField(i.left+10+110,i.top+25,220,74,"chat-tab"),this.tabChat.setDepth(2).setOriginY(1),this.tabChatText=this.scene.add.text(this.tabChat.getCenter().x,this.tabChat.getCenter().y,this.scene.state.lang.generalChat,e).setDepth(2).setOrigin(.5),this.tabPersonal=this.scene.add.roundedField(this.tabChat.getRightCenter().x-3+110,i.top+25,220,93,"chat-tab-active").setDepth(2).setOriginY(1),this.tabPersonalText=this.scene.add.text(this.tabPersonal.getCenter().x,this.tabPersonal.getCenter().y,this.scene.state.lang.personalChat,t).setDepth(2).setOrigin(.5)}},e.prototype.update=function(){var e,t;if(this.scene.state.updatePersonalMessage&&this.personalTabNotificator){this.scene.state.updatePersonalMessage=!1;var i=this.getPersonalTabCountNotification();null===(e=this.personalTabNotificator)||void 0===e||e.setCount(i)}null===(t=this.clanTabNotificator)||void 0===t||t.setCount(this.scene.state.clanChatNotificationCount)},e.prototype.getPersonalTabCountNotification=function(){for(var e=0,t=0,i=this.scene.state.user.personalMessages;t<i.length;t++)for(var s=0,n=i[t].messages;s<n.length;s++){if(!n[s].check){e+=1;break}}for(var a=0,r=this.scene.state.user.messages;a<r.length;a++){r[a].check||(e+=1)}return e},e.prototype.createCloseTab=function(){var e=this.bg.getBounds();this.tabClose=this.scene.add.sprite(e.right-18,e.top+25,"chat-tab-close").setOrigin(1,1).setDepth(2);var t=this.tabClose.getBounds();this.tabCloseBtn=this.scene.add.sprite(t.centerX+30,t.centerY,"close-window-btn").setOrigin(.5).setDepth(2)},e.prototype.createSmilePanel=function(){var e=this,t={fontFamily:"Bip",fontSize:"38px"},i={x:this.scene.cameras.main.centerX-210,y:this.scene.cameras.main.centerY+292};this.smilePanelElements=[];var s=this.scene.add.tileSprite(i.x+210,i.y,482,54,"white-pixel").setTint(7612816).setDepth(3).setVisible(!1);this.smilePanelElements.push(s);for(var n=function(s){var n=r.scene.add.text(i.x+52*s,i.y,a[s],t);n.setOrigin(.5,.5).setDepth(3).setVisible(!1).setInteractive(),r.scene.click(n,(function(){e.onSmileClick(n)})),r.smilePanelElements.push(n)},r=this,o=0;o<a.length;o+=1)n(o)},e.prototype.createInput=function(){var e=this,t={x:this.scene.cameras.main.centerX,y:this.scene.cameras.main.centerY+330},i=document.querySelector("#root");this.scene.mainInput=document.createElement("input"),i.append(this.scene.mainInput),this.scene.mainInput.setAttribute("id","chat"),this.scene.mainInput.setAttribute("autocomplete","off");var s=Number(this.scene.game.config.height)/12-100;this.scene.mainInput.style.top=78-s/4+"%",this.scene.mainInput.style.bottom=17+s/4+"%",this.inputBg=this.scene.add.sprite(t.x,t.y+32,"chat-input-bg").setDepth(3),this.chatText=this.scene.add.text(t.x-216,t.y+33,this.scene.mainInput.value,{font:"24px Bip",color:"#974f00"}).setOrigin(0,.5).setDepth(5),this.chatInputZone=this.scene.add.zone(134,t.y,294,65).setOrigin(0).setDropZone(void 0,(function(){})),this.chatInputZone.setInteractive().setDepth(3),this.sendMsgBtn=this.scene.add.sprite(t.x+187,t.y+34,"chat-send-btn").setOrigin(.5).setDepth(3),this.smileBtn=this.scene.add.sprite(t.x+102,t.y+34,"chat-emoji-btn").setOrigin(.5).setDepth(3),this.createSmilePanel(),this.scene.clickButton(this.smileBtn,(function(){e.toggleSmilePannel()})),this.chatInputZone.on("pointerdown",(function(){e.scene.mainInput.style.display="block",e.scene.mainInput.focus(),e.chatText.setAlpha(0)})),this.chatModalZone.on("pointerdown",(function(){e.scene.mainInput.style.display="none",e.scene.mainInput.blur(),e.chatText.setText(e.scene.mainInput.value).setDepth(4).setCrop(0,0,280,100).setAlpha(1)})),this.scene.clickButton(this.sendMsgBtn,(function(){e.sendMsg()})),this.enterKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER),this.enterKey.on("down",(function(){return e.sendMsg()}))},e.prototype.setTabsListeners=function(){var e=this;1!==this.scene.state.modal.chatType&&this.scene.clickButtonUp(this.tabChat,(function(){var t,i;null===(t=e.scene.mainInput)||void 0===t||t.remove(),e.deleteUserWithoutMessages(),null===(i=e.enterKey)||void 0===i||i.destroy(),e.scene.state.modal={type:9,chatType:1},e.scene.scene.stop("Chat"),e.scene.scene.restart(e.scene.state)}),this.tabChatText),2!==this.scene.state.modal.chatType&&this.scene.clickButtonUp(this.tabPersonal,(function(){var t,i;null===(t=e.scene.mainInput)||void 0===t||t.remove(),null===(i=e.enterKey)||void 0===i||i.destroy(),e.scene.state.modal={type:9,chatType:2},e.scene.scene.stop("Chat"),e.scene.scene.restart(e.scene.state)}),this.tabPersonalText),3!==this.scene.state.modal.chatType&&this.tabClan&&this.scene.clickButtonUp(this.tabClan,(function(){var t,i;null===(t=e.scene.mainInput)||void 0===t||t.remove(),null===(i=e.enterKey)||void 0===i||i.destroy(),e.scene.state.modal={type:9,chatType:3},e.scene.scene.stop("Chat"),e.scene.scene.restart(e.scene.state)}),this.tabClanText),this.scene.clickButtonUp(this.tabClose,(function(){e.onCloseBtnClick()}),this.tabCloseBtn)},e.prototype.onSmileClick=function(e){this.scene.mainInput.style.display="block",this.scene.mainInput.focus(),this.scene.mainInput.value+=e.text,this.chatText.setText(this.scene.mainInput.value).setAlpha(0)},e.prototype.sendMsg=function(){var e=this;if(""!==this.scene.mainInput.value){if(this.smilePanelElements[0].visible&&this.toggleSmilePannel(),this.scene.state.amplitude.logAmplitudeEvent("chat_send",{}),1===this.scene.state.modal.chatType)this.scene.state.socket.io.emit("send",{id:this.scene.state.user.id,hash:this.scene.state.user.hash,login:n.default.getUserName(this.scene.state),text:this.scene.mainInput.value,type:1,status:this.scene.state.user.status});else if(2===this.scene.state.modal.chatType){var t=this.scene.state.user.personalMessages.find((function(t){return t.userId===e.scene.state.modal.userId}));this.scene.state.socket.io.emit("sendPersonalMessage",{id:this.scene.state.user.id,toId:t.userId,message:this.scene.mainInput.value,userName:n.default.getUserName(this.scene.state),userStatus:this.scene.state.user.status})}else 3===this.scene.state.modal.chatType&&(this.scene.state.socket.io.emit("sendClanMessage",{id:this.scene.state.user.id,clanId:this.scene.state.user.clanId,message:this.scene.mainInput.value,userName:n.default.getUserName(this.scene.state),userStatus:this.scene.state.user.status}),this.scene.game.scene.keys[this.scene.state.farm].tryClanTask(19),this.scene.game.scene.keys[this.scene.state.farm].achievement.tryId(275));this.scene.mainInput.value="",this.chatText.setText("").setDepth(4).setCrop(0,0,280,100).setAlpha(1)}},e.prototype.toggleSmilePannel=function(){this.smilePanelElements.forEach((function(e){return e.setVisible(!e.visible)})),this.smilePanelElements[0].visible?(this.scene.game.scene.keys.Chat.scrolling.height-=52,this.scene.game.scene.keys.Chat.scrollHeight+=55):(this.scene.game.scene.keys.Chat.scrolling.height+=52,this.scene.game.scene.keys.Chat.scrollHeight-=55),this.scene.game.scene.keys.Chat.scrolling.bottom=this.scene.game.scene.keys.Chat.scrollHeight,this.scene.game.scene.keys.Chat.scrolling.scrollY=this.scene.game.scene.keys.Chat.scrollHeight},e.prototype.createPersonalChatPlate=function(){var e=this,t={x:this.scene.cameras.main.centerX-1,y:this.bg.getBounds().top+71},i=this.scene.state.user.personalMessages.find((function(t){return t.userId===e.scene.state.modal.userId}));this.bgNamePlate=this.scene.add.tileSprite(t.x,t.y,482,68,"white-pixel").setDepth(4).setAlpha(.3).setOrigin(.5,0);var s=this.bgNamePlate.getBounds();if(this.name=this.scene.add.text(t.x,s.centerY,i.name,{fontFamily:"Shadow",fontSize:"40px",color:"#fffcf9",shadow:{offsetX:1,offsetY:2,color:"rgba(0, 0, 0, 0.5)",blur:2,fill:!0}}).setDepth(4).setOrigin(.5),this.arrow=this.scene.add.sprite(s.left+20,s.centerY,"chat-arrow").setDepth(4).setOrigin(0,.5),this.name.displayWidth>350){var n=this.name.displayWidth/350;this.name.setFontSize(parseInt(this.name.style.fontSize)/n)}this.scene.click(this.arrow,(function(){var t,i;null===(t=e.scene.mainInput)||void 0===t||t.remove(),null===(i=e.enterKey)||void 0===i||i.destroy(),e.deleteUserWithoutMessages(),e.scene.state.modal={type:9,chatType:2},e.scene.scene.stop("Chat"),e.scene.scene.restart(e.scene.state)})),this.scene.click(this.name,(function(){e.onUserNameClick(i.userId)}))},e.prototype.deleteUserWithoutMessages=function(){var e=this;2===this.scene.state.modal.chatType&&this.scene.state.modal.userId&&(this.scene.state.user.personalMessages.find((function(t){return t.userId===e.scene.state.modal.userId})).messages.length<=0&&this.scene.state.user.personalMessages.pop())},e.prototype.onCloseBtnClick=function(){var e,t;this.scene.state.updatePersonalMessage=!0,null===(e=this.scene.mainInput)||void 0===e||e.remove(),this.deleteUserWithoutMessages(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop("Chat"),this.scene.scene.stop("Modal"),null===(t=this.enterKey)||void 0===t||t.destroy()},e.prototype.onUserNameClick=function(e){var t,i;null===(t=this.scene.mainInput)||void 0===t||t.remove(),null===(i=this.enterKey)||void 0===i||i.destroy(),this.scene.state.foreignProfileId=e,this.scene.state.modal={type:15},this.scene.scene.stop("Chat"),this.scene.scene.restart(this.scene.state)},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){var t=this;this.onChangeNickName=function(){t.scene.state.modal={type:1,sysType:12},t.scene.scene.restart(t.scene.state)},this.scene=e,this.init(),this.createElements()}return e.prototype.init=function(){this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.height=200,this.width=527,this.clickCount=0},e.prototype.createElements=function(){this.createBg(),this.createSoundsController(),this.createHeader(),this.createFooter(),("web"===this.scene.state.platform||"gd"===this.scene.state.platform||"android"===this.scene.state.platform&&!this.scene.state.playId)&&this.createChangeNicknameBtn(),this.setSegmentsState(),this.createErudaZone()},e.prototype.createErudaZone=function(){var e=this,t=this.scene.add.zone(50,50,100,100).setDepth(1).setDropZone(void 0,(function(){}));this.scene.click(t,(function(){e.clickCount+=1,e.clickCount>=5&&!window.eruda&&e.erudaLaunch()}))},e.prototype.createBg=function(){this.bg=this.scene.add.tileSprite(this.x,this.y,this.width,this.height,"white-pixel").setTint(16750336)},e.prototype.createHeader=function(){var e=this;this.header=this.scene.add.sprite(this.x,this.y-this.height/2+10,"settings-window-header").setOrigin(.5,1);var t=this.header.getBounds();this.headerText=this.scene.add.text(t.centerX,t.centerY-15,this.scene.state.lang.settingsHeader,{color:"#F3FBD0",fontFamily:"Shadow",fontSize:"38px"}).setOrigin(.5),this.closeBtn=this.scene.add.sprite(t.right-35,t.top+35,"close-window-btn"),this.scene.clickButton(this.closeBtn,(function(){e.onCloseBtn()}))},e.prototype.createFooter=function(){this.footer=this.scene.add.sprite(this.x,this.y+this.height/2,"profile-window-footer").setOrigin(.5,0)},e.prototype.createSoundsController=function(){var e={x:this.x,y:this.y-20},t=this.scene.add.sprite(e.x,e.y,"settings-window-music-plate").setDepth(1),i=this.scene.add.sprite(e.x,t.getBounds().bottom+20,"settings-window-sound-plate").setOrigin(.5,0).setDepth(1),s=t.getBounds(),n=i.getBounds();this.musicMinus=this.scene.add.sprite(s.left+130,s.centerY,"settings-window-minus").setDepth(1),this.soundMinus=this.scene.add.sprite(n.left+130,n.centerY,"settings-window-minus").setDepth(1),this.musicSegments=this.createSegments({x:s.left+130+50,y:s.centerY}),this.soundSegments=this.createSegments({x:n.left+130+50,y:n.centerY}),this.musicPlus=this.scene.add.sprite(s.right-40,s.centerY,"settings-window-plus").setDepth(1),this.soundPlus=this.scene.add.sprite(n.right-40,n.centerY,"settings-window-plus").setDepth(1),this.setVolumeBtnsListeners()},e.prototype.setVolumeBtnsListeners=function(){var e=this;this.scene.clickButton(this.musicMinus,(function(){e.scene.state.musicVolume>0&&(e.scene.state.musicVolume=(10*e.scene.state.musicVolume-1)/10,e.setSegmentsState(),e.saveVolume())})),this.scene.clickButton(this.soundMinus,(function(){e.scene.state.soundVolume>0&&(e.scene.state.soundVolume=(10*e.scene.state.soundVolume-1)/10,e.setSegmentsState(),e.saveVolume())})),this.scene.clickButton(this.musicPlus,(function(){e.scene.state.musicVolume<1&&(e.scene.state.musicVolume=(10*e.scene.state.musicVolume+1)/10,e.setSegmentsState(),e.saveVolume())})),this.scene.clickButton(this.soundPlus,(function(){e.scene.state.soundVolume<1&&(e.scene.state.soundVolume=(10*e.scene.state.soundVolume+1)/10,e.setSegmentsState(),e.saveVolume())}))},e.prototype.createSegments=function(e){for(var t=[],i=0;i<10;i++){var s=this.scene.add.sprite(e.x+20*i,e.y,"settings-window-segment").setDepth(1);t.push(s)}return t},e.prototype.setSegmentsState=function(){var e,t;this.clearSegment();for(var i=this.scene.state.musicVolume,s=0;s<10*i;s++)null===(e=this.musicSegments[s])||void 0===e||e.setTint(12905758);var n=this.scene.state.soundVolume;for(s=0;s<10*n;s++)null===(t=this.soundSegments[s])||void 0===t||t.setTint(12905758)},e.prototype.clearSegment=function(){for(var e,t,i=0;i<10;i++)null===(e=this.musicSegments[i])||void 0===e||e.setTint(16760948);for(i=0;i<10;i++)null===(t=this.soundSegments[i])||void 0===t||t.setTint(16760948)},e.prototype.createChangeNicknameBtn=function(){var e=this,t=this.scene.bigButton("yellow","center",170,this.scene.state.lang.changeNickname);t.btn.setScale(.91),t.title.setStroke("#ef9d32",2),this.scene.clickModalBtn(t,(function(){e.onChangeNickName()}))},e.prototype.onCloseBtn=function(){this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop(),this.scene.state.foreignProfileId=void 0},e.prototype.saveVolume=function(){this.scene.sound.get("music").volume=this.scene.state.musicVolume,"ya"!==this.scene.state.platform?(this.scene.game.scene.keys[this.scene.state.farm].setPlatformStorage("musicVolume",String(this.scene.state.musicVolume)),this.scene.game.scene.keys[this.scene.state.farm].setPlatformStorage("soundVolume",String(this.scene.state.soundVolume))):this.scene.game.scene.keys[this.scene.state.farm].setPlatformStorage("volume",{music:String(this.scene.state.musicVolume),sound:String(this.scene.state.soundVolume)})},e.prototype.erudaLaunch=function(){console.log("eruda launched");var e=document.createElement("script");e.src="android"===this.scene.state.platform?"eruda.js":"//cdn.jsdelivr.net/npm/eruda",document.body.appendChild(e),e.onload=function(){window.eruda.init()}},e}();t.default=s},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(0),o=i(13),c=i(10),h=i(12),l=i(1),d=i(54),u=function(e){function t(t){var i=e.call(this,t,t.cameras.main.centerX,t.cameras.main.centerY,"pixel")||this;return i.modalElements=[],i.windowType=1,i.headerTextStyle={color:"#fffdfa",fontFamily:"Shadow",fontSize:"23px",align:"left",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0},wordWrap:{width:400,useAdvancedWrap:!0}},i.scene=t,i.init(),i.createElements(),i}return n(t,e),t.prototype.init=function(){this.scene.add.existing(this),this.windowType=this.scene.state.modal.clanTabType||2,this.windowHeight=600,this.windowWidth=527},t.prototype.createElements=function(){var e;this.createBg(),this.createHeader(),this.createFooter(),this.createCloseTab(),this.scene.state.clan?this.scene.state.user.id===(null===(e=this.scene.state.clan)||void 0===e?void 0:e.ownerId)?this.createTabs([1,2,4]):this.createTabs([1,2]):this.createTabs([2,3]),this.createMainElements()},t.prototype.createMainElements=function(){switch(this.windowType){case 1:this.createClanInfo();break;case 2:this.createLeaderboard();break;case 3:this.createSearch();break;case 4:this.clanSettings()}},t.prototype.createBg=function(){this.bg=this.scene.add.tileSprite(this.x,this.y,this.windowWidth,this.windowHeight,"white-pixel").setTint(16750336),this.modalElements.push(this.bg)},t.prototype.createHeader=function(){this.header=this.scene.add.sprite(this.x,this.y-this.windowHeight/2+10,"clan-window-header").setDepth(2).setOrigin(.5,1),this.modalElements.push(this.header)},t.prototype.createFooter=function(){this.footer=this.scene.add.sprite(this.x,this.y+this.windowHeight/2,"profile-window-footer").setOrigin(.5,0),this.modalElements.push(this.footer)},t.prototype.onCloseBtn=function(){this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.removeInput(),this.scene.scene.stop(),this.scene.scene.stop("ClanScroll")},t.prototype.createCloseTab=function(){var e=this,t=this.header.getBounds(),i=this.scene.add.sprite(t.right-18,t.top+5,"clan-window-tab-close").setOrigin(1,1),s=i.getBounds(),n=this.scene.add.sprite(s.centerX+5,s.centerY-5,"close-window-btn").setOrigin(.5).setScale(.9);this.scene.clickButtonUp(i,(function(){e.onCloseBtn()}),n),this.modalElements.push(i,n)},t.prototype.createTabs=function(e){var t=this,i=this.windowType,s=e.length,n=this.header.getBounds(),a=n.left+90;2===e.length&&(a=n.left+130);e.forEach((function(e){t.createTab({x:a,y:n.top-25},i===e,s,e),a+=455/s-1}))},t.prototype.createTab=function(e,t,i,s){var n=this,a=t?115:104,r=new d.default(this.scene,e.x,e.y,455/i,a,"clan-window-icon-"+s,t,(function(){n.scene.state.modal={type:17,clanTabType:s},n.removeInput(),n.scene.scene.stop("ClanScroll"),n.scene.scene.restart(n.scene.state)}),s);this.modalElements.push(r,r.tl,r.tc,r.tr,r.ml,r.mr,r.bl,r.bc,r.br,r.icon,r.flag)},t.prototype.createClanInfo=function(){var e=this.header.getBounds();if(!this.scene.state.clan)return this.scene.scene.stop(),this.scene.scene.stop("ClanScroll"),void this.scene.scene.stop("ClanFarm");var t=this.scene.state.clan,i=t.name,s=t.avatar,n=t.points;this.headerTextStyle.wordWrap={width:270,useAdvancedWrap:!0},this.headerText=this.scene.add.text(e.left+110,e.centerY,i,this.headerTextStyle).setDepth(2).setOrigin(0,.5).setFontSize(25);o.default.createIcon(this.scene,e.left+60,e.centerY,s).setDepth(2).setScale(.4);var a=this.scene.add.sprite(e.right-20,e.centerY,"clan-window-points-bg").setDepth(2).setOrigin(1,.5).getBounds(),c=this.scene.state.lang.scores+": "+r.shortNum(n);this.scene.add.text(a.centerX,a.centerY,c,{color:"#f3dcc9",fontFamily:"Shadow",fontSize:"19px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}}).setDepth(2).setOrigin(.5);this.scene.add.roundedField(this.x,this.y+100,480,600,"modal-square-bg").setDepth(1),this.createClanBtns(),this.scene.scene.launch("ClanScroll",this.scene.state);var h=this.scene.state.clan.main.cooldown>0?this.scene.state.clan.limit-1:this.scene.state.clan.limit,l=this.scene.state.lang.players+" "+this.scene.state.clan.users.length+"/"+h;this.scene.add.text(e.left+40,e.bottom+40,l,this.headerTextStyle).setOrigin(0,.5)},t.prototype.createClanBtns=function(){var e=this,t={fontFamily:"Shadow",wordWrap:{width:100,useAdvancedWrap:!0},align:"center",fontSize:"16px",color:"#ffffff",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},i=this.header.getBounds(),s=this.scene.add.sprite(i.centerX+30,i.bottom+45,"profile-window-button-red"),n=this.scene.add.text(s.x,s.y-5,this.scene.state.lang.leaveClan,t).setOrigin(.5),a=this.scene.add.sprite(i.centerX+170,i.bottom+45,"profile-window-button-yellow"),r=this.scene.add.text(a.x,a.y-5,this.scene.state.lang.clanChat.replace(" ","\n"),t).setOrigin(.5);this.scene.clickModalBtn({btn:s,title:n},(function(){e.onLeaveBtn()})),this.scene.clickModalBtn({btn:a,title:r},(function(){e.onChatBtn()}))},t.prototype.onChatBtn=function(){this.scene.state.modal={type:9,chatType:3},this.scene.scene.stop("ClanScroll"),this.scene.scene.restart(this.scene.state)},t.prototype.onLeaveBtn=function(){var e=this.scene.state.user.login;"web"!==this.scene.state.platform&&"gd"!==this.scene.state.platform&&"android"!==this.scene.state.platform&&(e=this.scene.state.name),this.scene.state.socket.io.emit("sendClanMessage",{id:this.scene.state.user.id,clanId:this.scene.state.user.clanId,message:"1491f4c9d53dfa6c50d0c4a375f9ba76",userName:e,userStatus:this.scene.state.user.status}),this.scene.state.socket.io.emit("leaveClan"),this.scene.state.user.clanId=null,this.scene.state.clan=null,this.scene.state.user.messages=this.scene.state.user.messages.filter((function(e){return 5!==e.type})),this.scene.state.modal={type:17,clanTabType:2},this.removeInput(),this.scene.scene.stop("ClanScroll"),this.scene.scene.stop("ClanFarm"),this.scene.scene.restart(this.scene.state),this.scene.scene.launch("Profile",this.scene.state)},t.prototype.createLeaderboard=function(){var e=this,t=this.header.getBounds();if(this.scene.state.user.clanId){var i=680,s=this.y+70;this.scene.add.roundedField(this.x,s,480,i,"modal-square-bg").setDepth(1)}else{i=590,s=this.y+120;this.scene.add.roundedField(this.x,s,480,i,"modal-square-bg").setDepth(1),this.scene.add.tileSprite(this.x,t.bottom-2,this.windowWidth,100,"white-pixel").setTint(13658368).setOrigin(.5,0);var n={text:String(c.CREATE_CLAN_COST),icon:"diamond",sale:l.default.checkSale(this.scene.state,"CLAN")?String(Math.floor(c.CREATE_CLAN_COST/2)):null},a={color:"green",textAlign:"left",text:this.scene.state.lang.createClan,right1:n};new h.default(this.scene,-240,(function(){e.scene.state.modal={type:18,clanWindowType:1},e.removeInput(),e.scene.scene.stop("ClanScroll"),e.scene.scene.restart(e.scene.state)}),a)}this.headerText=this.scene.add.text(t.centerX,t.centerY-3,this.scene.state.lang.clansLiderboard,this.headerTextStyle).setDepth(2).setOrigin(.5),this.scene.scene.launch("ClanScroll",this.scene.state)},t.prototype.createSearch=function(){var e=this,t=this.header.getBounds(),i=this.y+120,s=this.scene.add.roundedField(this.x,i,480,590,"modal-square-bg").setDepth(1),n=this.scene.add.tileSprite(this.x,t.bottom-2,this.windowWidth,100,"white-pixel").setTint(13658368).setOrigin(.5,0),a=this.scene.add.sprite(t.centerX-45,t.centerY,"clan-window-search-plate").setDepth(2),r=a.getBounds(),o=this.scene.add.sprite(r.right+40,r.centerY+2,"profile-window-button-green").setDepth(2).setScale(.92),d=this.scene.add.text(o.x,o.y-5,this.scene.state.lang.search,{fontFamily:"Shadow",wordWrap:{width:100},color:"#fffdfa",fontSize:"19px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}}).setDepth(2).setOrigin(.5);this.scene.clickModalBtn({btn:o,title:d},(function(){e.searchClans()})),this.inputText=this.scene.add.text(r.left+10,r.centerY,this.scene.state.lang.inputClanName,{fontSize:"22px",fontFamily:"Bip",color:"#8f8f8f"}).setOrigin(0,.5).setDepth(5),this.createInput(),this.scene.click(a,(function(){e.mainInput.style.display="block",e.mainInput.focus(),e.inputText.setVisible(!1)})),this.scene.click(this.header,(function(){e.mainInput.style.display="none",e.mainInput.blur();var t=e.mainInput.value?e.mainInput.value:e.scene.state.lang.inputClanName,i=e.mainInput.value?"#974f00":"#8f8f8f";e.inputText.setText(t).setColor(i).setDepth(4).setCrop(0,0,280,100).setVisible(!0)}));var u={text:String(c.CREATE_CLAN_COST),icon:"diamond",sale:l.default.checkSale(this.scene.state,"CLAN")?String(Math.floor(c.CREATE_CLAN_COST/2)):null},p={color:"green",textAlign:"left",text:this.scene.state.lang.createClan,right1:u},f=new h.default(this.scene,-240,(function(){e.scene.state.modal={type:18,clanWindowType:1},e.removeInput(),e.scene.scene.stop("ClanScroll"),e.scene.scene.restart(e.scene.state)}),p);this.modalElements.push(a,o,d,this.inputText,f,s,n),this.scene.scene.launch("ClanScroll",this.scene.state)},t.prototype.createInput=function(){var e=this,t=document.querySelector("#root");this.mainInput=document.createElement("input"),t.append(this.mainInput),this.mainInput.setAttribute("id","clan-search"),this.mainInput.setAttribute("autocomplete","off");var i=Number(this.scene.game.config.height)/12-100;this.mainInput.style.top=19+i/4+"%",this.mainInput.style.bottom=77-i/4+"%",this.enterKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER),this.enterKey.on("down",(function(){return e.searchClans()}));var s=this.scene.cameras.main.height/100*10,n=!0,a=window.innerHeight,r=window.innerHeight;window.onresize=function(){if(a=window.innerHeight,r!==a&&n){t.scrollIntoView(!1);var i=+e.mainInput.style.top.replace("%","")+10,o=+e.mainInput.style.bottom.replace("%","")-10;e.mainInput.style.top=i+"%",e.mainInput.style.bottom=o+"%",e.modalElements.forEach((function(e){return null==e?void 0:e.setY(e.y+s)})),e.scene.game.scene.keys.ClanScroll.scrolling.y+=s,n=!1}else if(r===a&&!n){i=+e.mainInput.style.top.replace("%","")-10,o=+e.mainInput.style.bottom.replace("%","")+10;e.mainInput.style.top=i+"%",e.mainInput.style.bottom=o+"%",e.modalElements.forEach((function(e){return null==e?void 0:e.setY(e.y-s)})),e.scene.game.scene.keys.ClanScroll.scrolling.y-=s,n=!0}}},t.prototype.removeInput=function(){var e,t;null===(e=this.mainInput)||void 0===e||e.remove(),null===(t=this.enterKey)||void 0===t||t.destroy()},t.prototype.searchClans=function(){""!==this.mainInput.value&&(this.scrollY=this.scene.game.scene.keys.ClanScroll.scrolling.y,this.scene.scene.stop("ClanScroll"),this.scene.state.searchClan=this.mainInput.value,this.scene.scene.launch("ClanScroll",this.scene.state),this.mainInput.value="",this.mainInput.style.display="none",this.mainInput.blur(),this.inputText.setText(this.scene.state.lang.inputClanName).setDepth(4).setCrop(0,0,280,100).setColor("#8f8f8f").setVisible(!0))},t.prototype.clanSettings=function(){var e,t,i,s,n=this,d=this.header.getBounds(),u={color:"#fffdfa",fontFamily:"Shadow",fontSize:"19px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0},wordWrap:{width:160,useAdvancedWrap:!0}};this.headerText=this.scene.add.text(d.left+110,d.centerY,null===(e=this.scene.state.clan)||void 0===e?void 0:e.name,this.headerTextStyle).setDepth(2).setOrigin(0,.5).setFontSize(30);o.default.createIcon(this.scene,d.left+60,d.centerY,null===(t=this.scene.state.clan)||void 0===t?void 0:t.avatar).setDepth(2).setScale(.4);var p,f=this.scene.add.roundedField(d.centerX,d.bottom+20,480,150,"modal-square-bg").setOriginY(0).setDepth(2),m=this.scene.add.sprite(f.getTopCenter().x,f.getTopCenter().y+2,"clan-window-leader-plate-2").setOrigin(.5,0).setDisplaySize(479,45).setDepth(2);this.scene.add.sprite(f.getLeftCenter().x+70,f.getCenter().y,"clan-task-icon-6").setScale(1.15).setDepth(2);this.cooldownTimer=this.scene.add.text(m.getCenter().x+40,m.getCenter().y,"",this.headerTextStyle).setOrigin(.5).setDepth(2);var g=this.scene.add.sprite(f.getCenter().x-10,f.getCenter().y+24,"profile-window-button-green").setScale(1.4,1.05).setDepth(2),y=this.scene.add.text(g.getCenter().x,g.getCenter().y-1,"",u).setOrigin(.5,.6).setDepth(2),v=this.scene.add.sprite(g.getRightCenter().x+40,g.y-5,"clan-diamond-coin").setScale(.7).setDepth(2),w=this.scene.add.text(v.x+30,v.y,"",this.headerTextStyle).setFontSize(28).setOrigin(0,.5).setDepth(2);if(this.scene.clickModalBtn({btn:g,title:y},(function(){V()})),(null===(i=this.scene.state.clan)||void 0===i?void 0:i.main.cooldown)>0){this.cooldownTimer.setText(this.scene.state.lang.left+" "+r.shortTime(this.scene.state.clan.main.cooldown,this.scene.state.lang)),y.setText(this.scene.state.lang.speedUpImprovment);var b=2*Math.round(this.scene.state.clan.main.cooldown/60);p=b>1e3?1e3:b}else this.cooldownTimer.setText(this.scene.state.lang.headquarters+" "+this.scene.state.lang.lvl+" "+this.scene.state.clan.main.level),y.setText(this.scene.state.lang.improveClan),p=100*Math.pow(2,this.scene.state.clan.main.level-1);w.setText(String(p<1e3?p:r.shortNum(p))).setFontSize(w.getBounds().width>70?27:28);var x=this.scene.add.roundedField(f.getBottomCenter().x,f.getBottomCenter().y+30,480,150,"modal-square-bg").setOriginY(0).setDepth(2),k=this.scene.add.sprite(x.getTopCenter().x,x.getTopCenter().y+2,"clan-window-leader-plate-2").setOrigin(.5,0).setDisplaySize(479,45).setDepth(2),T=(o.default.createIcon(this.scene,x.getLeftCenter().x+70,x.getCenter().y,null===(s=this.scene.state.clan)||void 0===s?void 0:s.avatar).setDepth(2).setScale(.5),this.scene.add.text(k.getCenter().x+40,k.getCenter().y,this.scene.state.lang.emblem,this.headerTextStyle).setOrigin(.5).setDepth(2),this.scene.add.sprite(x.getCenter().x-10,x.getCenter().y+24,"profile-window-button-green").setScale(1.4,1.05).setDepth(2)),_=this.scene.add.text(T.getCenter().x,T.getCenter().y-1,this.scene.state.lang.changeEmblem,u).setOrigin(.5,.6).setDepth(2);if(l.default.checkSale(this.scene.state,"CLAN")){var S=this.scene.add.sprite(T.getRightCenter().x+30,T.y-5,"diamond").setScale(.15).setDepth(2),C=this.scene.add.text(S.x+25,S.y,String(c.CHANGE_EMBLEM_COST),this.headerTextStyle).setColor("#eeeeee").setFontSize(24).setOrigin(0,.5).setDepth(2);this.scene.add.text(C.getBounds().right+3,S.y,String(Math.floor(c.CHANGE_EMBLEM_COST/2)),this.headerTextStyle).setFontSize(28).setOrigin(0,.5).setDepth(2),this.scene.add.tileSprite(C.getCenter().x,C.y,C.displayWidth,4,"text-sale").setDepth(2).setAngle(5).setOrigin(.5)}else{S=this.scene.add.sprite(T.getRightCenter().x+30,T.y-5,"diamond").setScale(.15).setDepth(2);this.scene.add.text(S.x+30,S.y,String(c.CHANGE_EMBLEM_COST),this.headerTextStyle).setFontSize(28).setOrigin(0,.5).setDepth(2)}this.scene.clickModalBtn({btn:T,title:_},(function(){U()}));var P=this.scene.add.roundedField(x.getBottomCenter().x,x.getBottomCenter().y+30,480,220,"modal-square-bg").setOriginY(0).setDepth(3),B=this.scene.add.sprite(P.getTopCenter().x,P.getTopCenter().y+2,"clan-window-leader-plate-2").setOrigin(.5,0).setDisplaySize(479,45).setDepth(3),A=(this.scene.add.text(B.getCenter().x,B.getCenter().y,String(this.scene.state.lang.clanName),this.headerTextStyle).setOrigin(.5).setDepth(3),this.scene.add.sprite(P.getCenter().x,B.getBottomCenter().y+20,"clan-window-search-plate").setScale(1.175,1.14).setOrigin(.5,0).setDepth(3).setInteractive()),E=this.scene.add.text(A.getLeftCenter().x+12,A.getCenter().y,this.scene.state.lang.inputClanName,{font:"22px Bip",color:"#8f8f8f"}).setOrigin(0,.5).setDepth(4).setCrop(0,0,A.getBounds().width-24,100),M=this.scene.add.text(P.getBottomCenter().x,P.getBottomCenter().y+16,"",{fontFamily:"Shadow",fontSize:"19px",color:"#DC3D00",align:"center",wordWrap:{width:480,useAdvancedWrap:!0}}).setOrigin(.5,0).setDepth(3),O={text:String(c.CHANGE_CLAN_NAME_COST),icon:"diamond",sale:l.default.checkSale(this.scene.state,"CLAN")?String(Math.floor(c.CHANGE_CLAN_NAME_COST/2)):null},I={color:"green",textAlign:"left",text:this.scene.state.lang.changeClanName,right1:O};new h.default(this.scene,260,(function(){Y()}),I,.9).setDepth(3).setScale(.9);var R=!1,D=document.querySelector("#root");this.mainInput=document.createElement("input"),D.append(this.mainInput),this.mainInput.setAttribute("id","clan-change-name"),this.mainInput.setAttribute("autocomplete","off"),this.enterKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER),this.enterKey.on("down",(function(){Y()}));var N=this.scene.add.tileSprite(this.header.getBottomCenter().x,this.header.getBottomCenter().y,this.scene.cameras.main.width,this.scene.cameras.main.height-this.header.getBottomCenter().y,"pixel").setOrigin(.5,0).setAlpha(1e-4).setVisible(!1).setDepth(2).setInteractive();this.scene.click(A,(function(){F()})),this.scene.click(N,(function(){L()}));var F=function(){n.mainInput.style.display="block",n.mainInput.focus(),N.setVisible(!0),E.setVisible(!1)},L=function(){n.mainInput.style.display="none",n.mainInput.blur();var e=n.mainInput.value?n.mainInput.value:n.scene.state.lang.inputClanName,t=n.mainInput.value?"#974f00":"#8f8f8f";N.setVisible(!1),E.setText(e).setColor(t).setDepth(4).setCrop(0,0,A.getBounds().width-24,100).setVisible(!0)},Y=function(){if(n.scene.state.user.diamonds>=c.CHANGE_CLAN_NAME_COST){if(!R){L();var e=!0,t=n.mainInput.value,i=t.match(/[\p{Alpha}\p{Nd}\s]/gu);e=!(!i||i.length<t.length),(t.length<6||t.length>20)&&(e=!1),e?(R=!0,a.default.post("https://ferma.games:4000/changeClanName",{clanId:n.scene.state.clan.id,userId:n.scene.state.user.id,hash:n.scene.state.user.hash,counter:n.scene.state.user.counter,name:t}).then((function(e){e.data.error?(R=!1,M.setText(n.scene.state.lang.haveClan).setAlpha(1)):(n.scene.game.scene.keys[n.scene.state.farm].scrolling.wheel=!0,n.enterKey.destroy(),n.removeInput(),n.scene.scene.stop("ClanScroll"),n.scene.scene.restart(n.scene.state),n.scene.state.user.diamonds-=c.CHANGE_CLAN_NAME_COST,n.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"change_clan_name",count:c.CHANGE_CLAN_NAME_COST}))}))):M.setText(n.scene.state.lang.validClanName).setAlpha(1)}}else n.scene.state.convertor={fun:0,count:c.CHANGE_CLAN_NAME_COST-n.scene.state.user.diamonds,diamonds:c.CHANGE_CLAN_NAME_COST-n.scene.state.user.diamonds,type:2},n.scene.state.modal={type:1,sysType:4},n.removeInput(),n.scene.scene.restart(n.scene.state),n.scene.game.scene.keys[n.scene.state.farm].scrolling.wheel=!0},U=function(){n.scene.state.clanAvatar=n.scene.state.clan.avatar,n.scene.state.modal={type:18,clanWindowType:2},n.removeInput(),n.scene.scene.stop("ClanScroll"),n.scene.scene.restart(n.scene.state)},V=function(){n.scene.state.clan.main.cooldown>0?(n.scene.state.modal={type:18,clanWindowType:6,message:"main"},n.removeInput(),n.scene.scene.stop("ClanScroll"),n.scene.scene.restart(n.scene.state)):(n.scene.state.modal={type:18,clanWindowType:3},n.removeInput(),n.scene.scene.stop("ClanScroll"),n.scene.scene.restart(n.scene.state))}},t.prototype.preUpdate=function(){var e,t;if((null===(e=this.cooldownTimer)||void 0===e?void 0:e.active)&&this.scene.state.clan.main.cooldown>0){var i=this.scene.state.lang.left+" "+r.shortTime(null===(t=this.scene.state.clan)||void 0===t?void 0:t.main.cooldown,this.scene.state.lang);i!==this.cooldownTimer.text&&this.cooldownTimer.setText(i)}},t}(Phaser.GameObjects.Sprite);t.default=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(1836),n=i(1837),a=i(1838),r=i(1839),o=i(1840),c=i(1841),h=i(1842),l=i(1843),d=i(1844),u=i(1845),p=i(1846),f=function(){function e(e){this.modalElements=[],this.scene=e,this.init(),this.createMainElements(),this.createElements()}return e.prototype.init=function(){this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.windowType=this.scene.state.modal.clanWindowType||1,this.height=400,2===this.windowType?this.height=435:3===this.windowType?this.height=500:4===this.windowType?this.height=190:5===this.windowType?this.height=520:6===this.windowType||7===this.windowType?this.height=190:8===this.windowType?this.height=640:9===this.windowType?this.height=260:10===this.windowType?this.height=190:11===this.windowType&&(this.height=140),this.width=527},e.prototype.createMainElements=function(){this.createBg(),this.createHeader(),this.createFooter()},e.prototype.createBg=function(){this.bg=this.scene.add.tileSprite(this.x,this.y,this.width,this.height,"white-pixel").setTint(16750336),this.bgExtra=this.scene.add.tileSprite(this.x,this.y,this.width,1,"white-pixel").setTint(16420639).setOrigin(.5,0).setDepth(-1).setVisible(!1),this.modalElements.push(this.bg,this.bgExtra)},e.prototype.createHeader=function(){var e=this;this.header=this.scene.add.sprite(this.x,this.y-this.height/2+10,"settings-window-header").setOrigin(.5,1);var t=this.header.getBounds();this.headerText=this.scene.add.text(t.centerX-30,t.centerY-15,"",{color:"#F3FBD0",fontFamily:"Shadow",fontSize:"38px",wordWrap:{width:400,useAdvancedWrap:!0},align:"center"}).setOrigin(.5),this.closeBtn=this.scene.add.sprite(t.right-35,t.top+35,"close-window-btn"),this.scene.clickButton(this.closeBtn,(function(){e.onCloseBtn()})),this.modalElements.push(this.header)},e.prototype.resize=function(e){this.height=e,this.bg.setDisplaySize(this.width,this.height),this.header.setY(this.y-this.height/2+10),this.footer.setY(this.y+this.height/2);var t=this.header.getBounds();this.headerText.setY(t.centerY-15),this.closeBtn.setY(t.top+35)},e.prototype.onCloseBtn=function(){2!==this.scene.state.modal.clanWindowType?(this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop()):this.scene.state.clan?(this.scene.state.modal={type:17,clanTabType:4},this.scene.scene.restart(this.scene.state)):(this.scene.state.modal={type:18,clanWindowType:1},this.scene.scene.restart(this.scene.state))},e.prototype.createFooter=function(){this.footer=this.scene.add.sprite(this.x,this.y+this.height/2,"profile-window-footer").setOrigin(.5,0),this.modalElements.push(this.footer)},e.prototype.createElements=function(){switch(this.windowType){case 1:new s.default(this);break;case 2:new n.default(this);break;case 3:new a.default(this);break;case 4:new r.default(this);break;case 5:new o.default(this);break;case 6:new c.default(this);break;case 7:new h.default(this);break;case 8:new l.default(this);break;case 9:new d.default(this);break;case 10:new u.default(this);break;case 11:new p.default(this)}},e.prototype.addWindowHeight=function(e){this.header.setY(this.header.y-e),this.headerText.setY(this.headerText.y-e),this.closeBtn.setY(this.closeBtn.y-e),this.bgExtra.setPosition(this.x,this.header.getBounds().bottom-15).setSize(this.width,e+15).setVisible(!0)},e}();t.default=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(13),a=i(10),r=i(12),o=i(1),c=function(){function e(e){this.clanIsClosed=!0,this.window=e,this.scene=e.scene,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){var e=this;this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.change=!1,this.window.headerText.setText(this.scene.state.lang.clanСreation),this.scene.events.once(Phaser.Scenes.Events.SHUTDOWN,(function(){e.removeInput()}))},e.prototype.create=function(){var e=this,t={x:this.scene.cameras.main.centerX,y:this.scene.cameras.main.centerY-100},i=document.querySelector("#root");this.input=document.createElement("input"),i.append(this.input),this.input.setAttribute("id","clanname"),this.input.setAttribute("autocomplete","off"),this.input.value=this.scene.state.modal.message||"";var s=Number(this.scene.game.config.height)/12-100;this.input.style.top=37+s/4+"%",this.input.style.bottom=57-s/4+"%";var n=this.scene.add.sprite(t.x,t.y-20,"clan-window-search-plate-ns").setDepth(2).setOrigin(.5).setDisplaySize(460,70),c=n.getBounds(),h=this.input.value||this.scene.state.lang.inputClanName,l=this.input.value?"#974f00":"#8f8f8f";this.inputText=this.scene.add.text(c.left+15,c.centerY,h,{fontSize:"22px",fontFamily:"Bip",color:"#8f8f8f"}).setColor(l).setOrigin(0,.5).setDepth(5);var d,u=!0,p=window.innerHeight,f=window.innerHeight;this.switchBg=this.scene.add.sprite(t.x,c.bottom+20,"sys-switch").setOrigin(.5,0);var m=this.switchBg.getBounds();this.switchTextOpen=this.scene.add.text(t.x-90,m.centerY,this.scene.state.lang.clanIsOpen).setOrigin(.5),this.switchTextClose=this.scene.add.text(t.x+90,m.centerY,this.scene.state.lang.clanIsClose).setOrigin(.5),this.toggleSwitch();var g=this.scene.add.zone(this.switchTextOpen.x,this.switchTextOpen.y,190,70),y=this.scene.add.zone(this.switchTextClose.x,this.switchTextClose.y,190,70);this.scene.click(g,(function(){e.clanIsClosed&&e.toggleSwitch()})),this.scene.click(y,(function(){e.clanIsClosed||e.toggleSwitch()}));var v={text:String(a.CREATE_CLAN_COST),icon:"diamond",sale:o.default.checkSale(this.scene.state,"CLAN")?String(Math.floor(a.CREATE_CLAN_COST/2)):null},w={color:"green",textAlign:"left",text:this.scene.state.lang.createClan,right1:v},b=new r.default(this.scene,280,(function(){e.createClan()}),w);this.result=this.scene.add.text(t.x,c.top-10,"",{fontFamily:"Shadow",fontSize:"19px",color:"#DC3D00",align:"center",wordWrap:{width:460,useAdvancedWrap:!0}}).setOrigin(.5,1).setDepth(4).setAlpha(0),d=this.scene.cameras.main.height/100*15,this.window.modalElements.push(this.scene.header,this.scene.body,this.scene.bottom,this.scene.close,this.scene.textHeader,this.switchBg,this.switchTextOpen,this.switchTextClose,this.inputText,n,b,this.result,this.window.headerText,this.window.closeBtn),window.onresize=function(){if(p=window.innerHeight,f!==p&&u){i.scrollIntoView(!1),e.window.modalElements.forEach((function(e){return null==e?void 0:e.setY(e.y+d)}));var t=+e.input.style.top.replace("%","")+15,s=+e.input.style.bottom.replace("%","")-15;e.input.style.top=t+"%",e.input.style.bottom=s+"%",u=!1}else if(f===p&&!u){e.window.modalElements.forEach((function(e){return null==e?void 0:e.setY(e.y-d)}));t=+e.input.style.top.replace("%","")-15,s=+e.input.style.bottom.replace("%","")+15;e.input.style.top=t+"%",e.input.style.bottom=s+"%",u=!0}},this.scene.click(n,(function(){e.input.style.display="block",e.input.focus(),e.inputText.setVisible(!1)})),this.scene.click(this.window.bg,(function(){e.input.style.display="none",e.input.blur();var t=e.input.value?e.input.value:e.scene.state.lang.inputClanName,i=e.input.value?"#974f00":"#8f8f8f";e.inputText.setText(t).setColor(i).setDepth(4).setCrop(0,0,280,100).setVisible(!0)})),this.scene.enterKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER),this.scene.enterKey.on("down",(function(){e.createClan()})),this.createClanFlag()},e.prototype.toggleSwitch=function(){var e={fontFamily:"Shadow",fontSize:"18px",color:"#fff3f3",wordWrap:{width:50},align:"center",shadow:{offsetX:2,offsetY:3,color:"#4f8c0088",blur:2,fill:!0}},t={fontFamily:"Shadow",fontSize:"16px",color:"#8e8e8e",wordWrap:{width:50},align:"center",shadow:{offsetX:0,offsetY:0,color:"#000000",blur:0,fill:!0}};this.clanIsClosed=!this.clanIsClosed,this.switchBg.setFlipX(this.clanIsClosed),this.switchTextOpen.setStyle(this.clanIsClosed?t:e),this.switchTextClose.setStyle(this.clanIsClosed?e:t)},e.prototype.createClan=function(){var e=this,t=o.default.checkSale(this.scene.state,"CLAN")?Math.floor(a.CREATE_CLAN_COST/2):a.CREATE_CLAN_COST;if(this.scene.state.user.diamonds>=t){if(!this.change){var i=!0,n=this.input.value,r=n.match(/[\p{Alpha}\p{Nd}\s]/gu);if(i=!(!r||r.length<n.length),(n.length<6||n.length>20)&&(i=!1),(n.length<6||n.length>20)&&(i=!1),i){var c=this.scene.state.user.login;"web"!==this.scene.state.platform&&"gd"!==this.scene.state.platform&&"android"!==this.scene.state.platform&&(c=this.scene.state.name);var h=Number(this.scene.state.user.avatar)>0?this.scene.state.user.avatar:this.scene.state.avatar;this.change=!0,s.default.post("https://ferma.games:4000/createClan",{id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,name:n,isClosed:this.clanIsClosed,userName:c,userAvatar:h,userStatus:this.scene.state.user.status,avatar:this.scene.state.clanAvatar}).then((function(i){i.data.error?(e.change=!1,e.result.setText(e.scene.state.lang.haveClan).setAlpha(1),e.addHeightError||e.addHeightFounded||(e.addHeightFounded=!0,e.window.addWindowHeight(10))):(e.scene.state.user.clanId=i.data.result.id,e.scene.state.clan=i.data.result,e.scene.state.socket.io.emit("joinClanRoom",{clanId:e.scene.state.user.clanId}),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.enterKey.destroy(),e.input.remove(),e.scene.state.user.diamonds-=t,e.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"create_clan",count:t}),e.scene.state.amplitude.logAmplitudeEvent("clan",{type:"create"}),e.scene.state.modal={type:18,clanWindowType:9,message:"create"},e.scene.scene.restart(e.scene.state))}))}else this.result.setText(this.scene.state.lang.validClanName).setAlpha(1),this.addHeightError||this.addHeightFounded?this.addHeightError||(this.addHeightError=!0,this.window.addWindowHeight(45)):(this.addHeightError=!0,this.window.addWindowHeight(55))}}else this.scene.state.convertor={fun:0,count:t-this.scene.state.user.diamonds,diamonds:t-this.scene.state.user.diamonds,type:2},this.scene.state.modal={type:1,sysType:4},this.scene.scene.restart(this.scene.state),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e.prototype.createClanFlag=function(){var e=this,t={fontFamily:"Shadow",wordWrap:{width:100},color:"#fffdfa",fontSize:"19px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},i=this.scene.add.roundedField(this.x,this.switchBg.getBounds().bottom+20,this.window.width-50,200,"modal-square-bg").setOriginY(0);this.initAvatar();var s=i.getCenter().y;this.icon=n.default.createIcon(this.scene,this.x-120,s,this.scene.state.clanAvatar).setScale(.8);var a=this.icon.getBounds(),r=this.scene.add.sprite(a.right+150,a.centerY-40,"profile-window-button-yellow").setScale(1.1),o=this.scene.add.text(r.x,r.y-5,this.scene.state.lang.random,t).setOrigin(.5),c=this.scene.add.sprite(a.right+150,a.centerY+40,"profile-window-button-green").setScale(1.1),h=this.scene.add.text(c.x,c.y-5,this.scene.state.lang.change,t).setOrigin(.5);this.scene.clickModalBtn({btn:r,title:o},(function(){e.getNewIcon()})),this.scene.clickModalBtn({btn:c,title:h},(function(){e.openChangeWindow()})),this.window.modalElements.push(i,r,o,c,h,this.icon)},e.prototype.initAvatar=function(e){if(void 0===e&&(e=!1),!this.scene.state.clanAvatar||e){var t=Object.keys(this.scene.textures.list).filter((function(e){return e.includes("clan-bg-")})).length,i=Object.keys(this.scene.textures.list).filter((function(e){return e.includes("clan-frame-")})).length,s=Object.keys(this.scene.textures.list).filter((function(e){return e.includes("clan-icon-")})).length;this.scene.state.clanAvatar={bg:Phaser.Math.Between(1,t),frame:Phaser.Math.Between(1,i),icon:Phaser.Math.Between(1,s)}}},e.prototype.getNewIcon=function(){this.initAvatar(!0);var e={x:this.icon.x,y:this.icon.y};this.icon.destroy();var t=this.window.modalElements.find((function(e){return null==e?void 0:e.texture}));Phaser.Utils.Array.Remove(this.window.modalElements,t),this.icon=n.default.createIcon(this.scene,e.x,e.y,this.scene.state.clanAvatar).setScale(.8),this.window.modalElements.push(this.icon)},e.prototype.openChangeWindow=function(){this.scene.state.modal={type:18,clanWindowType:2,message:this.input.value},this.removeInput(),this.scene.scene.restart(this.scene.state)},e.prototype.removeInput=function(){var e,t;null===(e=this.input)||void 0===e||e.remove(),null===(t=this.scene.enterKey)||void 0===t||t.destroy()},e}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(10),a=i(1),r=function(){function e(e){this.window=e,this.scene=e.scene,this.init(),this.createClanFlag(),this.createSettigs(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.window.headerText.setText(this.scene.state.lang.flagSettings)},e.prototype.createSettigs=function(){this.avatar=this.scene.state.clanAvatar,this.createFlagManager(),this.createFrameManager(),this.createIconManager()},e.prototype.createFlagManager=function(){var e={x:this.x,y:this.y-130};this.scene.add.tileSprite(e.x,e.y,this.window.width,130,"clan-window-leader-plate-ns",1).setOrigin(.5);this.scene.add.tileSprite(e.x,e.y,145,115,"white-pixel").setTint(13658368),this.bgScroller=new o(this.scene,e,"clan-bg-",this.avatar.bg,this)},e.prototype.createFrameManager=function(){var e={x:this.x,y:this.y+10};this.scene.add.tileSprite(e.x,e.y,this.window.width,130,"clan-window-leader-plate-ns",1).setOrigin(.5);this.scene.add.tileSprite(e.x,e.y,145,115,"white-pixel").setTint(13658368),this.frameBg=this.scene.add.sprite(e.x,e.y,"clan-bg-"+this.avatar.bg).setOrigin(.5).setScale(.55),this.frameScroller=new o(this.scene,e,"clan-frame-",this.avatar.frame,this)},e.prototype.createIconManager=function(){var e={x:this.x,y:this.y+150};this.scene.add.tileSprite(e.x,e.y,this.window.width,130,"clan-window-leader-plate-ns",1).setOrigin(.5);this.scene.add.tileSprite(e.x,e.y,145,115,"white-pixel").setTint(13658368),this.iconBg=this.scene.add.sprite(e.x,e.y,"clan-bg-"+this.avatar.bg).setOrigin(.5).setScale(.55),this.iconFrame=this.scene.add.sprite(e.x,e.y,"clan-frame-"+this.avatar.frame).setOrigin(.5).setScale(.55),this.iconScroller=new o(this.scene,e,"clan-icon-",this.avatar.icon,this)},e.prototype.createClanFlag=function(){var e=this,t={fontFamily:"Shadow",wordWrap:{width:100},color:"#fffdfa",fontSize:"19px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},i=this.scene.add.sprite(this.x-100,this.y+285,"profile-window-button-green").setScale(1.2),s=this.scene.add.text(i.x,i.y-5,this.scene.state.lang.saveAvatar,t).setOrigin(.5),n=this.scene.add.sprite(this.x+100,this.y+285,"profile-window-button-red").setScale(1.2),a=this.scene.add.text(n.x,n.y-5,this.scene.state.lang.random,t).setOrigin(.5);this.scene.clickModalBtn({btn:i,title:s},(function(){e.onSaveBtn()})),this.scene.clickModalBtn({btn:n,title:a},(function(){e.onRandomBtn()}))},e.prototype.onSaveBtn=function(){var e=this,t=a.default.checkSale(this.scene.state,"CLAN")?Math.floor(n.CHANGE_EMBLEM_COST/2):n.CHANGE_EMBLEM_COST;if(this.scene.state.user.clanId)if(this.scene.state.user.diamonds>=t){var i={clanId:this.scene.state.clan.id,userId:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,avatar:{bg:this.bgScroller.active,frame:this.frameScroller.active,icon:this.iconScroller.active}};s.default.post("https://ferma.games:4000/changeClanAvatar",i).then((function(i){i.data.error||(e.scene.state.modal={type:17,clanTabType:4},e.scene.scene.restart(e.scene.state),e.scene.state.user.diamonds-=t,e.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"change_clan_avatar",count:t}))}))}else this.scene.state.convertor={fun:0,count:t-this.scene.state.user.diamonds,diamonds:t-this.scene.state.user.diamonds,type:2},this.scene.state.modal={type:1,sysType:4},this.scene.scene.restart(this.scene.state),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0;else this.avatar={bg:this.bgScroller.active,frame:this.frameScroller.active,icon:this.iconScroller.active},this.scene.state.clanAvatar=this.avatar,this.scene.state.modal={type:18,clanWindowType:1,message:this.scene.state.modal.message},this.scene.scene.restart(this.scene.state)},e.prototype.randomAvatar=function(){var e=Object.keys(this.scene.textures.list).filter((function(e){return e.includes("clan-bg-")})).length,t=Object.keys(this.scene.textures.list).filter((function(e){return e.includes("clan-frame-")})).length,i=Object.keys(this.scene.textures.list).filter((function(e){return e.includes("clan-icon-")})).length;this.avatar={bg:Phaser.Math.Between(1,e),frame:Phaser.Math.Between(1,t),icon:Phaser.Math.Between(1,i)}},e.prototype.setBg=function(e){this.frameBg.setTexture("clan-bg-"+e),this.iconBg.setTexture("clan-bg-"+e)},e.prototype.setFrame=function(e){this.iconFrame.setTexture("clan-frame-"+e)},e.prototype.onRandomBtn=function(){this.bgScroller.checkAnim()||this.frameScroller.checkAnim()||this.iconScroller.checkAnim()||(this.randomAvatar(),this.bgScroller.restart(this.avatar.bg),this.frameScroller.restart(this.avatar.frame),this.iconScroller.restart(this.avatar.icon),this.setBg(this.avatar.bg),this.setFrame(this.avatar.frame))},e}();t.default=r;var o=function(){function e(e,t,i,s,n){var a=this;this._viewArray=[],this.checkAnim=function(){return!!a._anim},this._scene=e,this._textureKey=i,this._active=s,this._pos=t,this._window=n,this.initArray(),this.createMask(),this.createElements()}return e.prototype.initArray=function(){var e=this,t=Object.keys(this._scene.textures.list).filter((function(t){return t.includes(e._textureKey)}));this._array=t.map((function(t){return Number(t.replace(e._textureKey,""))}))},e.prototype.createElements=function(){this.createBtns(),this.createViewArray()},e.prototype.createBtns=function(){var e=this;this._leftBtn=this._scene.add.sprite(this._pos.x-220,this._pos.y,"chat-arrow"),this._scene.clickButton(this._leftBtn,(function(){e.onLeftBtn()})),this._rightBtn=this._scene.add.sprite(this._pos.x+220,this._pos.y,"chat-arrow").setFlipX(!0),this._scene.clickButton(this._rightBtn,(function(){e.onRightBtn()}))},e.prototype.setActive=function(e){this._previous=this._active,this._active=e},e.prototype.animForDirection=function(e){this._previous!==this._active&&this.startAnim(e)},e.prototype.startAnim=function(e){var t=this;this._anim=this._scene.add.tween({targets:this._viewArray,duration:450,x:"+="+135*e,ease:"Power3",onStart:function(){t._leftBtn.setTint(12620357),t._rightBtn.setTint(12620357)},onComplete:function(){"clan-bg-"===t._textureKey?t._window.setBg(t._active):"clan-frame-"===t._textureKey&&t._window.setFrame(t._active),t._leftBtn.setTint(16777215),t._rightBtn.setTint(16777215),t._anim.remove(),t._anim=void 0}})},e.prototype.createMask=function(){var e=this._scene.add.graphics().fillRect(this._pos.x-200,this._pos.y-60,400,120).setVisible(!1);this._mask=e.createGeometryMask()},e.prototype.setInactiveSize=function(e){this._scene.add.tween({targets:e,duration:400,ease:"Power3",scale:{from:.55,to:.3}})},e.prototype.setActiveSize=function(e){this._scene.add.tween({targets:e,duration:400,ease:"Power3",scale:{from:.3,to:.55}})},e.prototype.createViewArray=function(){for(var e=-405,t=0;t<5;t+=1){e+=135;var i=this._active+t-2;i<=0&&(i=this._array.length-i),i>this._array.length&&(i=this._array[t-3]);var s=this._scene.add.sprite(this._pos.x+e,this._pos.y,""+this._textureKey+i).setScale(.3);2===t&&s.setScale(.55),s.setMask(this._mask),this._viewArray.push(s)}},e.prototype.onLeftBtn=function(){if(!this._anim){var e=this._active-1<=0?this._array.length:this._active-1;this.setActive(e),this.animForDirection(1),this.setInactiveSize(this._viewArray[2]),this.setActiveSize(this._viewArray[1]),this._viewArray.pop().destroy();var t=this._viewArray[0],i=e-2<=0?this._array.length-2+e:e-2,s=this._scene.add.sprite(t.x,t.y,this._textureKey+i).setMask(this._mask).setScale(.3);this._viewArray.unshift(s)}},e.prototype.onRightBtn=function(){if(!this._anim){var e=this._active+1>this._array.length?1:this._active+1;this.setActive(e),this.animForDirection(-1),this.setInactiveSize(this._viewArray[2]),this.setActiveSize(this._viewArray[3]),this._viewArray.shift().destroy();var t=this._viewArray[this._viewArray.length-1],i=e>=this._array.length-1?2+e-this._array.length:e+2,s=this._scene.add.sprite(t.x,t.y,this._textureKey+i).setMask(this._mask).setScale(.3);this._viewArray.push(s)}},e.prototype.restart=function(e){this.destroyArray(),this._active=e,this._previous=null,this.createViewArray()},e.prototype.destroyArray=function(){this._viewArray.forEach((function(e){e.destroy()})),this._viewArray=[]},Object.defineProperty(e.prototype,"active",{get:function(){return this._active},enumerable:!1,configurable:!0}),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=function(){function e(e){this.window=e,this.scene=e.scene,this.init(),this.createText(),this.createBtns(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.price=100*Math.pow(2,this.scene.state.clan.main.level-1),this.window.headerText.setText(this.scene.state.lang.clanImprovement)},e.prototype.createText=function(){var e={x:this.x-230,y:this.y-10},t={color:"#fffdfa",fontFamily:"Bip",fontSize:"24px",align:"left",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0},wordWrap:{width:400,useAdvancedWrap:!0}},i={fontFamily:"Shadow",fontSize:"40px",align:"center",color:"#fffcf9"},s=this.scene.add.sprite(this.x,e.y-120,"clan-window-wreath-bg").setDepth(1);this.scene.add.sprite(s.x,s.y+10,"clan-window-wreath").setDepth(1),this.scene.add.tileSprite(this.x,s.y,this.window.width,s.displayHeight+20,"clan-window-leader-plate-ns",5).setOrigin(.5);var n=this.scene.add.text(s.x,s.y-20,String(this.scene.state.clan.main.level),i).setDepth(2).setOrigin(.5);this.scene.add.text(s.x,n.getBounds().bottom,this.scene.state.lang.lvl,i).setDepth(2).setFontSize(30).setColor("#a98dc3").setOrigin(.5,0);var a=this.scene.add.text(e.x,e.y,this.scene.state.lang.maxLimitBeforeImprove,t).setDepth(1);this.scene.add.text(e.x+400,a.getBounds().centerY,String(this.scene.state.clan.limit),t).setOrigin(0,.5).setDepth(1).setFontFamily("Shadow").setFontSize(30);this.scene.add.tileSprite(this.x,a.getBounds().centerY,this.window.width,a.displayHeight+20,"clan-window-leader-plate-ns",5).setOrigin(.5);var r=this.scene.add.text(e.x,a.getBounds().bottom+40,this.scene.state.lang.maxLimitAfterImprove,t).setDepth(1),o=this.scene.add.text(e.x+400,r.getBounds().centerY,String(this.scene.state.clan.limit+1),t).setDepth(1).setColor("#dcff3c").setOrigin(0,.5).setFontFamily("Shadow").setFontSize(30);this.scene.add.tileSprite(this.x,r.getBounds().centerY,this.window.width,r.displayHeight+20,"clan-window-leader-plate-ns",5).setOrigin(.5),this.scene.add.sprite(o.getBounds().right+25,o.y-7,"chat-arrow").setAngle(90).setScale(.65),this.scene.add.sprite(o.getBounds().right+25,o.y+7,"chat-arrow").setAngle(90).setScale(.65)},e.prototype.createBtns=function(){var e=this,t={text:this.price,icon:"clan-diamond-coin"},i=this.scene.bigButton("green","left",220,this.scene.state.lang.improveClan,t);this.scene.clickModalBtn(i,(function(){e.handleImprove()}));var s=this.scene.bigButton("yellow","center",310,this.scene.state.lang.cancel);this.scene.clickModalBtn(s,(function(){e.handleCancel()}))},e.prototype.handleImprove=function(){var e=this;this.scene.state.clan.diamond.count>=this.price?this.postServer().then((function(t){t.data||(e.scene.state.amplitude.logAmplitudeEvent("clan_diamonds_spent",{type:"improve_office",count:e.price}),e.scene.scene.stop())})):(this.scene.state.modal={type:18,clanWindowType:4},this.scene.state.convertor={fun:0,count:this.price-this.scene.state.clan.diamond.count,diamonds:this.price-this.scene.state.clan.diamond.count,type:1},this.scene.scene.restart(this.scene.state))},e.prototype.postServer=function(){var e={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,type:"main",price:this.price};return s.default.post("https://ferma.games:4000/improveClanBuilding",e)},e.prototype.handleCancel=function(){this.scene.state.modal={type:17,clanTabType:4},this.scene.scene.restart(this.scene.state)},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n={color:"#fffdfa",fontFamily:"Bip",fontSize:"24px",align:"left",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},a=function(){function e(e){this.window=e,this.scene=this.window.scene,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.window.headerText.setText(this.scene.state.lang.exchange),this.type=this.scene.state.convertor.type},e.prototype.create=function(){var e=this,t=s.shortNum(this.scene.state.convertor.count),i=10*String(t).length+15,a={x:this.x-i,y:this.scene.cameras.main.centerY-50},r=this.scene.add.text(a.x,a.y,this.scene.state.lang.notEnoughForClan,n).setOrigin(.5,.5),o=(this.scene.add.text(this.x,r.getBounds().bottom+5,this.scene.state.lang.wantGoTreasury,n).setOrigin(.5,0),r.getBounds());this.scene.add.text(o.right+50,a.y,t,n).setOrigin(0,.5);var c=1===this.type?"clan-diamond-coin":2===this.type?"clan-sheep-coin":3===this.type?"clan-chicken-coin":"clan-cow-coin";this.scene.add.sprite(o.right+5,a.y,c).setOrigin(0,.5).setScale(.5);var h=this.scene.bigButton("green","center",70,this.scene.state.lang.goToTreasury);this.scene.clickModalBtn(h,(function(){e.handleAccept()}));var l=this.scene.bigButton("yellow","center",160,this.scene.state.lang.cancel);this.scene.clickModalBtn(l,(function(){e.handleClose()}))},e.prototype.handleClose=function(){this.scene.scene.stop()},e.prototype.handleAccept=function(){this.scene.state.modal={type:19,clanTabType:this.type},this.scene.scene.restart(this.scene.state)},e}();t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(9),o=i(0),c=i(10),h=function(e){function t(t){var i=e.call(this,t.scene,0,0,"pixel")||this;return i.window=t,i.scene=t.scene,i.init(),i.price?(i.createLevel(),i.createBtns()):i.createMaxLevel(),i.scene.openModal(i.scene.cameras.main),i}return n(t,e),t.prototype.init=function(){this.scene.add.existing(this),this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.farm=this.scene.state.modal.message,this.level=this.scene.state.clan[this.farm].cooldown>0?this.scene.state.clan[this.farm].level-1:this.scene.state.clan[this.farm].level,this.price=c.improveClanFarm[this.level-1],this.window.headerText.setText(this.scene.state.lang[this.farm+"ClanFarm"]).setFontSize(30)},t.prototype.createLevel=function(){var e={x:this.x-230,y:this.y+80},t={color:"#fffdfa",fontFamily:"Bip",fontSize:"24px",align:"left",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0},wordWrap:{width:400,useAdvancedWrap:!0}};this.scene.add.sprite(this.x,e.y-265,"tasks-bar-fix").setOrigin(.5).setDisplaySize(this.window.width-30,100),this.scene.add.text(this.x,e.y-265,this.scene.state.lang.clanFarmImproveNote,{color:"#F19D38",fontFamily:"Shadow",fontSize:"20px",align:"center",wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5);var i=this.scene.add.sprite(this.x,e.y-110,"icon-clan-"+this.farm).setDepth(1);this.scene.add.sprite(i.x,i.y+10,"clan-window-wreath").setDepth(1),this.scene.add.tileSprite(this.x,i.y,this.window.width,i.displayHeight+10,"clan-window-leader-plate-ns",5).setOrigin(.5);var s=this.scene.add.sprite(i.x,i.y+i.displayHeight/2-20,"profile-window-level").setDepth(1),n=(this.scene.add.text(s.x,s.y,this.scene.state.lang.level+" "+this.level,{fontFamily:"Shadow",fontSize:"20px",color:"#92450c"}).setDepth(2).setOrigin(.5),""),a="";"sheep"===this.farm?(n=this.scene.state.lang.increasingSheepFarmIncomeNow,a=this.scene.state.lang.increasingSheepFarmIncomeAfterImprove):"chicken"===this.farm?(n=this.scene.state.lang.increasingChickenFarmIncomeNow,a=this.scene.state.lang.increasingChickenFarmIncomeAfterImprove):"cow"===this.farm&&(n=this.scene.state.lang.increasingCowFarmIncomeNow,a=this.scene.state.lang.increasingCowFarmIncomeAfterImprove);var r=this.scene.add.text(e.x,e.y,n,t).setDepth(1);this.scene.add.text(e.x+400,r.getBounds().centerY,String(this.level)+"%",t).setOrigin(0,.5).setDepth(1).setFontFamily("Shadow").setFontSize(30);this.scene.add.tileSprite(this.x,r.getBounds().centerY,this.window.width,r.displayHeight+20,"clan-window-leader-plate-ns",5).setOrigin(.5);var o=this.scene.add.text(e.x,r.getBounds().bottom+30,a,t).setDepth(1),c=this.scene.add.text(e.x+400,o.getBounds().centerY,String(this.level+1)+"%",t).setDepth(1).setColor("#dcff3c").setOrigin(0,.5).setFontFamily("Shadow").setFontSize(30);this.scene.add.tileSprite(this.x,o.getBounds().centerY,this.window.width,o.displayHeight+20,"clan-window-leader-plate-ns",5).setOrigin(.5),this.scene.add.sprite(this.window.bg.getBounds().right-30,c.y-7,"chat-arrow").setAngle(90).setScale(.65),this.scene.add.sprite(this.window.bg.getBounds().right-30,c.y+7,"chat-arrow").setAngle(90).setScale(.65)},t.prototype.createMaxLevel=function(){var e={x:this.x-230,y:this.y+140},t={color:"#fffdfa",fontFamily:"Bip",fontSize:"24px",align:"left",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0},wordWrap:{width:350,useAdvancedWrap:!0}};this.scene.add.sprite(this.x,e.y-265,"tasks-bar-fix").setOrigin(.5).setDisplaySize(this.window.width-30,100),this.scene.add.text(this.x,e.y-265,this.scene.state.lang.clanFarmImproveNote,{color:"#F19D38",fontFamily:"Shadow",fontSize:"20px",align:"center",wordWrap:{width:450,useAdvancedWrap:!0}}).setOrigin(.5);var i=this.scene.add.sprite(this.x,e.y-110,"icon-clan-"+this.farm).setDepth(1);this.scene.add.sprite(i.x,i.y+10,"clan-window-wreath").setDepth(1),this.scene.add.tileSprite(this.x,i.y,this.window.width,i.displayHeight+10,"clan-window-leader-plate-ns",5).setOrigin(.5);var s=this.scene.add.sprite(i.x,i.y+i.displayHeight/2-20,"profile-window-level").setDepth(1),n=(this.scene.add.text(s.x,s.y,this.scene.state.lang.level+" "+this.level,{fontFamily:"Shadow",fontSize:"20px",color:"#92450c"}).setDepth(2).setOrigin(.5),this.scene.add.text(e.x,e.y,this.scene.state.lang.increasingFarmIncome,t).setDepth(1));this.scene.add.text(e.x+400,n.getBounds().centerY,String(this.level)+"%",t).setOrigin(0,.5).setDepth(1).setFontFamily("Shadow").setFontSize(30);this.scene.add.tileSprite(this.x,n.getBounds().centerY,this.window.width,n.displayHeight+20,"clan-window-leader-plate-ns",5).setOrigin(.5),this.scene.add.text(this.x,e.y+100,this.scene.state.lang.maxLevelFarm,{color:"#dcff3c",fontFamily:"Bip",fontSize:"30px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0},wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5).setDepth(1),this.window.resize(400)},t.prototype.createBtns=function(){var e=this,t={color:"#E73F00",fontFamily:"Shadow",fontSize:"20px",align:"center"},i={color:"#FFFDFA",fontFamily:"Shadow",fontSize:"22px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},s={text:o.shortNum(this.price),icon:"clan-"+this.farm+"-coin"};if(this.leftText=this.scene.add.text(0,this.y+310-40,this.scene.state.lang.left,i).setOrigin(0,.5),this.timer=this.scene.add.text(0,this.y+310-40,"",i).setColor("#dcff3c").setOrigin(0,.5),this.scene.state.clan.ownerId===this.scene.state.user.id)if(this.scene.state.clan[this.farm].cooldown>0){var n=2*Math.round(this.scene.state.clan[this.farm].cooldown/60);s.text=String(n>1e3?1e3:n),s.icon="clan-diamond-coin";var a=this.scene.bigButton("green","left",320,this.scene.state.lang.speedUpImprovment,s);this.scene.clickModalBtn(a,(function(){e.handleSpeedUp()}))}else{a=this.scene.bigButton("green","left",310,this.scene.state.lang.improveFarm,s);this.scene.clickModalBtn(a,(function(){e.handleImprove()})),this.timer.setVisible(!1),this.leftText.setVisible(!1)}else if(this.timer.setVisible(!1),this.leftText.setVisible(!1),this.scene.state.clan[this.farm].cooldown>0){n=2*Math.round(this.scene.state.clan[this.farm].cooldown/60);s.text=String(n>1e3?1e3:n),s.icon="clan-diamond-coin",this.scene.add.text(this.x,this.y+310-40,this.scene.state.lang.actionIsAvailableHead,t).setOrigin(.5);a=this.scene.bigButton("grey","left",320,this.scene.state.lang.speedUpImprovment,s)}else{this.scene.add.text(this.x,this.y+310-40,this.scene.state.lang.actionIsAvailableHead,t).setOrigin(.5);a=this.scene.bigButton("grey","left",320,this.scene.state.lang.improveFarm,s)}},t.prototype.handleImprove=function(){var e=this;r.default.greaterThanOrEqual(this.scene.state.clan[this.farm].money,this.price)?this.postServer().then((function(t){t.data||e.scene.state.amplitude.logAmplitudeEvent("clan_"+e.farm+"_improve",{level:e.level+1}),e.scene.scene.stop()})):(this.scene.state.modal={type:18,clanWindowType:4},this.scene.state.convertor={fun:0,count:r.default.subtract(this.price,this.scene.state.clan[this.farm].money),diamonds:100,type:"sheep"===this.farm?2:"chicken"===this.farm?3:4},this.scene.scene.restart(this.scene.state))},t.prototype.handleSpeedUp=function(){this.scene.state.modal={type:18,clanWindowType:6,message:this.farm},this.scene.scene.restart(this.scene.state)},t.prototype.postServer=function(){var e={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,type:this.farm,price:this.price};return a.default.post("https://ferma.games:4000/improveClanBuilding",e)},t.prototype.setLeftTimeTextX=function(){var e=(this.leftText.getBounds().width+this.timer.getBounds().width)/2;this.leftText.setX(this.x-e-5),this.timer.setX(this.leftText.getBounds().right+5)},t.prototype.preUpdate=function(t,i){if(e.prototype.preUpdate.call(this,t,i),this.timer&&this.scene.state.clan.ownerId===this.scene.state.user.id)if(this.scene.state.clan[this.farm].cooldown>0){var s=o.shortTime(this.scene.state.clan[this.farm].cooldown,this.scene.state.lang);this.timer.text!==s&&(this.timer.setText(s),this.setLeftTimeTextX())}else this.timer.visible&&this.scene.scene.restart(this.scene.state)},t}(Phaser.GameObjects.Sprite);t.default=h},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(0),o={color:"#fffdfa",fontFamily:"Bip",fontSize:"24px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0},wordWrap:{width:420,useAdvancedWrap:!0}},c=function(e){function t(t){var i=e.call(this,t.scene,0,0,"pixel")||this;return i.window=t,i.scene=i.window.scene,i.init(),i.create(),i.scene.openModal(i.scene.cameras.main),i}return n(t,e),t.prototype.init=function(){this.scene.add.existing(this),this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.farm=this.scene.state.modal.message,this.building=this.scene.state.clan[this.farm];var e=2*Math.round(this.building.cooldown/60);this.price=e>1e3?1e3:e,this.window.headerText.setText(this.scene.state.lang[this.farm+"ClanFarm"]).setFontSize(30)},t.prototype.create=function(){var e=this,t={x:this.x,y:this.scene.cameras.main.centerY-50},i={icon:"clan-diamond-coin",text:r.shortNum(this.price)},s=(this.scene.add.text(t.x,t.y,this.scene.state.lang.confirmBuyCooldownImprovmentFarm,o).setOrigin(.5),r.shortTime(this.building.cooldown,this.scene.state.lang));this.leftText=this.scene.add.text(t.x,t.y+45,this.scene.state.lang.left,o).setOrigin(0,.5),this.timer=this.scene.add.text(t.x,t.y+45,s,o).setOrigin(0,.5).setColor("#DBFC3B"),this.setTextPosition();var n=this.scene.bigButton("green","left",70,this.scene.state.lang.speedUpImprovment,i);this.scene.clickModalBtn(n,(function(){e.handleAccept()}));var a=this.scene.bigButton("yellow","center",160,this.scene.state.lang.cancel);this.scene.clickModalBtn(a,(function(){e.handleClose()}))},t.prototype.handleClose=function(){this.scene.scene.stop()},t.prototype.setTextPosition=function(){var e,t,i,s,n,a=null===(e=this.leftText)||void 0===e?void 0:e.getBounds(),r=null===(t=this.timer)||void 0===t?void 0:t.getBounds(),o=(a.width+r.width)/2;null===(i=this.leftText)||void 0===i||i.setX(this.x-o-5),null===(s=this.timer)||void 0===s||s.setX((null===(n=this.leftText)||void 0===n?void 0:n.getBounds().right)+5)},t.prototype.handleAccept=function(){var e=this;this.scene.state.clan.diamond.count>=this.price?this.postServer().then((function(t){t.data||(e.scene.state.amplitude.logAmplitudeEvent("clan_diamonds_spent",{type:"cooldown",count:e.price}),e.building.cooldown=0,e.scene.scene.stop())})):(this.scene.state.convertor={fun:0,count:this.price-this.scene.state.clan.diamond.count,diamonds:this.price-this.scene.state.clan.diamond.count,type:1},this.scene.state.modal={type:18,clanWindowType:4},this.scene.scene.restart(this.scene.state),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0)},t.prototype.postServer=function(){var e={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,type:this.farm,count:this.price};return a.default.post("https://ferma.games:4000/buyCooldownClanBuilding",e)},t.prototype.preUpdate=function(e,t){var i;if(this.checkUpdate())if(this.building.cooldown>0){var s=r.shortTime(this.building.cooldown,this.scene.state.lang);(null===(i=this.timer)||void 0===i?void 0:i.text)!==s&&(this.timer.setText(s),this.setTextPosition())}else this.scene.scene.stop()},t.prototype.checkUpdate=function(){return this.scene.scene.isActive()&&18===this.scene.state.modal.type&&6===this.scene.state.modal.clanWindowType&&this.timer.active&&this.leftText.active},t}(Phaser.GameObjects.Sprite);t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(1),n={color:"#fffdfa",fontFamily:"Bip",fontSize:"24px",align:"center",wordWrap:{width:400},shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},a=function(){function e(e){this.window=e,this.scene=this.window.scene,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.farm=this.scene.state.modal.message,this.window.headerText.setText(this.scene.state.lang.buyingCoins)},e.prototype.create=function(){var e=this,t={x:this.x,y:this.scene.cameras.main.centerY-30},i=s.default.ucFirst(this.farm),a=(this.scene.add.text(t.x,t.y,this.scene.state.lang["goToNote"+i],n).setOrigin(.5),this.scene.bigButton("green","center",70,this.scene.state.lang["goTo"+i+"Farm"]));this.scene.clickModalBtn(a,(function(){e.handleAccept()}));var r=this.scene.bigButton("yellow","center",160,this.scene.state.lang.cancel);this.scene.clickModalBtn(r,(function(){e.handleClose()}))},e.prototype.handleClose=function(){this.scene.state.modal={type:19,clanTabType:"sheep"===this.farm?2:"chicken"===this.farm?3:4},this.scene.scene.restart()},e.prototype.handleAccept=function(){var e=s.default.ucFirst(this.farm);this.scene.state.openConvertor=!0,this.scene.game.scene.keys[this.scene.state.farm].autosave(),this.scene.scene.stop("Modal"),this.scene.scene.stop("ClanScroll"),this.scene.scene.stop("ClanFarm"),this.scene.scene.stop(this.scene.state.farm),this.scene.scene.stop(this.scene.state.farm+"Bars"),this.scene.scene.start(e+"Preload",this.scene.state)},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(118),a={color:"#b05b00",fontFamily:"Shadow",fontSize:"24px",align:"center",wordWrap:{width:400}},r=function(){function e(e){this.top=0,this.window=e,this.scene=this.window.scene,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){var e=this;this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.top=this.y-200,this.window.headerText.setText(this.scene.state.lang.dailyTasks).setFontSize(32),this.window.header.setTexture("modal-header-orange"),this.tasks=this.getTasks(),this.scene.events.on(Phaser.Scenes.Events.UPDATE,(function(){e.update()}),this)},e.prototype.create=function(){var e={x:this.x,y:this.y-280};this.scene.add.text(e.x,e.y,this.scene.state.lang.updatingTasksThrough,a).setOrigin(.5);this.timer=this.scene.add.text(e.x,e.y+30,s.shortTime(this.scene.state.timeToNewDay,this.scene.state.lang),a).setOrigin(.5).setFontSize(28).setColor("#ffe1c0"),this.scene.add.roundedField(e.x,this.y+110,this.window.width-40,650,"modal-square-bg"),this.createTasksBars()},e.prototype.update=function(){var e;if(null===(e=this.timer)||void 0===e?void 0:e.active)if(this.scene.state.timeToNewDay>0){var t=s.shortTime(this.scene.state.timeToNewDay,this.scene.state.lang);this.timer.text!==t&&this.timer.setText(t)}else this.scene.scene.restart()},e.prototype.createTasksBars=function(){for(var e=this.x,t=this.top,i=0;i<this.tasks.length;i++){t+=new n.default(e,t,this.tasks[i],this.scene).displayHeight+5}},e.prototype.getTasks=function(){var e=this,t=[];return this.scene.state.user.clanTasks.forEach((function(i){var s=e.scene.state.lang["taskClan_"+i.type];s||(s=e.scene.state.lang.taskName),s=18!==i.type?s.replace("$1",String(i.count)).replace("$2",String(i.state)):s.replace("$1",String(Math.round(i.count/60))).replace("$2",String(i.state));var n={icon:"clan-task-icon-"+i.type,name:s};t.push({task:i,taskData:n})})),t},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(13),n={color:"#fffdfa",fontFamily:"Shadow",fontSize:"28px",align:"center",wordWrap:{width:470,useAdvancedWrap:!0},shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},a=function(){function e(e){this.window=e,this.scene=this.window.scene,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){var e;this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.type=this.scene.state.modal.message,this.window.headerText.setText(null===(e=this.scene.state.clan)||void 0===e?void 0:e.name)},e.prototype.create=function(){var e,t,i=this,a={x:this.x,y:this.scene.cameras.main.centerY-50};s.default.createIcon(this.scene,a.x,a.y,this.scene.state.clan.avatar).setScale(.5);var r="join"===this.type?this.scene.state.lang.youJoinedClan.replace("$1",null===(e=this.scene.state.clan)||void 0===e?void 0:e.name):this.scene.state.lang.youCreatedClan.replace("$1",null===(t=this.scene.state.clan)||void 0===t?void 0:t.name),o=(this.scene.add.text(a.x,a.y+120,r,n).setOrigin(.5),this.scene.bigButton("green","center",180,this.scene.state.lang.goToClanFarm));this.scene.clickModalBtn(o,(function(){i.handleAccept()}))},e.prototype.handleAccept=function(){this.scene.scene.stop("Modal"),this.scene.scene.stop("Profile"),this.scene.scene.launch("ClanFarm",this.scene.state)},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=function(){function e(e){this.window=e,this.scene=this.window.scene,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){var e=this;this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.change=!1,this.window.headerText.setText(this.scene.state.lang.changeClanName),this.scene.events.once(Phaser.Scenes.Events.SHUTDOWN,(function(){e.removeInput()}))},e.prototype.create=function(){var e=this,t={x:this.x,y:this.y},i=document.querySelector("#root");this.input=document.createElement("input"),i.append(this.input),this.input.setAttribute("id","clanname"),this.input.setAttribute("autocomplete","off");var s=Number(this.scene.game.config.height)/12-100;this.input.style.top=45+s/4+"%",this.input.style.bottom=49-s/4+"%";var n=this.scene.add.graphics().fillStyle(16777215,1).fillRoundedRect(t.x-230,t.y-22-35,460,70,10),a={left:t.x-230,centerY:t.y-20,top:t.y-20-35},r=this.scene.add.zone(0,0,this.scene.cameras.main.width,this.scene.cameras.main.height).setDropZone(void 0,(function(){})).setOrigin(0),o=this.scene.add.zone(t.x-230,t.y-20-35,460,70).setDropZone(void 0,(function(){})).setOrigin(0);this.inputText=this.scene.add.text(a.left+15,a.centerY,this.scene.state.lang.inputClanName,{fontSize:"22px",fontFamily:"Bip",color:"#8f8f8f"}).setOrigin(0,.5).setDepth(5);var c,h=!0,l=window.innerHeight,d=window.innerHeight,u=this.scene.bigButton("green","left",90,this.scene.state.lang.changeClanName,{text:100,icon:"diamond"});this.result=this.scene.add.text(t.x,a.top-10,"",{fontFamily:"Shadow",fontSize:"19px",color:"#DC3D00",align:"center",wordWrap:{width:460,useAdvancedWrap:!0}}).setOrigin(.5,1).setDepth(4).setAlpha(0),c=this.scene.cameras.main.height/100*20,this.window.modalElements.push(this.inputText,o,n,u.btn,u.title,u.text1,u.img1,this.result,this.window.headerText,this.window.closeBtn),window.onresize=function(){if(l=window.innerHeight,d!==l&&h){i.scrollIntoView(!1),e.window.modalElements.forEach((function(e){return null==e?void 0:e.setY(e.y+c)}));var t=+e.input.style.top.replace("%","")+20,s=+e.input.style.bottom.replace("%","")-20;e.input.style.top=t+"%",e.input.style.bottom=s+"%",h=!1}else if(d===l&&!h){e.window.modalElements.forEach((function(e){return null==e?void 0:e.setY(e.y-c)}));t=+e.input.style.top.replace("%","")-20,s=+e.input.style.bottom.replace("%","")+20;e.input.style.top=t+"%",e.input.style.bottom=s+"%",h=!0}},this.scene.click(o,(function(){e.input.style.display="block",e.input.focus(),e.inputText.setVisible(!1)})),this.scene.click(r,(function(){e.input.style.display="none",e.input.blur();var t=e.input.value?e.input.value:e.scene.state.lang.inputClanName,i=e.input.value?"#974f00":"#8f8f8f";e.inputText.setText(t).setColor(i).setDepth(4).setCrop(0,0,280,100).setVisible(!0)})),this.scene.clickModalBtn(u,(function(){e.changeClanName()})),this.scene.enterKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER),this.scene.enterKey.on("down",(function(){e.changeClanName()}))},e.prototype.changeClanName=function(){var e=this;if(!this.change){var t=!0;t=/[\p{Alpha}\p{M}\p{Nd}\p{Pc}\p{Join_C}]/gu.test(this.input.value),(this.input.value.length<6||this.input.value.length>20)&&(t=!1),t?(this.change=!0,s.default.post("https://ferma.games:4000/changeClanName",{clanId:this.scene.state.clan.id,userId:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,name:this.input.value}).then((function(t){t.data.error?(e.change=!1,e.result.setText(e.scene.state.lang.haveClan).setAlpha(1),e.scene.resizeWindow(230)):(e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0,e.scene.enterKey.destroy(),e.removeInput(),e.input.remove(),e.scene.scene.stop())}))):(this.result.setText(this.scene.state.lang.validClanName).setAlpha(1),this.scene.resizeWindow(290))}},e.prototype.removeInput=function(){var e,t;null===(e=this.input)||void 0===e||e.remove(),null===(t=this.scene.enterKey)||void 0===t||t.destroy()},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(13),n={color:"#fffdfa",fontFamily:"Shadow",fontSize:"28px",align:"center",wordWrap:{width:470,useAdvancedWrap:!0},shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},a=function(){function e(e){this.window=e,this.scene=this.window.scene,this.init(),this.create(),this.scene.openModal(this.scene.cameras.main)}return e.prototype.init=function(){this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.clanName=this.scene.state.modal.message,this.window.headerText.setText(this.scene.state.lang.inviteToJoin)},e.prototype.create=function(){var e={x:this.x,y:this.scene.cameras.main.centerY+10};s.default.createIcon(this.scene,e.x,e.y,this.scene.state.clanAvatar).setScale(.5);this.scene.add.text(e.x,e.y+110,this.scene.state.lang.inviteToJoinClanSend+" "+this.clanName,n).setOrigin(.5)},e}();t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(0),o=i(13),c=i(28),h=i(20),l=i(1),d=i(46),u=i(54),p=[1e3,1e5,1e6,1e9],f=[1,10,100,1e3],m=function(e){function t(t){var i=e.call(this,t,0,0,"pixel")||this;return i.modalElements=[],i.windowType=1,i.disableTimer=0,i.packageBtns=[],i.headerTextStyle={color:"#fffdfa",fontFamily:"Shadow",fontSize:"34px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0},wordWrap:{width:400,useAdvancedWrap:!0}},i.activePackage=0,i.logs=[],i.scene=t,i.init(),i.createElements(),i}return n(t,e),t.prototype.init=function(){this.scene.add.existing(this),this.posx=this.scene.cameras.main.centerX,this.posy=this.scene.cameras.main.centerY,this.windowType=this.scene.state.modal.clanTabType||1,this.windowHeight=620,this.windowWidth=527},t.prototype.createElements=function(){this.createBg(),this.createHeader(),this.createFooter(),this.createCloseTab(),this.createTabs([1,2,3,4]),this.createMainElements()},t.prototype.createMainElements=function(){switch(this.windowType){case 1:this.farm="diamond";break;case 2:this.farm="sheep";break;case 3:this.farm="chicken";break;case 4:this.farm="cow"}this.createBank()},t.prototype.createBg=function(){this.bg=this.scene.add.tileSprite(this.posx,this.posy,this.windowWidth,this.windowHeight,"white-pixel").setTint(16750336),this.modalElements.push(this.bg)},t.prototype.createHeader=function(){this.header=this.scene.add.sprite(this.posx,this.posy-this.windowHeight/2+10,"clan-window-header").setDepth(2).setOrigin(.5,1),this.modalElements.push(this.header)},t.prototype.createFooter=function(){this.footer=this.scene.add.sprite(this.posx,this.posy+this.windowHeight/2,"profile-window-footer").setOrigin(.5,0),this.modalElements.push(this.footer)},t.prototype.onCloseBtn=function(){this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop(),this.scene.scene.stop("ClanScroll")},t.prototype.createCloseTab=function(){var e=this,t=this.header.getBounds(),i=this.scene.add.sprite(t.right-18,t.top+5,"clan-window-tab-close").setOrigin(1,1),s=i.getBounds(),n=this.scene.add.sprite(s.centerX+5,s.centerY-5,"close-window-btn").setOrigin(.5).setScale(.9);this.scene.clickButtonUp(i,(function(){e.onCloseBtn()}),n),this.modalElements.push(i,n)},t.prototype.createTabs=function(e){var t=this,i=e.length,s=this.header.getBounds(),n=s.left+70;e.forEach((function(e){t.createTab({x:n,y:s.top-25},i,e),n+=455/i-1}))},t.prototype.createTab=function(e,t,i){var s=this,n=this.windowType===i,a=n?115:104,r=1===i?"clan-diamond-coin":2===i?"clan-sheep-coin":3===i?"clan-chicken-coin":"clan-cow-coin",o=new u.default(this.scene,e.x,e.y,455/t,a,r,n,(function(){s.scene.state.modal={type:19,clanTabType:i},s.scene.scene.restart(s.scene.state)}));this.modalElements.push(o,o.tl,o.tc,o.tr,o.ml,o.mr,o.bl,o.bc,o.br,o.icon)},t.prototype.createBank=function(){var e={fontFamily:"Shadow",fontSize:"26px",color:"#fffdfa",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},t=this.scene.cameras.main.centerY+219;this.scene.add.roundedField(this.posx,t,500,385,"modal-square-bg"),this.scene.add.tileSprite(this.posx,t-150,this.windowWidth-25,70,"clan-window-leader-plate-ns",5).setOrigin(.5).setAlpha(.5),this.scene.add.tileSprite(this.posx,t,this.windowWidth-25,70,"clan-window-leader-plate-ns",5).setOrigin(.5).setAlpha(.5),this.scene.add.tileSprite(this.posx,t+145,this.windowWidth-25,70,"clan-window-leader-plate-ns",5).setOrigin(.5).setAlpha(.5);var i=this.header.getBounds();if(o.default.createIcon(this.scene,i.left+60,i.centerY,this.scene.state.clan.avatar).setScale(.35).setDepth(2),this.headerText=this.scene.add.text(i.centerX,i.centerY,this.scene.state.lang.clanTreasury,this.headerTextStyle).setDepth(2).setOrigin(.5),this.headerText.displayHeight>100){var s=this.headerText.displayHeight/100;this.headerText.setFontSize(parseInt(this.headerText.style.fontSize)/s)}var n="clan-"+this.farm+"-coin",a=this.scene.add.text(i.left+60,i.bottom+12,this.scene.state.lang.nowInTreasury,e);(this.coinIcon=this.scene.add.sprite(a.getBounds().right+7,a.getBounds().centerY,n).setScale(.5).setOrigin(0,.5),this.currentCountText=this.scene.add.text(this.coinIcon.getBounds().right+7,a.getBounds().centerY,"",e).setOrigin(0,.5),"diamond"!==this.farm)?this.scene.state.progress[this.farm].open?this.createActiveBtns():this.createDisableBtns():this.createActiveBtns();this.createLogs()},t.prototype.createActiveBtns=function(){var e=this,t=p;"diamond"===this.farm&&(t=f);var i={fontFamily:"Shadow",fontSize:"28px"},s=this.header.getBounds(),n=s.left+100,a="clan-bank-"+this.farm+"-package";this.scene.add.tileSprite(this.posx,s.bottom+130,this.windowWidth,150,"clan-window-leader-plate-ns",5).setOrigin(.5);for(var o=function(o){var h=c.scene.add.sprite(n,s.bottom+130,a+"-"+(o+1)).setScale(.81).setTint(13421772),l=c.scene.add.text(n,s.bottom+160,r.shortNum(t[o]),i).setOrigin(.5).setTint(13421772);h.state=o,h.type="disable",l.state=t[o],c.scene.click(h,(function(){e.setActiveBtn({btn:h,text:l})})),c.packageBtns.push({btn:h,text:l}),n+=h.displayWidth+20,c.activePackage===o&&c.setActiveBtn({btn:h,text:l})},c=this,h=0;h<4;h+=1)o(h);var l="diamond"!==this.farm?this.farm+"Coin":"diamond",d={fontFamily:"Shadow",fontSize:"26px",color:"#fffdfa",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},u=this.scene.add.text(s.left+60,s.bottom+270-5,this.scene.state.lang.atYou,d).setOrigin(0,.5),m=this.scene.add.sprite(u.getBounds().right+7,u.getBounds().centerY,l).setScale(.12).setOrigin(0,.5);this.currentUserCountText=this.scene.add.text(m.getBounds().right+7,u.getBounds().centerY,"",d).setOrigin(0,.5),this.donateBtn=this.scene.add.sprite(this.posx+130,s.bottom+270,"clan-bank-button").setScale(.7),this.donateBtnText=this.scene.add.text(this.donateBtn.x,this.donateBtn.y-5,this.scene.state.lang.send,{fontFamily:"Shadow",wordWrap:{width:100},align:"center",fontSize:"20px",color:"#ffffff",stroke:"#277C03",strokeThickness:3}).setOrigin(.5),this.scene.clickModalBtn({btn:this.donateBtn,title:this.donateBtnText},(function(){e.addFarmMoney(),e.disableTimer=1e3}))},t.prototype.createDisableBtns=function(){var e={fontFamily:"Shadow",fontSize:"28px",align:"center",wordWrap:{width:400}},t=this.header.getBounds(),i=t.left+100;this.scene.add.tileSprite(this.posx,t.bottom+130,this.windowWidth,150,"clan-window-leader-plate-ns",5).setOrigin(.5);for(var s="clan-bank-"+this.farm+"-package",n=0;n<4;n+=1){var a=this.scene.add.sprite(i,t.bottom+130,s+"-"+(n+1)).setScale(.81).setTint(7829367);this.scene.add.text(i,t.bottom+160,r.shortNum(p[n]),e).setOrigin(.5).setTint(7829367),i+=a.displayWidth+20}this.scene.add.text(this.posx,t.bottom+260,this.scene.state.lang["open"+l.default.ucFirst(this.farm)+"Farm"],{fontFamily:"Bip",fontSize:"26px",color:"#fffdfa",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0},wordWrap:{width:400}}).setOrigin(.5).setAlpha(.9)},t.prototype.setActiveBtn=function(e){"active"!==e.btn.type&&(this.setDisable(),e.btn.type="active",this.activePackage=Number(e.btn.state),this.animActive(e))},t.prototype.setDisable=function(){var e=this;this.packageBtns.forEach((function(t){"disable"!==t.btn.type&&(t.btn.type="disable",e.animDisable(t))}))},t.prototype.animDisable=function(e){this.scene.add.tween({duration:70,targets:e.text,y:"-=9",scale:1}),this.scene.add.tween({duration:70,targets:e.btn,scale:.81,onComplete:function(){e.btn.setTint(13421772),e.text.setTint(13421772)}})},t.prototype.animActive=function(e){this.scene.add.tween({duration:70,targets:e.text,y:"+=9",scale:1.2}),this.scene.add.tween({duration:70,targets:e.btn,scale:1,onComplete:function(){e.btn.setTint(16777215),e.text.setTint(16777215)}})},t.prototype.createLogs=function(){var e=this;this.logs=this.scene.state.clan[this.farm].logs;var t=this.scene.cameras.main.centerY+70;this.logElements=this.scene.add.group(),this.checkTextures()?this.logs.reverse().forEach((function(i){t=e.createLog(i,160,t)})):this.loadingAvatars().then((function(){e.logs.reverse().forEach((function(i){t=e.createLog(i,160,t)}))}))},t.prototype.checkTextures=function(){var e=this;return this.logs.every((function(t){var i=Number(t.avatar),s=isNaN(i)?"avatar-"+t.id:"avatar-"+i;return e.scene.textures.exists(s)}))},t.prototype.createLog=function(e,t,i){var s={color:"#fffdfa",fontFamily:"Shadow",fontSize:"22px",align:"left",wordWrap:{width:150,useAdvancedWrap:!0}},n=Number(e.avatar),a=isNaN(n)?"avatar-"+e.id:"avatar-"+n,o=this.scene.textures.exists(a),c=this.scene.add.sprite(t,i,"avatar-0").setVisible(!1).setScale(.5).setDepth(2),h=new Phaser.Display.Masks.BitmapMask(this.scene,c),l=this.scene.add.sprite(t,i,a).setMask(h);o||l.setTexture("avatar-0");var d=c.displayWidth/l.displayWidth,u=c.displayHeight/l.displayHeight;l.setScale(d,u);var p=this.scene.add.text(t+l.displayWidth/2+20,i,e.name,s).setOrigin(0,.5).setDepth(2);if(p.displayHeight>60){var f=p.displayHeight/60;p.setFontSize(parseInt(p.style.fontSize)/f)}var m=this.scene.add.text(t+400,i,this.getDate(e.time),{color:"#fffdfa",fontFamily:"Shadow",fontSize:"18px",align:"center",wordWrap:{width:50}}).setOrigin(.5).setDepth(2),g=this.scene.add.text(t+260,i,r.shortNum(e.count),s).setOrigin(0,.5).setDepth(2),y="diamond"!==this.farm?this.farm+"Coin":"diamond",v=this.scene.add.sprite(g.getBounds().left-5,g.getBounds().centerY,y).setScale(.11).setOrigin(1,.5).setDepth(2);return this.logElements.add(l),this.logElements.add(p),this.logElements.add(m),this.logElements.add(g),this.logElements.add(v),i+=l.displayHeight+14},t.prototype.loadingAvatars=function(){var e=this;return new Promise((function(t){e.logs&&(e.logs.forEach((function(t){isNaN(Number(t.avatar))&&e.scene.load.image("avatar-"+t.id,t.avatar)})),e.scene.load.once(Phaser.Loader.Events.COMPLETE,(function(){t(!0)})),e.scene.load.start())}))},t.prototype.addFarmMoney=function(){var e=this,t=Number(this.packageBtns.find((function(t){return t.btn.state===e.activePackage})).text.state),i=this.scene.scene.get(this.scene.state.farm),s="user"+l.default.ucFirst(this.farm);if("diamond"!==this.farm){var n=Math.round(this.scene.state[s].money);if(n>=t)this.postMoney(t).then((function(i){i.data.error||(e.scene.state.clan=d.default.validateClan(i.data.clan),e.scene.state[s].money-=Number(t),Number(t)>=p[2]?h.default.create(e.scene,e.farm+"Coin",{x:e.coinIcon.x+e.coinIcon.displayWidth/2,y:e.coinIcon.y+e.coinIcon.displayHeight/2}):e.getCurrency({x:e.scene.cameras.main.centerX,y:e.header.getBounds().bottom+260},Number(t),e.farm+"Coin"),e.scene.game.scene.keys[e.scene.state.farm].tryClanTask(11),e.scene.scene.get(e.scene.state.farm).autosave())}));else if(this.scene.state.farm.toLowerCase()===this.farm){var a=Number(t)-Number(n),r=i.convertMoney(a);this.openConvertor(a,r,1)}else this.scene.state.modal={type:18,clanWindowType:7,message:this.farm},this.scene.scene.restart(this.scene.state)}else{var o=this.scene.state.user.diamonds;o>=Number(t)?this.postMoney(Number(t)).then((function(s){if(!s.data.error){e.scene.state.clan=d.default.validateClan(s.data.clan),e.scene.state.user.diamonds-=Number(t),e.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"donate_clan",count:Number(t)}),e.scene.state.amplitude.logAmplitudeEvent("clan_diamonds_get",{type:"donate",count:Number(t)});var n=e.scene.state.clan[""+e.farm].count;Number(t)>=f[2]?h.default.create(e.scene,"diamond",{x:e.coinIcon.x+e.coinIcon.displayWidth/2,y:e.coinIcon.y+e.coinIcon.displayHeight/2}):e.getCurrency({x:e.scene.cameras.main.centerX,y:e.header.getBounds().bottom+260},Number(t),""+e.farm),e.scene.game.scene.keys[e.scene.state.farm].tryClanTask(11),e.currentCountText.setText(n),i.autosave()}})):this.openConvertor(Number(t)-o,Number(t)-o,2)}},t.prototype.openConvertor=function(e,t,i){this.scene.state.convertor={fun:0,count:e,diamonds:t,type:i},this.scene.state.modal={type:1,sysType:4},this.scene.scene.restart(this.scene.state),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},t.prototype.postMoney=function(e){var t=this.scene.state.user.login;"web"!==this.scene.state.platform&&"gd"!==this.scene.state.platform&&"android"!==this.scene.state.platform&&(t=this.scene.state.name);var i=Number(this.scene.state.user.avatar)>0?this.scene.state.user.avatar:this.scene.state.avatar,s="diamond"!==this.farm?this.convertPoints(Number(e)):Number(e),n={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,count:e,farm:this.farm,name:t,avatar:i,status:this.scene.state.user.status,points:s};return a.default.post("https://ferma.games:4000/addFarmMoney",n)},t.prototype.getDate=function(e){var t=new Date(e),i=t.getFullYear(),s=t.getMonth()+1<10?"0"+(t.getMonth()+1):String(t.getMonth()+1),n=t.getDate();return t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():String(t.getMinutes()))+"\n"+n+"."+s+"."+i},t.prototype.convertPoints=function(e){if(l.default.checkTestB(this.scene.state))return this.convertPointsTestB.bind(this)(e);var t=this.scene.state[this.farm+"Settings"][this.farm+"Parts"],i=this.scene.state["user"+l.default.ucFirst(this.farm)].part,s=t.find((function(e){return e.sort===i})).exchange;return Math.ceil(e/s)},t.prototype.convertPointsTestB=function(e){var t=this.scene.state[this.farm+"Settings"].partSettings[this.scene.state["user"+l.default.ucFirst(this.farm)].part-1].exchange;return Math.ceil(e/t)},t.prototype.getCurrency=function(e,t,i){var s=this;void 0===t&&(t=1),t>5&&(t=5);var n={x:this.coinIcon.x+this.coinIcon.displayWidth/2,y:this.coinIcon.y+this.coinIcon.displayHeight/2};this.scene.time.addEvent({delay:100,callback:function(){var t={x:Phaser.Math.Between(e.x-30,e.x+30),y:Phaser.Math.Between(e.y-30,e.y+30)};c.default.create(s.scene,t,n,i,350,.1,!0)},callbackScope:this,repeat:t-1})},t.prototype.preUpdate=function(t,i){var s=this;if(e.prototype.preUpdate.call(this,t,i),this.scene.scene.isActive()&&19===this.scene.state.modal.type&&this.scene.state.clan){if(JSON.stringify(this.logs)!==JSON.stringify(this.scene.state.clan[this.farm].logs)&&(this.logElements.destroy(!0),this.createLogs()),this.donateBtn&&(this.disableTimer>0?(this.disableTimer-=i,this.donateBtn.setTint(7829367),this.donateBtnText.setTint(7829367),this.donateBtn.removeInteractive(),"disable"!==this.donateBtn.type&&(this.donateBtn.type="disable")):"disable"===this.donateBtn.type&&(this.donateBtn.setTint(16777215),this.donateBtnText.setTint(16777215),this.donateBtn.setInteractive(),this.donateBtn.type="active")),this.currentCountText.active)if("diamond"!==this.farm){var n=this.scene.state.clan[this.farm].money;this.currentCountText.text!==n&&this.currentCountText.setText(n)}else{n=String(this.scene.state.clan[this.farm].count);this.currentCountText.text!==n&&this.currentCountText.setText(n)}if(this.currentUserCountText&&this.currentUserCountText.active){var a=l.default.ucFirst(this.farm),o=(n="diamond"!==this.farm?r.shortNum(this.scene.state["user"+a].money):String(this.scene.state.user.diamonds),"diamond"!==this.farm?this.scene.state["user"+a].money:this.scene.state.user.diamonds),c=Number(this.packageBtns.find((function(e){return e.btn.state===s.activePackage})).text.state);this.currentUserCountText.text!==n&&this.currentUserCountText.setText(n),o<c?"#f32a2a"!==this.currentUserCountText.style.color&&this.currentUserCountText.setColor("#f32a2a"):"#dcff3c"!==this.currentUserCountText.style.color&&this.currentUserCountText.setColor("#dcff3c")}}},t}(Phaser.GameObjects.Sprite);t.default=m},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(0),o=i(10),c=i(9),h=i(1849),l=i(1),d=i(54),u=function(e){function t(t){var i=e.call(this,t,0,0,"pixel")||this;return i.windowType=1,i.userPoints=0,i.clanPoints=0,i.clanPlace=0,i.scene=t,i.init(),i}return n(t,e),t.prototype.init=function(){this.userMoney=null,this.userMoneyIcon=null,this.textUserPoints=null,this.countUserPoints=null,this.textClanPoints=null,this.countClanPoints=null,this.textClanPlace=null,this.countClanPlace=null,this.timer=null,this.bg=null,this.header=null,this.closeBtn=null,this.headerText=null,this.footer=null,this.plates=[],this.scene.add.existing(this),this.posx=this.scene.cameras.main.centerX,this.posy=this.scene.cameras.main.centerY+50,this.windowType=this.scene.state.modal.clanTabType||1,this.windowHeight=700,this.windowWidth=527,this.scene.state.clanTournamentData?this.createElements():this.getEventData()},t.prototype.getEventData=function(){var e=this,t={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter};this.scene.scene.launch("Block");var i=this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,"loading-spinner"),s=this.scene.tweens.add({targets:i,rotation:2*Math.PI,duration:700,repeat:-1});a.default.post("https://ferma.games:4000/getTournamentUserData",t).then((function(t){var i=t.data;i.error||(e.scene.state.clanTournamentData=i.data,e.scene.state.clanEventPlace=i.data.place,e.scene.state.progress.clanEvent.endTime=i.data.endTime,e.createElements())})).catch((function(){e.scene.scene.stop("Modal")})).finally((function(){e.scene.scene.stop("Block"),null==s||s.remove(),null==i||i.destroy()}))},t.prototype.createElements=function(){this.userPoints=this.scene.state.clanTournamentData.points,this.clanPoints=this.scene.state.clanTournamentData.clanPoints,this.clanPlace=this.scene.state.clanTournamentData.place,this.createBg(),this.createHeader(),this.createFooter(),this.createCloseTab(),this.createTabs([1,2,3]),this.createMainElements(),this.createAnimals()},t.prototype.createMainElements=function(){switch(this.windowType){case 1:this.farm="sheep";break;case 2:this.farm="chicken";break;case 3:this.farm="cow"}this.createInfo()},t.prototype.createBg=function(){this.bg=this.scene.add.tileSprite(this.posx,this.posy,this.windowWidth,this.windowHeight,"white-pixel").setTint(16750336),this.scene.add.sprite(this.bg.getLeftCenter().x,this.bg.getLeftCenter().y-90,"decor-left").setOrigin(1),this.scene.add.sprite(this.bg.getRightCenter().x,this.bg.getRightCenter().y+310,"decor-right").setOrigin(0,1),this.scene.add.sprite(this.bg.getLeftCenter().x-10,this.bg.getLeftCenter().y-220,"clan-star").setAngle(-15).setDepth(2).setOrigin(.5),this.scene.add.sprite(this.bg.getRightCenter().x+15,this.bg.getRightCenter().y+210,"clan-star").setAngle(15).setDepth(2).setOrigin(.5)},t.prototype.createHeader=function(){this.header=this.scene.add.sprite(this.posx,this.posy-this.windowHeight/2+45,"clan-tournament-header").setDepth(2).setOrigin(.5,1)},t.prototype.createFooter=function(){this.footer=this.scene.add.sprite(this.posx,this.posy+this.windowHeight/2,"profile-window-footer").setOrigin(.5,0)},t.prototype.onCloseBtn=function(){this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.state.clanTournamentData=null,this.scene.scene.stop()},t.prototype.createCloseTab=function(){var e=this,t=this.header.getBounds(),i=this.scene.add.sprite(t.right-18,t.top+5,"clan-window-tab-close").setOrigin(1,1),s=i.getBounds(),n=this.scene.add.sprite(s.centerX+5,s.centerY-5,"close-window-btn").setOrigin(.5).setScale(.9);this.scene.clickButtonUp(i,(function(){e.onCloseBtn()}),n)},t.prototype.createTabs=function(e){var t=this,i=e.length,s=this.header.getBounds(),n=s.left+90;e.forEach((function(e){t.createTab({x:n,y:s.top-25},i,e),n+=455/i-1}))},t.prototype.createTab=function(e,t,i){var s=this,n=this.windowType===i,a=n?115:104,r=1===i?"clan-tab-icon-sheep":2===i?"clan-tab-icon-chicken":"clan-tab-icon-cow";new d.default(this.scene,e.x,e.y,455/t,a,r,n,(function(){s.scene.state.modal={type:20,clanTabType:i},s.scene.scene.restart(s.scene.state)}))},t.prototype.createInfo=function(){var e=this,t={fontFamily:"Shadow",fontSize:"19px",color:"#fffdfa",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},i=this.header.getBounds();this.textUserPoints=this.scene.add.text(0,i.centerY+2-40,this.scene.state.lang.yourContribution+":",t).setOrigin(0,.5).setDepth(2),this.countUserPoints=this.scene.add.text(0,i.centerY+2-40,""+this.userPoints,t).setOrigin(0,.5).setDepth(2).setColor("#dcff3c"),this.textClanPoints=this.scene.add.text(0,i.centerY+35-40,this.scene.state.lang.clanAnimals+":",t).setOrigin(0,.5).setDepth(2),this.countClanPoints=this.scene.add.text(0,i.centerY+35-40,""+r.shortNum(this.clanPoints),t).setOrigin(0,.5).setDepth(2).setColor("#dcff3c"),this.scene.add.tileSprite(this.bg.getBounds().left,i.centerY+115,400,40,"clan-window-leader-plate-ns",5).setOrigin(0,.5),this.textClanPlace=this.scene.add.text(0,i.centerY+115,this.scene.state.lang.clanPlace+":",t).setOrigin(0,.5).setFontSize(23).setDepth(2),this.countClanPlace=this.scene.add.text(0,i.centerY+115,""+this.clanPlace,t).setDepth(2).setOrigin(0,.5).setFontSize(23).setDepth(2).setColor("#dcff3c");var s=this.scene.add.sprite(this.posx+160,i.centerY+115,"profile-window-button-yellow").setScale(1.2,1.1),n=this.scene.add.text(s.x,s.y-5,this.scene.state.lang.eventRating,t).setFontSize(22).setOrigin(.5);this.scene.clickModalBtn({btn:s,title:n},(function(){e.scene.state.modal={type:21},e.scene.scene.restart(e.scene.state)})),this.setUserTextX(),this.setClanTextX(),this.setClanPlaceTextX(),this.createTimer({x:this.posx,y:this.posy+400})},t.prototype.createTimer=function(e){var t=this.scene.add.sprite(e.x,e.y,"tasks-bar-fix").setOrigin(.5,0);t.setDisplaySize(490,50);var i=t.getBounds();this.timer=this.scene.add.text(i.centerX,i.centerY,"",{fontFamily:"Shadow",wordWrap:{width:350},color:"#DD8842",fontSize:"22px",align:"center"}).setOrigin(.5)},t.prototype.preUpdate=function(e,t){if(this.scene.scene.isActive()&&20===this.scene.state.modal.type&&this.scene.state.clanTournamentData){if(this.clanPlace!==this.scene.state.clanTournamentData.place&&(this.clanPlace=this.scene.state.clanTournamentData.place,this.countClanPlace.setText(String(this.clanPlace)),this.setClanPlaceTextX()),this.clanPoints!==this.scene.state.clanTournamentData.clanPoints&&(this.clanPoints=this.scene.state.clanTournamentData.clanPoints,this.countClanPoints.setText(String(this.clanPoints)),this.setClanTextX()),this.userPoints!==this.scene.state.clanTournamentData.points&&(this.userPoints=this.scene.state.clanTournamentData.points,this.countUserPoints.setText(String(this.userPoints)),this.setUserTextX()),this.timer&&this.timer.active&&this.scene.state.progress.clanEvent.endTime>0){var i=this.scene.state.lang.eventLastTime+" "+r.shortTime(this.scene.state.progress.clanEvent.endTime,this.scene.state.lang);this.timer.text!==i&&this.timer.setText(i)}this.scene.state.progress.clanEvent.endTime<=0&&this.scene.scene.stop()}},t.prototype.setUserTextX=function(){var e=this.posx+110,t=(this.textUserPoints.displayWidth+this.countUserPoints.displayWidth)/2;this.textUserPoints.setX(e-t-5),this.countUserPoints.setX(this.textUserPoints.getBounds().right+5)},t.prototype.setClanTextX=function(){var e=this.posx+110,t=(this.textClanPoints.displayWidth+this.countUserPoints.displayWidth)/2;this.textClanPoints.setX(e-t-5),this.countClanPoints.setX(this.textClanPoints.getBounds().right+5)},t.prototype.setClanPlaceTextX=function(){var e=this.posx-70,t=(this.textClanPlace.displayWidth+this.countUserPoints.displayWidth)/2;this.textClanPlace.setX(e-t-5),this.countClanPlace.setX(this.textClanPlace.getBounds().right+5)},t.prototype.createAnimals=function(){var e=this;this.createAnimalsBg();var t=this.posy-146,i=240,s=t;o.clanTournamentSettings.forEach((function(n,a){var r=new p(e,i,s,e.farm,a+1);(s+=r.displayHeight+10)>t+540&&(s=t,i+=r.displayWidth+25),e.plates.push(r)}))},t.prototype.createAnimalsBg=function(){var e=this.posy+90;this.scene.add.roundedField(this.posx,e,490,590,"modal-square-bg"),this.scene.state.progress[this.farm].open&&this.scene.add.sprite(this.posx,e-308,"clan-tournament-plate-bg");var t=r.shortNum(this.scene.state["user"+l.default.ucFirst(this.farm)].money);this.userMoney=this.scene.add.text(this.posx+12,e-308,t,{fontFamily:"Shadow",fontSize:"24px",color:"#fffdfa",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}}).setOrigin(.5).setAlpha(.65),this.userMoneyIcon=this.scene.add.sprite(this.posx-60,e-308,this.farm+"Coin").setScale(.125),this.scene.state.progress[this.farm].open||(this.userMoney.setVisible(!1),this.userMoneyIcon.setVisible(!1),this.scene.add.text(this.posx,e-315,this.scene.state.lang["open"+l.default.ucFirst(this.farm)+"Farm"],{fontFamily:"Bip",fontSize:"20px",color:"#fffdfa",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}}).setAlpha(.9).setOrigin(.5))},t.prototype.updateBtns=function(){var e=r.shortNum(this.scene.state["user"+l.default.ucFirst(this.farm)].money);this.userMoney.setText(e),this.plates.forEach((function(e){e.updateBtnState()}))},t.prototype.disableBtns=function(){this.plates.forEach((function(e){e.disableBtn()}))},t}(Phaser.GameObjects.Sprite);t.default=u;var p=function(e){function t(t,i,s,n,a){var r=e.call(this,t.scene,i,s,"clan-tournament-animal-bg")||this;return r.breed=a,r.window=t,r.type=n,r.init(),r.create(),r}return n(t,e),t.prototype.init=function(){var e=this;this.btn=null,this.btnText=null,this.btnImg=null,this.animalSprite=null,this.animalText=null,this.animalMask=null;var t=this.scene.state.clanTournamentData[this.type].find((function(t){return t.breed===e.breed}));this.count=t?t.count:0,this.setPrice()},t.prototype.create=function(){var e=this;this.scene.add.existing(this),this.animalMask=this.createBitmapMask();var t="sheep"===this.type?40:"chicken"===this.type?60:50,i="cow"===this.type?-10:0,s="cow"===this.type?.65:.8;this.animalSprite=this.scene.add.sprite(this.x-this.width/2+t,this.y+i,"clan-"+this.type+"-"+this.breed).setScale(s).setMask(this.animalMask),this.animalText=this.scene.add.text(this.x+35+5,this.y-23,this.scene.state.lang[this.type+"Breed"+this.breed],{fontFamily:"Shadow",fontSize:"16px",color:"#fffdfa",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}}).setOrigin(.5),this.btn=this.scene.add.sprite(this.x+35+5,this.y+17,"little-button").setScale(.95,.75),this.btnImg=this.scene.add.sprite(this.btn.x-this.btn.displayWidth/2+22,this.btn.y-5,this.type+"Coin").setScale(.08),this.btnText=this.scene.add.text(this.btnImg.x+this.btnImg.displayWidth/2+5,this.btn.y-5,r.shortNum(this.price),{fontFamily:"Shadow",fontSize:"18px",color:"#fffdfa",align:"center",shadow:{offsetX:1,offsetY:1,color:"#577f2a",blur:2,fill:!0}}).setOrigin(0,.5),this.scene.clickShopBtn({btn:this.btn,title:this.btnText,img:this.btnImg},(function(){e.onClick()})),this.updateBtnState()},t.prototype.setPrice=function(){var e=this,t=o.clanTournamentSettings.find((function(t){return t.breed===e.breed}));t&&(this.price=t.price);for(var i=1;i<this.count;i++)this.price=c.default.add(this.price,c.default.divide(c.default.multiply(this.price,String(7)),"100"))},t.prototype.updateBtnState=function(){var e=this,t=this.scene.state.clanTournamentData[this.type].find((function(t){return t.breed===e.breed}));this.count=t?t.count:0,this.setPrice();var i=this.scene.state["user"+l.default.ucFirst(this.type)].money;c.default.greaterThanOrEqual(String(Math.round(i)),this.price)?(this.btn.setInteractive(),this.btn.setTexture("little-button"),this.btnText.setColor("#fffdfa").setShadow(1,1,"#577f2a",2,!0).setText(r.shortNum(this.price))):(this.btn.setTexture("little-button-disable"),this.btnText.setColor("#676767").setShadow().setText(r.shortNum(this.price)),this.btn.removeInteractive())},t.prototype.disableBtn=function(){this.btn.removeInteractive()},t.prototype.onClick=function(){var e=this;new h.default(this.scene,this.btn.x,this.btn.y-30,1),this.window.disableBtns(),this.postServer().then((function(t){var i=t.data,s=i.error,n=i.clan,a=i.place;if(!s){e.scene.state["user"+l.default.ucFirst(e.type)].money-=Number(e.price);var r=n.users.find((function(t){return t.id===e.scene.state.user.id}));e.scene.state.clanTournamentData={clanPoints:n.points,points:r.points,sheep:r.sheep,chicken:r.chicken,cow:r.cow,place:a},e.window.updateBtns()}})).finally((function(){e.window.updateBtns()}))},t.prototype.destroy=function(){this.btn.destroy(),this.btnText.destroy(),this.btnImg.destroy(),this.animalSprite.destroy(),this.animalText.destroy(),this.animalMask.destroy(),e.prototype.destroy.call(this)},t.prototype.postServer=function(){var e=this.scene.state.user.login;"web"!==this.scene.state.platform&&"gd"!==this.scene.state.platform&&"android"!==this.scene.state.platform&&(e=this.scene.state.name);var t={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,type:this.type,breed:this.breed,name:e,avatar:this.scene.state.user.avatar,status:this.scene.state.user.status};return a.default.post("https://ferma.games:4000/addAnimalTournament",t)},t}(Phaser.GameObjects.Sprite)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i,s){this.scene=e,this.x=t,this.y=i,this.sum=s,this.create()}return e.prototype.create=function(){this.star=this.scene.add.sprite(this.x,this.y,"clan-star").setScale(.8).setDepth(1e4),this.sum&&(this.text=this.scene.add.text(this.x,this.y,"+"+this.sum,{font:"24px Shadow",color:"#60DF54"}).setStroke("black",2).setOrigin(.5).setDepth(this.star.depth+1)),this.flyAway()},e.prototype.flyAway=function(){var e=this,t=[this.star];this.sum&&t.push(this.text),this.flyAwayAni=this.scene.tweens.add({targets:t,props:{y:{value:{from:"-=0",to:"-=60"},duration:250,ease:"Power3",yoyo:!0},scaleX:{value:{from:1,to:-1},duration:350,yoyo:!0,repeat:2},alpha:{value:0,duration:350,delay:150}},onComplete:function(){var t;e.star.destroy(),null===(t=e.text)||void 0===t||t.destroy(),e.flyAwayAni.remove()}})},e}();t.default=s},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=i(54),o=function(e){function t(t){var i=e.call(this,t,t.cameras.main.centerX,t.cameras.main.centerY,"pixel")||this;return i.windowType=2,i.headerTextStyle={color:"#fffdfa",fontFamily:"Shadow",fontSize:"26px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0},wordWrap:{width:500,useAdvancedWrap:!0}},i.scene=t,i.init(),i.createElements(),i}return n(t,e),t.prototype.init=function(){this.scene.add.existing(this),this.windowType=this.scene.state.modal.clanTabType||2,this.windowHeight=600,this.windowWidth=527},t.prototype.createElements=function(){this.createBg(),this.createHeader(),this.createFooter(),this.createCloseTab(),this.createTabs([2,1,3]),this.createMainElements()},t.prototype.createMainElements=function(){switch(this.windowType){case 2:this.createClanLeaderboard();break;case 1:this.createUserLeaderboard();break;case 3:this.createRules()}},t.prototype.createBg=function(){this.bg=this.scene.add.tileSprite(this.x,this.y,this.windowWidth,this.windowHeight,"white-pixel").setTint(16750336)},t.prototype.createHeader=function(){this.header=this.scene.add.sprite(this.x,this.y-this.windowHeight/2+10,"clan-window-header").setDepth(2).setOrigin(.5,1)},t.prototype.createFooter=function(){this.footer=this.scene.add.sprite(this.x,this.y+this.windowHeight/2,"profile-window-footer").setOrigin(.5,0)},t.prototype.onCloseBtn=function(){this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop("ClanScroll"),this.scene.state.modal={type:20,clanTabType:1},this.scene.scene.restart(this.scene.state)},t.prototype.createCloseTab=function(){var e=this,t=this.header.getBounds(),i=this.scene.add.sprite(t.right-18,t.top+5,"clan-window-tab-close").setOrigin(1,1),s=i.getBounds(),n=this.scene.add.sprite(s.centerX+5,s.centerY-5,"close-window-btn").setOrigin(.5).setScale(.9);this.scene.clickButtonUp(i,(function(){e.onCloseBtn()}),n)},t.prototype.createTabs=function(e){var t=this,i=this.windowType,s=e.length,n=this.header.getBounds(),a=n.left+87;e.forEach((function(e){t.createTab({x:a,y:n.top-22},i===e,s,e),a+=455/s}))},t.prototype.createTab=function(e,t,i,s){var n=this,a=t?115:104,o=2===s?"clan-window-icon-2":1===s?"clan-window-icon-1":"clan-window-icon-5";new r.default(this.scene,e.x,e.y,455/i,a,o,t,(function(){n.scene.state.modal={type:21,clanTabType:s},n.scene.scene.stop("ClanScroll"),n.scene.scene.restart(n.scene.state)}),s)},t.prototype.createClanLeaderboard=function(){var e=this.header.getBounds(),t=this.y+30;this.scene.add.roundedField(this.x,t,480,610,"modal-square-bg").setDepth(1),this.headerText=this.scene.add.text(e.centerX,e.centerY-3,this.scene.state.lang.clansLiderboard,this.headerTextStyle).setDepth(2).setOrigin(.5),this.createTimer({x:this.scene.cameras.main.centerX,y:t+305+15}),this.scene.state.modal.clanTabType=1,this.scene.scene.launch("ClanScroll",this.scene.state)},t.prototype.createUserLeaderboard=function(){var e=this.header.getBounds(),t=this.y+30;this.scene.add.roundedField(this.x,t,480,610,"modal-square-bg").setDepth(1),this.headerText=this.scene.add.text(e.centerX,e.centerY-3,this.scene.state.lang.clanLeaders,this.headerTextStyle).setDepth(2).setOrigin(.5).setFontSize(28),this.createTimer({x:this.scene.cameras.main.centerX,y:t+305+15}),this.scene.state.modal.clanTabType=2,this.scene.scene.launch("ClanScroll",this.scene.state)},t.prototype.createRules=function(){var e=this.header.getBounds();this.headerText=this.scene.add.text(e.centerX,e.centerY-3,this.scene.state.lang.eventPrice,this.headerTextStyle).setDepth(2).setOrigin(.5).setFontSize(34),this.createClanRules(),this.createUsersRules(),this.createTimer({x:this.scene.cameras.main.centerX,y:this.y+340})},t.prototype.createClanRules=function(){var e={fontFamily:"Bip",fontSize:"21px",color:"#FFF7F0",align:"right"},t=this.y-120;this.scene.add.roundedField(this.x,t,480,310,"modal-square-bg").setDepth(1);var i=this.x-20,s=this.y-210;this.scene.add.text(this.x,this.y-250,this.scene.state.lang.awardsForClans,{fontFamily:"Shadow",fontSize:"24px",color:"#FFF7F0"}).setOrigin(.5).setDepth(1);var n="1 "+this.scene.state.lang.eventPlace+"\n2 "+this.scene.state.lang.eventPlace+"\n3 "+this.scene.state.lang.eventPlace,a=this.scene.add.text(i,s,n,e).setLineSpacing(12).setOrigin(1,0).setDepth(2);this.scene.add.text(i+70,s,"1000\n700\n400",e).setOrigin(0).setLineSpacing(12).setDepth(2).setAlign("left");this.scene.add.tileSprite(this.x,a.getCenter().y,480,a.displayHeight+20,"clan-window-leader-plate-ns",5).setOrigin(.5).setAlpha(.8).setDepth(1);this.scene.add.text(i,a.getBounds().bottom+15,"4-10 "+this.scene.state.lang.eventPlace+"\n11-100 "+this.scene.state.lang.eventPlace+"\n101-500 "+this.scene.state.lang.eventPlace+"\n500+ "+this.scene.state.lang.eventPlace,e).setOrigin(1,0).setDepth(2);var r=this.scene.add.text(i+70,a.getBounds().bottom+15,"300\n100\n50\n20",e).setOrigin(0,0).setDepth(2).setAlign("left"),o=this.x+176,c=a.getBounds().centerY;this.scene.add.container(o,c-40,[this.scene.add.sprite(0,0,"clan-diamond-coin").setScale(.55),this.scene.add.sprite(11,4,"diamond").setScale(.08).setAngle(20),this.scene.add.sprite(-11,4,"diamond").setScale(.08).setAngle(-20),this.scene.add.sprite(0,0,"diamond").setScale(.12)]).setDepth(2),this.scene.add.sprite(o,c,"clan-diamond-coin").setScale(.6).setDepth(2),this.scene.add.sprite(o,c+40,"clan-diamond-coin").setScale(.5).setDepth(2),this.scene.add.sprite(i-120,c-40,"clan-window-medal-gold").setDepth(2),this.scene.add.text(i-120-2,c-40-2,"1",e).setFontFamily("Shadow").setOrigin(.5).setDepth(2),this.scene.add.sprite(i-120,c,"clan-window-medal-silver").setDepth(2),this.scene.add.text(i-120-1,c-2,"2",e).setFontFamily("Shadow").setOrigin(.5).setDepth(2),this.scene.add.sprite(i-120,c+40,"clan-window-medal-bronze").setDepth(2),this.scene.add.text(i-120-1,c+40-2,"3",e).setFontFamily("Shadow").setOrigin(.5).setDepth(2);var h=r.getBounds().centerY;this.scene.add.sprite(o,h-40,"clan-diamond-coin").setScale(.4).setDepth(2),this.scene.add.sprite(o,h-10,"clan-diamond-coin").setScale(.38).setDepth(2),this.scene.add.sprite(o,h+15,"clan-diamond-coin").setScale(.35).setDepth(2),this.scene.add.sprite(o,h+41,"clan-diamond-coin").setScale(.33).setDepth(2)},t.prototype.createUsersRules=function(){var e={fontFamily:"Bip",fontSize:"21px",color:"#FFF7F0",align:"right"},t=this.y+190;this.scene.add.roundedField(this.x,t,480,250,"modal-square-bg").setDepth(1);var i=this.x-20,s=t-60;this.scene.add.text(this.x,s-40,this.scene.state.lang.awardsForUsersInClan,{fontFamily:"Shadow",fontSize:"24px",color:"#FFF7F0"}).setOrigin(.5).setDepth(1);var n="1 "+this.scene.state.lang.eventPlace+"\n2 "+this.scene.state.lang.eventPlace+"\n3 "+this.scene.state.lang.eventPlace,a=this.scene.add.text(i,s,n,e).setLineSpacing(12).setOrigin(1,0).setDepth(2);this.scene.add.text(i+70,s,"100\n70\n40",e).setOrigin(0).setLineSpacing(12).setDepth(2).setAlign("left");this.scene.add.tileSprite(this.x,a.getCenter().y,480,a.displayHeight+20,"clan-window-leader-plate-ns",5).setOrigin(.5).setAlpha(.8).setDepth(1);this.scene.add.text(i,a.getBounds().bottom+15,"4-10 "+this.scene.state.lang.eventPlace+"\n10+ "+this.scene.state.lang.eventPlace,e).setOrigin(1,0).setDepth(2);var r=this.scene.add.text(i+70,a.getBounds().bottom+15,"30\n10",e).setOrigin(0,0).setDepth(2).setAlign("left"),o=this.x+176,c=a.getBounds().centerY;this.scene.add.container(o,c-40,[this.scene.add.sprite(11,4,"diamond").setScale(.08).setAngle(20),this.scene.add.sprite(-11,4,"diamond").setScale(.08).setAngle(-20),this.scene.add.sprite(0,0,"diamond").setScale(.12)]).setDepth(2),this.scene.add.sprite(o,c,"diamond").setScale(.11).setDepth(2),this.scene.add.sprite(o,c+40,"diamond").setScale(.1).setDepth(2),this.scene.add.sprite(i-120,c-40,"clan-window-medal-gold").setDepth(2),this.scene.add.text(i-120-2,c-40-3,"1",e).setFontFamily("Shadow").setOrigin(.5).setDepth(2),this.scene.add.sprite(i-120,c,"clan-window-medal-silver").setDepth(2),this.scene.add.text(i-120-1,c-2,"2",e).setFontFamily("Shadow").setOrigin(.5).setDepth(2),this.scene.add.sprite(i-120,c+40,"clan-window-medal-bronze").setDepth(2),this.scene.add.text(i-120-1,c+40-2,"3",e).setFontFamily("Shadow").setOrigin(.5).setDepth(2);var h=r.getBounds().centerY;this.scene.add.sprite(o,h-15,"diamond").setScale(.09).setDepth(2),this.scene.add.sprite(o,h+15,"diamond").setScale(.08).setDepth(2)},t.prototype.createTimer=function(e){var t=this.scene.add.sprite(e.x,e.y,"tasks-bar-fix",15).setOrigin(.5,0);t.setDisplaySize(480,50);var i=t.getBounds();this.timer=this.scene.add.text(i.centerX,i.centerY,"",{fontFamily:"Shadow",wordWrap:{width:350},color:"#DD8842",fontSize:"22px",align:"center"}).setOrigin(.5)},t.prototype.preUpdate=function(){if(this.timer&&this.timer.active&&this.scene.state.progress.clanEvent.endTime>0){var e=this.scene.state.lang.eventLastTime+" "+a.shortTime(this.scene.state.progress.clanEvent.endTime,this.scene.state.lang);this.timer.text!==e&&this.timer.setText(e)}this.scene.state.progress.clanEvent.endTime<=0&&(this.scene.scene.stop("ClanScroll"),this.scene.scene.stop())},t}(Phaser.GameObjects.Sprite);t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(6),a=i(20),r=function(){function e(e){this.scene=e,this.getPlacesInfo()}return e.prototype.init=function(){this.awardDescriptionStyle={color:"#fffdfa",fontFamily:"Bip",fontSize:"24px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0},wordWrap:{width:240,useAdvancedWrap:!0}},this.titleStyle={color:"#fffdfa",fontFamily:"Shadow",fontSize:"23px",align:"left",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}},this.create()},e.prototype.create=function(){var e=this,t=this.scene.cameras.main.centerY-300,i=this.scene.cameras.main.centerX,s=this.scene.add.sprite(i+4,t,"modal-header-event-end").setDepth(2),n=this.scene.add.tileSprite(i,s.getBottomCenter().y-70,527,480,"white-pixel").setOrigin(.5,0).setTint(16750336),a=this.scene.add.sprite(i,n.getBottomCenter().y,"profile-window-footer").setOrigin(.5,0);this.scene.add.text(s.x,s.y+60,this.scene.state.lang.eventEndText,this.titleStyle).setOrigin(.5).setFontSize(36).setDepth(2),this.scene.add.sprite(a.getLeftCenter().x,a.getLeftCenter().y,"decor-left").setOrigin(1),this.scene.add.sprite(a.getRightCenter().x,a.getRightCenter().y,"decor-right").setOrigin(0,1),this.plate=this.scene.add.sprite(i,s.getBottomCenter().y,"clan-award-plate").setOrigin(.5,0).setDepth(3);this.scene.add.text(this.plate.x+12,this.plate.getTopCenter().y+12,this.scene.state.lang.clanTournamentAwards,{font:"23px Shadow",color:"#F27E35"}).setOrigin(.5,0).setDepth(3);this.createClanAwardInfo(),this.bg=this.scene.add.roundedField(i,this.plate.getCenter().y+20,480,260,"modal-square-bg").setOriginY(0).setDepth(2),this.createPlayerAwardInfo(),this.salute();var r=this.scene.add.sprite(i,a.getCenter().y-12,"done-chapter-button").setDepth(2),o=this.scene.add.text(i,r.getCenter().y+5,this.scene.state.lang.clanTournamentTakeAwards,{color:"#fffdfa",fontFamily:"Shadow",fontSize:"23px",align:"center",wordWrap:{width:200,useAdvancedWrap:!0},stroke:"#01B714",strokeThickness:4}).setOrigin(.5,.75).setDepth(2);this.scene.clickModalBtn({btn:r,title:o},(function(){e.takeAward()}))},e.prototype.createClanAwardInfo=function(){var e=this.scene.add.sprite(this.plate.getLeftCenter().x+96,this.plate.getCenter().y,"clan-building").setScale(.72).setDepth(4),t=(this.scene.add.sprite(e.x,e.getBottomCenter().y-6,"circle").setAlpha(.8).setTint(15501352).setDisplaySize(110,30).setDepth(3),this.scene.add.sprite(e.getRightCenter().x+20,e.getRightCenter().y+20,"clan-big-star").setDepth(5)),i=(this.scene.add.sprite(t.x-16,t.y,"clan-glow").setAlpha(.8).setScale(.9).setDepth(4),this.scene.add.text(t.x-6,t.y-10,String(this.clanPlace),this.awardDescriptionStyle).setOrigin(.5).setFont("50px Shadow").setDepth(5));i.getBounds().width>80&&i.setFontSize(40);this.scene.add.text(i.getBottomCenter().x,i.getBottomCenter().y-5,this.scene.state.lang.eventPlace,this.awardDescriptionStyle).setOrigin(.5,0).setFont("18px Shadow").setDepth(5);var s=this.scene.add.text(this.plate.getRightCenter().x-40,this.plate.getCenter().y+20,this.scene.state.lang.clanTournamentClanReceived,this.awardDescriptionStyle).setOrigin(1).setDepth(4),n=this.scene.add.text(s.getCenter().x-30,s.getBottomCenter().y+10,this.getClanAward(),this.awardDescriptionStyle).setFont("36px Shadow").setOrigin(.5,0).setDepth(4);this.scene.add.sprite(n.getRightCenter().x+10,n.getRightCenter().y+6,"clan-diamond-coin").setOrigin(0,.6).setScale(.7).setDepth(4)},e.prototype.createPlayerAwardInfo=function(){this.scene.add.text(this.bg.x,this.bg.getTopCenter().y+96,this.scene.state.lang.clanTournamentInYourClanPlace,this.awardDescriptionStyle).setColor("#FFFDB1").setFontSize(20).setOrigin(.5,0).setDepth(2);var e=this.scene.add.sprite(this.bg.getLeftCenter().x+66,this.bg.getLeftCenter().y+28,"farmer").setScale(.4).setDepth(2),t=this.scene.add.sprite(e.getRightCenter().x+20,e.getRightCenter().y+32,"clan-big-medal").setDepth(4),i=(this.scene.add.sprite(t.x-6,t.y-4,"clan-glow").setAlpha(.3).setScale(.85).setDepth(3),this.scene.add.text(t.x-6,t.y-16,String(this.playerPlace),this.awardDescriptionStyle).setOrigin(.5).setFont("46px Shadow").setDepth(4)),s=(this.scene.add.text(i.getBottomCenter().x,i.getBottomCenter().y-5,this.scene.state.lang.eventPlace,this.awardDescriptionStyle).setOrigin(.5,0).setFont("18px Shadow").setDepth(4),this.scene.add.text(this.bg.getRightCenter().x-24,this.bg.getRightCenter().y+36,this.scene.state.lang.clanTournamentYourAward,this.awardDescriptionStyle).setFontSize(22).setOrigin(1,.5).setDepth(3)),n=this.scene.add.text(s.getCenter().x-20,s.getBottomCenter().y+10,this.getPlayerAward(),this.awardDescriptionStyle).setFont("36px Shadow").setOrigin(.5,0).setDepth(3);this.scene.add.sprite(n.getRightCenter().x+10,n.getRightCenter().y+6,"diamond").setOrigin(0,.6).setScale(.15).setDepth(3)},e.prototype.getClanAward=function(){var e=1e3;return 2===this.clanPlace?e=700:3===this.clanPlace?e=400:this.clanPlace>=4&&this.clanPlace<=10?e=300:this.clanPlace>=11&&this.clanPlace<=100?e=100:this.clanPlace>=101&&this.clanPlace<=500?e=50:this.clanPlace>500&&(e=20),String(e)},e.prototype.getPlayerAward=function(){var e=100;return 2===this.playerPlace?e=70:3===this.playerPlace?e=40:this.playerPlace>=4&&this.playerPlace<=10?e=30:this.playerPlace>10&&(e=10),String(e)},e.prototype.getPlacesInfo=function(){var e=this;this.scene.scene.launch("Block");var t=this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,"loading-spinner"),i=this.scene.tweens.add({targets:t,rotation:2*Math.PI,duration:700,repeat:-1});Promise.all([this.getClanPlace(),this.getPlayerPlace()]).then((function(t){var i=t[0],s=t[1];i.data.error||s.data.error?e.scene.scene.stop("Modal"):(e.clanPlace=i.data.place,e.playerPlace=s.data.place,e.init())})).catch((function(){e.scene.scene.stop("Modal")})).finally((function(){e.scene.scene.stop("Block"),null==i||i.remove(),null==t||t.destroy()}))},e.prototype.getClanPlace=function(){var e={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter};return s.default.post("https://ferma.games:4000/getTournamentClanPlace",e)},e.prototype.getPlayerPlace=function(){var e={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter};return s.default.post("https://ferma.games:4000/getTournamentUserPlace",e)},e.prototype.takeAward=function(){var e=this,t=Number(this.getClanAward()),i=Number(this.getPlayerAward()),n={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,count:t};s.default.post("https://ferma.games:4000/takeTournamentAward",n).then((function(s){s.data.error||(e.scene.scene.isActive("ClanFarm")?a.default.create(e.scene.game.scene.keys.ClanFarm,"diamond",{x:e.scene.cameras.main.centerX,y:e.scene.cameras.main.centerY}):e.scene.scene.isActive("Profile")?a.default.create(e.scene.game.scene.keys.Profile,"diamond",{x:e.scene.cameras.main.centerX,y:e.scene.cameras.main.centerY}):a.default.create(e.scene.game.scene.keys[e.scene.state.farm+"Bars"],"diamond"),e.scene.state.user.diamonds+=i,e.scene.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"clan_event",count:i}),s.data.clanAward&&e.scene.state.amplitude.logAmplitudeEvent("clan_diamonds_get",{type:"clan_event",count:t}),e.scene.state.clanEventTakenAward=!0,e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].ads.showInterstitialAd(),e.scene.game.scene.keys[e.scene.state.farm].autosave())})).catch((function(){e.scene.state.clanEventTakenAward=!0,e.scene.scene.stop(),e.scene.game.scene.keys[e.scene.state.farm].ads.showInterstitialAd()}))},e.prototype.salute=function(){var e=this;this.scene.time.addEvent({delay:400,callback:function(){var t={x:e.scene.cameras.main.centerX+Phaser.Math.RND.pick(Phaser.Math.RND.signs)*Phaser.Math.Between(80,200),y:e.scene.cameras.main.centerY-100+Phaser.Math.RND.pick(Phaser.Math.RND.signs)*Phaser.Math.Between(90,280)};n.default.create(e.scene,t,1)},repeat:7})},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(6),a=function(){function e(e){this.scene=e,this.init(),this.createElements(),this.createFireworks()}return e.prototype.init=function(){this.texture=this.scene.state.modal.message.split("_").join("-").toLowerCase(),this.type=this.scene.state.modal.message,this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.height=this.checkBtnHave()?300:220,this.width=527},e.prototype.createElements=function(){this.createBg(),this.createHeader(),this.createFooter(),this.createMainInfo()},e.prototype.checkDoublePrice=function(){var e=this;return["DIAMOND_COUNT","SHEEP_MONEY","CHICKEN_MONEY","COW_MONEY"].some((function(t){return t===e.type}))},e.prototype.checkBtnHave=function(){var e=this;return["PACKAGE_PRICE","DIAMOND_COUNT"].some((function(t){return t===e.type}))},e.prototype.createBg=function(){this.bg=this.scene.add.tileSprite(this.x,this.y,this.width,this.height,"white-pixel").setTint(16750336)},e.prototype.createHeader=function(){var e=this;this.header=this.scene.add.sprite(this.x,this.y-this.height/2+15,"sale-window-header").setOrigin(.5,1);var t=this.header.getBounds();this.headerText=this.scene.add.text(t.centerX,t.centerY-10,this.scene.state.lang.sale,{color:"#F3FBD0",fontFamily:"Shadow",fontSize:"45px"}).setOrigin(.5),this.scene.add.sprite(t.centerX-7,t.bottom-10,"sale-window-flags").setOrigin(.5,0),this.closeBtn=this.scene.add.sprite(t.right-35,t.top+35,"close-window-btn"),this.scene.clickButton(this.closeBtn,(function(){e.onCloseBtn()}))},e.prototype.createFooter=function(){this.footer=this.scene.add.sprite(this.x,this.y+this.height/2,"profile-window-footer").setOrigin(.5,0)},e.prototype.onCloseBtn=function(){this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop()},e.prototype.getText=function(){var e=this.texture.split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return e[0].toLowerCase()+e.slice(1)},e.prototype.createMainInfo=function(){var e=this.header.getBounds(),t=this.scene.add.sprite(this.x-150,e.bottom+60,"sale-icon-"+this.texture).setOrigin(.5,0).setDepth(1),i=this.checkDoublePrice()?"sale-window-double-count":"sale-window-half-price",s=(this.scene.add.sprite(t.getTopRight().x,t.getTopRight().y,i).setDepth(1).setOrigin(1,0),this.scene.add.tileSprite(this.x,t.getCenter().y,this.bg.width,t.displayHeight-30,"modal-bg-plate"));this.scene.add.text(this.x+95,t.getCenter().y,this.scene.state.lang[this.getText()+"Sale"],{fontFamily:"Bip",fontSize:"20px",color:"#FEF5E5",align:"center",wordWrap:{width:320}}).setOrigin(.5);this.createTimer({x:this.x,y:s.getBounds().bottom+40}),this.checkBtnHave()&&this.createBtn(s.getBounds().bottom+150)},e.prototype.createTimer=function(e){var t=this.scene.add.sprite(e.x,e.y,"tasks-bar-fix").setOrigin(.5,0);t.setDisplaySize(490,50);var i=t.getBounds(),n=this.scene.add.text(0,i.centerY,this.scene.state.lang.saleLastTime,{fontFamily:"Shadow",color:"#F49830",fontSize:"22px"}).setOrigin(0,.5),a=this.scene.add.text(0,i.centerY,s.shortTime(this.getLastTime(),this.scene.state.lang),{fontFamily:"Shadow",color:"#38BCD8",fontSize:"24px"}).setOrigin(0,.5),r=n.displayWidth+a.displayWidth+10;n.setX(i.centerX-r/2),a.setX(n.getBounds().right+5)},e.prototype.createBtn=function(e){var t=this,i=this.scene.add.sprite(this.x,e,"done-chapter-button").setDepth(2),s=this.scene.add.text(this.x,i.getCenter().y,this.scene.state.lang.goTo,{color:"#fffdfa",fontFamily:"Shadow",fontSize:"23px",align:"center",wordWrap:{width:200,useAdvancedWrap:!0},stroke:"#01B714",strokeThickness:4}).setOrigin(.5,.75).setDepth(2);this.scene.clickModalBtn({btn:i,title:s},(function(){t.scene.state.modal={type:2,shopType:1},t.scene.scene.restart(t.scene.state)}))},e.prototype.getLastTime=function(){var e,t=this;return null===(e=this.scene.state.sales.find((function(e){return e.type===t.type})))||void 0===e?void 0:e.endTime},e.prototype.createFireworks=function(){var e=this;this.scene.time.addEvent({delay:400,callback:function(){var t={x:e.scene.cameras.main.centerX+Phaser.Math.RND.pick(Phaser.Math.RND.signs)*Phaser.Math.Between(80,200),y:e.scene.cameras.main.centerY+Phaser.Math.RND.pick(Phaser.Math.RND.signs)*Phaser.Math.Between(90,280)};n.default.create(e.scene,t,1)},repeat:4})},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(1854),n=function(){function e(e){this.scene=e,this.createElements()}return e.prototype.createElements=function(){var e=this,t=this.scene.add.sprite(this.scene.cameras.main.centerX,this.scene.cameras.main.centerY,"review-bg").getBounds();this.scene.add.text(t.centerX,t.centerY+30,this.scene.state.lang.likeGame,{fontSize:"32px",fontFamily:"Shadow",color:"#FEF5D9",align:"center",shadow:{offsetX:1,offsetY:3,color:"rgba(0, 0, 0, 0.5)",blur:5,fill:!0}}).setOrigin(.5);new s.default(this.scene,{x:t.centerX-90,y:t.centerY+130},(function(){e.onClickLikeBtn()}),"review-btn-like"),new s.default(this.scene,{x:t.centerX+90,y:t.centerY+130},(function(){e.onClickDislikeBtn()}),"review-btn-dislike")},e.prototype.onClickLikeBtn=function(){var e=window.cordova;e.plugins.AppReview.requestReview().catch((function(){return e.plugins.AppReview.openStoreScreen()})),this.scene.state.amplitude.logAmplitudeEvent("appReview",{type:"like"}),this.scene.scene.stop()},e.prototype.onClickDislikeBtn=function(){this.scene.state.modal={type:1,sysType:25},this.scene.scene.restart(this.scene.state),this.scene.state.amplitude.logAmplitudeEvent("appReview",{type:"dislike"})},e}();t.default=n},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,s,n){var a=e.call(this,t,i,s)||this;return a.texture=n,a.mainSprite=a.scene.add.sprite(a.position.x,a.position.y,a.texture),a.setClickListener(),a}return n(t,e),t}(i(37).default);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(33),n=[{type:1,price:0,desc:"1"},{type:2,price:0,desc:"2"},{type:3,price:100,desc:"3"},{type:4,price:100,desc:"4"},{type:5,price:100,desc:"5"},{type:6,price:100,desc:"6"},{type:7,price:100,desc:"7"},{type:8,price:100,desc:"8"}],a=function(){function e(e){this.scene=e,this.init(),this.createElements()}return e.prototype.init=function(){this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.height=this.checkSocialAvatarAvalible()?580:450,this.width=527,this.currentType=isNaN(Number(this.scene.state.user.avatar))?0:Number(this.scene.state.user.avatar)},e.prototype.createElements=function(){this.createBg(),this.createHeader(),this.createFooter(),this.createAvatars()},e.prototype.createBg=function(){this.bg=this.scene.add.tileSprite(this.x,this.y,this.width,this.height,"white-pixel").setTint(16750336)},e.prototype.createHeader=function(){var e=this;this.header=this.scene.add.sprite(this.x,this.y-this.height/2+10,"profile-window-header").setOrigin(.5,1);var t=this.header.getBounds();this.headerText=this.scene.add.text(t.centerX,t.centerY-15,this.scene.state.lang.avatarSettings,{color:"#F3FBD0",fontFamily:"Shadow",fontSize:"38px"}).setOrigin(.5),this.closeBtn=this.scene.add.sprite(t.right-35,t.top+35,"close-window-btn"),this.scene.clickButton(this.closeBtn,(function(){e.onCloseBtn()}))},e.prototype.createFooter=function(){this.footer=this.scene.add.sprite(this.x,this.y+this.height/2,"profile-window-footer").setOrigin(.5,0)},e.prototype.createAvatars=function(){var e=this,t=this.bg.getBounds(),i={x:t.left+110,y:t.top+260};n.forEach((function(t){e.createAvatar(t,i)})),this.checkSocialAvatarAvalible()&&this.createSocialAvatar()},e.prototype.createAvatar=function(e,t){var i=this,s=this.bg.getBounds(),n={fontFamily:"Shadow",fontSize:"22px",color:"#7A3D10"};if(e.price>0){var a=this.scene.add.sprite(t.x,t.y,"avatar-"+e.type),r=this.ownCheck(e.type),o=r?"profile-window-level":"buy-avatar-plate",c=this.scene.add.sprite(a.x,a.y+60,o);if(r){h=this.scene.add.text(c.x,c.y-3,this.scene.state.lang.select,n).setOrigin(.5);this.currentType===e.type&&(this.scene.add.sprite(a.x+3,a.y+3,"avatar-frame"),c.setVisible(!1),h.setVisible(!1))}else{var h=this.scene.add.text(c.x-10,c.y-1,String(e.price),n).setOrigin(.5).setColor("#ffffff");this.scene.add.sprite(h.getBounds().right+2,h.y,"diamond").setScale(.1).setOrigin(0,.5)}this.scene.click(a,(function(){i.avatarHandler(e)})),this.scene.click(c,(function(){i.avatarHandler(e)})),t.x+=a.width+40,t.x>=s.right-80&&(t.x=s.left+110,t.y+=a.height+40)}else{var l={x:s.centerX-100,y:s.top+100},d={x:s.centerX+100,y:s.top+100},u=1===e.type?l:d;a=this.scene.add.sprite(u.x,u.y,"avatar-"+e.type),c=this.scene.add.sprite(a.x,a.y+60,"profile-window-level");this.scene.click(a,(function(){i.avatarHandler(e)})),this.scene.click(c,(function(){i.avatarHandler(e)}));h=this.scene.add.text(c.x,c.y-1,this.scene.state.lang.select,n).setOrigin(.5);this.currentType===e.type&&(this.scene.add.sprite(a.x+3,a.y+3,"avatar-frame"),c.setVisible(!1),h.setVisible(!1))}},e.prototype.avatarHandler=function(e){this.ownCheck(e.type)||1===e.type||2===e.type?(this.scene.state.user.avatar=0!==e.type?String(e.type):this.scene.state.avatar,this.scene.scene.restart(this.scene.state)):(this.scene.state.modal={type:1,sysType:26,avatarParams:e},this.scene.scene.restart(this.scene.state))},e.prototype.ownCheck=function(e){return this.scene.state.user.boughtAvatars.some((function(t){return t===e}))},e.prototype.checkSocialAvatarAvalible=function(){var e=this.scene.state,t=e.platform,i=e.user,s="avatar-"+i.id,n=this.scene.textures.exists(s)||i.boughtAvatars.some((function(e){return 0===e}));return("vk"===t||"ok"===t||"ya"===t)&&n},e.prototype.onCloseBtn=function(){this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.state.modal={type:15},this.scene.scene.restart(this.scene.state),s.checkUserName(this.scene.state)},e.prototype.createSocialAvatar=function(){var e=this,t=this.footer.getBounds(),i={fontFamily:"Shadow",fontSize:"22px",color:"#7A3D10"},s={type:0,price:1e3,desc:"123"},n={x:t.centerX,y:t.bottom-150},a=this.ownCheck(s.type),r=a?"profile-window-level":"buy-avatar-plate",o="avatar-"+this.scene.state.user.id,c=this.scene.textures.exists(o),h=this.scene.add.sprite(n.x,n.y,"avatar-0").setVisible(!1),l=new Phaser.Display.Masks.BitmapMask(this.scene,h),d=this.scene.add.sprite(n.x,n.y,o).setMask(l);c||d.setTexture("avatar-0");var u=h.width/d.width,p=h.height/d.height;d.setScale(u,p);var f=this.scene.add.sprite(d.x,d.y+60,r);if(a){m=this.scene.add.text(f.x,f.y-3,this.scene.state.lang.select,i).setOrigin(.5);this.currentType===s.type&&(this.scene.add.sprite(d.x+3,d.y+3,"avatar-frame"),f.setVisible(!1),m.setVisible(!1))}else{var m=this.scene.add.text(f.x-10,f.y-1,String(s.price),i).setOrigin(.5).setColor("#ffffff");this.scene.add.sprite(m.getBounds().right+2,m.y,"diamond").setScale(.1).setOrigin(0,.5)}this.scene.click(d,(function(){e.avatarHandler(s)})),this.scene.click(f,(function(){e.avatarHandler(s)}))},e}();t.default=a},function(e,t,i){"use strict";var s=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),n=0;for(t=0;t<i;t++)for(var a=arguments[t],r=0,o=a.length;r<o;r++,n++)s[n]=a[r];return s};Object.defineProperty(t,"__esModule",{value:!0});var n=i(17),a=i(1),r=function(){function e(e){this.scene=e,this.init(e.state)}return e.prototype.init=function(e){this.state=e,this.scrollHeight=Number(this.scene.game.config.height),this.windowHeight=640,this.windowWidth=500,this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.initScrolling(),this.height=600,this.width=527,this.create()},e.prototype.createMain=function(){this.bg=this.scene.add.tileSprite(this.x,this.y,this.width,this.height,"white-pixel").setTint(16750336),this.createHeader(),this.footer=this.scene.add.sprite(this.x,this.y+this.height/2,"profile-window-footer").setOrigin(.5,0)},e.prototype.createHeader=function(){var e=this;this.header=this.scene.add.sprite(this.x,this.y-this.height/2+25,"achievement-window-header").setOrigin(.5,1);var t=this.header.getBounds();this.scene.add.text(t.centerX-15,t.bottom-70,this.scene.state.lang.achievements,{color:"#F3FBD0",fontFamily:"Shadow",fontSize:"38px",wordWrap:{width:400,useAdvancedWrap:!0},align:"center"}).setOrigin(.5);var i=this.scene.add.sprite(t.right-35,t.bottom-95,"close-window-btn");this.scene.clickButton(i,(function(){e.onCloseBtn()}))},e.prototype.onCloseBtn=function(){this.scene.state.modal={type:15},this.scene.scene.restart(this.scene.state)},e.prototype.initScrolling=function(){var e=this;this.height=this.scrollHeight+this.windowHeight-30;var t={x:110,y:this.scene.cameras.main.centerY-270,width:this.windowWidth,height:this.windowHeight,wheel:!0,top:this.height};this.scrolling=new n.default(this.scene,t),this.scene.input.on("pointerup",(function(){e.scrolling.enabled=!0,e.scrolling.wheel=!0}))},e.prototype.create=function(){this.createMain();var e=this.state.user.achievements,t=this.state.modal.achievements||s(e).sort((function(e,t){return t.progress/t.count-e.progress/e.count}));this.createAchievements(t)},e.prototype.createAchievements=function(e){var t=this;e.forEach((function(e){(2!==e.id||2==e.id&&a.default.checkSocialPlatform(t.state.platform))&&t.createAchievement(e)}))},e.prototype.createAchievement=function(e){var t=this,i={fontFamily:"Shadow",fontSize:"20px",color:"#ffffff",shadow:{fill:!0,offsetX:2,offsetY:2,color:"rgba(0, 0, 0, 0.2)",blur:3}},s={fontFamily:"Bip",fontSize:"12px",color:"#FDDBA8",wordWrap:{width:220,useAdvancedWrap:!0}},n=e.id,a=e.progress,r=e.count,o=e.points,c="ach"+n+"-status",h=this.scene.cameras.main.centerX-307,l=this.windowHeight+this.scrollHeight+35,d=41===n?"unicorn":"ach"+n,u=this.scene.add.sprite(h,l,c).setDepth(1),p=u.getBounds();if(!a&&0!==a||!r&&0!==r)f=(y=this.scene.add.sprite(this.scene.cameras.main.centerX-107,l,"achievement-bg-complete")).getBounds(),m=this.scene.add.text(f.centerX+p.width/2+10,l-30,this.state.lang[d+"Status"],i).setOrigin(.5,0),this.scene.add.text(f.centerX+p.width/2+10,l+10,this.state.lang.achievementUnlock,s).setOrigin(.5).setFontSize(18);else if(a>=r){var f=(y=this.scene.add.sprite(this.scene.cameras.main.centerX-107,l,"achievement-bg-complete")).getBounds(),m=this.scene.add.text(f.centerX+p.width/2+10,l-30,this.state.lang[d+"Status"],i).setOrigin(.5,0),g=(this.scene.add.text(f.centerX+p.width/2+10,l+10,this.state.lang.achievementUnlock,s).setOrigin(.5).setFontSize(18),this.scene.add.sprite(y.x,y.y,"achievement-frame").setVisible(!1).setDepth(1));u.setDataEnabled(),u.setData("check",g),this.state.user.status===d&&(this.scrolling.scrollY=this.scrollHeight+this.windowHeight-30,this.activeIcon=u,g.setVisible(!0)),this.scene.click(y,(function(){t.state.user.status!==d&&(t.setStatus(n),t.updateActiveIcon(u))}))}else{var y=this.scene.add.sprite(this.scene.cameras.main.centerX-107,l,"achievement-bg");if((m=this.scene.add.text(p.right+15,l-27,this.state.lang[d+"Status"],i).setOrigin(0,.5)).width>200){var v=200/m.width;m.setFontSize(Math.round(parseInt(i.fontSize)*v))}var w=this.state.lang["achievementText"+n],b=(this.scene.add.text(p.right+15,l+10,w,s).setOrigin(0,.5),a+"/"+r),x=y.x+130;this.scene.add.text(x,l,b,{fontFamily:"Shadow",fontSize:"19px",color:"#F9DEB3"}).setOrigin(.5),this.scene.add.text(y.x+210,l,String(o),{fontFamily:"Shadow",fontSize:"30px",color:"#ffffff",shadow:{fill:!0,offsetX:2,offsetY:2,color:"rgba(0, 0, 0, 0.2)",blur:3}}).setOrigin(.5);u.setTint(0).setAlpha(.25)}this.scrollHeight+=p.height+35,this.scrolling.bottom=this.scrollHeight},e.prototype.setStatus=function(e){var t=41===e?"unicorn":"ach"+e;this.state.user.status=t},e.prototype.updateActiveIcon=function(e){var t=e.getData("check");if(this.activeIcon){var i=this.activeIcon.getData("check");i&&i.setVisible(!1)}this.activeIcon=e,null==t||t.setVisible(!0)},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(1858),n=i(17),a=function(){function e(e){this.scene=e,this.init(),this.create()}return e.prototype.init=function(){this.centerY=this.scene.cameras.main.centerY+60,this.tasks=this.getTasks(),this.footerTextStyle={fontSize:"20px",fontFamily:"Shadow",color:"#c15e00",align:"center",wordWrap:{width:420}}},e.prototype.create=function(){var e=this;this.top=this.scene.add.sprite(this.scene.cameras.main.centerX+3,this.centerY-Math.floor(380),"tasks-top").setOrigin(.5,1),this.middle=this.scene.add.tileSprite(this.scene.cameras.main.centerX,this.centerY,563,760,"tasks-middle").setOrigin(.5),this.bottom=this.scene.add.sprite(this.scene.cameras.main.centerX,this.centerY+Math.floor(380),"tasks-bottom").setOrigin(.5),this.close=this.scene.add.sprite(606,this.centerY-Math.floor(494),"close-window-btn").setDepth(2);var t=this.middle.getTopLeft().x+46,i=this.middle.getTopCenter().y-7,s=this.middle.getBounds().width-87,n=this.middle.getBounds().height-94;this.setScroll(t,i,s,n),this.createTasksBars(),this.updateScroll(n),this.scene.clickButton(this.close,(function(){e.closeWindow()}))},e.prototype.setScroll=function(e,t,i,s){var a=this,r={x:e,y:t,width:i,height:s,wheel:!0,top:+this.scene.game.config.height};this.scrolling=new n.default(this.scene,r),this.scene.input.on("pointerup",(function(){a.scrolling.enabled=!0,a.scrolling.wheel=!0})),this.scrolling.bottom=+this.scene.game.config.height},e.prototype.updateScroll=function(e){var t=this.lastElementBottomY-+this.scene.game.config.height;if(t>e){var i=t-e;this.scrolling.bottom+=i}},e.prototype.createTasksBars=function(){for(var e,t=[],i=0;i<this.tasks.length;i++){var n=this.scene.cameras.main.centerX-this.scrolling.x+2,a=t.length?t[i-1].getBottomCenter().y+4:this.scrolling.top+6;t.push(new s.default(n,a,this.tasks[i],this.scene))}this.lastElementBottomY=(null===(e=t[t.length-1])||void 0===e?void 0:e.getBottomCenter().y)+6,this.progressLineAndOtherText()},e.prototype.getTasks=function(){var e=this,t=[];return this.scene.state.modal.tasksParams.tasks.forEach((function(i){var s=e.scene.game.scene.keys[e.scene.state.farm].getTaskData(i);t.push({task:i,taskData:s})})),t=t.sort((function(e,t){return e.task.sort>t.task.sort?1:e.task.sort<t.task.sort?-1:0}))},e.prototype.progressLineAndOtherText=function(){var e=this.scene.add.text(this.top.getCenter().x,this.top.getTopCenter().y+60,this.scene.state.modal.tasksParams.part,{font:"72px Shadow",color:"#166c00"}).setOrigin(.5),t=this.scene.add.text(e.getBottomCenter().x,e.getBottomCenter().y+14,this.scene.state.lang.part,{font:"31px Shadow",color:"#166c00"}).setOrigin(.5);this.scene.add.text(t.getBottomCenter().x,t.getBottomCenter().y+55,this.scene.state.modal.tasksParams.name,{font:"32px Shadow",color:"#F2DCFF",wordWrap:{width:this.top.width-60},align:"center"}).setOrigin(.5),this.scene.add.text(this.bottom.getCenter().x,this.bottom.getCenter().y+8,this.scene.state.modal.tasksParams.farmer,{font:"26px Shadow",color:"#8f3f00"}).setOrigin(.5),this.line=this.scene.add.tileSprite(this.bottom.getLeftCenter().x+55,this.bottom.getCenter().y-56,1,16,"part-progress"),this.partDiscription=this.scene.add.text(this.bottom.getCenter().x,this.bottom.getCenter().y+60,"",this.footerTextStyle).setOrigin(.5),this.updateProgress()},e.prototype.createNextPartButton=function(){var e,t,i,s=this;null===(e=this.partDiscription)||void 0===e||e.destroy(),null===(t=this.nextPart)||void 0===t||t.destroy(),null===(i=this.nextPartText)||void 0===i||i.destroy(),this.nextPart=this.scene.add.sprite(this.bottom.getCenter().x,this.bottom.getCenter().y+60,"big-btn-green").setDisplaySize(412,64),this.nextPartText=this.scene.add.text(this.bottom.getCenter().x,this.bottom.getCenter().y+54,this.scene.state.lang.donePart,{font:"24px Shadow",fill:"#FFFFFF"}).setOrigin(.5),this.scene.clickShopBtn({btn:this.nextPart,title:this.nextPartText},(function(){s.scene.game.scene.keys[s.scene.state.farm].nextPart()}))},e.prototype.updateProgress=function(){var e,t,i,s,n;this.tasks=this.getTasks(),this.scene.state.modal.tasksParams.done=this.tasks.every((function(e){return 1===e.task.done&&1===e.task.awardTaken}));var a=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"].partSettings,r=this.scene.state["user"+this.scene.state.farm].part;this.scene.state.modal.tasksParams.done&&a.length===r&&this.partDiscription.active?null===(e=this.partDiscription)||void 0===e||e.setText(this.scene.state.lang[this.scene.state.farm.toLowerCase()+"CompanyDone"]):this.scene.state.modal.tasksParams.done&&a.length!==r?this.createNextPartButton():!this.scene.state.modal.tasksParams.done&&(null===(t=this.partDiscription)||void 0===t?void 0:t.active)&&(null===(i=this.partDiscription)||void 0===i||i.setText(this.scene.state.modal.tasksParams.description)),null===(s=this.lineAni)||void 0===s||s.remove();var o=this.tasks.filter((function(e){return 1===e.task.done})).length/(this.scene.state.modal.tasksParams.tasks.length/100)*4.56,c=this.line?this.line.getBounds().width:1;null===(n=this.line)||void 0===n||n.setSize(c,16).setOrigin(0,.5),this.lineAni=this.scene.tweens.add({targets:this.line,width:o,duration:500,delay:150,ease:"Cubic.easeOut"})},e.prototype.closeWindow=function(){this.scene.game.scene.keys[this.scene.state.farm].tasksOpened=!1,this.scene.scene.stop(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0},e}();t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=i(30),o=function(e){function t(t,i,s,n){var a=e.call(this,n,t,i,"")||this;return a.scene=n,a.taskInfo=s,a.scene.add.existing(a),a.init(),a.create(),a}return n(t,e),t.prototype.init=function(){this.barHeight=140,"coin"===this.taskInfo.task.awardType?(this.valutaTexture=this.scene.state.farm.toLowerCase()+"Coin",this.award=""):(this.valutaTexture="diamond",this.award=String(this.taskInfo.task.award)),this.taskInProgressTextStyle={fontFamily:"Bip",fontSize:"24px",color:"#e08400",align:"center",wordWrap:{width:330}},this.taskCompliteAwardNonTakenTextColor="#759534",this.taskCompliteAwardTakenTextColor="#759534",this.currentProgress=this.taskInfo.task.progress,this.done=Number(this.taskInfo.task.done),this.setOrigin(.5,0).setDepth(2)},t.prototype.create=function(){this.icon=this.scene.add.sprite(this.x-170,this.y+60,this.taskInfo.taskData.icon).setDepth(3).setScale(.9),this.text=this.scene.add.text(this.x,this.y,this.taskInfo.taskData.name,this.taskInProgressTextStyle).setDepth(3).setOrigin(.5),this.text.height>30&&(this.barHeight+=(this.text.height-30)/2),this.bar=this.scene.add.sprite(this.x,this.y,"tasks-bar").setOrigin(0,1).setDepth(3),this.barText=this.scene.add.text(this.x,this.y,"",{font:"24px Shadow",color:"#FFFFFF"}).setOrigin(0,.5).setDepth(4),this.valuta=this.scene.add.sprite(this.x,this.y,this.valutaTexture).setOrigin(0,.5).setDepth(3).setScale(.14),this.valutaSum=this.scene.add.text(this.x,this.y,this.award,{font:"34px Bip",color:"#FFFFFF"}).setDepth(3).setOrigin(0,.5).setShadow(2,2,"rgba(0, 0, 0, 0.5)",5),this.checkIcon=this.scene.add.sprite(this.icon.x,this.icon.y,"completed").setDepth(4);var e=14===this.taskInfo.task.type&&0===this.taskInfo.task.count?this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"][this.scene.state.farm.toLowerCase()+"Settings"].length:this.taskInfo.task.count,t=this.taskInfo.task.progress;this.progressText=this.scene.add.text(this.icon.x,this.icon.getBottomCenter().y+26,a.shortNum(t)+"/"+a.shortNum(e),{font:"26px Shadow",color:"#b65e00"}).setDepth(3).setOrigin(.5).setShadow(1,1,"rgba(0, 0, 0, 0.5)",2),this.progressText.width>120&&this.progressText.setOrigin(0,.5).setX(this.icon.getLeftCenter().x-18).setFontSize(24),this.progress=new r.default(this.scene,this.icon.x,this.icon.y,1.2).setPercent(Math.round(100/e*t)).setTint(7354783),this.ringInner=this.scene.add.sprite(this.progress.rightSegment.x,this.progress.rightSegment.y,"circle-outline").setScale(.95).setTint(12620357).setDepth(this.progress.rightSegment.depth+1),this.ringOuter=this.scene.add.sprite(this.progress.rightSegment.x,this.progress.rightSegment.y,"circle-outline").setScale(1.2).setTint(12620357).setDepth(this.progress.rightSegment.depth+1),Boolean(this.taskInfo.task.done)&&Boolean(this.taskInfo.task.awardTaken)?this.taskComplete():Boolean(this.taskInfo.task.done)&&!Boolean(this.taskInfo.task.awardTaken)?this.taskCompleteAwardNonTaken():this.taskInProgress()},t.prototype.taskInProgress=function(){var e=this;this.setTexture("tasks-uncomplete").setDisplaySize(460,this.barHeight),this.scene.click(this,(function(){e.scene.clickTaskBoard(e.taskInfo.task)})),this.text.setPosition(this.getCenter().x+60,this.getCenter().y-26),this.bar.setPosition(this.x-30,this.y+this.getBounds().height-1),this.barText.setPosition(this.bar.getLeftCenter().x+30,this.bar.getLeftCenter().y).setText(this.scene.state.lang.taskReward),this.valuta.setPosition(this.barText.getRightCenter().x+(this.award?6:24),this.barText.getRightCenter().y),this.valutaSum.setPosition(this.valuta.getRightCenter().x+4,this.valuta.getRightCenter().y),this.checkIcon.setVisible(!1)},t.prototype.taskCompleteAwardNonTaken=function(){var e,t=this;this.setTexture("tasks-reward").setDisplaySize(460,this.barHeight),this.text.setPosition(this.getCenter().x+60,this.getCenter().y-26).setColor(this.taskCompliteAwardNonTakenTextColor),this.checkIcon.setVisible(!0),this.bar.setPosition(this.x-30,this.y+this.getBounds().height-1),this.takeButton=this.takeButton||this.scene.add.sprite(this.bar.getLeftCenter().x+18,this.bar.getLeftCenter().y+3,"little-button").setOrigin(0,.5).setDepth(3).setDisplaySize(134,48),this.barText.setPosition(this.takeButton.getCenter().x,this.takeButton.getCenter().y-4).setFontSize(22).setText(this.scene.state.lang.pickUp).setOrigin(.5),this.valuta.setPosition(this.barText.getRightCenter().x+(this.award?18:24),this.barText.getRightCenter().y),this.valutaSum.setPosition(this.valuta.getRightCenter().x+4,this.valuta.getRightCenter().y),this.hideProgress(),null===(e=this.scene.taskWindowNew)||void 0===e||e.updateProgress(),this.scene.clickShopBtn({btn:this.takeButton,title:this.barText,img:!1},(function(){t.pickUpTaskReward()})),this.textArtifactsFix()},t.prototype.pickUpTaskReward=function(){"diamond"===this.valutaTexture?this.scene.game.scene.keys[this.scene.state.farm+"Bars"].getCurrency({x:this.takeButton.x,y:this.takeButton.y},this.taskInfo.task.award,"diamond"):this.scene.game.scene.keys[this.scene.state.farm+"Bars"].plusMoneyAnimation({x:this.takeButton.x,y:this.takeButton.y}),this.scene.game.scene.keys[this.scene.state.farm].pickUpTaskReward(this.taskInfo.task.id),this.taskComplete()},t.prototype.taskComplete=function(){var e,t,i,s,n,a;this.setTexture("tasks-reward").setDisplaySize(460,this.barHeight),this.icon.setY(this.getCenter().y).setTint(12632256).setAlpha(.9),this.checkIcon.setY(this.icon.y).setVisible(!0).setTint(12632256).setAlpha(.9),this.text.setPosition(this.getCenter().x+60,this.getCenter().y).setColor(this.taskCompliteAwardTakenTextColor),null===(e=this.bar)||void 0===e||e.setVisible(!1),null===(t=this.takeButton)||void 0===t||t.destroy(),null===(i=this.barText)||void 0===i||i.destroy(),null===(s=this.valuta)||void 0===s||s.setVisible(!1),null===(n=this.valutaSum)||void 0===n||n.setVisible(!1),this.hideProgress(),null===(a=this.scene.taskWindowNew)||void 0===a||a.updateProgress(),this.textArtifactsFix()},t.prototype.hideProgress=function(){this.progressText.setVisible(!1),this.progress.destroy(),this.ringInner.setVisible(!1),this.ringOuter.setVisible(!1)},t.prototype.setProgress=function(){var e,t,i;this.currentProgress=this.taskInfo.task.progress;var s=14===this.taskInfo.task.type&&0===this.taskInfo.task.count?this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"][this.scene.state.farm.toLowerCase()+"Settings"].length:this.taskInfo.task.count,n=this.taskInfo.task.progress;null===(e=this.progressText)||void 0===e||e.setText(a.shortNum(n)+"/"+a.shortNum(s)),(null===(t=this.progressText)||void 0===t?void 0:t.width)>120&&this.progressText.setOrigin(0,.5).setX(this.icon.getLeftCenter().x-18).setFontSize(24),null===(i=this.progress)||void 0===i||i.setPercent(Math.round(100/s*n)),(Boolean(this.taskInfo.task.done)||100===Math.round(100/s*n))&&this.taskCompleteAwardNonTaken()},t.prototype.setDone=function(){this.done=Number(this.taskInfo.task.done),Boolean(this.taskInfo.task.done)&&!Boolean(this.taskInfo.task.awardTaken)?this.taskCompleteAwardNonTaken():Boolean(this.taskInfo.task.done)&&Boolean(this.taskInfo.task.awardTaken)&&this.taskComplete()},t.prototype.textArtifactsFix=function(){var e;null===(e=this.scene)||void 0===e||e.add.text(0,0,"").destroy()},t.prototype.preUpdate=function(){this.currentProgress!==this.taskInfo.task.progress&&this.setProgress(),Boolean(this.done)!==Boolean(this.taskInfo.task.done)&&this.setDone(),this.taskInfo.task.done&&this.taskInfo.task.awardTaken&&this.takeButton&&this.takeButton.destroy()},t}(Phaser.GameObjects.Sprite);t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(5),a=i(47),r=i(14),o=i(12),c=i(1860),h=i(67),l=i(1861),d=i(68),u=i(69),p=i(1862),f=function(){function e(e){this.height=750,this.width=527,this.scene=e,this.init(),this.createElements()}return e.prototype.init=function(){this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.newMoney=this.scene.state["user"+this.scene.state.farm].money,this.newDiamonds=this.scene.state.user.diamonds,this.autoprogressTime=0,this.newPart=this.scene.state["user"+this.scene.state.farm].part},e.prototype.createBg=function(){this.bg=this.scene.add.tileSprite(this.x,this.y,this.width,this.height,"white-pixel").setTint(16750336)},e.prototype.createHeader=function(){var e=this;this.header=this.scene.add.sprite(this.x,this.y-this.height/2+10,"settings-window-header").setOrigin(.5,1);var t=this.header.getBounds();this.headerText=this.scene.add.text(t.centerX-30,t.centerY-10,"DEBUG",{color:"#F3FBD0",fontFamily:"Shadow",fontSize:"50px",wordWrap:{width:400,useAdvancedWrap:!0},align:"center"}).setOrigin(.5),this.closeBtn=this.scene.add.sprite(t.right-35,t.top+35,"close-window-btn"),this.scene.clickButton(this.closeBtn,(function(){e.closeWindow()}))},e.prototype.closeWindow=function(){this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop()},e.prototype.createFooter=function(){this.footer=this.scene.add.sprite(this.x,this.y+this.height/2,"profile-window-footer").setOrigin(.5,0)},e.prototype.createElements=function(){this.createBg(),this.createHeader(),this.createFooter(),this.createBtns(),this.createIncrement({x:this.x,y:this.y-150},"diamond"),this.createIncrement({x:this.x,y:this.y-70},this.scene.state.farm.toLowerCase()),this.createAutoprogressInc(),this.createPartInc()},e.prototype.createBtns=function(){var e=this,t={fontFamily:"Shadow",wordWrap:{width:100},align:"center",fontSize:"24px",color:"#ffe2e2",stroke:"#009900",strokeThickness:3},i=this.scene.cameras.main,s=i.centerX,a=i.centerY,c={x:s-120,y:a+435},h={x:s+120,y:a+435},l=function(t){e.scene.game.scene.keys[e.scene.state.farm].autosave(),e.scene.scene.stop(),e.scene.scene.stop(e.scene.state.farm),e.scene.scene.stop(e.scene.state.farm+"Bars"),e.scene.scene.start(t+"Preload",e.scene.state)};new o.default(this.scene,-310,(function(){n.default.set("hash",""),n.default.set("farm",""),window.location.reload()}),{color:"red",text:"Сбросить прогресс",textAlign:"center"}),new o.default(this.scene,-230,(function(){e.scene.state.user.achievements.every((function(e){return e.progress===e.count}))?r.default.create(e.scene,-300,"Все достижения уже открыты",2):(e.scene.state.user.achievements.forEach((function(e){e.progress=e.count})),r.default.create(e.scene,-300,"Все достижения открыты",2))}),{color:"green",text:"Открыть достижения",textAlign:"center"}),"Sheep"===this.scene.state.farm?(new o.default(this.scene,260,(function(){return l("Chicken")}),{color:"yellow",text:"Куриная ферма",textAlign:"center"}),new o.default(this.scene,340,(function(){return l("Cow")}),{color:"yellow",text:"Коровья ферма",textAlign:"center"})):"Chicken"===this.scene.state.farm?(new o.default(this.scene,260,(function(){return l("Sheep")}),{color:"yellow",text:"Овечья ферма",textAlign:"center"}),new o.default(this.scene,340,(function(){return l("Cow")}),{color:"yellow",text:"Коровья ферма",textAlign:"center"})):"Cow"===this.scene.state.farm&&(new o.default(this.scene,260,(function(){return l("Sheep")}),{color:"yellow",text:"Овечья ферма",textAlign:"center"}),new o.default(this.scene,340,(function(){return l("Chicken")}),{color:"yellow",text:"Куриная ферма",textAlign:"center"}));var d=this.scene.add.sprite(c.x,c.y,"profile-window-button-green").setScale(1.5),u=this.scene.add.text(d.x,d.y-5,"Применить",t).setOrigin(.5),p=this.scene.add.sprite(h.x,h.y,"profile-window-button-yellow").setScale(1.5),f=this.scene.add.text(p.x+2,p.y-5,"Отменить",t).setOrigin(.5).setStroke("#D78A31",2);this.scene.clickModalBtn({btn:p,title:f},(function(){e.closeWindow()})),this.scene.clickModalBtn({btn:d,title:u},(function(){e.onAcceptBtn()}))},e.prototype.onAcceptBtn=function(){this.setNewCounts(),this.startAutoprogress(),this.updatePart(),this.closeWindow()},e.prototype.setNewCounts=function(){this.scene.state["user"+this.scene.state.farm].money=this.newMoney,this.scene.state.user.diamonds=this.newDiamonds},e.prototype.startAutoprogress=function(){if(this.autoprogressTime>0){this.scene.state.offlineTime=3600*this.autoprogressTime,this.scene.game.scene.keys[this.scene.state.farm].autoprogress()}this.scene.scene.stop()},e.prototype.updatePart=function(){var e=this.scene.state["user"+this.scene.state.farm].part;if(this.newPart!==e){switch(this.scene.state.farm){case"Sheep":this.updateSheepFarm();break;case"Chicken":this.updateChickenFarm();break;case"Cow":this.updateCowFarm()}this.clearTask();var t=this.scene.scene.get(this.scene.state.farm);t.world(),t.autosave().then((function(){window.location.reload()}))}},e.prototype.clearAdditionalTutorial=function(){if("Sheep"===this.scene.state.farm){var e=this.scene.state.user.additionalTutorial;e.balance=this.newPart>3,e.cave=this.newPart>3,e.collector=this.newPart>3,e.herdBoost=this.newPart>5,e.feedBoost=this.newPart>6}},e.prototype.updateSheepFarm=function(){var e=c.basicSheepFarm[this.newPart-1],t=this.newPart>1?this.newPart-1:1;this.scene.state.userSheep.part=this.newPart,this.scene.state.userSheep.fair=e.fairLevel,this.scene.state.userSheep.collectorLevel=t,this.scene.state.userSheep.collectorTimeLevel=t,this.scene.state.userSheep.collector=0,this.scene.state.userSheep.diamondAnimalTime=0;var i=this.scene.scene.get("Sheep");i.sheep.clear(!0,!0),i.territories.clear(!0,!0),i.state.sheep=[];for(var n=0;n<e.animalCount;n+=1){var a="local_"+s.randomString(18);i.state.sheep.push({_id:a,type:e.animalBreed,x:0,y:0,wool:0,counter:0,diamond:0,vector:0})}if(i.state.sheepTerritories=h.default,i.state.sheepTerritories.sort((function(e,t){return e.block>t.block?1:e.block<t.block?-1:e.position<t.position?1:e.position>t.position?-1:0})),this.newPart>1){var r=function(e){var s=i.state.sheepTerritories[e],n=s.block,a=s.position,r=c.fullSheepTerritories.find((function(e){return e.block===n&&e.position===a}));i.state.sheepTerritories[e]=r,i.state.sheepTerritories[e].improve=t};for(n=0;n<e.territoryCount;n+=1)r(n)}else this.scene.state.userSheep.tutorial=0;this.clearAdditionalTutorial()},e.prototype.updateChickenFarm=function(){var e=l.basicChickenFarm[this.newPart-1],t=this.newPart>1?this.newPart-1:1;this.scene.state.userChicken.part=this.newPart,this.scene.state.userChicken.fair=e.fairLevel,this.scene.state.userChicken.collectorLevel=t,this.scene.state.userChicken.collectorTimeLevel=t,this.scene.state.userChicken.collector=0,this.scene.state.userChicken.diamondAnimalTime=0;var i=this.scene.scene.get("Chicken");i.chicken.clear(!0,!0),i.territories.clear(!0,!0),i.state.chicken=[],i.state.chickenEggs=[];for(var n=0;n<e.animalCount;n+=1){var a="local_"+s.randomString(18);i.state.chicken.push({_id:a,type:e.animalBreed,x:0,y:0,egg:0,counter:0,diamond:0,vector:0})}if(i.state.chickenTerritories=d.default,i.state.chickenTerritories.sort((function(e,t){return e.block>t.block?1:e.block<t.block?-1:e.position<t.position?1:e.position>t.position?-1:0})),this.newPart>1){var r=function(e){var s=i.state.chickenTerritories[e],n=s.block,a=s.position,r=l.fullChickenTerritories.find((function(e){return e.block===n&&e.position===a}));i.state.chickenTerritories[e]=r,i.state.chickenTerritories[e].improve=t};for(n=0;n<e.territoryCount;n+=1)r(n)}else this.scene.state.userChicken.tutorial=0},e.prototype.updateCowFarm=function(){var e=p.basicCowFarm[this.newPart-1],t=this.newPart>1?this.newPart-1:1;this.scene.state.userCow.part=this.newPart,this.scene.state.userCow.fair=e.fairLevel,this.scene.state.userCow.collectorLevel=t,this.scene.state.userCow.collectorTimeLevel=t,this.scene.state.userCow.collector=0,this.scene.state.userCow.diamondAnimalTime=0;var i=this.scene.scene.get("Cow");i.animalGroup.clear(!0,!0),i.territories.clear(!0,!0),i.state.cow=[];for(var n=0;n<e.animalCount;n+=1){var a="local_"+s.randomString(18);i.state.cow.push({_id:a,type:e.animalBreed,x:0,y:0,milk:0,counter:0,diamond:0,vector:0})}if(i.state.cowTerritories=u.default,i.state.cowTerritories.sort((function(e,t){return e.block>t.block?1:e.block<t.block?-1:e.position<t.position?1:e.position>t.position?-1:0})),this.newPart>1){var r=function(e){var s=i.state.cowTerritories[e],n=s.block,a=s.position,r=p.fullCowTerritories.find((function(e){return e.block===n&&e.position===a}));i.state.cowTerritories[e]=r,i.state.cowTerritories[e].improve=t};for(n=0;n<e.territoryCount;n+=1)r(n)}1===this.newPart?this.scene.state.userCow.tutorial=0:2===this.newPart?this.scene.state.userCow.tutorial=10:this.scene.state.userCow.tutorial=50},e.prototype.createIncrement=function(e,t){var i=this,n=this.scene.add.sprite(e.x,e.y,"settings-plate").setDepth(1).getBounds(),a="diamond"===t?"diamond":t+"Coin",r=(this.scene.add.sprite(n.left+45,n.centerY,a).setScale(.25).setDepth(1),this.scene.add.sprite(n.left+130,n.centerY,"settings-window-minus").setDepth(1)),o=this.scene.add.sprite(n.right-40,n.centerY,"settings-window-plus").setDepth(1),c=this.scene.add.text(n.centerX+45,n.centerY,s.shortNum(this.newMoney),{color:"#F3FBD0",fontFamily:"Shadow",fontSize:"38px",wordWrap:{width:400,useAdvancedWrap:!0},align:"center"}).setOrigin(.5).setDepth(1),h=this.scene.game.scene.keys[this.scene.state.farm].convertDiamonds(50),l=function(){i.newMoney<=0||(i.newMoney-=h,i.newMoney<0&&(i.newMoney=0),c.setText(s.shortNum(i.newMoney)))},d=function(){i.newMoney+=h,c.setText(s.shortNum(i.newMoney))};if("diamond"===t){c.setText(s.shortNum(this.newDiamonds));l=function(){i.newDiamonds<=0||(i.newDiamonds-=100,i.newDiamonds<0&&(i.newDiamonds=0),c.setText(s.shortNum(i.newDiamonds)))},d=function(){i.newDiamonds+=100,c.setText(s.shortNum(i.newDiamonds))}}this.scene.clickButton(r,l),this.scene.clickButton(o,d)},e.prototype.clearTask=function(){this.scene.state[this.scene.state.farm.toLowerCase()+"Tasks"].forEach((function(e){e.done=0,e.progress=0,e.awardTaken=0}))},e.prototype.createAutoprogressInc=function(){var e=this,t={x:this.x,y:this.y+50},i={color:"#F3FBD0",fontFamily:"Shadow",fontSize:"38px",wordWrap:{width:400,useAdvancedWrap:!0},align:"center"},s=(this.scene.add.text(t.x,t.y-40,"Автопрогресс:",i).setFontSize(30).setOrigin(.5,1).setDepth(2),this.scene.add.sprite(t.x,t.y,"clear-plate").setDepth(1).getBounds()),n=this.scene.add.sprite(s.left+40,s.centerY,"settings-window-minus").setDepth(1),a=this.scene.add.sprite(s.right-40,s.centerY,"settings-window-plus").setDepth(1),r=this.scene.add.text(s.centerX,s.centerY,"0 ч.",i).setOrigin(.5).setDepth(1);this.scene.clickButton(n,(function(){e.autoprogressTime<=0||(e.autoprogressTime-=1,e.autoprogressTime<0&&(e.autoprogressTime=0),r.setText(e.autoprogressTime+" ч."))})),this.scene.clickButton(a,(function(){e.autoprogressTime+=1,r.setText(e.autoprogressTime+" ч.")}))},e.prototype.createPartInc=function(){var e=this,t={x:this.x,y:this.y+170},i={color:"#F3FBD0",fontFamily:"Shadow",fontSize:"38px",wordWrap:{width:400,useAdvancedWrap:!0},align:"center"},s=(this.scene.add.text(t.x,t.y-40,"Выбор главы:",i).setFontSize(30).setOrigin(.5,1).setDepth(2),this.scene.add.sprite(t.x,t.y,"clear-plate").setDepth(1).getBounds()),n=this.scene.add.sprite(s.left+40,s.centerY,"settings-window-minus").setDepth(1),r=this.scene.add.sprite(s.right-40,s.centerY,"settings-window-plus").setDepth(1),o=this.scene.add.text(s.centerX,s.centerY,this.newPart+" глава",i).setOrigin(.5).setDepth(1),c=a.default.length;this.scene.clickButton(n,(function(){e.newPart<=1||(e.newPart-=1,e.newPart<1&&(e.newPart=1),o.setText(e.newPart+" глава"))})),this.scene.clickButton(r,(function(){e.newPart!==c&&(e.newPart+=1,o.setText(e.newPart+" глава"))}))},e}();t.default=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullSheepTerritories=t.basicSheepFarm=void 0;t.basicSheepFarm=[{animalCount:0,animalBreed:0,fairLevel:1,territoryCount:6},{animalCount:1,animalBreed:2,fairLevel:1,territoryCount:6},{animalCount:2,animalBreed:2,fairLevel:1,territoryCount:7},{animalCount:2,animalBreed:3,fairLevel:2,territoryCount:8},{animalCount:4,animalBreed:4,fairLevel:3,territoryCount:9},{animalCount:4,animalBreed:5,fairLevel:4,territoryCount:10},{animalCount:4,animalBreed:6,fairLevel:5,territoryCount:11},{animalCount:6,animalBreed:6,fairLevel:5,territoryCount:12},{animalCount:4,animalBreed:7,fairLevel:6,territoryCount:13},{animalCount:6,animalBreed:7,fairLevel:6,territoryCount:14},{animalCount:4,animalBreed:8,fairLevel:7,territoryCount:15},{animalCount:6,animalBreed:8,fairLevel:7,territoryCount:16},{animalCount:4,animalBreed:9,fairLevel:8,territoryCount:17},{animalCount:6,animalBreed:9,fairLevel:8,territoryCount:18},{animalCount:4,animalBreed:10,fairLevel:9,territoryCount:19},{animalCount:6,animalBreed:10,fairLevel:9,territoryCount:20},{animalCount:4,animalBreed:11,fairLevel:10,territoryCount:21},{animalCount:6,animalBreed:11,fairLevel:10,territoryCount:22},{animalCount:4,animalBreed:12,fairLevel:11,territoryCount:23},{animalCount:6,animalBreed:12,fairLevel:11,territoryCount:24}];t.fullSheepTerritories=[{_id:"local_11",block:1,position:1,type:7,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_12",block:1,position:2,type:6,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_13",block:1,position:3,type:4,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_21",block:2,position:1,type:5,volume:0,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_22",block:2,position:2,type:3,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_23",block:2,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_31",block:3,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_32",block:3,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_33",block:3,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_41",block:4,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_42",block:4,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_43",block:4,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_51",block:5,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_52",block:5,position:2,type:3,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_53",block:5,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_61",block:6,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_62",block:6,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_63",block:6,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_71",block:7,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_72",block:7,position:2,type:5,volume:0,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_73",block:7,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_81",block:8,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_82",block:8,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_83",block:8,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullChickenTerritories=t.basicChickenFarm=void 0;t.basicChickenFarm=[{animalCount:0,animalBreed:0,fairLevel:1,territoryCount:6},{animalCount:1,animalBreed:2,fairLevel:1,territoryCount:6},{animalCount:2,animalBreed:2,fairLevel:1,territoryCount:7},{animalCount:2,animalBreed:3,fairLevel:2,territoryCount:8},{animalCount:4,animalBreed:4,fairLevel:3,territoryCount:9},{animalCount:4,animalBreed:5,fairLevel:4,territoryCount:10},{animalCount:4,animalBreed:6,fairLevel:5,territoryCount:11},{animalCount:6,animalBreed:6,fairLevel:5,territoryCount:12},{animalCount:4,animalBreed:7,fairLevel:6,territoryCount:13},{animalCount:6,animalBreed:7,fairLevel:6,territoryCount:14},{animalCount:4,animalBreed:8,fairLevel:7,territoryCount:15},{animalCount:6,animalBreed:8,fairLevel:7,territoryCount:16},{animalCount:4,animalBreed:9,fairLevel:8,territoryCount:17},{animalCount:6,animalBreed:9,fairLevel:8,territoryCount:18},{animalCount:4,animalBreed:10,fairLevel:9,territoryCount:19},{animalCount:6,animalBreed:10,fairLevel:9,territoryCount:20},{animalCount:4,animalBreed:11,fairLevel:10,territoryCount:21},{animalCount:6,animalBreed:11,fairLevel:10,territoryCount:22},{animalCount:4,animalBreed:12,fairLevel:11,territoryCount:23},{animalCount:6,animalBreed:12,fairLevel:11,territoryCount:24}];t.fullChickenTerritories=[{_id:"local_11",block:1,position:1,type:7,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_12",block:1,position:2,type:6,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_13",block:1,position:3,type:4,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_21",block:2,position:1,type:5,volume:0,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_22",block:2,position:2,type:3,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_23",block:2,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_31",block:3,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_32",block:3,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_33",block:3,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_41",block:4,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_42",block:4,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_43",block:4,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_51",block:5,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_52",block:5,position:2,type:3,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_53",block:5,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_61",block:6,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_62",block:6,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_63",block:6,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_71",block:7,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_72",block:7,position:2,type:5,volume:0,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_73",block:7,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_81",block:8,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_82",block:8,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_83",block:8,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0}]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullCowTerritories=t.basicCowFarm=void 0;t.basicCowFarm=[{animalCount:0,animalBreed:0,fairLevel:1,territoryCount:6},{animalCount:1,animalBreed:2,fairLevel:1,territoryCount:8},{animalCount:2,animalBreed:2,fairLevel:1,territoryCount:9},{animalCount:2,animalBreed:3,fairLevel:2,territoryCount:9},{animalCount:4,animalBreed:4,fairLevel:3,territoryCount:9},{animalCount:4,animalBreed:5,fairLevel:4,territoryCount:10},{animalCount:4,animalBreed:6,fairLevel:5,territoryCount:11},{animalCount:6,animalBreed:6,fairLevel:5,territoryCount:12},{animalCount:4,animalBreed:7,fairLevel:6,territoryCount:13},{animalCount:6,animalBreed:7,fairLevel:6,territoryCount:14},{animalCount:4,animalBreed:8,fairLevel:7,territoryCount:15},{animalCount:6,animalBreed:8,fairLevel:7,territoryCount:16},{animalCount:4,animalBreed:9,fairLevel:8,territoryCount:17},{animalCount:6,animalBreed:9,fairLevel:8,territoryCount:18},{animalCount:4,animalBreed:10,fairLevel:9,territoryCount:19},{animalCount:6,animalBreed:10,fairLevel:9,territoryCount:20},{animalCount:4,animalBreed:11,fairLevel:10,territoryCount:21},{animalCount:6,animalBreed:11,fairLevel:10,territoryCount:22},{animalCount:4,animalBreed:12,fairLevel:11,territoryCount:23},{animalCount:6,animalBreed:12,fairLevel:11,territoryCount:24}];t.fullCowTerritories=[{_id:"local_11",block:1,position:1,type:7,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_12",block:1,position:2,type:6,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_13",block:1,position:3,type:4,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_21",block:2,position:1,type:5,volume:0,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_22",block:2,position:2,type:3,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_23",block:2,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_31",block:3,position:1,type:8,volume:0,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_32",block:3,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_33",block:3,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_41",block:4,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_42",block:4,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_43",block:4,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_51",block:5,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_52",block:5,position:2,type:3,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_53",block:5,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_61",block:6,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_62",block:6,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_63",block:6,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_71",block:7,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_72",block:7,position:2,type:5,volume:0,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_73",block:7,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_81",block:8,position:1,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_82",block:8,position:2,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0},{_id:"local_83",block:8,position:3,type:2,volume:1e3,improve:1,money:0,cooldown:0,boughtType:0}]},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(17),r=i(58),o=i(117),c=i(115),h=i(111),l=i(55),d=i(4),u=i(0),p=i(1864),f=i(1867),m=i(1870),g=i(1871),y=i(1872),v=i(11),w=function(e){function t(){var t=e.call(this,"Shop")||this;return t.heightWindow=835,t.click=d.click.bind(t),t.clickShopBtn=d.clickShopBtn.bind(t),t.clickModalBtn=d.clickModalBtn.bind(t),t.shopButton=r.shopButton.bind(t),t.chickenPrice=c.chickenPrice.bind(t),t.cowPrice=o.cowPrice.bind(t),t.sheepPrice=h.sheepPrice.bind(t),t.boostButton=r.boostButton.bind(t),t.clickBoostBtn=d.clickBoostBtn.bind(t),t.payOdnoklassniki=u.payOdnoklassniki.bind(t),t.payVK=u.payVK.bind(t),t.payYandex=u.payYandex.bind(t),t.animalPrice=l.animalPrice.bind(t),t.loadingModal=u.loadingModal.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e},t.prototype.preload=function(){this.loadingModal(),this.load.image("shop-head",v.default.shopHead),this.load.image("shop-close",v.default.shopClose),this.load.image("shop-tab-active",v.default.shopTabActive),this.load.image("shop-tab",v.default.shopTab),"Sheep"===this.state.farm&&this.load.image("icon-shop-sheep",v.default.iconShopSheep),"Chicken"===this.state.farm&&this.load.image("icon-shop-chicken",v.default.iconShopChicken),"Cow"===this.state.farm&&this.load.image("icon-shop-cow",v.default.iconShopCow),"Unicorn"===this.state.farm&&this.load.image("icon-shop-event",v.default.iconShopEvent),this.load.image("icon-shop-boosts",v.default.iconShopBoosts),this.load.image("bank-package",v.default.bankPackage),this.load.image("stock-tape",v.default.stockTape),this.load.image("shop-btn",v.default.shopBtn),"Sheep"===this.state.farm&&this.load.image("sheep-money-package",v.default.sheepMoneyPackage),"Chicken"===this.state.farm&&this.load.image("chicken-money-package",v.default.chickenMoneyPackage),"Cow"===this.state.farm&&this.load.image("cow-money-package",v.default.cowMoneyPackage),"Unicorn"===this.state.farm&&this.load.image("event-money-package",v.default.eventMoneyPackage),this.load.image("animal-shop-bg",v.default.animalShopBg),"Sheep"===this.state.farm&&this.load.image("shop-sheep-wool-collector",v.default.shopWoolCollector),"Chicken"===this.state.farm&&this.load.image("shop-chicken-egg-collector",v.default.shopEggCollector),"Cow"===this.state.farm&&this.load.image("shop-cow-milk-collector",v.default.shopMilkCollector),"Unicorn"===this.state.farm&&this.load.image("shop-unicorn-resource-collector",v.default.shopResourceCollector),this.load.image("shop-btn-disable",v.default.shopBtnDisable),this.load.image("boost-btn",v.default.boostBtn),this.load.image("boost-btn-disable",v.default.boostBtnDisable),this.load.image("boost-btn-ad",v.default.boostBtnAd),this.load.image("level-bg",v.default.levelBg),this.load.image("boost-bg",v.default.boostBg),this.load.image("lock-boost-bg",v.default.lockBoostBg),this.load.image("lock-boost",v.default.lockBoost),this.load.image("improve-collector",v.default.improveCollector),this.load.image("starterpack-bg",v.default.starterpackBg),this.load.image("starterpack-shadow",v.default.starterpackShadow),this.load.image("free-diamonds-bg",v.default.freeDiamondsBg),"Sheep"===this.state.farm&&this.load.image("sheep-herd-boost-icon",v.default.herdBoostSheepIcon),"Chicken"===this.state.farm&&this.load.image("chicken-herd-boost-icon",v.default.herdBoostChickenIcon),"Cow"===this.state.farm&&this.load.image("cow-herd-boost-icon",v.default.herdBoostCowIcon),"Unicorn"===this.state.farm&&this.load.image("unicorn-herd-boost-icon",v.default.herdBoostEventIcon),"Sheep"===this.state.farm&&this.load.image("sheep-feed-boost-icon",v.default.feedBoostSheepIcon),"Chicken"===this.state.farm&&this.load.image("chicken-feed-boost-icon",v.default.feedBoostChickenIcon),"Cow"===this.state.farm&&this.load.image("cow-feed-boost-icon",v.default.feedBoostCowIcon),"Unicorn"===this.state.farm&&this.load.image("unicorn-feed-boost-icon",v.default.feedBoostEventIcon),this.load.image("boost-counter-bg",v.default.boostCounterBg),this.load.image("starterpack-icon",v.default.starterpackIcon),this.load.image("free-diamond-plate",v.default.freeDiamondPlate)},t.prototype.create=function(){var e=this;this.scene.launch("ShopBars",this.state),this.game.scene.keys.Modal.add.sprite(this.cameras.main.centerX,this.cameras.main.centerY+70,"shop-window"),this.height=Number(this.game.config.height);var t={x:130,y:this.cameras.main.centerY-360,width:465,height:this.heightWindow,wheel:!0,top:this.height};this.scrolling=new a.default(this,t),"Unicorn"===this.state.farm&&3===this.state.modal.shopType&&this.game.scene.keys.Unicorn.scrollPoint&&(this.scrolling.scrollY=this.game.scene.keys.Unicorn.scrollPoint),this.input.on("pointerup",(function(){e.scrolling.enabled=!0,e.scrolling.wheel=!0})),1===this.state.modal.shopType?this.diamondsWindow=new p.default(this):2===this.state.modal.shopType?new m.default(this):3===this.state.modal.shopType?"Unicorn"===this.state.farm?new y.default(this):new g.default(this):4===this.state.modal.shopType&&new f.default(this)},t.prototype.update=function(){"Unicorn"===this.state.farm&&3===this.state.modal.shopType&&(this.game.scene.keys.Unicorn.scrollPoint=this.scrolling.scrollY)},t}(Phaser.Scene);t.default=w},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(1865),r=i(0),o=i(1),c=i(119),h=function(e){function t(t){var i=e.call(this,t,0,0,"pixel")||this;return i.init(),i.create(),i}return n(t,e),t.prototype.init=function(){this.scene.add.existing(this),this.scene.state.amplitude.logAmplitudeEvent("bank_page_viewed",{}),this.block="iOS"===a.os.family&&"vk"===this.scene.state.platform||"gd"===this.scene.state.platform,this.rows=2,this.block&&(this.rows=0,this.createIOSInfo()),this.setScrolling(),this.hasStarterpack=o.default.checkStarterpack(this.scene.state)},t.prototype.create=function(){this.createAllPackages(),this.hasStarterpack&&!this.block&&this.createStarterpack(),this.checkFreeDiamonds()&&!this.block&&this.createFreeDiamonds(),this.block&&this.createIOSFreeDiamonds()},t.prototype.createIOSInfo=function(){var e=this.scene.height+100,t=this.scene.cameras.main.centerX;this.scene.add.text(t-130,e,this.scene.state.lang.freeCrystal,{fontSize:"30px",fontFamily:"Shadow",color:"#FFFFFF",wordWrap:{width:450},align:"center"}).setOrigin(.5,0)},t.prototype.createAllPackages=function(){for(var e=o.default.checkSale(this.scene.state,"PACKAGE_PRICE")?2:o.default.checkSale(this.scene.state,"DIAMOND_COUNT")?4:0,t=e;t<this.rows+e;t++){var i=270*(t-e)+20;this.hasStarterpack&&(i+=208),this.checkFreeDiamonds()&&this.hasStarterpack?i+=100:this.checkFreeDiamonds()&&!this.hasStarterpack&&(i+=110);var s=this.scene.state.packages[2*t],n=this.scene.state.packages[2*t+1];this.createPack(s,{x:0,y:i}),n&&this.createPack(n,{x:240,y:i})}},t.prototype.setScrolling=function(){var e=270*this.rows+40;this.scene.scrolling.bottom=this.scene.height-this.scene.heightWindow+e},t.prototype.createPack=function(e,t){var i=this,s=o.default.checkSale(this.scene.state,"PACKAGE_PRICE")?e.id-4:o.default.checkSale(this.scene.state,"DIAMOND_COUNT")?e.id-8:e.id,n=this.scene.state.packages.find((function(e){return e.id===s})),a=this.scene.add.sprite(t.x,t.y+this.scene.height,"bank-package").setOrigin(0);if(this.scene.click(a,(function(){i.packHandler(e)})),!o.default.checkSale(this.scene.state,"DIAMOND_COUNT")||o.default.checkSale(this.scene.state,"PACKAGE_PRICE"))this.scene.add.text(t.x+110,t.y+145+this.scene.height,String(e.diamonds+e.bonus),{font:"40px Shadow",color:"#FFFFFF"}).setOrigin(.5);else{var r=this.scene.add.text(t.x+110,t.y+145+this.scene.height,String(n.diamonds+n.bonus),{font:"35px Shadow",color:"#ddd"}).setOrigin(0,.5).setAlpha(.9),c=this.scene.add.text(t.x+110,t.y+145+this.scene.height,String(e.diamonds+e.bonus),{font:"40px Shadow",color:"#FFFFFF"}).setOrigin(0,.5),h=(r.displayWidth+c.displayWidth+5)/2;r.setX(t.x+110-h),c.setX(r.getBounds().right+5),this.scene.add.tileSprite(r.x+r.displayWidth/2,r.y,r.displayWidth+7,5,"white-pixel").setTint(16730668).setAngle(5).setOrigin(.5)}if(o.default.checkSale(this.scene.state,"PACKAGE_PRICE")){var l=String(n.price),d=this.getPlatformPrice(e),u=(m=this.scene.add.sprite(t.x+110,t.y+223+this.scene.height,"shop-btn"),this.scene.add.text(0,m.y-5,l,{fontSize:"28px",fontFamily:o.default.checkAndroidEngPlatform(this.scene.state)?"Bip":"Shadow",color:"#eee"}).setOrigin(0,.5));r=this.scene.add.text(0,m.y-5,d,{fontSize:"28px",fontFamily:o.default.checkAndroidEngPlatform(this.scene.state)?"Bip":"Shadow",color:"#FFFFFF"}).setOrigin(0,.5),h=(u.displayWidth+r.displayWidth+5)/2;u.setX(m.x-h),r.setX(u.getBounds().right+5);var p=this.scene.add.tileSprite(u.x+u.displayWidth/2,u.y,u.displayWidth+7,4,"white-pixel").setTint(16730668).setAngle(5).setOrigin(.5);this.scene.clickModalBtn({btn:m,title:u,text1:r,img1:p},(function(){i.packHandler(e)}))}else{var f=this.getPlatformPrice(e),m=this.scene.shopButton(t.x+110,t.y+223+this.scene.height,f);this.scene.clickShopBtn(m,(function(){i.packHandler(e)}))}if(e.stock>0){var g=t.x,y=t.y+this.scene.height;this.scene.add.sprite(g,y,"stock-tape").setOrigin(0,0),this.scene.add.text(g+162,y+42,"+"+e.stock+"%",{font:"34px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5).setRotation(.55)}if(e.diamonds+e.bonus>=750&&this.hasStarterpack){g=t.x+200,y=t.y+this.scene.height+200;var v=this.scene.add.image(g,y,"stock-icon");v.setScale(.45).setDepth(3),this.scene.tweens.add({targets:v,delay:2e3,props:{rotation:{duration:600,yoyo:!1,ease:"Power2",value:2*Math.PI},scale:{value:.5,ease:"Power1",duration:250,yoyo:!0}},loop:-1})}if(e.bonus>0){g=t.x+110,y=t.y+180+this.scene.height,f=this.scene.state.lang.benefit+" +"+(o.default.checkSale(this.scene.state,"DIAMOND_COUNT")&&!o.default.checkSale(this.scene.state,"PACKAGE_PRICE")?e.bonus:n.bonus);this.scene.add.text(g,y,f,{font:"20px Shadow",color:"#FFFFFF"}).setOrigin(.5)}},t.prototype.getPlatformPrice=function(e){var t=this.scene.state.lang,i=t.voices,s=t.ruble,n=t.yan,a=t.ok,r=this.scene.state.platform,c="vk"===r?e.voices:e.price,h=s;return o.default.checkAndroidEngPlatform(this.scene.state)&&(c=e.dollars,h="$"),"vk"===r?h=i:"ok"===r?h=a:"ya"===r&&(h=n),c+" "+h},t.prototype.createFreeDiamonds=function(){var e=this.scene.height+37+40;this.hasStarterpack&&!this.block?e+=198:this.block&&(e+=320),this.scene.add.sprite(this.scene.cameras.main.centerX-130,e,"free-diamonds-bg");var t=this.scene.add.text(this.scene.cameras.main.centerX-300,e,"+1",{font:"34px Shadow",color:"#FFFFFF"}).setOrigin(.5);this.scene.add.sprite(t.getBounds().right+5,e,"diamond").setScale(.23).setOrigin(0,.5),this.createFreeBtn(this.scene.state.user.takenFreeDiamonds);var i=this.scene.state.lang.forNextAd+" "+r.shortTime(this.scene.state.user.takeFreeDiamondTime,this.scene.state.lang);this.freeDiamondTimer=this.scene.add.text(this.scene.cameras.main.centerX-30,e,i,{fontSize:"20px",fontFamily:"Shadow",color:"#FFFFFF",wordWrap:{width:220},align:"center"}).setVisible(!1).setOrigin(.5),this.adButton=this.scene.state.user.takenFreeDiamonds},t.prototype.createIOSFreeDiamonds=function(){var e={fontSize:"20px",fontFamily:"Shadow",color:"#FFFFFF",wordWrap:{width:220},align:"center"},t=this.scene.height+402;this.scene.add.sprite(this.scene.cameras.main.centerX-130,t-70,"free-diamond-plate");var i=this.scene.add.text(this.scene.cameras.main.centerX-290,t,"+1",{font:"50px Shadow",color:"#FFFFFF"}).setOrigin(.5);this.scene.add.sprite(i.getBounds().right+5,t,"diamond").setScale(.23).setOrigin(0,.5),this.createFreeBtn(this.scene.state.user.takenFreeDiamonds);var s=r.shortTime(this.scene.state.user.takeFreeDiamondTime,this.scene.state.lang);this.freeDiamondText=this.scene.add.text(this.scene.cameras.main.centerX-50,t-20,this.scene.state.lang.forNextAd,e).setVisible(!1).setOrigin(.5),this.freeDiamondTimer=this.scene.add.text(this.scene.cameras.main.centerX-50,this.freeDiamondText.getBounds().bottom,s,e).setVisible(!1).setOrigin(.5,0).setFontSize(30).setColor("#ffd800"),this.adButton=this.scene.state.user.takenFreeDiamonds},t.prototype.createStarterpack=function(){this.scene.scrolling.bottom+=300;var e=this.scene.height+120,t=this.scene.cameras.main.centerX,i={fontFamily:"Shadow",fontSize:"26px",color:"#FBCB64",shadow:{offsetX:3,offsetY:3,color:"rgba(0, 0, 0, 0.3)",blur:2,fill:!0},wordWrap:{width:290},align:"center"},s=(this.scene.add.sprite(t-130,e,"starterpack-bg").setDisplaySize(472,210),this.scene.add.sprite(t-265,e+70,"starterpack-shadow")),n=this.scene.add.sprite(t-270,e,"starterpack-icon"),a=this.scene.add.text(t-90,e-60,this.scene.state.lang.buyFrom,i).setColor("#FFFFFF").setOrigin(.5,.5),r=this.scene.add.text(a.getBounds().right+10,a.y,"750",i).setOrigin(0,.5),o=(this.scene.add.sprite(r.getBounds().right+5,a.y,"diamond").setScale(.1).setOrigin(0,.5),this.scene.add.text(t-50,a.getBounds().bottom+5,this.scene.state.lang.getGift,i).setColor("#FFFFFF").setOrigin(.5,0)),c=this.scene.add.text(t-90,o.getBounds().bottom+5,this.scene.state.lang.more,i).setColor("#FFFFFF").setOrigin(.5,0),h=this.scene.add.text(c.getBounds().right+5,o.getBounds().bottom+5,"+750",i).setOrigin(0,0);this.scene.add.sprite(h.getBounds().right+5,h.y,"diamond").setScale(.1).setOrigin(0);this.scene.add.text(t-50,h.getBounds().bottom+15,this.scene.state.lang.noInterstitial,i).setOrigin(.5,0).setFontSize(20),this.scene.tweens.add({targets:n,delay:2e3,props:{rotation:{duration:1200,yoyo:!1,ease:"Power2",value:2*Math.PI},y:{value:"-=40",ease:"Power1",duration:250,repeat:2,yoyo:!0}},loop:-1,loopDelay:1e3}),this.scene.tweens.add({targets:s,delay:2e3,duration:250,repeat:2,yoyo:!0,scale:.3,ease:"Power1",loop:-1,loopDelay:1e3})},t.prototype.packHandler=function(e){this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.closeWindow(),"ok"===this.scene.state.platform?this.scene.payOdnoklassniki(e.id):"vk"===this.scene.state.platform?this.scene.payVK(e.id):"ya"===this.scene.state.platform?this.scene.payYandex(e.id):"android"===this.scene.state.platform?r.payAndroid(e.id):r.payRobokassa(e.id,this.scene.state)},t.prototype.freeDiamondsBtnHandler=function(){if(this.scene.state.user.takenFreeDiamonds)this.scene.game.scene.keys[this.scene.state.farm].ads.watchAd(6);else{var e=this.scene.game.scene.keys[this.scene.state.farm];this.scene.state.user.takenFreeDiamonds=!0,this.scene.state.user.diamonds+=1,e.autosave(),e.achievement.tryId(3),this.scene.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"bank_page",count:1}),this.scene.state.readyAd?(this.pickUpAnim(),this.createFreeBtn(!0)):(this.closeWindow(),this.scene.scene.isActive("Profile")?this.scene.game.scene.keys.Profile.getCurrency({x:this.scene.game.scene.keys.Profile.cameras.main.centerX,y:this.scene.game.scene.keys[this.scene.state.farm+"Bars"].cameras.main.centerY},1,"diamond"):this.scene.game.scene.keys[this.scene.state.farm+"Bars"].getCurrency({x:this.scene.game.scene.keys[this.scene.state.farm+"Bars"].cameras.main.centerX,y:this.scene.game.scene.keys[this.scene.state.farm+"Bars"].cameras.main.centerY},1,"diamond"))}},t.prototype.createFreeBtn=function(e){var t,i=this;null===(t=this.freeDiamondBtn)||void 0===t||t.destroy();var s=this.scene.height+40+40;this.hasStarterpack&&!this.block?s+=198:this.block&&(s=this.scene.height+410);var n,a,r={text1:this.block?this.scene.state.lang.pickUp:this.getPlatformPrice({voices:0,price:0,dollars:0})};if(e&&(r.text1=this.scene.state.lang.pickUp,r.img={texture:"ad-icon",scale:.6}),this.adButton=e,this.freeDiamondBtn=new c.default(this.scene,{x:this.scene.cameras.main.centerX-30,y:s},(function(){null==n||n.destroy(),null==a||a.destroy(),i.freeDiamondsBtnHandler()}),r),!e){var h=this.freeDiamondBtn.getBounds(),l={x:h.left+5,y:h.top+5};n=this.scene.add.sprite(l.x,l.y,"notification-bg"),a=this.scene.add.text(l.x,l.y,"!",{fontFamily:"Bip",fontSize:"28px",color:"#ffffff",fontStyle:"Bold"}).setOrigin(.5)}o.default.checkAndroidEngPlatform(this.scene.state)&&this.freeDiamondBtn.setFontFamily("Bip")},t.prototype.checkFreeDiamonds=function(){return(this.scene.state.userSheep.tutorial>=100||this.scene.state.progress.chicken.part>=1||this.scene.state.progress.cow.part>=1)&&(!this.scene.state.user.takenFreeDiamonds||this.scene.state.readyAd)},t.prototype.closeWindow=function(){this.scene.scene.stop(),this.scene.scene.stop("ShopBars"),this.scene.scene.stop("Modal")},t.prototype.preUpdate=function(t,i){var s,n,a,o,c,h;if(e.prototype.preUpdate.call(this,t,i),(null===(s=this.freeDiamondTimer)||void 0===s?void 0:s.active)&&(null===(n=this.freeDiamondBtn)||void 0===n?void 0:n.active))if(this.scene.state.user.takenFreeDiamonds&&this.scene.state.readyAd)if(this.scene.state.user.takeFreeDiamondTime>0&&this.freeDiamondTimer.visible)if(this.block){var l=r.shortTime(this.scene.state.user.takeFreeDiamondTime,this.scene.state.lang),d=this.scene.state.lang.forNextAd;l!==this.freeDiamondTimer.text&&this.freeDiamondTimer.setText(l),d!==this.freeDiamondText.text&&this.freeDiamondText.setText(d)}else{var u=this.scene.state.lang.forNextAd+" "+r.shortTime(this.scene.state.user.takeFreeDiamondTime,this.scene.state.lang);u!==this.freeDiamondTimer.text&&this.freeDiamondTimer.setText(u)}else this.scene.state.user.takeFreeDiamondTime>0&&!this.freeDiamondTimer.visible?(this.freeDiamondBtn.setVisible(!1),this.freeDiamondTimer.setVisible(!0),null===(a=this.freeDiamondText)||void 0===a||a.setVisible(!0)):this.scene.state.user.takeFreeDiamondTime<=0&&!this.freeDiamondBtn.visible&&(this.freeDiamondBtn.setVisible(!0),this.freeDiamondTimer.setVisible(!1),null===(o=this.freeDiamondText)||void 0===o||o.setVisible(!1));else if(!this.scene.state.user.takenFreeDiamonds&&this.scene.state.readyAd)this.adButton?(this.createFreeBtn(!0),this.freeDiamondBtn.setVisible(!0)):this.freeDiamondBtn.visible||this.freeDiamondBtn.setVisible(!0),this.freeDiamondTimer.visible&&this.freeDiamondTimer.setVisible(!1);else if(this.scene.state.user.takenFreeDiamonds&&!this.scene.state.readyAd){this.freeDiamondBtn.visible&&(this.freeDiamondBtn.setVisible(!1),this.freeDiamondTimer.setVisible(!0),null===(c=this.freeDiamondText)||void 0===c||c.setVisible(!0));l=r.shortTime(this.scene.state.timeToNewDay,this.scene.state.lang),d=this.scene.state.lang.stillForBoost;l!==this.freeDiamondTimer.text&&this.freeDiamondTimer.setText(l),this.freeDiamondText&&d!==(null===(h=this.freeDiamondText)||void 0===h?void 0:h.text)&&this.freeDiamondText.setText(d)}},t.prototype.pickUpAnim=function(){if(this.freeDiamondBtn){var e=this.scene.add.sprite(this.freeDiamondBtn.x,this.freeDiamondBtn.y,"diamond").setScale(.15).setDepth(10);this.scene.tweens.add({targets:e,props:{rotation:{duration:400,yoyo:!1,ease:"Power2",value:2*Math.PI},scale:{value:.2,ease:"Power1",duration:150,yoyo:!0}},onComplete:function(){e.destroy()}})}},t}(Phaser.GameObjects.Sprite);t.default=h},function(e,t,i){(function(e,s){var n;(function(){"use strict";var a={function:!0,object:!0},r=a[typeof window]&&window||this,o=a[typeof t]&&t,c=a[typeof e]&&e&&!e.nodeType&&e,h=o&&c&&"object"==typeof s&&s;!h||h.global!==h&&h.window!==h&&h.self!==h||(r=h);var l=Math.pow(2,53)-1,d=/\bOpera/,u=Object.prototype,p=u.hasOwnProperty,f=u.toString;function m(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function g(e){return e=x(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:m(e)}function y(e,t){for(var i in e)p.call(e,i)&&t(e[i],i,e)}function v(e){return null==e?m(e):f.call(e).slice(8,-1)}function w(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function b(e,t){var i=null;return function(e,t){var i=-1,s=e?e.length:0;if("number"==typeof s&&s>-1&&s<=l)for(;++i<s;)t(e[i],i,e);else y(e,t)}(e,(function(s,n){i=t(i,s,n,e)})),i}function x(e){return String(e).replace(/^ +| +$/g,"")}var k=function e(t){var i=r,s=t&&"object"==typeof t&&"String"!=v(t);s&&(i=t,t=null);var n=i.navigator||{},a=n.userAgent||"";t||(t=a);var o,c,h,l,u,p=s?!!n.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(f.toString()),m=s?"Object":"ScriptBridgingProxyObject",k=s?"Object":"Environment",T=s&&i.java?"JavaPackage":v(i.java),_=s?"Object":"RuntimeObject",S=/\bJava/.test(T)&&i.java,C=S&&v(i.environment)==k,P=S?"a":"α",B=S?"b":"β",A=i.document||{},E=i.operamini||i.opera,M=d.test(M=s&&E?E["[[Class]]"]:v(E))?M:E=null,O=t,I=[],R=null,D=t==a,N=D&&E&&"function"==typeof E.version&&E.version(),F=b([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,i){return e||RegExp("\\b"+(i.pattern||w(i))+"\\b","i").exec(t)&&(i.label||i)})),L=function(e){return b(e,(function(e,i){return e||RegExp("\\b"+(i.pattern||w(i))+"\\b","i").exec(t)&&(i.label||i)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),Y=W([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),U=function(e){return b(e,(function(e,i,s){return e||(i[Y]||i[/^[a-z]+(?: +[a-z]+\b)*/i.exec(Y)]||RegExp("\\b"+w(s)+"(?:\\b|\\w*\\d)","i").exec(t))&&s}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),V=function(e){return b(e,(function(e,i){var s=i.pattern||w(i);return!e&&(e=RegExp("\\b"+s+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,i){var s={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&i&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(s=s[/[\d.]+$/.exec(e)])&&(e="Windows "+s),e=String(e),t&&i&&(e=e.replace(RegExp(t,"i"),i)),e=g(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,s,i.label||i)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function W(e){return b(e,(function(e,i){var s=i.pattern||w(i);return!e&&(e=RegExp("\\b"+s+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+s+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+s+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(i.label&&!RegExp(s,"i").test(i.label)?i.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),i=i.label||i,e=g(e[0].replace(RegExp(s,"i"),i).replace(RegExp("; *(?:"+i+"[_-])?","i")," ").replace(RegExp("("+i+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function z(e){return b(e,(function(e,i){return e||(RegExp(i+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(F&&(F=[F]),/\bAndroid\b/.test(V)&&!Y&&(o=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(Y=x(o[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),U&&!Y?Y=W([U]):U&&Y&&(Y=Y.replace(RegExp("^("+w(U)+")[-_.\\s]","i"),U+" ").replace(RegExp("^("+w(U)+")[-_.]?(\\w)","i"),U+" $2")),(o=/\bGoogle TV\b/.exec(Y))&&(Y=o[0]),/\bSimulator\b/i.test(t)&&(Y=(Y?Y+" ":"")+"Simulator"),"Opera Mini"==L&&/\bOPiOS\b/.test(t)&&I.push("running in Turbo/Uncompressed mode"),"IE"==L&&/\blike iPhone OS\b/.test(t)?(U=(o=e(t.replace(/like iPhone OS/,""))).manufacturer,Y=o.product):/^iP/.test(Y)?(L||(L="Safari"),V="iOS"+((o=/ OS ([\d_]+)/i.exec(t))?" "+o[1].replace(/_/g,"."):"")):"Konqueror"==L&&/^Linux\b/i.test(V)?V="Kubuntu":U&&"Google"!=U&&(/Chrome/.test(L)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(Y))||/\bAndroid\b/.test(V)&&/^Chrome/.test(L)&&/\bVersion\//i.test(t)?(L="Android Browser",V=/\bAndroid\b/.test(V)?V:"Android"):"Silk"==L?(/\bMobi/i.test(t)||(V="Android",I.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&I.unshift("accelerated")):"UC Browser"==L&&/\bUCWEB\b/.test(t)?I.push("speed mode"):"PaleMoon"==L&&(o=/\bFirefox\/([\d.]+)\b/.exec(t))?I.push("identifying as Firefox "+o[1]):"Firefox"==L&&(o=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(V||(V="Firefox OS"),Y||(Y=o[1])):!L||(o=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(L))?(L&&!Y&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(o+"/")+8))&&(L=null),(o=Y||U||V)&&(Y||U||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(V))&&(L=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(V)?V:o)+" Browser")):"Electron"==L&&(o=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&I.push("Chromium "+o),N||(N=z(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",w(L),"(?:Firefox|Minefield|NetFront)"])),(o=("iCab"==F&&parseFloat(N)>3?"WebKit":/\bOpera\b/.test(L)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(F)&&"WebKit"||!F&&/\bMSIE\b/i.test(t)&&("Mac OS"==V?"Tasman":"Trident")||"WebKit"==F&&/\bPlayStation\b(?! Vita\b)/i.test(L)&&"NetFront")&&(F=[o]),"IE"==L&&(o=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(L+=" Mobile",V="Windows Phone "+(/\+$/.test(o)?o:o+".x"),I.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(L="IE Mobile",V="Windows Phone 8.x",I.unshift("desktop mode"),N||(N=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=L&&"Trident"==F&&(o=/\brv:([\d.]+)/.exec(t))&&(L&&I.push("identifying as "+L+(N?" "+N:"")),L="IE",N=o[1]),D){if(l="global",u=null!=(h=i)?typeof h[l]:"number",/^(?:boolean|number|string|undefined)$/.test(u)||"object"==u&&!h[l])v(o=i.runtime)==m?(L="Adobe AIR",V=o.flash.system.Capabilities.os):v(o=i.phantom)==_?(L="PhantomJS",N=(o=o.version||null)&&o.major+"."+o.minor+"."+o.patch):"number"==typeof A.documentMode&&(o=/\bTrident\/(\d+)/i.exec(t))?(N=[N,A.documentMode],(o=+o[1]+4)!=N[1]&&(I.push("IE "+N[1]+" mode"),F&&(F[1]=""),N[1]=o),N="IE"==L?String(N[1].toFixed(1)):N[0]):"number"==typeof A.documentMode&&/^(?:Chrome|Firefox)\b/.test(L)&&(I.push("masking as "+L+" "+N),L="IE",N="11.0",F=["Trident"],V="Windows");else if(S&&(O=(o=S.lang.System).getProperty("os.arch"),V=V||o.getProperty("os.name")+" "+o.getProperty("os.version")),C){try{N=i.require("ringo/engine").version.join("."),L="RingoJS"}catch(e){(o=i.system)&&o.global.system==i.system&&(L="Narwhal",V||(V=o[0].os||null))}L||(L="Rhino")}else"object"==typeof i.process&&!i.process.browser&&(o=i.process)&&("object"==typeof o.versions&&("string"==typeof o.versions.electron?(I.push("Node "+o.versions.node),L="Electron",N=o.versions.electron):"string"==typeof o.versions.nw&&(I.push("Chromium "+N,"Node "+o.versions.node),L="NW.js",N=o.versions.nw)),L||(L="Node.js",O=o.arch,V=o.platform,N=(N=/[\d.]+/.exec(o.version))?N[0]:null));V=V&&g(V)}if(N&&(o=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(N)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(D&&n.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(R=/b/i.test(o)?"beta":"alpha",N=N.replace(RegExp(o+"\\+?$"),"")+("beta"==R?B:P)+(/\d+\+?/.exec(o)||"")),"Fennec"==L||"Firefox"==L&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(V))L="Firefox Mobile";else if("Maxthon"==L&&N)N=N.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(Y))"Xbox 360"==Y&&(V=null),"Xbox 360"==Y&&/\bIEMobile\b/.test(t)&&I.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(L)&&(!L||Y||/Browser|Mobi/.test(L))||"Windows CE"!=V&&!/Mobi/i.test(t))if("IE"==L&&D)try{null===i.external&&I.unshift("platform preview")}catch(e){I.unshift("embedded")}else(/\bBlackBerry\b/.test(Y)||/\bBB10\b/.test(t))&&(o=(RegExp(Y.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||N)?(V=((o=[o,/BB10/.test(t)])[1]?(Y=null,U="BlackBerry"):"Device Software")+" "+o[0],N=null):this!=y&&"Wii"!=Y&&(D&&E||/Opera/.test(L)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==L&&/\bOS X (?:\d+\.){2,}/.test(V)||"IE"==L&&(V&&!/^Win/.test(V)&&N>5.5||/\bWindows XP\b/.test(V)&&N>8||8==N&&!/\bTrident\b/.test(t)))&&!d.test(o=e.call(y,t.replace(d,"")+";"))&&o.name&&(o="ing as "+o.name+((o=o.version)?" "+o:""),d.test(L)?(/\bIE\b/.test(o)&&"Mac OS"==V&&(V=null),o="identify"+o):(o="mask"+o,L=M?g(M.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(o)&&(V=null),D||(N=null)),F=["Presto"],I.push(o));else L+=" Mobile";(o=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(o=[parseFloat(o.replace(/\.(\d)$/,".0$1")),o],"Safari"==L&&"+"==o[1].slice(-1)?(L="WebKit Nightly",R="alpha",N=o[1].slice(0,-1)):N!=o[1]&&N!=(o[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(N=null),o[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==o[0]&&537.36==o[2]&&parseFloat(o[1])>=28&&"WebKit"==F&&(F=["Blink"]),D&&(p||o[1])?(F&&(F[1]="like Chrome"),o=o[1]||((o=o[0])<530?1:o<532?2:o<532.05?3:o<533?4:o<534.03?5:o<534.07?6:o<534.1?7:o<534.13?8:o<534.16?9:o<534.24?10:o<534.3?11:o<535.01?12:o<535.02?"13+":o<535.07?15:o<535.11?16:o<535.19?17:o<536.05?18:o<536.1?19:o<537.01?20:o<537.11?"21+":o<537.13?23:o<537.18?24:o<537.24?25:o<537.36?26:"Blink"!=F?"27":"28")):(F&&(F[1]="like Safari"),o=(o=o[0])<400?1:o<500?2:o<526?3:o<533?4:o<534?"4+":o<535?5:o<537?6:o<538?7:o<601?8:o<602?9:o<604?10:o<606?11:o<608?12:"12"),F&&(F[1]+=" "+(o+="number"==typeof o?".x":/[.+]/.test(o)?"":"+")),"Safari"==L&&(!N||parseInt(N)>45)?N=o:"Chrome"==L&&/\bHeadlessChrome/i.test(t)&&I.unshift("headless")),"Opera"==L&&(o=/\bzbov|zvav$/.exec(V))?(L+=" ",I.unshift("desktop mode"),"zvav"==o?(L+="Mini",N=null):L+="Mobile",V=V.replace(RegExp(" *"+o+"$"),"")):"Safari"==L&&/\bChrome\b/.exec(F&&F[1])?(I.unshift("desktop mode"),L="Chrome Mobile",N=null,/\bOS X\b/.test(V)?(U="Apple",V="iOS 4.3+"):V=null):/\bSRWare Iron\b/.test(L)&&!N&&(N=z("Chrome")),N&&0==N.indexOf(o=/[\d.]+$/.exec(V))&&t.indexOf("/"+o+"-")>-1&&(V=x(V.replace(o,""))),V&&-1!=V.indexOf(L)&&!RegExp(L+" OS").test(V)&&(V=V.replace(RegExp(" *"+w(L)+" *"),"")),F&&!/\b(?:Avant|Nook)\b/.test(L)&&(/Browser|Lunascape|Maxthon/.test(L)||"Safari"!=L&&/^iOS/.test(V)&&/\bSafari\b/.test(F[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(L)&&F[1])&&(o=F[F.length-1])&&I.push(o),I.length&&(I=["("+I.join("; ")+")"]),U&&Y&&Y.indexOf(U)<0&&I.push("on "+U),Y&&I.push((/^on /.test(I[I.length-1])?"":"on ")+Y),V&&(o=/ ([\d.+]+)$/.exec(V),c=o&&"/"==V.charAt(V.length-o[0].length-1),V={architecture:32,family:o&&!c?V.replace(o[0],""):V,version:o?o[1]:null,toString:function(){var e=this.version;return this.family+(e&&!c?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(o=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(O))&&!/\bi686\b/i.test(O)?(V&&(V.architecture=64,V.family=V.family.replace(RegExp(" *"+o),"")),L&&(/\bWOW64\b/i.test(t)||D&&/\w(?:86|32)$/.test(n.cpuClass||n.platform)&&!/\bWin64; x64\b/i.test(t))&&I.unshift("32-bit")):V&&/^OS X/.test(V.family)&&"Chrome"==L&&parseFloat(N)>=39&&(V.architecture=64),t||(t=null);var H={};return H.description=t,H.layout=F&&F[0],H.manufacturer=U,H.name=L,H.prerelease=R,H.product=Y,H.ua=t,H.version=L&&N,H.os=V||{architecture:null,family:null,version:null,toString:function(){return"null"}},H.parse=e,H.toString=function(){return this.description||""},H.version&&I.unshift(N),H.name&&I.unshift(L),V&&L&&(V!=String(V).split(" ")[0]||V!=L.split(" ")[0]&&!Y)&&I.push(Y?"("+V+")":"on "+V),I.length&&(H.description=I.join(" ")),H}();r.platform=k,void 0===(n=function(){return k}.call(t,i,t,e))||(e.exports=n)}).call(this)}).call(this,i(1866)(e),i(57))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=i(21),o=i(1868),c=i(1),h=i(1869),l=function(e){function t(t){var i=e.call(this,t,0,0,"pixel")||this;return i.herdBoostBtnUpdated=!1,i.scene=t,i.init(),i.create(),i}return n(t,e),t.prototype.init=function(){this.scene.add.existing(this),this.scene.scrolling.bottom=this.scene.height-this.scene.heightWindow,this.farm=this.scene.state.farm,0!==this.scene.state["user"+this.farm].collector?this.collectorIsOn=!0:this.collectorIsOn=!1,this.maxWidth=408},t.prototype.create=function(){switch(this.farm){case"Sheep":case"Chicken":case"Cow":c.default.checkTestB(this.scene.state)?this.collectorBoostTestB():this.collectorBoost(),this.checkHerdBoost()?this.herdBoost():this.createLockedHerdBoost(),this.checkFeedBoost()?this.feedBoost():this.createLockedFeedBoost();break;case"Unicorn":this.collectorBoost(),this.checkEventHerdBoost()?this.herdBoost():this.createLockedHerdBoost(),this.checkEventFeedBoost()?this.feedBoost():this.createLockedFeedBoost()}this.createTutorialArrow()},t.prototype.preUpdate=function(t,i){e.prototype.preUpdate.call(this,t,i),this.collectorIsOn&&this.updateCollectorTime(),("Unicorn"!==this.scene.state.farm&&this.checkHerdBoost()||"Unicorn"===this.scene.state.farm&&this.checkEventHerdBoost())&&this.updateHerdBoostBtn(),("Unicorn"!==this.scene.state.farm&&this.checkFeedBoost()||"Unicorn"===this.scene.state.farm&&this.checkEventFeedBoost())&&this.updateFeedBoostBtn()},t.prototype.collectorBoost=function(){var e,t=this;"Sheep"===this.scene.state.farm&&(e="wool"),"Chicken"===this.scene.state.farm&&(e="egg"),"Cow"===this.scene.state.farm&&(e="milk"),"Unicorn"===this.scene.state.farm&&(e="resource"),this.scene.add.sprite(0,20+this.scene.height,"boost-bg").setOrigin(0,0),this.scene.add.text(225,40+this.scene.height,this.scene.state.lang[e+"Collector"],{font:"25px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5).setStroke("#8B4A84",2);var i=this.scene.add.sprite(40,65+this.scene.height,"shop-"+this.scene.state.farm.toLowerCase()+"-"+e+"-collector").setOrigin(0,0),s=this.scene.add.sprite(10,55+this.scene.height,"level-bg").setOrigin(0,0),n=String(this.scene.state["user"+this.scene.state.farm].collectorLevel);this.scene.state["user"+this.scene.state.farm].collectorLevel===this.scene.state[this.scene.state.farm.toLowerCase()+"CollectorSettings"].length&&(n="Max");var r=this.scene.add.text(52,90+this.scene.height,n,{font:"26px Bip",color:"#F8DF86"}).setOrigin(.5,.5).setStroke("#B66B06",2),o=this.scene.add.text(52,110+this.scene.height,this.scene.state.lang.shortLevel,{font:"18px Bip",color:"#F8DF86"}).setOrigin(.5,.5).setStroke("#B66B06",2);if(this.scene.state["user"+this.scene.state.farm].collector>0){var c=a.shortTime(this.scene.state["user"+this.scene.state.farm].collector,this.scene.state.lang);this.collectorTimer=this.scene.add.text(120,235+this.scene.height,this.scene.state.lang.still+" "+c,{font:"20px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5)}if(this.createFreeCollectorBtns(),this.createHoursCollectorBtn(4),this.createHoursCollectorBtn(12),this.checkImproveCollector()){var l={x:120,y:285+this.scene.height},d={left:this.scene.state.lang.improve};this.improve=new h.default(this.scene,l,(function(){t.scene.game.scene.keys[t.scene.state.farm].showImproveCollector()}),d),0===this.scene.state["user"+this.scene.state.farm].collector&&(this.improve.y-=15)}else this.scene.state["user"+this.scene.state.farm].collector>0?(this.collectorTimer.y+=45,i.y+=25,s.y+=25,r.y+=25,o.y+=25):(i.y+=35,s.y+=35,r.y+=35,o.y+=35)},t.prototype.collectorBoostTestB=function(){var e,t=this;"Sheep"===this.scene.state.farm?e="wool":"Chicken"===this.scene.state.farm?e="egg":"Cow"===this.scene.state.farm?e="milk":"Unicorn"===this.scene.state.farm&&(e="resource"),this.scene.add.sprite(0,20+this.scene.height,"boost-bg").setOrigin(0);var i=this.scene.state.lang[e+"Collector"];this.scene.add.text(225,40+this.scene.height,i,{fontFamily:"Shadow",fontSize:"25px",color:"#ffffff",stroke:"#8B4A84",strokeThickness:2}).setOrigin(.5);var s="shop-"+this.scene.state.farm.toLowerCase()+"-"+e+"-collector",n=this.scene.add.sprite(40,65+this.scene.height,s).setOrigin(0);if(this.scene.state["user"+this.scene.state.farm].collector>0){var r=a.shortTime(this.scene.state["user"+this.scene.state.farm].collector,this.scene.state.lang),o=this.scene.state.lang.still+" "+r;this.collectorTimer=this.scene.add.text(120,235+this.scene.height,o,{fontFamily:"Shadow",fontSize:"20px",color:"#FFFFFF"}).setOrigin(.5)}if(this.createFreeCollectorBtnsTestB(),this.createHoursCollectorBtn(4),this.createHoursCollectorBtn(12),this.checkImproveCollectorTestB()){var c={x:120,y:285+this.scene.height},l={left:this.scene.state.lang.improve};this.improve=new h.default(this.scene,c,(function(){t.scene.game.scene.keys[t.scene.state.farm].showImproveCollector()}),l),0===this.scene.state["user"+this.scene.state.farm].collector&&(this.improve.y-=15)}else if("Sheep"===this.scene.state.farm&&this.scene.state.userSheep.tutorial>100){var d=this.scene.add.sprite(10,55+this.scene.height,"level-bg").setOrigin(0),u=this.scene.add.text(52,95+this.scene.height,"Max",{font:"26px Bip",color:"#F8DF86"}).setOrigin(.5).setStroke("#B66B06",2);this.scene.state["user"+this.scene.state.farm].collector>0?(this.collectorTimer.y+=45,n.y+=25,d.y+=25,u.y+=25):(n.y+=35,d.y+=35,u.y+=35)}},t.prototype.createHoursCollectorBtn=function(e){var t=this,i=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"]["unlockCollector"+e],s=this.scene.state[this.scene.state.farm.toLowerCase()+"Settings"]["collectorPrice"+e],n="Unicorn"===this.scene.state.farm?this.scene.state.userUnicorn.points:this.scene.state["user"+this.scene.state.farm].part,a={x:350,y:4===e?220+this.scene.height:280+this.scene.height},r={left:String(e),leftLitleText:this.scene.state.lang.shortHours,right:String(s),sale:null,type:"diamond"};if(i<=n){var h="Unicorn"===this.scene.state.farm?0:this.scene.state.user.boosts[this.scene.state.farm.toLowerCase()]["collector"+e];c.default.checkSale(this.scene.state,this.farm.toUpperCase()+"_COLLECTOR_PRICE")&&(r.sale=String(Math.floor(s/2))),h>0&&(r.type="free-diamond",r.right=this.scene.state.lang.take,r.sale=null);var l=new o.default(this.scene,a,(function(){t.scene.game.scene.keys[t.farm].buyCollector(4===e?3:4),t.scene.game.scene.keys[t.farm].autosave()}),r);this.createCollectorBoostNotificator(l,h)}else r.type="lock",r.right=this.scene.state.lang.lvl+" "+i,new o.default(this.scene,a,null,r)},t.prototype.createCollectorBoostNotificator=function(e,t){if(t>0){var i=e.getBounds(),s=this.scene.add.text(i.left-2,i.top+5,String(t),{font:"28px Shadow",color:"#FFFFFF"}).setOrigin(.5).setDepth(2).setShadow(2,3,"#724719",5),n=s.getBounds(),a=n.width+30<60?60:n.width+30;this.scene.add.sprite(s.x,s.y,"boost-counter-bg").setDisplaySize(a,n.height+25).setDepth(1)}},t.prototype.checkImproveCollector=function(){var e=this.scene.state["user"+this.scene.state.farm],t=this.scene.state[this.scene.state.farm.toLowerCase()+"CollectorSettings"].length;return"Sheep"===this.scene.state.farm?e.collectorLevel<t&&e.tutorial>=100:e.collectorLevel<t},t.prototype.checkImproveCollectorTestB=function(){var e,t,i=this.scene.state["user"+this.farm],s=null===(t=null===(e=this.scene.state[this.farm.toLowerCase()+"Settings"])||void 0===e?void 0:e.partSettings)||void 0===t?void 0:t.length;return(i.collectorLevel<s||i.collectorTimeLevel<s)&&("Sheep"!==this.scene.state.farm||i.tutorial>=100)},t.prototype.createFreeCollectorBtns=function(){var e=this;this.destroyFreeCollectorBtns();var t=this.scene.state["user"+this.farm],i=this.scene.state[this.farm.toLowerCase()+"CollectorSettings"],s=t.collectorLevel,n=i.find((function(e){return e.level===s})).time,a={x:350,y:100+this.scene.height},r={left:String(n),leftLitleText:this.scene.state.lang.shortMinutes,right:this.scene.state.lang.take,type:"free"},c=null;0===t.collector?c=function(){e.scene.game.scene.keys[e.farm].freeCollector(1),e.scene.game.scene.keys[e.farm].autosave()}:r.type="free-lock",this.freeCollector=new o.default(this.scene,a,c,r),this.createDoubledCollectorBtn(n)},t.prototype.createFreeCollectorBtnsTestB=function(){var e=this;this.destroyFreeCollectorBtns();var t=this.scene.state["user"+this.farm],i=this.scene.state[this.farm.toLowerCase()+"Settings"].partSettings[t.collectorTimeLevel-1].collector.time,s={x:350,y:100+this.scene.height},n={left:String(i),leftLitleText:this.scene.state.lang.shortMinutes,right:this.scene.state.lang.take,type:"free"},a=null;0===t.collector?a=function(){e.scene.game.scene.keys[e.farm].freeCollector(1),e.scene.game.scene.keys[e.farm].autosave()}:n.type="free-lock",this.freeCollector=new o.default(this.scene,s,a,n),this.createDoubledCollectorBtn(i)},t.prototype.createDoubledCollectorBtn=function(e){var t=this,i=2*e,s=Math.floor(i/60*this.scene.state[this.farm.toLowerCase()+"Settings"].doubledСollectorPrice),n={x:350,y:160+this.scene.height},a={left:String(i),leftLitleText:this.scene.state.lang.shortMinutes,right:"",type:"ad"},r=c.default.checkSale(this.scene.state,this.farm.toUpperCase()+"_COLLECTOR_PRICE"),h=null;this.checkDouble()?this.scene.state.readyAd?h=function(){t.scene.game.scene.keys[t.farm].ads.watchAd(3),t.scene.scene.stop("Shop"),t.scene.scene.stop("ShopBars"),t.scene.scene.stop("Modal"),t.scene.game.scene.keys[t.farm].scrolling.wheel=!0}:(h=function(){t.scene.game.scene.keys[t.farm].freeCollector(2),t.scene.game.scene.keys[t.farm].autosave()},a.right=String(s),a.sale=r?String(Math.floor(s/2)):null,a.type="ad-diamond"):this.scene.state.readyAd?a.type="lock-ad":(a.right=String(s),a.sale=r?String(Math.floor(s/2)):null,a.type="lock-ad-diamond"),this.adBtn=new o.default(this.scene,n,h,a)},t.prototype.checkDouble=function(){var e=this.scene.state["user"+this.farm];return"Sheep"===this.farm?0===e.collector&&e.tutorial>=100:0===e.collector},t.prototype.createTutorialArrow=function(){var e=this.scene.state["user"+this.farm];0===e.collector&&("Sheep"===this.farm&&90===e.tutorial&&r.default.generate(this.scene,8),this.scene.state.userUnicorn&&90===this.scene.state.userUnicorn.tutorial&&r.default.generate(this.scene,8))},t.prototype.destroyFreeCollectorBtns=function(){var e,t,i;null===(e=this.freeCollector)||void 0===e||e.destroy(),null===(t=this.doubleCollector)||void 0===t||t.destroy(),null===(i=this.adBtn)||void 0===i||i.destroy()},t.prototype.herdBoost=function(){var e=this,t=this.scene.state["user"+this.farm];"Unicorn"===this.farm&&this.scene.state.userUnicorn.takenHerdBoost<=0&&(this.scene.state.userUnicorn.takenHerdBoost=1);var i=335+this.scene.height;this.scene.add.tileSprite(0,i,466,235,"boost-bg").setOrigin(0,0),this.scene.add.text(240,i+35,this.scene.state.lang["herdBoostTitle"+this.farm],{font:"25px Shadow",color:"#FFFFFF",wordWrap:{width:300},align:"center"}).setOrigin(.5,.5).setStroke("#8B4A84",2);var s=this.scene.add.sprite(25,i+70-10,this.farm.toLocaleLowerCase()+"-herd-boost-icon").setOrigin(0,0);this.scene.state.readyAd&&t.herdBoostAd&&t.takenHerdBoost>0&&this.createAdBtn(s,(function(){e.scene.game.scene.keys[e.farm].ads.watchAd(8)})),this.scene.add.sprite(0,i,"flags").setOrigin(0,0).setFlipX(!0),this.scene.add.sprite(466,i,"flags").setOrigin(1,0);var n=i+170;this.herdBoostTimerText=this.scene.add.text(330,n-60,this.scene.state.lang.stillForBoost+" "+a.shortTime(this.scene.state.timeToNewDay,this.scene.state.lang),{font:"20px Shadow",color:"#FFFFFF",wordWrap:{width:220},align:"center"}).setOrigin(.5),this.createHerdBoostBtn()},t.prototype.createAdBtn=function(e,t){var i=e.getBounds(),s=this.scene.add.sprite(i.right-10,i.centerY+20,"ad-icon").setDepth(2),n=this.scene.add.sprite(s.x,s.y,"bg-ad").setDepth(1),a=this.scene.add.tileSprite(s.x,s.y,s.width+20,s.height+20,"pixel").setOrigin(.5);return this.scene.click(a,t),this.scene.tweens.add({targets:[n,s],delay:5e3,props:{scale:{value:1.25,duration:250,ease:"Power2",yoyo:!0},angle:{value:-5,duration:250,ease:"Power2",yoyo:!0},y:{value:"-=25",duration:250,ease:"Power2",yoyo:!0}},loop:-1}),[s,n,a]},t.prototype.destroyHerdBoostBtn=function(){var e,t,i;null===(e=this.herdBoostButton)||void 0===e||e.destroy(),null===(t=this.herdBoostNotificator)||void 0===t||t.destroy(),null===(i=this.herdBoostNotificatorBg)||void 0===i||i.destroy()},t.prototype.createHerdBoostBtn=function(){var e,t,i=this,s=335+this.scene.height+170,n=this.scene.state.herdBoostPrice*this.scene.state["user"+this.farm].takenHerdBoost,a=Math.floor(n/2),r=this.scene.state["user"+this.farm].takenHerdBoost,o=this.scene.state.user.boosts[this.farm.toLowerCase()],l=o?o.herd:0,d={x:330,y:s},u={left:this.scene.state.lang.buy,right:String(n),sale:null};if(c.default.checkSale(this.scene.state,this.farm.toUpperCase()+"_HERD")&&(u.sale=String(a)),r<=0&&(d.y-=23,u.left=this.scene.state.lang.free,u.right=null,u.sale=null,null===(e=this.herdBoostTimerText)||void 0===e||e.setVisible(!1)),l>0&&r>0&&(u.left=this.scene.state.lang.take,u.right=null,u.sale=null),"Unicorn"===this.farm&&(d.y-=23,null===(t=this.herdBoostTimerText)||void 0===t||t.setVisible(!1)),this.herdBoostButton=new h.default(this.scene,d,(function(){i.herdBoostBtnHandler()}),u),r<=0){var p=this.herdBoostButton.getBounds(),f={x:p.left+5,y:p.top+5};this.scene.add.sprite(f.x,f.y,"notification-bg"),this.scene.add.text(f.x,f.y,"!",{fontFamily:"Bip",fontSize:"28px",color:"#ffffff",fontStyle:"Bold"}).setOrigin(.5)}var m=this.createBoostNotificator(this.herdBoostButton,l),g=m.text,y=m.bg;this.herdBoostNotificator=g,this.herdBoostNotificatorBg=y},t.prototype.createBoostNotificator=function(e,t){if(t<=0)return{text:null,bg:null};var i=this.scene.add.text(e.x+90,e.y-30,String(t),{font:"28px Shadow",color:"#FFFFFF"}).setDepth(2).setOrigin(.5).setShadow(2,3,"#724719",5),s=this.scene.add.sprite(0,0,"boost-counter-bg").setDepth(1),n=i.getBounds(),a=n.width+30<60?60:n.width+30;return s.setPosition(n.centerX,n.centerY).setDisplaySize(a,n.height+20),{text:i,bg:s}},t.prototype.herdBoostBtnHandler=function(){var e=this.scene.game.scene.keys[this.farm],t=this.scene.state.herdBoostPrice*this.scene.state["user"+this.farm].takenHerdBoost,i=this.scene.state.user.boosts[this.farm.toLowerCase()];(i?i.herd:0)>0||this.scene.state.user.diamonds>=t?e.startHerdBoost():this.openDiamondConvertor(t)},t.prototype.feedBoost=function(){var e=this,t=this.scene.game.scene.keys[this.farm],i=this.scene.state["user"+this.farm],s=585+this.scene.height;this.scene.add.tileSprite(0,s,466,270,"boost-bg").setOrigin(0,0),this.scene.add.text(240,s+20,this.scene.state.lang.feedBoostTitle,{font:"25px Shadow",color:"#FFFFFF",wordWrap:{width:300},align:"center"}).setOrigin(.5,.5).setStroke("#8B4A84",2),this.scene.add.text(330,s+75,this.scene.state.lang["feedBoostSubtitle"+this.farm],{font:"18px Shadow",color:"#FFFFFF",wordWrap:{width:240},align:"center"}).setOrigin(.5,.5).setStroke("#8B4A84",2);var n=this.scene.add.sprite(25,s+35,this.farm.toLocaleLowerCase()+"-feed-boost-icon").setOrigin(0,0);this.scene.state.readyAd&&i.feedBoostAd&&i.feedBoostTime+7200<=3600*t.feedBoostStack&&(this.feedAdBtn=this.createAdBtn(n,(function(){e.scene.game.scene.keys[e.farm].ads.watchAd(9),e.hideFeedBoostAdBtn()}))),this.createFeedBoostBtn(),this.feedProgressBarBg=this.scene.add.sprite(10,s+230,"pb-chapter-modal").setOrigin(0,.5).setScale(.92,1),this.feedProgressBar=this.scene.add.tileSprite(25,s+230,0,16,"green-progress").setOrigin(0,.5);var r=i.feedBoostTime,o=r/(3600*this.scene.game.scene.keys[this.farm].feedBoostStack)*this.maxWidth;this.feedProgressBar.setDisplaySize(o,16),this.feedProgressText=this.scene.add.text(240,s+200,this.scene.state.lang.still+" "+a.shortTime(r,this.scene.state.lang),{font:"21px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5)},t.prototype.destroyFeedBoostBtn=function(){var e,t,i;null===(e=this.feedBoostButton)||void 0===e||e.destroy(),null===(t=this.feedBoostNotificator)||void 0===t||t.destroy(),null===(i=this.feedBoostNotificatorBg)||void 0===i||i.destroy()},t.prototype.hideFeedBoostAdBtn=function(){this.feedAdBtn.forEach((function(e){return e.destroy()}))},t.prototype.createFeedBoostBtn=function(){var e=this;this.feedBoostBtnUpdated=!0;var t=585+this.scene.height+135,i=this.scene.state[this.farm.toLowerCase()+"Settings"].feedBoostPrice,s=Math.floor(i/2),n=this.scene.state.user.boosts[this.farm.toLowerCase()],r=this.scene.state["user"+this.farm].feedBoostTime,o=n?n.feed:0,l={x:330,y:t},d={left:"+2 "+this.scene.state.lang.hours,right:a.shortNum(i),sale:null};r<=0&&(d.left="+1 "+this.scene.state.lang.hour),c.default.checkSale(this.scene.state,this.farm.toUpperCase()+"_FEED")&&(d.sale=a.shortNum(s)),o>0&&(d.left=this.scene.state.lang.take,d.right=null,d.sale=null),this.feedBoostButton=new h.default(this.scene,l,(function(){e.feedBoostBtnHandler()}),d);var u=this.createBoostNotificator(this.feedBoostButton,o),p=u.text,f=u.bg;this.feedBoostNotificator=p,this.feedBoostNotificatorBg=f},t.prototype.feedBoostBtnHandler=function(){var e=this.scene.state["user"+this.farm],t=this.scene.game.scene.keys[this.farm],i=this.scene.state.user.boosts[this.farm.toLowerCase()];if((i?i.feed:0)>0)e.feedBoostTime+7200>3600*t.feedBoostStack?this.showMessageMaxFeedBoost():(this.scene.state.user.boosts[this.farm.toLowerCase()].feed-=1,this.scene.state.amplitude.logAmplitudeEvent("feed_boost_spent",{}),this.scene.state.boughtFeedBoost=!0,this.addFeedBoostTime(),this.feedBoostBtnUpdated=!1,e.feedBoostTime+7200>3600*t.feedBoostStack&&this.hideFeedBoostAdBtn());else{var s=this.scene.state[this.farm.toLowerCase()+"Settings"].feedBoostPrice;c.default.checkSale(this.scene.state,this.farm.toUpperCase()+"_FEED")&&(s=Math.floor(s/2)),this.scene.state.user.diamonds>=s?e.feedBoostTime+7200>3600*t.feedBoostStack?this.showMessageMaxFeedBoost():(this.scene.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"booster_feed_x2",count:s}),this.scene.state.user.diamonds-=s,this.scene.state.boughtFeedBoost=!0,t.tryTask(15,0,s),this.addFeedBoostTime(),this.feedBoostBtnUpdated=!1):this.openDiamondConvertor(s)}},t.prototype.openDiamondConvertor=function(e){var t=this.scene.game.scene.keys[this.farm];this.scene.state.convertor={fun:0,count:e,diamonds:e,type:1},t.exchange(),t.scrolling.wheel=!0,this.scene.scene.stop(),this.scene.scene.stop("ShopBars"),this.scene.scene.stop("Modal")},t.prototype.addFeedBoostTime=function(){var e=this.scene.state["user"+this.farm],t=this.scene.game.scene.keys[this.farm];e.feedBoostTime<=0?(e.feedBoostTime+=3600,t.tryTask(21,0,1),"Unicorn"!==this.farm&&t.tryClanTask(9,0,1)):(e.feedBoostTime+=7200,t.tryTask(21,0,2),"Unicorn"!==this.farm&&t.tryClanTask(9,0,2))},t.prototype.showMessageMaxFeedBoost=function(){this.scene.scene.stop("Shop"),this.scene.scene.stop("ShopBars"),this.scene.scene.stop("Modal");var e={type:1,sysType:3,height:150,message:this.scene.state.lang.feedBoostMax};this.scene.state.modal=e,this.scene.scene.launch("Modal",this.scene.state)},t.prototype.updateHerdBoostBtn=function(){var e,t;(null===(e=this.herdBoostTimerText)||void 0===e?void 0:e.active)&&(null===(t=this.herdBoostTimerText)||void 0===t||t.setText(this.scene.state.lang.stillForBoost+" "+a.shortTime(this.scene.state.timeToNewDay,this.scene.state.lang))),this.scene.state.timeToNewDay<=0&&!this.herdBoostBtnUpdated&&(this.scene.state["user"+this.farm].takenHerdBoost>0&&"Unicorn"!==this.scene.state.farm&&(this.scene.state["user"+this.farm].takenHerdBoost=0),this.herdBoostBtnUpdated=!0,this.destroyHerdBoostBtn(),this.createHerdBoostBtn())},t.prototype.updateFeedBoostBtn=function(){var e,t,i,s,n,r,o,c,h,l,d,u,p=this.scene.state["user"+this.farm].feedBoostTime,f=this.scene.game.scene.keys[this.farm].feedBoostStack;if(this.feedBoostBtnUpdated||(this.destroyFeedBoostBtn(),this.createFeedBoostBtn()),p>0){var m=p/(3600*f)*this.maxWidth;if(this.feedProgressBar&&this.feedProgressBar.active){this.feedProgressBar.setDisplaySize(m,16);var g=this.scene.state.lang.still+" "+a.shortTime(p,this.scene.state.lang);(null===(e=this.feedProgressBar)||void 0===e?void 0:e.visible)||(this.feedBoostBtnUpdated=!1),(null===(t=this.feedProgressBar)||void 0===t?void 0:t.visible)||null===(i=this.feedProgressBar)||void 0===i||i.setVisible(!0),(null===(s=this.feedProgressBarBg)||void 0===s?void 0:s.visible)||null===(n=this.feedProgressBarBg)||void 0===n||n.setVisible(!0),(null===(r=this.feedProgressText)||void 0===r?void 0:r.visible)||null===(o=this.feedProgressText)||void 0===o||o.setVisible(!0),this.feedProgressText.text!==g&&(null===(c=this.feedProgressText)||void 0===c||c.setText(g))}}else(null===(h=this.feedProgressBar)||void 0===h?void 0:h.visible)&&(this.feedBoostBtnUpdated=!1,null===(l=this.feedProgressBar)||void 0===l||l.setVisible(!1),null===(d=this.feedProgressText)||void 0===d||d.setVisible(!1),null===(u=this.feedProgressBarBg)||void 0===u||u.setVisible(!1))},t.prototype.updateCollectorTime=function(){var e,t,i,s=this.scene.state.lang.still+" "+a.shortTime(this.scene.state["user"+this.farm].collector,this.scene.state.lang);0===this.scene.state["user"+this.farm].collector&&4===(null===(e=this.scene.state.modal)||void 0===e?void 0:e.shopType)?(this.collectorIsOn=!1,this.collectorTimer.setVisible(!1),c.default.checkTestB(this.scene.state)?this.createFreeCollectorBtnsTestB():this.createFreeCollectorBtns(),this.improve&&(this.improve.y-=15)):(null===(t=this.collectorTimer)||void 0===t?void 0:t.text)!==s&&(null===(i=this.collectorTimer)||void 0===i||i.setText(s))},t.prototype.checkFeedBoost=function(){return 4===this.scene.state.modal.shopType&&this.scene.state["user"+this.farm].part>=this.scene.game.scene.keys[this.farm].feedBoostLvl&&(this.scene.state.user.additionalTutorial.feedBoost||"Sheep"!==this.farm)},t.prototype.checkHerdBoost=function(){return 4===this.scene.state.modal.shopType&&this.scene.state["user"+this.farm].part>=this.scene.game.scene.keys[this.farm].herdBoostLvl&&(this.scene.state.user.additionalTutorial.herdBoost||"Sheep"!==this.farm)},t.prototype.checkEventHerdBoost=function(){return 4===this.scene.state.modal.shopType&&this.scene.state["user"+this.farm].points>=this.scene.game.scene.keys[this.farm].herdBoostLvl},t.prototype.checkEventFeedBoost=function(){return 4===this.scene.state.modal.shopType&&this.scene.state["user"+this.farm].points>=this.scene.game.scene.keys[this.farm].feedBoostLvl},t.prototype.createLockedHerdBoost=function(){"Unicorn"===this.farm&&this.scene.state.userUnicorn.takenHerdBoost<=0&&(this.scene.state.userUnicorn.takenHerdBoost=1);var e=335+this.scene.height;this.scene.add.tileSprite(0,e,466,235,"lock-boost-bg").setOrigin(0).setAlpha(.5),this.scene.add.text(240,e+35,this.scene.state.lang["herdBoostTitle"+this.farm],{font:"25px Shadow",color:"#FFFFFF",wordWrap:{width:300},align:"center"}).setOrigin(.5).setStroke("#8B4A84",2);var t=this.scene.add.sprite(25,e+70-10,this.farm.toLocaleLowerCase()+"-herd-boost-icon").setOrigin(0).getBounds(),i=(this.scene.add.sprite(t.centerX,t.centerY,"lock-boost"),this.scene.state.lang.openFarm.replace("$1","4"));this.scene.add.text(t.right+140,t.centerY,i,{fontSize:"21px",fontFamily:"Shadow",color:"#f6e1ff",wordWrap:{width:200},align:"center"}).setOrigin(.5)},t.prototype.createLockedFeedBoost=function(){var e=585+this.scene.height+20;this.scene.add.tileSprite(0,e-20,466,270,"lock-boost-bg").setOrigin(0).setAlpha(.5),this.scene.add.text(240,e+20,this.scene.state.lang.feedBoostTitle,{font:"25px Shadow",color:"#FFFFFF",wordWrap:{width:300},align:"center"}).setOrigin(.5,.5).setStroke("#8B4A84",2);var t=this.scene.add.sprite(25,e+35,this.farm.toLocaleLowerCase()+"-feed-boost-icon").setOrigin(0).getBounds(),i=(this.scene.add.sprite(t.centerX,t.centerY,"lock-boost"),this.scene.state.lang.openFarm.replace("$1","5"));this.scene.add.text(t.right+140,t.centerY,i,{fontSize:"21px",fontFamily:"Shadow",color:"#f6e1ff",wordWrap:{width:200},align:"center"}).setOrigin(.5)},t}(Phaser.GameObjects.Sprite);t.default=l},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,s,n){var a=e.call(this,t,i,s)||this;return a.texture="boost-btn",a.leftTextColor="#0A7A26",a.rightTextColor="#FFFFFF",a.icon="diamond",a.settings=n,a.initType(),a.createChildren(),s&&a.setClickListener(),a}return n(t,e),t.prototype.initType=function(){switch(this.settings.type){case"lock":this.texture="boost-btn-disable",this.leftTextColor="#3D3D3D",this.rightTextColor="#3D3D3D",this.icon="lock";break;case"lock-ad":this.texture="boost-btn-disable",this.icon="ad-icon",this.leftTextColor="#3D3D3D",this.rightTextColor="#3D3D3D";break;case"ad":this.texture="boost-btn-ad",this.icon="ad-icon",this.leftTextColor="#FFFFFF";break;case"lock-ad-diamond":this.texture="boost-btn-disable",this.leftTextColor="#3D3D3D",this.rightTextColor="#3D3D3D";break;case"ad-diamond":this.texture="boost-btn-ad",this.leftTextColor="#FFFFFF";break;case"free-lock":this.texture="boost-btn-disable",this.leftTextColor="#3D3D3D",this.rightTextColor="#3D3D3D"}},t.prototype.createChildren=function(){this.mainSprite=this.scene.add.sprite(this.position.x,this.position.y,this.texture),this.mainSprite.setInteractive();var e={fontSize:"30px",fontFamily:"Shadow",color:this.leftTextColor},t={fontSize:"20px",fontFamily:"Shadow",color:this.leftTextColor},i={fontSize:"30px",fontFamily:"Shadow",color:this.rightTextColor},s=this.mainSprite.getBounds(),n=this.scene.add.text(s.left+20,this.position.y-4,this.settings.left,e).setOrigin(0,.5),a=n.getBounds().right+2,r=this.scene.add.text(a,this.position.y-1,this.settings.leftLitleText+".",t).setOrigin(0,.5),o=this.scene.add.text(s.right-20,this.position.y-4,this.settings.right,i).setOrigin(1,.5);"lock"===this.settings.type&&o.setX(s.right-10).setFontSize(26);var c=o.getBounds().left-5,h=this.scene.add.sprite(c,this.position.y-4,this.icon).setOrigin(1,.5);if("lock-ad"!==this.settings.type&&"ad"!==this.settings.type?h.setScale(.13):h.setScale(.7),"free"!==this.settings.type&&"free-lock"!==this.settings.type&&"free-diamond"!==this.settings.type||h.setVisible(!1),this.settings.sale){var l=this.scene.add.text(s.right-15,this.position.y-4,this.settings.sale,i).setOrigin(1,.5);o.setFontSize(25);l.displayWidth+o.displayWidth+h.displayWidth>80&&(l.setFontSize(25).setX(s.right-10),o.setFontSize(20),h.setScale(h.scale-.15*h.scale)),o.setX(l.getBounds().left-3),h.setOrigin(1,.5).setX(o.getBounds().left-3);var d=this.scene.add.tileSprite(o.getCenter().x,o.y,o.displayWidth,4,"text-sale").setAngle(5).setOrigin(.5);this.add(l),this.add(d)}this.add(n),this.add(r),this.add(o),this.add(h)},t}(i(37).default);t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,s,n){var a=e.call(this,t,i,s)||this;return a.texture="improve-collector",a.icon="diamond",a.settings=n,a.createChildren(),s&&a.setClickListener(),a}return n(t,e),t.prototype.createChildren=function(){this.mainSprite=this.scene.add.sprite(this.position.x,this.position.y,this.texture),this.mainSprite.setInteractive();var e={fontSize:"23px",fontFamily:"Shadow",color:"#ffffff",stroke:"#3B5367",strokeThickness:4},t=this.position.y-5,i=this.mainSprite.getBounds(),s=this.scene.add.text(this.position.x,t,this.settings.left,e).setOrigin(.5);if(this.settings.right){var n=this.scene.add.text(0,t,this.settings.right,e).setOrigin(0,.5),a=this.scene.add.sprite(0,t,this.icon).setOrigin(0,.5).setScale(.11);if(this.settings.sale){var r=this.scene.add.text(i.right-15,t,this.settings.sale,e).setFontSize(22).setOrigin(0,.5);s.setFontSize(22),n.setFontSize(18),a.setScale(.1);var o=(s.displayWidth+r.displayWidth+n.displayWidth+a.displayWidth)/2;s.setOrigin(0,.5),s.setX(this.position.x-o),a.setX(s.getBounds().right),n.setX(a.getBounds().right),r.setX(n.getBounds().right);var c=this.scene.add.tileSprite(n.getCenter().x,n.y,n.displayWidth,4,"text-sale").setAngle(5).setOrigin(.5);this.add(r),this.add(c)}else{o=(s.displayWidth+n.displayWidth+a.displayWidth+6)/2;s.setOrigin(0,.5),s.setX(this.position.x-o),a.setX(s.getBounds().right+3),n.setX(a.getBounds().right+3)}this.add(a),this.add(n)}this.add(s)},t}(i(37).default);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(1),a=[1,10,50,100,500,1e3],r=function(){function e(e){this.scene=e,this.init(),this.create()}return e.prototype.init=function(){this.animal=this.scene.state.farm.toLowerCase(),"unicorn"===this.animal&&(this.animal="event")},e.prototype.create=function(){var e=Math.ceil(a.length/2),t=270*e+40;this.scene.scrolling.bottom=this.scene.height-this.scene.heightWindow+t;for(var i=0;i<e;i++){var s=270*i+40+this.scene.height,n=a[2*i],r=a[2*i+1];this.createPack(n,{x:0,y:s}),r&&this.createPack(r,{x:240,y:s})}},e.prototype.createPack=function(e,t){var i=this,a=this.scene.add.sprite(t.x,t.y,this.animal+"-money-package").setOrigin(0);if(this.scene.click(a,(function(){i.convert(e)})),n.default.checkSale(this.scene.state,this.scene.state.farm.toUpperCase()+"_MONEY")){var r=String(s.shortNum(this.scene.game.scene.keys[this.scene.state.farm].convertDiamonds(e))),o=String(s.shortNum(this.scene.game.scene.keys[this.scene.state.farm].convertDiamonds(2*e))),c=this.scene.add.text(t.x+110,t.y+135,r,{font:"35px Shadow",color:"#ddd"}).setOrigin(.5);this.scene.add.text(t.x+110,t.y+170,o,{font:"40px Shadow",color:"#FFFFFF"}).setOrigin(.5);this.scene.add.tileSprite(c.x,c.y,c.displayWidth+7,5,"white-pixel").setTint(16730668).setAngle(5).setOrigin(.5)}else{var h=String(s.shortNum(this.scene.game.scene.keys[this.scene.state.farm].convertDiamonds(e)));this.scene.add.text(t.x+110,t.y+160,h,{font:"40px Shadow",color:"#FFFFFF"}).setOrigin(.5)}var l=this.scene.shopButton(t.x+110,t.y+223,e,"diamond");this.scene.clickShopBtn(l,(function(){i.convert(e)}))},e.prototype.convert=function(e){this.scene.state.convertor={fun:0,count:e,diamonds:e,type:1},this.scene.game.scene.keys[this.scene.state.farm].exchange(),this.scene.game.scene.keys[this.scene.state.farm].scrolling.wheel=!0,this.scene.scene.stop(),this.scene.scene.stop("ShopBars"),this.scene.scene.stop("Modal")},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(119),a=i(1),r=function(){function e(e){this.scene=e,this.init(),this.create()}return e.prototype.init=function(){this.animal=this.scene.state.farm,this.buttons=[],"Sheep"===this.animal?this.resource="wool":"Chicken"===this.animal?this.resource="egg":"Cow"===this.animal&&(this.resource="milk")},e.prototype.create=function(){var e=this,t=this.scene.state[this.animal.toLowerCase()+"Settings"][this.animal.toLowerCase()+"Settings"].length,i=270*t+40;this.scene.scrolling.bottom=this.scene.height-this.scene.heightWindow+i;for(var r=function(t){var i=270*t+40;o.scene.add.sprite(0,i+o.scene.height,"animal-shop-bg").setOrigin(0,0);var r=o.scene.state[o.animal.toLowerCase()+"Settings"][o.animal.toLowerCase()+"Settings"].find((function(e){return e.breed===t+1}));if(o.scene.state["user"+o.animal].fair+1<r.breed)o.scene.add.sprite(110,i+o.scene.height+110,"disable-"+o.animal.toLowerCase());else{var c=o.scene.add.sprite(110,i+o.scene.height+110,o.animal.toLowerCase()+"-stay-right"+r.breed);"Sheep"===o.animal&&o.scene.add.sprite(c.x,c.y,o.animal.toLowerCase()+"-right-"+(t+1)+"-2"),c.anims.play(o.animal.toLowerCase()+"-stay-right"+r.breed,!0)}var h=i+110+o.scene.height,l=o.scene.state.lang[o.animal.toLowerCase()+"Breed"+r.breed],d=o.scene.add.text(240,h,l,{font:"28px Shadow",fill:"#FFFFFF",align:"left",wordWrap:{width:230}}).setOrigin(0,.5),u=d.getBounds(),p=o.scene.state.lang[o.resource+"Price"],f=o.scene.add.text(240,h,p,{font:"20px Shadow",fill:"#FFFFFF"}).setOrigin(0,.5),m=f.getBounds(),g="";"Sheep"===o.animal?g=String(s.shortNum(r.long_wool)):"Chicken"===o.animal?g=String(s.shortNum(r.eggPrice)):"Cow"===o.animal&&(g=String(s.shortNum(r.maxMilkVolume)));var y=o.scene.add.text(m.right,h,g,{font:"20px Shadow",fill:"#ECC896"}).setOrigin(0,.5),v=0,w=void 0,b=o.scene.state["user"+o.animal].fair,x=o.scene.state[o.animal.toLowerCase()+"Settings"]["buyBetterBreed"+o.animal];if(r.breed<=b-x||1===r.breed){var k=String(s.shortNum(o.scene[o.animal.toLowerCase()+"Price"](r.breed).price)),T=String(s.shortNum(Math.round(o.scene[o.animal.toLowerCase()+"Price"](r.breed).price/2)));v=(w=new n.default(o.scene,{x:330,y:h},(function(){e.scene.game.scene.keys[e.scene.state.farm]["buy"+e.animal](r.breed,!0)&&e.updatePrices()}),{img:{texture:o.animal.toLowerCase()+"Coin",scale:.15},text1:k,text2:a.default.checkSale(o.scene.state,o.scene.state.farm.toUpperCase()+"_PRICE")?T:null})).height,o.buttons.push({btn:w,breed:r.breed})}var _=v+u.height+m.height+20;d.y-=_/2-u.height/2,f.y-=_/2-u.height-m.height/2-5,y.y=f.y,w&&(w.y+=_/2-v/2)},o=this,c=0;c<t;c++)r(c)},e.prototype.updatePrices=function(){for(var e=0,t=this.buttons;e<t.length;e++){var i=t[e],n=String(s.shortNum(this.scene[this.animal.toLowerCase()+"Price"](i.breed).price)),r=String(s.shortNum(Math.round(this.scene[this.animal.toLowerCase()+"Price"](i.breed).price/2)));i.btn.setText(n,a.default.checkSale(this.scene.state,this.scene.state.farm.toUpperCase()+"_PRICE")?r:null)}},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(9),a=function(){function e(e){this.scene=e,this.init(),this.create()}return e.prototype.init=function(){this.buttons=[],this.heightBtn=0},e.prototype.create=function(){var e=this,t=this.scene.state.unicornSettings.unicornSettings.length,i=270*t+40;this.scene.scrolling.bottom=this.scene.height-this.scene.heightWindow+i;for(var a=function(t){var i=270*t+40,a=i+110+r.scene.height;r.scene.add.sprite(0,i+r.scene.height,"animal-shop-bg").setOrigin(0,0);var o=r.scene.state.unicornSettings.unicornSettings.find((function(e){return e.breed===t+1}));r.scene.state.userUnicorn.points<o.breed?r.scene.add.sprite(110,i+r.scene.height+110,"disable-animal"):r.scene.add.sprite(110,i+r.scene.height+110,"animal"+o.breed);var c=r.scene.state.lang["eventBreed"+o.breed],h=r.scene.add.text(240,a,c,{font:"28px Shadow",fill:"#FFFFFF",align:"left",wordWrap:{width:230}}).setOrigin(0,.5),l=h.getBounds(),d=r.scene.state.lang.resourcePrice,u=r.scene.add.text(240,a,d,{font:"20px Shadow",fill:"#FFFFFF"}).setOrigin(0,.5),p=u.getBounds(),f=r.scene.add.text(p.right,a,String(s.shortNum(n.default.divide(o.resourcePrice,String(10)))),{font:"20px Shadow",fill:"#ECC896"}).setOrigin(0,.5),m=!1;if(o.breed<=r.scene.state.userUnicorn.points-4||1===o.breed){var g=String(s.shortNum(r.scene.animalPrice(o.breed).price));m=r.scene.shopButton(330,a,g,"unicornCoin");var y=function(){e.scene.game.scene.keys[e.scene.state.farm].buyAnimal(o.breed,!0)&&e.updatePrices({text:m.title,breed:o.breed,img:m.img})};r.createBtn(m,o.breed,y)}else if(o.breed<=r.scene.state.userUnicorn.points-3||2===o.breed&&r.scene.state.userUnicorn.points>2){var v=r.getDiamondPrice(4,o.breed);y=void 0;r.scene.state.readyAd&&r.scene.state.userUnicorn.timeToAd<=0?(m=r.scene.shopButton(330,a,r.scene.state.lang.pickUp,"ad-icon"),y=function(){if(e.scene.game.scene.keys[e.scene.state.farm].getFreeBoostPositions().length>0)e.scene.game.scene.keys[e.scene.state.farm].ads.watchAd(4),e.closeWindow(),e.scene.game.scene.keys[e.scene.state.farm].scrolling.wheel=!0;else{e.closeWindow();var t={type:1,sysType:3,height:150,message:e.scene.state.lang.maxEventCount};e.scene.state.modal=t,e.scene.scene.launch("Modal",e.scene.state)}}):(m=r.scene.shopButton(330,a,String(v),"diamond"),y=function(){e.scene.game.scene.keys[e.scene.state.farm].buyAnimal(o.breed,!0,v)}),r.createBtn(m,o.breed,y)}else if(o.breed<=r.scene.state.userUnicorn.points-2||3===o.breed&&r.scene.state.userUnicorn.points>3){var w=r.getDiamondPrice(2,o.breed);y=function(){e.scene.game.scene.keys[e.scene.state.farm].buyAnimal(o.breed,!0,w)};m=r.scene.shopButton(330,a,String(w),"diamond"),r.createBtn(m,o.breed,y)}else if(o.breed<=r.scene.state.userUnicorn.points-1||4===o.breed&&r.scene.state.userUnicorn.points>4){var b=r.getDiamondPrice(1,o.breed);y=function(){e.scene.game.scene.keys[e.scene.state.farm].buyAnimal(o.breed,!0,b)};m=r.scene.shopButton(330,a,String(b),"diamond"),r.createBtn(m,o.breed,y)}var x=r.heightBtn+l.height+p.height+20;h.y-=x/2-l.height/2,u.y-=x/2-l.height-p.height/2-5,f.y=u.y,m&&(m.btn.y+=x/2-r.heightBtn/2,m.title.y+=x/2-r.heightBtn/2,m.img.y+=x/2-r.heightBtn/2)},r=this,o=0;o<t;o++)a(o)},e.prototype.createBtn=function(e,t,i){this.scene.clickShopBtn(e,i),this.buttons.push({text:e.title,breed:t,img:e.img}),this.heightBtn=e.btn.height},e.prototype.updatePrices=function(e){var t=e.text,i=e.breed,n=e.img;t.setText(String(s.shortNum(this.scene.animalPrice(i).price))),n.x=t.getBounds().left-25},e.prototype.getDiamondPrice=function(e,t){var i=40,s=1+Math.floor((t-60)/5);return t>60&&(i+=5*s),Math.round(i/e)},e.prototype.closeWindow=function(){this.scene.scene.stop("Shop"),this.scene.scene.stop("ShopBars"),this.scene.scene.stop("Modal")},e}();t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),r=i(27),o=i(14),c=i(0),h=i(19),l=i(28),d=function(e){function t(){var t=e.call(this,"ShopBars")||this;return t.clickButtonUp=a.clickButtonUp.bind(t),t.openShop=r.openShop.bind(t),t.opened=!1,t}return n(t,e),t.prototype.init=function(e){this.state=e},t.prototype.create=function(){var e,t=this;this.add.sprite(this.cameras.main.centerX,this.cameras.main.centerY-390,"shop-head").setDepth(2);var i,s,n=this.add.sprite(605,this.cameras.main.centerY-465,"shop-close");if(this.clickButtonUp(n,(function(){t.state.boughtFeedBoost&&(o.default.create(t.game.scene.keys[t.state.farm+"Bars"],-250,t.state.lang.feedBoostNotification+" "+c.shortTime(t.state["user"+t.state.farm].feedBoostTime,t.state.lang),2),t.state.boughtFeedBoost=!1),t.state.boughtFactoryBoost&&(o.default.create(t.game.scene.keys[t.state.farm+"Bars"],-250,t.state.lang.factoryBoostNotification+" "+c.shortTime(t.state["user"+t.state.farm].factory.boostTime,t.state.lang),2),t.state.boughtFactoryBoost=!1),t.game.scene.keys[t.state.farm].scrolling.wheel=!0,t.opened=!1,t.scene.stop(),t.scene.stop("Shop"),t.scene.stop("Modal")})),"Sheep"===this.state.farm&&90===(null===(e=this.state.userSheep)||void 0===e?void 0:e.tutorial)&&n.setVisible(!1),1===this.state.modal.shopType)this.add.sprite(136,this.cameras.main.centerY-485,"shop-tab-active").setDepth(1),this.add.sprite(136,this.cameras.main.centerY-495,"diamond").setScale(.25).setDepth(1);else{var a=this.add.sprite(136,this.cameras.main.centerY-485,"shop-tab"),r=this.add.sprite(136,this.cameras.main.centerY-487,"diamond").setScale(.25);this.clickButtonUp(a,(function(){var e;if(90!==(null===(e=t.state.userSheep)||void 0===e?void 0:e.tutorial)){t.state.modal={type:2,shopType:1},t.scene.stop(),t.scene.stop("Shop"),t.scene.stop("Modal"),t.scene.launch("Modal",t.state)}}),r)}if("Sheep"===this.state.farm?(i="sheepCoin",s="icon-shop-sheep"):"Chicken"===this.state.farm?(i="chickenCoin",s="icon-shop-chicken"):"Unicorn"===this.state.farm?(i="unicornCoin",s="icon-shop-event"):"Cow"===this.state.farm&&(i="cowCoin",s="icon-shop-cow"),2===this.state.modal.shopType)this.add.sprite(258,this.cameras.main.centerY-485,"shop-tab-active").setDepth(1),this.add.sprite(258,this.cameras.main.centerY-492,i).setScale(.25).setDepth(1);else{var l=this.add.sprite(258,this.cameras.main.centerY-485,"shop-tab"),d=this.add.sprite(258,this.cameras.main.centerY-485,i).setScale(.25);this.clickButtonUp(l,(function(){var e;if(90!==(null===(e=t.state.userSheep)||void 0===e?void 0:e.tutorial)){t.state.modal={type:2,shopType:2},t.scene.stop(),t.scene.stop("Shop"),t.scene.stop("Modal"),t.scene.launch("Modal",t.state)}}),d)}if(3===this.state.modal.shopType)this.add.sprite(380,this.cameras.main.centerY-485,"shop-tab-active").setDepth(1),this.add.sprite(380,this.cameras.main.centerY-492,s).setDepth(1);else{var u=this.add.sprite(380,this.cameras.main.centerY-485,"shop-tab"),p=this.add.sprite(380,this.cameras.main.centerY-487,s);this.clickButtonUp(u,(function(){var e;if(90!==(null===(e=t.state.userSheep)||void 0===e?void 0:e.tutorial)){t.state.modal={type:2,shopType:3},t.scene.stop(),t.scene.stop("ClanFarm"),t.scene.stop("Profile"),t.scene.stop("Shop"),t.scene.stop("Modal"),t.scene.launch("Modal",t.state)}}),p)}if(4===this.state.modal.shopType)this.add.sprite(502,this.cameras.main.centerY-485,"shop-tab-active").setDepth(1),this.add.sprite(502,this.cameras.main.centerY-492,"icon-shop-boosts").setDepth(1);else{var f=this.add.sprite(502,this.cameras.main.centerY-485,"shop-tab"),m=this.add.sprite(502,this.cameras.main.centerY-487,"icon-shop-boosts");this.clickButtonUp(f,(function(){t.state.modal={type:2,shopType:4},t.scene.stop(),t.scene.stop("Shop"),t.scene.stop("Modal"),t.scene.stop("ClanFarm"),t.scene.stop("Profile"),t.scene.launch("Modal",t.state)}),m)}this.opened||(this.opened=!0,this.openShop(this.cameras.main,this.game.scene.keys.Modal.cameras.main,this.game.scene.keys.Shop.cameras.cameras[0],this.game.scene.keys.Shop.cameras.cameras[1])),this.boostTabNotificator=new h.default(this,{x:540,y:this.cameras.main.centerY-520}).setDepth(2),this.diamondTabNotificator=new h.default(this,{x:175,y:this.cameras.main.centerY-520}).setDepth(2)},t.prototype.update=function(){this.updateNotification()},t.prototype.getCurrency=function(e,t,i){var s=this;void 0===t&&(t=1),t>5&&(t=5);var n=this.time.addEvent({delay:100,callback:function(){t--;var a={x:Phaser.Math.Between(e.x-30,e.x+30),y:Phaser.Math.Between(e.y-s.game.scene.keys[s.state.farm].scrolling.scrollY-30,e.y-s.game.scene.keys[s.state.farm].scrolling.scrollY+30)},r={x:495,y:30};"diamond"!==i&&(r={x:495,y:120}),l.default.create(s,a,r,i,400),t<=0&&n.remove(!1)},callbackScope:this,loop:!0})},t.prototype.updateNotification=function(){this.state["user"+this.state.farm].part<this.game.scene.keys[this.state.farm].herdBoostLvl||this.state["user"+this.state.farm].takenHerdBoost>0||!this.state.user.additionalTutorial.herdBoost?this.boostTabNotificator.setCount(0):4===this.state.modal.shopType?this.boostTabNotificator.setPosition(560,this.cameras.main.centerY-540):4!==this.state.modal.shopType&&this.state["user"+this.state.farm].part>=this.game.scene.keys[this.state.farm].herdBoostLvl&&this.state["user"+this.state.farm].takenHerdBoost<=0&&this.state.user.additionalTutorial.herdBoost&&(this.boostTabNotificator.setPosition(540,this.cameras.main.centerY-520),this.boostTabNotificator.setCount(this.state.shopNotificationCount[3])),1===this.state.modal.shopType?(this.diamondTabNotificator.setPosition(195,this.cameras.main.centerY-540),this.diamondTabNotificator.setCount(this.state.shopNotificationCount[0])):1!==this.state.modal.shopType&&(this.diamondTabNotificator.setPosition(175,this.cameras.main.centerY-520),this.diamondTabNotificator.setCount(this.state.shopNotificationCount[0]))},t}(Phaser.Scene);t.default=d},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(17),r=i(0),o=i(1875),c=i(1876),h=i(1878),l=i(4),d=i(1879),u=function(e){function t(){var t=e.call(this,"Chat")||this;return t.getStatusSettings=r.getStatusSettings.bind(t),t.loadingModal=r.loadingModal.bind(t),t.click=l.click.bind(t),t.clickModalBtn=l.clickModalBtn.bind(t),t.clickButton=l.clickButton.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e,this.scrollHeight=0,1===this.state.modal.chatType||3===this.state.modal.chatType?this.windowHeight=640:2!==this.state.modal.chatType||this.state.modal.userId?2===this.state.modal.chatType&&this.state.modal.userId&&(this.windowHeight=568):this.windowHeight=722,this.windowWidth=479,this.isFirstBuild=!0,this.initScrolling()},t.prototype.preload=function(){},t.prototype.create=function(){1===this.state.modal.chatType?this.generalChat=new o.default(this):2!==this.state.modal.chatType||this.state.modal.userId?2===this.state.modal.chatType&&this.state.modal.userId?this.personalChat=new h.default(this):3===this.state.modal.chatType&&(this.clanChat=new d.default(this)):this.personalChatList=new c.default(this)},t.prototype.update=function(){var e,t,i,s,n;switch(this.state.modal.chatType){case 1:null===(e=this.generalChat)||void 0===e||e.update();break;case 2:this.state.modal.userId?null===(i=this.personalChat)||void 0===i||i.update():null===(t=this.personalChatList)||void 0===t||t.update();break;case 3:null===(s=this.clanChat)||void 0===s||s.update()}null===(n=this.scene.get("Modal").chatBars)||void 0===n||n.update()},t.prototype.initScrolling=function(){var e=this;this.height=Number(this.game.config.height);var t=this.cameras.main.centerY-320;2===this.state.modal.chatType&&this.state.modal.userId&&(t+=70);var i={x:120,y:t,width:this.windowWidth,height:this.windowHeight,wheel:!0,top:this.height};this.scrolling=new a.default(this,i),this.input.on("pointerup",(function(){e.scrolling.enabled=!0,e.scrolling.wheel=!0}))},t}(Phaser.Scene);t.default=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n="6307b55e185c4058b9c12d9d076ddae6\n    26cd32b7a7d1d6096528ae647c235d6f\n    adde749a4a6c3186a429f98b4c7abe18\n    6ec1fb0bf90ee695df541d93ce8ac263\n    12a9cd2785f399c0938e15d19b2ce7ba\n    47c922da1f077a8508b6fccf572d08c8\n    59a38e7c495a71393839f19a2a6dd372\n    f7f581c3cb90712919777fc0b3ff232a\n    76f8f2b2a7f03cf307f788961513e8c9\n    04961f62df30faa6a4ffbc16cfe059b4",a=function(){function e(e){this.scene=e,this.init()}return e.prototype.init=function(){this.scene.scrollHeight=Number(this.scene.game.config.height)-1200+562,this.scene.scrolling.bottom=0,this.scene.scrolling.scrollY=0,this.msg=[],this.textWrap=340,this.getLastChatMessages()},e.prototype.update=function(){this.printNewChatMessages()},e.prototype.getLastChatMessages=function(){var e=this,t={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,type:1};s.default.post("https://ferma.games:4000/getLastMessages",t).then((function(t){if(!t.data.error){e.scene.state.chat=[];for(var i=t.data.messages.length-1;i>=0;i--)e.scene.state.chat.push(t.data.messages[i]);e.ready=!0}}))},e.prototype.printNewChatMessages=function(){if(this.scene.state.chat.length>this.msg.length&&this.ready)for(var e=this.scene.state.chat.length-(this.scene.state.chat.length-this.msg.length);e<this.scene.state.chat.length;e++)this.msg.push(this.scene.state.chat[e]),this.newMsg(this.scene.state.chat[e])},e.prototype.newMsg=function(e){e.text.includes(n)?this.createFortunePlate(e):e.userId===this.scene.state.user.id?this.createUserMessage(e):this.createForeignMessage(e),this.scene.scrolling.bottom=this.scene.scrollHeight,this.scene.scrolling.scrollY=this.scene.scrollHeight},e.prototype.getDate=function(e){var t=new Date(1e3*Number(e.time)),i=t.getFullYear(),s=t.getMonth()+1<10?"0"+(t.getMonth()+1):String(t.getMonth()+1);return t.getDate()+"."+s+"."+i},e.prototype.createFortunePlate=function(e){var t=this.getDate(e),i=e.text.substring(n.length+1),s=this.scene.add.sprite(this.scene.cameras.main.centerX-120,this.scene.windowHeight+this.scene.scrollHeight+20+40,"fortune-plate"),a=s.getBounds(),r=this.scene.add.text(a.centerX,a.centerY-20,this.scene.state.lang.mainPrize+" - "+i,{font:"18px Shadow",color:"#ffd595",align:"center",wordWrap:{width:240}}).setOrigin(.5).getBounds();this.scene.add.sprite(r.right+3,r.centerY,"diamond").setScale(.07).setOrigin(0,.5);var o=this.scene.add.text(r.centerX,r.bottom+5,this.scene.state.lang.taken+" "+e.login,{font:"18px Shadow",color:"#f9eee1"}).setOrigin(.5,0),c=o.getBounds();c.width>350&&(o.setCrop(0,0,350,40),o.setOrigin(0),o.setX(60)),this.scene.add.text(r.centerX,c.bottom+5,t,{font:"18px Shadow",color:"#f2ff25"}).setOrigin(.5,0),this.scene.scrollHeight+=s.getBounds().height+20},e.prototype.createUserMessage=function(e){var t=this,i={fontSize:"21px",fontFamily:"Bip",color:"#FADAC1",align:"left",wordWrap:{width:this.textWrap}},s=this.getDate(e),n=18;this.lastMsgFromUser!==e.login&&(n+=20);var a={x:this.scene.windowWidth-this.textWrap-32,y:this.scene.windowHeight+this.scene.scrollHeight+n},r=this.scene.add.text(a.x,a.y,e.text,i).setOrigin(0,0).setDepth(2),o=(r.getBounds(),r.getBounds().height);r.setCrop(0,0,this.textWrap-5,o);var c=r.getBounds().width;if(this.lastMsgFromUser!==e.login){var h=this.scene.add.text(32,r.y-34,e.login,{fontSize:"18px",fontFamily:"Shadow",color:"#FADAC1",align:"right"}).setOrigin(0).setCrop(0,0,this.scene.windowWidth-40,100).setDepth(1),l=h.getBounds().width;l<479&&h.setX(this.scene.windowWidth-l-10)}var d=this.scene.add.text(this.scene.windowWidth-24,r.y+o+36,s,{fontSize:"16px",fontFamily:"Shadow",color:"#63527F",align:"right"}).setOrigin(1).setDepth(2),u=d.getBounds().width,p=r.x-14,f=c+40;c>364?f=336:(r.setX(this.scene.windowWidth-c-32),p=r.x-14),c<u-10&&d.setX(this.scene.windowWidth-14);var m=this.scene.add.roundedField(p+f/2,r.y-10,f,o+30,"chat-user-message-bg").setOriginY(0),g=this.scene.getStatusSettings(e.status);if(g){var y=m.y+m.height/2;this.scene.game.scene.getScene(this.scene.state.farm).achievement.lazyLoading(e.status).then((function(){1===t.scene.state.modal.chatType&&t.scene.add.sprite(p-5,y,g.iconTexture).setOrigin(1,.5).setScale(.4)}))}this.lastMsgFromUser=e.login,this.scene.scrollHeight+=o+n+40},e.prototype.createForeignMessage=function(e){var t=this,i={fontSize:"21px",fontFamily:"Bip",color:"#5E340C",align:"left",wordWrap:{width:this.textWrap}},s=this.getDate(e),n=18;this.lastMsgFromUser!==e.login&&(n+=20);var a={x:24,y:this.scene.windowHeight+this.scene.scrollHeight+n},r=this.scene.add.text(a.x,a.y,e.text,i).setOrigin(0).setDepth(2),o=r.getBounds(),c=o.height;r.setCrop(0,0,this.textWrap-5,c);var h=o.width;this.lastMsgFromUser!==e.login&&this.scene.add.text(a.x-14,r.y-34,e.login,{fontSize:"18px",fontFamily:"Shadow",color:"#FADAC1",align:"right"}).setOrigin(0).setCrop(0,0,this.scene.windowWidth-40,100).setDepth(1);var l=this.scene.add.text(24,r.y+c+36,s,{fontSize:"16px",fontFamily:"Shadow",color:"#63527F",align:"right"}).setOrigin(0,1).setDepth(2),d=l.getBounds().width,u=r.x-14,p=h+40;h>364&&(p=364),h<d-10&&l.setX(14);var f=this.scene.add.roundedField(u+p/2,r.y-10,p,c+30,"chat-foreign-message-bg").setOriginY(0),m=this.scene.getStatusSettings(e.status);if(m){var g=f.y+f.height/2;this.scene.game.scene.keys[this.scene.state.farm].achievement.lazyLoading(e.status).then((function(){1===t.scene.state.modal.chatType&&t.scene.add.sprite(u+p+5,g,m.iconTexture).setOrigin(0,.5).setScale(.4)}))}this.lastMsgFromUser=e.login,this.scene.scrollHeight+=c+n+40,this.scene.click(f,(function(){t.onPersonalClick(e)}))},e.prototype.onPersonalClick=function(e){var t,i,s=this.scene.scene.get("Modal");null===(t=s.mainInput)||void 0===t||t.remove(),null===(i=s.chatBars.enterKey)||void 0===i||i.destroy(),this.scene.state.foreignProfileId=e.userId,this.scene.state.modal={type:15},this.scene.scene.stop("Chat"),this.scene.scene.launch("Modal",this.scene.state)},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(1877),a=i(19),r="196ea80e3d8a8ef81b09c965d6658b7f",o=function(){function e(e){this.scene=e,this.init(),this.createElements()}return e.prototype.init=function(){this.scene.scrollHeight=Number(this.scene.game.config.height)-1200+510,this.scene.scrolling.bottom=0,this.scene.scrolling.scrollY=0,this.messages=[],this.initArray()},e.prototype.initArray=function(){var e,t,i,s=this,n=this.scene.state.user.personalMessages;this.scene.state.user.messages.forEach((function(e){e.check||(e.check=!0),s.messages.push({_id:e._id,name:"",userId:"",type:e.type,text:e.text,status:e.status,check:e.check,time:e.time,messages:[]})}));for(var a=0;a<n.length;a+=1)this.messages.push({name:n[a].name,userId:n[a].userId,type:0,text:(null===(e=n[a].messages[n[a].messages.length-1])||void 0===e?void 0:e.text)||"",status:n[a].status,check:(null===(t=n[a].messages[n[a].messages.length-1])||void 0===t?void 0:t.check)||!0,time:(null===(i=n[a].messages[n[a].messages.length-1])||void 0===i?void 0:i.time)||new Date(0),messages:n[a].messages})},e.prototype.filterMassages=function(){var e=this;this.scene.state.user.personalMessages=this.scene.state.user.personalMessages.filter((function(t){return e.messages.some((function(e){return e.userId===t.userId}))})),this.scene.state.user.messages=this.scene.state.user.messages.filter((function(t){return e.messages.some((function(e){return e._id===t._id}))}))},e.prototype.update=function(){this.scene.state.updatePersonalMessage&&(this.scene.state.modal={type:9,chatType:2},this.scene.scene.stop("Chat"),this.scene.scene.get("Modal").scene.restart(this.scene.state),this.scene.state.updatePersonalMessage=!1)},e.prototype.createElements=function(){var e=this;this.messages.sort((function(e,t){var i=new Date(null==e?void 0:e.time).getTime();return new Date(null==t?void 0:t.time).getTime()-i})),this.messages=this.messages.slice(0,29),this.filterMassages(),this.scene.game.scene.keys[this.scene.state.farm].autosave(),this.messages.forEach((function(t){0===t.type?e.createPersonal(t):2===t.type?e.createClanInvite(t):3===t.type?e.createClanExpel(t):5===t.type&&e.createAskJoinClan(t)}))},e.prototype.createPersonal=function(e){var t=this,i={x:this.scene.cameras.main.centerX-325,y:this.scene.windowHeight+this.scene.scrollHeight+35},s=e.name,n=e.status,r=e.messages,o=e.userId,c=r[r.length-1]||{owned:!1,check:!0,time:new Date,text:""},h={fontFamily:"Bip",fontSize:"20px",color:"#8f4804",wordWrap:{width:390,useAdvancedWrap:!0}},l=this.scene.getStatusSettings(n),d=this.scene.add.text(i.x,i.y,s,{fontFamily:"Shadow",fontSize:"24px",color:"#692e96"}).setDepth(2).setOrigin(0,1),u=d.getBounds(),p=c.text.length>100?c.text.substr(0,97)+"...":c.text,f=this.scene.add.text(u.left,u.bottom,p,h).setDepth(2).setOrigin(0),m=f.getBounds(),g=u.height+m.height+50,y=this.scene.add.roundedField(u.left-20+225,u.top-20,450,g,"chat-foreign-message-bg").setOriginY(0),v=this.getDate(c.time);this.scene.add.text(y.getLeftCenter().x+15,y.getBottomCenter().y,v,{fontFamily:"Shadow",fontSize:"16px",color:"#63527F",align:"left"}).setOrigin(0);if(l){var w=u.width>370?u.left+450-80+5:u.right+5,b=u.centerY;this.scene.game.scene.keys[this.scene.state.farm].achievement.lazyLoading(n).then((function(){t.scene.add.sprite(w,b,l.iconTexture).setOrigin(0,.5).setScale(.4)}))}if(r.some((function(e){return!e.check}))){var x={x:y.getRightCenter().x-10,y:y.getTopCenter().y+10};new a.default(this.scene,x).setCount(1)}else{var k={x:y.getRightCenter().x-35,y:y.getTopCenter().y+30},T=this.scene.add.sprite(k.x,k.y,"chat-trash");this.scene.clickButton(T,(function(){t.onPersonalDelete(e.userId,y,T)}))}d.setCrop(0,0,370,500),f.setCrop(0,0,410,500),this.scene.scrollHeight+=g+35,this.scene.scrolling.bottom=this.scene.scrollHeight,this.scene.click(y,(function(){t.onPersonalClick(o)}))},e.prototype.onPersonalDelete=function(e,t,i){var s=this,n=this.createDeleteBubble(t,i),a=n.acceptBtn,r=n.acceptBtnText,o=n.declainBtn,c=n.declainBtnText;this.scene.clickModalBtn({btn:a,title:r},(function(){s.scene.state.user.personalMessages=s.scene.state.user.personalMessages.filter((function(t){return t.userId!==e})),s.scene.state.updatePersonalMessage=!0})),this.scene.clickModalBtn({btn:o,title:c},(function(){s.scene.state.updatePersonalMessage=!0}))},e.prototype.onClanMessageDelete=function(e,t,i){var s=this,n=this.createDeleteBubble(t,i),a=n.acceptBtn,r=n.acceptBtnText,o=n.declainBtn,c=n.declainBtnText;this.scene.clickModalBtn({btn:a,title:r},(function(){s.scene.state.user.messages=s.scene.state.user.messages.filter((function(t){return t._id!==e})),s.scene.state.updatePersonalMessage=!0})),this.scene.clickModalBtn({btn:o,title:c},(function(){s.scene.state.updatePersonalMessage=!0}))},e.prototype.createClanInvite=function(e){var t=this,i={x:this.scene.cameras.main.centerX-325,y:this.scene.windowHeight+this.scene.scrollHeight+35},s={fontFamily:"Shadow",wordWrap:{width:100},align:"center",fontSize:"16px",color:"#ffe2e2",stroke:"#D78A31",strokeThickness:1},n={fontFamily:"Bip",fontSize:"20px",color:"#173cb4",wordWrap:{width:390,useAdvancedWrap:!0}},a={fontFamily:"Bip",fontSize:"16px",color:"#7b7b7b",wordWrap:{width:390,useAdvancedWrap:!0}},r=e.text.split(","),o=r[2]+" "+this.scene.state.lang.inviteYouClan+' "'+r[1]+'"',c=this.scene.add.text(i.x,i.y+30,o,n).setDepth(2).setOrigin(0,1),h=c.getBounds(),l=0,d=this.scene.add.sprite(i.x+50,h.bottom+10,"profile-window-button-green").setOrigin(0,0).setDepth(2).setVisible(!1),u=d.getBounds(),p=this.scene.add.text(u.centerX,u.centerY-3,this.scene.state.lang.accept,s).setOrigin(.5).setDepth(2).setVisible(!1),f=this.scene.add.sprite(u.right+40,h.bottom+10,"profile-window-button-red").setOrigin(0,0).setDepth(2).setVisible(!1),m=f.getBounds(),g=this.scene.add.text(m.centerX,m.centerY-3,this.scene.state.lang.declain,s).setOrigin(.5).setDepth(2).setVisible(!1),y=this.scene.add.text(i.x,h.bottom+5,this.scene.state.lang.youAcceptInvite,a).setDepth(2).setVisible(!1);this.scene.clickModalBtn({btn:d,title:p},(function(){t.onAcceptInvite(e._id)})),this.scene.clickModalBtn({btn:f,title:g},(function(){t.onDeclainInvite(e._id)})),0!==e.status||this.scene.state.clan?1===e.status?(l=y.getBounds().height,y.setVisible(!0)):2===e.status?(y.setText(this.scene.state.lang.youDeclainInvite),y.setVisible(!0),l=y.getBounds().height):3===e.status?(y.setText(this.scene.state.lang.clanIsFull),y.setVisible(!0),l=y.getBounds().height):this.scene.state.clan&&(y.setText(this.scene.state.lang.youAreInClan),y.setVisible(!0),l=y.getBounds().height):(l=u.height,d.setVisible(!0),p.setVisible(!0),f.setVisible(!0),g.setVisible(!0));var v=h.height+50+l,w=this.scene.add.roundedField(h.left-20+225,h.top-20,450,v,"chat-clan-message-bg").setOriginY(0),b=this.getDate(e.time),x=(this.scene.add.text(w.getLeftCenter().x+15,w.getBottomCenter().y,b,{fontFamily:"Shadow",fontSize:"16px",color:"#63527F",align:"left"}).setOrigin(0),{x:w.getRightCenter().x-35,y:w.getTopCenter().y+30}),k=this.scene.add.sprite(x.x,x.y,"chat-trash");this.scene.clickButton(k,(function(){t.onClanMessageDelete(e._id,w,k)})),c.setCrop(0,0,410,500),this.scene.scrollHeight+=v+35,this.scene.scrolling.bottom=this.scene.scrollHeight},e.prototype.createClanExpel=function(e){var t=this,i={x:this.scene.cameras.main.centerX-325,y:this.scene.windowHeight+this.scene.scrollHeight+35},s={fontFamily:"Bip",fontSize:"20px",color:"#173cb4",wordWrap:{width:390,useAdvancedWrap:!0}},n=e.text.split(","),a=n[2]+" "+this.scene.state.lang.excludeYouClan+' "'+n[1]+'"',r=this.scene.add.text(i.x,i.y+30,a,s).setDepth(2).setOrigin(0,1),o=r.getBounds(),c=o.height+50+0,h=this.scene.add.roundedField(o.left-20+225,o.top-20,450,c,"chat-clan-message-bg").setOriginY(0),l=this.getDate(e.time),d=(this.scene.add.text(h.getLeftCenter().x+15,h.getBottomCenter().y,l,{fontFamily:"Shadow",fontSize:"16px",color:"#63527F",align:"left"}).setOrigin(0),{x:h.getRightCenter().x-35,y:h.getTopCenter().y+30}),u=this.scene.add.sprite(d.x,d.y,"chat-trash");this.scene.clickButton(u,(function(){t.onClanMessageDelete(e._id,h,u)})),r.setCrop(0,0,410,500),this.scene.scrollHeight+=c+35,this.scene.scrolling.bottom=this.scene.scrollHeight},e.prototype.createAskJoinClan=function(e){var t=this,i={x:this.scene.cameras.main.centerX-325,y:this.scene.windowHeight+this.scene.scrollHeight+35},s={fontFamily:"Shadow",wordWrap:{width:100},align:"center",fontSize:"16px",color:"#ffe2e2",stroke:"#D78A31",strokeThickness:1},n={fontFamily:"Bip",fontSize:"20px",color:"#173cb4",wordWrap:{width:390,useAdvancedWrap:!0}},a={fontFamily:"Bip",fontSize:"16px",color:"#7b7b7b",wordWrap:{width:390,useAdvancedWrap:!0}},r=e.text.split(","),o=r[1]+" "+this.scene.state.lang.askToJoinInClan,c=this.scene.add.text(i.x,i.y,o,n).setDepth(2).setOrigin(0,1);this.scene.click(c,(function(){t.onUserNameClick(r[0])}));var h=c.getBounds(),l=0,d=this.scene.add.sprite(i.x+50,h.bottom+10,"profile-window-button-green").setOrigin(0,0).setDepth(2).setVisible(!1),u=d.getBounds(),p=this.scene.add.text(u.centerX,u.centerY-3,this.scene.state.lang.accept,s).setOrigin(.5).setDepth(2).setVisible(!1),f=this.scene.add.sprite(u.right+40,h.bottom+10,"profile-window-button-red").setOrigin(0,0).setDepth(2).setVisible(!1),m=f.getBounds(),g=this.scene.add.text(m.centerX,m.centerY-3,this.scene.state.lang.declain,s).setOrigin(.5).setDepth(2).setVisible(!1),y=this.scene.add.text(i.x,h.bottom+5,this.scene.state.lang.youAcceptAsk,a).setDepth(2).setVisible(!1);this.scene.clickModalBtn({btn:d,title:p},(function(){t.onAcceptAsk(e._id)})),this.scene.clickModalBtn({btn:f,title:g},(function(){t.onDeclainAsk(e._id)})),0===e.status&&this.scene.state.clan&&this.scene.state.clan.ownerId===this.scene.state.user.id?(l=u.height,d.setVisible(!0),p.setVisible(!0),f.setVisible(!0),g.setVisible(!0)):1===e.status?(l=y.getBounds().height,y.setVisible(!0)):2===e.status?(y.setText(this.scene.state.lang.youDeclainAsk),y.setVisible(!0),l=y.getBounds().height):3===e.status?(y.setText(this.scene.state.lang.clanIsFull),y.setVisible(!0),l=y.getBounds().height):4===e.status?(y.setText(this.scene.state.lang.userInClan),y.setVisible(!0),l=y.getBounds().height):this.scene.state.clan||(y.setText(this.scene.state.lang.youAreNotInClan),y.setVisible(!0),l=y.getBounds().height);var v=h.height+50+l,w=this.scene.add.roundedField(h.left-20+225,h.top-20,450,v,"chat-clan-message-bg").setOriginY(0),b=this.getDate(e.time),x=(this.scene.add.text(w.getLeftCenter().x+15,w.getBottomCenter().y,b,{fontFamily:"Shadow",fontSize:"16px",color:"#63527F",align:"left"}).setOrigin(0),{x:w.getRightCenter().x-35,y:w.getTopCenter().y+30}),k=this.scene.add.sprite(x.x,x.y,"chat-trash");this.scene.clickButton(k,(function(){t.onClanMessageDelete(e._id,w,k)})),c.setCrop(0,0,410,500),this.scene.scrollHeight+=v+35,this.scene.scrolling.bottom=this.scene.scrollHeight},e.prototype.getDate=function(e){var t=new Date(e),i=t.getFullYear(),s=t.getMonth()+1<10?"0"+(t.getMonth()+1):String(t.getMonth()+1);return t.getDate()+"."+s+"."+i+" "+t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():String(t.getMinutes()))},e.prototype.onPersonalClick=function(e){this.scene.state.modal={type:9,chatType:2,userId:e},this.scene.scene.stop("Chat"),this.scene.scene.get("Modal").scene.restart(this.scene.state)},e.prototype.onAcceptInvite=function(e){var t=this,i=this.scene.state.user.messages.find((function(t){return t._id===e})),n=this.scene.state.user.login;"web"!==this.scene.state.platform&&"gd"!==this.scene.state.platform&&"android"!==this.scene.state.platform&&(n=this.scene.state.name);var a=Number(this.scene.state.user.avatar)>0?this.scene.state.user.avatar:this.scene.state.avatar,o={userId:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,clanId:i.text.split(",")[0],userName:n,userAvatar:a,userStatus:this.scene.state.user.status};s.default.post("https://ferma.games:4000/acceptInviteClan",o).then((function(e){var s=e.data.result.status;e.data.error?"limit"===s&&(i.status=3,t.scene.scene.restart(t.scene.state)):e.data.result.id&&(i.status=1,t.scene.state.user.clanId=e.data.result.id,t.scene.state.clan=e.data.result,t.scene.state.socket.io.emit("joinClanRoom",{clanId:t.scene.state.user.clanId}),t.scene.state.socket.io.emit("sendClanMessage",{id:t.scene.state.user.id,clanId:t.scene.state.user.clanId,message:r,userName:n,userStatus:t.scene.state.user.status}),t.scene.state.amplitude.logAmplitudeEvent("clan",{type:"invite_join"}),t.scene.scene.stop("Modal"),t.scene.scene.stop(),t.scene.state.modal={type:18,clanWindowType:9,message:"join"},t.scene.scene.launch("Modal",t.scene.state))}))},e.prototype.onDeclainInvite=function(e){this.scene.state.user.messages.find((function(t){return t._id===e})).status=2,this.scene.scene.restart(this.scene.state)},e.prototype.onAcceptAsk=function(e){var t=this,i=this.scene.state.user.messages.find((function(t){return t._id===e})),n={userId:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,id:i.text.split(",")[0]};s.default.post("https://ferma.games:4000/getUserInfo",n).then((function(e){var n=e.data,a=n.result;if(!n.error){var o={ownerId:t.scene.state.user.id,clanId:t.scene.state.user.clanId,userId:i.text.split(",")[0],hash:t.scene.state.user.hash,counter:t.scene.state.user.counter,userName:a.name,userAvatar:a.avatar,userStatus:a.status};s.default.post("https://ferma.games:4000/acceptAskJoinClan",o).then((function(e){var s=e.data.status;"ok"===s?(i.status=1,t.scene.scene.restart(t.scene.state),t.scene.state.socket.io.emit("sendClanMessage",{id:t.scene.state.user.id,clanId:t.scene.state.user.clanId,message:r,userName:i.text.split(",")[1],userStatus:t.scene.state.user.status})):"limit"===s?(i.status=3,t.scene.scene.restart(t.scene.state)):"inClan"===s&&(i.status=4,t.scene.scene.restart(t.scene.state))}))}}))},e.prototype.onDeclainAsk=function(e){this.scene.state.user.messages.find((function(t){return t._id===e})).status=2,this.scene.scene.restart(this.scene.state)},e.prototype.createDeleteBubble=function(e,t){var i={x:t.x-50,y:t.y},s=new n.default(this.scene,i.x+201,i.y);s.setGlobalMask(e.getRightCenter().x-6,i.y,{x:0,y:.5});this.scene.add.tween({targets:s.elements,ease:"Power3",onStart:function(){t.setVisible(!1)},x:"-=200",duration:400});return{acceptBtn:s.acceptBtn,acceptBtnText:s.acceptBtnText,declainBtn:s.declainBtn,declainBtnText:s.declainBtnText}},e.prototype.onUserNameClick=function(e){this.scene.state.foreignProfileId=e,this.scene.state.modal={type:15},this.scene.scene.stop("Chat"),this.scene.scene.stop("Modal"),this.scene.scene.launch("Modal",this.scene.state)},e}();t.default=o},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,s,n){void 0===n&&(n="chat-delete-bg");var a=e.call(this,t,i,s,n)||this;return a.scene=t,a.x=i,a.y=s,a.sprite=n,a.scene.add.existing(a),a.init(),a}return n(t,e),t.prototype.init=function(){this.setDepth(2).setInteractive(),this.elements=[],this.btnTextStyle={fontFamily:"Shadow",wordWrap:{width:100},align:"center",fontSize:"12px",color:"#ffe2e2",stroke:"#D78A31",strokeThickness:1},this.textStyle={fontFamily:"Bip",wordWrap:{width:100},align:"center",fontSize:"16px",color:"#ffebdc",stroke:"#373737",strokeThickness:1},this.create()},t.prototype.create=function(){var e=this.scene.add.text(this.x,this.y-15,this.scene.state.lang.delete,this.textStyle).setOrigin(.5).setDepth(2);this.acceptBtn=this.scene.add.sprite(this.x-35,this.y+14,"profile-window-button-red").setOrigin(.5).setScale(.5).setDepth(2).setInteractive(),this.acceptBtnText=this.scene.add.text(this.x-35,this.y+10,this.scene.state.lang.yes,this.btnTextStyle).setOrigin(.5).setDepth(2),this.declainBtn=this.scene.add.sprite(this.x+35,this.y+14,"profile-window-button-green").setOrigin(.5).setScale(.5).setDepth(2).setInteractive(),this.declainBtnText=this.scene.add.text(this.x+35,this.y+10,this.scene.state.lang.no,this.btnTextStyle).setOrigin(.5).setDepth(2),this.elements=[this,e,this.acceptBtn,this.acceptBtnText,this.declainBtn,this.declainBtnText]},t.prototype.setGlobalMask=function(e,t,i){var s=this;return void 0===e&&(e=this.x),void 0===t&&(t=this.y),void 0===i&&(i={x:.5,y:.5}),this.mask=this.createBitmapMask(this.scene.add.tileSprite(e,t,this.width,this.height,"white-pixel").setOrigin(i.x,i.y).setVisible(!1)),this.mask.invertAlpha=!0,this.elements.forEach((function(e){return e.setMask(s.mask)})),this},t}(Phaser.GameObjects.Sprite);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.scene=e,this.init(),this.create()}return e.prototype.init=function(){var e=this;this.scene.scrollHeight=Number(this.scene.game.config.height)-1200+640,this.scene.scrolling.bottom=0,this.scene.scrolling.scrollY=0,this.msg=[],this.textWrap=340,this.userMsg=this.scene.state.user.personalMessages.find((function(t){return t.userId===e.scene.state.modal.userId})),this.scene.state.updatePersonalMessage=!0,this.lastMsgTime=new Date(0)},e.prototype.update=function(){this.printNewChatMessages()},e.prototype.create=function(){var e,t=this;null===(e=this.userMsg)||void 0===e||e.messages.forEach((function(e){t.newMsg(e),t.lastMsgTime=new Date(e.time)}))},e.prototype.printNewChatMessages=function(){var e,t,i,s,n,a,r,o=this;(null===(e=this.userMsg)||void 0===e?void 0:e.messages)&&(null===(t=this.userMsg)||void 0===t?void 0:t.messages.length)>0&&new Date(null===(a=null===(i=this.userMsg)||void 0===i?void 0:i.messages[(null===(n=null===(s=this.userMsg)||void 0===s?void 0:s.messages)||void 0===n?void 0:n.length)-1])||void 0===a?void 0:a.time).getTime()!==this.lastMsgTime.getTime()&&(null===(r=this.userMsg)||void 0===r||r.messages.forEach((function(e){new Date(e.time).getTime()>o.lastMsgTime.getTime()&&(o.newMsg(e),o.lastMsgTime=new Date(e.time))})))},e.prototype.newMsg=function(e){e.check=!0,e.owned?this.createUserMessage(e):this.createForeignMessage(e),this.scene.scrolling.bottom=this.scene.scrollHeight,this.scene.scrolling.scrollY=this.scene.scrollHeight},e.prototype.getDate=function(e){var t=new Date(e.time),i=t.getFullYear(),s=t.getMonth()+1<10?"0"+(t.getMonth()+1):String(t.getMonth()+1);return t.getDate()+"."+s+"."+i+" "+t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():String(t.getMinutes()))},e.prototype.createUserMessage=function(e){var t=this,i={fontSize:"21px",fontFamily:"Bip",color:"#FADAC1",align:"left",wordWrap:{width:this.textWrap}},s=this.scene.state.name?this.scene.state.name:this.scene.state.user.login,n=this.getDate(e),a=18;this.lastMsgFromUser!==s&&(a+=20);var r={x:this.scene.windowWidth-this.textWrap-32,y:this.scene.windowHeight+this.scene.scrollHeight+a},o=this.scene.add.text(r.x,r.y,e.text,i).setOrigin(0,0).setDepth(2),c=(o.getBounds(),o.getBounds().height);o.setCrop(0,0,this.textWrap-5,c);var h=o.getBounds().width;if(this.lastMsgFromUser!==s){var l=this.scene.add.text(32,o.y-34,s,{fontSize:"18px",fontFamily:"Shadow",color:"#FADAC1",align:"right"}).setOrigin(0).setCrop(0,0,this.scene.windowWidth-40,100).setDepth(1),d=l.getBounds().width;d<479&&l.setX(this.scene.windowWidth-d-10)}var u=this.scene.add.text(this.scene.windowWidth-24,o.y+c+36,n,{fontSize:"16px",fontFamily:"Shadow",color:"#63527F",align:"right"}).setOrigin(1).setDepth(2),p=u.getBounds().width,f=o.x-14,m=h+40;h>364?m=336:(o.setX(this.scene.windowWidth-h-32),f=o.x-14),h<p-10&&u.setX(this.scene.windowWidth-14);var g=this.scene.add.roundedField(f+m/2,o.y-10,m,c+30,"chat-user-message-bg").setOriginY(0),y=this.scene.getStatusSettings(this.scene.state.user.status);if(y){var v=g.y+g.height/2;this.scene.game.scene.keys[this.scene.state.farm].achievement.lazyLoading(e.status).then((function(){2===t.scene.state.modal.chatType&&t.scene.add.sprite(f-5,v,y.iconTexture).setOrigin(1,.5).setScale(.5)}))}this.lastMsgFromUser=s,this.scene.scrollHeight+=c+a+40},e.prototype.createForeignMessage=function(e){var t=this,i={fontSize:"21px",fontFamily:"Bip",color:"#5E340C",align:"left",wordWrap:{width:this.textWrap}},s=this.getDate(e),n=18;this.lastMsgFromUser!==this.userMsg.name&&(n+=20);var a={x:24,y:this.scene.windowHeight+this.scene.scrollHeight+n},r=this.scene.add.text(a.x,a.y,e.text,i).setOrigin(0).setDepth(2),o=r.getBounds(),c=o.height;r.setCrop(0,0,this.textWrap-5,c);var h=o.width;this.lastMsgFromUser!==this.userMsg.name&&this.scene.add.text(a.x-14,r.y-34,this.userMsg.name,{fontSize:"18px",fontFamily:"Shadow",color:"#FADAC1",align:"right"}).setOrigin(0).setCrop(0,0,this.scene.windowWidth-40,100).setDepth(1);var l=this.scene.add.text(24,r.y+c+36,s,{fontSize:"16px",fontFamily:"Shadow",color:"#63527F",align:"right"}).setOrigin(0,1).setDepth(2),d=l.getBounds().width,u=r.x-14,p=h+40;h>364&&(p=364),h<d-10&&l.setX(14);var f=this.scene.add.roundedField(u+p/2,r.y-10,p,c+30,"chat-foreign-message-bg").setOriginY(0),m=this.scene.getStatusSettings(this.userMsg.status);if(m){var g=f.y+f.height/2;this.scene.game.scene.keys[this.scene.state.farm].achievement.lazyLoading(e.status).then((function(){2===t.scene.state.modal.chatType&&t.scene.add.sprite(u+p+5,g,m.iconTexture).setOrigin(0,.5).setScale(.4)}))}this.lastMsgFromUser=this.userMsg.name,this.scene.scrollHeight+=c+n+40},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n="196ea80e3d8a8ef81b09c965d6658b7f",a="1491f4c9d53dfa6c50d0c4a375f9ba76",r=function(){function e(e){this.scene=e,this.init()}return e.prototype.init=function(){this.scene.state.clanChatNotificationCount=0,this.scene.scrollHeight=Number(this.scene.game.config.height)-1200+562,this.scene.scrolling.bottom=0,this.scene.scrolling.scrollY=0,this.msg=[],this.textWrap=340,this.getLastChatMessages()},e.prototype.update=function(){this.printNewChatMessages()},e.prototype.getLastChatMessages=function(){var e=this,t={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter};s.default.post("https://ferma.games:4000/getClanMessages",t).then((function(t){if(!t.data.error){e.scene.state.clan.chatMessages=[];for(var i=0;i<t.data.messages.length;i++)e.scene.state.clan.chatMessages.push(t.data.messages[i]);e.ready=!0}}))},e.prototype.printNewChatMessages=function(){if(this.scene.state.clan.chatMessages.length>this.msg.length&&this.ready)for(var e=this.scene.state.clan.chatMessages.length-(this.scene.state.clan.chatMessages.length-this.msg.length);e<this.scene.state.clan.chatMessages.length;e++)this.msg.push(this.scene.state.clan.chatMessages[e]),this.newMsg(this.scene.state.clan.chatMessages[e]);this.scene.state.clanChatNotificationCount=0},e.prototype.newMsg=function(e){e.text.includes(n)||e.text.includes(a)||e.text.includes("8e06b3d7e677bf289936486aafbd0222")?this.createClanMessage(e):e.userId===this.scene.state.user.id?this.createUserMessage(e):this.createForeignMessage(e),this.scene.scrolling.bottom=this.scene.scrollHeight,this.scene.scrolling.scrollY=this.scene.scrollHeight},e.prototype.getDate=function(e){var t=new Date(e.time),i=t.getFullYear(),s=t.getMonth()+1<10?"0"+(t.getMonth()+1):String(t.getMonth()+1);return t.getDate()+"."+s+"."+i+" "+t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():String(t.getMinutes()))},e.prototype.createUserMessage=function(e){var t=this,i={fontSize:"21px",fontFamily:"Bip",color:"#FADAC1",align:"left",wordWrap:{width:this.textWrap}},s=this.getDate(e),n=18;this.lastMsgFromUser!==e.userId&&(n+=20);var a={x:this.scene.windowWidth-this.textWrap-32,y:this.scene.windowHeight+this.scene.scrollHeight+n},r=this.scene.add.text(a.x,a.y,e.text,i).setOrigin(0,0).setDepth(2),o=(r.getBounds(),r.getBounds().height);r.setCrop(0,0,this.textWrap-5,o);var c=r.getBounds().width;if(this.lastMsgFromUser!==e.userId){var h=this.scene.add.text(32,r.y-34,e.login,{fontSize:"18px",fontFamily:"Shadow",color:"#FADAC1",align:"right"}).setOrigin(0).setCrop(0,0,this.scene.windowWidth-40,100).setDepth(1),l=h.getBounds().width;l<479&&h.setX(this.scene.windowWidth-l-10)}var d=this.scene.add.text(this.scene.windowWidth-24,r.y+o+36,s,{fontSize:"16px",fontFamily:"Shadow",color:"#63527F",align:"right"}).setOrigin(1).setDepth(2),u=d.getBounds().width,p=r.x-14,f=c+40;c>364?f=336:(r.setX(this.scene.windowWidth-c-32),p=r.x-14),c<u-10&&d.setX(this.scene.windowWidth-14);var m=this.scene.add.roundedField(p+f/2,r.y-10,f,o+30,"chat-user-message-bg").setOriginY(0),g=this.scene.getStatusSettings(e.status);if(g){var y=m.getCenter().y;this.scene.game.scene.keys[this.scene.state.farm].achievement.lazyLoading(e.status).then((function(){3===t.scene.state.modal.chatType&&t.scene.add.sprite(p-5,y,g.iconTexture).setOrigin(1,.5).setScale(.4)}))}this.lastMsgFromUser=e.userId,this.scene.scrollHeight+=o+n+40},e.prototype.createForeignMessage=function(e){var t=this,i={fontSize:"21px",fontFamily:"Bip",color:"#5E340C",align:"left",wordWrap:{width:this.textWrap}},s=this.getDate(e),n=18;this.lastMsgFromUser!==e.userId&&(n+=20);var a={x:24,y:this.scene.windowHeight+this.scene.scrollHeight+n},r=this.scene.add.text(a.x,a.y,e.text,i).setOrigin(0).setDepth(2),o=r.getBounds(),c=o.height;r.setCrop(0,0,this.textWrap-5,c);var h=o.width;this.lastMsgFromUser!==e.userId&&this.scene.add.text(a.x-14,r.y-34,e.login,{fontSize:"18px",fontFamily:"Shadow",color:"#FADAC1",align:"right"}).setOrigin(0).setCrop(0,0,this.scene.windowWidth-40,100).setDepth(1);var l=this.scene.add.text(24,r.y+c+36,s,{fontSize:"16px",fontFamily:"Shadow",color:"#63527F",align:"right"}).setOrigin(0,1).setDepth(2),d=l.getBounds().width,u=r.x-14,p=h+40;h>364&&(p=364),h<d-10&&l.setX(14);var f=this.scene.add.roundedField(u+p/2,r.y-10,p,c+30,"chat-foreign-message-bg").setOriginY(0),m=this.scene.getStatusSettings(e.status);if(m){var g=f.getCenter().y;this.scene.game.scene.keys[this.scene.state.farm].achievement.lazyLoading(e.status).then((function(){3===t.scene.state.modal.chatType&&t.scene.add.sprite(u+p+5,g,m.iconTexture).setOrigin(0,.5).setScale(.4)}))}this.lastMsgFromUser=e.userId,this.scene.scrollHeight+=c+n+40,this.scene.click(f,(function(){t.onPersonalClick(e)}))},e.prototype.createClanMessage=function(e){var t={fontSize:"21px",fontFamily:"Bip",color:"#FADAC1",align:"center",wordWrap:{width:this.textWrap}},i={x:this.scene.cameras.main.centerX-115,y:this.scene.windowHeight+this.scene.scrollHeight+38},s=e.text.includes(n)?e.login+" "+this.scene.state.lang.nowInClan:e.text.includes(a)?e.login+" "+this.scene.state.lang.leaveOnClan:e.login+" "+this.scene.state.lang.excludeOnClan,r=this.scene.add.text(i.x,i.y,s,t).setOrigin(.5,0).setDepth(2),o=r.getBounds().height+30;r.getBounds().width>this.textWrap&&r.setCrop(this.textWrap/2-10,0,this.textWrap,o);var c=r.getBounds().width>this.textWrap?this.textWrap+50:r.getBounds().width+50;this.scene.add.roundedField(i.x,i.y-10,c,o,"chat-user-message-bg").setOriginY(0).setAlpha(.5);this.lastMsgFromUser="",this.scene.scrollHeight+=o+38},e.prototype.onPersonalClick=function(e){var t,i,s=this.scene.scene.get("Modal");null===(t=s.mainInput)||void 0===t||t.remove(),null===(i=s.chatBars.enterKey)||void 0===i||i.destroy(),this.scene.state.foreignProfileId=e.userId,this.scene.state.modal={type:15},this.scene.scene.stop("Chat"),this.scene.scene.launch("Modal",this.scene.state)},e}();t.default=r},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),r=i(0),o=i(27),c=i(120),h=i(21),l=i(14),d=i(6),u=i(1),p=function(e){function t(){var t=e.call(this,"Tutorial")||this;return t.click=a.click.bind(t),t.clickButton=a.clickButton.bind(t),t.clickShopBtn=a.clickShopBtn.bind(t),t.dragSheep=o.dragSheep.bind(t),t.showSheepSprite=o.showSheepSprite.bind(t),t.dragEventAnimal=c.dragEventAnimal.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e,this.height=Number(this.game.config.height),this.generalClick=function(){return null},this.showContinue=!1,this.showMergPointer=!1,this.skipTutorial=!1,this.showSheep=!1},t.prototype.preload=function(){},t.prototype.create=function(){var e=this;this.game.scene.keys[this.state.farm].scrolling.wheel=!1;var t=this.add.tileSprite(0,0,720,this.height,"pixel").setOrigin(0,0);this.click(t,(function(){"function"==typeof e.generalClick&&e.generalClick()}));var i=0,s=this.time.addEvent({delay:30,callback:function(){i++,e.cameras.main.setBackgroundColor("rgba(0, 0, 0, 0."+i+")"),7===i&&s.remove(!1)},callbackScope:this,loop:!0});if(this.chooseStep(),"Sheep"===this.state.farm&&this.skipTutorial){var n=this.add.text(710,30,this.state.lang.skipTutorial,{font:"24px Shadow",color:"#868686"}).setOrigin(1,.5).getBounds(),a=this.add.zone(n.x-10+n.width/2,n.y+n.height/2,n.width+30,n.height+30).setDropZone(void 0,(function(){}));this.click(a,(function(){e.game.scene.keys[e.state.farm].skipTutorial()}))}},t.prototype.update=function(){0!==this.game.scene.keys[this.state.farm].scrolling.scrollY&&(this.game.scene.keys[this.state.farm].scrolling.scrollY=0),"Sheep"===this.state.farm&&this.dragSheep(),"Unicorn"===this.state.farm&&this.dragEventAnimal(),this.showSheepSprite()},t.prototype.chooseStep=function(){var e,t,i=this;if("string"==typeof this.state.tutorial.additional)if("balance"===this.state.tutorial.additional){this.state.amplitude.logAmplitudeEvent("tutorial_balance",{}),this.tutorText=this.state.lang.addTutorialBalance,this.showContinue=!0,this.generalClick=function(){i.scene.stop()};var s=this.game.scene.keys[this.state.farm].balance(),n=s.waterPercent+"%",a=s.grassPercent+"%",o="#FFFFFF",c="#FFFFFF";s.notEnoughWater&&(n="-"+n,o="#82261c"),s.notEnoughGrass&&(a="-"+a,c="#82261c");var p=this.state["user"+this.state.farm],f=p.part>=6?"red-balance-bg":"red-balance-bg-big",m=p.part>=6?this.cameras.main.centerX+25:this.cameras.main.centerX-35,g=this.add.sprite(m,3,f).setOrigin(.5,0).getBounds(),y={fontSize:"26px",fontFamily:"Shadow",color:"#ffffff",shadow:{fill:!0,offsetX:3,offsetY:1,color:"rgba(0, 0, 0, 0.2)"}},v=this.add.sprite(g.left+10,g.centerY-25,"grass-balance").setOrigin(0,.5).setDepth(2),w=this.add.sprite(g.left+10,g.centerY+30,"water-balance").setOrigin(0,.5).setDepth(2),b=v.getBounds(),x=w.getBounds();this.add.text(g.centerX+20,b.centerY,a,y).setColor(c).setDepth(2).setOrigin(.5),this.add.text(g.centerX+20,x.centerY,n,y).setColor(o).setDepth(2).setOrigin(.5),this.topPosition=!0,this.indent=190,this.tailX=390,this.tailFlipX=!0,this.tailFlipY=!0,this.pointerTutorial()}else if("cave1"===this.state.tutorial.additional){this.state.amplitude.logAmplitudeEvent("tutorial_cave",{step:1}),this.tutorText=this.state.lang.addTutorialCave1;var k=this.add.image(120,480,"cave-ready").setOrigin(.5,1);this.click(k,(function(){i.game.scene.keys[i.state.farm].doneTutorCave1()})),this.topPosition=!0,this.indent=470,this.tailX=300,this.tailFlipX=!0,this.tailFlipY=!0,this.pointerTutorial()}else if("cave2"===this.state.tutorial.additional){this.state.amplitude.logAmplitudeEvent("tutorial_cave",{step:2}),this.tutorText=this.state.lang.addTutorialCave2,this.showContinue=!0,this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneTutorCave2()};var T=this.game.scene.keys[this.state.farm].sheep.children.entries.find((function(e){return 0===e.type}));T.setVisible(!1),T.woolSprite.setVisible(!1),T.shaveStatus.setVisible(!1);var _=this.add.sprite(600,600,"sheep-stay-left0");this.add.sprite(600,600,"sheep-left-0-4"),_.anims.play("sheep-stay-left0",!0),this.topPosition=!0,this.indent=730,this.tailX=410,this.tailFlipX=!1,this.tailFlipY=!0,this.pointerTutorial()}else if("cave3"===this.state.tutorial.additional)this.state.amplitude.logAmplitudeEvent("tutorial_cave",{step:3}),this.tutorText=this.state.lang.addTutorialCave3,this.generalClick=function(){i.scene.stop()},this.simpleTutorial();else if("herdBoost1"===this.state.tutorial.additional){this.state.amplitude.logAmplitudeEvent("tutorial_herd_boost",{step:1}),h.default.generate(this,11);var S=this.add.image(370,this.height-90,"shop");this.topPosition=!1,this.indent=240,this.tailX=430,this.tailFlipX=!0,this.tailFlipY=!1,this.tutorText=this.state.lang.addTutorialHerdBoost1,this.pointerTutorial(),this.click(S,(function(){i.state.modal={type:2,shopType:4},i.scene.stop("Tutorial"),i.scene.launch("Modal",i.state),i.game.scene.keys.Sheep.showTutorial("herdBoost2")}))}else if("herdBoost2"===this.state.tutorial.additional){this.state.amplitude.logAmplitudeEvent("tutorial_herd_boost",{step:2});var C=this.add.tileSprite(130,this.cameras.main.centerY-20,460,235,"boost-bg").setOrigin(0,0).setAlpha(0),P=this.add.text(370,this.cameras.main.centerY+15,this.state.lang.herdBoostTitleSheep,{font:"28px Shadow",color:"#FFFFFF",wordWrap:{width:300},align:"center"}).setOrigin(.5,.5).setStroke("#8B4A84",2).setAlpha(0),B=this.add.sprite(170,this.cameras.main.centerY+50,"sheep-herd-boost-icon").setOrigin(0,0).setAlpha(0),A=this.add.sprite(130,this.cameras.main.centerY-20,"flags").setOrigin(0,0).setFlipX(!0).setAlpha(0),E=this.add.sprite(595,this.cameras.main.centerY-20,"flags").setOrigin(1,0).setAlpha(0),M=460,O=this.cameras.main.centerY+120,I=this.add.sprite(M,O,"improve-collector").setAlpha(0),R=this.add.text(M,O-2,this.state.lang.pickUp,{font:"23px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5).setStroke("#3B5367",4).setDepth(10).setAlpha(0);h.default.generate(this,12),this.topPosition=!1,this.indent=O,this.tailX=430,this.tailFlipX=!0,this.tailFlipY=!1,this.tutorText=this.state.lang.addTutorialHerdBoost2,this.pointerTutorial();var D=0,N=this.time.addEvent({delay:50,loop:!0,callback:function(){D+=.1,C.setAlpha(D),P.setAlpha(D),B.setAlpha(D),A.setAlpha(D),E.setAlpha(D),I.setAlpha(D),R.setAlpha(D),D>=1&&N.remove()},callbackScope:this});this.clickShopBtn({btn:I,title:R},(function(){i.scene.stop(),i.state.user.additionalTutorial.herdBoost=!0,i.game.scene.keys[i.state.farm].startHerdBoost()}))}else if("feedBoost1"===this.state.tutorial.additional){this.state.amplitude.logAmplitudeEvent("tutorial_feed_boost",{step:1}),h.default.generate(this,13);S=this.add.image(370,this.height-90,"shop");this.topPosition=!1,this.indent=240,this.tailX=430,this.tailFlipX=!0,this.tailFlipY=!1,this.tutorText=this.state.lang.addTutorialFeedBoost1,this.pointerTutorial(),this.click(S,(function(){i.state.modal={type:2,shopType:4},i.scene.stop("Tutorial"),i.scene.launch("Modal",i.state),i.game.scene.keys.Sheep.showTutorial("feedBoost2")}))}else if("feedBoost2"===this.state.tutorial.additional){this.state.amplitude.logAmplitudeEvent("tutorial_feed_boost",{step:2});var F=this.cameras.main.centerY+220,L=this.add.tileSprite(130,F,460,230,"boost-bg").setOrigin(0,0).setAlpha(0),Y=this.add.text(370,F+20,this.state.lang.feedBoostTitle,{font:"28px Shadow",color:"#FFFFFF",wordWrap:{width:300},align:"center"}).setOrigin(.5,.5).setStroke("#8B4A84",2).setAlpha(0),U=this.add.sprite(170,F+30,"sheep-feed-boost-icon").setOrigin(0,0).setAlpha(0),V=(M=460,O=F+110,this.add.sprite(M,O,"improve-collector").setAlpha(0)),W=this.add.text(M,O-2,this.state.lang.pickUp,{font:"23px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5).setStroke("#3B5367",4).setDepth(10).setAlpha(0);h.default.generate(this,14),this.topPosition=!1,this.indent=F-350,this.tailX=430,this.tailFlipX=!0,this.tailFlipY=!1,this.tutorText=this.state.lang.addTutorialFeedBoost2,this.pointerTutorial();var z=0,H=this.time.addEvent({delay:50,loop:!0,callback:function(){z+=.1,L.setAlpha(z),Y.setAlpha(z),U.setAlpha(z),V.setAlpha(z),W.setAlpha(z),z>=1&&H.remove()},callbackScope:this});this.clickShopBtn({btn:V,title:W},(function(){i.scene.stop("Shop"),i.scene.stop("ShopBars"),i.scene.stop("Modal"),i.scene.stop(),i.state.user.additionalTutorial.feedBoost=!0,i.state["user"+i.state.farm].feedBoostTime=3600,l.default.create(i.game.scene.keys[i.state.farm+"Bars"],-250,i.state.lang.feedBoostNotification+" "+r.shortTime(i.state["user"+i.state.farm].feedBoostTime,i.state.lang),2),i.game.scene.keys[i.state.farm].tryTask(21,0,1),i.game.scene.keys[i.state.farm].tryClanTask(9,0,1)}))}else if("collector"===this.state.tutorial.additional){(Q=this.game.scene.getScene("SheepBars")).collectorBtn.setVisible(!1),this.tutorText=this.state.lang.addTutorialCollector;var X=this.add.sprite(230,this.height-90,"wool-collector"),G=this.add.text(230,this.height-43,"00 : 00",{font:"28px Bip",color:"#FF0000",align:"center"}).setOrigin(.5,.5).setDepth(1).getBounds(),j=this.add.graphics({x:G.left-15,y:G.top});j.fillStyle(16777215,1),j.strokeRoundedRect(0,0,G.width+30,G.height,8),j.fillRoundedRect(0,0,G.width+30,G.height,8),this.clickButton(X,(function(){i.game.scene.keys[i.state.farm].collectorTutorial()})),this.generalClick=function(){return i.game.scene.keys[i.state.farm].collectorTutorial()},this.topPosition=!1,this.indent=250,this.tailX=300,this.tailFlipX=!0,this.tailFlipY=!1,this.pointerTutorial()}else if("clan"===this.state.tutorial.additional)this.scene.launch("Profile",this.state),this.topPosition=!0,this.indent=530,this.tailX=500,this.tailFlipX=!1,this.tailFlipY=!0,this.tutorText=this.state.lang.clanTutor,this.pointerTutorial(),this.add.sprite(610,380,"clan-building"),this.generalClick=function(){i.state.modal={type:17,clanTabType:3},i.state.clanTutor=!1,i.scene.stop(),i.scene.launch("Modal",i.state)};else if("fortune"===this.state.tutorial.additional){this.scene.launch("Profile",this.state);var $={x:560,y:560};this.add.sprite($.x,$.y,"profile-fortune-bg");var K=this.add.sprite($.x+31,$.y-10,"profile-fortune-wheel");this.add.sprite($.x+32,$.y-10,"profile-fortune-pointer"),d.default.create(this,{x:$.x,y:$.y},5),this.topPosition=!0,this.indent=700,this.tailX=430,this.tailFlipX=!1,this.tailFlipY=!0,this.tutorText=this.state.lang.fortuneWelcome,this.tweens.add({delay:500,targets:K,duration:1500,rotation:{from:K.rotation,to:K.rotation-4*Math.PI},onComplete:function(){i.pointerTutorial(),i.generalClick=function(){i.state.fortuneTutor=!1,i.state.fortuneTutorialWin=!0,i.scene.stop("Tutorial"),i.scene.launch("Fortune",i.state)}},ease:"Power3"})}else this.fail();else if(1===this.state.tutorial.farm)if(0===this.state.tutorial.step)this.state.amplitude.logAmplitudeEvent("tutor_after_load",{}),this.tutorText=this.state.lang.sheepTutorial_0,this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneTutor_0()},this.simpleTutorial();else if(10===this.state.tutorial.step){h.default.generate(this,1),this.showSheepMoney(),this.tutorText=this.state.lang.sheepTutorial_10;X=this.add.sprite(82,this.height-92,"sheep-buy-icon-1");this.clickButton(X,(function(){i.game.scene.keys[i.state.farm].doneTutor_10()})),this.topPosition=!1,this.indent=250,this.tailX=210,this.tailFlipX=!0,this.tailFlipY=!1,this.pointerTutorial()}else if(20===this.state.tutorial.step){h.default.generate(this,2),this.tutorText=this.state.lang.sheepTutorial_20;var q=this.add.sprite(480,480,"sheep-bought").setOrigin(0);this.click(q,(function(){i.game.scene.keys[i.state.farm].progressTutor_20()})),this.topPosition=!0,this.indent=730,this.tailX=410,this.tailFlipX=!1,this.tailFlipY=!0,this.pointerTutorial()}else if(30===this.state.tutorial.step){h.default.generate(this,3),this.tutorText=this.state.lang.sheepTutorial_30;q=this.add.sprite(240,480,"sheep-bought").setOrigin(0);this.click(q,(function(){i.game.scene.keys[i.state.farm].progressTutor_30()})),this.topPosition=!0,this.indent=730,this.tailX=580,this.tailFlipX=!0,this.tailFlipY=!0,this.pointerTutorial()}else if(40===this.state.tutorial.step){for(var J in this.tutorText=this.state.lang.sheepTutorial_40,this.skipTutorial=!0,this.game.scene.keys[this.state.farm].sheep.children.entries)this.game.scene.keys[this.state.farm].sheep.children.entries[J].setVisible(!1),this.game.scene.keys[this.state.farm].sheep.children.entries[J].woolSprite.setVisible(!1),this.game.scene.keys[this.state.farm].sheep.children.entries[J].shaveStatus.setVisible(!1);this.game.scene.keys[this.state.farm].woolPB_show=!0,this.generalClick=function(){return i.game.scene.keys[i.state.farm].progressTutor_40()};_=this.add.sprite(600,600,"sheep-stay-left1");this.add.sprite(600,600,"sheep-left-1-1"),_.anims.play("sheep-stay-left1",!0),this.topPosition=!0,this.indent=680,this.tailX=470,this.tailFlipX=!1,this.tailFlipY=!0,this.showContinue=!0,this.pointerTutorial()}else if(50===this.state.tutorial.step){var Q;this.showSheepMoney(),h.default.generate(this,5),(Q=this.game.scene.getScene("SheepBars")).animalBuy.setVisible(!1),Q.animalPrice.setVisible(!1),Q.animalPriceBubble.setVisible(!1),this.tutorText=this.state.lang.sheepTutorial_50,this.skipTutorial=!0;X=this.add.sprite(82,this.height-92,"sheep-buy-icon-1");this.clickButton(X,(function(){i.game.scene.keys[i.state.farm].doneTutor_50()})),this.topPosition=!1,this.indent=250,this.tailX=210,this.tailFlipX=!0,this.tailFlipY=!1,this.pointerTutorial()}else if(60===this.state.tutorial.step){this.tutorText=this.state.lang.sheepTutorial_60,this.skipTutorial=!0;var Z=this.game.scene.keys[this.state.farm].partTasks(),ee=Z.find((function(e){return 1===e.id}));u.default.checkTestB(this.state)&&(ee=Z.find((function(e){return"1-1"===e.id})));var te=this.game.scene.keys[this.state.farm].getTaskData(ee),ie=this.add.text(150,0,te.name,{font:"23px Bip",color:"#713D1E",align:"left",wordWrap:{width:390}}).setDepth(this.height).setOrigin(0,0),se=ie.getBounds();ie.y=this.height-se.height-244;var ne=u.default.checkTestB(this.state)?ee.award:ee.diamonds,ae=this.add.text(190,this.height-220,String(ne),{font:"20px Bip",color:"#FFFFFF"}).setDepth(this.height).setOrigin(0,.5);this.add.image(160,this.height-220,"diamond").setDepth(this.height).setScale(.1).setOrigin(0,.5);G=ae.getBounds();var re=this.add.graphics({x:G.left-40,y:G.top-3});re.fillStyle(7421214,1),re.fillRoundedRect(0,0,G.width+50,G.height+6,5),re.setDepth(this.height-1);var oe=70+se.height;oe<110&&(oe=110),this.add.sprite(30,this.height-190-oe,"tasks-bar-fix").setDisplaySize(660,oe).setOrigin(0),this.add.image(88,this.height-190-oe/2,te.icon).setTint(7829367),this.add.image(88,this.height-190-oe/2,"completed");var ce=this.add.image(620,this.height-190-oe/2,"little-button").setDepth(this.height),he=this.add.text(620,this.height-193-oe/2,this.state.lang.pickUp,{font:"20px Shadow",color:"#FFFFFF"}).setOrigin(.5,.5).setDepth(this.height);this.clickShopBtn({btn:ce,title:he,img:!1},(function(){i.game.scene.keys[i.state.farm+"Bars"].getCurrency({x:ce.x,y:ce.y},ne,"diamond"),i.game.scene.keys[i.state.farm].doneTutor_60()})),this.topPosition=!1,this.indent=380,this.tailX=570,this.tailFlipX=!1,this.tailFlipY=!1,this.pointerTutorial()}else if(70===this.state.tutorial.step)this.tutorText=this.state.lang.sheepTutorial_70,this.skipTutorial=!0,this.generalClick=function(){return i.game.scene.keys[i.state.farm].progressTutor_70()},this.simpleTutorial(),this.game.scene.keys[this.state.farm].showMergPointer=!1,null===(e=this.game.scene.keys[this.state.farm].mergPointer)||void 0===e||e.destroy(),this.time.addEvent({delay:500,callback:function(){i.mergPointer=i.physics.add.sprite(480,520,"tutor-merging").setDepth(i.height),i.mergPointer.first=!0,i.showMergPointer=!0},callbackScope:this,loop:!1});else if(75===this.state.tutorial.step){for(var J in this.tutorText=this.state.lang.sheepTutorial_75,this.skipTutorial=!0,this.showContinue=!0,this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneTutor_75()},this.game.scene.keys[this.state.farm].sheep.children.entries)this.game.scene.keys[this.state.farm].sheep.children.entries[J].setVisible(!1),this.game.scene.keys[this.state.farm].sheep.children.entries[J].woolSprite.setVisible(!1),this.game.scene.keys[this.state.farm].sheep.children.entries[J].shaveStatus.setVisible(!1);_=this.add.sprite(600,600,"sheep-stay-left2");this.add.sprite(600,600,"sheep-left-2-4"),_.anims.play("sheep-stay-left2",!0),this.topPosition=!0,this.indent=700,this.tailX=450,this.tailFlipX=!1,this.tailFlipY=!0,this.pointerTutorial()}else if(80===this.state.tutorial.step){h.default.generate(this,6),this.tutorText=this.state.lang.sheepTutorial_80,this.skipTutorial=!0;q=this.add.sprite(0,480,"sheep-bought").setOrigin(0);this.click(q,(function(){i.game.scene.keys[i.state.farm].progressTutor_80()})),this.topPosition=!0,this.indent=730,this.tailX=300,this.tailFlipX=!0,this.tailFlipY=!0,this.pointerTutorial()}else if(90===this.state.tutorial.step){h.default.generate(this,7),this.tutorText=this.state.lang.sheepTutorial_90,this.skipTutorial=!0;X=this.add.sprite(230,this.height-90,"wool-collector");this.clickButton(X,(function(){i.game.scene.keys[i.state.farm].progressTutor_90()})),this.topPosition=!1,this.indent=250,this.tailX=300,this.tailFlipX=!0,this.tailFlipY=!1,this.pointerTutorial()}else 100===this.state.tutorial.step?(this.tutorText=this.state.lang.sheepTutorial_100,this.skipTutorial=!0,this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneTutor_100()},this.simpleTutorial()):this.fail();else if(2===this.state.tutorial.farm)0===this.state.tutorial.step?(this.tutorText=this.state.lang.chickenTutorial_0,this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneTutor_0()},this.simpleTutorial()):this.fail();else if(3===this.state.tutorial.farm)if(0===this.state.tutorial.step){this.add.sprite(720,775,"profile-event-island").setOrigin(1,.5),d.default.create(this,{x:580,y:775},5);var le=this.add.image(720,760,"profile-event-farm").setOrigin(1,.5).setAlpha(0),de=this.add.text(600,765,this.state.lang.eventFarm,{fontSize:"18px",color:"#f0e8ce",fontFamily:"Shadow",wordWrap:{width:150},align:"center"}).setOrigin(.5,.5).setAlpha(0);this.topPosition=!1,this.indent=this.height-600,this.tailX=430,this.tailFlipX=!1,this.tailFlipY=!1,this.tutorText=this.state.lang.eventWelcome,this.tweens.add({targets:[le,de],delay:500,alpha:1,duration:1200,onComplete:function(){i.pointerTutorial(),i.generalClick=function(){i.game.scene.keys[i.state.farm].doneEventTutor_0(),i.game.scene.keys[i.state.farm].autosave()}}})}else if(10===this.state.tutorial.step)this.tutorText=this.state.lang.eventTutorial_10,this.topPosition=!1,this.indent=250,this.tailX=300,this.tailFlipX=!0,this.tailFlipY=!1,this.showContinue=!0,this.simpleTutorial(),this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneEventTutor_10()};else if(20===this.state.tutorial.step)this.tutorText=this.state.lang.eventTutorial_20+r.shortTime(this.state.progress.event.endTime,this.state.lang),this.topPosition=!1,this.indent=250,this.tailX=300,this.tailFlipX=!0,this.tailFlipY=!1,this.showContinue=!0,this.simpleTutorial(),this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneEventTutor_20()};else if(30===this.state.tutorial.step){this.tutorText=this.state.lang.eventTutorial_30,this.topPosition=!1,this.indent=250,this.tailX=300,this.tailFlipX=!0,this.tailFlipY=!1,this.pointerTutorial(),h.default.generate(this,15);X=this.add.sprite(82,this.height-92,"event-buy-icon-1");this.clickButton(X,(function(){h.default.generate(i.game.scene.keys.UnicornBars,16),i.game.scene.keys[i.state.farm].buyAnimal(1),i.game.scene.keys.UnicornBars.animalBuy.setVisible(!0),i.game.scene.keys.UnicornBars.animalPrice.setVisible(!0),i.game.scene.keys.UnicornBars.animalPriceBubble.setVisible(!0),i.scene.stop("Tutorial")}))}else if(40===this.state.tutorial.step){this.tutorText=this.state.lang.eventTutorial_40,this.topPosition=!1,this.indent=this.cameras.main.height-600,this.tailX=300,this.tailFlipX=!0,this.showContinue=!0,this.tailFlipY=!1,this.pointerTutorial(),this.generalClick=function(){i.game.scene.keys[i.state.farm].progressEventTutor_40()};var ue=this.game.scene.keys.Unicorn.animals.getChildren()[0],pe=this.game.scene.keys.Unicorn.animals.getChildren()[1];this.game.scene.keys[this.state.farm].showMergPointer=!1,null===(t=this.game.scene.keys[this.state.farm].mergPointer)||void 0===t||t.destroy(),this.add.sprite(ue.x,ue.y,"animal"+ue.data.values.type),this.add.sprite(pe.x,pe.y,"animal"+pe.data.values.type),this.time.addEvent({delay:500,callback:function(){i.mergPointer=i.physics.add.sprite(ue.x,ue.y,"event-tutor-merging").setDepth(i.height+1).setOrigin(0,0),i.mergPointer.setDataEnabled(),i.mergPointer.data.values.animal=i.physics.add.sprite(ue.x,ue.y,"animal"+ue.data.values.type).setDepth(i.height).setTint(7829367).setScale(.95),i.mergPointer.first=!1,i.showMergPointer=!0},callbackScope:this,loop:!1})}else if(50===this.state.tutorial.step){this.tutorText=this.state.lang.eventTutorial_50,this.topPosition=!0,this.indent=920,this.tailX=450,this.tailFlipX=!0,this.showContinue=!0,this.tailFlipY=!0,this.pointerTutorial(),this.add.image(0,140,"event-work-zone").setOrigin(0,0);var fe=this.game.scene.keys.Unicorn.animals.getChildren()[0];this.physics.add.sprite(fe.x,fe.y,"animal"+fe.data.values.type).setDepth(this.height),this.time.addEvent({delay:500,callback:function(){i.mergPointer=i.physics.add.sprite(fe.x,fe.y,"event-tutor-merging").setDepth(i.height+1).setOrigin(0,0),i.mergPointer.setDataEnabled(),i.mergPointer.data.values.animal=i.physics.add.sprite(fe.x,fe.y,"animal"+fe.data.values.type).setDepth(i.height).setTint(7829367).setScale(.95),i.mergPointer.first=!1,i.showMergPointer=!0},callbackScope:this,loop:!1}),this.generalClick=function(){return i.game.scene.keys[i.state.farm].progressEventTutor_50()}}else 60===this.state.tutorial.step?(this.tutorText=this.state.lang.eventTutorial_60,this.simpleTutorial(),this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneEventTutor_60()}):70===this.state.tutorial.step?(this.tutorText=this.state.lang.eventTutorial_70,this.simpleTutorial(),this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneEventTutor_70()}):this.fail();else if(4===this.state.tutorial.farm);else if(5===this.state.tutorial.farm)if(0===this.state.tutorial.step)this.tutorText=this.state.lang.cowTutorial_0,this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneTutor_0()},this.simpleTutorial();else if(10===this.state.tutorial.step)this.add.sprite(this.cameras.main.centerX-4,this.cameras.main.centerY+158,"tutorial-showcase"),this.add.text(this.cameras.main.centerX-175,this.cameras.main.centerY+92,"100%",{font:"33px Shadow",color:"#773a05",align:"center"}).setOrigin(.5),this.add.text(this.cameras.main.centerX-57,this.cameras.main.centerY+92,"0%",{font:"33px Shadow",color:"#595959",align:"center"}).setOrigin(.5),this.add.text(this.cameras.main.centerX+60,this.cameras.main.centerY+92,"0%",{font:"33px Shadow",color:"#595959",align:"center"}).setOrigin(.5),this.add.text(this.cameras.main.centerX+175,this.cameras.main.centerY+92,"0%",{font:"33px Shadow",color:"#595959",align:"center"}).setOrigin(.5),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY+47,this.state.lang.probabilityOfProduction,{font:"19px Shadow",color:"#feb55f"}).setOrigin(.5),this.topPosition=!1,this.indent=this.height-550,this.tailX=230,this.tailFlipX=!0,this.tailFlipY=!1,this.showContinue=!0,this.tutorText=this.state.lang.cowTutorial_10,this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneTutor_10()},this.pointerTutorial();else if(20===this.state.tutorial.step){var me=this.cameras.main;this.add.tileSprite(me.centerX-5,me.centerY-295,500,30,"white-pixel").setTint(16752168),this.add.text(me.centerX-227,me.centerY-297,this.state.lang.slotSize,{font:"20px Shadow",color:"#fffcdc"}).setOrigin(0,.5).setShadow(2,2,"#08080888",2);var ge=u.default.checkTestB(this.state)?500:1e3;this.add.text(me.centerX+148,me.centerY-297,r.shortNum(ge),{font:"20px Shadow",color:"#fffcdc"}).setOrigin(0,.5).setShadow(2,2,"#08080888",2),this.topPosition=!0,this.indent=this.height-800,this.tailX=430,this.tailFlipX=!0,this.tailFlipY=!0,this.showContinue=!0,this.tutorText=this.state.lang.cowTutorial_20,this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneTutor_20()},this.pointerTutorial()}else if(30===this.state.tutorial.step){me=this.cameras.main;this.add.tileSprite(me.centerX-5,me.centerY-310,500,50,"white-pixel").setTint(16752168),this.add.text(me.centerX-227,me.centerY-322,this.state.lang.milkInStorage,{font:"20px Shadow",color:"#fffcdc"}).setOrigin(0,.5).setShadow(2,2,"#08080888",2),this.add.text(me.centerX-227,me.centerY-297,this.state.lang.slotSize,{font:"20px Shadow",color:"#fffcdc"}).setOrigin(0,.5).setShadow(2,2,"#08080888",2);for(var ye=0,ve=0,we=this.game.scene.keys.Cow.territories.children.entries;ve<we.length;ve++){5===(q=we[ve]).territoryType&&(ye+=q.volume)}this.add.text(me.centerX+148,me.centerY-322,r.shortNum(ye),{font:"20px Shadow",color:"#fffcdc"}).setOrigin(0,.5).setShadow(2,2,"#08080888",2);ge=u.default.checkTestB(this.state)?500:1e3;this.add.text(me.centerX+148,me.centerY-297,r.shortNum(ge),{font:"20px Shadow",color:"#fffcdc"}).setOrigin(0,.5).setShadow(2,2,"#08080888",2),this.topPosition=!0,this.indent=this.height-800,this.tailX=430,this.tailFlipX=!0,this.tailFlipY=!0,this.showContinue=!0,this.tutorText=this.state.lang.cowTutorial_30,this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneTutor_30()},this.pointerTutorial()}else 40===this.state.tutorial.step?(this.tutorText=this.state.lang.cowTutorial_40,this.generalClick=function(){return i.game.scene.keys[i.state.farm].doneTutor_40()},this.simpleTutorial()):this.fail();else this.fail()},t.prototype.pointerTutorial=function(){var e,t,i=this,s=200,n=0;this.text=this.add.text(240,0,this.tutorText,{font:"24px Shadow",color:"#7D3C25",align:"left",wordWrap:{width:410}}).setOrigin(0,.5).setDepth(1).setAlpha(0);var a=this.text.getBounds().height;a>160&&(s=a+40),this.showContinue&&(s+=50),this.topPosition?(n=1,t=(e=this.indent+s)-s+1):t=(e=this.height-this.indent)-1;var r,o,c=this.add.graphics({x:40,y:e-s});c.fillStyle(16773343,1),c.fillRoundedRect(0,0,640,s,16).setAlpha(0),this.text.y=e-s/2,this.farmer=this.add.sprite(140,e-s/2,"farmer").setScale(.6).setAlpha(0),this.tail=this.add.sprite(this.tailX,t,"tail").setOrigin(.5,n).setAlpha(0),this.tail.setFlipX(this.tailFlipX),this.tail.setFlipY(this.tailFlipY),this.showContinue&&(this.text.y-=35,r=this.add.sprite(325,e-53,"tutor-btn").setDepth(1).setAlpha(0),o=this.add.text(325,e-56,this.state.lang.next,{font:"22px Shadow",color:"#FFFFFF",align:"left",wordWrap:{width:410}}).setOrigin(.5,.5).setDepth(1).setAlpha(0),this.clickShopBtn({btn:r,title:o,img:!1},(function(){i.generalClick()})));var h=0,l=this.time.addEvent({delay:30,callback:function(){h+=.05,i.text.setAlpha(h),c.setAlpha(h),i.farmer.setAlpha(h),i.tail.setAlpha(h),i.showContinue&&(r.setAlpha(h),o.setAlpha(h)),h>=1&&l.remove(!1)},callbackScope:this,loop:!0})},t.prototype.simpleTutorial=function(){var e=this,t=this.height-500;this.text=this.add.text(100,t,this.tutorText,{font:"24px Shadow",color:"#7D3C25",align:"left",wordWrap:{width:410}}).setOrigin(0,1).setDepth(1).setAlpha(0);var i=this.text.getBounds().height,s=this.add.sprite(190,t+40,"tutor-btn").setDepth(1).setAlpha(0),n=this.add.text(190,t+38,this.state.lang.next,{font:"22px Shadow",color:"#FFFFFF",align:"left",wordWrap:{width:410}}).setOrigin(.5,.5).setDepth(1).setAlpha(0);this.clickShopBtn({btn:s,title:n,img:!1},(function(){e.generalClick()}));var a=this.add.graphics({x:75,y:t-i-25});a.fillStyle(16773343,1),a.fillRoundedRect(0,0,485,i+110,16).setAlpha(0),this.farmer=this.add.sprite(590,this.height-280,"farmer").setScale(.8).setAlpha(0),this.tail=this.add.sprite(390,t+84,"tail").setOrigin(0,0).setAlpha(0);var r=0,o=this.time.addEvent({delay:30,callback:function(){r+=.05,e.text.setAlpha(r),a.setAlpha(r),s.setAlpha(r),n.setAlpha(r),e.farmer.setAlpha(r),e.tail.setAlpha(r),r>=1&&o.remove(!1)},callbackScope:this,loop:!0})},t.prototype.showSheepMoney=function(){var e=this.add.sprite(590,100,"сurrency-bg").setAlpha(0),t=this.add.sprite(498,100,"sheepCoin").setScale(.22).setAlpha(0),i=this.add.text(590,100,String(this.state.userSheep.money),{font:"32px Shadow",color:"#7B3B0D"}).setDepth(1).setOrigin(.5,.5).setAlpha(0),s=0,n=this.time.addEvent({delay:30,callback:function(){s+=.05,e.setAlpha(s),t.setAlpha(s),i.setAlpha(s),s>=1&&n.remove(!1)},callbackScope:this,loop:!0})},t.prototype.fail=function(){var e=this;this.generalClick=function(){e.game.scene.keys[e.state.farm].wheel=!0,e.scene.stop()},this.tutorText=this.state.lang.tutorialFail,this.simpleTutorial()},t}(Phaser.Scene);t.default=p},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),r=i(0),o=i(36),c=i(55),h=i(27),l=i(113),d=i(114),u=i(9),p=i(19),f=function(e){function t(){var t=e.call(this,"UnicornBars")||this;return t.stepsDiamonds=[],t.click=a.click.bind(t),t.clickButton=a.clickButton.bind(t),t.clickShopBtn=a.clickShopBtn.bind(t),t.clickModalBtn=a.clickModalBtn.bind(t),t.increaseDiamonds=h.increaseDiamonds.bind(t),t.newbieAwardAnimation=h.newbieAwardAnimation.bind(t),t.getCurrency=h.getCurrency.bind(t),t.updateNotificationShop=o.updateNotificationShop.bind(t),t.updateRaitingsBar=c.updateRaitingsBar.bind(t),t.scoreEnding=c.scoreEnding.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e,this.height=Number(this.game.config.height),this.increaseAnimation=!1,this.countIncrease=0,this.userDiamonds=this.state.user.diamonds,this.stepsDiamonds=[],this.hints=this.add.group()},t.prototype.create=function(){var e=this;this.add.sprite(0,0,"topbar-event").setOrigin(0,0).setInteractive();var t=this.add.zone(0,0,480,280);this.click(t,(function(){if(e.state.userUnicorn.tutorial>70){e.game.scene.keys.Unicorn.getEventRaiting();e.state.modal={type:11},e.scene.launch("Modal",e.state)}})),this.add.sprite(0,this.height+10,"tabbar").setInteractive().setOrigin(0,1);var i="event-buy-icon-"+this.game.scene.keys[this.state.farm].maxBreedForBuy();this.animalBuy=this.add.image(82,this.height-92,i),this.collectorBtn=this.add.image(230,this.height-90,"event-collector"),this.shop=this.add.image(370,this.height-90,"shop"),this.map=this.add.image(510,this.height-90,"map-icon"),this.mapNotificator=new p.default(this,{x:this.map.x+35,y:this.map.y-50}),this.mapNotificator.setCount(0),this.shopNotificator=new p.default(this,{x:this.shop.x+35,y:this.shop.y-50}),this.shopNotificator.setCount(0),this.clickButton(this.animalBuy,(function(){(e.state.userUnicorn.tutorial>70||30===e.state.userUnicorn.tutorial)&&e.game.scene.keys[e.state.farm].buyAnimal(e.game.scene.keys.Unicorn.maxBreedForBuy()),e.updateAnimalPrice()})),this.clickButton(this.collectorBtn,(function(){e.state.modal={type:2,shopType:4},e.scene.launch("Modal",e.state)})),this.clickButton(this.shop,(function(){var t,i={type:2,shopType:(null===(t=e.state.modal)||void 0===t?void 0:t.shopType)||1};e.state.modal=i,e.scene.launch("Modal",e.state)})),this.clickButton(this.map,(function(){e.game.scene.keys[e.state.farm].scrolling.downHandler(),e.game.scene.keys[e.state.farm].scrolling.enabled=!1,e.game.scene.keys[e.state.farm].scrolling.wheel=!1,e.scene.launch("Profile",e.state)})),this.menu=d.default.create(this),this.offline=this.add.sprite(650,this.height-90,"offline").setInteractive().setDepth(this.height+4).setVisible(!1),this.state.online||this.offline.setVisible(!0),this.diamonds=this.add.text(590,38,"",{font:"32px Shadow",color:"#7B3B0D"}).setDepth(1).setOrigin(.5,.5),this.money=this.add.text(590,100,"",{font:"32px Shadow",color:"#7B3B0D"}).setDepth(1).setOrigin(.5,.5),this.addDiamonds=this.add.sprite(680,38,"plus").setDepth(2),this.addMoney=this.add.sprite(680,100,"plus").setDepth(2),this.score=this.add.text(110,30,"- "+this.scoreEnding(10,this.state.lang),{font:"28px Shadow",color:"#6e00c7"}).setDepth(2).setOrigin(.5,.5),this.place=this.add.text(110,90,"- "+this.state.lang.eventPlace,{font:"28px Shadow",color:"#f0e8ce"}).setDepth(2).setOrigin(.5,.5).setShadow(4,2,"#00000030",.5),this.clickButton(this.addDiamonds,(function(){if(e.state.userUnicorn.tutorial>70){e.state.modal={type:2,shopType:1},e.scene.launch("Modal",e.state)}})),this.clickButton(this.addMoney,(function(){if(e.state.userUnicorn.tutorial>70){e.state.modal={type:2,shopType:2},e.scene.launch("Modal",e.state)}})),this.collector=new l.default(this,230,this.height-90,44);var s=this.game.scene.keys[this.state.farm].maxBreedForBuy(),n=String(r.shortNum(this.game.scene.keys[this.state.farm].animalPrice(s).price));this.animalPrice=this.add.text(82,this.height-43,n,{font:"28px Bip",color:"#925C28",align:"center"}).setDepth(this.height).setOrigin(.5,.5);var a=this.animalPrice.getBounds();this.animalPriceBubble=this.add.graphics({x:a.left-15,y:a.top}),this.animalPriceBubble.fillStyle(16777215,1),this.animalPriceBubble.fillRoundedRect(0,0,a.width+30,a.height,8),this.proceedsText=this.add.text(this.cameras.main.centerX,92,this.state.lang.income+" 0/"+this.state.lang.seconds,{font:"21px Shadow",color:"#f2ede4",wordWrap:{width:80},align:"center"}).setOrigin(.5,.5).setShadow(4,2,"#00000030",.5),this.feedBoostDoubledIcon=this.add.image(this.cameras.main.centerX+60,50,"double-feed-boost").setVisible(!1),this.feedBoostIcon=this.add.image(this.cameras.main.centerX-50,105,"event-feed-boost-mini").setVisible(!1),this.feedBoostTime=this.add.text(this.feedBoostIcon.getBounds().right+5,105,r.shortTime(this.state.userUnicorn.feedBoostTime,this.state.lang),{font:"21px Shadow",color:"#f2ede4"}).setOrigin(0,.5).setVisible(!1),this.state.userUnicorn.tutorial<80&&(this.shop.setVisible(!1),this.map.setVisible(!1),this.collectorBtn.setVisible(!1),this.collector.setVisible(!1),this.collector.bubble.setVisible(!1)),this.state.userUnicorn.tutorial<30&&(this.animalBuy.setVisible(!1),this.animalPrice.setVisible(!1),this.animalPriceBubble.setVisible(!1)),this.state.user.starterpack||(this.starterpackIcon=this.add.sprite(480,25,"stock-icon").setScale(.34),this.click(this.starterpackIcon,(function(){e.state.modal={type:2,shopType:1},e.scene.launch("Modal",e.state)})),this.tweens.add({targets:this.starterpackIcon,delay:2e3,props:{rotation:{duration:600,yoyo:!1,ease:"Power2",value:2*Math.PI},scale:{value:.4,ease:"Power1",duration:250,yoyo:!0}},loop:-1}))},t.prototype.update=function(){var e;if(this.userDiamonds<this.state.user.diamonds)if(0===this.countIncrease){var t=this.state.user.diamonds-this.userDiamonds;if(t>=3){this.countIncrease=3;var i=Math.round(t/3);this.stepsDiamonds.push(this.state.user.diamonds),this.stepsDiamonds.push(this.userDiamonds+i),this.stepsDiamonds.push(this.userDiamonds+i+i)}else 2===t?(this.countIncrease=2,this.stepsDiamonds.push(this.state.user.diamonds),this.stepsDiamonds.push(this.userDiamonds+1)):(this.countIncrease=1,this.stepsDiamonds.push(this.state.user.diamonds))}else this.countIncrease>0&&!this.increaseAnimation&&this.increaseDiamonds();else this.userDiamonds=this.state.user.diamonds;this.diamonds.text!==String(r.shortNum(this.userDiamonds))&&this.diamonds.setText(String(r.shortNum(this.userDiamonds))),this.money.text!==String(r.shortNum(this.state.userUnicorn.money))&&this.money.setText(r.shortNum(this.state.userUnicorn.money)),this.buyAnimalStatus(),this.updateNotificationShop(),this.updateRaitingsBar(),this.starterpackIcon&&this.state.user.starterpack&&(null===(e=this.starterpackIcon)||void 0===e||e.destroy())},t.prototype.updateAnimalPrice=function(){var e=this.game.scene.keys.Unicorn.maxBreedForBuy(),t=String(r.shortNum(this.game.scene.keys.Unicorn.animalPrice(e).price)),i="event-buy-icon-"+e;this.animalBuy.setTexture(i),this.animalPrice.setText(t);var s=this.animalPrice.getBounds();this.animalPriceBubble.destroy(),this.animalPriceBubble=this.add.graphics({x:s.left-15,y:s.top}),this.animalPriceBubble.fillStyle(16777215,1),this.animalPriceBubble.fillRoundedRect(0,0,s.width+30,s.height,8)},t.prototype.buyAnimalStatus=function(){var e=this.game.scene.keys.Unicorn.maxBreedForBuy(),t=this.game.scene.keys[this.state.farm].animalPrice(e).price;(this.state.userUnicorn.herdBoostAnimals.length>0||u.default.greaterThan(t,this.state.userUnicorn.money)||this.state.userUnicorn.tutorial<70&&30!==this.state.userUnicorn.tutorial)&&16777215===this.animalBuy.tintBottomLeft?this.animalBuy.setTint(7829367):this.state.userUnicorn.herdBoostAnimals.length<=0&&u.default.lessThanOrEqual(t,this.state.userUnicorn.money)&&7829367===this.animalBuy.tintBottomLeft&&(this.state.userUnicorn.tutorial>70||30===this.state.userUnicorn.tutorial)&&this.animalBuy.setTint(16777215)},t}(Phaser.Scene);t.default=f},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(41),o=i(33),c=i(0),h=i(23),l=i(4),d=i(18),u=i(11),p=function(e){function t(){var t=e.call(this,"UnicornPreload")||this;return t.loadingScreen=c.loadingScreen.bind(t),t.loadData=o.default.bind(t),t.clickShopBtn=l.clickShopBtn.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e,this.userReady=!1,this.loadingReady=!1,this.serverError=!1,this.loadUser(),this.state.farm="Unicorn",this.startTime=Math.round((new Date).getTime()/1e3),this.state.socket||(this.socket=!0,this.loadTime=Math.round((new Date).getTime()/1e3),this.state.socket=new r.default(this.state)),d.default.showInterstitialOnPreload(this.state,this)},t.prototype.preload=function(){this.loadingScreen("Unicorn"),this.load.image("bg",u.default.bg),this.load.image("event-top",u.default.unicornTop),this.load.image("event-bottom",u.default.unicornBottom),this.load.image("topbar-event",u.default.unicornTopbar),this.load.image("tabbar",u.default.tabbar),this.load.image("event-collector",u.default.resourceCollector),this.load.image("shop",u.default.shop),this.load.image("map-icon",u.default.mapIcon),this.load.image("sandwich",u.default.sandwich),this.load.image("sandwich-close",u.default.sandwichClose),this.load.image("profile",u.default.profile),this.load.image("chat",u.default.chat),this.load.image("event-for-buying",u.default.unicornForBuying),this.load.image("lock-event-territory",u.default.unicornlockTerritory),this.load.image("merging-animation",u.default.mergingAnimation),this.load.image("unicornCoin",u.default.unicornCoin),this.load.image("diamond",u.default.diamond),this.load.image("lock",u.default.lock),this.load.image("gift",u.default.gift),this.load.image("offline",u.default.offline),this.load.image("tutor-btn",u.default.tutorBtn),this.load.image("heart",u.default.heart),this.load.image("calendar",u.default.calendar),this.load.image("ad-icon",u.default.adIcon),this.load.image("bg-ad",u.default.bgAd),this.load.image("big-btn-green",u.default.bigButtonGreen),this.load.image("event-grass",u.default.unicornGrass),this.load.image("event-forest-1",u.default.unicornForest1),this.load.image("event-forest-2",u.default.unicornForest2),this.load.image("event-forest-3",u.default.unicornForest3),this.load.image("event-forest-4",u.default.unicornForest4),this.load.image("event-forest-5",u.default.unicornForest5),this.load.image("event-forest-6",u.default.unicornForest6),this.load.image("unicorn-vertical-border",u.default.unicornVerticalBorder),this.load.image("unicorn-horizontal-border-1",u.default.unicornHorizontalBorder1),this.load.image("unicorn-horizontal-border-2",u.default.unicornHorizontalBorder2),this.load.image("unicorn-horizontal-border-3",u.default.unicornHorizontalBorder3),this.load.image("event-work-zone",u.default.eventWorkZone),this.load.image("event-buy-icon-1",u.default.eventBuyIcon1),this.load.image("event-buy-icon-2",u.default.eventBuyIcon2),this.load.image("event-buy-icon-3",u.default.eventBuyIcon3),this.load.image("event-buy-icon-4",u.default.eventBuyIcon4),this.load.image("event-buy-icon-5",u.default.eventBuyIcon5),this.load.image("event-buy-icon-6",u.default.eventBuyIcon6),this.load.image("event-buy-icon-7",u.default.eventBuyIcon7),this.load.image("event-buy-icon-8",u.default.eventBuyIcon8),this.load.image("event-buy-icon-9",u.default.eventBuyIcon9),this.load.image("event-buy-icon-10",u.default.eventBuyIcon10),this.load.image("event-buy-icon-11",u.default.eventBuyIcon11),this.load.image("event-buy-icon-12",u.default.eventBuyIcon12),this.load.image("event-buy-icon-13",u.default.eventBuyIcon13),this.load.image("event-buy-icon-14",u.default.eventBuyIcon14),this.load.image("event-buy-icon-15",u.default.eventBuyIcon15),this.load.image("event-buy-icon-16",u.default.eventBuyIcon16),this.load.image("event-buy-icon-17",u.default.eventBuyIcon17),this.load.image("event-buy-icon-18",u.default.eventBuyIcon18),this.load.image("event-buy-icon-19",u.default.eventBuyIcon19),this.load.image("event-buy-icon-20",u.default.eventBuyIcon20),this.load.image("event-buy-icon-21",u.default.eventBuyIcon21),this.load.image("event-buy-icon-22",u.default.eventBuyIcon22),this.load.image("event-buy-icon-23",u.default.eventBuyIcon23),this.load.image("event-buy-icon-24",u.default.eventBuyIcon24),this.load.image("event-buy-icon-25",u.default.eventBuyIcon25),this.load.image("event-buy-icon-26",u.default.eventBuyIcon26),this.load.image("event-buy-icon-27",u.default.eventBuyIcon27),this.load.image("event-buy-icon-28",u.default.eventBuyIcon28),this.load.image("event-buy-icon-29",u.default.eventBuyIcon29),this.load.image("event-buy-icon-30",u.default.eventBuyIcon30),this.load.image("event-buy-icon-31",u.default.eventBuyIcon31),this.load.image("event-buy-icon-32",u.default.eventBuyIcon32),this.load.image("event-buy-icon-33",u.default.eventBuyIcon33),this.load.image("event-buy-icon-34",u.default.eventBuyIcon34),this.load.image("event-buy-icon-35",u.default.eventBuyIcon35),this.load.image("event-buy-icon-36",u.default.eventBuyIcon36),this.load.image("event-buy-icon-37",u.default.eventBuyIcon37),this.load.image("event-buy-icon-38",u.default.eventBuyIcon38),this.load.image("event-buy-icon-39",u.default.eventBuyIcon39),this.load.image("event-buy-icon-40",u.default.eventBuyIcon40),this.load.image("event-buy-icon-41",u.default.eventBuyIcon41),this.load.image("event-buy-icon-42",u.default.eventBuyIcon42),this.load.image("event-buy-icon-43",u.default.eventBuyIcon43),this.load.image("event-buy-icon-44",u.default.eventBuyIcon44),this.load.image("event-buy-icon-45",u.default.eventBuyIcon45),this.load.image("event-buy-icon-46",u.default.eventBuyIcon46),this.load.image("event-buy-icon-47",u.default.eventBuyIcon47),this.load.image("event-buy-icon-48",u.default.eventBuyIcon48),this.load.image("event-buy-icon-49",u.default.eventBuyIcon49),this.load.image("event-buy-icon-50",u.default.eventBuyIcon50),this.load.image("event-buy-icon-51",u.default.eventBuyIcon51),this.load.image("event-buy-icon-52",u.default.eventBuyIcon52),this.load.image("event-buy-icon-53",u.default.eventBuyIcon53),this.load.image("event-buy-icon-54",u.default.eventBuyIcon54),this.load.image("event-buy-icon-55",u.default.eventBuyIcon55),this.load.image("event-buy-icon-56",u.default.eventBuyIcon56),this.load.image("event-buy-icon-57",u.default.eventBuyIcon57),this.load.image("event-buy-icon-58",u.default.eventBuyIcon58),this.load.image("event-buy-icon-59",u.default.eventBuyIcon59),this.load.image("event-buy-icon-60",u.default.eventBuyIcon60),this.load.image("event-buy-icon-61",u.default.eventBuyIcon61),this.load.image("event-buy-icon-62",u.default.eventBuyIcon62),this.load.image("event-buy-icon-63",u.default.eventBuyIcon63),this.load.image("event-buy-icon-64",u.default.eventBuyIcon64),this.load.image("event-buy-icon-65",u.default.eventBuyIcon65),this.load.image("event-buy-icon-66",u.default.eventBuyIcon66),this.load.image("event-buy-icon-67",u.default.eventBuyIcon67),this.load.image("event-buy-icon-68",u.default.eventBuyIcon68),this.load.image("event-buy-icon-69",u.default.eventBuyIcon69),this.load.image("event-buy-icon-70",u.default.eventBuyIcon70),this.load.image("event-buy-icon-70",u.default.eventBuyIcon70),this.load.image("event-buy-icon-71",u.default.eventBuyIcon71),this.load.image("event-buy-icon-72",u.default.eventBuyIcon72),this.load.image("event-buy-icon-73",u.default.eventBuyIcon73),this.load.image("event-buy-icon-74",u.default.eventBuyIcon74),this.load.image("event-buy-icon-75",u.default.eventBuyIcon75),this.load.image("event-buy-icon-76",u.default.eventBuyIcon76),this.load.image("event-buy-icon-77",u.default.eventBuyIcon77),this.load.image("event-buy-icon-78",u.default.eventBuyIcon78),this.load.image("event-buy-icon-79",u.default.eventBuyIcon79),this.load.image("event-buy-icon-80",u.default.eventBuyIcon80),this.load.image("event-buy-icon-81",u.default.eventBuyIcon81),this.load.image("event-buy-icon-82",u.default.eventBuyIcon82),this.load.image("event-buy-icon-83",u.default.eventBuyIcon83),this.load.image("event-buy-icon-84",u.default.eventBuyIcon84),this.load.image("event-buy-icon-85",u.default.eventBuyIcon85),this.load.image("event-buy-icon-86",u.default.eventBuyIcon86),this.load.image("event-buy-icon-87",u.default.eventBuyIcon87),this.load.image("event-buy-icon-88",u.default.eventBuyIcon88),this.load.image("event-buy-icon-89",u.default.eventBuyIcon89),this.load.image("event-buy-icon-90",u.default.eventBuyIcon90),this.load.image("event-buy-icon-91",u.default.eventBuyIcon91),this.load.image("event-buy-icon-92",u.default.eventBuyIcon92),this.load.image("event-buy-icon-93",u.default.eventBuyIcon93),this.load.image("event-buy-icon-94",u.default.eventBuyIcon94),this.load.image("event-buy-icon-95",u.default.eventBuyIcon95),this.load.image("event-buy-icon-96",u.default.eventBuyIcon96),this.load.image("event-buy-icon-97",u.default.eventBuyIcon97),this.load.image("event-buy-icon-98",u.default.eventBuyIcon98),this.load.image("event-buy-icon-99",u.default.eventBuyIcon99),this.load.image("event-buy-icon-100",u.default.eventBuyIcon100),this.load.image("disable-animal",u.default.disableAnimal),this.load.image("animal1",u.default.unicorn1),this.load.image("animal2",u.default.unicorn2),this.load.image("animal3",u.default.unicorn3),this.load.image("animal4",u.default.unicorn4),this.load.image("animal5",u.default.unicorn5),this.load.image("animal6",u.default.unicorn6),this.load.image("animal7",u.default.unicorn7),this.load.image("animal8",u.default.unicorn8),this.load.image("animal9",u.default.unicorn9),this.load.image("animal10",u.default.unicorn10),this.load.image("animal11",u.default.unicorn11),this.load.image("animal12",u.default.unicorn12),this.load.image("animal13",u.default.unicorn13),this.load.image("animal14",u.default.unicorn14),this.load.image("animal15",u.default.unicorn15),this.load.image("animal16",u.default.unicorn16),this.load.image("animal17",u.default.unicorn17),this.load.image("animal18",u.default.unicorn18),this.load.image("animal19",u.default.unicorn19),this.load.image("animal20",u.default.unicorn20),this.load.image("animal21",u.default.unicorn21),this.load.image("animal22",u.default.unicorn22),this.load.image("animal23",u.default.unicorn23),this.load.image("animal24",u.default.unicorn24),this.load.image("animal25",u.default.unicorn25),this.load.image("animal26",u.default.unicorn26),this.load.image("animal27",u.default.unicorn27),this.load.image("animal28",u.default.unicorn28),this.load.image("animal29",u.default.unicorn29),this.load.image("animal30",u.default.unicorn30),this.load.image("animal31",u.default.unicorn31),this.load.image("animal32",u.default.unicorn32),this.load.image("animal33",u.default.unicorn33),this.load.image("animal34",u.default.unicorn34),this.load.image("animal35",u.default.unicorn35),this.load.image("animal36",u.default.unicorn36),this.load.image("animal37",u.default.unicorn37),this.load.image("animal38",u.default.unicorn38),this.load.image("animal39",u.default.unicorn39),this.load.image("animal40",u.default.unicorn40),this.load.image("animal41",u.default.unicorn41),this.load.image("animal42",u.default.unicorn42),this.load.image("animal43",u.default.unicorn43),this.load.image("animal44",u.default.unicorn44),this.load.image("animal45",u.default.unicorn45),this.load.image("animal46",u.default.unicorn46),this.load.image("animal47",u.default.unicorn47),this.load.image("animal48",u.default.unicorn48),this.load.image("animal49",u.default.unicorn49),this.load.image("animal50",u.default.unicorn50),this.load.image("animal51",u.default.unicorn51),this.load.image("animal52",u.default.unicorn52),this.load.image("animal53",u.default.unicorn53),this.load.image("animal54",u.default.unicorn54),this.load.image("animal55",u.default.unicorn55),this.load.image("animal56",u.default.unicorn56),this.load.image("animal57",u.default.unicorn57),this.load.image("animal58",u.default.unicorn58),this.load.image("animal59",u.default.unicorn59),this.load.image("animal60",u.default.unicorn60),this.load.image("animal61",u.default.unicorn61),this.load.image("animal62",u.default.unicorn62),this.load.image("animal63",u.default.unicorn63),this.load.image("animal64",u.default.unicorn64),this.load.image("animal65",u.default.unicorn65),this.load.image("animal66",u.default.unicorn66),this.load.image("animal67",u.default.unicorn67),this.load.image("animal68",u.default.unicorn68),this.load.image("animal69",u.default.unicorn69),this.load.image("animal70",u.default.unicorn70),this.load.image("animal71",u.default.unicorn71),this.load.image("animal72",u.default.unicorn72),this.load.image("animal73",u.default.unicorn73),this.load.image("animal74",u.default.unicorn74),this.load.image("animal75",u.default.unicorn75),this.load.image("animal76",u.default.unicorn76),this.load.image("animal77",u.default.unicorn77),this.load.image("animal78",u.default.unicorn78),this.load.image("animal79",u.default.unicorn79),this.load.image("animal80",u.default.unicorn80),this.load.image("animal81",u.default.unicorn81),this.load.image("animal82",u.default.unicorn82),this.load.image("animal83",u.default.unicorn83),this.load.image("animal84",u.default.unicorn84),this.load.image("animal85",u.default.unicorn85),this.load.image("animal86",u.default.unicorn86),this.load.image("animal87",u.default.unicorn87),this.load.image("animal88",u.default.unicorn88),this.load.image("animal89",u.default.unicorn89),this.load.image("animal90",u.default.unicorn90),this.load.image("animal91",u.default.unicorn91),this.load.image("animal92",u.default.unicorn92),this.load.image("animal93",u.default.unicorn93),this.load.image("animal94",u.default.unicorn94),this.load.image("animal95",u.default.unicorn95),this.load.image("animal96",u.default.unicorn96),this.load.image("animal97",u.default.unicorn97),this.load.image("animal98",u.default.unicorn98),this.load.image("animal99",u.default.unicorn99),this.load.image("animal100",u.default.unicorn100),this.load.image("cloud",u.default.cloud),this.load.image("event-resource",u.default.resource),this.load.image("pixel",u.default.pixel),this.load.image("unicorn-merging",u.default.unicornMerging),this.load.image("unicorn-tent",u.default.unicornTent),this.load.image("flower1",u.default.unicornFlower1),this.load.image("flower2",u.default.unicornFlower2),this.load.image("flower3",u.default.unicornFlower3),this.load.image("flower4",u.default.unicornFlower4),this.load.image("confetti1",u.default.unicornConfetti1),this.load.image("confetti2",u.default.unicornConfetti2),this.load.image("confetti3",u.default.unicornConfetti3),this.load.image("confetti4",u.default.unicornConfetti4),this.load.image("confetti5",u.default.unicornConfetti5),this.load.image("confetti6",u.default.unicornConfetti6),this.load.image("confetti7",u.default.unicornConfetti7),this.load.image("confetti8",u.default.unicornConfetti8),this.load.image("double-feed-boost",u.default.doubleFeedBoost),this.load.image("event-feed-boost-mini",u.default.eventFeedBoostMini),this.load.image("autoprogress-bg",u.default.autoprogressBG),this.load.image("purple-btn",u.default.purpleBtn),this.load.image("rating-bg",u.default.ratingBG),this.load.image("rating-rules-btn",u.default.ratingRulesBtn),this.load.image("rating-price-btn",u.default.ratingPriseBtn),this.load.image("rating-places",u.default.ratingPrisePlaces),this.load.image("event-tutor-merging",u.default.eventTutorMerging),this.load.image("event-territory-btn",u.default.eventTerritoryBtn),this.load.image("stock-icon",u.default.stockIcon),this.load.image("notification-bg",u.default.notificationBg),this.load.image("text-sale",u.default.textSale),this.load.image("icon-sale",u.default.saleIcon)},t.prototype.create=function(){this.loadingReady=!0},t.prototype.update=function(){if(this.loadingReady&&this.userReady){if(this.socket){var e=Math.round((new Date).getTime()/1e3)-this.loadTime,t=document.body.clientWidth+" * "+document.body.clientHeight;this.state.socket.io.emit("updateSession",{user_id:this.state.user.id,hash:this.state.user.hash,screen_size:t,loadTime:e}),this.state.user.clanId&&this.state.socket.io.emit("joinClanRoom",{clanId:this.state.user.clanId}),this.state.amplitude.setFarmIdentify(),console.log("Test - "+this.state.user.test)}this.userReady=!1,this.loadingReady=!1,this.startTime=Math.round((new Date).getTime()/1e3)-this.startTime,this.state.offlineTime+=this.startTime,this.scene.stop(),this.scene.start("Unicorn",this.state),this.scene.start("UnicornBars",this.state),this.scene.start("Preload",this.state)}else this.loadingReady&&this.serverError&&(this.loadingReady=!1,this.serverError=!1,this.children.destroy(),new h.default(this,this.state.lang.checkYourInternet))},t.prototype.loadUser=function(){var e=this,t=this.state.user,i=t.id,s=t.hash,n=t.counter;a.default.post("https://ferma.games:4000/takeUnicornOfflineTime",{id:i,hash:s,counter:n}).then((function(t){var i=t.data,s=i.error,n=i.value;s?e.serverError=!0:(e.state.offlineTime=n,e.userReady=!0)})).catch((function(){e.serverError=!0})),this.state.farm="Unicorn",this.state.shopNotificationCount=[0,0,0,0]},t}(Phaser.Scene);t.default=p},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),r=i(0),o=i(51),c=i(1884),h=i(55),l=i(1885),d=i(1886),u=i(1887),p=i(1888),f=i(1889),m=i(1890),g=i(50),y=i(120),v=i(49),w=i(52),b=i(15),x=i(18),k=i(16),T=i(34),_=function(e){function t(){var t=e.call(this,"Unicorn")||this;return t.topIndent=140,t.bottomIndent=240,t.collector=0,t.collectorTakenTime=0,t.autoSaveTimer=0,t.velocity=100,t.maxCountResource=30,t.herdBoostLvl=4,t.feedBoostLvl=5,t.startCreateHerdBoostAnimal=!1,t.feedBoostMultiplier="2",t.feedBoostStack=11,t.collisions=u.collisions.bind(t),t.click=a.click.bind(t),t.clickTerritory=a.clickTerritory.bind(t),t.currentTerritory=h.currentTerritory.bind(t),t.confirmExchangeTerritory=o.confirmExchangeTerritory.bind(t),t.convertDiamonds=h.convertDiamonds.bind(t),t.exchange=h.exchange.bind(t),t.showBank=o.showBank.bind(t),t.freeCollector=h.freeCollector.bind(t),t.buyCollector=h.buyCollector.bind(t),t.messageIsSent=o.messageIsSent.bind(t),t.buildBorders=f.buildBorders.bind(t),t.logout=r.logout.bind(t),t.onlineStatus=r.onlineStatus.bind(t),t.showDonate=o.showDonate.bind(t),t.takeDonate=r.takeDonate.bind(t),t.showImproveCollector=o.showImproveCollector.bind(t),t.improveCollector=h.improveCollector.bind(t),t.createBoostAnimal=h.createBoostAnimal.bind(t),t.startHerdBoost=o.startHerdBoost.bind(t),t.world=c.default.bind(t),t.maxBreedForBuy=h.maxBreedForBuy.bind(t),t.buyAnimal=l.buyAnimal.bind(t),t.getAnimal=l.getAnimal.bind(t),t.animalPrice=h.animalPrice.bind(t),t.tryClanTask=k.tryClanTask.bind(t),t.getFreePosition=h.getFreePosition.bind(t),t.drag=d.default.bind(t),t.confirmExpelAnimal=l.confirmExpelAnimal.bind(t),t.checkMerging=l.checkMerging.bind(t),t.teleportation=y.teleportation.bind(t),t.animalBrain=u.animalBrain.bind(t),t.reverse=l.reverse.bind(t),t.aim=l.aim.bind(t),t.getResource=l.getResource.bind(t),t.interval=p.default.bind(t),t.collectResource=l.collectResource.bind(t),t.deleteTerritoriesLocks=f.deleteTerritoriesLocks.bind(t),t.buyTerritory=f.buyTerritory.bind(t),t.setCollector=m.default.bind(t),t.convertMoney=h.convertMoney.bind(t),t.getActiveAnimal=l.getActiveAnimal.bind(t),t.autosave=g.default.bind(t),t.flyAnimal=y.flyAnimal.bind(t),t.updateTeleportation=y.updateTeleportation.bind(t),t.getFreeBoostPositions=h.getFreeBoostPositions.bind(t),t.tryTask=h.tryTask.bind(t),t.buildFlowers=f.buildFlowers.bind(t),t.buildConfetti=f.buildConfetti.bind(t),t.autoprogress=v.default.bind(t),t.getEventRaiting=r.getEventRaiting.bind(t),t.doubleClick=a.doubleClick.bind(t),t.showEventTutorial=w.showEventTutorial.bind(t),t.doneEventTutor_10=w.doneEventTutor_10.bind(t),t.doneEventTutor_20=w.doneEventTutor_20.bind(t),t.doneEventTutor_30=w.doneEventTutor_30.bind(t),t.doneEventTutor_40=w.doneEventTutor_40.bind(t),t.doneEventTutor_50=w.doneEventTutor_50.bind(t),t.doneEventTutor_60=w.doneEventTutor_60.bind(t),t.doneEventTutor_70=w.doneEventTutor_70.bind(t),t.progressEventTutor_40=w.progressEventTutor_40.bind(t),t.progressEventTutor_50=w.progressEventTutor_50.bind(t),t.dragEventAnimal=y.dragEventAnimal.bind(t),t.nextDayTimer=r.nextDayTimer.bind(t),t.intervalPorgressCollectorTime=b.intervalPorgressCollectorTime.bind(t),t.autoporgressCollectorTime=r.autoporgressCollectorTime.bind(t),t.farmBalance=r.farmBalance.bind(t),t.sheepIntervalProgress=b.sheepIntervalProgress.bind(t),t.sheepCollectorProgress=b.sheepCollectorProgress.bind(t),t.chickenIntervalProgress=b.chickenIntervalProgress.bind(t),t.chickenCollectorProgress=b.chickenCollectorProgress.bind(t),t.cowIntervalProgress=b.cowIntervalProgress.bind(t),t.cowCollectorProgress=b.cowCollectorProgress.bind(t),t.cowFactoryProgress=b.cowFactoryProgress.bind(t),t.updateProfileNotification=b.updateProfileNotification.bind(t),t.randomString=r.randomString.bind(t),t.progressTerritoryCooldown=b.progressTerritoryCooldown.bind(t),t.playSoundOnce=r.playSoundOnce.bind(t),t.setPlatformStorage=r.setPlatformStorage.bind(t),t.getPlatformStorage=r.getPlatformStorage.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e,this.state.farm="Unicorn",this.collectorTimer=null,this.ads=new x.default(this),this.achievement=new T.default(this),this.autoprogressTimer=null,this.state.userUnicorn.takenHerdBoost<=0&&(this.state.userUnicorn.takenHerdBoost=1)},t.prototype.create=function(){this.world(),this.drag(),this.collisions(),this.interval(),this.setCollector(),this.flyAnimal(),this.getEventRaiting(),this.ads.showInterstitialAd()},t.prototype.update=function(){var e=this;this.animalBrain(),this.updateTeleportation(),this.scene.isActive("Tutorial")||this.dragEventAnimal(!0),30===this.state.userUnicorn.tutorial&&this.animals.children.entries.length>1&&this.doneEventTutor_30(),40===this.state.userUnicorn.tutorial&&this.state.userUnicorn.points>=2&&this.doneEventTutor_40(),50!==this.state.userUnicorn.tutorial||this.scene.isActive("Tutorial")||this.animals.children.entries.forEach((function(t){t.data.values.active.data.values.working&&e.doneEventTutor_50()}))},t}(Phaser.Scene);t.default=_},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(17);t.default=function(){var e,t=this,i=this.state;this.height=Math.round(Number(this.game.config.width)/3);var n=6*this.height+this.topIndent+this.bottomIndent;this.add.tileSprite(0,0,this.game.config.width,n,"bg").setOrigin(0,0),this.top=this.add.sprite(0,0,"event-top").setOrigin(0,0),this.bottom=this.add.sprite(0,n,"event-bottom").setOrigin(0,1).setDepth(n),this.cameras.main.setBounds(0,0,720,n),this.physics.world.setBounds(-100,0,920,n);var a={wheel:!0,bottom:n};this.scrolling=new s.default(this,a),this.input.on("pointerup",(function(){t.scrolling.enabled=!0,t.scrolling.wheel=!0})),this.territories=this.physics.add.group();var r=5;i.unicornTerritories.map((function(e,s){var n,a=(e.position-1)*t.height,o=(e.block-1)*t.height;++r>6&&(r=1),0===e.position&&a++,0===e.block&&o++,o+=t.topIndent,0===e.type?n="event-for-buying":2===e.type?n="event-grass":4===e.type&&(n="event-work-zone");var c=t.territories.create(a,o,n);c.setDataEnabled().setOrigin(0,0).setDepth(o),c.data.values._id=e._id,c.data.values.block=e.block,c.data.values.position=e.position,c.data.values.type=e.type,c.data.values.merging=[];var h=1,l=1;if(1===e.position?(h=1,l=3):2===e.position?(h=2,l=1):3===e.position&&(h=3,l=2),c.data.values.borderTop=t.add.sprite(c.x,c.y+15,"unicorn-horizontal-border-"+h).setOrigin(0,1).setDepth(c.y+1).setVisible(!1),c.data.values.borderLeft=t.add.sprite(c.x,c.y,"unicorn-vertical-border").setOrigin(0,0).setDepth(c.y+1).setVisible(!1),c.data.values.borderRight=t.add.sprite(c.x+240,c.y,"unicorn-vertical-border").setOrigin(1,0).setDepth(c.y+1).setVisible(!1),c.data.values.borderBottom=t.add.sprite(c.x,c.y+240,"unicorn-horizontal-border-"+l).setOrigin(0,1).setDepth(c.y+1).setVisible(!1),0===e.type){var d=c.x+120,u=c.y+120,p=i.unicornSettings.territoriesUnicornPrice.find((function(e){return e.block===c.data.values.block&&e.position===c.data.values.position})).unlock;c.data.values.forest=t.add.image(c.x+120,c.y+240,"event-forest-"+r).setOrigin(.5,1).setDepth(c.y+2),c.data.values.btn=t.add.image(d,u,"event-territory-btn").setDepth(c.y+3),c.data.values.btnText=t.add.text(d+2,u+2,i.lang.buy,{font:"30px Shadow",color:"#e2f5fe",align:"center"}).setOrigin(.5,.5).setDepth(c.y+4).setShadow(0,-2,"#00000055",0),c.data.values.lock_image=t.add.image(d,u,"lock-event-territory").setDepth(c.y+3).setVisible(!1),p>i.userUnicorn.points&&(c.data.values.btn.setVisible(!1),c.data.values.btnText.setVisible(!1),c.data.values.lock_image=t.add.image(d,u,"lock-event-territory").setDepth(c.y+3).setVisible(!0))}var f=t.add.zone(a+40,o+40,c.width-80,c.height-80).setDropZone(void 0,(function(){})).setOrigin(0,0);f.type="type"+s,"type0"===f.type&&f.setDisplaySize(f.width,f.height-50),t.clickTerritory(c,(function(){var e;if(i.userUnicorn.tutorial>70){if(i.modal={type:1,sysType:2},i.territory=c,i.territory.type=c.data.values.type,i.territory.block=c.data.values.block,i.territory.position=c.data.values.position,2!==c.data.values.type&&4!==c.data.values.type&&t.scene.launch("Modal",i),(null===(e=c.data)||void 0===e?void 0:e.values.merging.length)>0){var s=t.animals.children.entries.find((function(e){return e.data.values._id===c.data.values.merging[0]._id}));s.data.values.active.data.values.teleport||t.teleportation(s.data.values.active,void 0,!0)}}}))})),this.buildBorders(),this.buildFlowers(),this.buildConfetti(),this.animals=this.physics.add.group({collideWorldBounds:!0}),null===(e=i.unicorn)||void 0===e||e.map((function(e){t.getAnimal(e._id,e.type,e.x,e.y,e.activeAnimal,!0)})),this.resources=this.physics.add.group(),i.unicornResources.map((function(e){t.getResource(e)})),0===i.userUnicorn.tutorial&&(i.userUnicorn.tutorial=10),i.userUnicorn.tutorial>0&&i.userUnicorn.tutorial<80&&this.showEventTutorial(),this.startCreateHerdBoostAnimal=i.userUnicorn.herdBoostAnimals.length>0,this.autoprogress(!0)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveAnimal=t.collectResource=t.checkMerging=t.confirmExpelAnimal=t.buyAnimal=t.getResource=t.getAnimal=t.aim=t.reverse=void 0;var s=i(0),n=i(29),a=i(9),r=i(28);t.reverse=function(e){e.data.values.collision=1;var t=s.random(this.velocity-5,this.velocity+5),i=s.random(this.velocity-5,this.velocity+5);switch(e.setVelocity(0,0),e.body.reset(e.x,e.y),e.data.values.vector){case 1:e.data.values.vector=3,e.setVelocity(-t,-i);break;case 2:e.data.values.vector=4,e.setVelocity(t,-i);break;case 3:e.data.values.vector=1,e.setVelocity(t,i);break;case 4:e.data.values.vector=2,e.setVelocity(-t,i);break;case 5:e.data.values.vector=7,e.setVelocity(0,i);break;case 6:e.data.values.vector=8,e.setVelocity(-t,0);break;case 7:e.data.values.vector=5,e.setVelocity(0,-i);break;case 8:e.data.values.vector=6,e.setVelocity(t,0)}},t.aim=function(e,t,i){e.x<t&&e.y>i?e.data.values.vector=4:e.x<t&&e.y<i?e.data.values.vector=1:e.x>t&&e.y<i?e.data.values.vector=2:e.x>t&&e.y>i?e.data.values.vector=3:e.x===t&&e.y>i?e.data.values.vector=5:e.x===t&&e.y<i?e.data.values.vector=7:e.x<t&&e.y===i?e.data.values.vector=6:e.x>t&&e.y===i&&(e.data.values.vector=8),e.data.values.aim=!0,e.data.values.aimX=t,e.data.values.aimY=i,e.data.values.distance=0;var s=new Phaser.Math.Vector2;s.x=t,s.y=i;var n=Phaser.Math.Distance.Between(e.x,e.y,s.x,s.y),a=1;n>=400?a=.15:n<400&&n>=300?a=.2:n<300&&n>=200?a=.25:n<200&&n>=100&&(a=.5),e.data.values.moving=!0,this.physics.moveToObject(e,s,n*a)},t.getAnimal=function(e,t,i,s,n,a){var r=this;void 0===n&&(n=void 0),void 0===a&&(a=!1);var o=this.animals.create(i,s,"animal"+t).setInteractive().setDepth(s).setAlpha(.55).setTint(16777215);return o.setCollideWorldBounds(!0),o.setDataEnabled(),this.input.setDraggable(o),o.data.values.drag=!1,o.data.values.merging=!1,o.data.values.oldX=o.x,o.data.values.oldY=o.y,o.data.values.type=t,o.data.values._id=e,o.data.values.expel=!1,o.data.values.teleport=!1,o.data.values.target={x:i,y:s},o.state="base",this.checkMerging(o),o.data.values.active=n?this.getActiveAnimal(t,n.x,n.y,o,n.counter,n.vector,n.working):this.getActiveAnimal(t,i,s,o),this.click(o,(function(){o.data.values.active.data.values.teleport||r.teleportation(o.data.values.active,void 0,!0)})),o},t.getActiveAnimal=function(e,t,i,s,n,a,r,o){var c=this;void 0===n&&(n=0),void 0===a&&(a=Phaser.Math.Between(1,8)),void 0===r&&(r=!1),void 0===o&&(o=!1);var h=this.physics.add.sprite(t,i,"animal"+e).setInteractive().setDepth(i+100);return h.setCollideWorldBounds(!0),h.setDataEnabled(),this.input.setDraggable(h),h.data.values.moving=!1,h.data.values.vector=a,h.data.values.counter=n,h.data.values.aim=!1,h.data.values.aimX=0,h.data.values.aimY=0,h.data.values.distance=0,h.data.values.drag=!1,h.data.values.working=r,h.data.values.onWorldBounds,h.data.values.collision=1,h.body.mass=0,h.data.values.changeVector=!1,h.data.values.resource=0,h.data.values.base=s,h.data.values.teleport=!1,h.data.values.topPosition=!1,h.data.values.cloud=this.physics.add.sprite(t,i,"cloud").setVisible(!1),h.data.values.goWork=!1,h.state="active",this.doubleClick(h,(function(){h.data.values.goWork=!0,h.data.values.teleport=!0;var e=new Phaser.Math.Vector2;e.x=Phaser.Math.Between(100,600),e.y=Phaser.Math.Between(c.topIndent+100,c.topIndent+300),h.data.values.target=e;var t=4*Phaser.Math.Distance.Between(h.x,h.y,e.x,e.y);c.physics.moveToObject(h,e,t)})),h},t.getResource=function(e){var t=this,i=this.resources.create(e.x,e.y,"event-resource");return i.setDataEnabled(),i.setDepth(e.y),i.data.values.type=e.type,i.data.values._id=e._id,i.data.values.click=!0,i.data.values.distance=0,i.data.values.timeout=0,i.setAngle(Phaser.Math.Between(0,360)),this.click(i,(function(){i.data.values.click&&(t.tryClanTask(4),t.collectResource(i))})),i},t.collectResource=function(e){var t=this.state.unicornSettings.unicornSettings.find((function(t){return t.breed===e.data.values.type})).resourcePrice;this.state.userUnicorn.feedBoostTime>0&&(t=a.default.multiply(t,this.feedBoostMultiplier)),e.data.values.click=!1,this.state.userUnicorn.money=a.default.add(this.state.userUnicorn.money,t);var i={x:e.x,y:e.y-this.scrolling.scrollY};r.default.create(this.game.scene.keys.UnicornBars,i,{x:495,y:80},"event-resource",400,1,!0).sprite.setDepth(-1),e.destroy()},t.buyAnimal=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=0);var n=!1,r=this.animalPrice(e);if(i>0)if(this.state.user.diamonds>=i){n=!0;var o=this.getFreePosition(),c=o.x,h=o.y;if(null===c||null===h)return;this.currentTerritory(c,h).data.values.animal=e;var l="local_"+s.randomString(18);this.getAnimal(l,e,c,h),this.state.user.diamonds-=i,this.state.userUnicorn.countAnimal[e-1].counter=r.countAnimal,this.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"buy_unicorn",count:i}),this.tryClanTask(1)}else t&&(this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal")),this.state.convertor={fun:0,count:i-this.state.user.diamonds,diamonds:i-this.state.user.diamonds,type:2},this.game.scene.keys[this.state.farm].exchange();else if(a.default.greaterThanOrEqual(this.state.userUnicorn.money,r.price)){var d=this.getFreePosition();c=d.x,h=d.y;if(null===c||null===h)return;n=!0,this.currentTerritory(c,h).data.values.animal=e;l="local_"+s.randomString(18);this.getAnimal(l,e,c,h),this.state.userUnicorn.money=a.default.subtract(this.state.userUnicorn.money,r.price),this.state.userUnicorn.countAnimal[e-1].counter=r.countAnimal,this.game.scene.keys.UnicornBars.updateAnimalPrice(),this.tryClanTask(1)}else{t&&(this.scene.stop("Shop"),this.scene.stop("ShopBars"),this.scene.stop("Modal"));var u=a.default.subtract(r.price,this.state.userUnicorn.money),p=this.convertMoney(u);this.state.convertor={fun:1,count:u,diamonds:p,type:1,breed:e};this.state.modal={type:1,sysType:4},this.scene.launch("Modal",this.state)}return n},t.confirmExpelAnimal=function(){this.state.modal={type:1,sysType:6},this.scene.launch("Modal",this.state)},t.checkMerging=function(e){var t,i,a=this;if("active"===e.state){var r=null==(t=this.currentTerritory(e.x,e.y))?void 0:t.data.values.merging.find((function(t){return t._id===e.data.values.base.data.values._id}));if(i=this.currentTerritory(e.data.values.base.x,e.data.values.base.y),e.data.values.base.data.values.type>this.state.userUnicorn.points&&(this.state.userUnicorn.points=e.data.values.base.data.values.type,this.deleteTerritoriesLocks(),this.getEventRaiting(),10===this.state.userUnicorn.points&&this.achievement.tryId(43)),void 0===r&&(null==t||t.data.values.merging.push({_id:e.data.values.base.data.values._id,type:e.data.values.base.data.values.type})),1===(null==t?void 0:t.data.values.merging.length))if(void 0!==i&&i!==t)this.teleportation(e),void 0!==(null==i?void 0:i.data.values.merging.find((function(t){return t._id===e.data.values.base.data.values._id})))&&(i.data.values.merging=[])}else if("base"===e.state){r=null==(t=this.currentTerritory(e.x,e.y))?void 0:t.data.values.merging.find((function(t){return t._id===e.data.values._id}));if(i=this.currentTerritory(e.data.values.oldX,e.data.values.oldY),e.data.values.type>this.state.userUnicorn.points&&(this.state.userUnicorn.points=e.data.values.type,this.deleteTerritoriesLocks(),this.getEventRaiting()),void 0===r&&(null==t||t.data.values.merging.push({_id:e.data.values._id,type:e.data.values.type})),1===(null==t?void 0:t.data.values.merging.length))if(void 0!==i&&i!==t)this.teleportation(e),void 0!==(null==i?void 0:i.data.values.merging.find((function(t){return t._id===e.data.values._id})))&&(i.data.values.merging=[])}if(2===(null==t?void 0:t.data.values.merging.length)){var o=this.animals.children.entries.find((function(e){return e.data.values._id===t.data.values.merging[0]._id})),c=this.animals.children.entries.find((function(e){return e.data.values._id===t.data.values.merging[1]._id}));if(o&&c)if((null==o?void 0:o.data.values.type)===(null==c?void 0:c.data.values.type)){var h={x:e.x,y:e.y},l=o.data.values.type+1,d="local_"+s.randomString(18);if(l>this.state.unicornSettings.unicornSettings.length){var u={type:1,sysType:3,height:150,message:this.state.lang.mergingMessageBreedMax};return this.state.modal=u,this.scene.launch("Modal",this.state),this.teleportation(e,void 0,!0),void(null==t||t.data.values.merging.pop())}void 0!==i&&i!==t&&(i.data.values.merging=[]),t.data.values.merging=[],this.getAnimal(d,l,h.x,h.y,0,0),this.time.addEvent({delay:100,callback:function(){var e,t;a.game.scene.keys.UnicornBars.updateAnimalPrice(),n.default.create(a,h),a.tryClanTask(5),null===(e=null==o?void 0:o.data.values.active)||void 0===e||e.data.values.cloud.destroy(),null===(t=null==c?void 0:c.data.values.active)||void 0===t||t.data.values.cloud.destroy(),null==o||o.data.values.active.destroy(),null==c||c.data.values.active.destroy(),null==o||o.destroy(),null==c||c.destroy()},callbackScope:this,loop:!1})}else this.time.addEvent({delay:100,callback:function(){t.data.values.merging.shift(),void 0!==i&&i!==t&&i.data.values.merging.shift(),"active"===e.state?o.data.values.active.data.values.working?a.teleportation(c.data.values.active,o):a.teleportation(c.data.values.active,o.data.values.active):"base"===e.state&&(o.data.values.active.data.values.working||c.data.values.teleport||c.data.values.active.data.values.teleport?a.teleportation(c,o):a.teleportation(c,o.data.values.active))},callbackScope:this,loop:!1})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;this.input.on("dragstart",(function(t,i){var s,n;if(e.state.userUnicorn.tutorial>=40){if("base"===i.state&&i.data.values.active.data.values.teleport)return;e.scrolling.downHandler(),e.scrolling.enabled=!1,e.scrolling.wheel=!1,i.data.values.zone=!1,i.data.values.working=!1,i.data.values.drag=!0,null===(s=i.data.values.cloud)||void 0===s||s.setVisible(!1),null===(n=i.data.values.cloud)||void 0===n||n.setOrigin(.5,.5),i.setOrigin(.5,.5),i.setVelocity(0,0),i.setCollideWorldBounds(!0)}})),this.input.on("drag",(function(t,i,s,n){e.state.userUnicorn.tutorial>=40&&i.data.values.drag&&(i.x=s,i.y=n,i.setDepth(n+Math.round(i.height/2+1e3)))})),this.input.on("drop",(function(t,i,s){if(e.state.userUnicorn.tutorial>=40)if("base"===i.state){if("type0"===s.type)e.teleportation(i);else if(s){i.data.values.zone=!0,e.currentTerritory(i.x,i.y)&&(i.x=s.x+s.width/2,i.y=s.y+s.height/2)}}else if("active"===i.state)if("type0"===s.type)e.state.userUnicorn.tutorial>=50?(i.data.values.working=!0,i.data.values.zone=!0):e.teleportation(i,void 0,!0);else if(s){i.data.values.working=!1,i.data.values.zone=!0,e.currentTerritory(i.x,i.y)&&(i.setOrigin(.5,.5),i.x=s.x+s.width/2,i.y=s.y+s.height/2,i.setDepth(i.y+100))}})),this.input.on("dragend",(function(t,i){if(e.scrolling.enabled=!0,e.scrolling.wheel=!0,i.data.values.drag=!1,!i.data.values.zone)return i.y>e.topIndent+480+840&&(e.state.userUnicorn.tutorial>=80?("active"===i.state?(i.data.values.base.data.values.expel=!0,e.state.animal=i.data.values.base):"base"===i.state&&(i.data.values.expel=!0,e.state.animal=i),e.teleportation(i,void 0,!0),e.confirmExpelAnimal()):e.teleportation(i,void 0,!0)),void e.teleportation(i,void 0,!0);if("active"===i.state)i.data.values.aim=!1,i.data.values.aimX=0,i.data.values.aimY=0,i.data.values.collision=0,i.data.values.working||((s=e.currentTerritory(i.x,i.y))?4!==s.data.values.type&&(0===s.data.values.type?(e.teleportation(i,void 0,!0),e.state.userUnicorn.tutorial>=80&&(i.data.values.base.data.values.expel=!0,e.state.animal=i.data.values.base,e.confirmExpelAnimal())):(i.data.values.base.data.values.expel=!1,e.checkMerging(i))):e.teleportation(i,void 0,!0));else if("base"===i.state){var s;(s=e.currentTerritory(i.x,i.y))?4!==s.data.values.type&&(0===s.data.values.type?(e.teleportation(i,void 0,!0),e.state.userUnicorn.tutorial>=80&&(i.data.values.expel=!0,e.state.animal=i,e.confirmExpelAnimal())):(i.data.values.expel=!1,e.checkMerging(i))):e.teleportation(i,void 0,!0)}}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collisions=t.animalBrain=void 0;var s=i(0);t.collisions=function(){var e=this;this.physics.add.overlap(this.animals,this.animals,(function(t,i){t.data.values.drag||i.data.values.drag||0!==t.data.values.collision||!t.data.values.moving||t.data.values.aim||e.reverse(t)}),null,this)},t.animalBrain=function(){for(var e in this.animals.children.entries){var t=this.animals.children.entries[e].data.values.active;if(!t.data.values.drag&&t.data.values.working){if(t.data.values.cloud.setVisible(!0),t.data.values.cloud.x=t.x,t.data.values.cloud.y=t.y+t.height/2-10,t.data.values.aim){var i=Phaser.Math.Distance.Between(t.x,t.y,t.data.values.aimX,t.data.values.aimY);t.x<0||t.x>720||t.y<this.topIndent||t.y>this.topIndent+480||i>t.data.values.distance&&t.data.values.distance>0?(t.data.values.aim=!1,t.body.reset(t.x,t.y),t.data.values.moving=!1,t.data.values.aimX=0,t.data.values.aimY=0,t.data.values.distance=0):t.data.values.distance=i,t.data.values.counter++}else{if(1===s.random(1,170)&&(t.data.values.changeVector=!0,t.data.values.vector=s.random(1,8)),t.data.values.counter>s.random(130,170))t.data.values.counter>=200&&(t.data.values.counter=0),!1!==t.data.values.moving&&(t.data.values.moving=!1,t.setVelocity(0,0),t.body.reset(t.x,t.y));else{if(!t.data.values.moving||t.data.values.changeVector){t.body.reset(t.x,t.y),t.setVelocity(0,0);var n=s.random(this.velocity-10,this.velocity+10),a=s.random(this.velocity-10,this.velocity+10);switch(t.data.values.vector){case 1:t.setVelocity(n,a);break;case 2:t.setVelocity(-n,a);break;case 3:t.setVelocity(-n,-a);break;case 4:t.setVelocity(n,-a);break;case 5:t.setVelocity(0,-a);break;case 6:t.setVelocity(n,0);break;case 7:t.setVelocity(0,a);break;case 8:t.setVelocity(-n,0)}}t.data.values.moving=!0,t.data.values.changeVector=!1}t.data.values.counter++,t.data.values.collision>=0&&t.data.values.collision++,t.data.values.collision>=200&&(t.data.values.collision=0)}if((t.x<t.width/2||t.x>720-t.width/2||t.y<this.topIndent+t.height/2||t.y>this.topIndent+480-t.height/2-t.data.values.cloud.height/2)&&t.data.values.working&&!t.data.values.aim){var r=s.random(0+Math.ceil(t.width/2),720-Math.ceil(t.width/2)),o=s.random(this.topIndent+Math.ceil(t.height/2),this.topIndent+480-Math.ceil(t.height/2)-Math.ceil(t.data.values.cloud.height/2));this.aim(t,r,o)}}t.data.values.cloud.setDepth(t.y+Math.round(t.height/2+100)),t.setDepth(t.y+Math.round(t.height/2+1e3)),t.data.values.base.data.values.drag&&t.data.values.base.setDepth(t.y+Math.round(t.height/2+1e4)),t.data.values.teleport&&t.setDepth(1e4*t.y),t.data.values.base.data.values.teleport&&t.data.values.base.setDepth(1e4*t.y)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=i(35),a=i(9),r=i(15),o=0,c=0,h=0,l=0,d=!1;t.default=function(){var e=this;this.time.addEvent({delay:1e3,callback:function(){var t,i;e.onlineStatus();var u=function(t){var i=e.animals.children.entries[t].data.values.active,n=i.data.values.base.data.values.type,a=e.state.unicornSettings.unicornSettings.find((function(e){return e.breed===n}));if(i.data.values.working){if(i.data.values.resource<1e3){var r=a.resource;i.data.values.resource+=r,i.data.values.resource>1e3&&(i.data.values.resource=1e3)}if(1e3===i.data.values.resource&&e.resources.getLength()<=e.maxCountResource){r={type:i.data.values.base.data.values.type,x:i.x,y:i.y+i.height/2,_id:"local_"+s.randomString(18)};e.getResource(r),i.data.values.resource=0}}};for(var p in e.animals.children.entries)u(p);for(var p in e.resources.children.entries){e.resources.children.entries[p].data.values.timeout++}if(e.state.userUnicorn.collector>0&&e.state.userUnicorn.collector--,e.state.userUnicorn.collectorNotificationTime=e.state.userUnicorn.collector,e.startCreateHerdBoostAnimal){var f=e.getFreeBoostPositions();e.createBoostAnimal(f)}if(e.scene.isActive("Modal")&&11===e.state.modal.type&&e.game.scene.keys.Modal.eventLeftTime.setText(s.shortTime(e.state.progress.event.endTime,e.state.lang)),e.state.userUnicorn.feedBoostTime>0){if(Phaser.Math.Between(0,7)>=5&&e.animals.children.entries.length>0){var m=Phaser.Math.Between(0,e.animals.children.entries.length-1);e.animals.children.entries[m].data.values.active.data.values.working&&n.default.create(e,e.animals.children.entries[m].data.values.active)}e.state.userUnicorn.feedBoostTime--,e.game.scene.keys.UnicornBars.feedBoostTime.setText(s.shortTime(e.state.userUnicorn.feedBoostTime,e.state.lang))}e.autoSaveTimer++,e.autoSaveTimer>=e.state.autoSaveSpeed&&e.autosave();var g=Math.round((new Date).getTime()/1e3);e.autoprogressTimer&&g>e.autoprogressTimer+5&&(e.state.offlineTime=g-e.autoprogressTimer,e.autoprogress()),e.autoprogressTimer=g,e.ads.findAd(),e.nextDayTimer(),e.state["user"+e.state.farm].points>=e.game.scene.keys[e.state.farm].herdBoostLvl&&e.state["user"+e.state.farm].takenHerdBoost<=0&&e.state.user.additionalTutorial.herdBoost?e.state.shopNotificationCount[3]=1:e.state.shopNotificationCount[3]=0,!e.state.user.takenFreeDiamonds&&e.state.userUnicorn.tutorial>70?e.state.shopNotificationCount[0]=1:e.state.shopNotificationCount[0]=0,e.game.scene.keys[e.state.farm+"Bars"].updateNotificationShop();var y=String(0);e.animals.children.entries.forEach((function(t){if(t.data.values.active.data.values.working){var i=e.state.unicornSettings.unicornSettings.find((function(e){return e.breed===t.data.values.type})).resourcePrice;y=a.default.add(y,i)}})),e.state.userUnicorn.collector<=0&&(y=String(0));var v=e.state.lang.income+" "+s.shortNum(a.default.divide(y,String(10)))+"/"+e.state.lang.seconds,w=s.shortNum(a.default.divide(y,String(10)))+"/"+e.state.lang.seconds,b=e.state.lang.income+" "+s.shortNum(a.default.divide(y,String(10)))+"/"+e.state.lang.seconds;if(e.state.userUnicorn.collector>0&&e.state.userUnicorn.feedBoostTime<=0&&e.game.scene.keys.UnicornBars.proceedsText.text!==v?e.game.scene.keys.UnicornBars.proceedsText.setText(v):e.state.userUnicorn.feedBoostTime>0&&e.game.scene.keys.UnicornBars.proceedsText.text!==w?e.game.scene.keys.UnicornBars.proceedsText.setText(w):e.state.userUnicorn.feedBoostTime<=0&&e.game.scene.keys.UnicornBars.proceedsText.text!==b&&e.game.scene.keys.UnicornBars.proceedsText.setText(b),!e.state.donate||e.scene.get("Modal").load.isLoading()||e.scene.isActive("Modal")||e.scene.isActive("Tutorial")||e.scene.isActive("Profile")||e.showDonate(),e.state.userUnicorn.points>=e.game.scene.keys.Unicorn.feedBoostLvl&&(e.state.userUnicorn.feedBoostTime>0&&!e.game.scene.keys.UnicornBars.feedBoostTime.visible?(e.game.scene.keys.UnicornBars.proceedsText.y=80,e.game.scene.keys.UnicornBars.proceedsText.setColor("#cbff40"),e.game.scene.keys.UnicornBars.feedBoostDoubledIcon.setVisible(!0),e.game.scene.keys.UnicornBars.feedBoostIcon.setVisible(!0),e.game.scene.keys.UnicornBars.feedBoostTime.setVisible(!0)):e.state.userUnicorn.feedBoostTime<=0&&e.game.scene.keys.UnicornBars.feedBoostTime.visible&&(e.game.scene.keys.UnicornBars.proceedsText.y=92,e.game.scene.keys.UnicornBars.proceedsText.setColor("#f2ede4"),e.game.scene.keys.UnicornBars.feedBoostDoubledIcon.setVisible(!1),e.game.scene.keys.UnicornBars.feedBoostIcon.setVisible(!1),e.game.scene.keys.UnicornBars.feedBoostTime.setVisible(!1))),(40===e.state.userUnicorn.tutorial||50===e.state.userUnicorn.tutorial)&&!e.scene.isActive("Tutorial")){e.mergTutor++;var x=e.animals.children.entries.find((function(e){return e.data.values.active.data.values.drag}));e.mergTutor>5&&!x&&e.showEventTutorial()}1===e.state.progress.event.type&&(e.state.progress.event.endTime>0&&(e.state.progress.event.endTime--,e.scene.isActive("Profile")&&(null===(t=e.game.scene.keys.Profile.eventEndTime)||void 0===t||t.setText(s.shortTime(e.state.progress.event.endTime,e.state.lang)))),e.state.progress.event.endTime<=0&&e.scene.isActive("Unicorn")&&(e.autosave(),e.scene.stop("Profile"),e.scene.stop("MapBars"),e.scene.stop("Unicorn"),e.scene.stop("UnicornBars"),e.scene.stop("Modal"),e.scene.stop("ClanScroll"),e.scene.stop("Achievements"),e.scene.start("SheepPreload",e.state)),e.state.progress.event.startTime>0&&(e.state.progress.event.startTime--,e.scene.isActive("Profile")&&(null===(i=e.game.scene.keys.Profile.eventStartTime)||void 0===i||i.setText(s.shortTime(e.state.progress.event.startTime,e.state.lang))))),e.state.userUnicorn.timeToAd>0&&--e.state.userUnicorn.timeToAd,e.intervalPorgressCollectorTime(),e.sheepIntervalProgress(),e.chickenIntervalProgress(),e.cowIntervalProgress(),o<2?o+=1:(o=0,c=e.sheepCollectorProgress(c),h=e.chickenCollectorProgress(h),l=e.cowCollectorProgress(l)),e.cowFactoryProgress(),e.updateProfileNotification(),r.progressClanCooldown(e.state),r.progressSalesTime(e.state),e.tryClanTask(18),r.progressClanEventTime(e.state),e.state.clanEventTakenAward||e.scene.get("Modal").load.isLoading()||e.scene.isActive("Modal")||e.scene.isActive("Tutorial")||e.scene.isActive("Profile")||e.scene.isActive("Fortune")||d||(d=!0,e.state.modal={type:22},e.scene.launch("Modal",e.state)),r.decrementAdFreeDiamondTime(e.state),e.state.user.clanTasks.length>0&&e.state.user.clanTasks.every((function(e){return e.done}))&&e.achievement.tryId(122)},callbackScope:this,loop:!0})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildConfetti=t.buildFlowers=t.buildBorders=t.buyTerritory=t.deleteTerritoriesLocks=void 0;var s=i(6),n=i(9);t.deleteTerritoriesLocks=function(){var e=this.state.userUnicorn.points,t=this.state.unicornSettings.territoriesUnicornPrice,i=function(i){var n=s.territories.children.entries[i];if(0===n.data.values.type){var a=t.find((function(e){return e.block===n.data.values.block&&e.position===n.data.values.position})).unlock;e>=a&&n.data.values.lock_image&&(n.data.values.btn.setVisible(!0),n.data.values.btnText.setVisible(!0),n.data.values.lock_image.destroy())}},s=this;for(var n in this.territories.children.entries)i(n)},t.buyTerritory=function(){var e,t=this;if((e=this.state.unicornSettings.territoriesUnicornPrice.find((function(e){return e.block===t.state.territory.data.values.block&&e.position===t.state.territory.data.values.position})))&&0===this.state.territory.data.values.type)if(this.state.userUnicorn.points>=e.unlock){var i=e.price;if(n.default.greaterThanOrEqual(this.state.userUnicorn.money,String(i))){this.state.amplitude.logAmplitudeEvent("buy_territory",{block:this.state.territory.data.values.block,position:this.state.territory.data.values.position}),this.state.territory.data.values.type=2,this.state.userUnicorn.money=n.default.subtract(this.state.userUnicorn.money,String(i));var a=this.state.territory;this.time.addEvent({delay:500,callback:function(){a.data.values.btn.destroy(),a.data.values.btnText.destroy(),a.data.values.forest.destroy(),a.setTexture("event-grass"),s.default.create(t,{x:a.x+120,y:a.y+120},3),t.buildBorders()},callbackScope:this,loop:!1})}else{var r=n.default.subtract(String(i),this.state.userUnicorn.money),o=this.convertMoney(r);this.state.convertor={fun:6,count:r,diamonds:o,type:1};this.state.modal={type:1,sysType:4},this.scene.launch("Modal",this.state)}}else{i=e.diamond;if(this.state.user.diamonds>=i){this.state.amplitude.logAmplitudeEvent("buy_territory",{block:this.state.territory.data.values.block,position:this.state.territory.data.values.position}),this.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"buy_territory",count:i}),this.state.territory.data.values.type=2,this.state.user.diamonds-=i;var c=this.state.territory;this.time.addEvent({delay:500,callback:function(){c.data.values.btn.destroy(),c.data.values.btnText.destroy(),c.data.values.forest.destroy(),c.data.values.lock_image.destroy(),c.setTexture("event-grass"),s.default.create(t,{x:c.x+120,y:c.y+120},3),t.buildBorders()},callbackScope:this,loop:!1})}else this.state.convertor={fun:0,count:i-this.state.user.diamonds,diamonds:i-this.state.user.diamonds,type:1},this.game.scene.keys[this.state.farm].exchange()}},t.buildBorders=function(){var e=function(e){var i=t.territories.children.entries[e];if(2===i.data.values.type)if(1===i.data.values.position&&i.data.values.borderLeft.setVisible(!0),3===i.data.values.position&&i.data.values.borderRight.setVisible(!0),i.data.values.block<=6){var s=t.territories.children.entries.find((function(e){return e.data.values.block===i.data.values.block-1&&e.data.values.position===i.data.values.position})),n=t.territories.children.entries.find((function(e){return e.data.values.block===i.data.values.block+1&&e.data.values.position===i.data.values.position}));if(s&&0===s.data.values.type?i.data.values.borderTop.setVisible(!0):i.data.values.borderTop.setVisible(!1),s||i.data.values.borderTop.setVisible(!0),n&&2===n.data.values.type?i.data.values.borderBottom.setVisible(!1):i.data.values.borderBottom.setVisible(!0),n||i.data.values.borderBottom.setVisible(!0),1===i.data.values.position)0===t.territories.children.entries.find((function(e){return e.data.values.block===i.data.values.block&&2===e.data.values.position})).data.values.type?i.data.values.borderRight.setVisible(!0):i.data.values.borderRight.setVisible(!1);if(2===i.data.values.position){var a=t.territories.children.entries.find((function(e){return e.data.values.block===i.data.values.block&&1===e.data.values.position})),r=t.territories.children.entries.find((function(e){return e.data.values.block===i.data.values.block&&3===e.data.values.position}));0===a.data.values.type?i.data.values.borderLeft.setVisible(!0):i.data.values.borderLeft.setVisible(!1),0===r.data.values.type?i.data.values.borderRight.setVisible(!0):i.data.values.borderRight.setVisible(!1)}if(3===i.data.values.position)0===t.territories.children.entries.find((function(e){return e.data.values.block===i.data.values.block&&2===e.data.values.position})).data.values.type?i.data.values.borderLeft.setVisible(!0):i.data.values.borderLeft.setVisible(!1)}else i.data.values.borderBottom.setVisible(!0)},t=this;for(var i in this.territories.children.entries)e(i)},t.buildFlowers=function(){this.add.image(10,this.topIndent+480,"flower1").setOrigin(0,0).setDepth(this.topIndent+480+1).setScale(.7),this.add.image(240,this.topIndent+620,"flower2").setOrigin(1,0).setDepth(this.topIndent+480+1).setScale(.7),this.add.image(480,this.topIndent+480,"flower3").setOrigin(1,0).setDepth(this.topIndent+480+1).setScale(.7),this.add.image(720,this.topIndent+480+1,"flower4").setOrigin(1,0).setDepth(this.topIndent+480+1).setScale(.7),this.add.image(480,this.topIndent+880,"flower4").setOrigin(0,0).setDepth(this.topIndent+720).setScale(.7),this.add.image(240,this.topIndent+960,"flower2").setOrigin(0,0).setDepth(this.topIndent+960).setScale(.7),this.add.image(480,this.topIndent+1120,"flower1").setOrigin(1,0).setDepth(this.topIndent+960).setScale(.7),this.add.image(720,this.topIndent+960,"flower3").setOrigin(1,0).setDepth(this.topIndent+960).setScale(.7),this.add.image(240,this.topIndent+1200,"flower3").setOrigin(1,0).setDepth(this.topIndent+1200).setScale(.7),this.add.image(240,this.topIndent+1340,"flower4").setOrigin(0,0).setDepth(this.topIndent+1200).setScale(.7)},t.buildConfetti=function(){this.add.image(0,this.topIndent+370,"confetti1").setOrigin(0,0).setDepth(this.topIndent+480+1),this.add.image(720,this.topIndent+370,"confetti2").setOrigin(1,0).setDepth(this.topIndent+480+1),this.add.image(30,this.topIndent+640,"confetti3").setOrigin(0,0).setDepth(this.topIndent+480+1),this.add.image(720,this.topIndent+600,"confetti4").setOrigin(1,0).setDepth(this.topIndent+480+1),this.add.image(10,this.topIndent+890,"confetti5").setOrigin(0,0).setDepth(this.topIndent+720+1),this.add.image(710,this.topIndent+900,"confetti6").setOrigin(1,0).setDepth(this.topIndent+720+1),this.add.image(10,this.topIndent+1100,"confetti7").setOrigin(0,0).setDepth(this.topIndent+960+1),this.add.image(720,this.topIndent+1210,"confetti8").setOrigin(1,0).setDepth(this.topIndent+1200+1)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t={delay:1e3/this.state.unicornCollectorSettings.find((function(t){return t.level===e.state.userUnicorn.collectorLevel})).speed,callback:function(){if(e.state.userUnicorn.collector>0)for(var t in e.resources.children.entries){var i=e.resources.children.entries[t];if(i.data.values.timeout>2&&0!==i.data.values.type){e.collectResource(i);break}}},callbackScope:this,loop:!0};this.collectorTimer?this.collectorTimer.reset(t):this.collectorTimer=this.time.addEvent(t)}},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=i(4),o=i(0),c=i(14),h=i(6),l=i(28),d=i(2),u=i(11),p=function(e){function t(){var t=e.call(this,"Fortune")||this;return t.price=20,t.whellIsScrolling=!1,t.currentList=[],t.adStart=!1,t.listElements=[],t.clickModalBtn=r.clickModalBtn.bind(t),t.clickButton=r.clickButton.bind(t),t.click=r.click.bind(t),t.loadingModal=o.loadingModal.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e},t.prototype.preload=function(){this.cameras.main.setBackgroundColor("rgba(0, 0, 0, 0.5)"),this.loadingModal(),this.load.image("fortune-modal",u.default.fortuneModal),this.load.image("fortune-btn",u.default.btn),this.load.image("fortune-wheel",u.default.wheel),this.load.image("fortune-pointer",u.default.pointer),this.load.image("fortune-ticket",u.default.ticket),this.load.image("fortune-jackpot-bg",u.default.jackpotBg),this.load.image("done-chapter-button",u.default.doneChapterButton),this.load.image("bg-timer-ad",u.default.bgTimerAd),this.load.image("ad-fortune-icon",u.default.adFortuneIcon)},t.prototype.create=function(){var e={userId:this.state.user.id,name:"web"!==this.state.platform&&"gd"!==this.state.platform&&"android"!==this.state.platform?this.state.name:this.state.user.login,spending:0,prize:0,jackpot:!1};this.state.socket.io.emit("fortune-send",e),this.add.tileSprite(0,0,Number(this.game.config.width),Number(this.game.config.height),"modal").setOrigin(0).setInteractive(),this.createElements(),this.creaeteList(),this.setListeners(),this.state.readyAd&&this.createAdBtn()},t.prototype.update=function(){this.updateElements(),this.updateAdBtn()},t.prototype.createElements=function(){this.hints=this.add.group();var e=this.add.sprite(this.cameras.main.centerX,this.cameras.main.centerY,"fortune-modal").setInteractive().getBounds();this.add.text(e.centerX+20,e.top+50,this.state.lang.fortuneWheel,{font:"35px Shadow",color:"#edd9fd"}).setOrigin(.5,0),this.btn=this.add.sprite(e.centerX+140,e.centerY-35,"fortune-btn"),this.btnText1=this.add.text(this.btn.x+5,this.btn.y-5,this.state.lang.buyTicket,{font:"20px Shadow",color:"#ffffff",align:"center"}).setOrigin(.5,1),this.btnText2=this.add.text(this.btnText1.getBounds().centerX+10,this.btnText1.getBounds().bottom+5,String(this.price),{font:"20px Shadow",color:"#ffffff",align:"center"}).setOrigin(.5,0),this.btnImg=this.add.sprite(this.btnText2.getBounds().left,this.btnText2.getBounds().centerY,"diamond").setScale(.1).setOrigin(1,.5),this.moneyPullText=this.add.text(e.centerX+140,e.centerY-240," ",{font:"45px Shadow",color:"#ffffff"}).setOrigin(.5),this.wheel=this.add.sprite(e.centerX-142,e.centerY-180,"fortune-wheel"),this.pointer=this.add.sprite(e.centerX-138,e.centerY-185,"fortune-pointer"),this.closeBtn=this.add.sprite(e.right-70,e.top+40,"close-window-btn"),this.add.text(e.centerX+50,e.centerY+45,this.state.lang.latestWinners,{font:"24px Shadow",color:"#fff9ea",align:"center",wordWrap:{width:200}}).setShadow(0,2,"#000000",3).setOrigin(.5),this.lastestWinnerText=this.add.text(e.centerX+155,e.centerY-180," ",{font:"18px Shadow",color:"#ffd595",align:"center",wordWrap:{width:240}}).setOrigin(.5),this.lastestWinnerText.setDataEnabled();var t=this.lastestWinnerText.getBounds();this.lastestWinnerText.data.values.name=this.add.text(t.centerX,t.bottom," ",{font:"18px Shadow",color:"#f9eee1"}).setOrigin(.5,0),this.lastestWinnerText.data.values.name.getBounds().width>210&&(this.lastestWinnerText.data.values.name.setCrop(0,0,210,40),this.lastestWinnerText.data.values.name.setOrigin(0),this.lastestWinnerText.data.values.name.setX(e.centerX+50)),this.lastestWinnerText.data.values.time=this.add.text(t.centerX,t.bottom+20," ",{font:"18px Shadow",color:"#f2ff25"}).setOrigin(.5,0)},t.prototype.creaeteList=function(){var e,t=this.cameras.main.centerY+120;null===(e=this.currentList)||void 0===e||e.reverse();for(var i=0;i<this.currentList.length;i++){var s=this.add.text(180,t,this.currentList[i].name,{font:"21px Bip",color:"#793D0A",align:"left"}).setCrop(0,0,210,30).setOrigin(0,.5),n=this.add.text(440,t,a.shortNum(this.currentList[i].prize),{font:"21px Bip",color:"#793D0A",align:"left"}).setOrigin(0,.5),r=this.add.sprite(425,t,"diamond").setScale(.11).setAngle(-10),o=this.add.text(500,t,this.currentList[i].time>0?""+a.shortTime(this.currentList[i].time,this.state.lang):this.state.lang.now,{font:"21px Bip",color:"#793D0A",align:"left"}).setOrigin(0,.5);t+=40,this.listElements.push({name:s,count:n,diamond:r,time:o})}},t.prototype.destoryListElemets=function(){var e;(null===(e=this.listElements)||void 0===e?void 0:e.length)>0&&(this.listElements.forEach((function(e){var t,i,s,n;null===(t=null==e?void 0:e.name)||void 0===t||t.destroy(),null===(i=null==e?void 0:e.count)||void 0===i||i.destroy(),null===(s=null==e?void 0:e.diamond)||void 0===s||s.destroy(),null===(n=null==e?void 0:e.time)||void 0===n||n.destroy()})),this.listElements=[])},t.prototype.removeInteractiveElements=function(){var e;this.closeBtn.removeInteractive(),this.btn.removeInteractive(),null===(e=this.adTileZone)||void 0===e||e.removeInteractive(),this.closeBtn.setTint(12632256),this.btn.setTint(12632256)},t.prototype.setInteractiveElements=function(){var e;this.closeBtn.setInteractive(),this.btn.setInteractive(),null===(e=this.adTileZone)||void 0===e||e.setInteractive(),this.closeBtn.setTint(16777215),this.btn.setTint(16777215),this.whellIsScrolling=!1},t.prototype.updateElements=function(){var e,t,i,s,n,r,o,c;if(!this.whellIsScrolling&&(null===(e=this.state.fortuneData)||void 0===e?void 0:e.pull)){this.state.user.boosts.fortune>0&&(this.btnText1.text!==this.state.lang.scroll||this.btnText2.text!==String(this.state.user.boosts.fortune))&&!this.whellIsScrolling?(this.btnText1.setText(this.state.lang.scroll),this.btnText2.setText(String(this.state.user.boosts.fortune)),this.btnImg.setTexture("fortune-ticket").setPosition(this.btnText2.getBounds().left,this.btnText2.getBounds().centerY).setScale(.4)):this.state.user.boosts.fortune<=0&&(this.btnText1.text!==this.state.lang.buyTicket||this.btnText2.text!==String(this.price))&&!this.whellIsScrolling&&(this.btnText1.setText(this.state.lang.buyTicket),this.btnText2.setText(String(this.price)),this.btnImg.setTexture("diamond").setPosition(this.btnText2.getBounds().left,this.btnText2.getBounds().centerY).setScale(.1)),this.moneyPullText.text!==String(this.state.fortuneData.pull)&&this.moneyPullText.setText(String(this.state.fortuneData.pull));var h=this.state.lang.lastTimePrize.replace("$1",null===(i=null===(t=this.state.fortuneData)||void 0===t?void 0:t.lastWinner)||void 0===i?void 0:i.prize);if(this.lastestWinnerText.text!==h||this.lastestWinnerText.data.values.name.text!==(null===(s=this.state.fortuneData.lastWinner)||void 0===s?void 0:s.name)||this.lastestWinnerText.data.values.time.text!==a.shortTime(null===(n=this.state.fortuneData.lastWinner)||void 0===n?void 0:n.time,this.state.lang)+" "+this.state.lang.back)if(this.state.fortuneData.lastWinner){this.lastestWinnerText.setText(h).setVisible(!0),this.lastestWinnerText.data.values.name.setText(null===(r=this.state.fortuneData.lastWinner)||void 0===r?void 0:r.name).setVisible(!0),this.lastestWinnerText.data.values.name.setY(this.lastestWinnerText.getBounds().bottom);var l=this.lastestWinnerText.data.values.name.getBounds();l.width>210?(this.lastestWinnerText.data.values.name.setCrop(0,0,210,40),this.lastestWinnerText.data.values.name.setOrigin(0),this.lastestWinnerText.data.values.name.setX(this.cameras.main.centerX+43)):(this.lastestWinnerText.data.values.name.setOrigin(.5,0),this.lastestWinnerText.data.values.name.setX(this.lastestWinnerText.getBounds().centerX)),this.lastestWinnerText.data.values.time.setText((null===(o=this.state.fortuneData.lastWinner)||void 0===o?void 0:o.time)>0?a.shortTime(null===(c=this.state.fortuneData.lastWinner)||void 0===c?void 0:c.time,this.state.lang)+" "+this.state.lang.back:this.state.lang.now).setVisible(!0),this.lastestWinnerText.data.values.time.setY(l.bottom)}else this.lastestWinnerText.setVisible(!1),this.lastestWinnerText.data.values.name.setVisible(!1),this.lastestWinnerText.data.values.time.setVisible(!1);JSON.stringify(this.state.fortuneData.recentWinners)!==JSON.stringify(this.currentList)&&(this.currentList=this.state.fortuneData.recentWinners,this.destoryListElemets(),this.creaeteList())}},t.prototype.setListeners=function(){var e=this,t={btn:this.btn,title:this.btnText1,text1:this.btnText2,img1:this.btnImg};this.clickModalBtn(t,(function(){return e.handlerStartBtn()})),this.clickButton(this.closeBtn,(function(){e.scene.stop(),e.destoryListElemets()}))},t.prototype.handlerStartBtn=function(){if(this.state.user.boosts.fortune>0)this.startFortune();else if(this.state.user.diamonds>=this.price)this.startFortune();else{this.state.convertor={fun:0,count:this.price-this.state.user.diamonds,diamonds:this.price-this.state.user.diamonds,type:2};this.scene.stop("Fortune"),this.state.modal={type:1,sysType:4},this.scene.launch("Modal",this.state)}},t.prototype.startFortune=function(){var e=this;this.game.scene.keys[this.state.farm].achievement.tryId(44);var t={id:this.state.user.id,hash:this.state.user.hash,counter:this.state.user.counter,ad:this.adStart,pull:this.state.fortuneData.pull};this.removeInteractiveElements(),d.default.post("https://ferma.games:4000/getFortunePrize",t).then((function(t){var i=t.data,s=i.error,n=i.prizeId;s||(e.prizeId=n,e.state.fortuneTutorialWin&&(e.state.fortuneTutorialWin=!1,e.prizeId=2),e.setUpdatedButton(),e.whellIsScrolling=!0,e.startScrollWheel())})).catch((function(){e.setInteractiveElements()}))},t.prototype.adStartFortune=function(){this.adStart=!0,this.startFortune()},t.prototype.startScrollWheel=function(){var e=this,t=1===this.prizeId?-340:2===this.prizeId?-140:3===this.prizeId?-20:4===this.prizeId?-180:5===this.prizeId?-100:6===this.prizeId?-220:7===this.prizeId?-60:8===this.prizeId?-300:9===this.prizeId?-260:0,i=Phaser.Math.Between(1,15)*Phaser.Math.RND.pick(Phaser.Math.RND.signs);if(i>12&&3===this.prizeId){var s=this.tweens.add({targets:this.wheel,onUpdate:function(){e.removeInteractiveElements()},onUpdateScope:this,duration:3500,angle:{from:0,to:-2160},ease:"Power3"});this.tweens.add({delay:2500,onStart:function(){s.stop(),s.remove()},targets:this.wheel,ease:"Power2",duration:2e3,angle:t+i,onUpdate:function(){e.removeInteractiveElements()},onUpdateScope:this,onComplete:function(){e.setAngle(i)},onCompleteScope:this})}else i<-10&&8===this.prizeId?this.tweens.add({targets:this.wheel,onUpdate:function(){e.removeInteractiveElements()},onUpdateScope:this,duration:3500,angle:{from:0,to:-2105+i},ease:"Power3",onComplete:function(){e.setAngle(i)},onCompleteScope:this}):this.tweens.add({targets:this.wheel,onUpdate:function(){e.removeInteractiveElements()},onUpdateScope:this,duration:3500,angle:{from:0,to:-2160+t+i},ease:"Power3",onComplete:function(){e.setAngle(i)},onCompleteScope:this})},t.prototype.setUpdatedButton=function(){this.state.user.boosts.fortune>1?this.btnText2.setText(String(this.state.user.boosts.fortune-1)):1===this.state.user.boosts.fortune&&(this.btnText1.setText(this.state.lang.buyTicket),this.btnText2.setText(String(this.price)),this.btnImg.setTexture("diamond").setPosition(this.btnText2.getBounds().left,this.btnText2.getBounds().centerY).setScale(.1))},t.prototype.setAngle=function(e){var t=this,i=200+200*Math.abs(Math.round(e/22*100))/100;this.tweens.add({duration:i,targets:this.wheel,angle:"-="+e,onComplete:function(){t.time.addEvent({delay:200,callback:function(){t.getPrize(),t.setInteractiveElements()}})}})},t.prototype.sendSocket=function(e){void 0===e&&(e=0);var t="web"!==this.state.platform&&"gd"!==this.state.platform&&"android"!==this.state.platform?this.state.name:this.state.user.login,i={userId:this.state.user.id,name:t,spending:0,prize:0,jackpot:!1};this.state.user.boosts.fortune>=1?1===this.prizeId?i={userId:this.state.user.id,name:t,spending:0,prize:e,jackpot:!0}:2===this.prizeId&&(i={userId:this.state.user.id,name:t,spending:0,prize:e,jackpot:!1}):1===this.prizeId?i={userId:this.state.user.id,name:t,spending:this.adStart?0:this.price,prize:e,jackpot:!0}:2===this.prizeId?i={userId:this.state.user.id,name:t,spending:this.adStart?0:this.price,prize:e,jackpot:!1}:this.prizeId>=3&&this.prizeId<=8&&(i={userId:this.state.user.id,name:t,spending:this.adStart?0:this.price,prize:0,jackpot:!1}),this.state.socket.io.emit("fortune-send",i)},t.prototype.getPrize=function(){var e=this,t=0;switch(t=1===this.prizeId?Math.round(70*this.state.fortuneData.pull/100):Math.round(5*this.state.fortuneData.pull/100),this.sendSocket(t),this.adStart?this.adStart=!1:this.state.user.boosts.fortune>0?this.state.user.boosts.fortune-=1:(this.state.user.diamonds-=this.price,this.state.amplitude.logAmplitudeEvent("diamonds_spent",{type:"fortune",count:this.price})),this.prizeId){case 1:this.getJackpot(t);break;case 2:this.getFreeDiamonds(t);var i=this.state.lang.fortuneHint_2.replace("$1",String(t));c.default.create(this,-250,i,3),this.getCurrency(this.wheel,t,"diamond");break;case 3:this.getFreeCoin(600);break;case 4:this.getFreeCoin(900);break;case 5:this.getFreeCoin(1800);break;case 6:this.getFreeHerdBoost();break;case 7:this.getFreeFeedBoost();break;case 8:this.time.addEvent({delay:150,callback:function(){e.getFreeTickets()}});break;case 9:this.getFreeCollector()}},t.prototype.getFreeDiamonds=function(e){this.state.user.diamonds+=e,this.game.scene.keys[this.state.farm].achievement.tryId(49),this.state.amplitude.logAmplitudeEvent("diamonds_get",{type:"fortune",count:e}),this.game.scene.keys[this.state.farm].autosave()},t.prototype.getJackpot=function(e){this.game.scene.keys[this.state.farm].achievement.tryId(45),this.getFreeDiamonds(e),this.sendChatMassage(e),this.showJackpotWindow(e)},t.prototype.sendChatMassage=function(e){this.state.socket.io.emit("send",{id:this.state.user.id,hash:this.state.user.hash,login:"web"!==this.state.platform&&"gd"!==this.state.platform&&"android"!==this.state.platform?this.state.name:this.state.user.login,text:"6307b55e185c4058b9c12d9d076ddae6\n    26cd32b7a7d1d6096528ae647c235d6f\n    adde749a4a6c3186a429f98b4c7abe18\n    6ec1fb0bf90ee695df541d93ce8ac263\n    12a9cd2785f399c0938e15d19b2ce7ba\n    47c922da1f077a8508b6fccf572d08c8\n    59a38e7c495a71393839f19a2a6dd372\n    f7f581c3cb90712919777fc0b3ff232a\n    76f8f2b2a7f03cf307f788961513e8c9\n    04961f62df30faa6a4ffbc16cfe059b4_"+e,type:1,status:this.state.user.status})},t.prototype.showJackpotWindow=function(e){var t=this,i=this.time.addEvent({delay:500,callback:function(){var e={x:t.cameras.main.centerX+Phaser.Math.RND.pick(Phaser.Math.RND.signs)*Phaser.Math.Between(100,180),y:t.cameras.main.centerY-100+Phaser.Math.RND.pick(Phaser.Math.RND.signs)*Phaser.Math.Between(100,180)};h.default.create(t,e,1)},repeat:-1}),s=this.add.tileSprite(0,0,this.cameras.main.width,this.cameras.main.height,"white-pixel").setInteractive().setOrigin(0).setDepth(1).setTint(0).setAlpha(.5),n=this.add.sprite(this.cameras.main.centerX,this.cameras.main.centerY,"fortune-jackpot-bg").setDepth(1),a=this.add.text(this.cameras.main.centerX-7,this.cameras.main.centerY+10,this.state.lang.jackpotCongratulations,{font:"30px Shadow",color:"#793D0A",align:"center",wordWrap:{width:250}}).setDepth(1).setOrigin(.5,0),r=a.getBounds(),o=this.add.text(r.centerX,r.bottom+5,String(e),{font:"32px Shadow",color:"#FFFFFF",align:"center"}).setDepth(1).setOrigin(.5,0).setShadow(3,5,"#3F3F3F",5),c=o.getBounds(),l=this.add.sprite(c.left-5,c.centerY,"diamond").setOrigin(1,.5).setScale(.1).setDepth(1),d=this.add.sprite(this.cameras.main.centerX-7,this.cameras.main.centerY+180,"done-chapter-button").setDepth(1),u=d.getBounds(),p=this.add.text(u.centerX,u.centerY-7,this.state.lang.pickUp,{font:"32px Shadow",fill:"#FFD2D2",align:"center"}).setOrigin(.5,.5).setStroke("#2C5D0C",5).setDepth(1),f={btn:d,title:p},m=function(){null==i||i.remove(),null==s||s.destroy(),null==n||n.destroy(),null==a||a.destroy(),null==o||o.destroy(),null==l||l.destroy(),null==d||d.destroy(),null==p||p.destroy(),t.getCurrency({x:t.cameras.main.centerX,y:t.cameras.main.centerY},e,"diamond"),t.game.scene.keys[t.state.farm].ads.showInterstitialAd()};this.clickModalBtn(f,(function(){m()})),this.click(s,(function(){m()}))},t.prototype.getCurrency=function(e,t,i){var s=this;void 0===t&&(t=1),t>5&&(t=5);var n=this.time.addEvent({delay:100,callback:function(){t--;var a={x:Phaser.Math.Between(e.x-30,e.x+30),y:Phaser.Math.Between(e.y-s.game.scene.keys[s.state.farm].scrolling.scrollY-30,e.y-s.game.scene.keys[s.state.farm].scrolling.scrollY+30)},r={x:495,y:30};"diamond"!==i&&(r={x:495,y:120}),l.default.create(s,a,r,i,400),t<=0&&n.remove(!1)},callbackScope:this,loop:!0})},t.prototype.getFreeTickets=function(){var e=Phaser.Math.Between(1,150),t=e>=1&&e<10?3:e>=10&&e<30?2:1;this.state.user.boosts.fortune+=t;var i=this.state.lang.fortuneHint_6.replace("$1",String(t));c.default.create(this,-250,i,3),this.game.scene.keys[this.state.farm].achievement.tryId(50)},t.prototype.getFreeFeedBoost=function(){if(this.state.userChicken.part>0&&this.state.userCow.part>0)1===(e=Phaser.Math.Between(1,3))?(this.state.user.boosts.sheep.feed+=1,c.default.create(this,-250,this.state.lang.fortuneHint_4_Sheep,3),this.state.amplitude.logAmplitudeEvent("feed_boost_get",{type:"Sheep"})):1===e?(this.state.user.boosts.chicken.feed+=1,c.default.create(this,-250,this.state.lang.fortuneHint_4_Chicken,3),this.state.amplitude.logAmplitudeEvent("feed_boost_get",{type:"Chicken"})):(this.state.user.boosts.cow.feed+=1,c.default.create(this,-250,this.state.lang.fortuneHint_4_Cow,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Cow"}));else if(this.state.userChicken.part>0){var e;1===(e=Phaser.Math.Between(1,2))?(this.state.user.boosts.sheep.feed+=1,c.default.create(this,-250,this.state.lang.fortuneHint_4_Sheep,3),this.state.amplitude.logAmplitudeEvent("feed_boost_get",{type:"Sheep"})):(this.state.user.boosts.chicken.feed+=1,c.default.create(this,-250,this.state.lang.fortuneHint_4_Chicken,3),this.state.amplitude.logAmplitudeEvent("feed_boost_get",{type:"Chicken"}))}else this.state.user.boosts.sheep.feed+=1,c.default.create(this,-250,this.state.lang.fortuneHint_4_Sheep,3),this.state.amplitude.logAmplitudeEvent("feed_boost_get",{type:"Sheep"});this.game.scene.keys[this.state.farm].achievement.tryId(47)},t.prototype.getFreeHerdBoost=function(){if(this.state.userChicken.part>0&&this.state.userCow.part>0)1===(e=Phaser.Math.Between(1,3))?(this.state.user.boosts.sheep.herd+=1,c.default.create(this,-250,this.state.lang.fortuneHint_5_Sheep,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Sheep"})):2===e?(this.state.user.boosts.chicken.herd+=1,c.default.create(this,-250,this.state.lang.fortuneHint_5_Chicken,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Chicken"})):(this.state.user.boosts.cow.herd+=1,c.default.create(this,-250,this.state.lang.fortuneHint_5_Cow,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Cow"}));else if(this.state.userChicken.part>0){var e;1===(e=Phaser.Math.Between(1,2))?(this.state.user.boosts.sheep.herd+=1,c.default.create(this,-250,this.state.lang.fortuneHint_5_Sheep,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Sheep"})):(this.state.user.boosts.chicken.herd+=1,c.default.create(this,-250,this.state.lang.fortuneHint_5_Chicken,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Chicken"}))}else this.state.user.boosts.sheep.herd+=1,c.default.create(this,-250,this.state.lang.fortuneHint_5_Sheep,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Sheep"});this.game.scene.keys[this.state.farm].achievement.tryId(46)},t.prototype.getFreeCollector=function(){if(this.state.userChicken.part>0&&this.state.userCow.part>0)1===(e=Phaser.Math.Between(1,3))?(this.state.user.boosts.sheep.collector4+=1,c.default.create(this,-250,this.state.lang.fortuneHint_7_Sheep,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Sheep"})):2===e?(this.state.user.boosts.chicken.collector4+=1,c.default.create(this,-250,this.state.lang.fortuneHint_7_Chicken,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Chicken"})):(this.state.user.boosts.cow.collector4+=1,c.default.create(this,-250,this.state.lang.fortuneHint_7_Cow,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Cow"}));else if(this.state.userChicken.part>0){var e;1===(e=Phaser.Math.Between(1,2))?(this.state.user.boosts.sheep.collector4+=1,c.default.create(this,-250,this.state.lang.fortuneHint_7_Sheep,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Sheep"})):(this.state.user.boosts.chicken.collector4+=1,c.default.create(this,-250,this.state.lang.fortuneHint_7_Chicken,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Chicken"}))}else this.state.user.boosts.sheep.collector4+=1,c.default.create(this,-250,this.state.lang.fortuneHint_7_Sheep,3),this.state.amplitude.logAmplitudeEvent("herd_boost_get",{type:"Sheep"})},t.prototype.getFreeCoin=function(e){var t=this,i=0;"Sheep"===this.state.farm?(this.game.scene.keys.Sheep.sheep.children.iterate((function(e){0!==e.type&&(i+=t.state.sheepSettings.sheepSettings.find((function(t){return t.breed===e.type})).long_wool/10)})),this.state.userSheep.money+=i>0?i*e:1e3):"Chicken"===this.state.farm?(this.game.scene.keys.Chicken.chicken.children.iterate((function(e){0!==e.type&&(i+=t.state.chickenSettings.chickenSettings.find((function(t){return t.breed===e.type})).eggPrice/10)})),this.state.userChicken.money+=i>0?i*e:1e3):"Cow"===this.state.farm&&(this.game.scene.keys.Cow.animalGroup.children.iterate((function(e){0!==e.breed&&(i+=e.settings.maxMilkVolume/60*.2)})),this.state.userCow.money+=i>0?i*e:1e3);var s=i>0?this.state.lang.fortuneHint_3.replace("$1",a.shortNum(i*e)):this.state.lang.fortuneHint_3.replace("$1","1000");c.default.create(this,-250,s,3),this.game.scene.keys[this.state.farm].achievement.tryId(48)},t.prototype.createAdBtn=function(){var e=this,t=this.wheel.getBottomRight(),i={x:t.x-55,y:t.y-15};this.adTimerBg=this.add.sprite(i.x,i.y,"bg-timer-ad"),this.adTimer=this.add.text(i.x,i.y,"",{fontFamily:"Shadow",fontSize:"20px",color:"#ffffff",stroke:"#737373",strokeThickness:3}).setOrigin(.5),this.adIcon=this.add.sprite(i.x,i.y,"ad-fortune-icon"),this.adTileZone=this.add.tileSprite(i.x,i.y,this.adIcon.width+10,this.adIcon.height+10,"pixel"),this.click(this.adTileZone,(function(){e.game.scene.keys[e.state.farm].ads.watchAd(10)})),this.tweens.add({targets:[this.adIcon],delay:5e3,props:{scale:{value:1.25,duration:250,ease:"Power2",yoyo:!0},angle:{value:-5,duration:250,ease:"Power2",yoyo:!0},y:{value:"-=25",duration:250,ease:"Power2",yoyo:!0}},loop:-1})},t.prototype.updateAdBtn=function(){var e,t,i,s=this.state.user.fortuneTimeAd-3600>=0;if((null===(e=this.adTimer)||void 0===e?void 0:e.active)&&(null===(t=this.adIcon)||void 0===t?void 0:t.active)&&(null===(i=this.adTimerBg)||void 0===i?void 0:i.active)&&(this.adTimer.visible!==!s&&(this.adTimer.setVisible(!s),this.adTimerBg.setVisible(this.adTimer.visible)),this.adIcon.visible!==s&&(this.adIcon.setVisible(s),this.adTileZone.setVisible(this.adIcon.visible)),!s)){var n=3600-this.state.user.fortuneTimeAd,r=a.timer(n);this.adTimer.text!==r&&this.adTimer.setText(r)}},t}(Phaser.Scene);t.default=p},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this,"Block")||this}return n(t,e),t.prototype.create=function(){this.add.tileSprite(0,0,Number(this.game.config.width),Number(this.game.config.height),"modal").setOrigin(0).setInteractive()},t}(Phaser.Scene);t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),r=i(0),o=i(55),c=i(28),h=i(19),l=i(121),d=i(1),u=i(11),p={fontFamily:"Shadow",fontSize:"24px",color:"#ffe5d7",stroke:"#c85d11",strokeThickness:3},f=function(e){function t(){var t=e.call(this,"Profile")||this;return t.animDiamondsCount=0,t.click=a.click.bind(t),t.clickShopBtn=a.clickShopBtn.bind(t),t.getEventRaiting=r.getEventRaiting.bind(t),t.scoreEnding=o.scoreEnding.bind(t),t.loadingModal=r.loadingModal.bind(t),t.clickButton=a.clickButton.bind(t),t.getStatusSettings=r.getStatusSettings.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e,"vk"===this.state.platform?this.socialTasks=this.state.vkTask:"ok"===this.state.platform&&(this.socialTasks=this.state.okTask),this.currentDiamonds=this.state.user.diamonds,this.clanFlagPole=null,this.hints=this.add.group()},t.prototype.preload=function(){this.cameras.main.setBackgroundColor("rgba(0, 0, 0, 0.5)"),this.loadingModal(),this.load.image("profile-bg",u.default.profileBackground),this.load.image("profile-chciken-farm",u.default.chickenFarm),this.load.image("profile-cow-farm",u.default.cowFarm),this.load.image("profile-event-farm",u.default.eventFarm),this.load.image("profile-sticker",u.default.sticker),this.load.image("profile-cow-farm-lock",u.default.cowFarmLock),this.load.image("profile-lock-icon",u.default.profileLockIcon),this.load.image("profile-event-island",u.default.eventIsland),this.load.image("profile-fortune-bg",u.default.fortuneBg),this.load.image("profile-fortune-wheel",u.default.fortuneWheel),this.load.image("profile-fortune-pointer",u.default.fortunePointer),this.load.image("profile-btn",u.default.profileBtn),this.load.image("profile-pointer",u.default.profilePointer),this.load.image("profile-social-btn-vk",u.default.socialBtnVk),this.load.image("profile-social-btn-ok",u.default.socialBtnOk),this.load.image("close-window-btn",u.default.closeWindowBtn),this.load.image("clan-flagpole",u.default.clanFlagpole),this.load.image("clan-building",u.default.clanBuilding),"vk"!==this.state.platform&&"ok"!==this.state.platform&&"ya"!==this.state.platform||""===this.state.avatar||this.load.image("avatar-"+this.state.user.id,this.state.avatar)},t.prototype.getCurrency=function(e,t,i){var s=this;void 0===t&&(t=1),t>5&&(t=5);var n=this.time.addEvent({delay:100,callback:function(){t--;var a={x:Phaser.Math.Between(e.x-30,e.x+30),y:Phaser.Math.Between(e.y-s.game.scene.keys[s.state.farm].scrolling.scrollY-30,e.y-s.game.scene.keys[s.state.farm].scrolling.scrollY+30)},r={x:100,y:30};"diamond"!==i&&(r={x:495,y:120}),c.default.create(s,a,r,i,400),t<=0&&n.remove(!1)},callbackScope:this,loop:!0})},t.prototype.create=function(){this.state.progress.event.open&&1===this.state.progress.event.type&&this.state.progress.event.startTime<0&&this.state.progress.event.endTime>0&&this.getEventRaiting(),this.bg=this.add.sprite(0,0,"profile-bg").setInteractive().setOrigin(0,0),this.createElements(),this.setListeners(),this.game.scene.keys[this.state.farm].updateProfileNotification(!0)},t.prototype.update=function(){this.updateEvent(),this.updateUserDiamonds(),this.updateShopNotification(),this.updatePersonalMessagesNotification(),this.updateClanNotification(),this.updateClanFlagPole(),this.updateFortunePull()},t.prototype.createElements=function(){this.backBtn=this.add.sprite(632,60,"close-window-btn"),this.createProfileInfo(),this.createFarms(),this.createShop(),this.createProfile(),this.createPersonalMessages(),this.createClan(),this.creaetePointer(),"vk"!==this.state.platform&&"ok"!==this.state.platform||this.createSocialTaskBtn()},t.prototype.createProfileInfo=function(){var e=this,t=280,i=70,s=Number(this.state.user.avatar),n=isNaN(s)?"avatar-"+this.state.user.id:"avatar-"+s,a=this.textures.exists(n),o=this.add.sprite(t,i,"avatar-0").setScale(.8).setVisible(!1),c=new Phaser.Display.Masks.BitmapMask(this,o),h=this.add.sprite(t,i,n).setMask(c);a||h.setTexture("avatar-0");var l=o.displayWidth/h.displayWidth,u=o.displayHeight/h.displayHeight;h.setScale(l,u);var p=h.getBounds(),f=this.getStatusSettings(this.state.user.status);f&&this.game.scene.keys[this.state.farm].achievement.lazyLoading(this.state.user.status).then((function(){e.add.sprite(p.right-10,p.top+10,f.iconTexture).setScale(.6).setVisible(f.iconVisible)}));var m=d.default.getUserName(this.state);m||(m=this.state.lang.unknownFarmer);var g=this.add.text(p.right+100,p.centerY,m,{fontSize:"32px",fontFamily:"Shadow",color:"#FFFFFF",align:"center",wordWrap:{width:190,useAdvancedWrap:!0}}).setOrigin(.5);if(g.displayHeight>100){var y=g.displayHeight/100;g.setFontSize(parseInt(g.style.fontSize)/y)}this.diamondsText=this.add.text(110,75,r.shortNum(this.state.user.diamonds),{font:"32px Shadow",color:"#7D3D0F",align:"center",wordWrap:{width:220}}).setOrigin(.5);var v=this.add.zone(this.cameras.main.centerX+10,70,320,140).setDropZone(void 0,(function(){return null}));this.click(v,(function(){e.state.modal={type:15},e.scene.launch("Modal",e.state)}))},t.prototype.createDebugZone=function(){var e=this,t=0;this.children.list.forEach((function(i){if("Zone"===i.type){var s=i;e.createZoneGraphics(s,t),t+=80}}))},t.prototype.createZoneGraphics=function(e,t){var i=e.input.hitArea,s=i.height,n=i.width,a=e.x,r=e.y,o=this.add.graphics();o.lineStyle(5,t),o.strokeRect(a-n/2,r-s/2,n,s)},t.prototype.createFarms=function(){this.createSheepFarm(),this.createChickenFarm(),this.createCowFarm(),this.createFortuneWheel(),1===this.state.progress.event.type&&this.createUnicornFarm()},t.prototype.createSheepFarm=function(){var e=this,t=150,i=767,s=this.add.zone(t,i,300,240).setDropZone(void 0,(function(){})),n=this.state.userSheep.part+"/"+this.state.progress.sheep.max;this.add.text(t+155,i+38,n,p).setOrigin(.5),this.sheepNotificator=new h.default(this,{x:t+125,y:i-85},!0),this.click(s,(function(){"Sheep"!==e.state.farm?(e.game.scene.keys[e.state.farm].autosave(),e.scene.stop(),e.scene.stop(e.state.farm),e.scene.stop(e.state.farm+"Bars"),e.scene.start("SheepPreload",e.state)):(e.game.scene.keys[e.state.farm].scrolling.downHandler(),e.game.scene.keys[e.state.farm].scrolling.enabled=!0,e.game.scene.keys[e.state.farm].scrolling.wheel=!0,e.scene.stop())}),8)},t.prototype.createChickenFarm=function(){var e=this,t=720,i=1025;if(this.state.userChicken.part>0){var s=this.add.sprite(t,i,"profile-chicken-farm").setOrigin(1,.5).setDepth(1),n=this.state.userChicken.part+"/"+this.state.progress.chicken.max;this.add.text(t-245,i+20,n,p).setOrigin(.5).setDepth(1),this.chickenNotificator=new h.default(this,{x:t-200,y:i-110},!0).setDepth(2),this.click(s,(function(){"Chicken"!==e.state.farm?(e.game.scene.keys[e.state.farm].autosave(),e.scene.stop(),e.scene.stop(e.state.farm),e.scene.stop(e.state.farm+"Bars"),e.scene.start("ChickenPreload",e.state)):(e.game.scene.keys[e.state.farm].scrolling.downHandler(),e.game.scene.keys[e.state.farm].scrolling.enabled=!0,e.game.scene.keys[e.state.farm].scrolling.wheel=!0,e.scene.stop())}),8)}else{this.add.sprite(t,i,"profile-chicken-farm").setOrigin(1,.5).setDepth(1),this.add.sprite(t,i,"profile-sticker").setOrigin(1,.5).setDepth(1);var a=this.add.sprite(t-125,i+0,"profile-btn").setDepth(1),o=this.add.text(a.x+15,a.y-5,r.shortNum(this.state.progress.chicken.price),{font:"22px Shadow",color:"#FBD0B9",wordWrap:{width:165}}).setOrigin(.5,.5).setStroke("#1F530A",5).setDepth(1),c=o.getBounds().left-17,l=this.add.sprite(c,o.y,"sheepCoin").setScale(.12).setDepth(1);this.clickShopBtn({btn:a,title:o,img:l},(function(){e.state.modal={type:1,sysType:23},e.scene.launch("Modal",e.state)}))}},t.prototype.createCowFarm=function(){var e=this,t=0,i=1020;if(this.state.userCow.part>0){var s=this.add.sprite(t,i,"profile-cow-farm").setOrigin(0,.5),n=this.state.userCow.part+"/"+this.state.progress.cow.max;this.add.text(t+319,i+23,n,p).setOrigin(.5),this.cowNotificator=new h.default(this,{x:t+260,y:i-150},!0),this.click(s,(function(){"Cow"!==e.state.farm?(e.game.scene.keys[e.state.farm].autosave(),e.scene.stop(),e.scene.stop(e.state.farm),e.scene.stop(e.state.farm+"Bars"),e.scene.start("CowPreload",e.state)):(e.game.scene.keys[e.state.farm].scrolling.downHandler(),e.game.scene.keys[e.state.farm].scrolling.enabled=!0,e.game.scene.keys[e.state.farm].scrolling.wheel=!0,e.scene.stop())}),8)}else if(this.state.userChicken.part>0){this.add.sprite(t,i,"profile-cow-farm").setOrigin(0,.5),this.add.sprite(t+30,i,"profile-sticker").setOrigin(0,.5).setDepth(1);var a=this.add.sprite(t+145,i,"profile-btn").setDepth(1),o=this.add.text(a.x+15,a.y-5,r.shortNum(this.state.progress.cow.price),{font:"22px Shadow",color:"#FBD0B9",wordWrap:{width:165}}).setOrigin(.5,.5).setStroke("#1F530A",5).setDepth(1),c=o.getBounds().left-17,l=this.add.sprite(c,o.y,"chickenCoin").setScale(.12).setDepth(1);this.clickShopBtn({btn:a,title:o,img:l},(function(){e.state.modal={type:1,sysType:23},e.scene.launch("Modal",e.state)}))}else{this.add.sprite(t,i,"profile-cow-farm-lock").setOrigin(0,.5);var d=this.add.text(t+150,i,this.state.lang.openChickenFarm,{font:"20px Shadow",color:"#fbd0b9",wordWrap:{width:250},align:"center"}).setOrigin(.5).setDepth(2).getBounds();this.add.graphics({x:d.left-20,y:d.top-20}).fillStyle(2833681,.5).fillRoundedRect(0,0,d.width+40,d.height+40).setDepth(1)}},t.prototype.createUnicornFarm=function(){var e=this,t=720,i=775;this.eventMapFarm=this.add.sprite(t,i-15,"profile-event-farm").setOrigin(1,.5).setVisible(!1),this.eventZone=this.add.zone(570,790,300,170).setDropZone(void 0,(function(){})),this.eventScore=this.add.text(t-122,i-58,"- "+this.state.lang.eventScores,{fontSize:"21px",color:"#6e00c7",fontFamily:"Shadow"}).setOrigin(.5,.5).setVisible(!1),this.eventPlace=this.add.text(t-122,i-20,"- "+this.state.lang.eventPlace,{fontSize:"18px",color:"#f0e8ce",fontFamily:"Shadow"}).setOrigin(.5,.5).setVisible(!1),this.eventEndText=this.add.text(t-122,i,this.state.lang.eventLastTime,{fontSize:"14px",color:"#530d8e",fontFamily:"Shadow"}).setOrigin(.5,.5).setVisible(!1),this.eventEndTime=this.add.text(t-122,i+15,r.shortTime(this.state.progress.event.endTime,this.state.lang),{fontSize:"18px",color:"#cbff40",fontFamily:"Shadow"}).setOrigin(.5,.5).setVisible(!1),this.eventIsland=this.add.sprite(t,i,"profile-event-island").setOrigin(1,.5).setVisible(!1),this.eventStartText=this.add.text(t-150,i+30,this.state.lang.eventStart,{fontSize:"16px",color:"#fbd0b9",fontFamily:"Shadow"}).setOrigin(.5,.5).setDepth(1).setVisible(!1),this.eventStartTime=this.add.text(t-150,i+40,r.shortTime(this.state.progress.event.startTime,this.state.lang),{fontSize:"21px",color:"#cbff40",fontFamily:"Shadow"}).setOrigin(.5,.5).setDepth(2).setVisible(!1),this.eventStartBg=this.add.graphics({fillStyle:{color:2833681,alpha:.5}}).fillRoundedRect(this.eventStartText.getBounds().left-25,this.eventStartText.getBounds().top-20,this.eventStartText.width+50,60).setVisible(!1),this.unicornNotificator=new h.default(this,{x:t-210,y:i-80},!0),this.click(this.eventZone,(function(){"Unicorn"!==e.state.farm?(e.game.scene.keys[e.state.farm].autosave(),e.scene.stop(),e.scene.stop(e.state.farm),e.scene.stop(e.state.farm+"Bars"),e.scene.start("UnicornPreload",e.state)):(e.game.scene.keys[e.state.farm].scrolling.downHandler(),e.game.scene.keys[e.state.farm].scrolling.enabled=!0,e.game.scene.keys[e.state.farm].scrolling.wheel=!0,e.scene.stop())}))},t.prototype.createWheelAnim=function(e){e.setRotation(Phaser.Math.Between(0,100)/100*Math.PI),this.tweens.add({targets:e,duration:3500,rotation:{from:e.rotation,to:e.rotation-6*Math.PI},ease:"Power3",repeat:-1,repeatDelay:1e3})},t.prototype.createFortuneWheel=function(){var e=this,t={name:d.default.getUserName(this.state),spending:0,prize:0,jackpot:!1},i=560,s=560,n=200,a=170,r=this.add.sprite(i,s,"profile-fortune-bg"),o=this.add.sprite(i+31,s-10,"profile-fortune-wheel"),c=this.add.sprite(i+32,s-10,"profile-fortune-pointer");this.state.userSheep.part<8||!this.checkAuthUser()?(r.setTint(12303291),o.setTint(12303291).setAlpha(.8),c.setTint(12303291).setAlpha(.8)):(this.state.socket.io.emit("fortune-send",t),this.fortunePull=this.add.text(i-52,s+48,"",p).setOrigin(.5),this.createWheelAnim(o));var h=this.add.zone(i,s,n,a).setDropZone(void 0,(function(){}));this.click(h,(function(){e.state.userSheep.part>=8&&e.checkAuthUser()?e.scene.launch("Fortune",e.state):e.state.userSheep.part<8?(e.state.modal={type:1,sysType:3,message:e.state.lang.reachChapterOfSheepFarm.replace("$1",String(8)),height:150},e.scene.launch("Modal",e.state)):(e.state.modal={type:1,sysType:3,message:e.state.lang.needRegistration,height:150},e.scene.launch("Modal",e.state))}))},t.prototype.creaetePointer=function(){var e=this.add.sprite(0,0,"profile-pointer").setOrigin(.5,1).setDepth(100),t=140,i=740,s=610,n=940,a=600,r=700,o=160,c=980;"Sheep"===this.state.farm?e.setPosition(t,i):"Chicken"===this.state.farm?e.setPosition(s,n):"Unicorn"===this.state.farm?e.setPosition(a,r):"Cow"===this.state.farm&&e.setPosition(o,c),this.tweens.add({targets:e,y:"-=20",duration:300,yoyo:!0,repeat:-1})},t.prototype.setListeners=function(){var e=this;this.clickButton(this.backBtn,(function(){e.game.scene.keys[e.state.farm].scrolling.downHandler(),e.game.scene.keys[e.state.farm].scrolling.enabled=!0,e.game.scene.keys[e.state.farm].scrolling.wheel=!0,e.scene.stop()}))},t.prototype.createShop=function(){var e=this,t=215,i=520,s=150,n=210,a=this.add.zone(t,i,s,n).setDropZone(void 0,(function(){}));if(this.click(a,(function(){e.state.modal={type:2,shopType:1},e.scene.launch("Modal",e.state)})),this.shopNotificator=new h.default(this,{x:t+60,y:i-60}),d.default.checkStarterpack(this.state)&&this.state.user.takenFreeDiamonds){var r=this.add.sprite(t+55,i-50,"stock-icon").setScale(.45);this.tweens.add({targets:r,delay:2e3,props:{rotation:{duration:600,yoyo:!1,ease:"Power2",value:2*Math.PI},scale:{value:.5,ease:"Power1",duration:250,yoyo:!0}},loop:-1}),this.click(r,(function(){e.state.modal={type:2,shopType:1},e.scene.stop(),e.scene.launch("Modal",e.state)}))}},t.prototype.createProfile=function(){var e=this,t=365,i=300,s=190,n=240,a=this.add.zone(t,i,s,n).setDropZone(void 0,(function(){}));this.click(a,(function(){e.state.modal={type:15},e.scene.launch("Modal",e.state)}))},t.prototype.createPersonalMessages=function(){var e=this,t=475,i=400,s=80,n=110,a=this.add.zone(t,i,s,n).setDepth(1).setDropZone(void 0,(function(){}));this.click(a,(function(){e.state.modal={type:9,chatType:2},e.scene.launch("Modal",e.state)}));var r=this.getPersonalTabCountNotification();this.personalMessageNotificator=new h.default(this,{x:t+15,y:i-40},!0),this.personalMessageNotificator.setCount(r)},t.prototype.createClan=function(){var e=this,t=600,i=360,s=150,n=230,a=this.add.zone(t,i,s,n).setDepth(1).setDropZone(void 0,(function(){}));this.clanNotificator=new h.default(this,{x:t+65,y:i-45},!0).setCount(0),this.click(a,(function(){e.state.userSheep.part>=7&&e.checkAuthUser()?e.state.user.clanId&&e.state.clan?(e.scene.stop(),e.scene.launch("ClanFarm",e.state)):(e.state.modal={type:17,clanTabType:2},e.scene.launch("Modal",e.state)):e.state.userSheep.part<7?(e.state.modal={type:1,sysType:3,message:e.state.lang.reachChapterOfSheepFarm.replace("$1","7"),height:150},e.scene.launch("Modal",e.state)):(e.state.modal={type:1,sysType:3,message:e.state.lang.needRegistration,height:150},e.scene.launch("Modal",e.state))}))},t.prototype.checkAuthUser=function(){return(this.state.user.login||this.state.name)&&"ya"!==this.state.platform||this.state.yaPlayer&&"ya"===this.state.platform},t.prototype.updatePersonalMessagesNotification=function(){if(this.state.updatePersonalMessage){this.state.updatePersonalMessage=!1;var e=this.getPersonalTabCountNotification();this.personalMessageNotificator.setCount(e)}},t.prototype.getPersonalTabCountNotification=function(){for(var e=0,t=0,i=this.state.user.personalMessages;t<i.length;t++)for(var s=0,n=i[t].messages;s<n.length;s++){if(!n[s].check){e+=1;break}}for(var a=0,r=this.state.user.messages;a<r.length;a++){r[a].check||(e+=1)}return e},t.prototype.updateEvent=function(){var e,t,i,s,n,a,o,c,h,l,d,u,p,f,m,g,y,v,w,b,x,k,T,_,S,C,P,B,A,E,M,O,I,R,D,N,F,L,Y,U,V,W,z,H,X,G,j,$,K,q,J,Q;if(this.state.progress.event.startTime>0&&this.state.progress.event.open&&(this.state.userSheep.part>4||this.state.userChicken.part>=1||this.state.userCow.part>=1)&&this.checkAuthUser()&&!(null===(e=this.eventStartText)||void 0===e?void 0:e.visible)?(null===(t=this.eventIsland)||void 0===t||t.setVisible(!0),null===(i=this.eventStartText)||void 0===i||i.setY(795),null===(s=this.eventStartText)||void 0===s||s.setVisible(!0),null===(n=this.eventStartTime)||void 0===n||n.setVisible(!0),null===(a=this.eventStartBg)||void 0===a||a.setVisible(!0),null===(o=this.eventMapFarm)||void 0===o||o.setVisible(!1),null===(c=this.eventPlace)||void 0===c||c.setVisible(!1),null===(h=this.eventScore)||void 0===h||h.setVisible(!1),null===(l=this.eventEndTime)||void 0===l||l.setVisible(!1),null===(d=this.eventEndText)||void 0===d||d.setVisible(!1),null===(u=this.eventZone)||void 0===u||u.destroy()):this.state.progress.event.startTime<=0&&this.state.progress.event.open&&(null===(p=this.state.userUnicorn)||void 0===p?void 0:p.tutorial)>0&&1===this.state.progress.event.type&&this.state.progress.event.endTime>0&&(this.state.userSheep.part>4||this.state.userChicken.part>=1||this.state.userCow.part>=1)&&this.checkAuthUser()&&!(null===(f=this.eventMapFarm)||void 0===f?void 0:f.visible)?(null===(m=this.eventStartText)||void 0===m||m.setVisible(!1),null===(g=this.eventStartTime)||void 0===g||g.setVisible(!1),null===(y=this.eventStartBg)||void 0===y||y.setVisible(!1),null===(v=this.eventMapFarm)||void 0===v||v.setVisible(!0),null===(w=this.eventPlace)||void 0===w||w.setVisible(!0),null===(b=this.eventScore)||void 0===b||b.setVisible(!0),null===(x=this.eventEndTime)||void 0===x||x.setVisible(!0),null===(k=this.eventEndText)||void 0===k||k.setVisible(!0)):this.state.progress.event.startTime<=0&&this.state.progress.event.open&&0===(null===(T=this.state.userUnicorn)||void 0===T?void 0:T.tutorial)&&1===this.state.progress.event.type&&this.checkAuthUser()&&(this.state.userSheep.part>4||this.state.userChicken.part>=1||this.state.userCow.part>=1)&&this.state.progress.event.endTime>0&&(null===(_=this.eventZone)||void 0===_?void 0:_.active)?(null===(S=this.eventIsland)||void 0===S||S.setVisible(!0),null===(C=this.eventZone)||void 0===C||C.destroy()):this.state.progress.event.endTime<=0&&this.state.progress.event.open&&this.checkAuthUser()&&(this.state.userSheep.part>4||this.state.userChicken.part>=1||this.state.userCow.part>=1)&&!(null===(P=this.eventStartText)||void 0===P?void 0:P.visible)?(null===(B=this.eventIsland)||void 0===B||B.setVisible(!1),null===(A=this.eventStartText)||void 0===A||A.setVisible(!0),null===(E=this.eventStartText)||void 0===E||E.setY(805),null===(M=this.eventStartTime)||void 0===M||M.setVisible(!1),null===(O=this.eventStartBg)||void 0===O||O.setVisible(!0),null===(I=this.eventStartText)||void 0===I||I.setText(this.state.lang.eventEndText),null===(R=this.eventMapFarm)||void 0===R||R.setVisible(!1),null===(D=this.eventPlace)||void 0===D||D.setVisible(!1),null===(N=this.eventScore)||void 0===N||N.setVisible(!1),null===(F=this.eventEndTime)||void 0===F||F.setVisible(!1),null===(L=this.eventEndText)||void 0===L||L.setVisible(!1),null===(Y=this.eventZone)||void 0===Y||Y.destroy()):(!this.checkAuthUser()||this.state.userSheep.part<=4&&this.state.userChicken.part<1&&this.state.userCow.part<1||!this.state.progress.event.open)&&(null===(U=this.eventZone)||void 0===U?void 0:U.active)&&(null===(V=this.eventIsland)||void 0===V||V.setVisible(!1),null===(W=this.eventStartText)||void 0===W||W.setVisible(!1),null===(z=this.eventStartTime)||void 0===z||z.setVisible(!1),null===(H=this.eventStartBg)||void 0===H||H.setVisible(!1),null===(X=this.eventMapFarm)||void 0===X||X.setVisible(!1),null===(G=this.eventPlace)||void 0===G||G.setVisible(!1),null===(j=this.eventScore)||void 0===j||j.setVisible(!1),null===($=this.eventEndTime)||void 0===$||$.setVisible(!1),null===(K=this.eventEndText)||void 0===K||K.setVisible(!1),null===(q=this.eventZone)||void 0===q||q.destroy()),(null===(J=this.state.unicornRaitings)||void 0===J?void 0:J.updated)&&1===this.state.progress.event.type){var Z=this.state.userUnicorn.points;this.eventScore.setText(Z+" "+this.scoreEnding(Z,this.state.lang)),this.eventPlace.setText((null===(Q=this.state.unicornRaitings)||void 0===Q?void 0:Q.user.place)+" "+this.state.lang.eventPlace),this.eventEndTime.setText(r.shortTime(this.state.progress.event.endTime,this.state.lang)),this.state.unicornRaitings.updated=!1}},t.prototype.createSocialTaskBtn=function(){var e=this,t=70,i=190;this.state.userSheep.tutorial>=100&&(this.socialTaskBtn=this.add.sprite(t,i,"profile-social-btn-"+this.state.platform),this.socialTaskNotificator=new h.default(this,{x:t+this.socialTaskBtn.displayWidth/2-10,y:i-this.socialTaskBtn.displayHeight/2+5}),this.clickButton(this.socialTaskBtn,(function(){e.state.modal={type:14},e.scene.launch("Modal",e.state)})),this.updateSocialTaskNotification())},t.prototype.updateSocialTaskNotification=function(){var e=[];for(var t in this.socialTasks)e.push(this.socialTasks[t]);var i=e.length-e.filter((function(e){return e})).length;i<=0&&!this.state.user.takenSocialAward&&(i=1),(this.state.userSheep.tutorial<100||this.state.shownSocialTaskWindow)&&(i=0),this.state.user.takenSocialAward?this.socialTaskNotificator.setVisible(!1):this.socialTaskNotificator.setCount(i)},t.prototype.updateClanNotification=function(){if(this.state.clan){var e=this.state.user.clanTasks.filter((function(e){return e.done&&!e.got_awarded})).length;this.clanNotificator.setCount(e)}},t.prototype.updateUserDiamonds=function(){var e=this;if(this.currentDiamonds<this.state.user.diamonds){if(0===this.animDiamondsCount){var t=this.state.user.diamonds-this.currentDiamonds;this.animDiamondsCount=t>=3?2:2==t?1:0,this.tweens.add({duration:100,loop:this.animDiamondsCount,scale:{from:1,to:1.5},yoyo:!0,targets:this.diamondsText,onComplete:function(){e.animDiamondsCount=0}}),this.diamondsText.setText(r.shortNum(this.state.user.diamonds)),this.currentDiamonds=this.state.user.diamonds}}else this.currentDiamonds>this.state.user.diamonds&&(this.currentDiamonds=this.state.user.diamonds,this.diamondsText.setText(r.shortNum(this.state.user.diamonds)))},t.prototype.updateShopNotification=function(){var e;null===(e=this.shopNotificator)||void 0===e||e.setVisible(this.checkFreeDiamondsNotification())},t.prototype.checkFreeDiamondsNotification=function(){return!this.state.user.takenFreeDiamonds&&(this.state.userSheep.tutorial>=100||this.state.userChicken.part>=1||this.state.userCow.part>=1)},t.prototype.updateClanFlagPole=function(){if(this.state.clan&&!this.clanFlagPole){var e={x:605,y:375};this.clanFlagPole=new l.default(this,{x:e.x,y:e.y-100}).setDepth(2)}},t.prototype.updateFortunePull=function(){this.state.fortuneData&&this.fortunePull&&String(this.state.fortuneData.pull)!==this.fortunePull.text&&this.fortunePull.setText(String(this.state.fortuneData.pull))},t}(Phaser.Scene);t.default=f},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(17),r=i(0),o=i(4),c=i(1895),h=i(1896),l=i(1897),d=i(1898),u=i(1899),p=function(e){function t(){var t=e.call(this,"ClanScroll")||this;return t.getStatusSettings=r.getStatusSettings.bind(t),t.loadingModal=r.loadingModal.bind(t),t.click=o.click.bind(t),t.clickModalBtn=o.clickModalBtn.bind(t),t.clickButton=o.clickButton.bind(t),t}return n(t,e),t.prototype.init=function(e){this.state=e,this.windowType=this.state.modal.clanTabType||2,this.scrollHeight=0,this.windowHeight=600,this.windowWidth=479,this.initScrolling()},t.prototype.preload=function(){},t.prototype.create=function(){17===this.state.modal.type?1===this.state.modal.clanTabType?this.usersList=new c.default(this):2===this.state.modal.clanTabType?new h.default(this):3===this.state.modal.clanTabType&&new l.default(this):21===this.state.modal.type&&(1===this.state.modal.clanTabType?new d.default(this):2===this.state.modal.clanTabType?new u.default(this):3===this.state.modal.clanTabType&&new l.default(this))},t.prototype.update=function(){17===this.state.modal.type&&1===this.state.modal.clanTabType&&this.usersList.update()},t.prototype.initScrolling=function(){var e,t=this;this.height=Number(this.game.config.height);var i=0;17===this.state.modal.type?(i=(null===(e=this.game.scene.keys.Modal.ClanTabsWindow)||void 0===e?void 0:e.scrollY)?this.game.scene.keys.Modal.ClanTabsWindow.scrollY:0,1===this.windowType?(i=i||this.cameras.main.centerY-198,this.windowHeight=595):2===this.windowType&&this.state.user.clanId?(i=i||this.cameras.main.centerY-267,this.windowHeight=673):(2===this.windowType||3===this.windowType)&&(i=i||this.cameras.main.centerY-172,this.windowHeight=584)):21===this.state.modal.type&&(i=this.cameras.main.centerY-270,this.windowHeight=600);var s={x:120,y:i,width:this.windowWidth,height:this.windowHeight,wheel:!0,top:this.height};this.scrolling=new a.default(this,s),this.input.on("pointerup",(function(){t.scrolling.enabled=!0,t.scrolling.wheel=!0}))},t}(Phaser.Scene);t.default=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),n=function(){function e(e){var t,i,s=this;this.scene=e,this.init(),this.listLength=(null===(t=this.array)||void 0===t?void 0:t.length)||0,this.clanName=null===(i=this.scene.state.clan)||void 0===i?void 0:i.name,this.clanAvatar=JSON.stringify(this.scene.state.clan.avatar),this.loadingAvatars().then((function(){var e;null===(e=s.array)||void 0===e||e.forEach((function(e){s.createUser(e)}))}))}return e.prototype.update=function(){var e,t;(null===(e=this.scene.state.clan)||void 0===e?void 0:e.users.length)===this.listLength&&this.clanName===(null===(t=this.scene.state.clan)||void 0===t?void 0:t.name)&&JSON.stringify(this.scene.state.clan.avatar)===this.clanAvatar||(this.scene.scene.stop(),this.scene.scene.stop("Modal"),this.scene.scene.launch("Modal",this.scene.state))},e.prototype.init=function(){var e;this.scene.scrollHeight=Number(this.scene.game.config.height)-1200+660,this.scene.scrolling.bottom=0,this.scene.scrolling.scrollY=0,this.array=null===(e=this.scene.state.clan)||void 0===e?void 0:e.users.sort((function(e,t){return t.points-e.points}))},e.prototype.loadingAvatars=function(){var e=this;return new Promise((function(t){e.array&&(e.array.forEach((function(t){isNaN(Number(t.avatar))&&e.scene.load.image("avatar-"+t.id,t.avatar)})),e.scene.load.once(Phaser.Loader.Events.COMPLETE,(function(){t(!0)})),e.scene.load.start())}))},e.prototype.createUser=function(e){var t,i=this,n={x:this.scene.cameras.main.centerX-300,y:this.scene.windowHeight+this.scene.scrollHeight+10},a=e.name,r=e.status,o=e.points,c=e.avatar,h=e.id,l=Number(c),d=isNaN(l)?"avatar-"+h:"avatar-"+l,u=this.scene.textures.exists(d),p=this.scene.add.sprite(n.x,n.y,"avatar-0").setScale(.8).setVisible(!1),f=new Phaser.Display.Masks.BitmapMask(this.scene,p),m=this.scene.add.sprite(n.x,n.y,d).setMask(f);u||m.setTexture("avatar-0");var g=p.displayWidth/m.displayWidth,y=p.displayHeight/m.displayHeight;m.setScale(g,y);var v={x:m.x+m.displayWidth/2-9,y:m.y+m.displayHeight/2-15},w=this.scene.add.sprite(v.x,v.y,"clan-window-exclude-button").setDepth(2);w.setVisible(this.scene.state.user.id===(null===(t=this.scene.state.clan)||void 0===t?void 0:t.ownerId)),this.scene.clickButton(w,(function(){i.scene.state.modal={type:1,sysType:22,userId:h,message:a},i.scene.scene.stop("ClanScroll"),i.scene.scene.stop("Modal"),i.scene.scene.launch("Modal",i.scene.state)}));this.scene.add.text(m.x+m.displayWidth/2+10,m.y,a,{color:"#fffdfa",fontFamily:"Shadow",fontSize:"20px",align:"left",wordWrap:{width:200}}).setOrigin(0,.5).setCrop(0,0,250,100),this.scene.add.text(n.x+360,n.y,s.shortNum(o),{color:"#f3dcc9",fontFamily:"Shadow",fontSize:"20px",align:"center"}).setOrigin(.5);var b=this.scene.getStatusSettings(r);if(b){var x=m.x+20,k=m.y-25;this.scene.game.scene.keys[this.scene.state.farm].achievement.lazyLoading(r).then((function(){i.scene.add.sprite(x,k,b.iconTexture).setOrigin(0,.5).setScale(.5)}))}var T=this.scene.add.zone(n.x-50,n.y,460,m.displayHeight).setOrigin(0,.5).setDropZone(void 0,(function(){}));this.scene.click(T,(function(){i.onUserPlateClick(h)})),this.scene.state.clan.ownerId===h&&(this.scene.add.sprite(m.x,m.y-m.displayHeight/2,"clan-window-crown"),w.setVisible(!1));this.scene.add.sprite(n.x-m.displayWidth/2,n.y+m.displayHeight/2+5,"clan-window-line").setOrigin(0,.5);this.scene.scrollHeight+=10+m.displayHeight,this.scene.scrolling.bottom=this.scene.scrollHeight},e.prototype.onUserPlateClick=function(e){this.scene.state.foreignProfileId=e!==this.scene.state.user.id?e:"",this.scene.state.modal={type:15},this.scene.scene.stop("ClanScroll"),this.scene.scene.launch("Modal",this.scene.state)},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(0),a=i(13),r=function(){function e(e){this.scene=e,this.init()}return e.prototype.init=function(){var e=this.scene.state.user.clanId?570:650;this.scene.scrollHeight=Number(this.scene.game.config.height)-1200+e,this.scene.scrolling.bottom=0,this.scene.scrolling.scrollY=0,this.createLoading(),this.getClanList()},e.prototype.getClanList=function(){var e=this,t={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter};s.default.post("https://ferma.games:4000/getClanRaitingList",t).then((function(t){var i;if(2===e.scene.state.modal.clanTabType){null===(i=e.loadingText)||void 0===i||i.destroy();var s=t.data;e.place=s.place,s.raitings.forEach((function(t,i){e.createClan(t,i+1)})),e.place>s.raitings.length&&e.createUserClan()}}))},e.prototype.createLoading=function(){var e=this,t={x:this.scene.cameras.main.centerX-120,y:this.scene.windowHeight+this.scene.scrollHeight},i=0;this.loadingText=this.scene.add.text(t.x,t.y,this.scene.state.lang.loading,{fontFamily:"Shadow",wordWrap:{width:350},color:"#ffffff",fontSize:"25px",align:"center"}).setOrigin(.5).setAlpha(.7);var s=this.scene.add.tween({targets:this.loadingText,duration:0,onLoop:function(){e.loadingText.active||s.remove(),i<4?i+=1:i=0;for(var t=e.scene.state.lang.loading,n=0;n<i;n++)t+=".";e.loadingText.active&&e.loadingText.setText(t)},loop:-1,loopDelay:150})},e.prototype.createClan=function(e,t){var i={color:"#f3dcc9",fontFamily:"Shadow",fontSize:"20px",align:"center"},s={x:this.scene.cameras.main.centerX-330,y:this.scene.windowHeight+this.scene.scrollHeight+10},r=1===t?"clan-window-medal-gold":2===t?"clan-window-medal-silver":3===t?"clan-window-medal-bronze":"clan-window-medal",o=e.name,c=(e.id,e.avatar),h=e.points,l={x:t>3?s.x:s.x+2,y:t>3?s.y:s.y+2},d=(this.scene.add.sprite(l.x,l.y,r).setDepth(1),this.scene.add.text(s.x,s.y,String(t),i).setOrigin(.5).setDepth(1),a.default.createIcon(this.scene,s.x+70,s.y,c).setScale(.35).setDepth(1)),u=d.getBounds();this.scene.add.text(u.right+20,d.y,o,{color:"#fffdfa",fontFamily:"Shadow",fontSize:"20px",align:"left",wordWrap:{width:240,useAdvancedWrap:!0}}).setDepth(1).setOrigin(0,.5).setCrop(0,0,250,250),this.scene.add.text(s.x+370,s.y,n.shortNum(h),i).setDepth(1).setOrigin(0,.5);1===t&&this.scene.add.sprite(u.centerX,u.bottom+10,"clan-window-wreath").setOrigin(.5,1).setScale(.5).setDepth(1),t>3?this.scene.add.sprite(s.x-u.width/2+15,u.bottom+10,"clan-window-line").setOrigin(0,.5):this.scene.add.sprite(s.x+210,s.y,"clan-window-leader-plate"),this.scene.scrollHeight+=10+u.height+10,this.scene.scrolling.bottom=this.scene.scrollHeight},e.prototype.createUserClan=function(){var e={color:"#f3dcc9",fontFamily:"Shadow",fontSize:"20px",align:"center"},t={x:this.scene.cameras.main.centerX-340,y:this.scene.windowHeight+this.scene.scrollHeight+10-5},i=this.scene.state.clan,s=i.name,r=i.avatar,o=i.points,c=this.scene.add.text(t.x,t.y,String(this.place),e).setOrigin(0,.5).setDepth(2),h=(this.scene.add.sprite(c.getBottomCenter().x,c.y,"clan-window-medal-ns").setOrigin(.5).setDepth(1).setDisplaySize(c.displayWidth+15,32),a.default.createIcon(this.scene,c.getBounds().right+50,t.y,r).setScale(.35).setDepth(1)),l=h.getBounds();this.scene.add.text(l.right+10,h.y,s,{color:"#fffdfa",fontFamily:"Shadow",fontSize:"20px",align:"left",wordWrap:{width:220,useAdvancedWrap:!0}}).setDepth(1).setOrigin(0,.5).setCrop(0,0,250,250),this.scene.add.text(t.x+370,t.y,n.shortNum(o),e).setDepth(1).setOrigin(0,.5);this.scene.add.sprite(t.x+220,t.y,"clan-window-leader-plate"),this.scene.scrollHeight+=10+l.height+10,this.scene.scrolling.bottom=this.scene.scrollHeight},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(13),a=function(){function e(e){this.scene=e,this.init()}return e.prototype.init=function(){var e=this.scene.state.user.clanId?570:650;this.scene.scrollHeight=Number(this.scene.game.config.height)-1200+e,this.scene.scrolling.bottom=0,this.scene.scrolling.scrollY=0,this.createLoading(),this.getClanList()},e.prototype.getClanList=function(){var e=this,t={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,name:this.scene.state.searchClan};this.scene.state.searchClan="",s.default.post("https://ferma.games:4000/getSearchClan",t).then((function(t){var i;if(3===e.scene.state.modal.clanTabType){null===(i=e.loadingText)||void 0===i||i.destroy();var s=t.data,n=s.status,a=s.clans;"found"===n||e.createNotFoundClans(),a.forEach((function(t){e.createClan(t)}))}}))},e.prototype.createClan=function(e){var t=this,i={x:this.scene.cameras.main.centerX-330,y:this.scene.windowHeight+this.scene.scrollHeight+10},s=e.name,a=e.isClosed,r=(e.id,e.avatar),o=a?"profile-window-button-yellow":"profile-window-button-green",c=a?this.scene.state.lang.sendInvite.replace(" ","\n"):this.scene.state.lang.join,h=n.default.createIcon(this.scene,i.x+15,i.y,r).setScale(.35).setDepth(1),l=h.getBounds(),d=(this.scene.add.text(l.right+20,h.y,s,{color:"#fffdfa",fontFamily:"Shadow",fontSize:"20px",align:"left",wordWrap:{width:210,useAdvancedWrap:!0}}).setDepth(1).setOrigin(0,.5).setCrop(0,0,250,250),this.scene.add.sprite(i.x+370,i.y+5,o).setDepth(1).setScale(.92)),u=this.scene.add.text(d.x,d.y-5,c,{fontFamily:"Shadow",wordWrap:{width:100},color:"#fffdfa",fontSize:"16px",align:"center",shadow:{offsetX:1,offsetY:1,color:"#96580e",blur:2,fill:!0}}).setOrigin(.5).setDepth(1);this.scene.clickModalBtn({btn:d,title:u},(function(){t.onClickBtn(e)})),this.scene.add.sprite(i.x+210,i.y,"clan-window-leader-plate"),this.scene.scrollHeight+=10+l.height+10,this.scene.scrolling.bottom=this.scene.scrollHeight},e.prototype.onClickBtn=function(e){this.scene.game.scene.keys.Modal.ClanTabsWindow.removeInput(),e.isClosed?this.askJoinClosedClan(e):this.joinOpenedClan(e)},e.prototype.askJoinClosedClan=function(e){var t=this.scene.state.user.login;"web"!==this.scene.state.platform&&"gd"!==this.scene.state.platform&&"android"!==this.scene.state.platform&&(t=this.scene.state.name);Number(this.scene.state.user.avatar)>0?this.scene.state.user.avatar:this.scene.state.avatar;var i={clanId:e.id,login:t};this.scene.state.socket.io.emit("askJoinClan",i),this.scene.state.clanAvatar=e.avatar,this.scene.state.modal={type:18,clanWindowType:11,message:e.name},this.scene.scene.stop("Modal"),this.scene.scene.stop(),this.scene.scene.launch("Modal",this.scene.state)},e.prototype.joinOpenedClan=function(e){var t=this,i=this.scene.state.user.login;"web"!==this.scene.state.platform&&"gd"!==this.scene.state.platform&&"android"!==this.scene.state.platform&&(i=this.scene.state.name);var n=Number(this.scene.state.user.avatar)>0?this.scene.state.user.avatar:this.scene.state.avatar,a={userId:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter,clanId:e.id,userName:i,userAvatar:n,userStatus:this.scene.state.user.status};s.default.post("https://ferma.games:4000/acceptInviteClan",a).then((function(e){var s=e.data.result.status;e.data.error?"limit"===s&&(t.scene.state.modal={type:1,sysType:3,message:t.scene.state.lang.clanIsFull},t.scene.scene.stop(),t.scene.scene.stop("Modal"),t.scene.scene.launch("Modal",t.scene.state)):e.data.result.id&&(t.scene.state.user.clanId=e.data.result.id,t.scene.state.clan=e.data.result,t.scene.state.socket.io.emit("joinClanRoom",{clanId:t.scene.state.user.clanId}),t.scene.state.socket.io.emit("sendClanMessage",{id:t.scene.state.user.id,clanId:t.scene.state.user.clanId,message:"196ea80e3d8a8ef81b09c965d6658b7f",userName:i,userStatus:t.scene.state.user.status}),t.scene.state.amplitude.logAmplitudeEvent("clan",{type:"open_join"}),t.scene.state.modal={type:18,clanWindowType:9,message:"join"},t.scene.scene.stop("Modal"),t.scene.scene.stop(),t.scene.scene.launch("Modal",t.scene.state))}))},e.prototype.createNotFoundClans=function(){var e={x:this.scene.cameras.main.centerX-350,y:this.scene.windowHeight+this.scene.scrollHeight+20},t=this.scene.add.sprite(e.x,e.y,"tasks-bar-fix").setOrigin(0,.5);t.setDisplaySize(460,100);var i=t.getBounds();this.scene.add.text(i.centerX,i.centerY,this.scene.state.lang.clansNotFound,{fontFamily:"Shadow",wordWrap:{width:350},color:"#ff4537",fontSize:"25px",align:"center"}).setOrigin(.5);this.scene.scrollHeight+=10+t.height,this.scene.scrolling.bottom=this.scene.scrollHeight},e.prototype.createLoading=function(){var e=this,t={x:this.scene.cameras.main.centerX-120,y:this.scene.windowHeight+this.scene.scrollHeight},i=0;this.loadingText=this.scene.add.text(t.x,t.y,this.scene.state.lang.loading,{fontFamily:"Shadow",wordWrap:{width:350},color:"#ffffff",fontSize:"25px",align:"center"}).setOrigin(.5).setAlpha(.7);var s=this.scene.add.tween({targets:this.loadingText,duration:0,onLoop:function(){e.loadingText.active||s.remove(),i<4?i+=1:i=0;for(var t=e.scene.state.lang.loading,n=0;n<i;n++)t+=".";e.loadingText.active&&e.loadingText.setText(t)},loop:-1,loopDelay:150})},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(0),a=i(13),r=function(){function e(e){this.scene=e,this.init()}return e.prototype.init=function(){this.scene.scrollHeight=Number(this.scene.game.config.height)-1200+640,this.scene.scrolling.bottom=0,this.scene.scrolling.scrollY=0,this.createLoading(),this.getClanList()},e.prototype.getClanList=function(){var e=this,t={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter};s.default.post("https://ferma.games:4000/getTournamentRaitings",t).then((function(t){var i;if(1===e.scene.state.modal.clanTabType){null===(i=e.loadingText)||void 0===i||i.destroy();var s=t.data;e.place=s.place,s.raitings.forEach((function(t,i){e.createClan(t,i+1)})),e.place>s.raitings.length&&e.createUserClan()}}))},e.prototype.createLoading=function(){var e=this,t={x:this.scene.cameras.main.centerX-120,y:this.scene.windowHeight+this.scene.scrollHeight},i=0;this.loadingText=this.scene.add.text(t.x,t.y,this.scene.state.lang.loading,{fontFamily:"Shadow",wordWrap:{width:350},color:"#ffffff",fontSize:"25px",align:"center"}).setOrigin(.5).setAlpha(.7);var s=this.scene.add.tween({targets:this.loadingText,duration:0,onLoop:function(){e.loadingText.active||s.remove(),i<4?i+=1:i=0;for(var t=e.scene.state.lang.loading,n=0;n<i;n++)t+=".";e.loadingText.active&&e.loadingText.setText(t)},loop:-1,loopDelay:150})},e.prototype.createClan=function(e,t){var i={color:"#f3dcc9",fontFamily:"Shadow",fontSize:"20px",align:"center"},s={x:this.scene.cameras.main.centerX-330,y:this.scene.windowHeight+this.scene.scrollHeight+10},r=1===t?"clan-window-medal-gold":2===t?"clan-window-medal-silver":3===t?"clan-window-medal-bronze":"clan-window-medal",o=e.name,c=(e.id,e.avatar),h=e.points,l={x:t>3?s.x:s.x+2,y:t>3?s.y:s.y+2},d=(this.scene.add.sprite(l.x,l.y,r).setDepth(1),this.scene.add.text(s.x,s.y,String(t),i).setOrigin(.5).setDepth(1),a.default.createIcon(this.scene,s.x+70,s.y,c).setScale(.35).setDepth(1)),u=d.getBounds();this.scene.add.text(u.right+20,d.y,o,{color:"#fffdfa",fontFamily:"Shadow",fontSize:"20px",align:"left",wordWrap:{width:240,useAdvancedWrap:!0}}).setDepth(1).setOrigin(0,.5).setCrop(0,0,250,250),this.scene.add.text(s.x+370,s.y,n.shortNum(h),i).setDepth(1).setOrigin(0,.5);1===t&&this.scene.add.sprite(u.centerX,u.bottom+10,"clan-window-wreath").setOrigin(.5,1).setScale(.5).setDepth(1),t>3?this.scene.add.sprite(s.x-u.width/2+15,u.bottom+10,"clan-window-line").setOrigin(0,.5):this.scene.add.sprite(s.x+210,s.y,"clan-window-leader-plate"),this.scene.scrollHeight+=10+u.height+10,this.scene.scrolling.bottom=this.scene.scrollHeight},e.prototype.createUserClan=function(){var e,t={color:"#f3dcc9",fontFamily:"Shadow",fontSize:"20px",align:"center"},i={x:this.scene.cameras.main.centerX-340,y:this.scene.windowHeight+this.scene.scrollHeight+10-5},s=this.scene.state.clan,r=s.name,o=s.avatar,c=this.scene.add.text(i.x,i.y,String(this.place),t).setOrigin(0,.5).setDepth(2),h=(this.scene.add.sprite(c.getBottomCenter().x,c.y,"clan-window-medal-ns").setOrigin(.5).setDepth(1).setDisplaySize(c.displayWidth+15,32),a.default.createIcon(this.scene,c.getBounds().right+50,i.y,o).setScale(.35).setDepth(1)),l=h.getBounds(),d=(this.scene.add.text(l.right+10,h.y,r,{color:"#fffdfa",fontFamily:"Shadow",fontSize:"20px",align:"left",wordWrap:{width:220,useAdvancedWrap:!0}}).setDepth(1).setOrigin(0,.5).setCrop(0,0,250,250),null===(e=this.scene.state.clanTournamentData)||void 0===e?void 0:e.clanPoints);this.scene.add.text(i.x+370,i.y,n.shortNum(d),t).setDepth(1).setOrigin(0,.5);this.scene.add.sprite(i.x+220,i.y,"clan-window-leader-plate"),this.scene.scrollHeight+=10+l.height+10,this.scene.scrolling.bottom=this.scene.scrollHeight},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=i(0),a=function(){function e(e){this.scene=e,this.init()}return e.prototype.init=function(){this.scene.scrollHeight=Number(this.scene.game.config.height)-1200+640,this.scene.scrolling.bottom=0,this.scene.scrolling.scrollY=0,this.createLoading(),this.getUserList()},e.prototype.getUserList=function(){var e=this,t={id:this.scene.state.user.id,hash:this.scene.state.user.hash,counter:this.scene.state.user.counter};s.default.post("https://ferma.games:4000/getTournamentUserRaitings",t).then((function(t){var i;if(2===e.scene.state.modal.clanTabType){null===(i=e.loadingText)||void 0===i||i.destroy();var s=t.data;e.loadingAvatars(s.raitings).then((function(){s.raitings.forEach((function(t,i){e.createUser(t,i+1)}))}))}}))},e.prototype.loadingAvatars=function(e){var t=this;return new Promise((function(i){e&&(e.forEach((function(e){isNaN(Number(e.avatar))&&t.scene.load.image("avatar-"+e.id,e.avatar)})),t.scene.load.once(Phaser.Loader.Events.COMPLETE,(function(){i(!0)})),t.scene.load.start())}))},e.prototype.createLoading=function(){var e=this,t={x:this.scene.cameras.main.centerX-120,y:this.scene.windowHeight+this.scene.scrollHeight},i=0;this.loadingText=this.scene.add.text(t.x,t.y,this.scene.state.lang.loading,{fontFamily:"Shadow",wordWrap:{width:350},color:"#ffffff",fontSize:"25px",align:"center"}).setOrigin(.5).setAlpha(.7);var s=this.scene.add.tween({targets:this.loadingText,duration:0,onLoop:function(){e.loadingText.active||s.remove(),i<4?i+=1:i=0;for(var t=e.scene.state.lang.loading,n=0;n<i;n++)t+=".";e.loadingText.active&&e.loadingText.setText(t)},loop:-1,loopDelay:150})},e.prototype.createUser=function(e,t){var i=this,s={color:"#f3dcc9",fontFamily:"Shadow",fontSize:"20px",align:"center"},a={x:this.scene.cameras.main.centerX-330,y:this.scene.windowHeight+this.scene.scrollHeight+10},r=1===t?"clan-window-medal-gold":2===t?"clan-window-medal-silver":3===t?"clan-window-medal-bronze":"clan-window-medal",o=e.name,c=e.id,h=e.avatar,l=e.points,d=e.status,u={x:t>3?a.x:a.x+2,y:t>3?a.y:a.y+2},p=(this.scene.add.sprite(u.x,u.y,r).setDepth(1),this.scene.add.text(a.x,a.y,String(t),s).setOrigin(.5).setDepth(1)),f=Number(h),m=isNaN(f)?"avatar-"+c:"avatar-"+f,g=this.scene.textures.exists(m),y=this.scene.add.sprite(p.getBounds().right+65,a.y,"avatar-0").setScale(.63).setVisible(!1),v=new Phaser.Display.Masks.BitmapMask(this.scene,y),w=this.scene.add.sprite(y.x,y.y,m).setMask(v).setDepth(1);g||w.setTexture("avatar-0");var b=y.displayWidth/w.displayWidth,x=y.displayHeight/w.displayHeight;w.setScale(b,x);var k=w.getBounds(),T=(this.scene.add.text(k.right+20,w.y,o,{color:"#fffdfa",fontFamily:"Shadow",fontSize:"20px",align:"left",wordWrap:{width:240,useAdvancedWrap:!0}}).setDepth(1).setOrigin(0,.5).setCrop(0,0,250,250),this.scene.add.text(a.x+370,a.y,n.shortNum(l),s).setDepth(1).setOrigin(0,.5),this.scene.getStatusSettings(d));if(T){var _=w.x+20,S=w.y-20;this.scene.game.scene.keys[this.scene.state.farm].achievement.lazyLoading(d).then((function(){i.scene.add.sprite(_,S,T.iconTexture).setDepth(2).setOrigin(0,.5).setScale(.35)}))}1===t&&this.scene.add.sprite(k.centerX,k.bottom+10,"clan-window-wreath").setOrigin(.5,1).setScale(.5).setDepth(1),t>3?this.scene.add.sprite(a.x-k.width/2+15,k.bottom+10,"clan-window-line").setOrigin(0,.5):this.scene.add.sprite(a.x+210,a.y,"clan-window-leader-plate");var C=this.scene.add.zone(a.x-50,a.y,450,w.displayHeight).setOrigin(0,.5).setDropZone(void 0,(function(){}));this.scene.click(C,(function(){i.onUserPlateClick(c)})),this.scene.scrollHeight+=10+k.height+10,this.scene.scrolling.bottom=this.scene.scrollHeight},e.prototype.onUserPlateClick=function(e){this.scene.state.foreignProfileId=e!==this.scene.state.user.id?e:"",this.scene.state.modal={type:15},this.scene.scene.stop("ClanScroll"),this.scene.scene.launch("Modal",this.scene.state)},e}();t.default=a},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=i(19),o=i(13),c=i(0),h=i(4),l=i(16),d=i(1901),u=i(121),p=i(11),f={fontFamily:"Shadow",fontSize:"30px",color:"#FAEA9F"},m=function(e){function t(){var t=e.call(this,"ClanFarm")||this;return t.click=h.click.bind(t),t.clickModalBtn=h.clickModalBtn.bind(t),t.clickButton=h.clickButton.bind(t),t.loadingModal=c.loadingModal.bind(t),t}return n(t,e),t.prototype.preload=function(){this.cameras.main.setBackgroundColor("rgba(0, 0, 0, 0.5)"),this.loadingModal(),this.load.image("clan-map",p.default.clanMap),this.load.image("clan-chicken-farm",p.default.clanChickenFarm),this.load.image("clan-flagpole",p.default.clanFlagpole),this.load.image("clan-cooldown-bg",p.default.clanCooldownBg),this.load.image("factory-smoke",p.default.factorySmoke),this.load.image("clan-sheep-coin",p.default.clanSheepCoin),this.load.image("clan-chicken-coin",p.default.clanChickenCoin),this.load.image("clan-cow-coin",p.default.clanCowCoin),this.load.image("clan-diamond-coin",p.default.clanDiamondCoin),this.load.image("clan-map-event",p.default.clanEvent),this.load.image("clan-glow",p.default.clanGlow)},t.prototype.init=function(e){this.state=e,this.state.user.clanTasks.length<=0&&(this.state.user.clanTasks=l.getNewClanTasks(this.state)),this.hints=this.add.group()},t.prototype.create=function(){this.createBg(),this.createClanInfo(),this.createMain(),this.createBank(),this.createShop(),this.createClanTask(),this.createSheep(),this.createEvent(),this.createChicken(),this.createCow()},t.prototype.createBg=function(){var e=this;this.bg=this.add.sprite(0,0,"clan-map").setOrigin(0).setInteractive();var t=this.add.sprite(658,60,"close-window-btn");this.clickButton(t,(function(){e.game.scene.keys[e.state.farm].scrolling.downHandler(),e.game.scene.keys[e.state.farm].scrolling.enabled=!0,e.game.scene.keys[e.state.farm].scrolling.wheel=!0,e.scene.stop()}))},t.prototype.createClanInfo=function(){var e=this,t={color:"#fffdfa",fontFamily:"Shadow",fontSize:"24px",align:"left",shadow:{offsetX:2,offsetY:2,color:"#364f7e",blur:2,fill:!0}},i=70,s=65;if(this.currentIcon=this.state.clan.avatar,this.icon=o.default.createIcon(this,i+15,s+7,this.currentIcon).setScale(.439),this.nameText=this.add.text(i+260,s-40,this.state.clan.name,t).setOrigin(.5),this.nameText.displayWidth>380){var n=this.nameText.displayWidth/380;this.nameText.setFontSize(parseInt(t.fontSize)/n)}var a=this.state.clan.main.cooldown>0?this.state.clan.limit-1:this.state.clan.limit,r=this.state.clan.users.length+"/"+a;this.playerCountText=this.add.text(i+130,s+18,r,t).setFontSize(36).setOrigin(0,.5);this.add.sprite(i+270,s+5,"clan-diamond-coin").setScale(.4);this.diamondCountText=this.add.text(i+285,s+5,String(this.state.clan.diamond.count),t).setOrigin(0,.5);this.add.sprite(i+270,s+35,"clan-sheep-coin").setScale(.4);this.sheepCountText=this.add.text(i+285,s+35,c.shortNum(this.state.clan.sheep.money),t).setOrigin(0,.5);this.add.sprite(i+390,s+5,"clan-chicken-coin").setScale(.4);this.chickenCountText=this.add.text(i+405,s+5,c.shortNum(this.state.clan.chicken.money),t).setOrigin(0,.5);this.add.sprite(i+390,s+35,"clan-cow-coin").setScale(.4);this.cowCountText=this.add.text(i+405,s+35,c.shortNum(this.state.clan.cow.money),t).setOrigin(0,.5);var h=this.add.zone(i+65,s+5,270,140).setDropZone(void 0,(function(){})),l=this.add.zone(i+375,s+20,260,70).setDropZone(void 0,(function(){}));this.click(h,(function(){e.state.modal={type:17,clanTabType:1},e.scene.launch("Modal",e.state)})),this.click(l,(function(){e.state.modal={type:19,clanTabType:1},e.scene.launch("Modal",e.state)}))},t.prototype.createMain=function(){var e,t=this,i=390,s=300,n=this.add.zone(i,s,200,260).setDropZone(void 0,(function(){})),a=this.state.clan.main.cooldown>0?String(this.state.clan.main.level-1):String(this.state.clan.main.level);this.clanLevelText=this.add.text(i+4,s+60,a,f).setOrigin(.5),new u.default(this,{x:i+5,y:s-110}).setDepth(2);var o=this.add.zone(i+110,s+100,80,100).setDropZone(void 0,(function(){}));if(this.chatNotificator=new r.default(this,{x:i+130,y:s+65}),this.click(o,(function(){t.state.modal={type:9,chatType:3},t.scene.launch("Modal",t.state)})),this.click(n,(function(){t.state.modal={type:17,clanTabType:1},t.scene.launch("Modal",t.state)})),(null===(e=this.state.clan.main)||void 0===e?void 0:e.cooldown)>0){this.mainCooldownSprite=new d.default(this,{x:395,y:450},this.state.clan.main,"main"),this.click(this.mainCooldownSprite,(function(){t.state.modal={type:18,clanWindowType:6,message:"main"},t.scene.launch("Modal",t.state)}))}},t.prototype.createBank=function(){var e=this,t=595,i=530,s=this.add.zone(t,i,160,200).setDropZone(void 0,(function(){}));this.click(s,(function(){e.state.modal={type:19,clanTabType:1},e.scene.launch("Modal",e.state)}))},t.prototype.createShop=function(){var e=this,t=160,i=320,s=this.add.zone(t,i,155,210).setDropZone(void 0,(function(){}));if(this.click(s,(function(){e.state.modal={type:2,shopType:1},e.scene.launch("Modal",e.state)})),this.shopNotificator=new r.default(this,{x:t+60,y:i-60}),!this.state.user.starterpack&&this.state.user.takenFreeDiamonds){var n=this.add.sprite(t+55,i-50,"stock-icon").setScale(.45);this.tweens.add({targets:n,delay:2e3,props:{rotation:{duration:600,yoyo:!1,ease:"Power2",value:2*Math.PI},scale:{value:.5,ease:"Power1",duration:250,yoyo:!0}},loop:-1}),this.click(n,(function(){e.state.modal={type:2,shopType:1},e.scene.stop(),e.scene.launch("Modal",e.state)}))}},t.prototype.createClanTask=function(){var e=this,t=220,i=530,s=this.add.zone(t,i,180,180).setDropZone(void 0,(function(){}));this.taskNotificator=new r.default(this,{x:t+65,y:i-70},!0),this.click(s,(function(){e.state.modal={type:18,clanWindowType:8},e.scene.launch("Modal",e.state)}))},t.prototype.createSheep=function(){var e,t=this,i=150,s=770,n=this.state.clan.sheep.cooldown>0?String(this.state.clan.sheep.level-1):String(this.state.clan.sheep.level);this.sheepLevelText=this.add.text(i+155,s+33,n,f).setOrigin(.5);var a=this.add.zone(i,s,300,240).setDropZone(void 0,(function(){}));if(new u.default(this,{x:i+58,y:s-125}).setDepth(2),this.click(a,(function(){t.state.modal={type:18,clanWindowType:5,message:"sheep"},t.scene.launch("Modal",t.state)})),(null===(e=this.state.clan.sheep)||void 0===e?void 0:e.cooldown)>0){this.sheepCooldownSprite=new d.default(this,{x:100,y:860},this.state.clan.sheep,"sheep")}},t.prototype.createChicken=function(){var e,t=this,i=580,s=1050,n=this.add.zone(i,s,300,270).setDropZone(void 0,(function(){})),a=this.state.clan.chicken.cooldown>0?String(this.state.clan.chicken.level-1):String(this.state.clan.chicken.level);if(this.chickenLevelText=this.add.text(i-106,s+10,a,f).setOrigin(.5),new u.default(this,{x:i,y:s-175}).setDepth(2),this.click(n,(function(){t.state.modal={type:18,clanWindowType:5,message:"chicken"},t.scene.launch("Modal",t.state)})),(null===(e=this.state.clan.chicken)||void 0===e?void 0:e.cooldown)>0){this.chickenCooldownSprite=new d.default(this,{x:620,y:1130},this.state.clan.chicken,"chicken")}},t.prototype.createCow=function(){var e,t=this,i=150,s=1025,n=this.state.clan.cow.cooldown>0?String(this.state.clan.cow.level-1):String(this.state.clan.cow.level);this.cowLevelText=this.add.text(i+169,s+23,n,f).setOrigin(.5),new u.default(this,{x:i+86,y:s-150}).setDepth(2);var a=this.add.zone(i,s,300,270).setDropZone(void 0,(function(){}));if(this.click(a,(function(){t.state.modal={type:18,clanWindowType:5,message:"cow"},t.scene.launch("Modal",t.state)})),(null===(e=this.state.clan.cow)||void 0===e?void 0:e.cooldown)>0){this.cowCooldownSprite=new d.default(this,{x:120,y:1130},this.state.clan.cow,"cow")}},t.prototype.createEvent=function(){var e=this,t=580,i=720;this.add.zone(t,i,250,220).setDropZone(void 0,(function(){}));this.eventGlowSprite=this.add.sprite(t-10,i-20,"clan-glow").setAlpha(.6).setScale(.1).setVisible(!1),this.eventSprite=this.add.sprite(t,i,"clan-map-event").setVisible(!1),this.eventClanIcon=o.default.createIcon(this,t+4,i+48,this.state.clan.avatar).setScale(.23).setVisible(!1),this.eventPlace=this.add.text(t+4,i+82,"-",{fontFamily:"Shadow",fontSize:"17px",color:"#FEF4E6",stroke:"#d0875b",strokeThickness:3}).setOrigin(.5).setVisible(!1);var s=this.state.lang.lastTime+" "+c.shortTime(this.state.progress.clanEvent.endTime,this.state.lang);this.eventTime=this.add.text(t+4,i+100,s,{fontFamily:"Shadow",fontSize:"17px",color:"#dc6023"}).setOrigin(.5).setVisible(!1),this.eventGlowAli=this.tweens.add({onStart:function(){e.tweens.add({targets:e.eventGlowSprite,angle:90,duration:3e3,loop:-1})},targets:this.eventGlowSprite,scale:1.2,duration:1e3}),this.eventGlowAli.stop(),this.eventStartText=this.add.text(t-10,i+30,this.state.lang.eventStart,{fontSize:"16px",color:"#fbd0b9",fontFamily:"Shadow"}).setOrigin(.5).setDepth(1).setVisible(!1),this.eventStartTime=this.add.text(t-10,i+40,"-",{fontSize:"21px",color:"#cbff40",fontFamily:"Shadow"}).setOrigin(.5).setDepth(2).setVisible(!1),this.eventStartBg=this.add.graphics({fillStyle:{color:2833681,alpha:.5}}).fillRoundedRect(this.eventStartText.getBounds().left-25,this.eventStartText.getBounds().top-20,this.eventStartText.width+50,60).setVisible(!1),this.click(this.eventSprite,(function(){e.state.modal={type:20,clanTabType:1},e.scene.launch("Modal",e.state)}))},t.prototype.update=function(){this.state.clan?(this.updateCooldowns(),this.updateLevelText(),this.updateCountsText(),this.updatePlayerCount(),this.updateClanName(),this.updateClanIcon(),this.updateShopNotification(),this.updateTaskNotification(),this.updateEventState(),this.updateEventText(),this.updateClanChatNotification()):(this.scene.stop(),this.scene.stop("Modal"),this.scene.stop("ClanScroll"))},t.prototype.updateEventState=function(){!this.eventSprite.visible&&this.state.progress.clanEvent.startTime<=0&&this.state.progress.clanEvent.endTime>0?(this.setClanEventPlace(),this.eventSprite.setVisible(!0),this.eventGlowSprite.setVisible(!0),this.eventGlowAli.play(),this.eventClanIcon.setVisible(!0),this.eventPlace.setVisible(!0),this.eventTime.setVisible(!0),this.eventStartText.setVisible(!1),this.eventStartTime.setVisible(!1),this.eventStartBg.setVisible(!1)):!this.eventStartBg.visible&&this.state.progress.clanEvent.startTime>0&&this.state.progress.clanEvent.endTime>0?(this.eventSprite.setVisible(!1),this.eventGlowSprite.setVisible(!1),this.eventGlowAli.stop(),this.eventClanIcon.setVisible(!1),this.eventPlace.setVisible(!1),this.eventTime.setVisible(!1),this.eventStartText.setVisible(!0).setY(this.eventStartText.y-10),this.eventStartTime.setVisible(!0),this.eventStartBg.setVisible(!0)):!this.eventStartBg.visible&&this.state.progress.clanEvent.endTime<=0&&(this.eventSprite.setVisible(!1),this.eventGlowSprite.setVisible(!1),this.eventGlowAli.stop(),this.eventClanIcon.setVisible(!1),this.eventPlace.setVisible(!1),this.eventTime.setVisible(!1),this.eventStartText.setVisible(!0).setText(this.state.lang.eventEndText),this.eventStartTime.setVisible(!1),this.eventStartBg.setVisible(!0))},t.prototype.updateCountsText=function(){var e,t,i,s,n,a,r;this.diamondCountText.active&&(null===(e=this.diamondCountText)||void 0===e?void 0:e.text)!==String(this.state.clan.diamond.count)&&this.diamondCountText.setText(String(this.state.clan.diamond.count)),this.sheepCountText.active&&(null===(t=this.sheepCountText)||void 0===t?void 0:t.text)!==c.shortNum(null===(i=this.state.clan.sheep)||void 0===i?void 0:i.money)&&this.sheepCountText.setText(c.shortNum(this.state.clan.sheep.money)),this.chickenCountText.active&&(null===(s=this.chickenCountText)||void 0===s?void 0:s.text)!==c.shortNum(null===(n=this.state.clan.chicken)||void 0===n?void 0:n.money)&&this.chickenCountText.setText(c.shortNum(this.state.clan.chicken.money)),this.cowCountText.active&&(null===(a=this.cowCountText)||void 0===a?void 0:a.text)!==c.shortNum(null===(r=this.state.clan.cow)||void 0===r?void 0:r.money)&&this.cowCountText.setText(c.shortNum(this.state.clan.cow.money))},t.prototype.updateCooldowns=function(){var e,t,i,s,n,a,r,o,c=this;if((null===(e=this.state.clan.main)||void 0===e?void 0:e.cooldown)>0&&!(null===(t=this.mainCooldownSprite)||void 0===t?void 0:t.active)){var h={x:395,y:450};this.createStartCooldownAnimation(h.x,h.y-20),this.mainCooldownSprite=new d.default(this,h,this.state.clan.main,"main"),this.click(this.mainCooldownSprite,(function(){c.state.clan.ownerId===c.state.user.id&&(c.state.modal={type:18,clanWindowType:6,message:"main"},c.scene.launch("Modal",c.state))}))}if((null===(i=this.state.clan.sheep)||void 0===i?void 0:i.cooldown)>0&&!(null===(s=this.sheepCooldownSprite)||void 0===s?void 0:s.active)){h={x:100,y:860};this.createStartCooldownAnimation(h.x,h.y),this.sheepCooldownSprite=new d.default(this,h,this.state.clan.sheep,"sheep")}if((null===(n=this.state.clan.chicken)||void 0===n?void 0:n.cooldown)>0&&!(null===(a=this.chickenCooldownSprite)||void 0===a?void 0:a.active)){h={x:620,y:1130};this.createStartCooldownAnimation(h.x,h.y),this.chickenCooldownSprite=new d.default(this,h,this.state.clan.chicken,"chicken")}if((null===(r=this.state.clan.cow)||void 0===r?void 0:r.cooldown)>0&&!(null===(o=this.cowCooldownSprite)||void 0===o?void 0:o.active)){h={x:120,y:1130};this.createStartCooldownAnimation(h.x,h.y),this.cowCooldownSprite=new d.default(this,h,this.state.clan.cow,"cow")}},t.prototype.createStartCooldownAnimation=function(e,t){var i=this,s=this.add.particles("factory-smoke").setDepth(5).createEmitter({x:e-50,y:t,speed:{min:50,max:150},angle:{min:0,max:360},scale:{start:0,end:1,ease:"Back.easeOut"},alpha:{start:1,end:0,ease:"Quart.easeOut"},blendMode:"SCREEN",lifespan:2e3}).setVisible(!1),n=this.add.particles("factory-smoke").setDepth(5).createEmitter({x:e,y:t-20,speed:{min:50,max:150},angle:{min:0,max:360},scale:{start:0,end:1,ease:"Back.easeOut"},alpha:{start:1,end:0,ease:"Quart.easeOut"},blendMode:"SCREEN",lifespan:2e3}).setVisible(!1),a=this.add.particles("factory-smoke").setDepth(5).createEmitter({x:e+50,y:t,speed:{min:50,max:150},angle:{min:0,max:360},scale:{start:0,end:1,ease:"Back.easeOut"},alpha:{start:1,end:0,ease:"Quart.easeOut"},blendMode:"SCREEN",lifespan:2e3}).setVisible(!1);this.time.addEvent({delay:300,callback:function(){s.setVisible(!0),n.setVisible(!0),a.setVisible(!0),i.time.addEvent({delay:400,callback:function(){s.stop(),n.stop(),a.stop()}})}})},t.prototype.updateLevelText=function(){var e,t,i,s,n;this.state.clan.main.cooldown<=0&&(null===(e=this.clanLevelText)||void 0===e?void 0:e.active)&&((n=String(this.state.clan.main.level))!==this.clanLevelText.text&&this.clanLevelText.setText(n));this.state.clan.sheep.cooldown<=0&&(null===(t=this.sheepLevelText)||void 0===t?void 0:t.active)&&((n=String(this.state.clan.sheep.level))!==this.sheepLevelText.text&&this.sheepLevelText.setText(n));this.state.clan.chicken.cooldown<=0&&(null===(i=this.chickenLevelText)||void 0===i?void 0:i.active)&&((n=String(this.state.clan.chicken.level))!==this.chickenLevelText.text&&this.chickenLevelText.setText(n));this.state.clan.cow.cooldown<=0&&(null===(s=this.cowLevelText)||void 0===s?void 0:s.active)&&((n=String(this.state.clan.cow.level))!==this.cowLevelText.text&&this.cowLevelText.setText(n))},t.prototype.updatePlayerCount=function(){var e=this.state.clan.main.cooldown>0?this.state.clan.limit-1:this.state.clan.limit,t=this.state.clan.users.length+"/"+e;t!==this.playerCountText.text&&this.playerCountText.setText(t)},t.prototype.updateClanName=function(){if(this.nameText.text!==this.state.clan.name&&(this.nameText.setText(this.state.clan.name),this.nameText.displayWidth>380)){var e=this.nameText.displayWidth/380;this.nameText.setFontSize(parseInt(this.nameText.style.fontSize)/e)}},t.prototype.updateClanIcon=function(){if(JSON.stringify(this.currentIcon)!==JSON.stringify(this.state.clan.avatar)){this.currentIcon=this.state.clan.avatar,this.icon.destroy();var e={x:85,y:72};this.icon=o.default.createIcon(this,e.x,e.y,this.currentIcon).setScale(.439)}},t.prototype.updateShopNotification=function(){var e;null===(e=this.shopNotificator)||void 0===e||e.setVisible(this.checkFreeDiamondsNotification())},t.prototype.checkFreeDiamondsNotification=function(){return!this.state.user.takenFreeDiamonds&&(this.state.userSheep.tutorial>=100||this.state.progress.chicken.part>=1||this.state.progress.cow.part>=1)},t.prototype.updateTaskNotification=function(){var e=this.state.user.clanTasks.filter((function(e){return e.done&&!e.got_awarded})).length;this.taskNotificator.setCount(e)},t.prototype.updateClanChatNotification=function(){this.chatNotificator.setCount(this.state.clanChatNotificationCount)},t.prototype.updateEventText=function(){if(this.eventTime.visible){var e=this.state.lang.lastTime+" "+c.shortTime(this.state.progress.clanEvent.endTime,this.state.lang);this.eventTime.text!==e&&this.eventTime.setText(e)}if(this.eventPlace.visible&&this.state.clanEventPlace){var t=this.state.clanEventPlace+" "+this.state.lang.eventPlace;this.eventPlace.text!==t&&this.eventPlace.setText(t)}if(this.eventStartTime.visible){e=c.shortTime(this.state.progress.clanEvent.startTime,this.state.lang);this.eventStartTime.text!==e&&this.eventStartTime.setText(e)}if(this.eventClanIcon.visible){var i=this.state.clan.avatar,s=i.bg,n=i.frame,a=i.icon;if(this.eventClanIcon.texture!=="clan-texture-"+s+"-"+n+"-"+a){var r={x:580,y:720};this.eventClanIcon.destroy(),this.eventClanIcon=o.default.createIcon(this,r.x+4,r.y+48,this.state.clan.avatar).setScale(.23)}}},t.prototype.setClanEventPlace=function(){var e=this,t={id:this.state.user.id,hash:this.state.user.hash,counter:this.state.user.counter};a.default.post("https://ferma.games:4000/getTournamentClanPlace",t).then((function(t){var i=t.data,s=i.error,n=i.place;s||e.state.clanEventPlace!==n&&(e.state.clanEventPlace=n)}))},t}(Phaser.Scene);t.default=m},function(e,t,i){"use strict";var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=i(6),o=function(e){function t(t,i,s,n){var a=e.call(this,t,i.x,i.y,"clan-cooldown-bg")||this;return a.building=s,a.type=n,a.create(),a}return n(t,e),t.prototype.create=function(){this.scene.add.existing(this),this.timer=this.scene.add.text(this.x-7,this.y-12,a.shortTime(this.building.cooldown,this.scene.state.lang),{fontSize:"24px",fontFamily:"Shadow",color:"#F0F1DC",shadow:{offsetX:1,offsetY:2,color:"rgba(0, 0, 0, 0.5)",blur:2,fill:!0}}).setOrigin(.5)},t.prototype.preUpdate=function(t,i){if(e.prototype.preUpdate.call(this,t,i),this.checkDestroy())this.active&&(r.default.create(this.scene,{x:this.x,y:this.y-50},5),this.destroy());else{var s=a.shortTime(this.building.cooldown,this.scene.state.lang);this.timer.text!==s&&this.timer.setText(s)}},t.prototype.checkDestroy=function(){if(this.scene.state.clan)return this.scene.state.clan[this.type].cooldown<=0},t.prototype.destroy=function(){var t;e.prototype.destroy.call(this),null===(t=this.timer)||void 0===t||t.destroy()},t}(Phaser.GameObjects.Sprite);t.default=o}]);